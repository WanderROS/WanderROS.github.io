<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Algorithm Instances-0</title>
    <url>/2020/04/27/Algorithm-Instances-0/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>ç®—æ³•ä¸€ç›´éƒ½è®©äººè¯Ÿç—…ï¼Œæ²¡åŠæ³•ï¼Œç¡®å®çœŸçš„å¾ˆéš¾ï¼Œä½†æ˜¯ä¹Ÿå¾ˆæœ‰æ„æ€ï¼Œè¿™é‡Œçš„ç®—æ³•åªèƒ½è¯´æ˜¯ä¸ºäº†å­¦ä¹ ç®—æ³•è€Œç®—æ³•ï¼Œåªæ˜¯å¯èƒ½æ˜¯ä¸€äº›ç¬”è¯•é¢˜çš„ç®—æ³•é¢˜ï¼Œä¸ä¸€å®šæœ‰å®ç”¨æ€§ï¼Œåé¢æ·±å…¥è¿˜æ˜¯å†™è§£å†³å®é™…é—®é¢˜çš„ç®—æ³•ï¼Œè¿™é‡Œä¸»è¦æ˜¯é”»ç‚¼å†™ç®—æ³•çš„æ€ç»´ï¼åŸºç¡€çŸ¥è¯†å†³å®šäº†æŠ€æœ¯é«˜åº¦ï¼Œæƒ³è¦å¿«é€Ÿåšå‡ºç‚¹äº‹æƒ…ï¼Œå‰ææ¡ä»¶å°±æ˜¯åŸºç¡€èƒ½åŠ›è¿‡ç¡¬ï¼<strong><em>æ¨èä¹¦ç±ï¼šã€Šç¨‹åºå‘˜çš„ç®—æ³•è¶£é¢˜ã€‹Â· [æ—¥] å¢äº•æ•å…‹è‘— ç»äº‘è¯‘</em></strong></p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="å›æ–‡æ•°å­—"><a href="#å›æ–‡æ•°å­—" class="headerlink" title="å›æ–‡æ•°å­—"></a>å›æ–‡æ•°å­—</h2><ol>
<li><p>ä»€ä¹ˆæ˜¯å›æ–‡æ•°ï¼Ÿä¸çŸ¥é“å°±å»ç™¾åº¦å§ï¼</p>
</li>
<li><p><strong>é—®é¢˜ï¼š</strong>æ±‚ç”¨åè¿›åˆ¶ã€äºŒè¿›åˆ¶ã€å…«è¿›åˆ¶è¡¨ç¤ºéƒ½æ˜¯å›æ–‡æ•°çš„æ‰€æœ‰æ•°å­—ä¸­ï¼Œ å¤§äºåè¿›åˆ¶æ•° 10 çš„æœ€å°å€¼ï¼›</p>
</li>
<li><p>æ€è€ƒï¼šçœ‹åˆ°è¿™äº›é¢˜ç›®çš„æ—¶å€™ï¼Œä½ æ˜¯ä¸æ˜¯è§‰å¾—å¾ˆç®€å•å•Šï¼Œä½†æ˜¯æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯ä½ æ€è€ƒäº†å—ï¼ŸğŸ¤”çš„å¤Ÿäº†å—ï¼Ÿç„¶åå°±æ˜¯ä½ æœ‰æ²¡æœ‰è€ƒè™‘åˆ°ä¸€äº›ä¼˜åŒ–çš„ç‚¹ï¼Œæ¯”å¦‚å›æ–‡æ•°å­—ï¼Œé«˜ä½ä¸å¯èƒ½æœ‰0ï¼Œé‚£ä¹ˆè¿™ä¸ªæ•°å­—è‚¯å®šä¸æ˜¯å¶æ•°ï¼Œå¶æ•°ç›´æ¥å°±æ’é™¤äº†ï¼Œç„¶åä½ çš„ç®—æ³•å°±å¯ä»¥ä¼˜åŒ–å¾ˆå¤šï¼</p>
</li>
<li><p>ä½œä¸ºå®é™…å¼€å‘ï¼Œèƒ½ç”¨å†…éƒ¨åº“å°±ä¸è¦è‡ªå·±å®ç°ï¼Œä¸»è¦å°±æ˜¯é€»è¾‘ä¸Šçš„å®ç°ï¼Œè¿™æ ·ä½ å†™å‡ºçš„ä»£ç å°±ä¸ä¼šé‡å¤é€ è½®å­ï¼</p>
</li>
<li><p>ä»£ç ï¼ˆæ²¡æ³¨é‡Šï¼Œä½†æ˜¯å¾ˆå®¹æ˜“çœ‹æ‡‚å•Šï¼ï¼‰ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">reverseequs</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">isrevequals</span><span class="params">(<span class="keyword">int</span> num)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> ((num % <span class="number">2</span>) == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            String str10 = Integer.toString(num, <span class="number">10</span>);</span><br><span class="line">            StringBuffer sb = <span class="keyword">new</span> StringBuffer(str10);</span><br><span class="line">            <span class="comment">//  System.out.println(str10+" "+sb.reverse());</span></span><br><span class="line">            <span class="keyword">if</span> (!str10.equals(sb.reverse().toString())) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                String str02 = Integer.toString(num, <span class="number">2</span>);</span><br><span class="line">                sb = <span class="keyword">new</span> StringBuffer(str02);</span><br><span class="line">                <span class="comment">// System.out.println(str02+" "+sb.reverse());</span></span><br><span class="line">                <span class="keyword">if</span> (!str02.equals(sb.reverse().toString())) &#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    String str08 = Integer.toString(num, <span class="number">8</span>);</span><br><span class="line">                    sb = <span class="keyword">new</span> StringBuffer(str08);</span><br><span class="line">                    <span class="comment">//    System.out.println(str08+" "+sb.reverse());</span></span><br><span class="line">                    <span class="keyword">if</span> (!str08.equals(sb.reverse().toString())) &#123;</span><br><span class="line">                        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">                    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">10</span>; i &lt; <span class="number">1000</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (isrevequals(i)) &#123;</span><br><span class="line">                System.out.println(i);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>å„ç§è¯­è¨€çš„è½¬æ¢æ¥å£ï¼š</p>
</li>
</ol>
<table>
<thead>
<tr>
<th>è¯­è¨€</th>
<th>äºŒè¿›åˆ¶æ•°</th>
<th>å…«è¿›åˆ¶æ•°</th>
<th>åå…­è¿›åˆ¶æ•°</th>
</tr>
</thead>
<tbody><tr>
<td>Ruby</td>
<td>to_s(2)</td>
<td>to_s(8)</td>
<td>to_s(16)</td>
</tr>
<tr>
<td>PHP</td>
<td>decbin</td>
<td>decoct</td>
<td>dechex</td>
</tr>
<tr>
<td>Python</td>
<td>bin</td>
<td>oct</td>
<td>hex</td>
</tr>
<tr>
<td>JavaScript</td>
<td>toString(2)</td>
<td>toString(8)</td>
<td>toString(16)</td>
</tr>
<tr>
<td>Java</td>
<td>toBinaryString</td>
<td>toOctalString</td>
<td>toHexString</td>
</tr>
<tr>
<td>C#</td>
<td>Convert.ToString</td>
<td>Convert.ToString</td>
<td>Convert.ToString;ToString(â€œXâ€)</td>
</tr>
</tbody></table>
<ol start="7">
<li><strong>å†™ä»£ç çš„æ—¶å€™ä¸€å®šè¦æ³¨æ„ä½ ç”¨çš„å‡½æ•°æ˜¯å¦æ˜¯æ­£ç¡®çš„ï¼Œå¦åˆ™å¯èƒ½æ€ç»´æ˜¯æ­£ç¡®çš„ï¼Œä½†æ˜¯å¾—ä¸åˆ°æ­£ç¡®çš„ç»“æœï¼</strong></li>
</ol>
<h2 id="æ•°åˆ—çš„å››åˆ™è¿ç®—"><a href="#æ•°åˆ—çš„å››åˆ™è¿ç®—" class="headerlink" title="æ•°åˆ—çš„å››åˆ™è¿ç®—"></a>æ•°åˆ—çš„å››åˆ™è¿ç®—</h2><ol>
<li><p>æè¿°ï¼šåœ¨ä¸€ä¸ªæ•°å­—ä¸­æ’å…¥åŠ å‡ä¹˜é™¤ç®—æ•°ç¬¦å·ï¼Œè®¡ç®—å¾—åˆ°çš„ç»“æœæ˜¯åŸæ•°å­—çš„é€†åºï¼›</p>
</li>
<li><p>è¦æ±‚ï¼šæ±‚ä½äº1000~9999ä¸­æ»¡è¶³ä¸Šè¿°è¦æ±‚çš„æ•°ï¼›</p>
</li>
<li><p>å¯ä»¥è€ƒè™‘å†…ç½®çš„è®¡ç®—å‡½æ•°ï¼›</p>
</li>
<li><p>ç®—æ³•å®ç°ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> javax.script.ScriptEngine;</span><br><span class="line"><span class="keyword">import</span> javax.script.ScriptEngineManager;</span><br><span class="line"><span class="keyword">import</span> javax.script.ScriptException;</span><br><span class="line"></span><br><span class="line">public <span class="class"><span class="keyword">class</span> <span class="title">seqcompose</span> </span>&#123;</span><br><span class="line">    public <span class="keyword">static</span> <span class="keyword">void</span> main(<span class="built_in">String</span>[] args) throws ScriptException &#123;</span><br><span class="line">        computeGet();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public <span class="keyword">static</span> <span class="keyword">void</span> computeGet() throws ScriptException &#123;</span><br><span class="line">        ScriptEngineManager manager = <span class="keyword">new</span> ScriptEngineManager();</span><br><span class="line">        ScriptEngine se = manager.getEngineByName(<span class="string">"js"</span>);</span><br><span class="line">        <span class="built_in">String</span>[] op = &#123;<span class="string">"+"</span>, <span class="string">"-"</span>, <span class="string">"*"</span>, <span class="string">"/"</span>, <span class="string">""</span>&#125;;</span><br><span class="line">        <span class="built_in">String</span> input;</span><br><span class="line">        <span class="built_in">String</span> output;</span><br><span class="line">        StringBuilder sb;</span><br><span class="line">        <span class="keyword">for</span> (int i = <span class="number">1000</span>; i &lt;= <span class="number">9999</span>; ++i) &#123;</span><br><span class="line"></span><br><span class="line">            output = <span class="literal">null</span>;</span><br><span class="line">            <span class="comment">//è½¬æ¢æˆå­—ç¬¦ä¸²å¤„ç†</span></span><br><span class="line">            input = Integer.toString(i);</span><br><span class="line">            <span class="keyword">for</span> (int j = <span class="number">0</span>; j &lt; op.length; ++j) &#123;</span><br><span class="line">                <span class="keyword">for</span> (int k = <span class="number">0</span>; k &lt; op.length; ++k) &#123;</span><br><span class="line">                    <span class="keyword">for</span> (int l = <span class="number">0</span>; l &lt; op.length; ++l) &#123;</span><br><span class="line">                        output = input.charAt(<span class="number">0</span>) + op[j] + input.charAt(<span class="number">1</span>) + op[k] + input.charAt(<span class="number">2</span>) + op[l] + input.charAt(<span class="number">3</span>);</span><br><span class="line">                        <span class="comment">//System.out.println(output);</span></span><br><span class="line">                        <span class="keyword">if</span> (output.length() &gt; <span class="number">4</span>) &#123;</span><br><span class="line">                            sb = <span class="keyword">new</span> StringBuilder(input);</span><br><span class="line">                            <span class="comment">//System.out.println(input+" "+ sb.reverse().toString()+" "+output + " "+se.eval(output));</span></span><br><span class="line">                            <span class="keyword">if</span> (sb.reverse().toString().equals(se.eval(output).toString())) &#123;</span><br><span class="line">                                System.out.println(input);</span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>æ¯”è¾ƒä¸¥é‡çš„é—®é¢˜ï¼šç®—æ³•çš„æ‰§è¡Œæ€§æ•ˆç‡éå¸¸ä½ï¼</strong></p>
</li>
<li><p>æœ‰æ²¡æœ‰ä»€ä¹ˆä¼˜åŒ–çš„æ–¹æ³•ï¼Ÿï¼Ÿï¼Ÿ</p>
</li>
</ol>
<h2 id="ç¿»ç‰Œ"><a href="#ç¿»ç‰Œ" class="headerlink" title="ç¿»ç‰Œ"></a>ç¿»ç‰Œ</h2><ol>
<li><p>æè¿°ï¼š100å¼ å†™ç€æ•°å­—1~100çš„ç‰Œï¼Œå¹¶æŒ‰é¡ºåºæ’åˆ—ç€ï¼Œæœ€å¼€å§‹æ‰€æœ‰äººéƒ½æ˜¯èƒŒé¢æœä¸Šæ”¾ç½®ï¼Œç„¶åæŸä¸ªäººä»ç¬¬2å¼ ç‰Œå¼€å§‹ï¼Œéš” 1 å¼ ç‰Œç¿»ç‰Œã€‚ç„¶åç¬¬ 2,4, 6, â€¦, 100 å¼ ç‰Œå°±ä¼šå˜æˆæ­£é¢æœä¸Šï¼Œæ¥ä¸‹æ¥çš„äººä»ç¬¬3å¼ ç‰Œå¼€å§‹ï¼Œéš”2å¼ ç¿»ç‰Œï¼Œç„¶åç¬¬4ä¸ªäººä»ç¬¬4å¼ å¼€å§‹ï¼Œéš”3å¼ ç‰Œç¿»ï¼Œä»¥æ­¤ç±»æ¨ï¼›</p>
</li>
<li><p>è¦æ±‚ï¼šæ±‚å½“æ‰€æœ‰ç‰Œä¸å†å˜åŠ¨æ—¶ï¼Œæ‰€æœ‰èƒŒé¢æœä¸Šçš„ç‰Œçš„æ•°å­—ï¼›</p>
</li>
<li><p>æ³¨æ„ï¼šè¿™é‡Œçœ‹äº†ä¹‹åç›´æ¥è¿›è¡Œäº†ç¼–ç¨‹ï¼Œå› ä¸ºé¢˜ç›®ç›¸å¯¹æ¯”è¾ƒç®€å•ï¼Œä½†æ˜¯å‡ºç°äº†ç»“æœä¸å¯¹ï¼Œå› ä¸ºéš”ç€çš„ç†è§£é—®é¢˜ï¼Œ<strong>å®¡é¢˜æˆ–è€…çœ‹éœ€æ±‚è¿›è¡Œç¼–ç¨‹éå¸¸é‡è¦ï¼</strong></p>
</li>
<li><p>ä»£ç ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author <span class="variable">wander</span></span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">public <span class="class"><span class="keyword">class</span> <span class="title">flipCards</span> </span>&#123;</span><br><span class="line">    public <span class="keyword">static</span> <span class="keyword">void</span> main(<span class="built_in">String</span>[] args) &#123;</span><br><span class="line">        Flip();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public <span class="keyword">static</span> <span class="keyword">void</span> Flip() &#123;</span><br><span class="line">        <span class="comment">// åˆå§‹åŒ–ç‰Œ</span></span><br><span class="line">        boolean[] cards = <span class="keyword">new</span> boolean[<span class="number">101</span>];</span><br><span class="line">        <span class="keyword">for</span> (int i = <span class="number">0</span>; i &lt; cards.length; ++i) &#123;</span><br><span class="line">            cards[i] = <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (int i = <span class="number">2</span>; i &lt; cards.length; i += <span class="number">2</span>) &#123;</span><br><span class="line">            cards[i] = <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (int i = <span class="number">3</span>; i &lt; cards.length; ++i) &#123;</span><br><span class="line">            <span class="keyword">for</span> (int j = i; j &lt; cards.length; j += i) &#123;</span><br><span class="line">                cards[j] = !cards[j];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (int i = <span class="number">1</span>; i &lt; cards.length; ++i) &#123;</span><br><span class="line">            <span class="keyword">if</span> (cards[i] == <span class="literal">false</span>) &#123;</span><br><span class="line">                System.out.println(i);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h2 id="åˆ‡åˆ†æœ¨æ£’"><a href="#åˆ‡åˆ†æœ¨æ£’" class="headerlink" title="åˆ‡åˆ†æœ¨æ£’"></a>åˆ‡åˆ†æœ¨æ£’</h2><ol>
<li><p>æè¿°ï¼šå‡è®¾è¦æŠŠé•¿åº¦ä¸º n å˜ç±³çš„æœ¨æ£’åˆ‡åˆ†ä¸º 1 å˜ç±³é•¿çš„å°æ®µï¼Œä½†æ˜¯ 1 æ ¹æœ¨æ£’åªèƒ½ç”± 1 äººåˆ‡åˆ†ï¼Œå½“æœ¨æ£’è¢«åˆ‡åˆ†ä¸ºm=3 æ®µåï¼Œå¯ä»¥åŒæ—¶ç”± 3 ä¸ªäººåˆ†åˆ«åˆ‡åˆ†æœ¨æ£’ï¼›</p>
</li>
<li><p>è¦æ±‚ï¼šæ±‚å½“ n ï¼ 20ï¼Œm ï¼ 3 æ—¶çš„æœ€å°‘åˆ‡åˆ†æ¬¡æ•°ï¼› æ±‚å½“ n ï¼ 100ï¼Œm ï¼ 5 æ—¶çš„æœ€å°‘åˆ‡åˆ†æ¬¡æ•°ï¼›</p>
</li>
<li><p>æ€è·¯å°±æ˜¯å°½å¯èƒ½å¤šçš„ç”¨äººï¼Œæ¯ä¸ªç¯èŠ‚èƒ½ç”¨å…¨éƒ¨çš„äººç»å¯¹ä¸å°‘ç”¨ï¼Œé€†å‘æ€ç»´ï¼Œåå‘é»è´´æœ¨æ£’ï¼›</p>
</li>
<li><p>ä»£ç ï¼ˆJavaScriptï¼‰ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">CutLogs</span>(<span class="params">LogLength,personNums</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">var</span> arr = <span class="keyword">new</span> <span class="built_in">Array</span>(LogLength).fill(<span class="number">1</span>);</span><br><span class="line">   <span class="keyword">var</span> count_cut=<span class="number">0</span>;</span><br><span class="line">   <span class="keyword">while</span>(arr.length&gt;<span class="number">1</span>)</span><br><span class="line">   &#123;</span><br><span class="line">       <span class="keyword">var</span> arr_stick=[];</span><br><span class="line">       <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;(i&lt;personNums) &amp;&amp;(arr.length&gt;<span class="number">1</span>);++i)</span><br><span class="line">       &#123;</span><br><span class="line">           arr_stick[i]=arr[<span class="number">0</span>]+arr[<span class="number">1</span>];</span><br><span class="line">           arr.shift();</span><br><span class="line">           arr.shift();</span><br><span class="line">       &#125;</span><br><span class="line">     <span class="comment">//  console.log('arr : ' + arr);</span></span><br><span class="line">       count_cut++;</span><br><span class="line">       <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;arr_stick.length;++i)</span><br><span class="line">       &#123;</span><br><span class="line">           arr.push(arr_stick[i]);</span><br><span class="line">       &#125;</span><br><span class="line"></span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">return</span> count_cut;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> num=CutLogs(<span class="number">100</span>,<span class="number">5</span>);</span><br><span class="line">    <span class="built_in">console</span>.log(num);</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h2 id="å…‘æ¢ç¡¬å¸"><a href="#å…‘æ¢ç¡¬å¸" class="headerlink" title="å…‘æ¢ç¡¬å¸"></a>å…‘æ¢ç¡¬å¸</h2><ol>
<li><p>ä»¥å®‰ç½®åœ¨å…¬äº¤ä¸Šçš„é›¶é’±å…‘æ¢æœºä¸ºèƒŒæ™¯ï¼Œè¿™ä¸ªæœºå™¨å¯ä»¥ç”¨çº¸å¸å…‘æ¢åˆ° 10 æ—¥å…ƒã€50 æ—¥å…ƒã€100 æ—¥å…ƒå’Œ 500 æ—¥å…ƒç¡¬å¸çš„ç»„åˆï¼Œä¸”æ¯ç§ç¡¬å¸çš„æ•°é‡éƒ½è¶³å¤Ÿå¤šï¼Œå…‘æ¢æ—¶ï¼Œå…è®¸æœºå™¨å…‘æ¢å‡ºæœ¬æ¬¡æ”¯ä»˜æ—¶ç”¨ä¸åˆ°çš„ç¡¬å¸ï¼Œå¹¶ä¸”åªå…è®¸æœºå™¨æœ€å¤šå…‘æ¢å‡º 15 æšç¡¬å¸ï¼›</p>
</li>
<li><p>è¦æ±‚ï¼šæ±‚å…‘æ¢ 1000 æ—¥å…ƒçº¸å¸æ—¶ä¼šå‡ºç°å¤šå°‘ç§ç»„åˆï¼Ÿæ³¨æ„ï¼Œä¸è®¡ç¡¬å¸å…‘å‡ºçš„å…ˆåé¡ºåºï¼›</p>
</li>
<li><p>ä»£ç ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">exchangeCoins</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">exCoins</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> [] coins=&#123;<span class="number">500</span>,<span class="number">100</span>,<span class="number">50</span>,<span class="number">10</span>&#125;;</span><br><span class="line">        <span class="keyword">int</span> count=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;=<span class="number">15</span>;++i)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;=<span class="number">15</span>;++j)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> k=<span class="number">0</span>;k&lt;=<span class="number">15</span>;++k)</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="keyword">for</span>(<span class="keyword">int</span> l=<span class="number">0</span>;l&lt;=<span class="number">15</span>;++l)</span><br><span class="line">                    &#123;</span><br><span class="line">                        <span class="keyword">if</span>(coins[<span class="number">0</span>]*i+coins[<span class="number">1</span>]*j+coins[<span class="number">2</span>]*k+coins[<span class="number">3</span>]*l==<span class="number">1000</span>&amp;&amp;i+k+l+j&lt;=<span class="number">15</span>)</span><br><span class="line">                        &#123;</span><br><span class="line">                            count++;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(count);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        exCoins();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ²¡ä»€ä¹ˆéš¾åº¦çš„ä»£ç ï¼Œä½†æ˜¯å†™å‡ºè¿™ç§ä»£ç ï¼Œä¸ªäººè§‰å¾—å¥½æ¶å¿ƒï¼</p>
</li>
</ol>
<h2 id="æ”¹ç‰ˆ-è€ƒæ‹‰å…¹çŒœæƒ³"><a href="#æ”¹ç‰ˆ-è€ƒæ‹‰å…¹çŒœæƒ³" class="headerlink" title="(æ”¹ç‰ˆ)è€ƒæ‹‰å…¹çŒœæƒ³"></a>(æ”¹ç‰ˆ)è€ƒæ‹‰å…¹çŒœæƒ³</h2><ol>
<li><p>è€ƒæ‹‰å…¹çŒœæƒ³ï¼šå¯¹è‡ªç„¶æ•° n å¾ªç¯æ‰§è¡Œå¦‚ä¸‹æ“ä½œ</p>
<ul>
<li>n æ˜¯å¶æ•°æ—¶ï¼Œç”¨ n é™¤ä»¥ 2</li>
<li>n æ˜¯å¥‡æ•°æ—¶ï¼Œç”¨ n ä¹˜ä»¥ 3 ååŠ  1</li>
<li>å¦‚æ­¤å¾ªç¯æ“ä½œçš„è¯ï¼Œ æ— è®ºåˆå§‹å€¼æ˜¯ä»€ä¹ˆæ•°å­—ï¼Œ æœ€ç»ˆéƒ½ä¼šå¾—åˆ° 1ï¼ˆä¼šè¿›å…¥1 â†’ 4 â†’ 2 â†’ 1 è¿™ä¸ªå¾ªç¯ï¼‰ï¼›</li>
</ul>
</li>
<li><p>ä¿®æ”¹éœ€æ±‚ï¼Œåˆå§‹å€¼å‡è®¾ä¸ºå¶æ•°ï¼Œä¹Ÿç”¨n ä¹˜ä»¥ 3 ååŠ  1ï¼Œä½†åªæ˜¯åœ¨ç¬¬ä¸€æ¬¡è¿™æ ·æ“ä½œï¼Œåé¢çš„å¾ªç¯æ“ä½œä¸å˜ï¼›</p>
</li>
<li><p>è¦æ±‚ï¼šæ±‚åœ¨å°äº 10000 çš„å¶æ•°ä¸­ï¼Œåƒä¸Šè¿°çš„ 2 æˆ–è€… 4 è¿™æ ·â€œèƒ½å›åˆ°åˆå§‹å€¼çš„æ•°â€æœ‰å¤šå°‘ä¸ªï¼Ÿ</p>
</li>
<li><p>åˆ†æï¼šè¿™ä¸ªæ•°å¦‚æœè¿›å…¥1 â†’ 4 â†’ 2 â†’ 1 è¿™æ ·çš„å¾ªç¯çš„è¯ï¼Œé‚£å®ƒè‚¯å®šä¸ç¬¦åˆè¦æ±‚ï¼Œå› æ­¤æ˜¯åˆ¤æ–­ä¸€ä¸ªæ•°æ˜¯ä¸æ˜¯è€ƒæ‹‰å…¹çŒœæƒ³ä¿®æ”¹ç‰ˆçš„ç»“æŸæ¡ä»¶ï¼Œç„¶ååˆ¤æ–­å€¼æœ‰æ²¡æœ‰å›åˆ°åˆå§‹å€¼ï¼Œå›åˆ°äº†åˆ™æ˜¯è€ƒæ‹‰å…¹æ”¹ç‰ˆæ•°ï¼›</p>
</li>
<li><p>ä»£ç ï¼ˆjavaï¼‰ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">KaolaziGuess</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Kaolazi</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> count=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">2</span>;i&lt;=<span class="number">10000</span>;i+=<span class="number">2</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">int</span> temp=i*<span class="number">3</span>+<span class="number">1</span>;</span><br><span class="line">            <span class="keyword">while</span>(temp!=<span class="number">1</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>(temp%<span class="number">2</span>==<span class="number">0</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    temp=temp&gt;&gt;<span class="number">1</span>;</span><br><span class="line">                &#125;<span class="keyword">else</span></span><br><span class="line">                &#123;</span><br><span class="line">                    temp=temp*<span class="number">3</span>+<span class="number">1</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span>(temp==<span class="number">1</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;<span class="keyword">else</span> <span class="keyword">if</span>(temp==i)</span><br><span class="line">                &#123;</span><br><span class="line">                    count++;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(count);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Kaolazi();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>è¾“å‡ºç»“æœï¼š34</p>
</li>
</ol>
<h2 id="æ—¥æœŸçš„äºŒè¿›åˆ¶è½¬æ¢"><a href="#æ—¥æœŸçš„äºŒè¿›åˆ¶è½¬æ¢" class="headerlink" title="æ—¥æœŸçš„äºŒè¿›åˆ¶è½¬æ¢"></a>æ—¥æœŸçš„äºŒè¿›åˆ¶è½¬æ¢</h2><ol>
<li><p>æŠŠå¹´æœˆæ—¥è¡¨ç¤ºä¸º YYYYMMDD è¿™æ ·çš„ 8 ä½æ•´æ•°ï¼Œ ç„¶åæŠŠè¿™ä¸ªæ•´æ•°è½¬æ¢æˆäºŒè¿›åˆ¶æ•°å¹¶ä¸”é€†åºæ’åˆ—ï¼Œå†æŠŠå¾—åˆ°çš„äºŒè¿›åˆ¶æ•°è½¬æ¢æˆåè¿›åˆ¶æ•°ï¼Œæ±‚ä¸åŸæ—¥æœŸä¸€è‡´çš„æ—¥æœŸï¼›</p>
</li>
<li><p>è¦æ±‚ï¼šæ±‚å¾—çš„æ—¥æœŸè¦åœ¨ä¸Šä¸€æ¬¡ä¸œäº¬å¥¥è¿ä¼šï¼ˆ1964 å¹´ 10 æœˆ 10 æ—¥ï¼‰åˆ°ä¸‹ä¸€æ¬¡ä¸œäº¬å¥¥è¿ä¼šï¼ˆé¢„å®šä¸¾åŠæ—¥æœŸä¸º 2020 å¹´ 7 æœˆ 24 æ—¥ï¼‰ä¹‹é—´ï¼›</p>
</li>
<li><p>ä»£ç ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.text.SimpleDateFormat;</span><br><span class="line"><span class="keyword">import</span> java.util.Calendar;</span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DateBinary</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">DateReverseSame</span><span class="params">()</span></span>&#123;</span><br><span class="line">        String binaryDate,reverseBinary;</span><br><span class="line">        StringBuffer sb;</span><br><span class="line">        Date date = <span class="keyword">new</span> Date(<span class="number">64</span>, Calendar.OCTOBER,<span class="number">10</span>);</span><br><span class="line">        SimpleDateFormat simpleDateFormat = <span class="keyword">new</span> SimpleDateFormat(<span class="string">"yyyyMMdd"</span>);</span><br><span class="line">        Date dateEnd = <span class="keyword">new</span> Date(<span class="number">120</span>,Calendar.JULY,<span class="number">24</span>);</span><br><span class="line">       <span class="comment">// date.setDate(date.getDate()+1);</span></span><br><span class="line">       <span class="comment">// date.setDate(date.getDate()+1);</span></span><br><span class="line">       <span class="comment">// date.setDate(date.getDate()+1);</span></span><br><span class="line"></span><br><span class="line">        Long num;</span><br><span class="line">        <span class="keyword">for</span>(;;)</span><br><span class="line">        &#123;</span><br><span class="line">            num=Long.parseLong(simpleDateFormat.format(date),<span class="number">10</span>);</span><br><span class="line">           <span class="comment">// System.out.println(num);</span></span><br><span class="line">            <span class="keyword">if</span>(num&gt;<span class="number">20200724</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            binaryDate=Long.toBinaryString(num);</span><br><span class="line">            sb=<span class="keyword">new</span> StringBuffer(binaryDate);</span><br><span class="line">            reverseBinary=sb.reverse().toString();</span><br><span class="line">           <span class="comment">// System.out.println(binaryDate);</span></span><br><span class="line">           <span class="comment">// System.out.println(Long.parseLong(reverseBinary,2));</span></span><br><span class="line">            <span class="keyword">if</span>(Long.parseLong(reverseBinary,<span class="number">2</span>)==num)</span><br><span class="line">            &#123;</span><br><span class="line">                System.out.println(num);</span><br><span class="line">            &#125;</span><br><span class="line">            date.setDate(date.getDate()+<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        DateReverseSame();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>è¾“å‡ºç»“æœï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="number">19660713</span></span><br><span class="line"><span class="number">19660905</span></span><br><span class="line"><span class="number">19770217</span></span><br><span class="line"><span class="number">19950617</span></span><br><span class="line"><span class="number">20020505</span></span><br><span class="line"><span class="number">20130201</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>æ³¨æ„ï¼šéœ€è¦æ³¨æ„æ—¶é—´ï¼Œè¿™é‡Œç›´æ¥ä½¿ç”¨äº†Javaçš„æ—¶é—´åº“ï¼Œé‡Œé¢çš„å‡½æ•°æœ‰æŠ›å¼ƒï¼Œä½†æ˜¯è¿™æ ·ç›¸å¯¹ç®€å•ï¼</p>
</li>
</ol>
<h2 id="è½®ç›˜çš„æœ€å¤§å€¼"><a href="#è½®ç›˜çš„æœ€å¤§å€¼" class="headerlink" title="è½®ç›˜çš„æœ€å¤§å€¼"></a>è½®ç›˜çš„æœ€å¤§å€¼</h2><ol>
<li><p>æµä¼ è¾ƒå¹¿çš„è½®ç›˜æ•°å­—æ’å¸ƒå’Œè®¾è®¡æœ‰â€œæ¬§å¼è§„åˆ™â€å’Œâ€œç¾å¼è§„åˆ™â€ä¸¤ç§ã€‚ä¸‹é¢æˆ‘ä»¬è¦æ‰¾å‡ºâ€œè¿ç»­ n ä¸ªæ•°å­—çš„å’Œâ€æœ€å¤§çš„ä½ç½®ï¼›</p>
</li>
<li><p>æ¬§å¼è§„åˆ™å’Œç¾å¼è§„åˆ™ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">int</span> [] arrAmer=&#123;<span class="number">0</span>, <span class="number">32</span>, <span class="number">15</span>, <span class="number">19</span>, <span class="number">4</span>, <span class="number">21</span>, <span class="number">2</span>, <span class="number">25</span>, <span class="number">17</span>, <span class="number">34</span>, <span class="number">6</span>,<span class="number">27</span>, <span class="number">13</span>, <span class="number">36</span>, <span class="number">11</span>, <span class="number">30</span>, <span class="number">8</span>, <span class="number">23</span>, <span class="number">10</span>, <span class="number">5</span>, <span class="number">24</span>,<span class="number">16</span>, <span class="number">33</span>, <span class="number">1</span>, <span class="number">20</span>, <span class="number">14</span>, <span class="number">31</span>, <span class="number">9</span>, <span class="number">22</span>, <span class="number">18</span>, <span class="number">29</span>, <span class="number">7</span>,<span class="number">28</span>, <span class="number">12</span>, <span class="number">35</span>, <span class="number">3</span>, <span class="number">26</span>&#125;;</span><br><span class="line"><span class="keyword">int</span> [] arrEurp=&#123;<span class="number">0</span>, <span class="number">28</span>, <span class="number">9</span>, <span class="number">26</span>, <span class="number">30</span>, <span class="number">11</span>, <span class="number">7</span>, <span class="number">20</span>, <span class="number">32</span>, <span class="number">17</span>, <span class="number">5</span>, <span class="number">22</span>, <span class="number">34</span>, <span class="number">15</span>, <span class="number">3</span>, <span class="number">24</span>, <span class="number">36</span>, <span class="number">13</span>, <span class="number">1</span>, <span class="number">00</span>, <span class="number">27</span>, <span class="number">10</span>,<span class="number">25</span>, <span class="number">29</span>, <span class="number">12</span>, <span class="number">8</span>, <span class="number">19</span>, <span class="number">31</span>, <span class="number">18</span>, <span class="number">6</span>, <span class="number">21</span>, <span class="number">33</span>, <span class="number">16</span>, <span class="number">4</span>, <span class="number">23</span>, <span class="number">35</span>, <span class="number">14</span>, <span class="number">2</span>&#125;;</span><br></pre></td></tr></table></figure>
</li>
<li><p>è¦æ±‚ï¼šå½“ 2 â‰¤ n â‰¤ 36 æ—¶ï¼Œæ±‚è¿ç»­ n ä¸ªæ•°ä¹‹å’Œæœ€å¤§çš„æƒ…å†µï¼Œå¹¶æ‰¾å‡ºæ»¡è¶³æ¡ä»¶â€œæ¬§å¼è§„åˆ™ä¸‹çš„å’Œå°äºç­‰äºç¾å¼è§„åˆ™ä¸‹çš„å’Œâ€çš„ n çš„ä¸ªæ•°ï¼›</p>
</li>
<li><p>æ³¨æ„ï¼šè½®ç›˜æ˜¯åœ†å½¢çš„</p>
</li>
<li><p>ä»£ç ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CircleGame</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Game</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> [] arrAmer=&#123;<span class="number">0</span>, <span class="number">32</span>, <span class="number">15</span>, <span class="number">19</span>, <span class="number">4</span>, <span class="number">21</span>, <span class="number">2</span>, <span class="number">25</span>, <span class="number">17</span>, <span class="number">34</span>, <span class="number">6</span>,<span class="number">27</span>, <span class="number">13</span>, <span class="number">36</span>, <span class="number">11</span>, <span class="number">30</span>, <span class="number">8</span>, <span class="number">23</span>, <span class="number">10</span>, <span class="number">5</span>, <span class="number">24</span>,<span class="number">16</span>, <span class="number">33</span>, <span class="number">1</span>, <span class="number">20</span>, <span class="number">14</span>, <span class="number">31</span>, <span class="number">9</span>, <span class="number">22</span>, <span class="number">18</span>, <span class="number">29</span>, <span class="number">7</span>,<span class="number">28</span>, <span class="number">12</span>, <span class="number">35</span>, <span class="number">3</span>, <span class="number">26</span>&#125;;</span><br><span class="line">        <span class="keyword">int</span> [] arrEurp=&#123;<span class="number">0</span>, <span class="number">28</span>, <span class="number">9</span>, <span class="number">26</span>, <span class="number">30</span>, <span class="number">11</span>, <span class="number">7</span>, <span class="number">20</span>, <span class="number">32</span>, <span class="number">17</span>, <span class="number">5</span>, <span class="number">22</span>, <span class="number">34</span>, <span class="number">15</span>, <span class="number">3</span>, <span class="number">24</span>, <span class="number">36</span>, <span class="number">13</span>, <span class="number">1</span>, <span class="number">00</span>, <span class="number">27</span>, <span class="number">10</span>,<span class="number">25</span>, <span class="number">29</span>, <span class="number">12</span>, <span class="number">8</span>, <span class="number">19</span>, <span class="number">31</span>, <span class="number">18</span>, <span class="number">6</span>, <span class="number">21</span>, <span class="number">33</span>, <span class="number">16</span>, <span class="number">4</span>, <span class="number">23</span>, <span class="number">35</span>, <span class="number">14</span>, <span class="number">2</span>&#125;;</span><br><span class="line">        <span class="keyword">int</span> countEurMinAmer=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> nSumAmer=<span class="number">0</span>,nSumEurp=<span class="number">0</span>,nSumAmerTemp=<span class="number">0</span>,nSumEurpTemp=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">2</span>;i&lt;=<span class="number">36</span>;++i)</span><br><span class="line">        &#123;</span><br><span class="line">            nSumAmer=<span class="number">0</span>;</span><br><span class="line">            nSumEurp=<span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;<span class="number">36</span>;++j)</span><br><span class="line">            &#123;</span><br><span class="line">                nSumAmerTemp=<span class="number">0</span>;</span><br><span class="line">                nSumEurpTemp=<span class="number">0</span>;</span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> k=<span class="number">0</span>;k&lt;i;++k)</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="keyword">if</span>(k+j&gt;=<span class="number">36</span>)</span><br><span class="line">                    &#123;</span><br><span class="line">                        nSumAmerTemp+=arrAmer[k+j-<span class="number">36</span>];</span><br><span class="line">                    &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                        nSumAmerTemp += arrAmer[k + j];</span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span>(nSumAmerTemp&gt;=nSumAmer) &#123;</span><br><span class="line">                    nSumAmer=nSumAmerTemp;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> l=<span class="number">0</span>;l&lt;i;++l)</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="keyword">if</span>(l+j&gt;=<span class="number">36</span>)</span><br><span class="line">                    &#123;</span><br><span class="line">                        nSumEurpTemp+=arrEurp[l+j-<span class="number">36</span>];</span><br><span class="line">                    &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                        nSumEurpTemp += arrEurp[l + j];</span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span>(nSumEurpTemp&gt;=nSumEurp) &#123;</span><br><span class="line">                    nSumEurp=nSumEurpTemp;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(nSumEurp&lt;=nSumAmer)</span><br><span class="line">            &#123;</span><br><span class="line">                countEurMinAmer++;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(countEurMinAmer);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Game();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>è¾“å‡ºï¼š9</p>
</li>
</ol>
<hr>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>ç®—æ³•å¸å¼•çš„äººæ˜¯ä½ é€šè¿‡ç®—æ³•è§£å†³æŸä¸€ä¸ªå®é™…çš„é—®é¢˜ï¼Œè™½ç„¶è¿™ä¸ªé—®é¢˜å¯èƒ½ä¸ç”¨è®¡ç®—æœºä½ ä¹Ÿèƒ½å®Œæˆï¼Œä½†æ˜¯å½“ä½¿ç”¨è®¡ç®—æœºè§£å†³äº†ï¼Œä½ å°±èƒ½å¤Ÿè¿›è¡Œæ•´ä½“çš„è¿ç§»ï¼å½¢æˆäº†ä¼˜ç§€çš„ç¼–ç¨‹ä¹ æƒ¯è¿˜æœ‰è‰¯å¥½çš„æ€ç»´ä¹ æƒ¯ï¼é‚£ä¹ˆä½ çš„ç®—æ³•å°±å¯ä»¥é€æ­¥æå‡äº†ï¼<strong>Keep Movingï¼ŒKeep Learningï¼</strong></p>
]]></content>
      <categories>
        <category>Algorithm</category>
      </categories>
  </entry>
  <entry>
    <title>Arduino Quick Start</title>
    <url>/2020/05/30/Arduino-Qucik-Start/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>Arduino æ˜¯ä¸–ç•Œä¸Šæœ€æˆåŠŸï¼ˆæœ‰äº›äººå¯èƒ½å¯¹æ­¤æŒæœ‰å¼‚è®®ï¼‰çš„å¼€æºç¡¬ä»¶é¡¹ç›®ä¹‹ä¸€ã€‚Arduino å›¢é˜Ÿå…¬å¼€å…¶è®¾è®¡ä¹‹åï¼ŒåŒ…æ‹¬æ„å¤§åˆ©ã€å·´è¥¿ã€ä¸­å›½ã€è·å…°ã€å°åº¦å’Œç¾å›½åœ¨å†…çš„å¾ˆå¤šå›½å®¶ï¼Œéƒ½åœ¨ç”Ÿäº§åŸºäºè¿™ç§è®¾è®¡çš„å¼€å‘æ¿ï¼Arduino é¢å‘çš„æ˜¯è‰ºæœ¯å®¶å’Œçƒ­è¡·äºæ£é¼“ä¸œè¥¿çš„äººï¼Œè€Œä¸æ˜¯é‚£äº›å¯¹æŠ€æœ¯ç»†èŠ‚æ„Ÿå…´è¶£ä»¥åŠç—´è¿·äºé¡¹ç›®è§„åˆ’ã€æŠ€æœ¯è§„èŒƒä¸æ“ä½œè¯´æ˜ä¹¦çš„å·¥ç¨‹å¸ˆï¼Œä½†æ˜¯è¿˜æœ‰ä¸€æ¬¾é»‘å®¢çº§åˆ«çš„Teensyé¡¹ç›®ä¹Ÿæ˜¯åŸºäºarduinoé¡¹ç›®çš„ï¼Œè¿™ä¸€ç‚¹ï¼Œè®©æˆ‘ç‰¹åˆ«å…³æ³¨arduinoï¼<strong>æ¨èä¹¦ç±ï¼šã€ŠArduino æŠ€æœ¯æŒ‡å— ã€‹Â· [ç¾] John M. Hughes è‘— æ­¦ä¼ æµ· è¯‘</strong>   </p>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="Arduino"><a href="#Arduino" class="headerlink" title="Arduino"></a>Arduino</h2><ol>
<li><p>Arduino çš„è¯ç”ŸæºäºMassimo Banzi ä¸ David Cuartielles ç­‰äººæƒ³å¼€å‘è¿™æ ·ä¸€ç§ç®€å•è®¾å¤‡ï¼š  èƒ½å¤Ÿå¾ˆå®¹æ˜“åœ°è¿æ¥åˆ°å…¶ä»–å„ç§è®¾å¤‡ä¸Šï¼Œåº”å½“å¾ˆå®¹æ˜“è¿›è¡Œç¼–ç¨‹ï¼Œå¹¶ä¸”ä»·æ ¼ä¹Ÿè¦ä¾¿å®œï¼›</p>
</li>
<li><p>Arduino æ¯å¹´éƒ½åœ¨ä¸æ–­æ¨å‡ºæ–°å‹å¼€å‘æ¿ï¼Œæ–°å‹ Arduino å¼€å‘æ¿ä¼šé‡‡ç”¨æ›´å¼ºå¤§çš„å¤„ç†å™¨ï¼Œæ‹¥æœ‰æ›´å¤§å†…å­˜ï¼Œè¿˜é…æœ‰æ€§èƒ½å¤§å¹…å¢å¼ºçš„è¾“å…¥ / è¾“å‡ºï¼ˆI/Oï¼‰åŠŸèƒ½ï¼Œä½†å®ƒä»¬å¤§éƒ¨åˆ†éƒ½ä¼šé‡‡ç”¨ç›¸åŒçš„å¼•è„šæ’åˆ—ï¼Œå¹¶ä¸”éƒ½ä¸ç°æœ‰çš„æ‰©å±•æ¿ï¼ˆshieldï¼‰ä»¥åŠå„ç§æ‰©å±•ç»„ä»¶ï¼ˆæ¯”å¦‚ä¼ æ„Ÿå™¨ã€ç»§ç”µå™¨ã€é©±åŠ¨å™¨ï¼‰ååŒå·¥ä½œï¼›</p>
</li>
<li><p>Arduino çš„æ ¸å¿ƒæ˜¯å¤„ç†å™¨ä¸é¢„å®‰è£…çš„ Bootloaderï¼›</p>
</li>
<li><p>Arduino å¼€å‘æ¿ä¸èƒ½ä½¿ç”¨å¾®æ§åˆ¶å™¨æä¾›çš„æ‰€æœ‰åŠŸèƒ½ï¼›</p>
</li>
<li><p>Arduino BootLoader å®ç°äº†ä¸€ç§ç‰¹æ®Šçš„åè®®ï¼Œè¯¥åè®®è®© BootLoader è¯†åˆ«å‡º Arduino IDEï¼Œå¹¶å…è®¸ç”¨æˆ·æŠŠç¨‹åºæ•°æ®ä»å¼€å‘ä¸»æœºä¼ é€åˆ°ç›®æ ‡å¼€å‘æ¿ï¼›</p>
</li>
<li><p>Macä¸Šå®‰è£…<a href="https://www.arduino.cc/en/Guide/MacOSX" target="_blank" rel="noopener">Arduino IDE</a>  </p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/8613e510e7b52bc33bb318f9807636e3-34554" alt="Arduino è½¯ä»¶ç»„ç»‡"></p>
</li>
<li><p>arduinoç¨‹åºç»“æ„ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/265a801604e3c14fd1b8b5a0bda51207-159166" alt="arduinoç¨‹åºç»“æ„"></p>
</li>
</ol>
<h2 id="arduinoåº“"><a href="#arduinoåº“" class="headerlink" title="arduinoåº“"></a>arduinoåº“</h2><ol>
<li>Arduino IDE è‡ªèº«å¸¦æœ‰ä¸€ç³»åˆ—å‡½æ•°åº“ï¼Œæ–¹ä¾¿ç”¨æˆ·åœ¨ç¨‹åºä¸­ä½¿ç”¨ï¼›</li>
<li>EEPROM åº“ç”¨äºæ”¯æŒå¯¹ AVR å†…ç½® EEPROM çš„è¯»å†™æ“ä½œï¼Œå¹¶å¯å®ç°æ°¸ä¹…æ€§å­˜å‚¨ï¼›</li>
<li>Ethernet åº“æä¾›äº†ä¸ Arduino Ethernet æ‰©å±•æ¿è¿›è¡Œäº¤äº’çš„å¿…éœ€åŠŸèƒ½ ï¼›</li>
<li>Firmata åº“æä¾›äº†ä½¿ç”¨ç±»ä¼¼ MIDI çš„åè®®ï¼Œä½¿å¾—åœ¨ Arduino ä¸ä¸»æœºåº”ç”¨ä¹‹é—´è¿›è¡Œä¸²è¡Œé€šä¿¡æˆä¸ºå¯èƒ½ï¼›</li>
<li>GSM åº“å’Œ GSM æ‰©å±•æ¿ä¸€èµ·ç”¨äºè¿æ¥åˆ° GSM/GPRS ç½‘ç»œï¼›</li>
<li>LiquidCrystalåº“å…è®¸ Arduino å¼€å‘æ¿æ§åˆ¶æ¶²æ™¶æ˜¾ç¤ºå™¨ï¼ˆLCDï¼‰æ¨¡å—ï¼›</li>
<li>SD åº“å¯¹è¯»å†™ SD é—ªå­˜å¡æä¾›æ”¯æŒï¼ŒåŒ…å«å…¨å°ºå¯¸ä¸å¾®å‹ SD ç±»å‹ï¼›</li>
<li>Servo åº“æä¾›ä¸€ç³»åˆ—å‡½æ•°ï¼Œç”¨äºæ§åˆ¶ä¼ºæœç”µæœºï¼Œæ¯”å¦‚é¥æ§é£æœºä¸­çš„é‚£äº›ç”µæœº ï¼›          </li>
<li>SPI åº“æ”¯æŒä½¿ç”¨ä¸²è¡Œå¤–å›´æ¥å£ï¼ˆSPIï¼‰æ€»çº¿ï¼Œä»¥ä¾¿ä¸å…¼å®¹ SPI çš„å¤–å›´è®¾å¤‡è¿›è¡Œé€šä¿¡ï¼›</li>
<li>SoftwareSerial åº“åœ¨ Arduino çš„æ•°å­— I/O å¼•è„šä¸Šå®ç°äº†åŸºäºè½¯ä»¶çš„ä¸²è¡Œé€šä¿¡ ï¼›</li>
<li>Wi-Fi åº“è®© Arduino æ‹¥æœ‰è¿æ¥æ— çº¿ç½‘ç»œçš„èƒ½åŠ›ï¼› </li>
<li>é’ˆå¯¹ Arduino å¼€å‘æ¿ï¼Œæœ‰è®¸å¤šç¬¬ä¸‰æ–¹åº“å¯ä»¥ä½¿ç”¨ï¼   </li>
</ol>
<h2 id="å…¶ä»–è¿˜éœ€è¦çŸ¥é“"><a href="#å…¶ä»–è¿˜éœ€è¦çŸ¥é“" class="headerlink" title="å…¶ä»–è¿˜éœ€è¦çŸ¥é“"></a>å…¶ä»–è¿˜éœ€è¦çŸ¥é“</h2><ol>
<li>åŸºç¡€çš„ç”µè·¯çŸ¥è¯†</li>
<li>ç”µå­å…ƒå™¨ä»¶çš„çŸ¥è¯†</li>
<li>ä¼ æ„Ÿå™¨çš„çŸ¥è¯†</li>
<li>æŸ¥æ‰¾githubç›¸å…³åº“çš„èƒ½åŠ›</li>
<li>å½“ç„¶ä¼šçš„è¶Šå¤šè¶Šå¥½ï¼ˆåºŸè¯ï¼‰</li>
</ol>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>å†™è¿™éƒ¨åˆ†å†…å®¹ï¼Œä¸»è¦æ˜¯æœ‰æœ¬ä¹¦ï¼Œç„¶åè¿˜æœ‰Teensyç›¸å…³çš„å†…å®¹åç»­ä¼šè¿ç§»åˆ°åšå®¢ä¸­ï¼Œæˆ‘ä¸æ˜¯è½¬ç§»åˆ°è½¯ä»¶å¼€å‘å°±ç»“æŸäº†æˆ‘çš„ç¡¬ä»¶ç”Ÿæ´»ï¼å…¬å¸çš„ç¡¬ä»¶å¼€å‘äººå‘˜è®©æˆ‘ä¸æƒ³åœ¨å…¬å¸å¼€å‘ç¡¬ä»¶ç›¸å…³çš„ä¸œè¥¿ï¼Œäº§å“å’Œå…´è¶£ç‚¹æ˜¯ä¸åŒçš„ï¼</p>
]]></content>
      <categories>
        <category>Arduino</category>
      </categories>
  </entry>
  <entry>
    <title>Bootstrap Quick Start</title>
    <url>/2020/05/26/Bootstrap-Quick-Start/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>Bootstrap æ˜¯å‰ç«¯å¼€å‘ä¸­åº”ç”¨éå¸¸å¹¿æ³›çš„ä¸€ä¸ªæ¡†æ¶ï¼Œæœ€æ—©æ˜¯ Twitter å…¬å¸å†…éƒ¨çš„ä¸€ä¸ªå·¥å…· ï¼Œ å¼€æºä¹‹åè¿…é€Ÿå¾—åˆ°äº†å„æ–¹çš„è®¤å¯ã€‚Bootstrapä¸ºå¤§å¤šæ•°æ ‡å‡†çš„ UI è®¾è®¡åœºæ™¯æä¾›äº†ç”¨æˆ·å‹å¥½ã€è·¨æµè§ˆå™¨çš„è§£å†³æ–¹æ¡ˆã€‚Bootstrap æŠŠ HTMLã€CSS å’Œ JavaScript ç»„åˆèµ·æ¥ï¼Œ ä¸ºæ„å»ºç¨³å®šçš„ç½‘ç«™æä¾›äº†åŸºç¡€è®¾æ–½ï¼Œ ä¹Ÿèƒ½æé«˜å¼€å‘æ•ˆç‡ã€‚*<em>æ¨èä¹¦ç±ï¼šã€ŠBootstrap å®æˆ˜ã€‹Â· [ç¾]  David Cochran Ian Whitley è‘— ææ¾å³° è¯‘ ã€ŠBootstrap ç”¨æˆ·æ‰‹å†Œã€‹Â· [ç¾]  Jake Spurlock è‘— ææ¾å³° è¯‘ *</em></p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="åŸºç¡€çŸ¥è¯†"><a href="#åŸºç¡€çŸ¥è¯†" class="headerlink" title="åŸºç¡€çŸ¥è¯†"></a>åŸºç¡€çŸ¥è¯†</h2><h3 id="åŠŸèƒ½"><a href="#åŠŸèƒ½" class="headerlink" title="åŠŸèƒ½"></a>åŠŸèƒ½</h3><ol>
<li>ç§»åŠ¨ä¼˜å…ˆçš„å“åº”å¼ç½‘æ ¼</li>
<li>åŸºäº Web å­—ä½“çš„å›¾æ ‡ï¼Œé€‚ç”¨äºç§»åŠ¨åŠé«˜å¯†åº¦å±å¹•</li>
<li>ä¸å†æ”¯æŒ IE7ï¼Œæ ‡è®°å’Œæ ·å¼æ›´åŠ ç®€æ´é«˜æ•ˆ</li>
</ol>
<h3 id="å¿«é€Ÿå¼€å§‹"><a href="#å¿«é€Ÿå¼€å§‹" class="headerlink" title="å¿«é€Ÿå¼€å§‹"></a>å¿«é€Ÿå¼€å§‹</h3><ol>
<li><p>ä¸‹è½½åœ°å€ï¼š<a href="https://github.com/twbs/bootstrap/releases" target="_blank" rel="noopener">https://github.com/twbs/bootstrap/releases</a></p>
</li>
<li><p>åœ¨å¼€å‘æœŸé—´ï¼Œä¿æŒæ‰€æœ‰ Bootstrap çš„æ’ä»¶éƒ½å¯ç”¨ï¼Œè¿™æ ·å°±ä¸ä¼šåœ¨æµ‹è¯•çš„æ—¶å€™ç¼ºå¤±è€Œçœ‹ä¸åˆ°æ•ˆæœã€‚</p>
</li>
<li><p>CDNï¼ˆContent Delivery Networkï¼Œå†…å®¹åˆ†å‘ç½‘ç»œï¼‰å¯ä»¥ä¸ºç½‘ç«™ç¼“å­˜é™æ€èµ„æºï¼ŒåŠ é€Ÿç½‘é¡µåˆ·æ–°ã€‚</p>
</li>
<li><p>HTML5 æ–‡æ¡£ç±»å‹å£°æ˜ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>meta æ ‡ç­¾ï¼š</p>
<ul>
<li><p>ç”¨äºæŒ‡å®šå­—ç¬¦é›†</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>å‘Šè¯‰ IE ä½¿ç”¨æœ€æ–°ç‰ˆçš„æ¸²æŸ“å¼•æ“ï¼Œæˆ–è€…å¦‚æœå®‰è£…äº†çš„è¯ï¼Œä½¿ç”¨è°·æ­Œçš„ Chrome Frame</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"X-UA-Compatible"</span> <span class="attr">content</span>=<span class="string">"IE=edge,chrome=1"</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>é¢„ç•™ç»™æè¿°ç«™ç‚¹ç”¨</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"description"</span> <span class="attr">content</span>=<span class="string">""</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>é’ˆå¯¹ç§»åŠ¨æµè§ˆå™¨çš„è§†å£æ ‡ç­¾</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width"</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>æ ·å¼è¡¨çš„é“¾æ¥ï¼Œä¸€ä¸ªæŒ‡å‘ normalize.cssï¼Œå¦ä¸€ä¸ªæŒ‡å‘ main.css</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"css/normalize.css"</span>&gt;</span> <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"css/main.css"</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>åŠ è½½ Modernizr è„šæœ¬çš„ script æ ‡ç­¾</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"js/vendor/modernizr-2.6.2.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>æ ‡é¢˜ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>Bootstrappin<span class="symbol">&amp;#39;</span> Portfolio<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>HTMLå®ä½“&amp;#39æ¥è¡¨ç¤ºå•å¼•å·</li>
</ul>
</li>
<li><p>ooter:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">footer</span> <span class="attr">role</span>=<span class="string">"contentinfo"</span>&gt;</span> <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">small</span>&gt;</span>Copyright <span class="symbol">&amp;copy;</span> Company Name<span class="tag">&lt;/<span class="name">small</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span> <span class="tag">&lt;/<span class="name">footer</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>å‹ç¼©å›¾ç‰‡èŠ±ä¸äº†å¤šå°‘æ—¶é—´ï¼Œä½†å´èƒ½è§£å†³å¯¼è‡´å›¾ç‰‡è‡ƒè‚¿çš„æœ€å¤§é—®é¢˜ï¼Œåœ¨é€Ÿåº¦å°±æ˜¯ç”Ÿå‘½çš„å¹´ä»£ï¼Œæ—¢è¦è€ƒ è™‘ç”¨æˆ·ä½“éªŒï¼Œåˆå¾—è€ƒè™‘ SEO æ’åã€‚å¯ä»¥é€šè¿‡å®ç°å“åº”å¼å›¾ç‰‡æ¥è¿›ä¸€æ­¥ä¼˜åŒ–ä¼ é€å¸¦å›¾ç‰‡ï¼</p>
</li>
</ol>
<h2 id="ä¸»é¢˜"><a href="#ä¸»é¢˜" class="headerlink" title="ä¸»é¢˜"></a>ä¸»é¢˜</h2><ol>
<li><a href="https://roots.io/" target="_blank" rel="noopener">Roots</a> ä¸»é¢˜ä»ä¸€å¼€å§‹å°±å°†è‡ªå·±å®šä½ä¸º Bootstrap é©±åŠ¨çš„ã€å„æ–¹é¢éƒ½åŠ›æ±‚ä½“ç°æœ€ä½³å®è·µçš„ä¸€ä¸ªåŸºç¡€ä¸»é¢˜ï¼›</li>
<li>Roots ä¸»é¢˜æŠŠåŸºæœ¬çš„å¸ƒå±€å…ƒç´ ä»å•ä¸ªæ¨¡æ¿æ–‡ä»¶ä¸­ç»™æŠ½äº†å‡ºæ¥ï¼›</li>
<li>å…è´¹çš„ä¸»é¢˜ç½‘ç«™<a href="https://bootswatch.com/" target="_blank" rel="noopener">Bootswatch</a></li>
<li>Bootstrapé»˜è®¤çš„ç½‘æ ¼å¸ƒå±€åŒ…å«12åˆ—ï¼Œ940åƒç´ å®½ï¼Œä¸æ”¯æŒå“åº”å¼å¸ƒå±€ï¼ŒåŠ è½½å“åº”å¼ CSS æ–‡ä»¶åï¼Œ ç½‘æ ¼å¸ƒå±€ä¼šæ ¹æ®è§†å£ï¼ˆviewportï¼‰å®½åº¦åœ¨ 724 åƒç´ åˆ° 1170 åƒç´ ä¹‹é—´ä¼¸ç¼©ï¼›æ³¨æ„å¿…é¡»æ»¡è¶³12åˆ—æ€»å’Œï¼Œå¯ä»¥è®¾è®¡å¸ƒå±€3-6-3ã€4-8ã€3-5-4ã€2-8-2â€¦..ï¼›</li>
<li>æŠŠé‡è¦çš„å†…å®¹é“¾æ¥è½¬æ¢æˆçªå‡ºæ˜¾ç¤ºçš„æŒ‰é’®å¾ˆç®€å•ï¼Œä¸ºæ­¤è¦ç”¨åˆ°å¦‚ä¸‹å‡ ä¸ªå…³é”®çš„ç±»ï¼š<ul>
<li>btn ç±»ç”¨äºæŠŠé“¾æ¥å˜æˆæŒ‰é’®çš„æ ·å¼</li>
<li>btn-primary ç±»ç”¨äºæŠŠæŒ‰é’®å˜æˆä¸»å“ç‰Œé¢œè‰²</li>
<li>pull-right ç±»ç”¨äºæŠŠé“¾æ¥æµ®åŠ¨åˆ°å³ä¾§ï¼Œä½¿å…¶å æ®æ›´å¤§çš„ç©ºé—´ï¼Œä»è€Œæ›´ä¾¿äºå‘ç°å’Œç‚¹å‡»</li>
<li><img src="https://app.yinxiang.com/FileSharing.action?hash=1/68eef3b92ea9b2cc7f99d0aaadb29418-149371" alt="å½©è‰²æŒ‰é’®"></li>
</ul>
</li>
</ol>
<h2 id="å¿«é€Ÿå¼€å‘ï¼ˆSpringBootï¼‰"><a href="#å¿«é€Ÿå¼€å‘ï¼ˆSpringBootï¼‰" class="headerlink" title="å¿«é€Ÿå¼€å‘ï¼ˆSpringBootï¼‰"></a>å¿«é€Ÿå¼€å‘ï¼ˆSpringBootï¼‰</h2><ol>
<li><p>åœ¨<a href="https://github.com/twbs/bootstrap/releasesä¸­ä¸‹è½½bootstrapçš„distç‰ˆæœ¬çš„å‹ç¼©åŒ…ï¼Œå°†å…¶ä¸­çš„cssæ–‡ä»¶ä»¥åŠjsæ–‡ä»¶æ‹·è´åˆ°è‡ªå·±çš„é¡¹ç›®ä¸­ï¼›" target="_blank" rel="noopener">https://github.com/twbs/bootstrap/releasesä¸­ä¸‹è½½bootstrapçš„distç‰ˆæœ¬çš„å‹ç¼©åŒ…ï¼Œå°†å…¶ä¸­çš„cssæ–‡ä»¶ä»¥åŠjsæ–‡ä»¶æ‹·è´åˆ°è‡ªå·±çš„é¡¹ç›®ä¸­ï¼›</a></p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/57a13d08dcc1d9818ed960b676c803c4-21331" alt="æ‹·è´jsä»¥åŠcss"></p>
</li>
<li><p>ä½¿ç”¨ Bootstrap æ—¶ï¼Œéœ€è¦è¦åŒ…å«å®ƒçš„ CSS æ ·å¼è¡¨å’Œ JavaScript æ–‡ä»¶ï¼ˆä½¿ç”¨thymeleafæ¨¡æ¿å¼•æ“ï¼‰ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">th:href</span>=<span class="string">"@&#123;/bootstrap/css/bootstrap.css&#125;"</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">type</span>=<span class="string">"text/css"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">th:src</span>=<span class="string">"@&#123;/bootstrap/js/bootstrap.min.js&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>é™¤äº† &lt;strong&gt; å’Œ&lt;em&gt; ï¼Œ Bootstrap è¿˜æä¾›äº†ä¸€äº›è¡¨ç¤ºå¼ºè°ƒçš„ç±»ï¼Œè¿™äº›ç±»å¯ä»¥åº”ç”¨ç»™ &lt;p&gt; æˆ– &lt;span&gt;:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"muted"</span>&gt;</span>This content is muted<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"text-warning"</span>&gt;</span>This content carries a warning class<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"text-error"</span>&gt;</span>This content carries an error class<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"text-info"</span>&gt;</span>This content carries an info class<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"text-success"</span>&gt;</span>This content carries a success class<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>This content has <span class="tag">&lt;<span class="name">em</span>&gt;</span>emphasis<span class="tag">&lt;/<span class="name">em</span>&gt;</span>, and can be <span class="tag">&lt;<span class="name">strong</span>&gt;</span>bold<span class="tag">&lt;/<span class="name">strong</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>HTML çš„ &lt;abbr&gt; å…ƒç´ ç”¨äºæ ‡è®°ç¼©å†™è¯æˆ–é¦–å­—æ¯ç¼©å†™,æ ‡è®°äº†ç¼©å†™è¯ä¹‹åï¼Œ æµè§ˆå™¨ã€æ‹¼å†™æ£€æŸ¥å™¨ã€ç¿»è¯‘ç³»ç»Ÿæˆ–æœç´¢å¼•æ“éƒ½èƒ½æ®ä»¥å¾—çŸ¥æ–‡æœ¬çš„æ€§è´¨ã€‚Bootstrap ä¼šåœ¨ &lt;abbr&gt; å…ƒç´ ä¸‹æ–¹æ·»åŠ ä¸€æ¡æµ…è‰²çš„è™šçº¿ï¼Œ å¹¶åœ¨å…‰æ ‡æ‚¬åœæ—¶æ˜¾ç¤ºå®Œæ•´æ–‡æœ¬çš„å†…å®¹:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">abbr</span> <span class="attr">title</span>=<span class="string">"Real Simple Syndication"</span>&gt;</span>RSS<span class="tag">&lt;/<span class="name">abbr</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/4cdf48a99198961fb97ce446bce1b598-55187" alt="abbræ•ˆæœ"></p>
</li>
<li><p>åœ¨é¡µé¢ä¸­ä½¿ç”¨ &lt;address&gt; å…ƒç´ å¯ä»¥è®©å±å¹•é˜…è¯»å™¨å’Œæœç´¢å¼•æ“æ‰¾åˆ°åœ°å€æˆ–ç”µè¯å·ç ,å¯ä»¥æ ‡è®°ç”µå­é‚®ä»¶åœ°å€,å¿…è¦æ—¶å¯ä»¥ç”¨&lt;br&gt; æ ‡ç­¾æ¥æ¢è¡Œï¼ˆä¾‹å¦‚æŠŠåŸå¸‚ä¸è¡—é“åˆ†å¼€ï¼‰:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">address</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">strong</span>&gt;</span>WanderROS Media, Inc.<span class="tag">&lt;/<span class="name">strong</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    1005  HWY North<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    Sebastopol, China 95472<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">abbr</span> <span class="attr">title</span>=<span class="string">"Phone"</span>&gt;</span>P:<span class="tag">&lt;/<span class="name">abbr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"tel:+88888888"</span>&gt;</span>(0556) 88888888<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">strong</span>&gt;</span>WanderROS<span class="tag">&lt;/<span class="name">strong</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"mailto:#"</span>&gt;</span>wanderros@wander.com<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">address</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/25fbd14d67606e93c336ea28142724c9-40246" alt="addressæ•ˆæœ"></p>
</li>
<li><p>è¦åœ¨é¡µé¢ä¸­æ ‡è®°å¼•ç”¨æˆ–åäººåè¨€çš„æ–‡æœ¬å—ï¼Œ ä½¿ç”¨ &lt;blockquote&gt; æ ‡ç­¾ï¼Œå¿…è¦æ—¶å¯ä»¥æ·»åŠ  &lt;br&gt; æ¢è¡Œï¼Œ ç”¨ &lt;p&gt; åˆ†æ®µ:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">blockquote</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>That this is needed, desperately needed, is indicated by the</span><br><span class="line">        incredible uptake of Bootstrap. I use it in all the server software</span><br><span class="line">        I'm working on. And it shows through in the templating language I'm</span><br><span class="line">        developing, so everyone who uses it will ï¬nd it's "just there" and</span><br><span class="line">        works, any time you want to do a Bootstrap technique. Nothing to do,</span><br><span class="line">        no libraries to include. It's as if it were part of the hardware.</span><br><span class="line">        Same approach that Apple took with the Mac OS in 1984.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">small</span>&gt;</span>Developer of RSS, <span class="tag">&lt;<span class="name">cite</span> <span class="attr">title</span>=<span class="string">"Source Title"</span>&gt;</span>Dave Winer<span class="tag">&lt;/<span class="name">cite</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">small</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">blockquote</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>Bootstrapæ”¯æŒ HTML æä¾›çš„ä¸‰ç§åˆ—è¡¨ï¼šæœ‰åºåˆ—è¡¨ã€æ— åºåˆ—è¡¨å’Œå®šä¹‰åˆ—è¡¨,æƒ³å»æ‰æ— åºåˆ—è¡¨å‰é¢çš„åœ†ç‚¹ï¼Œ å¯ä»¥åœ¨ç›¸åº”çš„&lt;ul&gt;æ ‡ç­¾ä¸­æ·»åŠ class=â€unstyledâ€;å®šä¹‰åˆ—è¡¨æ²¡æœ‰å—çº§çš„ &lt;li&gt; å…ƒç´ ï¼Œ è€Œæ˜¯æ¯ä¸ªåˆ—è¡¨é¡¹éƒ½ç”± &lt;dt&gt; å’Œ &lt;dd&gt; å…ƒç´ å…±åŒç»„æˆ,è¦è®©è¯æ¡å’Œè§£é‡Šå¹¶æ’æ˜¾ç¤ºï¼Œåªè¦ç»™&lt;dl&gt;æ ‡ç­¾åŠ ä¸Šclass=â€dl-horizontalâ€ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dl</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dt</span>&gt;</span>LED<span class="tag">&lt;/<span class="name">dt</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dd</span>&gt;</span>A light-emitting diode (LED) is a semiconductor light source.<span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dl</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dl</span> <span class="attr">class</span>=<span class="string">"dl-horizontal"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dt</span>&gt;</span>Servo<span class="tag">&lt;/<span class="name">dt</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dd</span>&gt;</span>Servos are small, cheap, mass-produced actuators used for radio</span><br><span class="line">        control and small robotics.<span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dl</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/d9fab8452421feb0033f8b03df7d7766-38141" alt="å®šä¹‰åˆ—è¡¨æ•ˆæœ"></p>
</li>
<li><p>åœ¨ Bootstrap ä¸­æœ‰ä¸¤ç§æ–¹å¼æ˜¾ç¤ºä»£ç ï¼Œ ä¸€ç§æ˜¯ä½¿ç”¨ &lt;code&gt; æ ‡ç­¾ï¼Œ å¦ä¸€ç§æ˜¯ä½¿ç”¨ &lt;pre&gt; æ ‡ç­¾ï¼Œè¡Œå†…ä»£ç ä½¿ç”¨ &lt;code&gt; ï¼Œä»£ç æ®µä½¿ç”¨ &lt;pre&gt; ï¼š</p>
<ul>
<li>ä½¿ç”¨ &lt;pre&gt; å’Œ &lt;code&gt; æ ‡ç­¾æ ‡è®°ä»£ç æ—¶ï¼Œä¸€å®šè¦æŠŠä»£ç ä¸­çš„å·¦å°–æ‹¬å·å’Œå³å°–æ‹¬å·æ›¿æ¢æˆ &amp;lt; å’Œ &amp;gt;ã€‚</li>
</ul>
</li>
<li><p>Bootstrapæ”¯æŒçš„è¡¨æ ¼å…ƒç´ ï¼š</p>
<table>
<thead>
<tr>
<th align="center">æ ‡ç­¾</th>
<th align="center">ä½œç”¨</th>
</tr>
</thead>
<tbody><tr>
<td align="center">&lt;table&gt;</td>
<td align="center">åŒ…è£…å…ƒç´ ï¼Œç”¨äºæ˜¾ç¤ºè¡¨åˆ—å¼æ•°æ®</td>
</tr>
<tr>
<td align="center">&lt;thead&gt;</td>
<td align="center">è¡¨å¤´è¡Œçš„å®¹å™¨</td>
</tr>
<tr>
<td align="center">&lt;tbody&gt;</td>
<td align="center">è¡¨æ ¼è¡Œçš„å®¹å™¨</td>
</tr>
<tr>
<td align="center">&lt;tr&gt;</td>
<td align="center">å•å…ƒæ ¼çš„å®¹å™¨</td>
</tr>
<tr>
<td align="center">&lt;td&gt;</td>
<td align="center">æ™®é€šå•å…ƒæ ¼</td>
</tr>
<tr>
<td align="center">&lt;th&gt;</td>
<td align="center">ä¸€è¡Œæˆ–ä¸€åˆ—ï¼ˆå–å†³äºä½œç”¨èŒƒå›´å’Œä½ç½®ï¼‰ä¸­ä½œä¸ºè¡¨å¤´çš„å•å…ƒæ ¼</td>
</tr>
<tr>
<td align="center">&lt;caption&gt;</td>
<td align="center">ç”¨äºåŒ…è£…è¡¨æ ¼çš„è¯´æ˜æˆ–å°ç»“ï¼Œå¯¹å±å¹•é˜…è¯»å™¨ç‰¹åˆ«æœ‰ç”¨</td>
</tr>
</tbody></table>
<ul>
<li><p>è¡¨æ ¼è¡Œå¯é€‰çš„ç±»ï¼š</p>
<table>
<thead>
<tr>
<th>ç±»</th>
<th>è¯´æ˜</th>
<th>èƒŒæ™¯é¢œè‰²</th>
</tr>
</thead>
<tbody><tr>
<td>.success</td>
<td>è¡¨ç¤ºæˆåŠŸæˆ–ç§¯æçš„æƒ…å½¢</td>
<td>ç»¿</td>
</tr>
<tr>
<td>.err</td>
<td>è¡¨ç¤ºå±é™©æˆ–æ¶ˆæçš„æƒ…å½¢</td>
<td>çº¢</td>
</tr>
<tr>
<td>.warning</td>
<td>è¡¨ç¤ºè­¦å‘Š</td>
<td>é»„</td>
</tr>
<tr>
<td>.info</td>
<td>ç”¨äºä»£æ›¿é»˜è®¤æ ·å¼</td>
<td>è“</td>
</tr>
</tbody></table>
</li>
</ul>
</li>
<li><p>Bootstrap è‡ªå¸¦äº†åŸºæœ¬çš„è¡¨å•æ ·å¼ï¼Œä¸éœ€è¦æ·»åŠ ä»»ä½•è¾…åŠ©ç±»,ä½¿ç”¨&lt;form&gt;;</p>
<ul>
<li><p>ä»£ç ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">class</span>=<span class="string">"form-search"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">class</span>=<span class="string">"input-medium search-query"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">class</span>=<span class="string">"btn"</span>&gt;</span>Search<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">class</span>=<span class="string">"form-inline"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">class</span>=<span class="string">"input-small"</span> <span class="attr">placeholder</span>=<span class="string">"Email"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"password"</span> <span class="attr">class</span>=<span class="string">"input-small"</span> <span class="attr">placeholder</span>=<span class="string">"Password"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span> <span class="attr">class</span>=<span class="string">"checkbox"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span>&gt;</span> Remember me</span><br><span class="line">    <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">class</span>=<span class="string">"btn"</span>&gt;</span>Sign in<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>æ”¯æŒæœç´¢è¡¨å•ã€è¡Œå†…è¡¨å•ã€æ¨ªå‘è¡¨å•ç­‰ï¼›</p>
</li>
<li><p>Bootstrap æ”¯æŒ HTML5 è§„èŒƒå®šä¹‰çš„æ‰€æœ‰åŸç”Ÿè¾“å…¥ç±»å‹ï¼štext ã€ password ã€ datetime ã€ datetime-local ã€ date ã€ month ã€ time ã€ week ã€ number ã€ email ã€ url ã€ search ã€ tel å’Œ color</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">placeholder</span>=<span class="string">"Text input"</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>.form-actionså¯ä»¥è¿›è¡Œä¸€äº›è¡¨å•åŠ¨ä½œçš„è®¾ç½®ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"form-actions"</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">class</span>=<span class="string">"btn btn-primary"</span>&gt;</span>Save changes<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">class</span>=<span class="string">"btn"</span>&gt;</span>Cancel<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>å¤é€‰æ¡†å’Œå•é€‰æŒ‰é’®:å¦‚æœæƒ³è®©ç”¨æˆ·é€‰æ‹©ä»»æ„å¤šé¡¹ï¼Œ ä½¿ç”¨ &lt;checkbox&gt; ï¼Œ å¦‚æœæƒ³è®©ç”¨æˆ·åªé€‰æ‹©ä¸€é¡¹ï¼Œä½¿ç”¨ &lt;radio&gt;</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">label</span> <span class="attr">class</span>=<span class="string">"checkbox"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">value</span>=<span class="string">""</span>&gt;</span></span><br><span class="line">    Option one is this and that - be sure to include why it's great.</span><br><span class="line"><span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">label</span> <span class="attr">class</span>=<span class="string">"radio"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"radio"</span> <span class="attr">name</span>=<span class="string">"optionsRadios"</span> <span class="attr">id</span>=<span class="string">"optionsRadios1"</span> <span class="attr">value</span>=<span class="string">"option1"</span> <span class="attr">checked</span>&gt;</span></span><br><span class="line">    Option one is this and that - be sure to include why it's great.</span><br><span class="line"><span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">label</span> <span class="attr">class</span>=<span class="string">"radio"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"radio"</span> <span class="attr">name</span>=<span class="string">"optionsRadios"</span> <span class="attr">id</span>=<span class="string">"optionsRadios2"</span> <span class="attr">value</span>=<span class="string">"option2"</span>&gt;</span></span><br><span class="line">    Option two can be something else, and selecting it will deselect option one</span><br><span class="line"><span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>é€‰é¡¹åˆ—è¡¨é€‚åˆè®©ç”¨æˆ·é€‰æ‹©å¤šé¡¹ï¼Œ ä½†é»˜è®¤åªå…è®¸é€‰æ‹©ä¸€é¡¹,å»ºè®®åªåœ¨ç”¨æˆ·å¯¹é€‰é¡¹å¾ˆç†Ÿæ‚‰çš„æƒ…å†µä¸‹ä½¿ç”¨ &lt;select&gt;,è¦è®©ç”¨æˆ·é€‰æ‹©å¤šé¡¹ï¼Œä½¿ç”¨ multiple=â€multipleâ€</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">select</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span>&gt;</span>1<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span>&gt;</span>2<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span>&gt;</span>3<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span>&gt;</span>4<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span>&gt;</span>5<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">multiple</span>=<span class="string">"multiple"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span>&gt;</span>1<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span>&gt;</span>2<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span>&gt;</span>3<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span>&gt;</span>4<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span>&gt;</span>5<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>å‰ç½®ç»„ä»¶å’Œåç½®ç»„ä»¶ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"input-prepend"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"add-on"</span>&gt;</span>@<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">class</span>=<span class="string">"span2"</span> <span class="attr">id</span>=<span class="string">"prependedInput"</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">placeholder</span>=<span class="string">"Username"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"input-append"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">class</span>=<span class="string">"span2"</span> <span class="attr">id</span>=<span class="string">"appendedInput"</span> <span class="attr">type</span>=<span class="string">"text"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"add-on"</span>&gt;</span>.00<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>å›¾åƒæ”¯æŒåœ†å½¢ã€æ–¹æ¡†ã€åœ†è§’å½¢çŠ¶ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"..."</span> <span class="attr">class</span>=<span class="string">"img-rounded"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"..."</span> <span class="attr">class</span>=<span class="string">"img-circle"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"..."</span> <span class="attr">class</span>=<span class="string">"img-polaroid"</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>å›¾æ ‡ï¼ˆå¯èƒ½éœ€è¦ç‚¹ä»€ä¹ˆï¼Œæµ‹è¯•æ²¡å‡ºç°æ•ˆæœï¼‰ï¼š</p>
<ul>
<li>ä½¿ç”¨å›¾æ ‡ï¼Œç»™&lt;i&gt;æ ‡ç­¾åŠ ä»¥.icon-ä¸ºå‰ç¼€çš„ç±»å³å¯ï¼›</li>
</ul>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"icon-edit icon-white"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br></pre></td></tr></table></figure>


</li>
</ol>
<hr>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>å¦‚æœä½ å‘ç°è‡ªå·±ä¸€éä¸€éåœ°åœ¨é‡å¤åšä¸€ä»¶äº‹ï¼Œä¸å¦¨å†åŠªåŠ›ä¸€æ¬¡åšå¾—æ›´å¥½ä¸€ç‚¹!</p>
]]></content>
      <categories>
        <category>Bootstrap</category>
      </categories>
  </entry>
  <entry>
    <title>Docker Command</title>
    <url>/2020/04/21/Docker-Command/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>Dockeræƒ³è¦å­¦å¥½çš„è¯ï¼Œé¦–å…ˆè¦å­¦ä¼šä½¿ç”¨å®ƒï¼ŒDockerå‘½ä»¤éå¸¸çš„å¤šï¼Œè¿™ç¯‡æ–‡ç« ä¸­ä¸»è¦ä»‹ç»ä¸€äº›æ—¥å¸¸ç»å¸¸ç”¨åˆ°çš„å‘½ä»¤ï¼Œç†Ÿç»ƒä½¿ç”¨Dockerå‘½ä»¤ï¼Œç„¶åèƒ½å¤Ÿéƒ¨ç½²Dockerå®¹å™¨ï¼Œæœ€ååœ¨è¿™ä¸ªåŸºç¡€ä¸Šæ·±å…¥Dockerçš„æ ¸ï¼Œä»é•¿è¿œçš„è§’åº¦æ¥è¯´ï¼ŒDockeræŠ€æœ¯ä¼šå¼•å¯¼è¡Œä¸šå˜é©,äº§ä¸šå‡çº§!</p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="runå‘½ä»¤"><a href="#runå‘½ä»¤" class="headerlink" title="runå‘½ä»¤"></a>runå‘½ä»¤</h2><ol>
<li>-aï¼Œâ€“attachï¼šæŠŠæŒ‡å®šçš„æ•°æ®æµï¼ˆå¦‚ STDOUT ä¹‹ç±»ï¼‰è¿æ¥è‡³ç»ˆç«¯ï¼›</li>
<li>-dï¼Œâ€“detachï¼šä½¿å®¹å™¨åœ¨â€œåˆ†ç¦»â€æ¨¡å¼ä¸‹è¿è¡Œï¼Œå®¹å™¨ä¼šåœ¨åå°è¿è¡Œï¼Œè€Œå‘½ä»¤çš„è¿”å›å€¼æ˜¯å®¹å™¨çš„IDï¼›</li>
<li>-i, â€“interactiveï¼šä¿æŒ stdin æ‰“å¼€ï¼Œä¸-tåŒæ—¶ä½¿ç”¨ï¼Œç”¨ä½œäº¤äº’å¼ä¼šè¯å®¹å™¨ï¼›æ¯”å¦‚ï¼šdocker run -it mysql /bin/bash</li>
<li>â€“restartï¼šé…ç½® Docker åœ¨ä»€ä¹ˆæƒ…å†µä¸‹å°è¯•é‡æ–°å¯åŠ¨å·²é€€å‡ºçš„å®¹å™¨ï¼›</li>
<li>â€“rmï¼šé€€å‡ºæ—¶è‡ªåŠ¨åˆ é™¤å®¹å™¨ï¼Œä¸èƒ½ä¸ -d é€‰é¡¹åŒæ—¶ä½¿ç”¨ï¼›</li>
<li>-t, â€“ttyï¼šåˆ†é…ä¸€ä¸ªä¼ªç»ˆç«¯ï¼ˆpseudo-TTYï¼‰ï¼›</li>
<li>-e, â€“envï¼šè®¾ç½®å®¹å™¨å†…çš„ç¯å¢ƒå˜é‡ï¼Œâ€“env-file é€‰é¡¹å¯ä»¥ç»æ–‡ä»¶ä¼ å…¥ç¯å¢ƒå˜é‡ï¼›</li>
<li>-h, â€“hostname NAMEï¼šè®¾ç½®å®¹å™¨çš„unixä¸»æœºåä¸º NAMEï¼›</li>
<li>â€“name NAMEï¼šæŠŠ NAME è®¾ç½®ä¸ºå®¹å™¨çš„åç§°ï¼›</li>
<li>-v, â€“volumeï¼šç”¨æ¥è®¾ç½®æ•°æ®å·ï¼›</li>
<li>â€“volumes-fromï¼šæŒ‚è½½æŒ‡å®šå®¹å™¨æ‹¥æœ‰çš„æ•°æ®å·ï¼›</li>
<li>â€“exposeï¼šæŒ‡å®šå®¹å™¨å°†ä¼šä½¿ç”¨çš„ç«¯å£æˆ–ç«¯å£èŒƒå›´ï¼Œåªæœ‰ä¸ -P å‚æ•°åŒæ—¶ä½¿ç”¨ï¼Œä»¥åŠåœ¨è¿æ¥å®¹å™¨æ—¶ï¼Œæ‰æœ‰çœŸæ­£æ„ä¹‰ï¼›</li>
<li>â€“linkï¼šå»ºç«‹ä¸€ä¸ªä¸æŒ‡å®šå®¹å™¨è¿æ¥çš„å†…éƒ¨ç½‘ç»œæ¥å£ï¼›</li>
<li>-p, â€“publishï¼šâ€œå‘å¸ƒâ€å®¹å™¨çš„ç«¯å£ï¼Œä½¿ä¸»æœºèƒ½è®¿é—®å®ƒï¼›</li>
<li>-P, â€“publish-allï¼šâ€œå‘å¸ƒâ€æ‰€æœ‰å·²æŒ‡å®šä¸ºå¼€æ”¾ï¼ˆexposedï¼‰çš„å®¹å™¨ç«¯å£ï¼Œä½¿ä¸»æœºèƒ½è®¿é—®å®ƒä»¬ï¼Œå¯é€šè¿‡ docker port å‘½ä»¤æŸ¥çœ‹åˆ†é…äº†å“ªä¸ªç«¯å£ï¼›</li>
<li><strong>â€“entrypointï¼š</strong>æŠŠå‚æ•°æŒ‡å®šä¸ºå®¹å™¨çš„å…¥å£ï¼ˆentrypointï¼‰ï¼Œè¦†ç›–ä»»ä½•Dockerï¬leä¸­çš„ENTRYPOINTæŒ‡ä»¤ï¼›</li>
<li><strong>-u, â€“userï¼š</strong>è®¾ç½®å‘½ä»¤è¿è¡Œæ—¶æ‰€ä½¿ç”¨çš„ç”¨æˆ·ï¼Œè¦†ç›–ä»»ä½•Dockerï¬leä¸­çš„USERæŒ‡ä»¤ï¼›</li>
<li><strong>-w, â€“workdirï¼š</strong>å°†å‚æ•°çš„è·¯å¾„è®¾ç½®ä¸ºå®¹å™¨çš„å·¥ä½œç›®å½•ã€‚æ­¤é€‰é¡¹ä¼šè¦†ç›– Dockerï¬le ä¸­çš„ WORKDIR æŒ‡ä»¤ã€‚</li>
</ol>
<h2 id="å®¹å™¨ç®¡ç†å‘½ä»¤"><a href="#å®¹å™¨ç®¡ç†å‘½ä»¤" class="headerlink" title="å®¹å™¨ç®¡ç†å‘½ä»¤"></a>å®¹å™¨ç®¡ç†å‘½ä»¤</h2><ol>
<li>docker attach [OPTIONS] CONTAINERï¼šattach å‘½ä»¤å…è®¸ç”¨æˆ·æŸ¥çœ‹å®¹å™¨å†…çš„ä¸»è¿›ç¨‹ï¼Œæˆ–ä¸å®ƒè¿›è¡Œäº¤äº’ï¼›</li>
<li>docker create ï¼šä»é•œåƒåˆ›å»ºå®¹å™¨ï¼Œä½†ä¸å¯åŠ¨å®ƒï¼›</li>
<li>docker cpï¼šåœ¨å®¹å™¨å’Œä¸»æœºä¹‹é—´å¤åˆ¶æ–‡ä»¶å’Œç›®å½•ï¼›</li>
<li>docker execï¼šåœ¨å®¹å™¨ä¸­è¿è¡Œä¸€ä¸ªå‘½ä»¤ï¼Œå¯ç”¨äºæ‰§è¡Œç»´æŠ¤å·¥ä½œï¼Œæˆ–æ›¿ä»£ SSH ç”¨ä½œç™»å…¥å®¹å™¨ï¼›</li>
<li>docker killï¼šå‘é€ä¿¡å·ç»™å®¹å™¨ä¸­çš„ä¸»è¿›ç¨‹ï¼ˆPID 1ï¼‰ï¼›</li>
<li>docker pauseï¼šæš‚åœå®¹å™¨å†…çš„æ‰€æœ‰è¿›ç¨‹ï¼›</li>
<li>docker restartï¼šé‡æ–°å¯åŠ¨ä¸€ä¸ªæˆ–å¤šä¸ªå®¹å™¨ï¼›</li>
<li>docker rmï¼šåˆ é™¤ä¸€ä¸ªæˆ–å¤šä¸ªå®¹å™¨ï¼›</li>
<li>docker startï¼šå¯åŠ¨ä¸€ä¸ªæˆ–å¤šä¸ªå·²åœæ­¢çš„å®¹å™¨ï¼›</li>
<li>docker stopï¼šåœæ­¢ï¼ˆä½†ä¸åˆ é™¤ï¼‰ä¸€ä¸ªæˆ–å¤šä¸ªå®¹å™¨ï¼›</li>
<li>docker unpauseï¼šé‡å¯å…ˆå‰è¢« docker pause å‘½ä»¤æš‚åœçš„å®¹å™¨ã€‚</li>
</ol>
<h2 id="Dockerä¿¡æ¯å‘½ä»¤"><a href="#Dockerä¿¡æ¯å‘½ä»¤" class="headerlink" title="Dockerä¿¡æ¯å‘½ä»¤"></a>Dockerä¿¡æ¯å‘½ä»¤</h2><ol>
<li>docker infoï¼šæ‰“å°Dockerç³»ç»Ÿå’Œä¸»æœºçš„å„ç§ä¿¡æ¯ï¼›</li>
<li>docker helpï¼šæŠŠä¸€ä¸ªå­å‘½ä»¤ä½œä¸ºå‚æ•°ï¼Œæ‰“å°æœ‰å…³è¯¥å­å‘½ä»¤çš„ä½¿ç”¨æ–¹æ³•å’Œå¸®åŠ©ä¿¡æ¯ï¼›</li>
<li>docker versionï¼šæ‰“å°Dockerå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç‰ˆæœ¬ï¼Œä»¥åŠç¼–è¯‘æ—¶ä½¿ç”¨çš„Goç‰ˆæœ¬ã€‚</li>
</ol>
<h2 id="Dockerå®¹å™¨ä¿¡æ¯å‘½ä»¤"><a href="#Dockerå®¹å™¨ä¿¡æ¯å‘½ä»¤" class="headerlink" title="Dockerå®¹å™¨ä¿¡æ¯å‘½ä»¤"></a>Dockerå®¹å™¨ä¿¡æ¯å‘½ä»¤</h2><ol>
<li>docker diffï¼šå¯¹æ¯”å®¹å™¨æ‰€ä½¿ç”¨çš„é•œåƒï¼Œæ˜¾ç¤ºå®¹å™¨çš„æ–‡ä»¶ç³»ç»Ÿçš„å˜åŒ–ï¼›</li>
<li>docker eventsï¼šæ‰“å°å®ˆæŠ¤è¿›ç¨‹çš„å®æ—¶äº‹ä»¶ï¼›</li>
<li>docker inspectï¼šæŠŠå®¹å™¨æˆ–é•œåƒä½œä¸ºå‚æ•°ï¼Œè·å–å®ƒä»¬çš„è¯¦ç»†ä¿¡æ¯ï¼›</li>
<li>docker logsï¼šè¾“å‡ºå®¹å™¨çš„â€œæ—¥å¿—â€ï¼›</li>
<li>docker portï¼šæŠŠå®¹å™¨ä½œä¸ºå‚æ•°ï¼Œåˆ—å‡ºå®ƒçš„ç«¯å£æ˜ å°„ä¿¡æ¯ï¼›</li>
<li>docker psï¼šæä¾›å…³äºå½“å‰å®¹å™¨çš„é«˜é˜¶ä¿¡æ¯ï¼Œ ä¾‹å¦‚åç§°ã€ID å’ŒçŠ¶æ€ï¼›</li>
<li>docker topï¼šæŠŠå®¹å™¨ä½œä¸ºå‚æ•°ï¼Œ æä¾›è¯¥å®¹å™¨å†…è¿è¡Œä¸­è¿›ç¨‹çš„ä¿¡æ¯ã€‚</li>
</ol>
<h2 id="Dockeré•œåƒç®¡ç†å‘½ä»¤"><a href="#Dockeré•œåƒç®¡ç†å‘½ä»¤" class="headerlink" title="Dockeré•œåƒç®¡ç†å‘½ä»¤"></a>Dockeré•œåƒç®¡ç†å‘½ä»¤</h2><ol>
<li>docker buildï¼šä»Dockerï¬leå»ºç«‹é•œåƒï¼›</li>
<li>docker commitï¼šä»æŒ‡å®šçš„å®¹å™¨åˆ›å»ºé•œåƒï¼›</li>
<li>docker exportï¼šå°†å®¹å™¨çš„æ–‡ä»¶ç³»ç»Ÿä¸­çš„å†…å®¹ä»¥ tar å½’æ¡£çš„æ ¼å¼å¯¼å‡ºï¼Œå¹¶è¾“å‡ºåˆ° STDOUTï¼›</li>
<li>docker historyï¼šè¾“å‡ºé•œåƒä¸­æ¯ä¸ªé•œåƒå±‚çš„ä¿¡æ¯ï¼›</li>
<li>docker imagesï¼šåˆ—å‡ºæ‰€æœ‰æœ¬åœ°é•œåƒï¼ŒåŒ…æ‹¬åº“åç§°ã€æ ‡ç­¾åç§°ä»¥åŠé•œåƒå¤§å°ç­‰ä¿¡æ¯ï¼›</li>
<li>docker importï¼šä»ä¸€ä¸ªå«æœ‰æ–‡ä»¶ç³»ç»Ÿçš„å½’æ¡£æ–‡ä»¶åˆ›å»ºé•œåƒï¼Œå½’æ¡£å¯ä»¥ç”± docker export äº§ç”Ÿï¼›</li>
<li>docker loadï¼šåŠ è½½ä»“åº“ï¼Œ ä»“åº“ä»¥ tar å½’æ¡£çš„å½¢å¼ä» STDIN è¯»å…¥ï¼›</li>
<li>docker rmiï¼šåˆ é™¤æŒ‡å®šçš„ä¸€ä¸ªæˆ–å¤šä¸ªé•œåƒï¼›</li>
<li>docker saveï¼šæŠŠæŒ‡å®šçš„é•œåƒæˆ–ä»“åº“å‚¨å­˜åˆ° tar å½’æ¡£ï¼Œ å¹¶è¾“å‡ºåˆ° STDOUT ï¼›</li>
<li>docker tagï¼šå°†é•œåƒä¸ä¸€ä¸ªä»“åº“å’Œæ ‡ç­¾åç§°å…³è”ã€‚</li>
</ol>
<h2 id="Dockerä»“åº“å‘½ä»¤"><a href="#Dockerä»“åº“å‘½ä»¤" class="headerlink" title="Dockerä»“åº“å‘½ä»¤"></a>Dockerä»“åº“å‘½ä»¤</h2><ol>
<li>docker loginï¼šåœ¨æŒ‡å®šçš„å¯„å­˜æœåŠ¡å™¨è¿›è¡Œæ³¨å†Œæˆ–ç™»å½•ï¼›</li>
<li>docker logoutï¼šä»Dockerå¯„å­˜æœåŠ¡å™¨æ³¨é”€ï¼›</li>
<li>docker pullï¼šä»å¯„å­˜æœåŠ¡å™¨ä¸‹è½½æŒ‡å®šçš„é•œåƒï¼›</li>
<li>docker pushï¼šå°†é•œåƒæˆ–ä»“åº“æ¨é€åˆ°å¯„å­˜æœåŠ¡å™¨ï¼›</li>
<li>docker searchï¼šåˆ—å‡º Docker Hub ä¸ŠåŒ¹é…æœç´¢è¯çš„å…¬å…±ä»“åº“ã€‚</li>
</ol>
<hr>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>è¿™éƒ¨åˆ†æ˜¯å¸¸ç”¨çš„Dockerå‘½ä»¤,å¯ä»¥è¿›è¡Œé€ŸæŸ¥,åŠ æ·±ä¸€ä¸‹å°è±¡å§!</p>
]]></content>
      <categories>
        <category>Docker</category>
      </categories>
  </entry>
  <entry>
    <title>Clean Code</title>
    <url>/2020/04/22/Clean-Code/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>ä¸ºä»€ä¹ˆè¦æ•´æ´çš„ä»£ç å‘¢ï¼Ÿé¦–å…ˆæ˜¯ä¸ªç¨‹åºå‘˜ï¼Œå…¶æ¬¡æƒ³æˆä¸ºæ›´å¥½çš„ç¨‹åºå‘˜ã€‚å†™ä»£ç ä»æ¥ä¸æ˜¯é—®é¢˜ï¼Œä½†æ˜¯å†™å‡ºæ¥ä¼˜è´¨çš„ä»£ç æ¥è¯´å°±ç›¸å¯¹æ¥è¯´éš¾å¾ˆå¤šï¼æ¸…ç†ä»£ç  æ°¸è¿œä¸èƒ½ç­‰æœ‰æœä¸€æ—¥å†å›å¤´æ¸…ç†ï¼Œå› ä¸ºç¨åç­‰äºæ°¸è¿œä¸â€”Later equals neverï¼</p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="æœ‰æ„ä¹‰çš„å‘½å"><a href="#æœ‰æ„ä¹‰çš„å‘½å" class="headerlink" title="æœ‰æ„ä¹‰çš„å‘½å"></a>æœ‰æ„ä¹‰çš„å‘½å</h2><ol>
<li>ç»™å˜é‡ã€å‡½æ•°ã€å‚æ•°ã€ç±»å’Œå°åŒ…å‘½åéœ€è¦ç¬¦åˆä¸€å®šçš„è§„èŒƒï¼›</li>
<li>å¿…é¡»é¿å…ç•™ä¸‹æ©è—ä»£ç æœ¬æ„çš„é”™è¯¯çº¿ç´¢ï¼Œé¿å…ä½¿ç”¨ä¸æœ¬æ„ç›¸æ‚–çš„è¯ï¼›</li>
<li>å ¤é˜²ä½¿ç”¨ä¸åŒä¹‹å¤„è¾ƒå°çš„åç§°ï¼›</li>
<li>ä¸åº”å½“è®©å…¶ä»–ç¨‹åºå‘˜åœ¨è„‘ä¸­ç¿»è¯‘æˆä»–ä»¬ç†ŸçŸ¥çš„åç§°ï¼Œè€Œåœ¨ä½ è¿™å¹¶ä¸æ˜¯è¿™ä¸ªæ„æ€ï¼›</li>
<li>æ·»åŠ æœ‰æ„ä¹‰çš„è¯­å¢ƒçš„åç§°ï¼›</li>
</ol>
<h2 id="å‡½æ•°"><a href="#å‡½æ•°" class="headerlink" title="å‡½æ•°"></a>å‡½æ•°</h2><ol>
<li>å‡½æ•°åº”è¯¥åšä¸€ä»¶äº‹ï¼Œåšå¥½è¿™ä»¶äº‹ï¼Œè€Œä¸”åªåšè¿™ä¸€ä»¶äº‹ï¼›</li>
<li>å‘½åæ–¹å¼è¦ä¿æŒä¸€è‡´ï¼Œä½¿ç”¨ä¸æ¨¡å—åä¸€è„‰ç›¸æ‰¿çš„çŸ­è¯­ã€åè¯å’ŒåŠ¨è¯ç»™å‡½æ•°å‘½åï¼›</li>
<li>æœ€ç†æƒ³çš„å‚æ•°æ•°é‡æ˜¯é›¶ä¸ªï¼Œå…¶æ¬¡æ˜¯ä¸€ä¸ªå‚æ•°ï¼Œå†è€…æ˜¯äºŒä¸ªï¼Œå°½é‡é¿å…ä¸‰ä¸ªä»¥ä¸Šçš„å‚æ•°ï¼›</li>
</ol>
<h2 id="æ³¨é‡Š"><a href="#æ³¨é‡Š" class="headerlink" title="æ³¨é‡Š"></a>æ³¨é‡Š</h2><ol>
<li>å¦‚æœæ³¨é‡Šä¸èƒ½è¯´æ˜é—®é¢˜ï¼Œé‚£ä¹ˆè¿˜ä¸å¦‚ä¸æ³¨é‡Šï¼›</li>
<li>å†™æ³¨é‡Šä¹Ÿä¸èƒ½ç¾åŒ–å†™çš„ç³Ÿç³•çš„ä»£ç ï¼›</li>
<li>æœ‰ç†ç”±ç”¨//TODOå½¢å¼åœ¨æºä»£ç ä¸­æ”¾ç½®è¦åšçš„å·¥ä½œåˆ—è¡¨ï¼›</li>
</ol>
<h2 id="æ ¼å¼"><a href="#æ ¼å¼" class="headerlink" title="æ ¼å¼"></a>æ ¼å¼</h2><ol>
<li>ä»£ç æ ¼å¼å¾ˆé‡è¦ï¼Œå¿…é¡»ä¸¥è‚ƒå¯¹å¾…ï¼›</li>
<li>å˜é‡å£°æ˜åº”å°½å¯èƒ½é è¿‘å…¶ä½¿ç”¨ä½ç½®ï¼›</li>
<li>å®ä½“å˜é‡åº”è¯¥åœ¨ç±»çš„é¡¶éƒ¨å£°æ˜ï¼›</li>
<li>æ¦‚å¿µç›¸å…³çš„ä»£ç åº”è¯¥æ”¾åˆ°ä¸€èµ·ï¼›</li>
<li>ä¸€ç»„å¼€å‘è€…åº”å½“è®¤åŒä¸€ç§æ ¼å¼é£æ ¼ï¼Œæ¯ä¸ªæˆå‘˜éƒ½åº”è¯¥é‚£ç§é£æ ¼ï¼›</li>
</ol>
<h2 id="é”™è¯¯å¤„ç†"><a href="#é”™è¯¯å¤„ç†" class="headerlink" title="é”™è¯¯å¤„ç†"></a>é”™è¯¯å¤„ç†</h2><ol>
<li>é”™è¯¯å¤„ç†æ˜¯ç¼–ç¨‹æ—¶å¿…é¡»è¦åšçš„äº‹æƒ…ä¹‹ä¸€ï¼Œè¾“å…¥å¯èƒ½å‡ºç°å¼‚å¸¸ï¼Œè®¾å¤‡å¯èƒ½å¤±æ•ˆï¼›</li>
<li>å¤šä½¿ç”¨try-catch-finnallyè¯­å¥ï¼›</li>
<li>åˆ«è¿”å›nullå€¼ï¼›</li>
</ol>
<h2 id="è¾¹ç•Œå¤„ç†"><a href="#è¾¹ç•Œå¤„ç†" class="headerlink" title="è¾¹ç•Œå¤„ç†"></a>è¾¹ç•Œå¤„ç†</h2><ol>
<li>è¾¹ç•Œä¸Šä¼šå‘ç”Ÿæœ‰è¶£çš„äº‹æƒ…ï¼Œè¾¹ç•Œä¸Šçš„ä»£ç éœ€è¦æ¸…æ™°çš„åˆ†å‰²å’Œå®šä¹‰äº†æœŸæœ›çš„æµ‹è¯•ï¼›</li>
</ol>
<h2 id="å•å…ƒæµ‹è¯•"><a href="#å•å…ƒæµ‹è¯•" class="headerlink" title="å•å…ƒæµ‹è¯•"></a>å•å…ƒæµ‹è¯•</h2><ol>
<li>åœ¨ç¼–å†™ä¸èƒ½é€šè¿‡çš„å•å…ƒæµ‹è¯•å‰ï¼Œä¸å¯ç¼–å†™ç”Ÿäº§ä»£ç ï¼›</li>
<li>åªå¯ç¼–å†™åˆšå¥½æ— æ³•é€šè¿‡çš„å•å…ƒæµ‹è¯•ï¼Œä¸èƒ½ç¼–è¯‘ä¹Ÿç®—ä¸é€šè¿‡ï¼›</li>
<li>åªå¯ç¼–å†™åˆšå¥½è¶³ä»¥é€šè¿‡å½“å‰å¤±è´¥æµ‹è¯•çš„ç”Ÿäº§ä»£ç ï¼›</li>
<li>æµ‹è¯•ä»£ç å’Œç”Ÿäº§ä»£ç ä¸€æ ·é‡è¦ï¼›</li>
<li>æ•´æ´æµ‹è¯•çš„ä¸‰è¦ç´ ï¼šå¯è¯»æ€§ï¼Œå¯è¯»æ€§è¿˜æ˜¯å¯è¯»æ€§ï¼›</li>
<li>JUnitä¸­æ¯ä¸ªæµ‹è¯•å‡½æ•°éƒ½åº”è¯¥æœ‰ä¸”åªæœ‰ä¸€ä¸ªæ–­è¨€è¯­å¥ï¼›</li>
<li>FIRST: å¿«é€Ÿã€ç‹¬ç«‹ã€å¯é‡å¤ã€è‡ªè¶³éªŒè¯ã€åŠæ—¶ï¼›</li>
</ol>
<hr>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>å†™å‡ºæ¯”è¾ƒåˆä¹è§„èŒƒçš„ä»£ç æ‰æ˜¯å¥½çš„ä»£ç ï¼Œå…»æˆè‰¯å¥½çš„ä¹ æƒ¯éå¸¸é‡è¦ï¼Œæˆä¸ºä¸€ä¸ªè‰¯å¥½çš„ç¨‹åºå‘˜å§ï¼ŒKeeping Movingï¼</p>
]]></content>
      <categories>
        <category>Code</category>
      </categories>
  </entry>
  <entry>
    <title>Docker Data Persistence</title>
    <url>/2020/05/05/Docker-Data-Persistence/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>Dockerçš„ç†å¿µæ˜¯å°†åº”ç”¨å’Œè¿è¡Œçš„ç¯å¢ƒæ‰“åŒ…å½¢æˆå®¹å™¨è¿è¡Œï¼Œæ•°æ®å¯ä»¥ä¼´éšç€å®¹å™¨çš„å­˜åœ¨è€Œä¿æŒï¼Œä½†æ˜¯å¸Œæœ›å¯¹äº§ç”Ÿçš„æ•°æ®è¿›è¡ŒæŒä¹…åŒ–ï¼Œäºæ˜¯æ•°æ®å·è¿™ç§æ¦‚å¿µä»¥åŠæŠ€æœ¯äº§ç”Ÿäº†ï¼š</p>
<ul>
<li>å®¹å™¨ä¹‹é—´å¸Œæœ›æœ‰å¯èƒ½å…±äº«æ•°æ®</li>
<li>Dockerå®¹å™¨äº§ç”Ÿçš„æ•°æ®ï¼Œå¦‚æœä¸èƒ½é€šè¿‡docker commitç”Ÿæˆæ–°çš„é•œåƒï¼Œä½¿å¾—æ•°æ®ä½œä¸ºé•œåƒçš„ä¸€éƒ¨åˆ†ä¿å­˜ä¸‹æ¥ï¼Œé‚£ä¹ˆå½“å®¹å™¨åˆ é™¤åï¼Œæ•°æ®è‡ªç„¶ä¹Ÿå°±æ²¡æœ‰äº†</li>
<li>ä¸ºäº†èƒ½å¤Ÿä¿å­˜æ•°æ®ï¼Œåœ¨dockerä¸­éœ€è¦ä½¿ç”¨æ•°æ®å·å’Œæ•°æ®å·å®¹å™¨</li>
</ul>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="åŸºç¡€æ¦‚å¿µ"><a href="#åŸºç¡€æ¦‚å¿µ" class="headerlink" title="åŸºç¡€æ¦‚å¿µ"></a>åŸºç¡€æ¦‚å¿µ</h2><ol>
<li><p>æ•°æ®å·ï¼šåœ¨å®¿ä¸»ä¸­å¯ä»¥åœ¨å®¹å™¨ä¹‹é—´è¿›è¡Œå…±äº«å’Œé‡ç”¨çš„ä¸€ç³»åˆ—å’Œæ–‡ä»¶å’Œæ–‡ä»¶å¤¹ï¼›</p>
</li>
<li><p>æ•°æ®å·å®¹å™¨ï¼šå®¹å™¨æŒ‚è½½æ•°æ®å·åï¼Œå…¶å®ƒå®¹å™¨é€šè¿‡æŒ‚è½½è¿™ä¸ªçˆ¶å®¹å™¨å®ç°æ•°æ®å…±äº«ï¼ŒæŒ‚è½½æ•°æ®å·çš„å®¹å™¨ï¼Œç§°ä¹‹ä¸ºæ•°æ®å·å®¹å™¨ï¼›</p>
</li>
<li><p>Dockeré•œåƒæ˜¯æœ‰å¤šå±‚åªè¯»æ–‡ä»¶å åŠ è€Œæˆï¼Œå½“è¿è¡Œèµ·ä¸€ä¸ªå®¹å™¨çš„æ—¶å€™ï¼ŒDockerä¼šåœ¨åˆ¶åªè¯»å±‚ä¸Šåˆ›å»ºä¸€ä¸ªè¯»å†™å±‚</p>
</li>
<li><p>Dockerå‘½ä»¤ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">attach    Attach to a running container                 # å½“å‰ shell ä¸‹ attach è¿æ¥æŒ‡å®šè¿è¡Œé•œåƒ</span><br><span class="line">build     Build an im from a Docker registry server          # ä»å½“å‰ Docker registry é€€å‡º</span><br><span class="line">logs      Fetch the logs of a container                 # è¾“å‡ºå½“å‰å®¹å™¨æ—¥å¿—ä¿¡æ¯</span><br><span class="line">port      Lookup the public-facing port which is NAT-ed to PRIVATE_PORT    # æŸ¥çœ‹æ˜ å°„ç«¯å£å¯¹åº”çš„å®¹å™¨å†…éƒ¨æºç«¯å£</span><br><span class="line">pause     Pause all processes within a container        # æš‚åœå®¹å™¨</span><br><span class="line">ps        List containers                               # åˆ—å‡ºå®¹å™¨åˆ—è¡¨</span><br><span class="line">pull      Pull an image or a repository from the docker registry server   # ä»dockeré•œåƒæºæœåŠ¡å™¨æ‹‰å–æŒ‡å®šé•œåƒæˆ–è€…åº“é•œåƒ</span><br><span class="line">push      Push an image or a repository to the docker registry server    # æ¨é€æŒ‡å®šé•œåƒæˆ–è€…åº“é•œåƒè‡³dockeræºæœåŠ¡å™¨</span><br><span class="line">restart   Restart a running container                   # é‡å¯è¿è¡Œçš„å®¹å™¨</span><br><span class="line">rm        Remove one or more containers                 # ç§»é™¤ä¸€ä¸ªæˆ–è€…å¤šä¸ªå®¹å™¨</span><br><span class="line">rmi       Remove one or more images             # ç§»é™¤ä¸€ä¸ªæˆ–å¤šä¸ªé•œåƒ[æ— å®¹å™¨ä½¿ç”¨è¯¥é•œåƒæ‰å¯åˆ é™¤ï¼Œå¦åˆ™éœ€åˆ é™¤ç›¸å…³å®¹å™¨æ‰å¯ç»§ç»­æˆ– -f å¼ºåˆ¶åˆ é™¤]</span><br><span class="line">run       Run a command in a new container              # åˆ›å»ºä¸€ä¸ªæ–°çš„å®¹å™¨å¹¶è¿è¡Œä¸€ä¸ªå‘½ä»¤</span><br><span class="line">save      Save an image to a tar archive                # ä¿å­˜ä¸€ä¸ªé•œåƒä¸ºä¸€ä¸ª tar åŒ…[å¯¹åº” load]</span><br><span class="line">search    Search for an image on the Docker Hub         # åœ¨ docker hub ä¸­æœç´¢é•œåƒ</span><br><span class="line">start     Start a stopped containers                    # å¯åŠ¨å®¹å™¨</span><br><span class="line">stop      Stop a running containers                     # åœæ­¢å®¹å™¨</span><br><span class="line">tag       Tag an image into a repository                # ç»™æºä¸­é•œåƒæ‰“æ ‡ç­¾</span><br><span class="line">top       Lookup the running processes of a container   # æŸ¥çœ‹å®¹å™¨ä¸­è¿è¡Œçš„è¿›ç¨‹ä¿¡æ¯</span><br><span class="line">unpause   Unpause a paused container                    # å–æ¶ˆæš‚åœå®¹å™¨</span><br><span class="line">version   Show the docker version information           # æŸ¥çœ‹ docker ç‰ˆæœ¬å·</span><br><span class="line">wait      Block until a container stops, then print its exit code   # æˆªå–å®¹å™¨åœæ­¢æ—¶çš„é€€å‡ºçŠ¶æ€å€¼age from a Dockerfile              # é€šè¿‡ Dockerfile å®šåˆ¶é•œåƒ</span><br><span class="line">commit    Create a new image from a container changes   # æäº¤å½“å‰å®¹å™¨ä¸ºæ–°çš„é•œåƒ</span><br><span class="line">cp        Copy files/folders from the containers filesystem to the host path   #ä»å®¹å™¨ä¸­æ‹·è´æŒ‡å®šæ–‡ä»¶æˆ–è€…ç›®å½•åˆ°å®¿ä¸»æœºä¸­</span><br><span class="line">create    Create a new container                        # åˆ›å»ºä¸€ä¸ªæ–°çš„å®¹å™¨ï¼ŒåŒ runï¼Œä½†ä¸å¯åŠ¨å®¹å™¨</span><br><span class="line">diff      Inspect changes on a container's filesystem   # æŸ¥çœ‹ docker å®¹å™¨å˜åŒ–</span><br><span class="line">events    Get real time events from the server          # ä» docker æœåŠ¡è·å–å®¹å™¨å®æ—¶äº‹ä»¶</span><br><span class="line">exec      Run a command in an existing container        # åœ¨å·²å­˜åœ¨çš„å®¹å™¨ä¸Šè¿è¡Œå‘½ä»¤</span><br><span class="line">export    Stream the contents of a container as a tar archive   # å¯¼å‡ºå®¹å™¨çš„å†…å®¹æµä½œä¸ºä¸€ä¸ª tar å½’æ¡£æ–‡ä»¶[å¯¹åº” import ]</span><br><span class="line">history   Show the history of an image                  # å±•ç¤ºä¸€ä¸ªé•œåƒå½¢æˆå†å²</span><br><span class="line">images    List images                                   # åˆ—å‡ºç³»ç»Ÿå½“å‰é•œåƒ</span><br><span class="line">import    Create a new filesystem image from the contents of a tarball # ä»taråŒ…ä¸­çš„å†…å®¹åˆ›å»ºä¸€ä¸ªæ–°çš„æ–‡ä»¶ç³»ç»Ÿæ˜ åƒ[å¯¹åº”export]</span><br><span class="line">info      Display system-wide information               # æ˜¾ç¤ºç³»ç»Ÿç›¸å…³ä¿¡æ¯</span><br><span class="line">inspect   Return low-level information on a container   # æŸ¥çœ‹å®¹å™¨è¯¦ç»†ä¿¡æ¯</span><br><span class="line">kill      Kill a running container                      # kill æŒ‡å®š docker å®¹å™¨</span><br><span class="line">load      Load an image from a tar archive              # ä»ä¸€ä¸ª tar åŒ…ä¸­åŠ è½½ä¸€ä¸ªé•œåƒ[å¯¹åº” save]</span><br><span class="line">login     Register or Login to the docker registry server    # æ³¨å†Œæˆ–è€…ç™»é™†ä¸€ä¸ª docker æºæœåŠ¡å™¨</span><br><span class="line">logout    Log out</span><br></pre></td></tr></table></figure>
</li>
<li><p>Dockerå‘½ä»¤å›¾è°±ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/7691a074c5b1bd703754bd9631dffe75-214744" alt="Dockerå‘½ä»¤"></p>
</li>
</ol>
<h2 id="ä½¿ç”¨æ•°æ®å·"><a href="#ä½¿ç”¨æ•°æ®å·" class="headerlink" title="ä½¿ç”¨æ•°æ®å·"></a>ä½¿ç”¨æ•°æ®å·</h2><ol>
<li><p>Dockerçš„æ•°æ®å·å’Œæ•°æ®å·å®¹å™¨çš„ä½œç”¨ï¼š</p>
<ul>
<li>å®¹å™¨çš„æŒä¹…åŒ–</li>
<li>å®¹å™¨é—´ç»§æ‰¿å’Œå…±äº«æ•°æ®</li>
<li>å¯¹æ•°æ®å·çš„æ›´æ–°ä¸ä¼šå½±å“é•œåƒï¼Œè§£è€¦äº†åº”ç”¨å’Œæ•°æ®</li>
<li>å¯¹æ•°æ®å·å†…æ•°æ®çš„ä¿®æ”¹ä¼šç«‹é©¬ç”Ÿæ•ˆï¼Œæ— è®ºæ˜¯å®¹å™¨å†…æ“ä½œè¿˜æ˜¯æœ¬åœ°æ“ä½œ</li>
<li>å·ä¼šä¸€ç›´å­˜åœ¨ï¼Œç›´åˆ°æ²¡æœ‰å®¹å™¨ä½¿ç”¨ï¼Œå¯ä»¥å®‰å…¨åœ°å¸è½½å®ƒ</li>
</ul>
</li>
<li><p>Dockeråˆ†å±‚ç»“æ„ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/c2d65c984cb0cc26897a87dde20af85f-47885" alt="Dockerå®¹å™¨ç»“æ„"></p>
</li>
<li><p>ä½¿ç”¨å‘½ä»¤ä½¿ç”¨æ•°æ®å·ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> ä¸å¸¦æƒé™çš„æŒ‚è½½</span></span><br><span class="line">docker run -it -v å®¿ä¸»æœºç›®å½•çš„ç»å¯¹è·¯å¾„:å®¹å™¨å†…ç›®å½•çš„ç»å¯¹è·¯å¾„ é•œåƒå</span><br><span class="line"><span class="meta">#</span><span class="bash"> å¸¦æƒé™çš„æŒ‚è½½</span></span><br><span class="line">docker run -it -v å®¿ä¸»æœºç›®å½•ç»å¯¹è·¯å¾„:å®¹å™¨å†…ç›®å½•ç»å¯¹è·¯å¾„:ro é•œåƒåæˆ–é•œåƒid</span><br><span class="line"><span class="meta">#</span><span class="bash"> roï¼šè¡¨ç¤º<span class="built_in">read</span> onlyï¼Œè¡¨ç¤ºåªè¯»ï¼Œå³å®¹å™¨å†…çš„é‚£ä¸ªæ•°æ®å·çš„ç›®å½•åªå¯ä»¥æŸ¥çœ‹æ–‡ä»¶ã€ç›®å½•ç­‰</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>å¯ä»¥ä½¿ç”¨inspectæ¥çœ‹æ˜¯å¦æŒ‚è½½æˆåŠŸï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker inspect å®¹å™¨idæˆ–å®¹å™¨å</span><br></pre></td></tr></table></figure>
</li>
<li><p>Dockerfileæ·»åŠ æ•°æ®å·ï¼ˆä¸æ”¯æŒæŒ‡å®šå®¿ä¸»æœºæŒ‚è½½ä½ç½®ï¼‰ï¼š</p>
<figure class="highlight dockerfile"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ä½¿ç”¨VOLUMEæŒ‡ä»¤æ¥ç»™é•œåƒæ·»åŠ ä¸€ä¸ªæˆ–å¤šä¸ªå®¹å™¨å·</span></span><br><span class="line"><span class="keyword">FROM</span> centos</span><br><span class="line"><span class="keyword">VOLUME</span><span class="bash"> [<span class="string">"/dataVolumeContainer1"</span>,<span class="string">"/dataVolumeContainer2"</span>]</span></span><br><span class="line"><span class="keyword">CMD</span><span class="bash"> <span class="built_in">echo</span> <span class="string">"finished,--------success1"</span></span></span><br><span class="line"><span class="keyword">CMD</span><span class="bash"> /bin/bash</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>æ„å»ºé•œåƒï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker build -f Dockerfileæ–‡ä»¶çš„åç§° -t é•œåƒçš„åç§° è·¯å¾„</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ³¨æ„ï¼šå¦‚æœDockeråœ¨æŒ‚è½½ä¸»æœºç›®å½•æ—¶ï¼Œå‡ºç°cannot open directory:Permission deniedé—®é¢˜ï¼Œåªéœ€è¦å¢åŠ â€“privileged=trueå‚æ•°å³å¯ï¼›</p>
</li>
<li><p>å¯åŠ¨ç¬¬2ä¸ªå®¹å™¨å¹¶ç»§æ‰¿æ•°æ®å·å®¹å™¨ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker run -it --name="å®¹å™¨çš„åç§°" --volumes-from="çˆ¶å®¹å™¨çš„åç§°æˆ–çˆ¶å®¹å™¨çš„id" é•œåƒidæˆ–é•œåƒåç§°</span><br></pre></td></tr></table></figure>
</li>
<li><p>å®¹å™¨ä¹‹é—´é…ç½®ä¿¡æ¯çš„ä¼ é€’ï¼Œæ•°æ®å·çš„ç”Ÿå‘½å‘¨æœŸä¸€ç›´æŒç»­åˆ°æ²¡æœ‰å®¹å™¨ä½¿ç”¨å®ƒä¸ºæ­¢ï¼</p>
</li>
<li><p>ç®¡ç†å®¹å™¨å·ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker volume create å®¹å™¨å·åç§° // åˆ›å»ºä¸€ä¸ªè‡ªå®šä¹‰å®¹å™¨å·</span><br><span class="line">docker volume ls // æŸ¥çœ‹æ‰€æœ‰å®¹å™¨å·</span><br><span class="line">docker volume inspect å®¹å™¨å·åç§° // æŸ¥çœ‹æŒ‡å®šå®¹å™¨å·è¯¦æƒ…ä¿¡æ¯</span><br><span class="line">docker volume rm å®¹å™¨å·åç§° // åˆ é™¤è‡ªå®šä¹‰æ•°æ®å·</span><br><span class="line">docker run -d -it --name=å®¹å™¨å·åç§° -p 8800:80 -v edc-nginx-vol:/usr/share/nginx/html nginx</span><br></pre></td></tr></table></figure>
</li>
<li><p>å¤‡ä»½å®¹å™¨å·ï¼šåˆ›å»ºä¸€ä¸ªæ–°å®¹å™¨ï¼ŒæŒ‚è½½æ•°æ®å·å®¹å™¨ï¼ŒåŒæ—¶æŒ‚è½½ä¸€ä¸ªæœ¬åœ°ç›®å½•ï¼Œç„¶åæŠŠè¿œç¨‹æ•°æ®å·å®¹å™¨çš„æ•°æ®å·é€šè¿‡å¤‡ä»½å‘½ä»¤å¤‡ä»½åˆ°æ˜ å°„çš„æœ¬åœ°ç›®å½•é‡Œé¢</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> ç¤ºä¾‹ï¼š</span></span><br><span class="line">docker run --rm --volumes-from DATA -v $(pwd):/backup busybox tar cvf /backup/backup.tar /data</span><br></pre></td></tr></table></figure>


</li>
</ol>
<h1 id="åŠ¨æ‰‹å®æ“"><a href="#åŠ¨æ‰‹å®æ“" class="headerlink" title="åŠ¨æ‰‹å®æ“"></a>åŠ¨æ‰‹å®æ“</h1><h2 id="åˆ›å»ºæ•°æ®å·å®¹å™¨"><a href="#åˆ›å»ºæ•°æ®å·å®¹å™¨" class="headerlink" title="åˆ›å»ºæ•°æ®å·å®¹å™¨"></a>åˆ›å»ºæ•°æ®å·å®¹å™¨</h2><ol>
<li><p>ä½¿ç”¨å‘½ä»¤ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker docker run -it  -v /Users/wander/test/docker:/data ubuntu /bin/bash</span><br></pre></td></tr></table></figure>
</li>
<li><p>åˆ›å»ºæ•°æ®å·å®¹å™¨ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/7bfdf6c01b9f46417cb806a4684b1f30-41487" alt="æ•°æ®å·å®¹å™¨"></p>
</li>
<li><p>å®¿ä¸»æœºä¿®æ”¹å†…å®¹ï¼Œå®¹å™¨ä¸­æŸ¥çœ‹ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/b21ab0e3ef8707cfd9cdba3c4c68109e-45203" alt="å®¹å™¨æŸ¥çœ‹"></p>
</li>
<li><p>å®¹å™¨ä¿®æ”¹ï¼Œå®¿ä¸»æœºæŸ¥çœ‹ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/2fbeb82eb0dee81afabc9c375ac7ed74-26620" alt="å®¹å™¨åˆ é™¤"></p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/923a6b7a70109006315033e04a5b737e-23093" alt="å®¿ä¸»æœºæŸ¥çœ‹"></p>
</li>
<li><p>æŸ¥çœ‹å®¹å™¨ä¿¡æ¯ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/b9dae6e05eb70878852c7aaa857ea9d0-56419" alt="æŸ¥çœ‹å®¹å™¨ä¿¡æ¯"></p>
</li>
</ol>
<h2 id="å¯åŠ¨ç¬¬äºŒä¸ªå®¹å™¨æŒ‚è½½æ•°æ®å·å®¹å™¨"><a href="#å¯åŠ¨ç¬¬äºŒä¸ªå®¹å™¨æŒ‚è½½æ•°æ®å·å®¹å™¨" class="headerlink" title="å¯åŠ¨ç¬¬äºŒä¸ªå®¹å™¨æŒ‚è½½æ•°æ®å·å®¹å™¨"></a>å¯åŠ¨ç¬¬äºŒä¸ªå®¹å™¨æŒ‚è½½æ•°æ®å·å®¹å™¨</h2><ol>
<li><p>å‘½ä»¤ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker docker run -it --volumes-from 6b853b51efa0 ubuntu /bin/bash</span><br></pre></td></tr></table></figure>
</li>
<li><p>æŒ‚è½½æ•ˆæœï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/10dd6c6b12e6f37c79195c0ee7a4663c-48301" alt="æŒ‚è½½æ•ˆæœ"></p>
</li>
</ol>
<h2 id="å®¹å™¨å·"><a href="#å®¹å™¨å·" class="headerlink" title="å®¹å™¨å·"></a>å®¹å™¨å·</h2><ol>
<li><p>æŸ¥çœ‹å®¹å™¨å·ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker volume ls</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ•ˆæœï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/269e78dde7e66a49cf773f39e1183cc1-50651" alt="å®¹å™¨å·æ•ˆæœ"></p>
</li>
<li><p>æŸ¥çœ‹ä¸€ä¸ªæŒ‡å®šå®¹å™¨å·ä¿¡æ¯ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker volume inspect test</span><br></pre></td></tr></table></figure>
</li>
<li><p>å®¹å™¨å·ä¿¡æ¯ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/5935be04d1c33bfafb1441e2f2381941-57295" alt="å®¹å™¨å·ä¿¡æ¯"></p>
</li>
</ol>
]]></content>
      <categories>
        <category>Docker</category>
      </categories>
  </entry>
  <entry>
    <title>Docker ELK Platform</title>
    <url>/2020/04/27/Docker-ELK-Platform/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>ELKæ˜¯Elasticsearchã€Logstashã€Kibanaçš„é¦–å­—æ¯ç¼©å†™ï¼Œä»£è¡¨çš„æ˜¯ä¸€å¥—å¼€æºçš„åˆ†å¸ƒå¼æ—¥å¿—ç®¡ç†æ–¹æ¡ˆï¼Œä¸€ç§æ¯”è¾ƒä¼˜ç§€çš„æ—¥å¿—åˆ†æå¹³å°ï¼</p>
<p>å„è‡ªçš„åŠŸèƒ½ï¼š</p>
<ul>
<li>Elasticsearchï¼šè´Ÿè´£æ—¥å¿—å­˜å‚¨ã€æ£€ç´¢å’Œåˆ†æ</li>
<li>LogStashï¼šè´Ÿè´£æ—¥å¿—çš„æ”¶é›†ã€å¤„ç†</li>
<li>Kibanaï¼šè´Ÿè´£æ—¥å¿—çš„å¯è§†åŒ–</li>
</ul>
<p>è¿™éƒ¨åˆ†çš„è®°å½•ä¸»è¦æ¶‰åŠåˆ°å…¬å¸é¡¹ç›®é‡Œçš„æ—¥å¿—åˆ†ææ²¡æ³•éƒ¨ç½²åˆ°è‡ªå·±çš„iMacä¸Šï¼Œè€Œä¸”æ²¡æœ‰å¤šå°‘æ–‡ä»¶è¿›è¡Œè®°å½•ï¼Œå› ä¸ºè´¹äº†ç‚¹æ—¶é—´ï¼Œè¿˜æ˜¯è®°å½•ä¸‹åœ¨iMacä¸ŠDockeråŒ–çš„éƒ¨ç½²è¿‡ç¨‹ï¼ä¸ºäº†å­¦ä¹ è¿™éƒ¨åˆ†åŠŸèƒ½ï¼Œè¿˜éƒ¨ç½²äº†ä¸€ä¸ªnginxæœåŠ¡å™¨ï¼</p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="Dockerçš„å®‰è£…"><a href="#Dockerçš„å®‰è£…" class="headerlink" title="Dockerçš„å®‰è£…"></a>Dockerçš„å®‰è£…</h2><ol>
<li>æƒ³è¦DockeråŒ–ï¼Œé¦–å…ˆå¾—å®‰è£…Dockerï¼Œå®‰è£…éƒ¨åˆ†åœ¨å…¶ä»–æ–‡ç« ä¸­æœ‰è®°å½•ï¼</li>
<li><strong>ä¸€å®šè¦ç”¨é˜¿é‡Œçš„åŠ é€Ÿé•œåƒï¼Œå¦åˆ™pullé•œåƒçœŸçš„å¥½æ…¢ï¼</strong></li>
</ol>
<h2 id="ä¸‹è½½ç›¸å…³çš„é•œåƒ"><a href="#ä¸‹è½½ç›¸å…³çš„é•œåƒ" class="headerlink" title="ä¸‹è½½ç›¸å…³çš„é•œåƒ"></a>ä¸‹è½½ç›¸å…³çš„é•œåƒ</h2><ol>
<li><strong>æ²¡ä»€ä¹ˆå¥½è¯´çš„ï¼Œä¸è¦ä½¿ç”¨latestæ ‡ç­¾pullé•œåƒï¼</strong></li>
<li>ä½¿ç”¨<a href="https://hub.docker.com/æœç´¢é•œåƒçš„ç‰ˆæœ¬ï¼Œåœ¨æˆ‘éƒ¨ç½²ELKçš„æ—¶å€™éƒ½æ˜¯7.6.2ç‰ˆæœ¬ï¼›" target="_blank" rel="noopener">https://hub.docker.com/æœç´¢é•œåƒçš„ç‰ˆæœ¬ï¼Œåœ¨æˆ‘éƒ¨ç½²ELKçš„æ—¶å€™éƒ½æ˜¯7.6.2ç‰ˆæœ¬ï¼›</a></li>
<li>ä½¿ç”¨å‘½ä»¤ä¸‹è½½å››ä¸ªé•œåƒï¼š</li>
</ol>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> ä¸‹è½½elkå®˜æ–¹åŸºç¡€é•œåƒ</span></span><br><span class="line">docker pull logstash:7.6.2</span><br><span class="line">docker pull elasticsearch:7.6.2</span><br><span class="line">docker pull kibana:7.6.2</span><br><span class="line"><span class="meta">#</span><span class="bash"> æ—¥å¿—è¾“å‡ºé•œåƒ</span></span><br><span class="line">docker pull nginx:1.17</span><br></pre></td></tr></table></figure>

<ol start="4">
<li>ä½¿ç”¨å‘½ä»¤docker imagesæ¥æŸ¥çœ‹é•œåƒï¼š</li>
</ol>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> è¾“å‡º</span></span><br><span class="line">REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE</span><br><span class="line">nginx               1.17                602e111c06b6        3 days ago          127MB</span><br><span class="line">python              latest              b55669b4130e        10 days ago         933MB</span><br><span class="line">redis               latest              4cdbec704e47        3 weeks ago         98.2MB</span><br><span class="line">mysql               latest              9228ee8bac7a        3 weeks ago         547MB</span><br><span class="line">logstash            7.6.2               fa5b3b1e9757        4 weeks ago         813MB</span><br><span class="line">kibana              7.6.2               f70986bc5191        4 weeks ago         1.01GB</span><br><span class="line">elasticsearch       7.6.2               f29a1ee41030        4 weeks ago         791MB</span><br><span class="line">ubuntu              14.04               6e4f1fe62ff1        4 months ago        197MB</span><br></pre></td></tr></table></figure>

<h2 id="æµ‹è¯•å¯åŠ¨Elasticsearch"><a href="#æµ‹è¯•å¯åŠ¨Elasticsearch" class="headerlink" title="æµ‹è¯•å¯åŠ¨Elasticsearch"></a>æµ‹è¯•å¯åŠ¨Elasticsearch</h2><ol>
<li>ä½¿ç”¨å‘½ä»¤ï¼š</li>
</ol>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker run --name elasticsearch \</span><br><span class="line">-v "$PWD/esdata":/usr/share/elasticsearch/data \</span><br><span class="line">-p 9200:9200 -p 9300:9300 \</span><br><span class="line">-d elasticsearch:7.6.2</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>æŒ‰ç…§ä¸Šè¿°å‘½ä»¤å¯åŠ¨ä¹‹åï¼Œä¼šå‘ç°è¿‡äº†ä¸€ä¼šå®¹å™¨å°±è‡ªåŠ¨é€€å‡ºäº†ï¼Œä½¿ç”¨docker logsæ¥æŸ¥çœ‹å‡ºäº†ä»€ä¹ˆé—®é¢˜ï¼š</li>
</ol>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> å‘½ä»¤</span></span><br><span class="line">docker logs -t elasticsearch &gt;log.txt</span><br><span class="line"><span class="meta">#</span><span class="bash"> è¾“å‡º</span></span><br><span class="line">2020-04-27T07:11:20.497427334Z OpenJDK 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release.</span><br><span class="line">2020-04-27T07:11:38.104882650Z ERROR: [1] bootstrap checks failed</span><br><span class="line">2020-04-27T07:11:38.104977698Z [1]: the default discovery settings are unsuitable for production use; at least one of [discovery.seed_hosts, discovery.seed_providers, cluster.initial_master_nodes] must be configured</span><br><span class="line">2020-04-27T07:11:38.105308797Z ERROR: Elasticsearch did not exit normally - check the logs at /usr/share/elasticsearch/logs/docker-cluster.log</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>å‡ºé”™äº†ï¼ŒERROR: [1] bootstrap checks failedï¼Œç„¶åè¯¥ç™¾åº¦äº†,å¯åŠ¨å‚æ•°æ·»åŠ ç¯å¢ƒå˜é‡</li>
</ol>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> -e <span class="string">"discovery.type=single-node"</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> å®é™…å‘½ä»¤ï¼š</span></span><br><span class="line">docker run --name elasticsearch \</span><br><span class="line">-v "$PWD/esdata":/usr/share/elasticsearch/data \</span><br><span class="line">-e "discovery.type=single-node" \</span><br><span class="line">-p 9200:9200 -p 9300:9300 \</span><br><span class="line">-d elasticsearch:7.6.2</span><br></pre></td></tr></table></figure>

<ol start="4">
<li>æµ‹è¯•elasticsearch å¯åŠ¨æˆåŠŸå¦ï¼Œè®¿é—®<a href="http://localhost:9200/" target="_blank" rel="noopener">http://localhost:9200/</a></li>
</ol>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="comment">// æˆåŠŸçš„è¾“å‡º</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="attr">"name"</span>: <span class="string">"8ujzdvM"</span>,</span><br><span class="line"><span class="attr">"cluster_name"</span>: <span class="string">"elasticsearch_wander"</span>,</span><br><span class="line"><span class="attr">"cluster_uuid"</span>: <span class="string">"8G1TTUgyQRGv_AmsreyFyg"</span>,</span><br><span class="line"><span class="attr">"version"</span>: &#123;</span><br><span class="line"><span class="attr">"number"</span>: <span class="string">"6.8.7"</span>,</span><br><span class="line"><span class="attr">"build_flavor"</span>: <span class="string">"oss"</span>,</span><br><span class="line"><span class="attr">"build_type"</span>: <span class="string">"tar"</span>,</span><br><span class="line"><span class="attr">"build_hash"</span>: <span class="string">"c63e621"</span>,</span><br><span class="line"><span class="attr">"build_date"</span>: <span class="string">"2020-02-26T14:38:01.193138Z"</span>,</span><br><span class="line"><span class="attr">"build_snapshot"</span>: <span class="literal">false</span>,</span><br><span class="line"><span class="attr">"lucene_version"</span>: <span class="string">"7.7.2"</span>,</span><br><span class="line"><span class="attr">"minimum_wire_compatibility_version"</span>: <span class="string">"5.6.0"</span>,</span><br><span class="line"><span class="attr">"minimum_index_compatibility_version"</span>: <span class="string">"5.0.0"</span></span><br><span class="line">&#125;,</span><br><span class="line"><span class="attr">"tagline"</span>: <span class="string">"You Know, for Search"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="5">
<li>å‘½ä»¤è§£é‡Šï¼š<ol>
<li>-v â€œ$PWD/esdataâ€:/usr/share/elasticsearch/data æ•°æ®æ˜ å°„</li>
<li>-e â€œdiscovery.type=single-nodeâ€ å•æœºæ¨¡å¼</li>
<li>-p 9200:9200 ç«¯å£æ˜ å°„</li>
<li>-d elasticsearch:7.6.2 åå°è¿è¡Œ</li>
</ol>
</li>
</ol>
<h2 id="Kibanaå¯è§†åŒ–"><a href="#Kibanaå¯è§†åŒ–" class="headerlink" title="Kibanaå¯è§†åŒ–"></a>Kibanaå¯è§†åŒ–</h2><ol>
<li>Kibanaä½œä¸ºESæ“ä½œçš„UIï¼Œéœ€è¦è·ŸESå®¹å™¨é€šä¿¡ï¼Œæ‰€ä»¥è¿™é‡Œè¦å°†ESçš„å®¹å™¨linkä¸€ä¸‹ï¼Œå¯¹å¤–æä¾›5601ç«¯å£åšé¡µé¢äº¤äº’ï¼š</li>
</ol>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker run --name kibana \</span><br><span class="line">--link elasticsearch:elasticsearch \</span><br><span class="line">-p 5601:5601 \</span><br><span class="line">-d kibana:7.6.2</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>ç­‰å¾…ä¸€ä¼šå°±å¯ä»¥é€šè¿‡æµè§ˆå™¨è®¿é—®ï¼š<a href="http://localhost:5601/ï¼›" target="_blank" rel="noopener">http://localhost:5601/ï¼›</a></li>
<li>æ¥ä¸‹æ¥å°±å¯ä»¥æŒ‰ç…§ç½‘é¡µä¸­çš„æŒ‡å¯¼æ·»åŠ æ•°æ®åˆ°kibanaï¼Œ<a href="http://localhost:5601/app/kibana#/home/tutorial_directory/metricsï¼›" target="_blank" rel="noopener">http://localhost:5601/app/kibana#/home/tutorial_directory/metricsï¼›</a></li>
</ol>
<h2 id="Nginxå¯åŠ¨ï¼ˆå¯èƒ½æš‚æ—¶ä¸åšæ—¥å¿—çš„è®°å½•ï¼‰"><a href="#Nginxå¯åŠ¨ï¼ˆå¯èƒ½æš‚æ—¶ä¸åšæ—¥å¿—çš„è®°å½•ï¼‰" class="headerlink" title="Nginxå¯åŠ¨ï¼ˆå¯èƒ½æš‚æ—¶ä¸åšæ—¥å¿—çš„è®°å½•ï¼‰"></a>Nginxå¯åŠ¨ï¼ˆå¯èƒ½æš‚æ—¶ä¸åšæ—¥å¿—çš„è®°å½•ï¼‰</h2><ol>
<li>å¯åŠ¨nginxï¼š</li>
</ol>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker run --name nginx-test -p 8080:80 -d nginx:1.17</span><br></pre></td></tr></table></figure>

<h2 id="Logstashæ—¥å¿—æ”¶é›†"><a href="#Logstashæ—¥å¿—æ”¶é›†" class="headerlink" title="Logstashæ—¥å¿—æ”¶é›†"></a>Logstashæ—¥å¿—æ”¶é›†</h2><ol>
<li><p>Logstashçš„ä¸»è¦ä½œç”¨æ˜¯æ”¶é›†æ—¥å¿—ï¼Œè¿™ä¸ªç»„ä»¶æœ‰å¾ˆå¤šæ’ä»¶ï¼Œå¯ä»¥æ”¯æŒå¤§éƒ¨åˆ†æ—¥å¿—é›†æˆæ–¹å¼ï¼Œå¦‚tcpã€udpã€jdbcã€æ–‡ä»¶ã€é˜Ÿåˆ—ç­‰ï¼›</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/0cea1265f4bd3e8e6138466fba2d8c66-58988" alt="LogstashåŠŸèƒ½"></p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/31a78e9eed51824b5f3ce2d64baae336-38227" alt="Logstashå·¥ä½œæµç¨‹"></p>
</li>
<li><p>Logstashç‰¹ç‚¹ï¼š</p>
<ul>
<li>å‡ ä¹å¯ä»¥è®¿é—®ä»»ä½•æ•°æ®</li>
<li>å¯ä»¥å’Œå¤šç§å¤–éƒ¨åº”ç”¨ç»“åˆ</li>
<li>æ”¯æŒå¼¹æ€§æ‰©å±•</li>
</ul>
</li>
<li><p>Logstashç»„æˆï¼š</p>
<ul>
<li>Shipperï¼å‘é€æ—¥å¿—æ•°æ®</li>
<li>Brokerï¼æ”¶é›†æ•°æ®ï¼Œç¼ºçœå†…ç½® Redis</li>
<li>Indexerï¼æ•°æ®å†™å…¥</li>
</ul>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/45db4671acdec3b15fc0dad1b171d9e7-19744" alt="Logstash åŸºæœ¬ç»„æˆ"></p>
</li>
<li><p>Shipper è´Ÿè´£ä»å„ç§æ•°æ®æºé‡Œé‡‡é›†æ•°æ®ï¼Œç„¶åå‘é€åˆ° Brokerï¼ŒIndexer å°†å­˜æ”¾åœ¨ Broker ä¸­çš„æ•°æ®å†å†™å…¥ Elasticsearchï¼ŒElasticsearch å¯¹è¿™äº›æ•°æ®åˆ›å»ºç´¢å¼•ï¼Œç„¶åç”± Kibana å¯¹å…¶è¿›è¡Œå„ç§åˆ†æå¹¶ä»¥å›¾è¡¨çš„å½¢å¼å±•ç¤ºï¼›</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/ad5b4aa3ddace952afe93b7474a5dba6-106340" alt="ELKåè®®æ ˆä½“ç³»å›¾"></p>
</li>
<li><p>é…ç½®æ–‡ä»¶æ ¼å¼ï¼š</p>
<figure class="highlight properties"><table><tr><td class="code"><pre><span class="line"><span class="attr">input</span> <span class="string">&#123;</span></span><br><span class="line">    <span class="attr">file</span> <span class="string">&#123;</span></span><br><span class="line">        <span class="attr">path</span> =<span class="string">&gt; "/var/log/messages"</span></span><br><span class="line">        <span class="attr">type</span> =<span class="string">&gt; "system"</span></span><br><span class="line">        <span class="attr">start_position</span> =<span class="string">&gt; "beginning"</span></span><br><span class="line">    <span class="attr">&#125;</span></span><br><span class="line">    <span class="attr">file</span> <span class="string">&#123;</span></span><br><span class="line">        <span class="attr">path</span> =<span class="string">&gt; "/application/es/to/logs/elasticsearch.log"</span></span><br><span class="line">        <span class="attr">type</span> =<span class="string">&gt; "es-error"</span></span><br><span class="line">        <span class="attr">start_position</span> =<span class="string">&gt; "beginning"</span></span><br><span class="line">    <span class="attr">&#125;</span></span><br><span class="line"><span class="attr">&#125;</span></span><br><span class="line"><span class="attr">output</span> <span class="string">&#123;</span></span><br><span class="line">    <span class="attr">if</span> <span class="string">[type] == "system" &#123;</span></span><br><span class="line">        <span class="attr">elasticsearch</span> <span class="string">&#123;</span></span><br><span class="line">            <span class="attr">hosts</span> =<span class="string">&gt; ["10.0.0.169:9200"]</span></span><br><span class="line">            <span class="attr">index</span> =<span class="string">&gt; "system-%&#123;+YYYY.MM.dd&#125;"</span></span><br><span class="line">        <span class="attr">&#125;</span></span><br><span class="line">    <span class="attr">&#125;</span></span><br><span class="line">    <span class="attr">if</span> <span class="string">[type] == "es-error" &#123;</span></span><br><span class="line">        <span class="attr">elasticsearch</span> <span class="string">&#123;</span></span><br><span class="line">            <span class="attr">hosts</span> =<span class="string">&gt; ["10.0.0.169:9200"]</span></span><br><span class="line">            <span class="attr">index</span> =<span class="string">&gt; "es-error-%&#123;+YYYY.MM.dd&#125;"</span></span><br><span class="line">        <span class="attr">&#125;</span></span><br><span class="line">    <span class="attr">&#125;</span></span><br><span class="line"><span class="attr">&#125;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>è¯¦ç»†é˜…è¯»ï¼š<a href="https://wanderros.github.io/2020/05/11/Logstash-Quick-Start/">https://wanderros.github.io/2020/05/11/Logstash-Quick-Start/</a></p>
</li>
<li><p>å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://www.elastic.co/guide/en/logstash/7.x/index.html" target="_blank" rel="noopener">https://www.elastic.co/guide/en/logstash/7.x/index.html</a></p>
</li>
</ol>
]]></content>
      <categories>
        <category>ELK</category>
      </categories>
  </entry>
  <entry>
    <title>Docker-Go</title>
    <url>/2020/04/26/Docker-Go/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>å­¦ä¹ ä¸€é—¨æŠ€æœ¯ï¼Œè¦çŸ¥é“ä¸ºä»€ä¹ˆéœ€è¦å­¦ä¹ æŠ€æœ¯ï¼Œè¿™é—¨æŠ€æœ¯èƒ½å¤Ÿç»™æˆ‘ä»¬å¸¦æ¥ä»€ä¹ˆï¼Œå­¦ä¹ è¿™é—¨æŠ€æœ¯æˆ‘ä»¬éœ€è¦å“ªäº›åŸºç¡€çŸ¥è¯†ï¼ŸDockerçš„ä½œç”¨åœ¨å…¶ä»–çš„æ–‡ç« ä¸­å·²ç»è¯¦ç»†ä»‹ç»äº†ï¼Œè¿™é‡Œéœ€è¦<strong>æ„å»º-å®‰è£…-è¿è¡Œ</strong>å®æ–½çœŸæ­£ä¼ä¸šçº§åˆ«çš„è¿è¡Œç¯å¢ƒã€‚</p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="é•œåƒåŠ é€Ÿ"><a href="#é•œåƒåŠ é€Ÿ" class="headerlink" title="é•œåƒåŠ é€Ÿ"></a>é•œåƒåŠ é€Ÿ</h2><ol>
<li>é˜¿é‡Œäº‘åŠ é€Ÿåœ°å€ï¼š<a href="https://cr.console.aliyun.com/cn-hangzhou/instances/mirrorsï¼›" target="_blank" rel="noopener">https://cr.console.aliyun.com/cn-hangzhou/instances/mirrorsï¼›</a></li>
<li>å°†é˜¿é‡Œäº‘çš„é•œåƒåŠ é€Ÿåœ°å€å‡ºæ¥ï¼Œç„¶åé»è´´åˆ°è‡ªå·±çš„dockerä¸­çš„é€‰é¡¹ä¸­çš„Docker Engineçš„â€registry-mirrorsâ€ä¸­ï¼›</li>
<li>é‡å¯dockeræœåŠ¡å™¨ã€‚</li>
</ol>
<h2 id="æ•°æ®å·"><a href="#æ•°æ®å·" class="headerlink" title="æ•°æ®å·"></a>æ•°æ®å·</h2><ol>
<li>ä½¿ç”¨-vå‚æ•°å°†å®¿ä¸»æœºç›®å½•æ˜ å°„åˆ°å®¹å™¨ä¸­çš„æŒ‡å®šè·¯å¾„ï¼šdocker run -it -v /å®¿ä¸»æœºç»å¯¹è·¯å¾„ç›®å½•:/å®¹å™¨å†…ç›®å½•:ro é•œåƒå, roæ˜¯å®¹å™¨å¯¹æ•°æ®ç›®å½•çš„æƒé™ï¼›</li>
<li>ä½¿ç”¨Dockerfileæ·»åŠ æ•°æ®å·æ˜ å°„ï¼Œä½¿ç”¨VOLUMEï¼›</li>
<li>æ•°æ®å·å®¹å™¨ï¼šå®¹å™¨ä¹‹é—´é€šè¿‡æŒ‚è½½æ•°æ®å·å®¹å™¨æ¥å®ç°æ•°æ®å…±äº«ï¼Œâ€“volumes-fromï¼›</li>
<li>ç›®å‰Dockeræ•°æ®å·ç®¡ç†ä¸Šçš„é—®é¢˜ï¼š<ol>
<li>åªæ”¯æŒæœ¬åœ°æ•°æ®å·</li>
<li>ç¼ºä¹å¯¹æ•°æ®å·ç”Ÿå‘½å‘¨æœŸçš„æœ‰æ•ˆç®¡ç†</li>
</ol>
</li>
</ol>
<h2 id="å¸®åŠ©"><a href="#å¸®åŠ©" class="headerlink" title="å¸®åŠ©"></a>å¸®åŠ©</h2><ol>
<li><p>åœ¨æ§åˆ¶å°æ‰§è¡Œdocker COMMAND â€“help æ¥è·å–æ›´å¤šçš„å…³äºå‘½ä»¤çš„ä¿¡æ¯ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker network --help</span><br></pre></td></tr></table></figure>
</li>
<li><p>å®¹å™¨å’Œè™šæ‹Ÿæœºæ˜¯äº’è¡¥çš„ï¼Œè™šæ‹Ÿæœºæ˜¯ç”¨æ¥è¿›è¡Œç¡¬ä»¶èµ„æºåˆ’åˆ†çš„å®Œç¾è§£å†³æ–¹æ¡ˆï¼Œåˆ©ç”¨äº†ç¡¬ä»¶è™šæ‹ŸåŒ–æŠ€æœ¯ï¼Œæ¯”å¦‚VT-xã€AMD-Vç­‰å®ç°å¯¹èµ„æºçš„å½»åº•éš”ç¦»ï¼Œè€Œå®¹å™¨æ˜¯æ“ä½œç³»ç»Ÿçº§åˆ«çš„è™šæ‹ŸåŒ–ï¼Œåˆ©ç”¨çš„æ˜¯å†…æ ¸çš„Cgroupå’ŒNamespaceç‰¹æ€§ï¼›</p>
</li>
<li><p>Namespaceï¼ˆå‘½åç©ºé—´ï¼‰ï¼šä¸»è¦çš„å·¥ä½œæ˜¯è®¿é—®éš”ç¦»ï¼ŒåŸç†æ˜¯é’ˆå¯¹ä¸€ç±»èµ„æºè¿›è¡ŒæŠ½è±¡ï¼Œå¹¶å°†å…¶å°è£…åœ¨ä¸€èµ·æä¾›ç»™ä¸€ä¸ªå®¹å™¨ä½¿ç”¨ï¼›</p>
</li>
<li><p>Cgroupï¼ˆæ§åˆ¶ç»„ï¼‰æ˜¯control groupçš„ç®€ç§°ï¼Œä¸»è¦æ˜¯èµ„æºæ§åˆ¶ï¼ŒåŸç†æ˜¯å°†ä¸€ç»„è¿›ç¨‹æ”¾åœ¨ä¸€ä¸ªæ§åˆ¶ç»„é‡Œï¼Œé€šè¿‡ç»™è¿™ä¸ªæ§åˆ¶ç»„åˆ†é…æŒ‡å®šçš„å¯ç”¨èµ„æºï¼Œè¾¾åˆ°æ§åˆ¶è¿™ä¸€ç»„è¿›ç¨‹çš„å¯ç”¨èµ„æºçš„ç›®çš„ï¼›</p>
</li>
<li><p>å®¹å™¨ = cgroup + namespace + rootfs + å®¹å™¨å¼•æ“ï¼ˆç”¨æˆ·æ€å·¥å…·ï¼‰</p>
<ol>
<li>rootfsï¼šæ–‡ä»¶ç³»ç»Ÿéš”ç¦»</li>
<li>å®¹å™¨å¼•æ“ï¼šç”Ÿå‘½å‘¨æœŸæ§åˆ¶</li>
</ol>
</li>
</ol>
<h2 id="Dockerç½‘ç»œ"><a href="#Dockerç½‘ç»œ" class="headerlink" title="Dockerç½‘ç»œ"></a>Dockerç½‘ç»œ</h2><ol>
<li>Dockerç½‘ç»œåœ¨æ—©æœŸç§°ä¸ºå¹¿å—è¯Ÿç—…çš„ä¸€å¤§ç¼ºé™·,åœ¨éƒ¨ç½²å¤§è§„æ¨¡Dockeré›†ç¾¤æ—¶ï¼Œç½‘ç»œä¹Ÿæˆäº†æœ€å¤§çš„æŒ‘æˆ˜ï¼›</li>
<li>Libnetworkæå‡ºäº†æ–°çš„å®¹å™¨ç½‘ç»œæ¨¡å‹ï¼ˆContainer Network Modelï¼ŒCNMï¼‰ï¼Œå®šä¹‰äº†æ ‡å‡†çš„APIç”¨äºä¸ºå®¹å™¨é…ç½®ç½‘ç»œï¼Œå…¶åº•å±‚å¯ä»¥é€‚é…å„ç§ç½‘ç»œé©±åŠ¨ï¼›</li>
<li>Libnetworkæä¾›äº†5ç§é©±åŠ¨ï¼š<ol>
<li>bridgeï¼šDockerçš„é»˜è®¤å®¹å™¨ç½‘ç»œé©±åŠ¨</li>
<li>hostï¼šå®¹å™¨ä¸ä¸»æœºå…±äº«åŒä¸€Network Namespace,å…±äº«ä¸€å¥—ç½‘ç»œåè®®æ ˆã€è·¯ç”±è¡¨ä»¥åŠiptablesè§„åˆ™ç­‰</li>
<li>nullï¼šå®¹å™¨å†…ç½‘ç»œé…ç½®ä¸ºç©ºï¼Œéœ€è¦ç”¨æˆ·æ‰‹åŠ¨ä¸ºå®¹å™¨é…ç½®ç½‘ç»œæ¥å£ä»¥åŠè·¯ç”±ç­‰</li>
<li>remoteï¼šDockerç½‘ç»œæ’ä»¶çš„å®ç°</li>
<li>overlayï¼šDockeråŸç”Ÿçš„è·¨ä¸»æœºå¤šå­ç½‘ç½‘ç»œæ–¹æ¡ˆ</li>
</ol>
</li>
<li>ä½¿ç”¨â€“netå‚æ•°ä¸ºå®¹å™¨é…ç½®ç½‘ç»œï¼›</li>
<li>ç½‘ç»œè§£å†³æ–¹æ¡ˆï¼š<ul>
<li>Weave</li>
<li>Flannel</li>
<li>SocketPlane</li>
</ul>
</li>
</ol>
<hr>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>Dockerçš„å†…å®¹å¾ˆå¤šï¼Œéœ€è¦é€ä¸€çš„å»å­¦ä¹ ï¼Œå»å®é™…æ“ä½œï¼Œè¿™éƒ¨åˆ†ä¸»è¦ä»‹ç»äº†åŸºç¡€çš„é…ç½®åŠ é€Ÿã€æ•°æ®å·ã€ç½‘ç»œä»¥åŠä¸€äº›å¸®åŠ©ï¼Œæƒ³è¦çœŸæ­£çš„åº”ç”¨DockeræŠ€æœ¯è¿˜éœ€è¦å­¦ä¹ é›†ç¾¤ç®¡ç†ã€Dockerfileã€Docker-Composeä»¥åŠk8sç­‰é«˜çº§æŠ€æœ¯ï¼Œè¿™äº›åœ¨åç»­çš„æ·±å…¥å­¦ä¹ æ—¶è®°å½•ï¼</p>
]]></content>
      <categories>
        <category>Docker</category>
      </categories>
  </entry>
  <entry>
    <title>Elasticsearch 7.6 æ’ä»¶ä½¿ç”¨å…¥é—¨</title>
    <url>/2020/06/19/Elasticsearch-7-6-%E6%8F%92%E4%BB%B6%E4%BD%BF%E7%94%A8%E5%85%A5%E9%97%A8/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>Elasticsearchæ”¯æŒæ’ä»¶ç³»ç»Ÿï¼Œé€šè¿‡å®‰è£…æ’ä»¶æ¥å¢å¼ºElasticsearchã€‚å„ç§æ’ä»¶çš„é…ç½®éœ€è¦å­¦ä¹ æµ‹è¯•ä¹‹åæ‰çŸ¥é“å¦‚ä½•ä½¿ç”¨ï¼Œè¿™éƒ¨åˆ†ä¸»è¦ä»‹ç»å¦‚ä½•å®‰è£…ä»¥åŠä½¿ç”¨æ’ä»¶ã€‚</p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="å®‰å…¨æ’ä»¶x-pack"><a href="#å®‰å…¨æ’ä»¶x-pack" class="headerlink" title="å®‰å…¨æ’ä»¶x-pack"></a>å®‰å…¨æ’ä»¶x-pack</h2><ol>
<li><p>åŠŸèƒ½ï¼šåŒ…æ‹¬å®‰å…¨ï¼ˆx-pack-securityï¼‰ï¼Œç›‘è§†ï¼ˆx-pack-watcherï¼‰ï¼Œè­¦æŠ¥ï¼ˆx-pack-monitoringï¼‰ï¼ŒæŠ¥è¡¨ï¼ˆx-pack-graphï¼‰ï¼ŒElasticsearch SQLï¼ˆx-pack-sqlï¼‰ï¼Œè·¨é›†ç¾¤å¤åˆ¶ï¼ˆx-pack-ccrï¼‰ã€x-pack-upgradeã€x-pack-rollupå’Œæœºå™¨å­¦ä¹ ï¼ˆx-pack-mlï¼‰</p>
</li>
<li><p><strong>7.xç‰ˆæœ¬ä¸­ï¼Œesçš„å®‰å…¨æ ¸å¿ƒåŠŸèƒ½å…è´¹ä½¿ç”¨</strong></p>
</li>
<li><p>é…ç½®æ–‡ä»¶ä¿®æ”¹ï¼š</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment">#åœ¨elasticsearch.ymlæœ€åæ·»åŠ </span></span><br><span class="line"><span class="attr">xpack.security.enabled:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">xpack.security.audit.enabled:</span> <span class="literal">true</span></span><br><span class="line"><span class="comment">#basicè¡¨ç¤ºxpackä½¿ç”¨åŸºç¡€ç‰ˆlicenseï¼Œå¦åˆ™æ— æ³•å¯åŠ¨</span></span><br><span class="line"><span class="attr">xpack.license.self_generated.type:</span> <span class="string">basic</span></span><br><span class="line"><span class="attr">xpack.security.transport.ssl.enabled:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>é‡æ–°å¯åŠ¨ï¼Œç„¶åè¿è¡Œå‘½ä»¤ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">elasticsearch-setup-passwords interactive</span><br></pre></td></tr></table></figure>
</li>
<li><p>å¼•å¯¼è®¾ç½®å„ç§å¯†ç ï¼ŒåŒ…æ‹¬elasticã€kibanaã€apm_systemã€logstash_systemã€beats_systemã€remote_monitoring_user ;</p>
</li>
<li><p>ç„¶åå°±å¯ä»¥ä½¿ç”¨å¯†ç äº†ï¼Œæ¯”å¦‚kibanaï¼Œé»˜è®¤ç”¨æˆ·elasticï¼Œè®¾ç½®å¯†ç åï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/370df21929cfe237a35bec9f98316f3e-33507" alt="Kibanaç™»å½•"></p>
</li>
<li><p>eså¯ç”¨x-packåï¼Œkibanaä¼šæ–°å¢ç”¨æˆ·å’Œè§’è‰²ç®¡ç†èœå•;</p>
</li>
</ol>
<h2 id="åˆ†è¯æ’ä»¶ik"><a href="#åˆ†è¯æ’ä»¶ik" class="headerlink" title="åˆ†è¯æ’ä»¶ik"></a>åˆ†è¯æ’ä»¶ik</h2><ol>
<li><p>ä¸­æ–‡åˆ†è¯å™¨ikå®‰è£…ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">./elasticsearch-plugin install https://github.com/medcl/elasticsearch-analysis-ik/releases/download/v7.6.2/elasticsearch-analysis-ik-7.6.2.zip</span><br></pre></td></tr></table></figure>
</li>
<li><p>å®‰è£…å®Œæˆäº†ä¹‹åéœ€è¦é‡å¯elasticsearchï¼›</p>
</li>
<li><p>æ³¨æ„ç‰ˆæœ¬è¦ä¸€è‡´ï¼›</p>
</li>
<li><p>åˆ†è¯:å³æŠŠä¸€æ®µä¸­æ–‡æˆ–è€…åˆ«çš„è¯­è¨€å†…å®¹åˆ’åˆ†æˆä¸€ä¸ªä¸ªçš„å…³é”®å­—,åœ¨æœç´¢æ—¶å€™ä¼šæŠŠè‡ªå·±çš„ä¿¡æ¯è¿›è¡Œåˆ†è¯,ä¼šæŠŠæ•°æ®åº“ä¸­æˆ–è€…ç´¢å¼•åº“ä¸­çš„æ•°æ®è¿›è¡Œåˆ†è¯,ç„¶åè¿›è¡Œä¸€ä¸ªåŒ¹é…æ“ä½œï¼›</p>
</li>
<li><p><strong>IKæä¾›äº†ä¸¤ä¸ªåˆ†è¯ç®—æ³•</strong>ï¼š</p>
<ul>
<li><strong>ik_smart</strong> â€”â€”<strong>æœ€å°‘åˆ‡åˆ†</strong></li>
<li><strong>ik_max_word</strong> â€”â€”<strong>æœ€ç»†ç²’åº¦åˆ’åˆ†</strong></li>
</ul>
</li>
<li><p>å¿«é€Ÿä½¿ç”¨ï¼š</p>
<ol>
<li><p>åˆ›å»ºç´¢å¼•ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">curl -XPUT http://localhost:9200/index</span><br></pre></td></tr></table></figure>
</li>
<li><p>åˆ›å»ºmappingï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">curl -XPOST http://localhost:9200/index/_mapping -H 'Content-Type:application/json' -d'</span><br><span class="line">&#123;</span><br><span class="line">        "properties": &#123;</span><br><span class="line">            "content": &#123;</span><br><span class="line">                "type": "text",</span><br><span class="line">                "analyzer": "ik_max_word",</span><br><span class="line">                "search_analyzer": "ik_smart"</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">&#125;'</span><br></pre></td></tr></table></figure>
</li>
<li><p>å‘indexæ·»åŠ ä¸€äº›å†…å®¹ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">curl -XPOST http://localhost:9200/index/_create/1 -H 'Content-Type:application/json' -d'</span><br><span class="line">&#123;"content":"ç¾å›½ç•™ç»™ä¼Šæ‹‰å…‹çš„æ˜¯ä¸ªçƒ‚æ‘Šå­å—"&#125;</span><br><span class="line">'</span><br><span class="line">curl -XPOST http://localhost:9200/index/_create/2 -H 'Content-Type:application/json' -d'</span><br><span class="line">&#123;"content":"å…¬å®‰éƒ¨ï¼šå„åœ°æ ¡è½¦å°†äº«æœ€é«˜è·¯æƒ"&#125;</span><br><span class="line">'</span><br><span class="line">curl -XPOST http://localhost:9200/index/_create/3 -H 'Content-Type:application/json' -d'</span><br><span class="line">&#123;"content":"ä¸­éŸ©æ¸”è­¦å†²çªè°ƒæŸ¥ï¼šéŸ©è­¦å¹³å‡æ¯å¤©æ‰£1è‰˜ä¸­å›½æ¸”èˆ¹"&#125;</span><br><span class="line">'</span><br><span class="line">curl -XPOST http://localhost:9200/index/_create/4 -H 'Content-Type:application/json' -d'</span><br><span class="line">&#123;"content":"ä¸­å›½é©»æ´›æ‰çŸ¶é¢†äº‹é¦†é­äºšè£”ç”·å­æªå‡» å«ŒçŠ¯å·²è‡ªé¦–"&#125;</span><br><span class="line">'</span><br></pre></td></tr></table></figure>
</li>
<li><p>æŸ¥è¯¢ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">curl -XPOST http://localhost:9200/index/_search  -H 'Content-Type:application/json' -d'</span><br><span class="line">&#123;</span><br><span class="line">    "query" : &#123; "match" : &#123; "content" : "ä¸­å›½" &#125;&#125;,</span><br><span class="line">    "highlight" : &#123;</span><br><span class="line">        "pre_tags" : ["&lt;tag1&gt;", "&lt;tag2&gt;"],</span><br><span class="line">        "post_tags" : ["&lt;/tag1&gt;", "&lt;/tag2&gt;"],</span><br><span class="line">        "fields" : &#123;</span><br><span class="line">            "content" : &#123;&#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">'</span><br></pre></td></tr></table></figure>
</li>
<li><p>è¿”å›ç»“æœï¼š</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">"took"</span>: <span class="number">11</span>,</span><br><span class="line">    <span class="attr">"timed_out"</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">"_shards"</span>: &#123;</span><br><span class="line">        <span class="attr">"total"</span>: <span class="number">1</span>,</span><br><span class="line">        <span class="attr">"successful"</span>: <span class="number">1</span>,</span><br><span class="line">        <span class="attr">"skipped"</span>: <span class="number">0</span>,</span><br><span class="line">        <span class="attr">"failed"</span>: <span class="number">0</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">"hits"</span>: &#123;</span><br><span class="line">        <span class="attr">"total"</span>: &#123;</span><br><span class="line">            <span class="attr">"value"</span>: <span class="number">2</span>,</span><br><span class="line">            <span class="attr">"relation"</span>: <span class="string">"eq"</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">"max_score"</span>: <span class="number">0.642793</span>,</span><br><span class="line">        <span class="attr">"hits"</span>: [</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">"_index"</span>: <span class="string">"index"</span>,</span><br><span class="line">                <span class="attr">"_type"</span>: <span class="string">"_doc"</span>,</span><br><span class="line">                <span class="attr">"_id"</span>: <span class="string">"3"</span>,</span><br><span class="line">                <span class="attr">"_score"</span>: <span class="number">0.642793</span>,</span><br><span class="line">                <span class="attr">"_source"</span>: &#123;</span><br><span class="line">                    <span class="attr">"content"</span>: <span class="string">"ä¸­éŸ©æ¸”è­¦å†²çªè°ƒæŸ¥ï¼šéŸ©è­¦å¹³å‡æ¯å¤©æ‰£1è‰˜ä¸­å›½æ¸”èˆ¹"</span></span><br><span class="line">                &#125;,</span><br><span class="line">                <span class="attr">"highlight"</span>: &#123;</span><br><span class="line">                    <span class="attr">"content"</span>: [</span><br><span class="line">                        <span class="string">"ä¸­éŸ©æ¸”è­¦å†²çªè°ƒæŸ¥ï¼šéŸ©è­¦å¹³å‡æ¯å¤©æ‰£1è‰˜&lt;tag1&gt;ä¸­å›½&lt;/tag1&gt;æ¸”èˆ¹"</span></span><br><span class="line">                    ]</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">"_index"</span>: <span class="string">"index"</span>,</span><br><span class="line">                <span class="attr">"_type"</span>: <span class="string">"_doc"</span>,</span><br><span class="line">                <span class="attr">"_id"</span>: <span class="string">"4"</span>,</span><br><span class="line">                <span class="attr">"_score"</span>: <span class="number">0.642793</span>,</span><br><span class="line">                <span class="attr">"_source"</span>: &#123;</span><br><span class="line">                    <span class="attr">"content"</span>: <span class="string">"ä¸­å›½é©»æ´›æ‰çŸ¶é¢†äº‹é¦†é­äºšè£”ç”·å­æªå‡» å«ŒçŠ¯å·²è‡ªé¦–"</span></span><br><span class="line">                &#125;,</span><br><span class="line">                <span class="attr">"highlight"</span>: &#123;</span><br><span class="line">                    <span class="attr">"content"</span>: [</span><br><span class="line">                        <span class="string">"&lt;tag1&gt;ä¸­å›½&lt;/tag1&gt;é©»æ´›æ‰çŸ¶é¢†äº‹é¦†é­äºšè£”ç”·å­æªå‡» å«ŒçŠ¯å·²è‡ªé¦–"</span></span><br><span class="line">                    ]</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
<li><p>ik_max_word å’Œ ik_smart åŒºåˆ«:</p>
<ul>
<li>ik_max_word: ä¼šå°†æ–‡æœ¬åšæœ€ç»†ç²’åº¦çš„æ‹†åˆ†ï¼Œæ¯”å¦‚ä¼šå°†â€œä¸­åäººæ°‘å…±å’Œå›½å›½æ­Œâ€æ‹†åˆ†ä¸ºâ€œä¸­åäººæ°‘å…±å’Œå›½,ä¸­åäººæ°‘,ä¸­å,åäºº,äººæ°‘å…±å’Œå›½,äººæ°‘,äºº,æ°‘,å…±å’Œå›½,å…±å’Œ,å’Œ,å›½å›½,å›½æ­Œâ€ï¼Œä¼šç©·å°½å„ç§å¯èƒ½çš„ç»„åˆï¼Œé€‚åˆ Term Query</li>
<li>ik_smart: ä¼šåšæœ€ç²—ç²’åº¦çš„æ‹†åˆ†ï¼Œæ¯”å¦‚ä¼šå°†â€œä¸­åäººæ°‘å…±å’Œå›½å›½æ­Œâ€æ‹†åˆ†ä¸ºâ€œä¸­åäººæ°‘å…±å’Œå›½,å›½æ­Œâ€ï¼Œé€‚åˆ Phrase æŸ¥è¯¢</li>
</ul>
</li>
<li><p>è¯¥æ’ä»¶æ”¯æŒçƒ­æ›´æ–° IK åˆ†è¯!</p>
</li>
<li><p><a href="https://github.com/medcl/elasticsearch-analysis-ik" target="_blank" rel="noopener">è¯¦ç»†å†…å®¹</a></p>
</li>
</ol>
<h2 id="æ’ä»¶pinyin"><a href="#æ’ä»¶pinyin" class="headerlink" title="æ’ä»¶pinyin"></a>æ’ä»¶pinyin</h2><ol>
<li><p>pinyinæ’ä»¶èƒ½å¤Ÿå°†æ–‡æ¡£å’ŒæŸ¥è¯¢æ¡ä»¶åœ¨æ±‰å­—å’Œæ‹¼éŸ³é—´è½¬æ¢ï¼›</p>
</li>
<li><p>å®‰è£…å¹¶é‡å¯ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">elasticsearch-plugin install https://github.com/medcl/elasticsearch-analysis-pinyin/releases/download/v7.6.2/elasticsearch-analysis-pinyin-7.6.2.zip</span><br></pre></td></tr></table></figure>
</li>
<li><p>åˆ›å»ºç´¢å¼•ä½¿ç”¨custom pinyin analyzerï¼š</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="comment">// PUT /medcl/ </span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="attr">"settings"</span> : &#123;</span><br><span class="line">        <span class="attr">"analysis"</span> : &#123;</span><br><span class="line">            <span class="attr">"analyzer"</span> : &#123;</span><br><span class="line">                <span class="attr">"pinyin_analyzer"</span> : &#123;</span><br><span class="line">                    <span class="attr">"tokenizer"</span> : <span class="string">"my_pinyin"</span></span><br><span class="line">                    &#125;</span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="attr">"tokenizer"</span> : &#123;</span><br><span class="line">                <span class="attr">"my_pinyin"</span> : &#123;</span><br><span class="line">                    <span class="attr">"type"</span> : <span class="string">"pinyin"</span>,</span><br><span class="line">                    <span class="attr">"keep_separate_first_letter"</span> : <span class="literal">false</span>,</span><br><span class="line">                    <span class="attr">"keep_full_pinyin"</span> : <span class="literal">true</span>,</span><br><span class="line">                    <span class="attr">"keep_original"</span> : <span class="literal">true</span>,</span><br><span class="line">                    <span class="attr">"limit_first_letter_length"</span> : <span class="number">16</span>,</span><br><span class="line">                    <span class="attr">"lowercase"</span> : <span class="literal">true</span>,</span><br><span class="line">                    <span class="attr">"remove_duplicated_term"</span> : <span class="literal">true</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/e26424bdb16b4f9295e93f5cfc8c7f25-240849" alt="pinyinåˆ›å»ºç´¢å¼•"></p>
</li>
<li><p>æµ‹è¯•åˆ†æå™¨ï¼š</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="comment">// GET /medcl/_analyze</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="attr">"text"</span>: [<span class="string">"åˆ˜å¾·å"</span>],</span><br><span class="line">  <span class="attr">"analyzer"</span>: <span class="string">"pinyin_analyzer"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/db7ad81a5b8980f88fcdc614a4d13b66-258207" alt="æµ‹è¯•pinyin"></p>
</li>
<li><p>åˆ›å»ºmappingï¼š</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="comment">// POST /medcl/_mapping </span></span><br><span class="line">&#123;</span><br><span class="line">        <span class="attr">"properties"</span>: &#123;</span><br><span class="line">            <span class="attr">"name"</span>: &#123;</span><br><span class="line">                <span class="attr">"type"</span>: <span class="string">"keyword"</span>,</span><br><span class="line">                <span class="attr">"fields"</span>: &#123;</span><br><span class="line">                    <span class="attr">"pinyin"</span>: &#123;</span><br><span class="line">                        <span class="attr">"type"</span>: <span class="string">"text"</span>,</span><br><span class="line">                        <span class="attr">"store"</span>: <span class="literal">false</span>,</span><br><span class="line">                        <span class="attr">"term_vector"</span>: <span class="string">"with_offsets"</span>,</span><br><span class="line">                        <span class="attr">"analyzer"</span>: <span class="string">"pinyin_analyzer"</span>,</span><br><span class="line">                        <span class="attr">"boost"</span>: <span class="number">10</span></span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/d795af13510eb35ffd95a021579867e5-218093" alt="åˆ›å»ºmapping"></p>
</li>
<li><p>indexingï¼š</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="comment">// POST /medcl/_create/andy</span></span><br><span class="line">&#123;<span class="attr">"name"</span>:<span class="string">"åˆ˜å¾·å"</span>&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/76aae7ca8d18dd97ffffdfc620617655-208478" alt="indexing"></p>
</li>
<li><p>æµ‹è¯•ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">curl http://localhost:9200/medcl/_search?q=name:%E5%88%98%E5%BE%B7%E5%8D%8E</span><br><span class="line">curl http://localhost:9200/medcl/_search?q=name.pinyin:%e5%88%98%e5%be%b7</span><br><span class="line">curl http://localhost:9200/medcl/_search?q=name.pinyin:liu</span><br><span class="line">curl http://localhost:9200/medcl/_search?q=name.pinyin:ldh</span><br><span class="line">curl http://localhost:9200/medcl/_search?q=name.pinyin:de+hua</span><br></pre></td></tr></table></figure>

<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/181c8d5dad78a29a642914d7b164fe9c-236088" alt="æµ‹è¯•"></p>
</li>
<li><p><a href="https://github.com/medcl/elasticsearch-analysis-pinyin" target="_blank" rel="noopener">è¯¦ç»†å†…å®¹</a></p>
</li>
</ol>
<h2 id="åˆ†è¯å™¨smartcn"><a href="#åˆ†è¯å™¨smartcn" class="headerlink" title="åˆ†è¯å™¨smartcn"></a>åˆ†è¯å™¨smartcn</h2><ol>
<li><p>ä¸­ç§‘é™¢åˆ†è¯å™¨ï¼Œå’Œikç±»ä¼¼ï¼Œä½†æ˜¯smartcnæ— æ³•è‡ªå®šä¹‰è¯åº“ï¼›</p>
</li>
<li><p>å®‰è£…å¹¶é‡å¯ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">elasticsearch-plugin install https://artifacts.elastic.co/downloads/elasticsearch-plugins/analysis-smartcn/analysis-smartcn-7.6.2.zip</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h2 id="æ’ä»¶icu"><a href="#æ’ä»¶icu" class="headerlink" title="æ’ä»¶icu"></a>æ’ä»¶icu</h2><ol>
<li><p>Elasticsearchçš„ ICU åˆ†æå™¨æ’ä»¶ ä½¿ç”¨ å›½é™…åŒ–ç»„ä»¶ Unicode (ICU) å‡½æ•°åº“æä¾›ä¸°å¯Œçš„å¤„ç† Unicode å·¥å…·ï¼›</p>
</li>
<li><p>åŒ…å«å¯¹å¤„ç†äºšæ´²è¯­è¨€ç‰¹åˆ«æœ‰ç”¨çš„ icu_åˆ†è¯å™¨ ï¼Œè¿˜æœ‰å¤§é‡å¯¹é™¤è‹±è¯­å¤–å…¶ä»–è¯­è¨€è¿›è¡Œæ­£ç¡®åŒ¹é…å’Œæ’åºæ‰€å¿…é¡»çš„åˆ†è¯è¿‡æ»¤å™¨ï¼›</p>
</li>
<li><p>å®‰è£…å¹¶é‡å¯ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">elasticsearch-plugin install analysis-icu</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h2 id="æ–‡æœ¬è§£ææ’ä»¶ingest-attachment"><a href="#æ–‡æœ¬è§£ææ’ä»¶ingest-attachment" class="headerlink" title="æ–‡æœ¬è§£ææ’ä»¶ingest-attachment"></a>æ–‡æœ¬è§£ææ’ä»¶ingest-attachment</h2><ol>
<li><p>åŸºäºApache æ–‡æœ¬æ‰©å±•åº“Tikaæ’ä»¶ä¹‹ä¸Šå¼€å‘çš„ä¸€æ¬¾é€‚åˆelasticsearchæ–‡æœ¬è§£ææ’ä»¶ï¼›</p>
</li>
<li><p>å¯ä»¥å®ç°å¯¹ï¼ˆPDF,DOC,EXCELç­‰ï¼‰ä¸»æµæ ¼å¼æ–‡ä»¶çš„æ–‡æœ¬æŠ½å–åŠè‡ªåŠ¨å¯¼å…¥ï¼›</p>
</li>
<li><p>ç”±äºElasticSearchæ˜¯åŸºäºJSONæ ¼å¼çš„æ–‡æ¡£æ•°æ®åº“ï¼Œæ‰€ä»¥é™„ä»¶æ–‡æ¡£åœ¨æ’å…¥ElasticSearchä¹‹å‰å¿…é¡»è¿›è¡ŒBase64ç¼–ç ï¼›</p>
</li>
<li><p>å®‰è£…å¹¶é‡å¯ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">elasticsearch-plugin install ingest-attachment</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h2 id="SQL"><a href="#SQL" class="headerlink" title="SQL"></a>SQL</h2><h3 id="x-pack-sql"><a href="#x-pack-sql" class="headerlink" title="x-pack-sql"></a>x-pack-sql</h3><ol>
<li><p>æ”¯æŒmysqlè¯­æ³•ï¼š</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">GET http://localhost:9200/_sql</span><br><span class="line">&#123;</span><br><span class="line">    <span class="attr">"query"</span>: <span class="string">"SELECT * FROM index"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/34ca770b850f632a9bb6a19fcdb5852a-208059" alt="x-pack-sql"></p>
</li>
</ol>
<h3 id="elasticsearch-sqlï¼ˆæš‚æ—¶ä¸æ”¯æŒ7-6-2ï¼‰"><a href="#elasticsearch-sqlï¼ˆæš‚æ—¶ä¸æ”¯æŒ7-6-2ï¼‰" class="headerlink" title="elasticsearch-sqlï¼ˆæš‚æ—¶ä¸æ”¯æŒ7.6.2ï¼‰"></a>elasticsearch-sqlï¼ˆæš‚æ—¶ä¸æ”¯æŒ7.6.2ï¼‰</h3><ol>
<li><p>å®‰è£…å¹¶é‡å¯ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">elasticsearch-plugin install https://github.com/NLPchina/elasticsearch-sql/releases/download/7.5.1.0/elasticsearch-sql-7.5.1.0.zip</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h2 id="å…¶ä»–æ’ä»¶"><a href="#å…¶ä»–æ’ä»¶" class="headerlink" title="å…¶ä»–æ’ä»¶"></a><del>å…¶ä»–æ’ä»¶</del></h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">bin/elasticsearch-plugin install discovery-multicast</span><br><span class="line">bin/elasticsearch-plugin install analysis-icu</span><br><span class="line">bin/elasticsearch-plugin install analysis-kuromoji</span><br><span class="line">bin/elasticsearch-plugin install analysis-phonetic</span><br><span class="line">bin/elasticsearch-plugin install analysis-smartcn</span><br><span class="line">bin/elasticsearch-plugin install analysis-stempel</span><br><span class="line">bin/elasticsearch-plugin install analysis-ukrainian</span><br><span class="line">bin/elasticsearch-plugin install discovery-file</span><br><span class="line">bin/elasticsearch-plugin install ingest-attachment</span><br><span class="line">bin/elasticsearch-plugin install ingest-geoip</span><br><span class="line">bin/elasticsearch-plugin install ingest-user-agent</span><br><span class="line">bin/elasticsearch-plugin install mapper-attachments</span><br><span class="line">bin/elasticsearch-plugin install mapper-size</span><br><span class="line">bin/elasticsearch-plugin install mapper-murmur3</span><br><span class="line">bin/elasticsearch-plugin install lang-javascript</span><br><span class="line">bin/elasticsearch-plugin install lang-python</span><br><span class="line">bin/elasticsearch-plugin install repository-hdfs</span><br><span class="line">bin/elasticsearch-plugin install repository-s3</span><br><span class="line">bin/elasticsearch-plugin install repository-azure</span><br><span class="line">bin/elasticsearch-plugin install repository-gcs</span><br><span class="line">bin/elasticsearch-plugin install store-smb</span><br><span class="line">bin/elasticsearch-plugin install discovery-ec2</span><br><span class="line">bin/elasticsearch-plugin install discovery-azure-classic</span><br><span class="line">bin/elasticsearch-plugin install discovery-gce</span><br></pre></td></tr></table></figure>

<h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ul>
<li><a href="https://github.com/medcl" target="_blank" rel="noopener">æ’ä»¶Medcl</a></li>
<li><a href="https://github.com/NLPchina" target="_blank" rel="noopener">ä¸­å›½è‡ªç„¶è¯­è¨€å¤„ç†å¼€æºç»„ç»‡</a></li>
<li><a href="https://www.elastic.co/cn/downloads/" target="_blank" rel="noopener">elasticå®˜æ–¹</a></li>
<li><a href="https://elastic-search-in-action.medcl.com/" target="_blank" rel="noopener">elasticå®æˆ˜</a></li>
</ul>
<hr>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>ä¸å¤ªæ¸…æ¥šä¸ºä»€ä¹ˆç½‘ä¸Šçš„æ’ä»¶æ˜¯å¦‚æ­¤çš„å°‘ï¼Œå¯èƒ½åŠŸèƒ½ä¸Šå·²ç»æœ‰å¾ˆå¤šäº†ï¼Œæˆ–è€…è¯´å¼€å‘è€…å¤ªå°‘ï¼Œæˆ–è€…è¯´æˆ‘æœç´¢çš„æ–¹å¼ä¸å¯¹ï¼Œä¸çŸ¥é“ï¼Œåç»­çœ‹åˆ°å¥½çš„æ’ä»¶ç»§ç»­æ·»åŠ å§ï¼</p>
]]></content>
      <categories>
        <category>ELK</category>
      </categories>
  </entry>
  <entry>
    <title>Docker Swagger Quick Start</title>
    <url>/2020/05/13/Docker-Swagger-Quick-Start/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>ç”±äºå…¬å¸ä»£ç é˜…è¯»éœ€è¦ï¼Œä¹‹å‰çš„ä»£ç ä½¿ç”¨çš„æ˜¯NodejsåŠ Loopbackæ¡†æ¶ï¼Œå±•ç¤ºAPIsç”¨çš„æ˜¯Swaggerä¸­é—´ä»¶ï¼Œä»£ç å¤ªè€äº†ï¼Œæ„å»ºç¯å¢ƒå¤ªéº»çƒ¦äº†ï¼Œè€Œä¸”æ²¡æœ‰å¿…è¦ï¼Œè¿™é‡Œå°†APIså±•ç¤ºå‡ºæ¥ï¼Œä½¿ç”¨DockeråŠ ä¸Šé•œåƒæ¥å±•ç¤ºswagger APIsã€‚</p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="ç¯å¢ƒæ­å»º"><a href="#ç¯å¢ƒæ­å»º" class="headerlink" title="ç¯å¢ƒæ­å»º"></a>ç¯å¢ƒæ­å»º</h2><ol>
<li><p>è·å–swagger-editorçš„é•œåƒï¼Œå¹¶å¯åŠ¨ï¼Œå¯¹å¤–çš„æ¥å£æ˜¯81ï¼Œç„¶åå°±å¯ä»¥åœ¨æœ¬åœ°ç¼–è¾‘APIæ–‡æ¡£äº†ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker pull swaggerapi/swagger-editor </span><br><span class="line">docker run -d -p 81:8080 swaggerapi/swagger-editor</span><br></pre></td></tr></table></figure>

<p><img src="https://upload-images.jianshu.io/upload_images/1096351-4b95aeabd18187c6.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webpp" alt=""></p>
</li>
<li><p>è·å–swagger-uiçš„é•œåƒï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker pull swaggerapi/swagger-ui</span><br></pre></td></tr></table></figure>
</li>
<li><p>å°†è½¬æ¢çš„Swagger Jsonæ–‡ä»¶æŒ‚è½½åˆ°å®¹å™¨ä¸­ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker run -p 80:8080 -e SWAGGER_JSON=/foo/swagger.json -v /Volumes/Data/Download:/foo swaggerapi/swagger-ui</span><br></pre></td></tr></table></figure>

<ol>
<li>-eï¼šæ‰§è¡Œå®¹å™¨ä¸­/foo/swagger.json</li>
<li>-vï¼šå°†/Volumes/Data/Downloadä¸­çš„swagger.jsonæŒ‚åœ¨åˆ° /fooä¸­æ‰§è¡Œ</li>
<li>æ²¡æœ‰å°†swagger.json åœ¨å®¹å™¨å†…ä¿®æ”¹çš„å¥½å¤„ï¼šåœ¨å¤–éƒ¨ä¿®æ”¹åå®¹å™¨å¯ä»¥ç›´æ¥è¿è¡Œï¼Œå¦‚æœåœ¨å®¹å™¨å†…å®¹ä¿®æ”¹éœ€è¦åœ¨compileä¸€æ¬¡ç”Ÿæˆæ–°çš„å®¹å™¨</li>
</ol>
</li>
</ol>
<h2 id="Swaggeræ–‡ä»¶"><a href="#Swaggeræ–‡ä»¶" class="headerlink" title="Swaggeræ–‡ä»¶"></a>Swaggeræ–‡ä»¶</h2><ol>
<li><a href="https://app.yinxiang.com/fx/ca3c92cf-0a99-46f7-ab88-f633162b6578" target="_blank" rel="noopener">swagger-base2pro</a></li>
<li><a href="https://app.yinxiang.com/fx/13330db5-d3bd-409b-9859-55cdd3f17d84" target="_blank" rel="noopener">swagger-open2pro</a></li>
<li><a href="https://app.yinxiang.com/fx/d61233e9-fb4e-4ad0-8af0-d07e0941dbc9" target="_blank" rel="noopener">swagger-pro2base</a></li>
<li><a href="https://app.yinxiang.com/fx/b2606826-6207-41e2-abfb-b4680ce82220" target="_blank" rel="noopener">swagger-pro2laundromat</a></li>
<li><a href="https://app.yinxiang.com/fx/cd22d1a6-6837-4063-898a-92db3856c618" target="_blank" rel="noopener">swagger-pro2laundromat2</a></li>
<li><a href="https://app.yinxiang.com/fx/01ba7bdb-11a6-4c8c-9a44-ed0f926cd01d" target="_blank" rel="noopener">swagger-pro2open</a></li>
</ol>
<hr>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>ä½¿ç”¨Dockeré•œåƒèƒ½ä½¿å¾—æˆ‘ä»¬å¯ä»¥ä¸éœ€è¦æ­å»ºç¯å¢ƒå°±å¯ä»¥åšå¾ˆå¤šäº‹ï¼ŒçœŸçš„èŠ‚çœäº†å¾ˆå¤šäº‹ï¼Swaggerä»¥åå¯èƒ½ä¼šé•¿æœŸä½¿ç”¨å§ï¼Œæˆ‘è§‰å¾—ï¼</p>
]]></content>
      <categories>
        <category>Docker</category>
      </categories>
  </entry>
  <entry>
    <title>Docker Start</title>
    <url>/2020/04/20/Docker-Start/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>å®¹å™¨æ˜¯è½»é‡ä¸”å¯ç§»æ¤çš„ä»“åº“ï¼ŒåŒ…å«åº”ç”¨ç¨‹åºåŠå…¶ä¾èµ–çš„ç»„ä»¶ã€‚å®¹å™¨æ˜¯å¯¹åº”ç”¨ç¨‹åºåŠå…¶ä¾èµ–å…³ç³»çš„å°è£…ã€‚ä¹ä¸€çœ‹å®¹å™¨åªæ˜¯ä¸ªè½»é‡çº§çš„è™šæ‹Ÿæœºï¼Œå®ƒå’Œè™šæ‹Ÿæœº ä¸€æ ·æ‹¥æœ‰ä¸€ä¸ªè¢«éš”ç¦»çš„æ“ä½œç³»ç»Ÿå®ä¾‹ï¼Œç”¨æ¥è¿è¡Œåº”ç”¨ç¨‹åºã€‚å®¹å™¨çš„ç›®çš„åˆ™æ˜¯ä½¿åº”ç”¨ç¨‹åºèƒ½å¤Ÿç§»æ¤ï¼Œå¹¶æŠŠæ‰€æœ‰ä¾èµ–å…³ç³»åŒ…å«è¿›å»ã€‚å®¹å™¨çš„ä¼˜åŠ¿ï¼š</p>
<ul>
<li>å®¹å™¨èƒ½ä¸ä¸»æœºçš„æ“ä½œç³»ç»Ÿå…±äº«èµ„æºï¼Œå› è€Œå®ƒçš„æ•ˆç‡é«˜å‡ºä¸€ä¸ªæ•°é‡çº§ï¼›</li>
<li>å®¹å™¨å…·æœ‰å¯ç§»æ¤æ€§ï¼›</li>
<li>å®¹å™¨æ˜¯è½»é‡çš„ï¼›</li>
<li>äº‘ç«¯éƒ¨ç½²ï¼Œç”¨æˆ·å¯ä»¥ä¸‹è½½å¹¶æ‰§è¡Œå¤æ‚çš„åº”ç”¨ç¨‹åºï¼Œè€Œæ— éœ€èŠ±è´¹å¤§é‡æ—¶é—´åœ¨é…ç½®å’Œå®‰è£…çš„é—®é¢˜ä¸Šï¼Œä¹Ÿæ— éœ€æ‹…å¿ƒå¯¹ç³»ç»Ÿæœ¬èº«çš„æ”¹åŠ¨ã€‚</li>
</ul>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="å®¹å™¨çš„ç‰¹ç‚¹"><a href="#å®¹å™¨çš„ç‰¹ç‚¹" class="headerlink" title="å®¹å™¨çš„ç‰¹ç‚¹"></a>å®¹å™¨çš„ç‰¹ç‚¹</h2><ol>
<li>å®¹å™¨åªèƒ½è¿è¡Œä¸ä¸»æœºä¸€æ ·çš„å†…æ ¸ï¼›</li>
<li>å®¹å™¨ å¼•æ“ï¼ˆcontainer engineï¼‰è´Ÿè´£å¯åŠ¨åŠåœæ­¢å®¹å™¨ï¼›</li>
<li>å®¹å™¨å¯ä»¥æŠŠä¸»æœºä¸Šçš„åº”ç”¨ç¨‹åºéš”ç¦»å¼€æ¥ã€‚</li>
</ol>
<h2 id="Dockerä¸å®¹å™¨"><a href="#Dockerä¸å®¹å™¨" class="headerlink" title="Dockerä¸å®¹å™¨"></a>Dockerä¸å®¹å™¨</h2><ol>
<li>Docker åˆ©ç”¨ç°æœ‰çš„ Linux å®¹å™¨æŠ€æœ¯ï¼Œä»¥ä¸åŒæ–¹å¼å°†å…¶å°è£…åŠæ‰©å±•â€”â€”ä¸»è¦æ˜¯é€šè¿‡æä¾›å¯ç§»æ¤çš„é•œåƒï¼Œä»¥åŠä¸€ä¸ªç”¨æˆ·å‹å¥½çš„æ¥å£â€”â€”æ¥åˆ›å»ºä¸€å¥—å®Œæ•´çš„å®¹å™¨åˆ›å»ºåŠå‘å¸ƒæ–¹æ¡ˆï¼›</li>
<li>Docker å¹³å°æ‹¥æœ‰ä¸¤ä¸ªä¸åŒéƒ¨åˆ†ï¼šè´Ÿè´£åˆ›å»ºä¸è¿è¡Œå®¹å™¨çš„ Docker å¼•æ“ï¼Œä»¥åŠç”¨æ¥å‘å¸ƒå®¹å™¨çš„äº‘æœåŠ¡ Docker Hubï¼›</li>
</ol>
<h2 id="Dockerå‘½ä»¤"><a href="#Dockerå‘½ä»¤" class="headerlink" title="Dockerå‘½ä»¤"></a>Dockerå‘½ä»¤</h2><ol>
<li>æŠŠå®¹å™¨çš„åç§°æˆ– IDä½œä¸º docker inspect å‘½ä»¤çš„å‚æ•°ï¼Œæ¥è·å–æ›´å¤šæœ‰å…³æŸä¸ªå®¹å™¨çš„ä¿¡æ¯ï¼›</li>
<li>ä»¥å®¹å™¨åç§°ä½œä¸ºdocker logsçš„å‚æ•°ï¼Œå°±èƒ½å¾—çŸ¥è¿™ä¸ªå®¹å™¨é‡Œæ›¾ç»å‘ç”Ÿè¿‡çš„ä¸€åˆ‡äº‹æƒ…ï¼›</li>
<li>docker ps -aå‘½ä»¤ä¼šåˆ—å‡ºæ‰€æœ‰å®¹å™¨ï¼ŒåŒ…æ‹¬å·²ç»åœæ­¢çš„å®¹å™¨ï¼›</li>
<li>åªéœ€ä¸ºé•œåƒæŒ‡å®šä¸€ä¸ªåˆé€‚åç§°çš„ä»“åº“å’Œæ ‡ç­¾ï¼Œç„¶åç”¨ docker push å‘½ä»¤ä¸Šä¼ åˆ° Docker Hubï¼›</li>
<li>æ­£å¸¸è·å– shell çš„æ–¹æ³•æ˜¯æ‰§è¡Œ docker exec å‘½ä»¤ï¼›</li>
<li>Docker é€šè¿‡æ•°æ®å·ä¸å…¶ä»–å®¹å™¨å…±äº«ï¼Œè€Œä»»ä½•ä¿®æ”¹éƒ½ä¼šç›´æ¥å‘ç”Ÿåœ¨ä¸»æœºçš„æ–‡ä»¶ç³»ç»Ÿé‡Œï¼Œæ•°æ®å·æ˜¯ç›´æ¥åœ¨ä¸»æœºæŒ‚è½½çš„æ–‡ä»¶æˆ–ç›®å½•ï¼Œä¸å±äºå¸¸è§„è”åˆæ–‡ä»¶ç³»ç»Ÿçš„ä¸€éƒ¨åˆ†ã€‚  å£°æ˜ä¸€ä¸ªç›®å½•ä¸ºæ•°æ®å·æœ‰ä¸¤ç§æ–¹æ³•ï¼Œç¬¬ä¸€ç§æ˜¯åœ¨ Dockerfile é‡Œä½¿ç”¨ VOLUME æŒ‡ä»¤ï¼Œç¬¬äºŒç§æ˜¯åœ¨æ‰§è¡Œdocker run çš„æ—¶å€™ä½¿ç”¨ -v å‚æ•°ï¼Œå¯ä»¥åœ¨ä¸»æœºä¸Šæ‰“å¼€ä¸€ä¸ªæ–°çš„ shellï¼Œé€šè¿‡æ‰§è¡Œ docker inspect å‘½ä»¤ï¼Œæ‰¾å‡ºæ•°æ®å·åœ¨ä¸»æœºä¸Šçš„å®é™…ä½ç½®  ï¼›å°† docker run å‘½ä»¤çš„ -vé€‰é¡¹ç”¨æ³•è¿›è¡Œæ‰©å±•ï¼Œä½¿åˆ°èƒ½å¤Ÿå…·ä½“æŒ‡æ˜æ•°æ®å·è¦ç»‘å®šçš„ä¸»æœºç›®å½•ï¼Œå‘½ä»¤æ ¼å¼ä¸º -v HOST_DIR:CONTAINER_DIRï¼ˆå…¶ä¸­ HOST_DIR ä¸ºä¸»æœºç›®å½•ï¼ŒCONTAINER_DIR ä¸ºå®¹å™¨ç›®å½•ï¼‰</li>
<li>åœæ­¢æ‰€æœ‰çš„å®¹å™¨ï¼š</li>
</ol>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker stop $(docker ps -q)</span><br></pre></td></tr></table></figure>

<ol start="8">
<li>åˆ é™¤æ‰€æœ‰çš„å·²åœæ­¢çš„å®¹å™¨ï¼š</li>
</ol>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker rm -v $(docker ps -aq -f status=exited)</span><br><span class="line"></span><br><span class="line">docker rm $(docker ps -aq)</span><br></pre></td></tr></table></figure>

<h2 id="Dockeræœ¯è¯­"><a href="#Dockeræœ¯è¯­" class="headerlink" title="Dockeræœ¯è¯­"></a>Dockeræœ¯è¯­</h2><ol>
<li>å¯„å­˜æœåŠ¡(registry)ï¼šè´Ÿè´£æ‰˜ç®¡å’Œå‘å¸ƒé•œåƒçš„æœåŠ¡ï¼Œé»˜è®¤ä¸ºDocker Hubï¼›</li>
<li>ä»“åº“ï¼ˆrepositoryï¼‰ï¼šä¸€ç»„ç›¸å…³é•œåƒçš„é›†åˆï¼›</li>
<li>æ ‡ç­¾ï¼ˆtagï¼‰ï¼šä»“åº“ä¸­é•œåƒçš„è¯†åˆ«å·ï¼Œç”±è‹±æ–‡å’Œæ•°å­—ç»„æˆï¼›</li>
<li>Docker å®ˆæŠ¤è¿›ç¨‹ï¼šè´Ÿè´£å®¹å™¨çš„åˆ›å»ºã€è¿è¡Œå’Œç›‘æ§ï¼Œè¿˜è´Ÿè´£é•œåƒçš„æ„å»ºå’Œå‚¨å­˜ï¼›</li>
<li>Docker å®¢æˆ·ç«¯  ï¼š</li>
<li>æ ¸å¿ƒæŠ€æœ¯ï¼š<ul>
<li>cgroupsï¼Œè´Ÿè´£ç®¡ç†å®¹å™¨ä½¿ç”¨çš„èµ„æºï¼ˆä¾‹å¦‚ CPU å’Œå†…å­˜çš„ä½¿ç”¨ï¼‰ï¼›</li>
<li>Namespacesï¼ˆå‘½åç©ºé—´ï¼‰ï¼Œè´Ÿè´£å®¹å™¨ä¹‹é—´çš„éš”ç¦»ã€‚</li>
</ul>
</li>
<li>æŠ€æœ¯æ”¯æŒï¼šé›†ç¾¤ç®¡ç†ã€æœåŠ¡å‘ç°ï¼ˆservice discoveryï¼‰å·¥å…·å’Œæ›´å…ˆè¿›çš„è”ç½‘åŠŸèƒ½ï¼ŒSwarmæ˜¯Docker çš„é›†ç¾¤æ–¹æ¡ˆï¼ŒDocker Compose æ˜¯è´Ÿè´£æ„å»ºå’Œè¿è¡Œç”±å¤šä¸ª Docker å®¹å™¨æ‰€ç»„æˆçš„åº”ç”¨ç¨‹åºçš„å·¥å…·ï¼ŒDocker Machine å¯ä»¥åœ¨æœ¬åœ°æˆ–è¿œç¨‹èµ„æºä¸Šå®‰è£…å’Œé…ç½® Docker ä¸»æœº  ï¼ŒKitematic ç”¨äºè¿è¡Œå’Œç®¡ç† Docker å®¹å™¨ï¼›</li>
<li>Docker å®¹å™¨ä½¿ç”¨è”åˆæ–‡ä»¶ç³»ç»Ÿï¼ˆUnion File System, UFSï¼‰ï¼Œå®ƒå…è®¸å¤šä¸ªæ–‡ä»¶ç³»ç»Ÿä»¥å±‚çº§æ–¹å¼æŒ‚è½½ï¼Œå¹¶è¡¨ç°ä¸ºä¸€ä¸ªå•ä¸€çš„æ–‡ä»¶ç³»ç»Ÿã€‚Docker åªéœ€æŸ¥çœ‹æœ€ä¸Šé¢çš„å¯è¯»å†™å±‚ï¼Œä¾¿å¯æ‰¾å‡ºæ›¾å¯¹è¿è¡Œç³»ç»Ÿæ‰€ä½œçš„æ‰€æœ‰æ”¹å˜ï¼›</li>
<li>å®¹å™¨å¯ä»¥å¤„äºä»¥ä¸‹å‡ ç§çŠ¶æ€ä¹‹ä¸€ï¼š å·²åˆ›å»ºï¼ˆcreatedï¼‰ã€ é‡å¯ä¸­ï¼ˆrestartingï¼‰ã€ è¿è¡Œä¸­ï¼ˆrunningï¼‰ã€ å·²æš‚åœï¼ˆpausedï¼‰å’Œå·²é€€å‡ºï¼ˆexitedï¼‰ï¼›</li>
<li>Docker çš„è¿æ¥ï¼ˆlinkï¼‰æ˜¯å…è®¸åŒä¸€ä¸»æœºä¸Šçš„å®¹å™¨äº’ç›¸é€šä¿¡çš„æœ€ç®€å•æ–¹æ³•ï¼Œå½“ä½¿ç”¨ Docker é»˜è®¤çš„è”ç½‘æ¨¡å‹æ—¶ï¼Œå®¹å™¨ä¹‹é—´çš„é€šä¿¡å°†é€šè¿‡ Docker çš„å†…éƒ¨ç½‘ç»œï¼Œè¿™æ„å‘³ç€ä¸»æœºç½‘ç»œæ— æ³•çœ‹è§è¿™äº›é€šä¿¡ï¼›</li>
<li>æ•°æ®å®¹å™¨ï¼Œè¿™ç§å®¹å™¨çš„å”¯ä¸€ç›®çš„å°±æ˜¯ä¸å…¶ä»–å®¹å™¨åˆ†äº«æ•°æ® ï¼Œæä¾›äº†ä¸€ä¸ªæ–¹ä¾¿çš„å‘½åç©ºé—´ï¼Œä½¿æ•°æ®å·å¯ä»¥å¾ˆå®¹æ˜“é€šè¿‡ â€“volumes-fromå‘½ä»¤è¿›è¡ŒåŠ è½½ ï¼›</li>
</ol>
<h2 id="Dockerfileå¯ç”¨æŒ‡ä»¤"><a href="#Dockerfileå¯ç”¨æŒ‡ä»¤" class="headerlink" title="Dockerfileå¯ç”¨æŒ‡ä»¤"></a>Dockerfileå¯ç”¨æŒ‡ä»¤</h2><ol>
<li>ADD ï¼šä»æ„å»ºç¯å¢ƒçš„ä¸Šä¸‹æ–‡æˆ–è¿œç¨‹ URL å¤åˆ¶æ–‡ä»¶è‡³é•œåƒï¼›</li>
<li>CMD ï¼šå½“å®¹å™¨å¯åŠ¨æ—¶æ‰§è¡ŒæŒ‡å®šçš„æŒ‡ä»¤ï¼Œå‡å¦‚å®šä¹‰äº†å¤šä¸ª CMD æŒ‡ä»¤ï¼Œé‚£ä¹ˆåªæœ‰æœ€åä¸€ä¸ªç”Ÿæ•ˆï¼Œå‰é¢å‡ºç°è¿‡çš„ CMD æŒ‡ä»¤å…¨éƒ¨æ— æ•ˆï¼›</li>
<li>COPYï¼šç”¨äºä»æ„å»ºç¯å¢ƒçš„ä¸Šä¸‹æ–‡å¤åˆ¶æ–‡ä»¶è‡³é•œåƒï¼›</li>
<li>ENTRYPOINT ï¼šè®¾ç½®ä¸€ä¸ªäºå®¹å™¨å¯åŠ¨æ—¶è¿è¡Œçš„å¯æ‰§è¡Œæ–‡ä»¶ï¼›</li>
<li>ENVï¼šè®¾ç½®é•œåƒå†…çš„ç¯å¢ƒå˜é‡ï¼›</li>
<li>EXPOSE ï¼šå‘ Docker è¡¨ç¤ºè¯¥å®¹å™¨å°†ä¼šæœ‰ä¸€ä¸ªè¿›ç¨‹ç›‘å¬æ‰€æŒ‡å®šçš„ç«¯å£ï¼›</li>
<li>FROM ï¼šè®¾ç½® Dockerfile ä½¿ç”¨çš„åŸºç¡€é•œåƒ ï¼›</li>
<li>MAINTAINER ï¼šæŠŠé•œåƒä¸­çš„â€œä½œè€… â€å…ƒæ•°æ®è®¾å®šä¸ºæŒ‡å®šçš„å­—ç¬¦ä¸² ï¼›</li>
<li>ONBUILD ï¼šæŒ‡å®šå½“é•œåƒè¢«ç”¨ä½œå¦ä¸€ä¸ªé•œåƒçš„åŸºç¡€é•œåƒæ—¶å°†ä¼šæ‰§è¡Œçš„æŒ‡ä»¤ï¼›</li>
<li>RUN ï¼šåœ¨å®¹å™¨å†…æ‰§è¡ŒæŒ‡å®šçš„æŒ‡ä»¤ï¼Œå¹¶æŠŠç»“æœä¿å­˜ä¸‹æ¥ ï¼›</li>
<li>USER ï¼šè®¾ç½®ä»»ä½•åç»­çš„ RUNã€ CMD æˆ– ENTRYPOINT æŒ‡ä»¤æ‰§è¡Œæ—¶æ‰€ç”¨çš„ç”¨æˆ· ï¼›</li>
<li>VOLUME ï¼šæŒ‡å®šä¸ºæ•°æ®å·çš„æ–‡ä»¶æˆ–ç›®å½• ï¼›</li>
<li>WORKDIR ï¼šå¯¹ä»»ä½•åç»­çš„ RUNã€ CMDã€ ENTRYPOINTã€ ADD æˆ– COPY æŒ‡ä»¤è®¾ç½®å·¥ä½œç›®å½• ï¼›</li>
</ol>
<h2 id="Dockeréƒ¨ç½²"><a href="#Dockeréƒ¨ç½²" class="headerlink" title="Dockeréƒ¨ç½²"></a>Dockeréƒ¨ç½²</h2><ol>
<li><p>å®¹å™¨ä¸é€‚åˆæ„å»ºé‚£ç§å‘å¸ƒå‘¨æœŸä»¥å‘¨æˆ–æœˆä¸ºå•ä½çš„å¤§å‹å•ä¸€æ¶æ„ä¼ä¸šè½¯ä»¶ã€‚  ç›¸åï¼Œå®¹å™¨å¤©ç„¶é€‚åˆé‡‡ç”¨å¾®æœåŠ¡çš„æ–¹å¼ï¼Œä»¥åŠæ¢ç´¢è¯¸å¦‚æŒç»­éƒ¨ç½²ï¼ˆcontinuous deploymentï¼‰è¿™æ ·çš„æŠ€æœ¯ï¼Œä½¿å¾—æˆ‘ä»¬èƒ½å®‰å…¨åœ°åœ¨ä¸€å¤©å†…å¤šæ¬¡æ›´æ–°ç”Ÿäº§ç¯å¢ƒï¼›</p>
</li>
<li><p>æ²¡æœ‰æ˜ å°„ç«¯å£çš„è¯ï¼Œå¯ä»¥é€šè¿‡ä¸‹é¢çš„å‘½ä»¤è®¿é—®ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">curl $(docker-machine ip default):port</span><br></pre></td></tr></table></figure>
</li>
<li><p>å¯ä»¥æŠŠä¸»æœºä¸Šçš„æºç ç›®å½•ç»‘å®šæŒ‚è½½ï¼ˆbind mountï¼‰åˆ°å®¹å™¨å†…çš„æºç ç›®å½•ä¹‹ä¸Š ,é˜²æ­¢å› ä¸ºæ”¹å˜æºç è€Œè¦é‡æ–°éƒ¨ç½²ï¼Œä½¿ç”¨å‘½ä»¤å¦‚ä¸‹ï¼š</p>
</li>
</ol>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker run -d -p port1:port2 -v "$PWD"/app:/app identidock</span><br><span class="line">//-v "$PWD"/app:/app å‚æ•°æŠŠä½äº /app çš„ app ç›®å½•æŒ‚è½½åˆ°å®¹å™¨å†…,å®ƒå°†è¦†ç›–å®¹å™¨ä¸­ /app ç›®å½•</span><br><span class="line">çš„å†…å®¹ ï¼Œè€Œä¸”åœ¨å®¹å™¨å†…è¿˜å¯ä»¥è¿›è¡Œè¯»å†™ï¼ˆå¦‚æœä½ ä¸å¸Œæœ›è¿™æ ·ï¼Œä¹Ÿå¯ä»¥æŠŠæ•°æ®å·æŒ‚è½½ä¸ºåªè¯»ï¼‰;å‚æ•° -v å¿…é¡»æ˜¯ç»å¯¹è·¯å¾„ã€‚</span><br></pre></td></tr></table></figure>

<ol start="4">
<li><strong>æ°¸è¿œè°¨è®°è®¾ç½®USERï¼š</strong>åœ¨ä»»ä½• Dockerï¬le ä¸­ï¼ŒæŠŠ USER è®¾ç½®å¦¥å½“éƒ½æ˜¯éå¸¸é‡è¦çš„ï¼Œå¦‚æœä½ ä¸è¿™æ ·åšï¼Œ å®¹å™¨ä¸­çš„è¿›ç¨‹å°†ä¼šä»¥ root èº«ä»½è¿è¡Œï¼›</li>
<li>å½“éœ€è¦åœ¨ä¸€å°ä¸»æœºä¸Šè¿è¡Œå¤šä¸ªå®¹å™¨çš„æ—¶å€™ï¼Œè®© Docker è‡ªåŠ¨å¯»æ‰¾å¹¶æ˜ å°„åˆ°æœªä½¿ç”¨çš„ç«¯å£ï¼Œ æ¯”ä½ è‡ªå·±è·Ÿè¸ªå“ªäº›ç«¯å£æ›´è½»æ¾ï¼›</li>
<li>å¾®æœåŠ¡æ¶æ„çš„ç³»ç»Ÿéå¸¸é€‚åˆæ¨ªå‘æ‰©å±•åˆ°å¤šå°æœºå™¨ï¼Œèƒ½å¤Ÿè½»æ¾å¿«é€Ÿåœ°è¢«å…¶ä»–æ•ˆèƒ½æ›´é«˜ä¸”åŠŸèƒ½ç›¸åŒçš„æœåŠ¡æ›¿ä»£ï¼›ä¸è¶³ä¹‹å¤„å°±æ˜¯åˆ†å¸ƒå¼ç»„ä»¶å¸¦æ¥çš„é¢å¤–å¼€é”€ï¼ŒæœåŠ¡ç¼–æ’å’ŒæœåŠ¡å‘ç°æ˜¯éå¸¸éœ€è¦è§£å†³çš„é—®é¢˜;</li>
<li>Dockerè¿™ç§å¹³å°ä½¿å¾—å®¹å™¨è‡ªç„¶è€Œç„¶åœ°æ¼”å˜æˆäº†ä¸€ç»„å…·æœ‰æ˜ç¡®åŠŸèƒ½çš„å°æœåŠ¡,ç„¶åäº¤äº’å°±å½¢æˆäº†æ›´å¤§çš„ç³»ç»Ÿã€‚</li>
</ol>
<h2 id="Dockerè‡ªåŠ¨åŒ–"><a href="#Dockerè‡ªåŠ¨åŒ–" class="headerlink" title="Dockerè‡ªåŠ¨åŒ–"></a>Dockerè‡ªåŠ¨åŒ–</h2><ol>
<li>ä½¿ç”¨ YAML æ–‡ä»¶æ¥å­˜å‚¨ä¸åŒå®¹å™¨çš„é…ç½®ï¼ŒèŠ‚çœå¼€å‘è€…é‡å¤ä¸”å®¹æ˜“å‡ºé”™çš„è¾“å…¥ï¼Œä»¥åŠé¿å…äº†è‡ªè¡Œå¼€å‘è§£å†³æ–¹æ¡ˆçš„è´Ÿæ‹…ï¼›</li>
<li>ä¸€ä¸ªdocker-composeçš„é…ç½®æ–‡ä»¶ç¤ºä¾‹ï¼š</li>
</ol>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">identidock:</span></span><br><span class="line">	<span class="attr">build:</span> <span class="string">.</span></span><br><span class="line"><span class="attr">ports:</span></span><br><span class="line">	<span class="bullet">-</span> <span class="string">"5000:5000"</span></span><br><span class="line"><span class="attr">environment:</span></span><br><span class="line">	<span class="attr">ENV:</span> <span class="string">DEV</span></span><br><span class="line"><span class="attr">volumes:</span></span><br><span class="line">	<span class="bullet">-</span> <span class="string">./app:/app</span></span><br></pre></td></tr></table></figure>

<ol start="3">
<li>é…ç½®æ–‡ä»¶è¯´æ˜ï¼š</li>
</ol>
<ul>
<li>â€œidentidockâ€ï¼šæ„å»ºçš„å®¹å™¨åç§°ï¼›</li>
<li>â€œbuild: .â€:å‘ŠçŸ¥é•œåƒæ˜¯é€šè¿‡å½“å‰ç›®å½•ä¸‹çš„Dockerfileæ„å»ºçš„ï¼›</li>
<li>â€œports:â€:ç”¨äºå£°æ˜å¯¹å¤–å¼€æ”¾çš„æ¥å£ï¼›</li>
<li>â€œenvironment:â€ï¼šç›¸å½“äºdocker run å‘½ä»¤çš„ -e å‚æ•°ï¼Œ ç”¨æ¥è®¾ç½®å®¹å™¨çš„ç¯å¢ƒå˜é‡ï¼›</li>
<li>â€œvolumes:â€ï¼šå…³é”®å­—ç›¸å½“äº docker run çš„ -v å‚æ•°ï¼Œç”¨äºé…ç½®æ•°æ®å·ã€‚</li>
</ul>
<ol start="4">
<li>docker-composeå‘½ä»¤çš„å‚æ•°ï¼š</li>
</ol>
<ul>
<li>upï¼šå¯åŠ¨æ‰€æœ‰åœ¨composeæ–‡ä»¶ä¸­å®šä¹‰çš„å®¹å™¨ï¼Œå¹¶ä¸”æŠŠå®ƒä»¬çš„æ—¥å¿—ä¿¡æ¯æ±‡é›†åœ¨ä¸€èµ·ï¼Œé€šå¸¸ä½¿ç”¨-då‚æ•°ä½¿å¾—åœ¨åå°è¿è¡Œï¼›</li>
<li>buildï¼šé‡æ–°æ„é€ ç”±Dockerfileæ„å»ºçš„é•œåƒ;</li>
<li>psï¼šè·å–ç”±composeç®¡ç†çš„å®¹å™¨çš„çŠ¶æ€ä¿¡æ¯;</li>
<li>runï¼šå¯åŠ¨ä¸€ä¸ªå®¹å™¨,å¹¶è¿è¡Œä¸€ä¸ªä¸€æ¬¡æ€§çš„å‘½ä»¤;</li>
<li>logsï¼šæ±‡é›†ç”±composeç®¡ç†çš„å®¹å™¨çš„æ—¥å¿—,å¹¶ä»¥å½©è‰²è¾“å‡º;</li>
<li>stopï¼šåœæ­¢å®¹å™¨,ä½†æ˜¯ä¸ä¼šåˆ é™¤å®ƒä»¬;</li>
<li>rmï¼šåˆ é™¤å·²ç»åœæ­¢çš„å®¹å™¨,é…åˆ-vå‚æ•°åˆ é™¤ä»»ä½•ç”±Dockerç®¡ç†çš„æ•°æ®å·,å½“ç„¶è¿˜æœ‰å…¶ä»–çš„å‘½ä»¤å‚æ•°ï¼Œè¿™é‡Œä¸å†ä¸€ä¸€åˆ—å‡ºäº†ã€‚</li>
</ul>
<h2 id="Dockerä»“åº“"><a href="#Dockerä»“åº“" class="headerlink" title="Dockerä»“åº“"></a>Dockerä»“åº“</h2><ol>
<li>åˆ«è®© latest æ ‡ç­¾è¯¯å¯¼ä½ ï¼Œå¾ˆå¤šä»“åº“éƒ½ä¼šæŠŠå®ƒä½œä¸ºæœ€ æ–°çš„ç¨³å®šç‰ˆé•œåƒçš„åˆ«åï¼Œä½†è¿™åªä¸è¿‡æ˜¯ä¸€ä¸ªæƒ¯ä¾‹ï¼Œè€Œå¹¶éå‡ºäºä»»ä½•ä¸¥æ ¼è§„å®šï¼Œlatest æ ‡ç­¾çš„é•œåƒä¸ä¼šè‡ªåŠ¨æ›´æ–°â€”â€”ä¹Ÿå°±æ„å‘³ç€ä»éœ€æ˜ç¡®æ‰§è¡Œ docker pull å‘½ä»¤æ¥è·å–æœ€æ–°ç‰ˆæœ¬ï¼›</li>
<li>Docker Hub æ˜¯ Docker å…¬å¸æä¾›çš„ä¸€ä¸ªçº¿ä¸Šé•œåƒå¯„å­˜æœåŠ¡ï¼›</li>
</ol>
<h2 id="Dockeræ—¥å¿—"><a href="#Dockeræ—¥å¿—" class="headerlink" title="Dockeræ—¥å¿—"></a>Dockeræ—¥å¿—</h2><ol>
<li><p>å¦‚æœæƒ³è¦ç³»ç»Ÿèƒ½å¤Ÿæ­£å¸¸çš„è¿è¡Œï¼Œå¯¹äºå®¹å™¨çš„æ—¥å¿—è¿›è¡Œæœ‰æ•ˆçš„ç›‘æ§å’Œè®°å½•æ˜¯å¿…ä¸å¯å°‘çš„ï¼Œè€Œå®¹å™¨çš„çŸ­æš‚ç”Ÿå‘½å‘¨æœŸç‰¹æ€§ï¼Œå¯¼è‡´æ—¥å¿—é›†ä¸­ç®¡ç†æ˜¯å¿…ä¸å¯å°‘çš„ï¼›</p>
</li>
<li><p>é»˜è®¤çš„æ—¥å¿—è®°å½•ç›´æ¥ä½¿ç”¨docker logs container_nameå‘½ä»¤å°±å¯ä»¥å–å¾—ï¼›</p>
</li>
<li><p>æ—¥å¿—è®°å½•æ–¹æ³•å¯ä»¥åœ¨å¯åŠ¨ Docker å®ˆæŠ¤è¿›ç¨‹æ—¶é€šè¿‡ â€“log-driver å‚æ•°å˜æ›´:</p>
<ol>
<li>json-fileï¼šé»˜è®¤è®°å½•æ–¹å¼ï¼›</li>
<li>syslogï¼šç³»ç»Ÿæ—¥å¿—é©±åŠ¨ï¼›</li>
<li>journaldï¼šsystemd çš„ journal æ—¥å¿—ï¼›</li>
<li>gelfï¼šGraylog Extended Log Formatï¼ˆGELFï¼‰é©±åŠ¨ï¼›</li>
<li>fluentdï¼šå°†æ—¥å¿—ä¿¡æ¯è½¬å‘åˆ°fluentdï¼›</li>
<li>noneï¼šå…³é—­æ—¥å¿—ã€‚</li>
</ol>
</li>
<li><p>æŠŠæ‰€æœ‰çš„æ—¥å¿—æ±‡æ€»åˆ°åŒä¸€ä¸ªåœ°æ–¹ï¼ˆæ—¥å¿—æœ‰å¯èƒ½æ˜¯è·¨ä¸»æœºçš„ï¼‰ï¼Œè¿™æ ·èƒ½å¤Ÿåˆ©ç”¨å·¥å…·å¯¹æ—¥å¿—è¿›è¡Œåˆ†æå’Œç›‘æ§ï¼š</p>
<ol>
<li>åœ¨æ‰€æœ‰çš„å®¹å™¨å†…è¿è¡Œå¤šä¸€ä¸ªè¿›ç¨‹ï¼Œè¿™ä¸ªè¿›ç¨‹çš„è§’è‰²ç›¸å½“äºæŠŠæ—¥å¿—è½¬å‘åˆ°æ±‡æ€»æœåŠ¡çš„ä»£ç†ï¼›</li>
<li>åœ¨ä¸»æœºä¸Šæˆ–åœ¨å¦ä¸€ä¸ªç‹¬ç«‹çš„å®¹å™¨ä¸­ï¼Œæ”¶é›†æ—¥å¿—å¹¶è½¬å‘åˆ°æ±‡æ€»æœåŠ¡ï¼›</li>
</ol>
</li>
<li><p>ä½¿ç”¨ELKè¿›è¡Œæ—¥å¿—è®°å½•ï¼š</p>
<ol>
<li>ELK æ˜¯ Elasticsearchã€Logstash å’Œ Kibana çš„é¦–å­—æ¯ç¼©å†™ï¼›</li>
<li>Elasticsearchï¼šæ¥è¿‘å®æ—¶æœç´¢çš„æ–‡æœ¬æœç´¢å¼•æ“ï¼›</li>
<li>Logstashï¼šåˆè¯»å–åŸå§‹æ—¥å¿—ï¼Œç„¶åå¯¹å…¶è§£æå’Œè¿‡æ»¤ï¼Œå†æŠŠç»“æœå‘é€åˆ°å…¶ä»–æœåŠ¡ï¼Œä¾‹å¦‚ç´¢å¼•æˆ–å­˜å‚¨ï¼›</li>
<li>Kibanaï¼šåŸºäº JavaScript çš„ Elasticsearch å›¾å½¢ç•Œé¢ã€‚ å®ƒå¯ä»¥ç”¨æ¥è¿è¡Œ Elasticsearch çš„æŸ¥è¯¢ï¼Œ å¹¶ä»¥ å„ç§å›¾è¡¨çš„å½¢å¼æ˜¾ç¤ºç»“æœï¼Œå®ƒè¿˜æä¾›äº†ä»ªè¡¨ç›˜çš„åŠŸèƒ½ï¼Œä½¿ç”¨æˆ·å¯¹ç³»ç»Ÿçš„çŠ¶æ€ä¸€ç›®äº†ç„¶ï¼›</li>
</ol>
</li>
<li><p>Docker è‡ªå¸¦ä¸€ä¸ªåŸºæœ¬çš„å‘½ä»¤è¡Œå·¥å…·ï¼Œåä¸º docker statsï¼Œèƒ½å¤Ÿè¿”å›ä¸€ä¸ªèµ„æºä½¿ç”¨æƒ…å†µçš„å®æ—¶æµ; è¿™ä¸ªå‘½ä»¤æ¥å—ä¸€ä¸ªæˆ–å¤šä¸ªå®¹å™¨åç§°ä½œä¸ºå‚æ•°ï¼Œ å¹¶æ‰“å°å„ç§å…³äºè¿™äº›å®¹å™¨çš„ç»Ÿè®¡æ•°æ®ï¼Œä¸ Unix ç¨‹åº top å¾ˆç±»ä¼¼;</p>
</li>
<li><p>è°·æ­Œçš„ cAdvisorï¼ˆContainer Advisor çš„ç¼©å†™ï¼‰æ˜¯æœ€å¸¸ç”¨çš„ Docker ç›‘æ§å·¥å…·ã€‚å®ƒå¯¹ä¸»æœºä¸Šè¿è¡Œçš„å®¹å™¨ä»¥å›¾å½¢åŒ–çš„æ–¹å¼å±•ç¤ºèµ„æºä½¿ç”¨æƒ…å†µåŠæ€§èƒ½æŒ‡æ ‡çš„æ€»è§ˆ;cAdvisor èƒ½å¤Ÿæ±‡æ€»å’Œå¤„ç†å„ç§ç»Ÿè®¡æ•°æ®ï¼Œå…¶ä»–äººå¯ä»¥é€šè¿‡ REST API è·å–ï¼Œæ–¹ä¾¿è¿›ä¸€æ­¥çš„å¤„ç†å’Œå­˜å‚¨;</p>
</li>
<li><p>è°·æ­Œå·²ç»å¼€å‘å‡ºä¸€å¥—å»ºç«‹åœ¨ cAdvisor ä¹‹ä¸Šçš„é›†ç¾¤ç›‘æ§è§£å†³æ–¹æ¡ˆï¼Œç§°ä¸º Heapster;</p>
</li>
<li><p>Prometheusæ˜¯ç”± SoundCloudå¼€å‘çš„ä¸€ä¸ªå¼€æºé›†ç¾¤ç›‘æ§è§£å†³æ–¹æ¡ˆï¼Œ èƒ½å¤Ÿæ¥å—ä¼—å¤šä¸åŒçš„æ¥æºä½œä¸ºè¾“å…¥ï¼Œå…¶ä¸­åŒ…æ‹¬ cAdvisorã€‚ å®ƒçš„ç›®çš„æ˜¯è¦æ”¯æŒå¤§å‹çš„å¾®æœåŠ¡æ¶æ„ç³»ç»Ÿï¼Œç›®å‰å·²åœ¨ SoundCloud å’Œ Docker å…¬å¸æ­£å¼ä½¿ç”¨;</p>
</li>
</ol>
<h2 id="Dockerå·¥å…·"><a href="#Dockerå·¥å…·" class="headerlink" title="Dockerå·¥å…·"></a>Dockerå·¥å…·</h2><ol>
<li><p>æœåŠ¡å‘ç°æ˜¯ä¸ºæŸä¸ªæœåŠ¡çš„å®¢æˆ·ç«¯è‡ªåŠ¨æä¾›è¿æ¥è‡³è¯¥æœåŠ¡çš„åˆé€‚å®ä¾‹çš„ä¿¡æ¯ï¼ˆé€šå¸¸æ˜¯ IP åœ°å€å’Œç«¯å£ï¼‰çš„è¿‡ç¨‹ï¼›æœåŠ¡å‘ç°çš„ä¸€ç§å®ç°æ–¹æ³•æ˜¯è®©å®¢æˆ·ç«¯åªç”¨æœåŠ¡åç§°å‘å‡ºè¯·æ±‚ï¼Œç„¶ååœ¨åå°ä»¥ç‰¹æ®Šæ–¹æ³•æŠŠåç§°å¯¹åº”åˆ°åˆé€‚çš„åœ°å€ï¼›</p>
</li>
<li><p>å°†ä¸åŒä¸»æœºä¸Šçš„å®¹å™¨è¿æ¥èµ·æ¥çš„ä¸€ç§æ–¹æ³•å«ä½œå¤§ä½¿å®¹å™¨ï¼ˆambassadorï¼‰ã€‚ å®ƒå…¶å®æ˜¯ä»£ç†å®¹å™¨ï¼Œä»£æ›¿çœŸæ­£çš„å®¹å™¨ï¼ˆæˆ–æœåŠ¡ï¼‰æ¥æ”¶ç½‘ç»œé€šä¿¡ï¼Œå¹¶æŠŠæµé‡è½¬å‘è‡³çœŸæ­£çš„æœåŠ¡ä¸­å»ï¼Œå…è®¸åœ¨æ— éœ€ä¿®æ”¹ä»»ä½•ä»£ç çš„æƒ…å†µä¸‹ï¼Œè®©ç”Ÿäº§ç¯å¢ƒçš„è”ç½‘æ¶æ„ æœ‰åˆ«äºå¼€å‘ç¯å¢ƒï¼›</p>
</li>
<li><p>Docker è”ç½‘æœ‰å››ä¸ªå¯ç”¨çš„åŸºæœ¬æ¨¡å¼ï¼šç½‘æ¡¥ï¼ˆbridgeï¼‰ã€ä¸»æœºï¼ˆhostï¼‰ ã€å®¹å™¨ï¼ˆcontainerï¼‰å’Œæœªè”ç½‘ï¼ˆnoneï¼‰ï¼›</p>
</li>
<li><p>é›†ç¾¤ï¼ˆClusteringï¼‰ï¼šæŠŠâ€œä¸»æœºâ€ç»„åˆå¹¶é€šè¿‡ç½‘ç»œè¿æ¥èµ·æ¥ï¼Œè™šæ‹Ÿæœºæˆ–è£¸æœºçš†å¯ã€‚é›†ç¾¤çœ‹èµ·æ¥åº”è¯¥åƒä¸€ä¸ªå•ä¸€ èµ„æºï¼Œè€Œä¸æ˜¯ä¸€ç»„äº’ä¸ç›¸å¹²çš„æœºå™¨ï¼ŒSwarmæ˜¯Docker è‡ªå¸¦çš„é›†ç¾¤å·¥å…·ï¼›</p>
</li>
<li><p>ç¼–æ’ï¼ˆOrchestrationï¼‰ï¼šåè°ƒå„ç»„ä»¶ä½¿å®ƒä»¬å…±åŒè¿ä½œï¼Œåœ¨é€‚åˆçš„ä¸»æœºä¸Šå¯åŠ¨å®¹å™¨å¹¶æŠŠå®ƒä»¬è¿æ¥èµ·æ¥ï¼Œç¼–æ’ç³»ç»Ÿä¹Ÿ å¯èƒ½åŒ…æ‹¬æ‰©å±•çš„æ”¯æŒã€è‡ªåŠ¨æ•…éšœåˆ‡æ¢ï¼Œä»¥åŠèŠ‚ç‚¹çš„è´Ÿè½½å‡è¡¡ï¼›</p>
</li>
<li><p>ç®¡ç†ï¼ˆManagementï¼‰ï¼šç›‘ç£ç³»ç»ŸåŠæ”¯æŒå„ç§ç®¡ç†ä»»åŠ¡ï¼›</p>
</li>
<li><p>è¿‡æ»¤å™¨ï¼ˆfilterï¼‰ï¼šæ§åˆ¶å“ªäº›èŠ‚ç‚¹å¯ç”¨äºè¿è¡Œå®¹å™¨ï¼Œæœ‰å‡ ç§è¿‡æ»¤å™¨æ˜¯é»˜è®¤ä½¿ç”¨çš„ï¼›</p>
</li>
<li><p>ç­–ç•¥ï¼š</p>
<ol>
<li>åˆ†æ•£ï¼ˆspreadï¼‰ï¼šå°†å®¹å™¨æ”¾ç½®åœ¨è´Ÿè½½æœ€å°çš„ä¸»æœºä¸Šï¼›</li>
<li>é›†è£…ï¼ˆbinpackï¼‰ï¼šå°†å®¹å™¨æ”¾ç½®åœ¨è´Ÿè½½æœ€å¤šä¸”è¿˜æœ‰å¯ç”¨ç©ºé—´çš„å®¹å™¨ä¸Šï¼›</li>
<li>éšæœºï¼ˆrandomï¼‰ï¼šå°†å®¹å™¨éšæœºå®‰æ’åœ¨ä»»ä½•ä¸»æœºä¸Šã€‚</li>
</ol>
</li>
<li><p>å®‰å…¨é—®é¢˜ï¼š</p>
<ol>
<li>å†…æ ¸æ¼æ´ï¼šæ‰€æœ‰å®¹å™¨ä»¥åŠä¸»æœºéƒ½å…±åŒä½¿ç”¨ä¸€ä¸ªå†…æ ¸ï¼Œå› æ­¤å†…æ ¸æ¼æ´çš„ä¸¥é‡æ€§å°†ä¼šè¢«æ”¾å¤§ï¼›</li>
<li>æ‹’ç»æœåŠ¡ï¼ˆDoSï¼‰æ”»å‡»ï¼šæ‰€æœ‰å®¹å™¨å…±åŒä½¿ç”¨ç›¸åŒçš„å†…æ ¸èµ„æºï¼›</li>
<li>å®¹å™¨çªç ´ï¼šç•™å¿ƒæ½œåœ¨çš„æƒé™æå‡æ”»å‡»ï¼›</li>
<li>é•œåƒæ±¡æŸ“ï¼šæ”»å‡»è€…å¯ä»¥æ¬ºéª—ä½ è¿è¡Œä»–çš„é•œåƒï¼Œ é‚£ä¹ˆä¸»æœºå’Œæ•°æ®å°†å—åˆ°å¨èƒï¼›</li>
<li>å¯†é’¥æ³„éœ²ï¼šæ”»å‡»è€…å¦‚æœèƒ½å¤ŸæŒæ¡å¯†é’¥ï¼Œä»–å°±èƒ½å¤Ÿè®¿é—®è¿™äº›é¢å¤–çš„æœåŠ¡ï¼›</li>
</ol>
</li>
<li><p>ç³»ç»Ÿé˜²å¾¡ç­–ç•¥ä¹Ÿåº”è¯¥æ˜¯å¤šé‡çš„ï¼š</p>
<ol>
<li>å®¹å™¨å¯ä»¥ç½®äºè™šæ‹Ÿæœºä¸­è¿è¡Œï¼›</li>
<li>å¯ä»¥é˜²æ­¢æ”»å‡»è€…åˆ°è¾¾ä¸»æœºæˆ–å±äºå…¶ä»–ç”¨æˆ·çš„å®¹å™¨ï¼›</li>
<li>ç›‘æ§ç³»ç»Ÿå¿…é¡»ç¡®ä¿åœ¨ä¾¦æµ‹åˆ°å¼‚å¸¸è¡Œä¸ºæ—¶é€šçŸ¥ç®¡ç†å‘˜ï¼›</li>
<li>éƒ¨ç½²é˜²ç«å¢™ï¼Œé™åˆ¶ä»ç½‘ç»œè®¿é—®å®¹å™¨çš„æƒé™ï¼Œä»¥ç¼©å°æ¥è‡ªå¤–éƒ¨çš„æ”»å‡»é¢ç­‰ã€‚</li>
</ol>
</li>
<li><p>æ¯ä¸ªè¿›ç¨‹å’Œå®¹å™¨ï¼Œåº”ä»¥è¶³å¤Ÿæ‰§è¡Œå…¶åŠŸèƒ½çš„æœ€ä½è®¿é—®æƒé™å’Œèµ„æºè¿è¡Œï¼›éœ€è¦ä¿è¯é•œåƒçš„å‡ºå¤„ï¼ˆprovenanceï¼‰çš„çœŸå®æ€§ï¼Œå»ºç«‹è½¯ä»¶æˆ–æ•°æ®å‡ºå¤„çš„ä¸»è¦å·¥å…·æ˜¯å®‰å…¨æ•£åˆ—ï¼Œå®‰å…¨æ•£åˆ—ç±»ä¼¼äºæ•°æ®æŒ‡çº¹ï¼›</p>
</li>
<li><p><strong>æ°¸è¿œä¸è¦ä»¥ root ç”¨æˆ·çš„èº«ä»½åœ¨å®¹å™¨å†…è¿è¡Œæ­£å¼çš„åº”ç”¨</strong>ï¼ŒDockerï¬le åœ¨ä»»ä½•æƒ…å†µä¸‹éƒ½åº”è¯¥åˆ›å»ºä¸€ä¸ªæ™®é€šç”¨æˆ·å¹¶åˆ©ç”¨ USER è¯­å¥æˆ– entrypoint è„šæœ¬åˆ‡æ¢ä¸ºè¿™ä¸ªç”¨æˆ·ï¼š</p>
<figure class="highlight dockerfile"><table><tr><td class="code"><pre><span class="line"><span class="keyword">RUN</span><span class="bash"> groupadd -r user_grp &amp;&amp; useradd -r -g user_grp user </span></span><br><span class="line"><span class="keyword">USER</span> <span class="keyword">user</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>å®¹å™¨åº”ä»…ä»…æ‰“å¼€åœ¨ç”Ÿäº§ç¯å¢ƒä¸­å¿…é¡»çš„ç«¯å£ï¼Œå¹¶ä¸”ç«¯å£åªå¯¹æ‰€éœ€çš„å®¹å™¨å¼€æ”¾;åº”ç”¨ç¨‹åºå¾ˆå¯èƒ½ä¸éœ€è¦ä½¿ç”¨ä»»ä½• setuid æˆ– setgid çš„äºŒè¿›åˆ¶æ–‡ä»¶,å¦‚æœå¯ä»¥ç¦ç”¨æˆ–åˆ é™¤è¿™äº›äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œé‚£ä¹ˆå°±èƒ½é˜»æ­¢æ”»å‡»è€…åˆ©ç”¨å®ƒä»¬æ¥å‘åŠ¨ææƒæ”»å‡»;</p>
</li>
<li><p>é™åˆ¶å†…å­˜ä½¿ç”¨ï¼Œå¯ä»¥é˜²æ­¢ DoS æ”»å‡»å’Œåº”ç”¨ç¨‹åºçš„å†…å­˜æ³„æ¼,docker run çš„ -m å’Œ â€“memory-swap å‚æ•°å¯ä»¥ç”¨æ¥é™åˆ¶å®¹å™¨èƒ½å¤Ÿä½¿ç”¨çš„å†…å­˜å’Œè™šæ‹Ÿå†…å­˜å®¹é‡;â€“memory-swap è®¾ç½®çš„æ˜¯<strong>æ€»å…±çš„å†…å­˜å®¹é‡</strong>,å¦‚æœåªç”¨ äº† -m å‚æ•°è€Œæ²¡æœ‰ â€“memory-swapï¼Œé‚£ä¹ˆ â€“memory-swap å°±ä¼šè¢«è®¾ç½®ä¸º -m å‚æ•°çš„ä¸€å€ï¼›</p>
</li>
<li><p>Docker æ§åˆ¶ CPU å æœ‰ç‡æ˜¯ä¾é ç›¸å¯¹çš„æ¯”é‡ï¼Œé»˜è®¤å€¼ä¸º 1024ï¼Œæ‰€æœ‰å®¹å™¨é»˜è®¤éƒ½æœ‰ç›¸åŒçš„ CPU ä½¿ç”¨ä»½é¢ï¼ŒCPU å¯ä»¥ä½¿ç”¨å®Œå…¨å…¬å¹³è°ƒåº¦å™¨ï¼ˆCompletely Fair Schedulerï¼ŒCFSï¼‰è¿›è¡Œåˆ†é…ï¼Œ æ–¹æ³•æ˜¯åˆ©ç”¨ â€“cpu-period å’Œ â€“cpu-quota å‚æ•°ï¼Œå®¹å™¨ä¼šè¢«åˆ†é…ä¸€ä¸ªåœ¨ä¸€æ®µæ—¢å®šæ—¶é—´å†…èƒ½å¤Ÿä½¿ç”¨çš„ CPU é…é¢ï¼ˆä»¥å¾®ç§’ä¸ºå•ä½ï¼‰ï¼›</p>
</li>
<li><p><strong>é™åˆ¶é‡æ–°å¯åŠ¨ï¼š</strong>åªéœ€æŠŠé‡å¯ç­–ç•¥ç”± always æ”¹ä¸º on-failure å³å¯ï¼›å¦‚ä¸‹é¢çš„ä¾‹å­ï¼ˆDocker åªä¼šæœ€å¤šé‡å¯å®¹å™¨10æ¬¡ï¼‰ï¼š</p>
</li>
</ol>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker run -d --restart=on-failure:10 my-flaky-image</span><br></pre></td></tr></table></figure>

<ol start="17">
<li>å¯ä»¥åœ¨æ‰§è¡Œ docker run æ—¶ä½¿ç”¨ â€“read-only å‚æ•°ï¼ŒæŠŠå®¹å™¨çš„æ–‡ä»¶ç³»ç»Ÿ è®¾ç½®ä¸ºå®Œå…¨åªè¯»ï¼›</li>
<li>è¿›ç¨‹çš„èµ„æºé™åˆ¶ï¼ˆulimitsï¼‰å¯ä»¥ç”¨äº Docker å®¹å™¨ï¼Œåœ¨æ‰§è¡Œdocker run æ—¶åŠ ä¸Š â€“ulimit é€‰é¡¹ï¼Œæˆ–åœ¨å¯åŠ¨ Docker å®ˆæŠ¤è¿›ç¨‹æ—¶åŠ ä¸Š â€“default-ulimit é€‰é¡¹ç»™æ‰€æœ‰å®¹å™¨è®¾ç½®é»˜è®¤å€¼ï¼›</li>
</ol>
<hr>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>Dockerçš„å¾ˆå¤šç‰¹æ€§å’Œå¾®æœåŠ¡æ¯æ¯ç›¸å…³ï¼Œä¸ºå¾®æœåŠ¡æä¾›äº†è‰¯å¥½çš„å¹³å°åŸºç¡€ï¼Œç°åœ¨çš„æœåŠ¡æ¶æ„å†é€æ¸å€¾å‘äºå¾®æœåŠ¡ï¼ŒæŒæ¡DockeræŠ€æœ¯å¯ä»¥å¾ˆæ–¹ä¾¿åœ°æ­å»ºè‡ªå·±çš„å¼€å‘ç¯å¢ƒï¼Œéƒ¨ç½²è‡ªå·±çš„æœåŠ¡ã€‚è¿™éƒ¨åˆ†çš„å†…å®¹åªèƒ½è¯´æ˜¯å¤§è‡´å…¥é—¨Docker,è¿˜éœ€è¦ä¸æ–­æ·±å…¥å­¦ä¹ !</p>
]]></content>
      <categories>
        <category>Docker</category>
      </categories>
  </entry>
  <entry>
    <title>Express &amp; LoopBack</title>
    <url>/2020/04/29/Express-LoopBack/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>Express åƒä¸€ä¸ªç²¾å·§çš„å¾®å†…æ ¸ï¼Œä¸è¶³ä»¥æ”¯æ’‘èµ·ä¸€ä¸ªå¤§é¡¹ç›®,ä¸€èˆ¬è¿˜ä¼šç»“åˆLoopBackå®Œæˆä¼ä¸šçº§çš„åº”ç”¨ï¼è¿™éƒ¨åˆ†ä¸æ˜¯å»è¿›è¡Œç³»ç»Ÿæ€§çš„å­¦ä¹ LoopBackæ¡†æ¶,ä¸»è¦æ˜¯ä¸ºäº†èƒ½å¤Ÿæ›´å¿«é€Ÿçš„é˜…è¯»å…¬å¸çš„åç«¯Nodejsä»£ç ï¼ŒåŠ é€Ÿè‡ªå·±çš„å¼€å‘è¿‡ç¨‹ï¼LoopBackæ˜¯ä¸€ä¸ªçœŸæ­£çš„ä¼ä¸šçº§æ¡†æ¶ï¼Œéšç€ä½¿ç”¨çš„æ·±å…¥ï¼Œè¯»è€…å°†ä¼šå‘ç°å®ƒæ›´å¤šçš„ç”¨æ³•å’Œä¼˜ç§€çš„ç‰¹æ€§ã€‚LoopBack ä½œä¸ºä¸€ä¸ªé¢å‘ä¼ä¸šçº§çš„ Web æ¡†æ¶ï¼Œæä¾›äº†æ›´ä¸°å¯Œçš„åŠŸèƒ½ï¼Œè¿™åœ¨æˆ‘ä»¬æ·»åŠ æ¨¡å‹ï¼Œæƒé™æ§åˆ¶ï¼Œè¿æ¥æ•°æ®æºç­‰æ“ä½œæ—¶ï¼Œæå¤§çš„æå‡æˆ‘ä»¬çš„æ•ˆç‡ã€‚</p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="åŸºç¡€çŸ¥è¯†"><a href="#åŸºç¡€çŸ¥è¯†" class="headerlink" title="åŸºç¡€çŸ¥è¯†"></a>åŸºç¡€çŸ¥è¯†</h2><ol>
<li>LoopBack æ˜¯å»ºç«‹åœ¨ Express åŸºç¡€ä¸Šçš„ä¼ä¸šçº§ Node.js æ¡†æ¶ï¼›</li>
<li>ç‰¹æ€§ï¼š</li>
</ol>
<ul>
<li>åªéœ€ç¼–å†™å°‘é‡ä»£ç å°±èƒ½åˆ›å»ºåŠ¨æ€ç«¯åˆ°ç«¯çš„ REST API</li>
<li>æ”¯æŒä¸»æµçš„æ•°æ®æºï¼Œä¾‹å¦‚ Mongodbã€SOAPã€MySQL ç­‰å’Œ REST API çš„æ•°æ®</li>
<li>ä¸€è‡´åŒ–çš„æ¨¡å‹å…³ç³»å’Œå¯¹ API è®¿é—®çš„æƒé™æ§åˆ¶</li>
<li>å¯ä½¿ç”¨å†…ç½®çš„ç”¨äºç§»åŠ¨åº”ç”¨åœºæ™¯ä¸‹çš„åœ°ç†å®šä½ã€æ–‡ä»¶æœåŠ¡ä»¥åŠæ¶ˆæ¯æ¨é€</li>
<li>æä¾› Androidã€iOS å’Œ JavaScript çš„ SDKï¼Œè½»æ¾åˆ›å»ºå®¢æˆ·ç«¯åº”ç”¨ç¨‹åº</li>
<li>æ”¯æŒåœ¨äº‘ç«¯æˆ–è€…æœ¬åœ°éƒ¨ç½²æœåŠ¡ç­‰</li>
</ul>
<ol start="3">
<li><del>StrongLoop æ˜¯ç”Ÿæˆ LoopBack æ¡†æ¶çš„å·¥å…·ç¨‹åºï¼Œä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤å®‰è£…ï¼š</del></li>
</ol>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> å°è¯•å®‰è£…åœ¨iMacä¸Šï¼Œå¤±è´¥äº†</span></span><br><span class="line">npm install -g strongloop</span><br></pre></td></tr></table></figure>

<ol start="4">
<li><strong>å®‰è£… Loopback 4 CLIï¼š</strong></li>
</ol>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">npm i -g @loopback/cli</span><br></pre></td></tr></table></figure>

<ol start="5">
<li>LoopBack ç¬¦åˆMVCè®¾è®¡è§„èŒƒï¼Œå¯¹äºç†Ÿæ‚‰MVCçš„å¼€å‘äººå‘˜æ¥è¯´ï¼Œè¿™ä¸ªæ¶æ„å¯ä»¥æ›´æ–¹ä¾¿ä¸Šæ‰‹ï¼›</li>
<li>åˆ›å»ºé¡¹ç›®ï¼Œç›´æ¥ä½¿ç”¨å‘½ä»¤ <strong>lb4 é¡¹ç›®åç§°</strong> æ‰§è¡Œå‘½ä»¤åæŒ‰ç…§æç¤ºè¿›è¡Œæ“ä½œï¼Œè¾“å…¥é¡¹ç›®ä¿¡æ¯é€‰æ‹©é…ç½®åæŒ‰å›è½¦å°†è‡ªåŠ¨åˆ›å»ºé¡¹ç›®ï¼›</li>
<li>ç­‰å¾…åˆ›å»ºé¡¹ç›®åˆ›å»ºå®Œæˆåè¿›å…¥ç›®å½•ï¼Œç„¶åä½¿ç”¨å‘½ä»¤ <strong>npm start</strong> å°±å¯ä»¥å¯åŠ¨é¡¹ç›®äº†;</li>
<li>æµè§ˆå™¨è®¿é—®<a href="http://localhost:3000/ï¼›" target="_blank" rel="noopener">http://localhost:3000/ï¼›</a></li>
</ol>
<h2 id="æ·»åŠ REST-API"><a href="#æ·»åŠ REST-API" class="headerlink" title="æ·»åŠ REST_API"></a>æ·»åŠ REST_API</h2><ol>
<li><strong>æ·»åŠ æ•°æ®æºï¼š</strong></li>
</ol>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">lb4 datasource</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>LoopBackæ”¯æŒä¸»æµçš„æ•°æ®æºï¼Œä¾‹å¦‚ Mongodbã€SOAPã€MySQL ç­‰å’Œ REST API çš„æ•°æ®ï¼Œæ–¹ä¾¿èµ·è§æˆ‘é€‰æ‹©æ¡†æ¶å†…ç½®çš„æ•°æ®åº“ï¼Œå½“ç„¶å®é™…çš„é¡¹ç›®å¯èƒ½æ ¹æ®éœ€æ±‚è¿›è¡Œæ·»åŠ æ•°æ®åº“ï¼ŒæŒ‰ç…§æµç¨‹æ·»åŠ æ•°æ®æºå³å¯ï¼›</li>
<li><strong>æ·»åŠ æ¨¡å‹ï¼š</strong></li>
</ol>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">lb4 model</span><br></pre></td></tr></table></figure>

<ol start="4">
<li><strong>æ·»åŠ Repositoryï¼š</strong></li>
</ol>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">lb4 repository</span><br></pre></td></tr></table></figure>

<ol start="5">
<li><strong>æ·»åŠ Controller:</strong></li>
</ol>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">lb4 controller</span><br></pre></td></tr></table></figure>

<ol start="6">
<li>ä½¿ç”¨ <strong>npm start</strong> å¯åŠ¨é¡¹ç›®ï¼Œç„¶åå°±å¯ä»¥æµ‹è¯•äº†ï¼ŒLoopBackåˆ—å‡ºäº†æ‰€æœ‰å¯¹å¤–çš„æ¨¡å‹å’Œæ¯ä¸€ä¸ªæ¨¡å‹çš„æ¥å£ï¼Œä»¥åŠå¦‚ä½•æ„é€ GETç­‰è¯·æ±‚ï¼›</li>
<li>ä½¿ç”¨POSTMANè¿›è¡Œæµ‹è¯•ï¼š<ol>
<li>åœ¨Headersä¸­æ·»åŠ KEY: Content-Type    VALUE: application/json</li>
<li>åœ¨Bodyä¸­é€‰æ‹©raw,ç„¶åæ ¼å¼ä¸ºJSONï¼Œç„¶ååœ¨å†…å®¹ä¸­æŒ‰ç…§JSONæ ¼å¼æ¥å°±è¡Œäº†ï¼Œæµ‹è¯•å„ä¸ªåŠŸèƒ½ï¼›</li>
<li>æŒ‰ç…§LoopBackæå‡ºçš„è§„åˆ™ï¼Œå¾ˆç®€å•çš„å°±å¯ä»¥æµ‹è¯•æ¯ä¸ªåŠŸèƒ½ï¼›</li>
</ol>
</li>
</ol>
<hr>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1>]]></content>
      <categories>
        <category>Nodejs</category>
      </categories>
  </entry>
  <entry>
    <title>Grokking Algorithms(0)</title>
    <url>/2020/04/26/Grokking-Algorithms-0/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>ç®—æ³•æ˜¯ä¸€ç»„å®Œæˆä»»åŠ¡çš„æŒ‡ä»¤ï¼Œä»»ä½•ä»£ç ç‰‡æ®µéƒ½å¯è§†ä¸ºç®—æ³• ï¼Œç®—æ³•æ˜¯å¿…é¡»èƒ½å®Œæˆä¸€ç§åŠŸèƒ½çš„æŒ‡ä»¤é›†åˆï¼›äºŒåˆ†æŸ¥æ‰¾æ˜¯ä¸€ç§ç®—æ³•ï¼Œå…¶è¾“å…¥æ˜¯ä¸€ä¸ªæœ‰åºçš„å…ƒç´ åˆ—è¡¨ ï¼Œå¦‚æœè¦æŸ¥æ‰¾çš„å…ƒç´ åŒ…å«åœ¨åˆ—è¡¨ä¸­ï¼ŒäºŒåˆ†æŸ¥æ‰¾è¿”å›å…¶ä½ç½®ï¼›å¦åˆ™è¿”å›nullã€‚äºŒåˆ†æ³•æ˜¯ç®—æ³•é‡Œéå¸¸é‡è¦çš„ä¸€ç§æ–¹æ³•ï¼Œéå¸¸é‡è¦ï¼  <strong>å¦‚æœåªæ˜¯å…»æˆäº†â€œä¸€è¨€ä¸åˆå°±å†™è„šæœ¬â€çš„ä¹ æƒ¯ï¼Œä¸çœŸæ­£ä¼˜ç§€çš„ç¨‹åºå‘˜ä»ç„¶æœ‰å¾ˆå¤§çš„å·®è·ï¼</strong>æœ€é‡è¦çš„æ˜¯å·¥ä½œæ–¹å¼çš„è½¬å˜ä»¥åŠæ€ç»´æ–¹å¼çš„è½¬å˜ï¼Œå…»æˆè‰¯å¥½çš„ç¼–ç¨‹ä¹ æƒ¯ä»¥åŠè‰¯å¥½çš„è®°å½•ä¹ æƒ¯ï¼Œæ›´é‡è¦çš„æ˜¯<strong><em>æ€ç»´æ–¹å¼*</em></strong>çš„è½¬å˜ï¼æˆ‘ä»¬éœ€è¦è½¬æ¢è‡ªå·±çš„æ€ç»´ï¼Œç®—æ³•æ˜¯ä¸ºäº†è§£å†³æŸä¸€ä¸ªé—®é¢˜è€Œè¡ç”Ÿå‡ºçš„äº§å“ï¼Œä¸æ˜¯ä¸ºäº†ç®—æ³•è€Œç®—æ³•ï¼Œå› ä¸ºè¦å»é¢è¯•ç®—æ³•å·¥ç¨‹å¸ˆï¼Œæˆ‘å°±å»å­¦å‡ ä¸ªæ¯”è¾ƒæµè¡Œçš„ç®—æ³•ï¼Œå¦‚æœä¸ºäº†è§£å†³æŸä¸€ä¸ªå®é™…çš„é—®é¢˜è€Œå»å­¦ä¹ æˆ–è€…æ€è€ƒè€Œå‡ºç°çš„ç®—æ³•æ‰æ˜¯æœ‰æ„ä¹‰çš„ï¼</p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="ä¼˜ç§€ç®—æ³•çš„ç‰¹è´¨"><a href="#ä¼˜ç§€ç®—æ³•çš„ç‰¹è´¨" class="headerlink" title="ä¼˜ç§€ç®—æ³•çš„ç‰¹è´¨"></a>ä¼˜ç§€ç®—æ³•çš„ç‰¹è´¨</h2><ul>
<li>é«˜é€Ÿå¤„ç†</li>
<li>ç®€å•å¯ç»´æŠ¤æ€§æ›´å¥½</li>
<li>é€šç”¨æ€§</li>
</ul>
<h2 id="ç®—æ³•æ‰§è¡Œæ•ˆç‡"><a href="#ç®—æ³•æ‰§è¡Œæ•ˆç‡" class="headerlink" title="ç®—æ³•æ‰§è¡Œæ•ˆç‡"></a>ç®—æ³•æ‰§è¡Œæ•ˆç‡</h2><ol>
<li>å¤§Oè¡¨ç¤ºæ³•æ˜¯ä¸€ç§ç‰¹æ®Šçš„è¡¨ç¤ºæ³•ï¼ŒæŒ‡å‡ºäº†ç®—æ³•çš„é€Ÿåº¦æœ‰å¤šå¿«ï¼›<ol>
<li>O(log n)ï¼Œä¹Ÿå«å¯¹æ•°æ—¶é—´ï¼Œè¿™æ ·çš„ç®—æ³•åŒ…æ‹¬äºŒåˆ†æŸ¥æ‰¾ ;</li>
<li>O(n)ï¼Œä¹Ÿå«çº¿æ€§æ—¶é—´ï¼Œè¿™æ ·çš„ç®—æ³•åŒ…æ‹¬ç®€å•æŸ¥æ‰¾ ;</li>
<li>O(n * log n)  ,æ¯”å¦‚å¿«æ’ï¼›</li>
<li>O(n^2)  ,æ¯”å¦‚ä¸€ç§é€Ÿåº¦è¾ƒæ…¢çš„æ’åºç®—æ³• ï¼›</li>
<li>O(n!)  æ¯”å¦‚é€’å½’ï¼›</li>
</ol>
</li>
<li>O(log n)æ¯”O(n)å¿«ã€‚éœ€è¦æœç´¢çš„å…ƒç´ è¶Šå¤šï¼Œå‰è€…æ¯”åè€…å°±å¿«å¾—è¶Šå¤šï¼›</li>
</ol>
<h2 id="é€’å½’"><a href="#é€’å½’" class="headerlink" title="é€’å½’"></a>é€’å½’</h2><ol>
<li>ç¼–å†™é€’å½’å‡½æ•°æ—¶ï¼Œå¿…é¡»å‘Šè¯‰å®ƒä½•æ—¶åœæ­¢é€’å½’ï¼›</li>
<li>æ¯ä¸ªé€’å½’å‡½æ•°éƒ½æœ‰ä¸¤éƒ¨åˆ†ï¼šåŸºçº¿æ¡ä»¶ï¼ˆ base caseï¼‰å’Œé€’å½’æ¡ä»¶ï¼ˆ recursive caseï¼‰ ï¼›</li>
<li>è°ƒç”¨æ ˆï¼ˆ call stackï¼‰  å¯¹äºé€’å½’çš„å®ç°éå¸¸é‡è¦ï¼›</li>
<li>å­˜å‚¨è¯¦å°½çš„ä¿¡æ¯å¯èƒ½å ç”¨å¤§é‡çš„å†…å­˜ã€‚æ¯ä¸ªå‡½æ•°è°ƒç”¨éƒ½è¦å ç”¨ä¸€å®šçš„å†…å­˜ï¼Œå¦‚æœæ ˆå¾ˆé«˜ï¼Œå°±æ„å‘³ç€è®¡ç®—æœºå­˜å‚¨äº†å¤§é‡å‡½æ•°è°ƒç”¨çš„ä¿¡æ¯ ï¼›</li>
</ol>
<h2 id="æ•£åˆ—è¡¨"><a href="#æ•£åˆ—è¡¨" class="headerlink" title="æ•£åˆ—è¡¨"></a>æ•£åˆ—è¡¨</h2><ol>
<li>æ•£åˆ—å‡½æ•°â€œå°†è¾“å…¥æ˜ å°„åˆ°æ•°å­—â€  ï¼›</li>
<li>æ•£åˆ—å‡½æ•°æ€»æ˜¯å°†åŒæ ·çš„è¾“å…¥æ˜ å°„åˆ°ç›¸åŒçš„ç´¢å¼• ï¼Œæ•£åˆ—å‡½æ•°å°†ä¸åŒçš„è¾“å…¥æ˜ å°„åˆ°ä¸åŒçš„ç´¢å¼•ï¼›</li>
<li>æ•£åˆ—è¡¨å¯èƒ½æ˜¯æœ€æœ‰ç”¨çš„ï¼Œä¹Ÿè¢«ç§°ä¸ºæ•£åˆ—æ˜ å°„ã€æ˜ å°„ã€å­—å…¸å’Œå…³è”æ•°ç»„ï¼›</li>
<li>æ•£åˆ—è¡¨ç”±é”®å’Œå€¼ç»„æˆ ï¼Œå¯ä»¥å°†æ•£åˆ—è¡¨ç”¨ä½œç¼“å­˜ï¼›</li>
<li>æ•£åˆ—è¡¨ï¼š</li>
</ol>
<ul>
<li>æ¨¡æ‹Ÿæ˜ å°„å…³ç³»  </li>
<li>é˜²æ­¢é‡å¤  </li>
<li>ç¼“å­˜/è®°ä½æ•°æ®</li>
</ul>
<ol start="6">
<li>æ•£åˆ—å‡½æ•°æ€»æ˜¯å°†ä¸åŒçš„é”®æ˜ å°„åˆ°æ•°ç»„çš„ä¸åŒä½ç½®ï¼›</li>
<li>å“ˆå¸Œå†²çªï¼Œå¦‚æœä¸¤ä¸ªé”®æ˜ å°„åˆ°äº†åŒä¸€ä¸ªä½ç½®ï¼Œå°±åœ¨è¿™ä¸ªä½ç½®å­˜å‚¨ä¸€ä¸ªé“¾è¡¨ ï¼›</li>
<li>æ•£åˆ—å‡½æ•°å°†é”®å‡åŒ€åœ°æ˜ å°„åˆ°æ•£åˆ—è¡¨çš„ä¸åŒä½ç½® æ˜¯æœ€ç†æƒ³çš„æƒ…å†µï¼›</li>
<li>è¦é¿å…å†²çªï¼Œéœ€è¦æœ‰ï¼š  </li>
</ol>
<ul>
<li>è¾ƒä½çš„å¡«è£…å› å­  </li>
<li>è‰¯å¥½çš„æ•£åˆ—å‡½æ•°  </li>
<li>*<em>æ³¨æ„ï¼šä¸€æ—¦å¡«è£…å› å­è¶…è¿‡0.7ï¼Œå°±è¯¥è°ƒæ•´æ•£åˆ—è¡¨çš„é•¿åº¦  *</em></li>
</ul>
<h2 id="å…³æ³¨çš„ç®—æ³•åŠæ•°æ®ç»“æ„"><a href="#å…³æ³¨çš„ç®—æ³•åŠæ•°æ®ç»“æ„" class="headerlink" title="å…³æ³¨çš„ç®—æ³•åŠæ•°æ®ç»“æ„"></a>å…³æ³¨çš„ç®—æ³•åŠæ•°æ®ç»“æ„</h2><ol>
<li>æ ‘ï¼ŒäºŒå‰æŸ¥æ‰¾æ ‘</li>
<li>åå‘ç´¢å¼•ï¼ˆ inverted indexï¼‰  </li>
<li>å‚…é‡Œå¶å˜æ¢</li>
<li>å¹¶è¡Œç®—æ³•ï¼š<ol>
<li>å¹¶è¡Œæ€§ç®¡ç†å¼€é”€ï¼›</li>
<li>è´Ÿè½½å‡è¡¡ã€‚</li>
</ol>
</li>
<li>åˆ†å¸ƒå¼ç®—æ³• MapReduce  ï¼šæ˜ å°„ï¼ˆ mapï¼‰å‡½æ•°å’Œå½’å¹¶ï¼ˆ reduceï¼‰å‡½æ•°  ï¼›</li>
<li>å¸ƒéš†è¿‡æ»¤å™¨å’Œ HyperLogLog ï¼›</li>
<li>å®‰å…¨æ•£åˆ—  ï¼ˆsecure hash algorithmï¼Œ SHAï¼‰ ç®—æ³• ï¼šSHA-0ã€ SHA-1ã€ SHA-2å’ŒSHA-3 ï¼›</li>
<li>Diffie-Hellmanç®—æ³•ä½¿ç”¨ä¸¤ä¸ªå¯†é’¥ï¼šå…¬é’¥å’Œç§é’¥ï¼›</li>
<li>çº¿æ€§è§„åˆ’ç”¨äºåœ¨ç»™å®šçº¦æŸæ¡ä»¶ä¸‹æœ€å¤§é™åº¦åœ°æ”¹å–„æŒ‡å®šçš„æŒ‡æ ‡ ï¼›</li>
<li>çº¿æ€§è§„åˆ’æ˜¯ä¸€ä¸ªå®½æ³›å¾—å¤šçš„æ¡†æ¶ï¼Œå›¾é—®é¢˜åªæ˜¯å…¶ä¸­çš„ä¸€ä¸ªå­é›† ï¼›</li>
<li>Simplexç®—æ³•ï¼›</li>
</ol>
<hr>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p><strong>é˜…è¯»é‡å†³å®šäº†å­¦ä¹ èƒ½åŠ›çš„ä¸Šé™ï¼Œå†™ä½œé‡å†³å®šäº†å­¦ä¹ èƒ½åŠ›çš„ä¸‹é™ï¼</strong>ç®—æ³•éœ€è¦é•¿æœŸçš„ç§¯ç´¯ï¼Œéœ€è¦å¤§é‡çš„ç»ƒä¹ ï¼Œå¼ºå¤§çš„æ•°å­¦åŠŸåº•å’Œæ¨å¯¼èƒ½åŠ›ã€‚è¿™éƒ¨åˆ†æ˜¯ç®—æ³•çš„å¼€å¤´ï¼Œä¹Ÿæ˜¯èµ·æ­¥ï¼Œæ…¢æ…¢ç§¯ç´¯å§ï¼</p>
]]></content>
      <categories>
        <category>Algorithm</category>
      </categories>
  </entry>
  <entry>
    <title>Elasticsearch Quick Start</title>
    <url>/2020/05/07/Elasticsearch-Quick-Start/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>å¦‚ä½•ä½¿ç”¨åˆ‡é¢æŠ€æœ¯ï¼ˆfacetingï¼‰åŸºäºæŸ¥è¯¢ç»“æœæ¥è®¡ç®—æ±‡æ€»æ•°æ®ï¼Œå¦‚ä½•ä½¿ç”¨æ–°å¼•è¿›çš„èšåˆæ¡†æ¶ï¼ˆåˆ†æå¼•æ“ï¼Œå¯ä»¥ä¸ºä½ çš„æ•°æ®èµ‹äºˆæ„ä¹‰ï¼‰ã€‚å­¦ä¹ å¦‚ä½•ä½¿ç”¨Elasticsearchçš„ç©ºé—´æœç´¢èƒ½åŠ›ï¼ˆspatial capabilityï¼‰å’Œé¢„æœç´¢ï¼ˆprospective searchï¼‰ä½¿å¾—æˆ‘ä»¬çš„æ•°æ®æ›´æœ‰ç”¨æ˜¯åšè¿™ç¯‡æ–‡ç« çš„ä¸»è¦ç›®çš„ï¼GitHubä½¿ç”¨Elasticsearchæœç´¢20TBçš„æ•°æ®ï¼<strong>æ¨èä¹¦ç±ï¼šã€ŠElasticsearch æœåŠ¡å™¨å¼€å‘ï¼ˆç¬¬äºŒç‰ˆï¼‰ã€‹Â· [æ³¢å…°] Rafa Kuc Marek Rogozinsklè‘— è”¡å»ºæ–Œè¯‘</strong></p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="åŸºç¡€çŸ¥è¯†"><a href="#åŸºç¡€çŸ¥è¯†" class="headerlink" title="åŸºç¡€çŸ¥è¯†"></a>åŸºç¡€çŸ¥è¯†</h2><ol>
<li><p>Elasticsearchï¼š<strong><em>ä¼˜ç§€çš„å…¨æ–‡æ£€ç´¢å’Œåˆ†æå¼•æ“</em></strong></p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/2be99af31f82a8b99b6fcbce9da847a2-57206" alt="ElasticsearchåŸºæœ¬åŸç†"></p>
</li>
<li><p>æ–‡æ¡£ï¼ˆdocumentï¼‰ï¼šç´¢å¼•å’Œæœç´¢æ—¶ä½¿ç”¨çš„ä¸»è¦æ•°æ®è½½ä½“ï¼ŒåŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªå­˜æœ‰æ•°æ®çš„å­—æ®µ</p>
</li>
<li><p>å­—æ®µï¼ˆfieldï¼‰ï¼šæ–‡æ¡£çš„ä¸€éƒ¨åˆ†ï¼ŒåŒ…å«åç§°å’Œå€¼ä¸¤éƒ¨åˆ†</p>
</li>
<li><p>è¯ï¼ˆtermï¼‰ï¼šä¸€ä¸ªæœç´¢å•å…ƒï¼Œè¡¨ç¤ºæ–‡æœ¬ä¸­çš„ä¸€ä¸ªè¯</p>
</li>
<li><p>æ ‡è®°ï¼ˆtokenï¼‰ï¼šè¡¨ç¤ºåœ¨å­—æ®µæ–‡æœ¬ä¸­å‡ºç°çš„è¯ï¼Œç”±è¿™ä¸ªè¯çš„æ–‡æœ¬ã€å¼€å§‹å’Œç»“æŸåç§»é‡ä»¥åŠç±»å‹ç»„æˆ</p>
</li>
<li><p>å€’æ’ç´¢å¼•å»ºç«‹ç´¢å¼•ä¸­è¯å’Œæ–‡æ¡£ä¹‹é—´çš„æ˜ å°„ï¼Œä¸åŒäºä»¥å¾€çš„æ­£æ’ç´¢å¼•</p>
</li>
<li><p>åˆ†æçš„å·¥ä½œç”±åˆ†æå™¨å®Œæˆï¼Œå®ƒç”±ä¸€ä¸ªåˆ†è¯å™¨ï¼ˆtokenizerï¼‰å’Œé›¶ä¸ªæˆ–å¤šä¸ªæ ‡è®°è¿‡æ»¤å™¨ï¼ˆtoken filterï¼‰ç»„æˆï¼Œä¹Ÿå¯ä»¥æœ‰é›¶ä¸ªæˆ–å¤šä¸ªå­—ç¬¦æ˜ å°„å™¨ï¼ˆcharacter mapperï¼‰</p>
<ul>
<li>å°å†™è¿‡æ»¤å™¨ï¼ˆlowercase filterï¼‰ï¼šæŠŠæ‰€æœ‰çš„æ ‡è®°å˜æˆå°å†™</li>
<li>åŒä¹‰è¯è¿‡æ»¤å™¨ï¼ˆsynonyms filterï¼‰ï¼šåŸºäºåŸºæœ¬çš„åŒä¹‰è¯è§„åˆ™ï¼ŒæŠŠä¸€ä¸ªæ ‡è®°æ¢æˆå¦ä¸€ä¸ªåŒä¹‰çš„æ ‡è®°</li>
<li>å¤šè¯­è¨€è¯å¹²æå–è¿‡æ»¤å™¨ï¼ˆmultiple language stemming filterï¼‰ï¼šå‡å°‘æ ‡è®°ï¼ˆå®é™…ä¸Šæ˜¯æ ‡è®°ä¸­çš„æ–‡æœ¬éƒ¨åˆ†ï¼‰ï¼Œå¾—åˆ°è¯æ ¹æˆ–è€…åŸºæœ¬å½¢å¼ï¼Œå³è¯å¹²</li>
</ul>
</li>
<li><p>é€šè¿‡ä½¿ç”¨å¤šä¸ªè¿‡æ»¤å™¨ï¼Œå‡ ä¹å¯ä»¥è¾¾åˆ°æ— é™çš„åˆ†æå¯èƒ½æ€§</p>
</li>
<li><p>è¯„åˆ†ï¼ˆscoringï¼‰ï¼šæ ¹æ®æ–‡æ¡£å’ŒæŸ¥è¯¢çš„åŒ¹é…åº¦ç”¨è®¡åˆ†å…¬å¼è®¡ç®—çš„ç»“æœï¼ŒApache Luceneä½¿ç”¨TF/IDFï¼ˆterm frequency/inverse document frequencyï¼Œè¯é¢‘/é€†å‘æ–‡æ¡£é¢‘ç‡ï¼‰è¯„åˆ†æœºåˆ¶ï¼ˆä¸€ç§è®¡ç®—æ–‡æ¡£åœ¨æˆ‘ä»¬æŸ¥è¯¢ä¸Šä¸‹æ–‡ä¸­ç›¸å…³åº¦çš„ç®—æ³•ï¼‰</p>
</li>
<li><p>ç´¢å¼•ï¼ˆindexï¼‰æ˜¯Elasticsearchå¯¹é€»è¾‘æ•°æ®çš„é€»è¾‘å­˜å‚¨ï¼Œå¯ä»¥åˆ†ä¸ºæ›´å°çš„éƒ¨åˆ†ï¼Œå¯ä»¥æŠŠç´¢å¼•å­˜æ”¾åœ¨ä¸€å°æœºå™¨æˆ–è€…åˆ†æ•£åœ¨å¤šå°æœåŠ¡å™¨ä¸Šï¼Œæ¯ä¸ªç´¢å¼•æœ‰ä¸€æˆ–å¤šä¸ªåˆ†ç‰‡ï¼ˆshardï¼‰ï¼Œæ¯ä¸ªåˆ†ç‰‡å¯ä»¥æœ‰å¤šä¸ªå‰¯æœ¬ï¼ˆreplicaï¼‰</p>
</li>
<li><p>å­˜å‚¨åœ¨Elasticsearchä¸­çš„ä¸»è¦å®ä½“å«æ–‡æ¡£ï¼ˆdocumentï¼‰ï¼Œæ–‡æ¡£ç”±å¤šä¸ªå­—æ®µç»„æˆï¼Œ æ¯ä¸ªå­—æ®µå¯èƒ½å¤šæ¬¡å‡ºç°åœ¨ä¸€ä¸ªæ–‡æ¡£é‡Œï¼Œ è¿™æ ·çš„å­—æ®µå«å¤šå€¼å­—æ®µï¼ˆmultivaluedï¼‰</p>
</li>
<li><p>åœ¨Elasticsearchä¸­ï¼Œä¸€ä¸ªç´¢å¼•å¯¹è±¡å¯ä»¥å­˜å‚¨å¾ˆå¤šä¸åŒç”¨é€”çš„å¯¹è±¡</p>
</li>
<li><p>Elasticsearchåœ¨æ˜ å°„ä¸­å­˜å‚¨æœ‰å…³å­—æ®µçš„ä¿¡æ¯ï¼Œæ¯ä¸€ä¸ªæ–‡æ¡£ç±»å‹éƒ½æœ‰è‡ªå·±çš„æ˜ å°„ï¼Œå³ä½¿æˆ‘ä»¬æ²¡æœ‰æ˜ç¡®å®šä¹‰</p>
</li>
<li><p><strong>CRUDï¼ˆcreate-retrieve-update-deleteï¼Œå¢åˆ æ”¹æŸ¥ï¼‰</strong></p>
</li>
<li><p>Elasticsearchå¯åŠ¨åï¼Œä¼šåˆ›å»ºå¦‚ä¸‹ç›®å½• ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/ad51462a4f2534485f0e214e19eb4a2b-40950" alt="è¿è¡Œåå»ºç«‹ç›®å½•"> </p>
</li>
</ol>
<h2 id="æ ¸å¿ƒæ¦‚å¿µ"><a href="#æ ¸å¿ƒæ¦‚å¿µ" class="headerlink" title="æ ¸å¿ƒæ¦‚å¿µ"></a>æ ¸å¿ƒæ¦‚å¿µ</h2><ol>
<li>Elasticsearchå¯ä»¥è¿è¡Œåœ¨è®¸å¤šäº’ç›¸åˆä½œçš„æœåŠ¡å™¨ä¸Šï¼Œ è¿™äº›æœåŠ¡å™¨ç§°ä¸ºé›†ç¾¤ï¼ˆclusterï¼‰ï¼Œå½¢æˆé›†ç¾¤çš„æ¯ä¸ªæœåŠ¡å™¨ç§°ä¸ºèŠ‚ç‚¹ï¼ˆnodeï¼‰</li>
<li>æ•°æ®å¯ä»¥åˆ†ä¸ºè¾ƒå°çš„ç§°ä¸ºåˆ†ç‰‡ï¼ˆshardï¼‰çš„éƒ¨åˆ†ï¼Œæ¯ä¸ªåˆ†ç‰‡å¯ä»¥æ”¾åœ¨ä¸åŒçš„æœåŠ¡å™¨ä¸Šï¼Œæ•°æ®å¯ä»¥åœ¨é›†ç¾¤çš„èŠ‚ç‚¹ä¸­ä¼ æ’­ï¼Œå¤šä¸ªåˆ†ç‰‡å¯ä»¥åŠ å¿«ç´¢å¼•</li>
<li>å‰¯æœ¬ï¼ˆreplicaï¼‰åªæ˜¯ä¸€ä¸ªåˆ†ç‰‡çš„ç²¾ç¡®å¤åˆ¶ï¼Œæ¯ä¸ªåˆ†ç‰‡å¯ä»¥æœ‰é›¶ä¸ªæˆ–å¤šä¸ªå‰¯æœ¬ï¼Œç”¨äº<strong>æé«˜æŸ¥è¯¢ååé‡æˆ–å®ç°é«˜å¯ç”¨æ€§</strong></li>
<li>Elasticsearchå¤„ç†è®¸å¤šèŠ‚ç‚¹ï¼Œé›†ç¾¤çš„çŠ¶æ€ç”±æ—¶å…‰ä¹‹é—¨æ§åˆ¶</li>
<li>Elasticsearch REST APIå¯ç”¨äºå„ç§ä»»åŠ¡ï¼Œå¯ä»¥ç®¡ç†ç´¢å¼•ï¼Œæ›´æ”¹å®ä¾‹å‚æ•°ï¼Œæ£€æŸ¥èŠ‚ç‚¹å’Œç¾¤é›†çŠ¶æ€ï¼Œç´¢å¼•æ•°æ®ï¼Œæœç´¢æ•°æ®æˆ–è€…é€šè¿‡GET APIæ£€ç´¢æ–‡æ¡£</li>
<li>æŸ¥è¯¢ä¿¡æ¯ï¼ˆæœ¬åœ°æ­å»ºï¼‰ï¼š<ol>
<li>åŸºæœ¬ä¿¡æ¯ï¼š<a href="http://localhost:9200/" target="_blank" rel="noopener">http://localhost:9200/</a></li>
<li>é›†ç¾¤ä¸­èŠ‚ç‚¹çš„ä¿¡æ¯ï¼š<a href="http://localhost:9200/_cluster/state/nodes/" target="_blank" rel="noopener">http://localhost:9200/_cluster/state/nodes/</a></li>
<li>å…³é—­èŠ‚ç‚¹ï¼š<a href="http://localhost:9200/_cluster/nodes/_shutdown" target="_blank" rel="noopener">http://localhost:9200/_cluster/nodes/_shutdown</a></li>
</ol>
</li>
</ol>
<h2 id="ç´¢å¼•"><a href="#ç´¢å¼•" class="headerlink" title="ç´¢å¼•"></a>ç´¢å¼•</h2><ol>
<li>æ›´å¤šåˆ†ç‰‡å’Œå‰¯æœ¬ï¼š<ul>
<li>æ›´å¤šåˆ†ç‰‡ä½¿ç´¢å¼•èƒ½ä¼ é€åˆ°æ›´å¤šæœåŠ¡å™¨ï¼Œæ„å‘³ç€å¯ä»¥å¤„ç†æ›´å¤šæ–‡ä»¶ï¼Œè€Œä¸ä¼šé™ä½æ€§èƒ½</li>
<li>æ›´å¤šåˆ†ç‰‡æ„å‘³ç€è·å–ç‰¹å®šæ–‡æ¡£æ‰€éœ€çš„èµ„æºé‡ä¼šå‡å°‘ï¼Œå› ä¸ºç›¸è¾ƒäºéƒ¨ç½²æ›´å°‘åˆ†ç‰‡æ—¶ï¼Œå­˜å‚¨åœ¨å•ä¸ªåˆ†ç‰‡ä¸­çš„æ–‡ä»¶æ•°é‡æ›´å°‘</li>
<li>æ›´å¤šåˆ†ç‰‡æ„å‘³ç€æœç´¢ç´¢å¼•æ—¶ä¼šé¢ä¸´æ›´å¤šé—®é¢˜ï¼Œå› ä¸ºå¿…é¡»ä»æ›´å¤šåˆ†ç‰‡ä¸­åˆå¹¶ç»“æœï¼Œä½¿å¾—æŸ¥è¯¢çš„èšåˆé˜¶æ®µéœ€è¦æ›´å¤šèµ„æº</li>
<li>æ›´å¤šå‰¯æœ¬ä¼šå¢å¼ºé›†ç¾¤ç³»ç»Ÿçš„å®¹é”™æ€§ï¼Œå› ä¸ºå½“åŸå§‹åˆ†ç‰‡ä¸å¯ç”¨æ—¶ï¼Œå…¶å‰¯æœ¬å°†æ›¿ä»£åŸå§‹åˆ†ç‰‡å‘æŒ¥ä½œç”¨</li>
<li>æ›´å¤šå‰¯æœ¬æ„å‘³ç€æŸ¥è¯¢ååé‡å°†ä¼šå¢åŠ ï¼Œå› ä¸ºæ‰§è¡ŒæŸ¥è¯¢å¯ä»¥ä½¿ç”¨åˆ†ç‰‡æˆ–åˆ†ç‰‡çš„ä»»ä¸€å‰¯æœ¬</li>
</ul>
</li>
<li>æ¨¡å¼æ˜ å°„ï¼ˆschema mappingï¼Œæˆ–ç®€ç§°æ˜ å°„ï¼‰ç”¨äºå®šä¹‰ç´¢å¼•ç»“æ„:<ul>
<li>å”¯ä¸€æ ‡è¯†ç¬¦</li>
<li>åç§°</li>
<li>å‘å¸ƒæ—¥æœŸ</li>
<li>å†…å®¹</li>
</ul>
</li>
<li>æ¯ä¸ªå­—æ®µç±»å‹å¯ä»¥æŒ‡å®šä¸ºElasticsearchæä¾›çš„ä¸€ä¸ªç‰¹å®šæ ¸å¿ƒç±»å‹ï¼Œæ ¸å¿ƒç±»å‹æœ‰ï¼š<ul>
<li>stringï¼šå­—ç¬¦ä¸²</li>
<li>numberï¼šæ•°å­—</li>
<li>dateï¼šæ—¥æœŸ</li>
<li>booleanï¼šå¸ƒå°”å‹</li>
<li>binaryï¼šäºŒè¿›åˆ¶</li>
</ul>
</li>
<li>æ•°å€¼å­—æ®µç±»å‹æœ‰ï¼š<ul>
<li>byteï¼šå®šä¹‰å­—èŠ‚å€¼</li>
<li>shortï¼šå®šä¹‰çŸ­æ•´å‹å€¼</li>
<li>integerï¼šå®šä¹‰æ•´å‹å€¼</li>
<li>longï¼šå®šä¹‰é•¿æ•´å‹å€¼</li>
<li>floatï¼šå®šä¹‰æµ®ç‚¹å€¼</li>
<li>doubleï¼šå®šä¹‰åŒç²¾åº¦å€¼</li>
</ul>
</li>
<li>å¼€ç®±å³ç”¨çš„åˆ†æå™¨ï¼š<ul>
<li>standardï¼šæ–¹ä¾¿å¤§å¤šæ•°æ¬§æ´²è¯­è¨€çš„æ ‡å‡†åˆ†æå™¨</li>
<li>simpleï¼šè¿™ä¸ªåˆ†æå™¨åŸºäºéå­—æ¯å­—ç¬¦æ¥åˆ†ç¦»æ‰€æä¾›çš„å€¼ï¼Œå¹¶å°†å…¶è½¬æ¢ä¸ºå°å†™å½¢å¼</li>
<li>whitespaceï¼šè¿™ä¸ªåˆ†æå™¨åŸºäºç©ºæ ¼å­—ç¬¦æ¥åˆ†ç¦»æ‰€æä¾›çš„å€¼</li>
<li>stopï¼šè¿™ä¸ªåˆ†æå™¨ç±»ä¼¼äºsimpleåˆ†æå™¨ï¼Œä½†é™¤äº†simpleåˆ†æå™¨çš„åŠŸèƒ½ï¼Œå®ƒè¿˜èƒ½åŸºäºæ‰€æä¾›çš„åœç”¨è¯è¿‡æ»¤æ•°æ®</li>
<li>keyword ï¼šè¿™æ˜¯ä¸€ä¸ªéå¸¸ç®€å•çš„åˆ†æå™¨ï¼Œ åªä¼ å…¥æä¾›çš„å€¼</li>
<li>patternï¼šä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼çµæ´»åœ°åˆ†ç¦»æ–‡æœ¬</li>
<li>languageï¼šæ—¨åœ¨ç‰¹å®šçš„è¯­è¨€ç¯å¢ƒä¸‹å·¥ä½œ</li>
<li>snowballï¼šæä¾›äº†è¯å¹²æå–ç®—æ³•</li>
</ul>
</li>
<li>å¯ç”¨çš„ç›¸ä¼¼åº¦æ¨¡å‹ï¼š<ul>
<li>Okapi BM25æ¨¡å‹ï¼šåŸºäºæ¦‚ç‡æ¨¡å‹ï¼Œæ¦‚ç‡æ¨¡å‹ä¼°ç®—æ ¹æ®æŒ‡å®šæŸ¥è¯¢æ‰¾åˆ°æŒ‡å®šæ–‡æ¡£çš„æ¦‚ç‡</li>
<li>éšæœºæ€§åå·®ï¼ˆdivergence from randomnessï¼‰æ¨¡å‹ï¼šè¿™ç§ç›¸ä¼¼åº¦æ¨¡å‹åŸºäºå…·æœ‰ç›¸åŒåç§°çš„æ¦‚ç‡æ¨¡å‹</li>
<li>ä¿¡æ¯åŸºç¡€ï¼ˆinformation-basedï¼‰æ¨¡å‹ï¼šè¿™æ˜¯æ–°æ¨å‡ºçš„æœ€åä¸€ä¸ªç›¸ä¼¼åº¦æ¨¡å‹ï¼Œä¸éšæœºæ€§åå·®æ¨¡å‹éå¸¸ç›¸ä¼¼</li>
</ul>
</li>
<li>åˆå¹¶è°ƒåº¦å™¨æŒ‡ç¤ºElasticsearchåˆå¹¶è¿‡ç¨‹çš„æ–¹å¼ï¼Œæœ‰ä¸¤ç§å¯èƒ½ï¼š<ul>
<li>å¹¶å‘åˆå¹¶è°ƒåº¦å™¨ï¼šé»˜è®¤ï¼Œåœ¨ç‹¬ç«‹çš„çº¿ç¨‹ä¸­æ‰§è¡Œï¼Œå®šä¹‰å¥½çš„çº¿ç¨‹æ•°é‡å¯ä»¥å¹¶è¡Œåˆå¹¶</li>
<li>ä¸²è¡Œåˆå¹¶è°ƒåº¦å™¨ï¼šåœ¨è°ƒç”¨çº¿ç¨‹ï¼ˆå³æ‰§è¡Œç´¢å¼•çš„çº¿ç¨‹ï¼‰ä¸­æ‰§è¡Œã€‚åˆå¹¶è¿›ç¨‹ä¼šä¸€ç›´é˜»å¡çº¿ç¨‹ç›´åˆ°åˆå¹¶å®Œæˆ</li>
</ul>
</li>
<li>Elasticsearchè®¡ç®—æ–‡æ¡£æ ‡è¯†ç¬¦çš„æ•£åˆ—å€¼ï¼Œä»¥æ­¤ä¸ºåŸºç¡€å°†æ–‡æ¡£æ”¾ç½®äºä¸€ä¸ªå¯ç”¨çš„ä¸»åˆ†ç‰‡ä¸Šï¼Œæ¥ç€ï¼Œè¿™äº›æ–‡æ¡£è¢«é‡æ–°åˆ†é…è‡³å‰¯æœ¬</li>
<li>è·¯ç”±å¯ä»¥æ§åˆ¶æ–‡æ¡£å’ŒæŸ¥è¯¢è½¬å‘çš„ç›®çš„åˆ†ç‰‡</li>
</ol>
<h2 id="æœç´¢"><a href="#æœç´¢" class="headerlink" title="æœç´¢"></a>æœç´¢</h2><ol>
<li><p>æ— è®ºæƒ³æ‰§è¡Œçš„æ“ä½œæ˜¯æ›´æ”¹æ˜ å°„è¿˜æ˜¯æ–‡æ¡£ç´¢å¼•åŒ–ï¼Œéƒ½è¦ç”¨REST APIå‘Elasticsearchå‘é€JSONç»“æ„çš„æ•°æ®ï¼›</p>
</li>
<li><p>Elasticsearchæ”¯æŒä¸¤ç§ç±»å‹çš„æŸ¥è¯¢ï¼šåŸºæœ¬æŸ¥è¯¢å’Œå¤åˆæŸ¥è¯¢ï¼›</p>
</li>
<li><p>æŸ¥è¯¢Elasticsearchæœ€ç®€å•çš„åŠæ³•æ˜¯ä½¿ç”¨URIè¯·æ±‚æŸ¥è¯¢ï¼›</p>
</li>
<li><p>Elasticsearchèƒ½æ§åˆ¶æƒ³è¦çš„æœ€å¤šç»“æœæ•°ä»¥åŠæƒ³ä»å“ªä¸ªç»“æœå¼€å§‹ï¼š</p>
<ul>
<li>fromï¼Œè¯¥å±æ€§æŒ‡å®šæˆ‘ä»¬å¸Œæœ›åœ¨ç»“æœä¸­è¿”å›çš„èµ·å§‹æ–‡æ¡£ï¼Œé»˜è®¤å€¼æ˜¯0    </li>
<li>sizeï¼Œè¯¥å±æ€§æŒ‡å®šäº†ä¸€æ¬¡æŸ¥è¯¢ä¸­è¿”å›çš„æœ€å¤§æ–‡æ¡£æ•°ï¼Œé»˜è®¤å€¼ä¸º10    </li>
</ul>
</li>
<li><p>Elasticsearchæä¾›ä¸€é¡¹åŠŸèƒ½ï¼Œè®©æˆ‘ä»¬å¯ä»¥æ ¹æ®æ–‡æ¡£éœ€è¦æ»¡è¶³çš„æœ€ä½å¾—åˆ†å€¼ï¼Œæ¥è¿‡æ»¤ç»“æœï¼›</p>
</li>
<li><p>Elasticsearchæ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼æœç´¢å¼•æ“ï¼Œå› æ­¤æä¾›çš„æ‰€æœ‰åŠŸèƒ½åœ¨æ€§è´¨ä¸Šéƒ½å¿…é¡»æ˜¯åˆ†å¸ƒå¼çš„ï¼›</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/e07ecfd5658278ed2efbd46541cf628b-40264" alt="æŸ¥è¯¢"></p>
</li>
<li><p>Elasticsearchå…è®¸é€šè¿‡æŒ‡å®šæœç´¢ç±»å‹æ¥é€‰æ‹©æŸ¥è¯¢åœ¨å†…éƒ¨å¦‚ä½•å¤„ç†ï¼Œä¸ºäº†æ§åˆ¶æŸ¥è¯¢å¦‚ä½•æ‰§è¡Œï¼Œå¯ä»¥ä½¿ç”¨search_typeè¯·æ±‚å‚æ•°ï¼Œå¹¶å°†å…¶è®¾ç½®ä¸ºä¸‹åˆ—å€¼ä¹‹ä¸€ï¼š</p>
<ul>
<li>query_then_fetch</li>
<li>query_and_fetch</li>
<li>dfs_query_and_fetch </li>
<li>dfs_query_then_fetch</li>
<li>count   </li>
<li>scan  </li>
</ul>
</li>
<li><p>Elasticsearchå…·æœ‰å¹¿æ³›çš„æœç´¢å’Œæ•°æ®åˆ†æèƒ½åŠ›ï¼Œä»¥ä¸åŒçš„æŸ¥è¯¢ã€ç­›é€‰å’Œèšåˆç­‰å½¢å¼å…¬å¼€ï¼›</p>
</li>
<li><p>å¤šè¯æ¡æŸ¥è¯¢å…è®¸åŒ¹é…é‚£äº›åœ¨å†…å®¹ä¸­å«æœ‰æŸäº›è¯æ¡çš„æ–‡æ¡£ã€‚è¯æ¡æŸ¥è¯¢å…è®¸åŒ¹é…å•ä¸ªæœªç»åˆ†æçš„è¯æ¡ï¼Œå¤šè¯æ¡æŸ¥è¯¢å¯ä»¥ç”¨æ¥åŒ¹é…å¤šä¸ªè¿™æ ·çš„è¯æ¡ï¼›</p>
</li>
<li><p>matchæŸ¥è¯¢æŠŠqueryå‚æ•°ä¸­çš„å€¼æ‹¿å‡ºæ¥ï¼ŒåŠ ä»¥åˆ†æï¼Œç„¶åæ„å»ºç›¸åº”çš„æŸ¥è¯¢ï¼›</p>
</li>
<li><p>Elasticsearchæ”¯æŒä¸‹åˆ—ä¸“ç”¨è¿‡æ»¤å™¨ï¼š  </p>
<ul>
<li>boolè¿‡æ»¤å™¨  </li>
<li>geo_shapeè¿‡æ»¤å™¨ </li>
<li>has_childè¿‡æ»¤å™¨ </li>
<li>has_parentè¿‡æ»¤å™¨ </li>
<li>idsè¿‡æ»¤å™¨</li>
<li>indicesè¿‡æ»¤å™¨</li>
<li>match_allè¿‡æ»¤å™¨  </li>
<li>nestedè¿‡æ»¤å™¨  </li>
<li>prefixè¿‡æ»¤å™¨ </li>
<li>rangeè¿‡æ»¤å™¨</li>
<li>regexpè¿‡æ»¤å™¨ </li>
<li>termè¿‡æ»¤å™¨</li>
<li>termsè¿‡æ»¤å™¨  </li>
</ul>
</li>
<li><p>Elasticsearchåœ¨å†…éƒ¨ä¸ºæ¯ä¸ªè¿‡æ»¤å™¨éƒ½å»ºç«‹äº†ä¸€ä¸ªå«bitsetçš„ç»“æ„ï¼Œå®ƒä¿å­˜ç€ç´¢å¼•ä¸­çš„åç»­æ–‡æ¡£æ˜¯å¦è·Ÿè¿‡æ»¤å™¨åŒ¹é…çš„ä¿¡æ¯ ï¼ŒElasticsearchå…è®¸æˆ‘ä»¬æ§åˆ¶é«˜äº®ç‰‡æ®µçš„æ•°é‡ä»¥åŠå®ƒä»¬çš„å¤§å°ï¼Œä¸ºæ­¤å…¬å¼€äº†ä¸¤ä¸ªå±æ€§ä¾›ä½¿ç”¨ ï¼› </p>
</li>
</ol>
<h2 id="æ‰©å±•ç´¢å¼•ç»“æ„-amp-æ›´å¥½çš„æœç´¢"><a href="#æ‰©å±•ç´¢å¼•ç»“æ„-amp-æ›´å¥½çš„æœç´¢" class="headerlink" title="æ‰©å±•ç´¢å¼•ç»“æ„&amp;æ›´å¥½çš„æœç´¢"></a>æ‰©å±•ç´¢å¼•ç»“æ„&amp;æ›´å¥½çš„æœç´¢</h2><ol>
<li>ä¸ºç´¢å¼•æ•°ç»„ï¼Œåªéœ€è¦åœ¨æ•°ç»„åç§°ä¸­æŒ‡å®šå­—æ®µçš„å±æ€§ï¼›</li>
<li>å¾—åˆ†æ˜¯æè¿°æ–‡æ¡£ä¸æŸ¥è¯¢ç›¸å…³åº¦çš„ä¸€ä¸ªå‚æ•°ï¼›</li>
<li>Luceneè¿”å›æ–‡æ¡£æ—¶ï¼Œæ„å‘³ç€æ–‡æ¡£ä¸æˆ‘ä»¬å‘é€çš„æŸ¥è¯¢åŒ¹é…ï¼Œå¹¶ä¸”å¯¹è¯¥æ–‡æ¡£å·²ç»™å‡ºä¸€ä¸ªåˆ†æ•°ï¼›</li>
</ol>
<h2 id="è¶…è¶Šå…¨æ–‡æ£€ç´¢"><a href="#è¶…è¶Šå…¨æ–‡æ£€ç´¢" class="headerlink" title="è¶…è¶Šå…¨æ–‡æ£€ç´¢"></a>è¶…è¶Šå…¨æ–‡æ£€ç´¢</h2><ol>
<li>å¯ä»¥ä½¿ç”¨Elasticsearchä½œä¸ºå„ç§ç³»ç»Ÿçš„ä¸€ä¸ªå…³é”®éƒ¨åˆ†ï¼Œå¤„ç†å¤§é‡çš„æ•°æ®ï¼Œæå–ç»“è®ºï¼Œå¹¶å°†è¿™äº›æ•°æ®å¯è§†åŒ–ä¸ºå¯è¯»çš„æ–¹å¼ï¼›</li>
<li>æœ‰ä¸¤ç»„èšåˆï¼šåº¦é‡èšåˆï¼ˆ metric aggregationï¼‰å’Œæ¡¶èšåˆï¼ˆ bucketing aggregationï¼‰<ul>
<li>åº¦é‡èšåˆæ¥æ”¶ä¸€ä¸ªè¾“å…¥æ–‡æ¡£é›†å¹¶ç”Ÿæˆè‡³å°‘ä¸€ä¸ªç»Ÿè®¡å€¼  </li>
<li>æ¡¶èšåˆè¿”å›å¾ˆå¤šå­é›†ï¼Œå¹¶é™å®šè¾“å…¥æ•°æ®åˆ°ä¸€ä¸ªç‰¹æ®Šçš„å«åšæ¡¶çš„å­é›†ä¸­  </li>
</ul>
</li>
<li>æŸ¥è¯¢æ˜¯æœ€ç®€å•çš„åˆ‡é¢ç±»å‹ï¼Œå®ƒå…è®¸åœ¨åˆ‡é¢ç»“æœä¸­å¾—åˆ°ä¸æŸ¥è¯¢åŒ¹é…çš„æ–‡æ¡£æ•°é‡ï¼›</li>
<li>é™¤äº†ä½¿ç”¨æŸ¥è¯¢ä»¥å¤–ï¼Œ Elasticsearchå…è®¸ä½¿ç”¨è¿‡æ»¤å™¨æ¥è®¡ç®—åˆ‡é¢ï¼›</li>
<li>åˆ‡é¢å…è®¸æˆ‘ä»¬æŒ‡å®šä¸€ä¸ªå­—æ®µï¼Œ Elasticsearchä½¿ç”¨è¿™ä¸ªå­—æ®µå¹¶è¿”å›è¯¥å­—æ®µä¸Šæœ€é¢‘ç¹çš„è¯æ¡ï¼›</li>
<li>åŸºäºèŒƒå›´çš„åˆ‡é¢ä½¿æˆ‘ä»¬å¯ä»¥æ ¹æ®å®šä¹‰å¥½çš„ä¸€ç»„èŒƒå›´è·å–æ–‡æ¡£æ•°ï¼Œæ­¤å¤–ï¼Œè¿˜å¯ä»¥è·å–æŒ‡å®šå­—æ®µçš„æ±‡æ€»æ•°æ®ï¼Œæ¯ä¸ªèŒƒå›´<br>è¿”å›ä»¥ä¸‹ç»Ÿè®¡ä¿¡æ¯ï¼š<ul>
<li>fromï¼šå®šä¹‰äº†èŒƒå›´çš„å·¦ç•Œï¼ˆå¦‚æœåœ¨æŸ¥è¯¢ä¸­æŒ‡å®šï¼‰    </li>
<li>toï¼šå®šä¹‰äº†èŒƒå›´çš„å³ç•Œï¼ˆå¦‚æœåœ¨æŸ¥è¯¢ä¸­æŒ‡å®šï¼‰  </li>
<li>minï¼šå®šä¹‰äº†ç»™å®šèŒƒå›´å†…ï¼Œç”¨ä½œåˆ‡é¢çš„å­—æ®µçš„æœ€å°å€¼  </li>
<li>maxï¼šå®šä¹‰äº†ç»™å®šèŒƒå›´å†…ï¼Œç”¨ä½œåˆ‡é¢çš„å­—æ®µçš„æœ€å¤§å€¼  </li>
<li>countï¼šå®šä¹‰äº†è½åœ¨æŒ‡å®šèŒƒå›´å†…çš„å­—æ®µå€¼çš„æ–‡æ¡£æ•°ç›®  </li>
<li>total_countï¼šå®šä¹‰äº†è½åœ¨æŒ‡å®šèŒƒå›´å†…çš„å­—æ®µå€¼çš„æ–‡æ¡£æ€»æ•°  </li>
<li>totalï¼šå®šä¹‰äº†è½åœ¨æŒ‡å®šèŒƒå›´å†…çš„æ‰€æœ‰å­—æ®µå€¼çš„æ€»å’Œ  </li>
<li>meanï¼šå®šä¹‰äº†è½åœ¨æŒ‡å®šèŒƒå›´å†…ç”¨ä½œrangeåˆ‡é¢çš„å­—æ®µå€¼çš„å‡å€¼  </li>
</ul>
</li>
<li>ç›´æ–¹å›¾åˆ‡é¢å…è®¸ä½ æ ¹æ®å­—æ®µå€¼çš„é—´éš”æ¥å»ºç«‹ä¸€ä¸ªå­—æ®µå€¼çš„ç›´æ–¹å›¾ï¼›</li>
<li>statisticalåˆ‡é¢å…è®¸æˆ‘ä»¬ä¸ºæ•°å€¼å‹å­—æ®µè®¡ç®—ç»Ÿè®¡æ•°æ®ï¼Œåœ¨è¿”å›æ•°æ®ä¸­ï¼Œæˆ‘ä»¬å¾—åˆ°è®¡æ•°ã€æ€»å’Œã€å¹³æ–¹å’Œã€å¹³å‡å€¼ã€æœ€å°å€¼ã€æœ€å¤§å€¼ã€æ–¹å·®å’Œæ ‡å‡†åå·®ç­‰ç»Ÿè®¡ä¿¡æ¯ï¼›</li>
<li>æŸ¥è¯¢ä¸­åŒ…å«çš„è¿‡æ»¤å™¨å¹¶ä¸ä¼šç¼©å°åˆ‡é¢ç»“æœçš„èŒƒå›´ï¼Œåˆ‡é¢çš„è®¡ç®—æ—¶åŸºäºä¸ä½ çš„æŸ¥è¯¢åŒ¹é…çš„æ–‡æ¡£ï¼›</li>
<li>Elasticsearchæä¾›äº†ä»¥ä¸‹ä¸‰ç§å»ºè®®å™¨çš„ç±»å‹ï¼š<ul>
<li>termï¼Œè¿™ç§å»ºè®®å™¨æ›´æ­£æ¯ä¸ªä¼ å…¥çš„å•è¯ï¼Œåœ¨éçŸ­è¯­æŸ¥è¯¢ä¸­å¾ˆæœ‰ç”¨ï¼Œæ¯”å¦‚å•è¯æ¡æŸ¥è¯¢</li>
<li>phraseï¼Œè¿™ç§å»ºè®®å™¨å·¥ä½œåœ¨çŸ­è¯­ä¸Šï¼Œè¿”å›ä¸€ä¸ªæ°å½“çš„çŸ­è¯­</li>
<li>completionï¼Œè¿™ç§å»ºè®®å™¨æ—¨åœ¨æä¾›å¿«é€Ÿé«˜æ•ˆçš„è‡ªåŠ¨å®Œæˆç»“æœ  </li>
</ul>
</li>
<li>Elasticsearchä¸­ï¼Œå¤šè¯æ¡è¿‡æ»¤å™¨ä¹çœ‹æ˜¯ä¸ªéå¸¸ç®€å•çš„è¿‡æ»¤å™¨ï¼</li>
</ol>
<h2 id="æ·±å…¥é›†ç¾¤"><a href="#æ·±å…¥é›†ç¾¤" class="headerlink" title="æ·±å…¥é›†ç¾¤"></a>æ·±å…¥é›†ç¾¤</h2><ol>
<li>å¯åŠ¨ä¸€ä¸ªElasticsearchèŠ‚ç‚¹æ—¶ï¼Œè¯¥èŠ‚ç‚¹ä¼šå¼€å§‹å¯»æ‰¾å…·æœ‰ç›¸åŒé›†ç¾¤åå­—å¹¶ä¸”å¯è§çš„ä¸»èŠ‚ç‚¹ã€‚å¦‚æœæ‰¾åˆ°ä¸»èŠ‚ç‚¹ï¼Œè¯¥èŠ‚ç‚¹åŠ å…¥ä¸€ä¸ªå·²ç»ç»„æˆäº†çš„é›†ç¾¤ï¼›  </li>
<li>é»˜è®¤æƒ…å†µä¸‹ï¼Œ Elasticsearchå…è®¸èŠ‚ç‚¹åŒæ—¶æˆä¸ºä¸»èŠ‚ç‚¹å’Œæ•°æ®èŠ‚ç‚¹ï¼›</li>
<li>pingæ˜¯ä¸€ä¸ªèŠ‚ç‚¹é—´å‘é€çš„ä¿¡å·ï¼Œç”¨æ¥æ£€æµ‹å®ƒä»¬æ˜¯å¦è¿˜åœ¨è¿è¡Œä»¥åŠå¯ä»¥å“åº”ã€‚ä¸»èŠ‚ç‚¹ä¼špingé›†ç¾¤ä¸­çš„å…¶ä»–èŠ‚ç‚¹ï¼Œå…¶ä»–èŠ‚ç‚¹ä¹Ÿä¼špingä¸»èŠ‚ç‚¹ï¼›</li>
<li>Elasticsearchå…è®¸é…ç½®ä½•æ—¶å¯åŠ¨æœ€åˆçš„æ¢å¤è¿‡ç¨‹ï¼Œæ¢å¤æ˜¯åˆå§‹åŒ–æ‰€æœ‰åˆ†ç‰‡å’Œå‰¯æœ¬çš„è¿‡ç¨‹ï¼Œä»äº‹åŠ¡æ—¥å¿—ä¸­è¯»å–æ‰€æœ‰æ•°æ®ï¼Œå¹¶åº”ç”¨åˆ°åˆ†ç‰‡ä¸Šï¼› </li>
<li>å­—æ®µæ•°æ®ç¼“å­˜æ˜¯Elasticsearchç¼“å­˜çš„ä¸€éƒ¨åˆ†ï¼Œä¸»è¦ç”¨äºå½“æŸ¥è¯¢å¯¹å­—æ®µæ‰§è¡Œæ’åºæˆ–åˆ‡é¢æ—¶ï¼›</li>
<li>å­—æ®µæ•°æ®æ–­è·¯å™¨ï¼ˆ field data circuit breakerï¼‰å…è®¸ä¼°è®¡ä¸€ä¸ªå­—æ®µåŠ è½½åˆ°ç¼“å­˜æ‰€éœ€çš„å†…å­˜ï¼›</li>
<li>ä¸€ä¸ªå¥½çš„è½¯ä»¶å¯ä»¥ç®¡ç†ç¡¬ä»¶æ•…éšœæˆ–äººä¸ºé”™è¯¯ç­‰å¼‚å¸¸æƒ…å†µï¼›      </li>
<li>å¿«ç…§ä¿å­˜å®ƒåˆ›å»ºçš„æ—¶é—´ç‚¹ä¸Šæ‰€æœ‰è·Ÿé›†ç¾¤ç›¸å…³çš„æ•°æ®ï¼ŒåŒ…æ‹¬é›†ç¾¤çŠ¶æ€å’Œç´¢å¼•çš„ä¿¡æ¯ï¼Œè‡³å°‘åœ¨åˆ›å»ºç¬¬ä¸€ä¸ªå¿«ç…§ä¹‹å‰ï¼Œå¿…é¡»åˆ›å»ºä¸€ä¸ªå¿«ç…§å­˜å‚¨åº“ï¼›</li>
<li>Elasticsearchæä¾›äº†éå¸¸è¯¦ç»†çš„ä¿¡æ¯ï¼Œä½¿ä½ èƒ½å¤Ÿæ£€æŸ¥å’Œç›‘æ§å•ä¸ªèŠ‚ç‚¹æˆ–ä½œä¸ºä¸€ä¸ªæ•´ä½“çš„é›†ç¾¤ï¼›</li>
<li>ä¸€ä¸ªæœ€åŸºæœ¬çš„APIæ˜¯é›†ç¾¤å¥åº·åº¦APIï¼Œå®ƒå…è®¸ä½¿ç”¨å•ä¸ªHTTPå‘½ä»¤å¾—åˆ°æ•´ä¸ªé›†ç¾¤çš„çŠ¶æ€ä¿¡æ¯ï¼›</li>
<li>Elasticsearchç´¢å¼•æ˜¯ä¿å­˜æ•°æ®çš„åœ°æ–¹ï¼Œå®ƒå¯¹å¤§å¤šæ•°éƒ¨ç½²æ¥è¯´æ˜¯éå¸¸é‡è¦çš„éƒ¨åˆ†ï¼›</li>
<li>Elasticsearchæä¾›äº†ä¸‹åˆ—ä¿¡æ¯ï¼š<ul>
<li>mergesï¼šè¯¥èŠ‚ç‚¹åŒ…å«Luceneæ®µåˆå¹¶çš„ä¿¡æ¯</li>
<li>refreshï¼šè¯¥èŠ‚ç‚¹åŒ…å«åˆ·æ–°æ“ä½œçš„ä¿¡æ¯ </li>
<li>flushï¼šè¯¥èŠ‚ç‚¹åŒ…å«æ¸…ç†ä¿¡æ¯ </li>
<li>warmerï¼šè¯¥èŠ‚ç‚¹åŒ…å«é¢„çƒ­å™¨çš„ä¿¡æ¯ï¼Œä»¥åŠå®ƒä»¬æ‰§è¡Œäº†å¤šä¹…</li>
<li>filter_cacheï¼šè¿™äº›æ˜¯è¿‡æ»¤å™¨ç¼“å­˜ç»Ÿè®¡ä¿¡æ¯</li>
<li>id_cacheï¼šè¿™äº›æ˜¯æ ‡è¯†ç¬¦ç¼“å­˜ç»Ÿè®¡ä¿¡æ¯</li>
<li>fielddataï¼šè¿™äº›æ˜¯å­—æ®µæ•°æ®ç¼“å­˜ç»Ÿè®¡ä¿¡æ¯  </li>
<li>percolateï¼šè¯¥èŠ‚ç‚¹åŒ…å«é¢„åŒ¹é…å™¨ä½¿ç”¨æƒ…å†µçš„ä¿¡æ¯  </li>
<li>completionï¼šè¯¥èŠ‚ç‚¹åŒ…å«è‡ªåŠ¨å®Œæˆå»ºè®®å™¨çš„ä¿¡æ¯ </li>
<li>segmentsï¼šè¯¥èŠ‚ç‚¹åŒ…å«Luceneæ®µçš„ä¿¡æ¯</li>
<li>translogï¼šè¯¥èŠ‚ç‚¹åŒ…å«äº‹åŠ¡æ—¥å¿—è®¡æ•°å’Œå¤§å°çš„ä¿¡æ¯                </li>
</ul>
</li>
<li>èŠ‚ç‚¹ç»Ÿè®¡APIè·Ÿå‰é¢æè¿°çš„èŠ‚ç‚¹ä¿¡æ¯APIç±»ä¼¼ã€‚ä¸»è¦çš„åŒºåˆ«æ˜¯ï¼ŒèŠ‚ç‚¹ä¿¡æ¯APIæä¾›ç¯å¢ƒä¿¡æ¯ï¼Œè€ŒèŠ‚ç‚¹ç»Ÿè®¡APIå‘Šè¯‰æˆ‘ä»¬é›†ç¾¤å·¥ä½œæ—¶å‘ç”Ÿè¿‡ä»€ä¹ˆï¼›</li>
<li>å†å¹³è¡¡æ˜¯åœ¨é›†ç¾¤çš„ä¸åŒèŠ‚ç‚¹ä¹‹é—´ç§»åŠ¨åˆ†ç‰‡çš„è¿‡ç¨‹ï¼›    </li>
<li>Elasticsearchæœ‰ä¸¤ç§ä¸»è¦ç±»å‹çš„æ’ä»¶ã€‚è¿™ä¸¤ç§ç±»å‹å¯ä»¥åŸºäºå…¶å†…å®¹æ¥åˆ†ç±»ï¼š Javaæ’ä»¶å’Œç«™ç‚¹æ’ä»¶ï¼ˆ site pluginsï¼‰ï¼ŒElasticsearchæŠŠç«™ç‚¹æ’ä»¶å½“æˆè¢«å†…ç½®çš„HTTPæœåŠ¡å™¨å¤„ç†çš„æ–‡ä»¶é›†ï¼Œäº/_plugin/plugin_name/URLï¼ˆå¦‚/_plugin/bigdeskï¼‰ä¸‹é¢ï¼›    </li>
<li>Elasticsearchå…è®¸åœ¨elasticsearch.ymlæ–‡ä»¶ä¸­æŒ‡å®šå„ç§å‚æ•°æ¥è°ƒä¼˜ã€‚ä½†åº”è¯¥æŠŠè¿™ä¸ªæ–‡ä»¶å½“åšé»˜è®¤è®¾ç½®ï¼Œå¯ä»¥åœ¨è¿è¡Œæ—¶é€šè¿‡Elasticsearch REST APIä¿®æ”¹ï¼</li>
</ol>
<hr>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>Elasticsearchæ˜¯åŸºäºLuceneçš„æ–°ä¸€ä»£åˆ†å¸ƒå¼ã€RESTfulé£æ ¼çš„å¼€æºæœç´¢å¼•æ“ï¼Œå…·æœ‰å®æ—¶æœç´¢ã€ç¨³å®šã€å¿«é€Ÿã€å®‰è£…ä½¿ç”¨æ–¹ä¾¿ç­‰ä¼˜ç‚¹ã€‚å­¦ä¹ ELKæŠ€æœ¯å¯¹äºè‡ªå·±åœ¨æ•°æ®ä¸Šçš„åˆ†æéå¸¸çš„æœ‰å¸®åŠ©ï¼</p>
]]></content>
      <categories>
        <category>ELK</category>
      </categories>
  </entry>
  <entry>
    <title>HTML&amp;WebGL</title>
    <url>/2020/06/08/HTML-WebGL/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>Web 3DæŠ€æœ¯çš„å‘å±•å†ç»åå·ï¼Œä½†æ˜¯å¥½çš„ä¸œè¥¿ï¼Œè¿˜æ˜¯å¾ˆæœ‰å¿…è¦å»å­¦ä¹ ä¸€ä¸‹ï¼Œä¹Ÿæœ‰åˆ©äºè‡ªå·±å¯¹HTMLçš„ç†è§£ï¼<strong>æ¨èä¹¦ç±ï¼šã€ŠHTML5ä¸WebGLç¼–ç¨‹ã€‹Â· [ç¾] Tony Parisiè‘— æ½˜å¾è¯‘</strong></p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="åŸºç¡€çŸ¥è¯†"><a href="#åŸºç¡€çŸ¥è¯†" class="headerlink" title="åŸºç¡€çŸ¥è¯†"></a>åŸºç¡€çŸ¥è¯†</h2><ol>
<li>å‡ ä¹æ‰€æœ‰çš„è®¡ç®—æœºå’Œç§»åŠ¨è®¾å¤‡éƒ½æ­è½½äº†3Då›¾å½¢å¤„ç†ç¡¬ä»¶ï¼Œæ™®é€šæ™ºèƒ½æ‰‹æœºç”šè‡³æœ‰ç€æ¯”äº”åå¹´å‰çš„ä¸“ä¸šå›¾å½¢å·¥ä½œç«™æ›´ä¸ºä¼˜ç§€çš„å›¾å½¢å¤„ç†èƒ½åŠ›ï¼</li>
<li>3DæŠ€æœ¯ä¸ºäº¤äº’ä½“éªŒå¸¦æ¥äº†æ–°çš„ç»´åº¦ï¼Œå¾—ç›Šäºä¸WebæŠ€æœ¯çš„ç»“åˆï¼Œå…¨ä¸–ç•Œçš„äººä»¬éƒ½å¯ä»¥åˆ‡èº«åœ°æ„Ÿå—3DæŠ€æœ¯ï¼</li>
<li>HTML5çš„å‡ºç°ï¼Œæµè§ˆå™¨å°±æˆä¸ºä¸€ä¸ªèƒ½å¤Ÿè¿è¡Œå¤æ‚åº”ç”¨çš„å¹³å°ï¼Œçªå‡ºä½“ç°äº†å¤šåª’ä½“çš„æŠ€æœ¯æ”¯æŒï¼›<ul>
<li>WebGLï¼Œä½¿å¾—JavaScriptæ”¯æŒç¡¬ä»¶3DåŠ é€Ÿæ¸²æŸ“</li>
<li>CSS3 3Då˜æ¢ã€å¹³ç§»ä»¥åŠå¯ä»¥æ”¯æŒæ›´é«˜çº§é¡µé¢æ•ˆæœçš„ç”¨æˆ·è‡ªå®šä¹‰æ»¤é•œ</li>
<li>Canvaså…ƒç´ å’Œç›¸åº”çš„2Dç»˜å›¾API</li>
</ul>
</li>
<li>HTML5æµè§ˆå™¨æ”¯æŒå¤šçº¿ç¨‹ç¼–ç¨‹ï¼ˆWeb Workersï¼‰ã€å…¨åŒå·¥TCP/IPé€šä¿¡ï¼ˆWebSocketï¼‰ã€æœ¬åœ°æ•°æ®å­˜å‚¨ç­‰æ–°ç‰¹æ€§ï¼›</li>
<li></li>
</ol>
<hr>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1>]]></content>
      <categories>
        <category>HTML</category>
      </categories>
  </entry>
  <entry>
    <title>HTML5 &amp; CSS3 Quick Start</title>
    <url>/2020/05/06/HTML5-CSS3-Quick-Start/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>è¿‡å»çš„ç»éªŒå‘Šè¯‰æˆ‘ä»¬ï¼Œå¯¹äºWebå¼€å‘åˆå­¦è€…æ¥è¯´ï¼Œä»ä¸€å¼€å§‹å°±å­¦ä¹ æœ€æ–°æŠ€æœ¯å’Œæœ€ä½³å®è·µï¼Œæ—¢å¯ä»¥èŠ‚çœæ—¶é—´ï¼Œä¹Ÿæœ‰åˆ©äºåŸ¹å…»è‰¯å¥½çš„ç¼–ç ä¹ æƒ¯ã€‚HTMLç”¨äºå®šä¹‰å†…å®¹çš„å«ä¹‰ï¼Œè€ŒCSSç”¨äºå®šä¹‰å†…å®¹å’Œç½‘é¡µå¦‚ä½•æ˜¾ç¤ºã€‚<strong>æ¨èä¹¦ç±ï¼šã€ŠHTML5ä¸CSS3åŸºç¡€æ•™ç¨‹ï¼ˆç¬¬8ç‰ˆï¼‰ã€‹Â· [ç¾] Elizabeth Castro Bruce Hyslopè‘— æœ›ä»¥æ–‡è¯‘</strong></p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="åŸºç¡€çŸ¥è¯†"><a href="#åŸºç¡€çŸ¥è¯†" class="headerlink" title="åŸºç¡€çŸ¥è¯†"></a>åŸºç¡€çŸ¥è¯†</h2><ol>
<li>ä¸€ä¸ªç½‘é¡µä¸»è¦åŒ…æ‹¬ ï¼š<ul>
<li>æ–‡æœ¬å†…å®¹ï¼ˆ text contentï¼‰ï¼š  åœ¨é¡µé¢ä¸Šè®©è®¿é—®è€…äº†è§£é¡µé¢å†…å®¹çš„çº¯æ–‡å­—  </li>
<li>å¯¹å…¶ä»–æ–‡ä»¶çš„å¼•ç”¨ï¼ˆ references to other filesï¼‰ï¼šæˆ‘ä»¬ä½¿ç”¨è¿™äº›å¼•ç”¨æ¥åŠ è½½å›¾åƒéŸ³é¢‘ã€è§†é¢‘æ–‡ä»¶ï¼Œä»¥åŠæ ·å¼è¡¨ï¼ˆæ§åˆ¶é¡µé¢çš„æ˜¾ç¤ºæ•ˆæœï¼‰å’ŒJavaScriptæ–‡ä»¶ï¼ˆä¸ºé¡µé¢æ·»åŠ è¡Œä¸ºï¼‰  </li>
<li>æ ‡è®°ï¼ˆ markupï¼‰ï¼šå¯¹æ–‡æœ¬å†…å®¹è¿›è¡Œæè¿°å¹¶ç¡®ä¿å¼•ç”¨æ­£ç¡®åœ°å·¥ä½œ  </li>
</ul>
</li>
<li>åœ¨æ¯ä¸ª HTML é¡µé¢çš„å¼€å¤´éƒ½æœ‰ä¸€äº›ä¸»è¦ç”¨äºæµè§ˆå™¨å’Œæœç´¢å¼•æ“çš„ä¿¡æ¯ï¼Œæµè§ˆå™¨ä¸ä¼šå°†è¿™äº›ä¿¡æ¯å‘ˆç°ç»™è®¿é—®è€…ï¼›</li>
<li>æ¯ä¸ªç½‘é¡µéƒ½åŒ…å« DOCTYPEã€ htmlã€ head å’Œbody å…ƒç´ ï¼Œå®ƒä»¬æ˜¯ç½‘é¡µçš„åŸºç¡€ï¼› </li>
<li>åœ¨ HTML5 ä¸­ï¼Œç©ºå…ƒç´ ç»“å°¾å¤„çš„ç©ºæ ¼å’Œæ–œæ æ˜¯å¯é€‰çš„ï¼›åœ¨ HTML5 ä¸­ï¼Œ å±æ€§å€¼ä¸¤è¾¹çš„å¼•å·æ˜¯å¯é€‰çš„ï¼Œ ä½†ä¹ æƒ¯ä¸Šå¤§å®¶è¿˜æ˜¯ä¼šå†™ä¸Šï¼›    </li>
<li>æœ‰ä¸€ç§ç‰¹æ®Šçš„å±æ€§ç§°ä¸ºå¸ƒå°”å±æ€§ï¼ˆ Boolean attributeï¼‰ï¼Œå…¶å€¼æ˜¯å¯é€‰çš„ï¼Œå› ä¸ºåªè¦è¿™ç§å±æ€§å‡ºç°å°±è¡¨ç¤ºå…¶å€¼ä¸ºçœŸï¼Œå¸ƒå°”å±æ€§ä¹Ÿæ˜¯é¢„å…ˆå®šä¹‰å¥½çš„ï¼Œ æ— æ³•è‡ªåˆ›ï¼›</li>
<li>å…ƒç´ å¿…é¡»æ­£ç¡®åœ°åµŒå¥—ï¼›</li>
<li>HTML5 çš„éŸ³é¢‘å’Œè§†é¢‘è¿˜ä¸å®Œç¾ï¼Œä½†è‡³å°‘å¼€å§‹å‘ç€æ— æ’ä»¶çš„ç›®æ ‡å‰è¿›äº†ï¼›</li>
<li>HTMLæ–‡ä»¶åè§„èŒƒï¼š<ul>
<li>æ–‡ä»¶åé‡‡ç”¨å°å†™å­—æ¯  </li>
<li>ä½¿ç”¨æ­£ç¡®çš„æ‰©å±•å</li>
<li>ç”¨çŸ­æ¨ªçº¿åˆ†éš”å•è¯</li>
</ul>
</li>
<li>URLï¼ˆ Uniform Resource Locatorï¼Œç»Ÿä¸€èµ„æºå®šä½ç¬¦ï¼‰æ˜¯åœ°å€çš„åˆ«åï¼›</li>
<li>æ¯ä¸ªæµè§ˆå™¨è‡ªå¸¦çš„æ ·å¼è¡¨è§„å®š HTML çš„é»˜è®¤è¡¨ç°æ ·å¼ã€‚ å¼€å‘äººå‘˜å¯ä»¥ä½¿ç”¨è‡ªå·±å†™çš„ CSS è¦†ç›–è¿™äº›è§„åˆ™ ï¼›</li>
</ol>
<h2 id="å‡†å¤‡å·¥ä½œ"><a href="#å‡†å¤‡å·¥ä½œ" class="headerlink" title="å‡†å¤‡å·¥ä½œ"></a>å‡†å¤‡å·¥ä½œ</h2><ol>
<li>ç½‘é¡µæ–‡ä»¶åº”åœ¨æ–‡ä»¶åä¸­ä½¿ç”¨ .html æˆ– .htm ä½œä¸ºæ‰©å±•åï¼› </li>
<li>å®‰è£…å¹¶é…ç½®Web Stormé›†æˆIDEï¼Œç„¶åé…ç½®å¥½ç¯å¢ƒï¼›</li>
<li>å¼€å‘è€…å·¥å…·æ˜¯å­¦ä¹  HTML å’ŒCSS ä¸å¯å¤šå¾—çš„èµ„æ–™ï¼Œé€šè¿‡å®ƒå¯ä»¥æŸ¥çœ‹æŸä¸ªç‰¹å®šçš„æ•ˆæœæ˜¯å¦‚ä½•å®ç°çš„ï¼Œ å¯ä»¥éšæ„æ”¹åŠ¨ä»£ç è€Œä¸å¿…æ‹…å¿ƒç ´åä»»ä½•ä¸œè¥¿ï¼›</li>
<li>åˆ›å»ºæ¸…æ™°ã€ä¸€è‡´çš„ç»“æ„ä¸ä»…å¯ä»¥ä¸ºé¡µé¢å»ºç«‹è‰¯å¥½çš„è¯­ä¹‰åŒ–åŸºç¡€ï¼Œ ä¹Ÿå¯ä»¥å¤§å¤§é™ä½åœ¨æ–‡æ¡£ä¸­åº”ç”¨å±‚å æ ·å¼è¡¨ï¼ˆ CSSï¼‰çš„éš¾åº¦ï¼›</li>
</ol>
<h2 id="åŸºæœ¬HTMLç»“æ„"><a href="#åŸºæœ¬HTMLç»“æ„" class="headerlink" title="åŸºæœ¬HTMLç»“æ„"></a>åŸºæœ¬HTMLç»“æ„</h2><ol>
<li><p>body å…ƒç´ åŒ…ä½é¡µé¢çš„å†…å®¹ï¼ŒåŒ…æ‹¬æ–‡æœ¬ã€å›¾åƒã€è¡¨å•ã€éŸ³é¢‘ã€è§†é¢‘ä»¥åŠå…¶ä»–äº¤äº’å¼å†…å®¹ï¼›</p>
</li>
<li><p>æ¯ä¸ª HTML é¡µé¢éƒ½å¿…é¡»æœ‰ä¸€ä¸ª title å…ƒç´ ï¼Œæ¯ä¸ª<strong>é¡µé¢çš„æ ‡é¢˜</strong>éƒ½åº”è¯¥æ˜¯ç®€çŸ­çš„ã€ æè¿°æ€§çš„ï¼Œè€Œä¸”æ˜¯å”¯ä¸€çš„ï¼›*<em>è¦è®©æ¯ä¸ªé¡µé¢çš„ title æ˜¯å”¯ä¸€çš„ï¼Œä»è€Œæå‡æœç´¢å¼•æ“ç»“æœæ’åï¼Œ å¹¶è®©è®¿é—®è€…è·å¾—æ›´å¥½çš„ä½“éªŒ; *</em>     </p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>This is a Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>ä¸åŒæœç´¢å¼•æ“ç¡®å®šç½‘é¡µæ’åå’Œå†…å®¹ç´¢å¼•è§„åˆ™çš„ç®—æ³•æ˜¯ä¸ä¸€æ ·çš„ã€‚ä¸è¿‡ï¼Œ titleé€šå¸¸éƒ½æ‰®æ¼”ç€é‡è¦çš„è§’è‰²ï¼›</p>
</li>
<li><p>HTML æä¾›äº†å…­çº§æ ‡é¢˜ç”¨äºåˆ›å»ºé¡µé¢ä¿¡æ¯çš„å±‚çº§å…³ç³»ã€‚ ä½¿ç”¨ h1ã€ h2ã€ h3ã€ h4ã€ h5 æˆ– h6å…ƒç´ å¯¹å„çº§æ ‡é¢˜è¿›è¡Œæ ‡è®°ï¼Œå…¶ä¸­ h1 æ˜¯æœ€é«˜çº§åˆ«çš„æ ‡é¢˜ï¼›å¯¹ä»»ä½•é¡µé¢æ¥è¯´ï¼Œ åˆ†çº§æ ‡é¢˜éƒ½å¯ä»¥è¯´æ˜¯æœ€é‡è¦çš„ HTML å…ƒç´ ï¼›    </p>
</li>
<li><p>å¦‚æœé¡µé¢ä¸­æœ‰ä¸€å—åŒ…å«ä¸€ç»„ä»‹ç»æ€§æˆ–å¯¼èˆªæ€§å†…å®¹çš„åŒºåŸŸï¼Œ åº”è¯¥ç”¨ header å…ƒç´ å¯¹å…¶è¿›è¡Œæ ‡è®°ã€‚ä¸€ä¸ªé¡µé¢å¯ä»¥æœ‰ä»»æ„æ•°é‡çš„ header å…ƒç´ ï¼Œå®ƒä»¬çš„å«ä¹‰å¯ä»¥æ ¹æ®å…¶ä¸Šä¸‹æ–‡è€Œæœ‰æ‰€ä¸åŒï¼Œ*<em>åªåœ¨å¿…è¦æ—¶ä½¿ç”¨ header *</em>ï¼Œä¸èƒ½åœ¨ header é‡ŒåµŒå¥— footer å…ƒç´ æˆ–å¦ä¸€ä¸ª headerï¼Œä¹Ÿä¸èƒ½åœ¨ footer æˆ– addresså…ƒç´ é‡ŒåµŒå¥— headerï¼›</p>
</li>
<li><p>HTML5æœ‰å…ƒç´ æ˜ç¡®è¡¨ç¤ºä¸»å¯¼èˆªé“¾æ¥çš„åŒºåŸŸå³navï¼Œå…¶ä¸­çš„é“¾æ¥å¯ä»¥æŒ‡å‘é¡µé¢ä¸­çš„å†…å®¹ï¼Œä¹Ÿå¯ä»¥æŒ‡å‘å…¶ä»–é¡µé¢æˆ–èµ„æºï¼Œæˆ–è€…ä¸¤è€…å…¼è€Œæœ‰ä¹‹ï¼›</p>
</li>
<li><p>ä¸€ä¸ªé¡µé¢åªæœ‰ä¸€ä¸ªéƒ¨åˆ†ä»£è¡¨å…¶ä¸»è¦å†…å®¹ï¼Œå¯ä»¥å°†è¿™æ ·çš„å†…å®¹åŒ…åœ¨ main å…ƒç´ ä¸­ï¼Œè¯¥å…ƒç´ åœ¨ä¸€ä¸ªé¡µé¢ä»…ä½¿ç”¨ä¸€æ¬¡ã€‚ä¸èƒ½å°† main æ”¾ç½®åœ¨ articleã€ asideã€footerã€ header æˆ– nav å…ƒç´ ä¸­ï¼› </p>
</li>
<li><p>article å…ƒç´ è¡¨ç¤ºæ–‡æ¡£ã€é¡µé¢ã€åº”ç”¨æˆ–ç½‘ç«™ä¸­ä¸€ä¸ªç‹¬ç«‹çš„å®¹å™¨ï¼Œ åŸåˆ™ä¸Šæ˜¯å¯ç‹¬ç«‹åˆ†é…æˆ–å¯å†ç”¨çš„ï¼Œ å°±åƒèšåˆå†…å®¹ä¸­çš„å„éƒ¨åˆ†ï¼›</p>
</li>
<li><p>section å…ƒç´ ä»£è¡¨æ–‡æ¡£æˆ–åº”ç”¨çš„ä¸€ä¸ªä¸€èˆ¬çš„åŒºå—ã€‚ åœ¨è¿™é‡Œï¼Œ sectionæ˜¯å…·æœ‰ç›¸ä¼¼ä¸»é¢˜çš„ä¸€ç»„å†…å®¹ï¼Œé€šå¸¸åŒ…å«ä¸€ä¸ªæ ‡é¢˜ ï¼› </p>
</li>
<li><p>aside çš„åº”ç”¨åŒ…æ‹¬é‡è¦å¼•è¿°ã€ä¾§æ ã€æŒ‡å‘ç›¸å…³æ–‡ç« çš„ä¸€ç»„é“¾æ¥ã€ å¹¿å‘Šã€ nav å…ƒç´ ç»„ç­‰ï¼›HTML5 ä¸å…è®¸å°† aside åµŒå¥—åœ¨ addresså…ƒç´ å†…ï¼›    </p>
</li>
<li><p>footerå…ƒç´ ä»£è¡¨åµŒå¥—å®ƒçš„æœ€è¿‘çš„articleã€asideã€ blockquoteã€bodyã€detailsã€fieldsetã€ figureã€ navã€ section æˆ– td å…ƒç´ çš„é¡µè„šï¼Œåªæœ‰å½“å®ƒæœ€è¿‘çš„ç¥–å…ˆæ˜¯ body æ—¶ï¼Œå®ƒæ‰æ˜¯æ•´ä¸ªé¡µé¢çš„é¡µè„š ï¼›</p>
</li>
<li><p>div ç”¨æ¥åˆ›å»ºä¸€ä¸ªå®Œå…¨æ²¡æœ‰ä»»ä½•è¯­ä¹‰å«ä¹‰çš„å®¹å™¨ï¼›    </p>
</li>
<li><p>WAI-ARIAï¼ˆ Web Accessibility Initiativeâ€™s Accessible Rich Internet Applicationsï¼Œæ— éšœç¢ç½‘é¡µå€¡è®® â€“ æ— éšœç¢çš„å¯Œäº’è”ç½‘åº”ç”¨ï¼Œè®©æ‰€æœ‰çš„è®¿é—®è€…éƒ½èƒ½è·å–ç½‘ç«™çš„å†…å®¹ï¼›</p>
</li>
<li><p>å¯ä»¥ç»™ HTML å…ƒç´ åˆ†é…å”¯ä¸€çš„æ ‡è¯†ç¬¦ï¼ˆ IDï¼‰ï¼Œæˆ–æŒ‡å®šå…¶å±äºæŸä¸ªï¼ˆæˆ–æŸå‡ ä¸ªï¼‰ç±»åˆ«ï¼Œ ä¹Ÿå¯ä»¥åŒæ—¶æŒ‡å®šæ ‡è¯†ç¬¦å’Œç±»åˆ«ï¼Œæ¥ç€ï¼Œå°±å¯ä»¥å¯¹å…·æœ‰ç»™å®š id æˆ– class åç§°çš„å…ƒç´ æ·»åŠ æ ·å¼äº†ï¼Œè¿˜å¯ä»¥ä½¿ç”¨ JavaScript è·å– id å’Œ class å±æ€§ï¼Œä»è€Œå¯¹å…ƒç´ æ·»åŠ ç‰¹å®šçš„è¡Œä¸ºï¼›</p>
<ol>
<li>åœ¨å…ƒç´ çš„å¼€å§‹æ ‡ç­¾ä¸­è¾“å…¥ id=â€nameâ€ï¼Œå…¶ä¸­name æ˜¯å”¯ä¸€æ ‡è¯†è¯¥å…ƒç´ çš„åç§°</li>
<li>åœ¨å…ƒç´ çš„å¼€å§‹æ ‡ç­¾ä¸­è¾“å…¥class=â€nameâ€ï¼Œå…¶ä¸­ name æ˜¯ç±»åˆ«çš„åç§°       </li>
</ol>
<ul>
<li>HTML æ–‡æ¡£ä¸­çš„æ¯ä¸ª id éƒ½å¿…é¡»æ˜¯å”¯ä¸€çš„  </li>
<li>ä¸€ä¸ª class åç§°å¯ä»¥åˆ†é…ç»™é¡µé¢ä¸­ä»»æ„æ•°é‡çš„å…ƒç´ ï¼Œ å¹¶ä¸”ä¸€ä¸ªå…ƒç´ å¯ä»¥æœ‰ä¸€ä¸ªä»¥ä¸Šçš„ class       </li>
</ul>
</li>
<li><p>å¯ä»¥ä½¿ç”¨ title å±æ€§ï¼ˆä¸è¦ä¸ title å…ƒç´ æ··æ·†ï¼‰ä¸ºç½‘ç«™ä¸Šä»»ä½•éƒ¨åˆ†åŠ ä¸Šæç¤ºæ ‡ç­¾ï¼› </p>
</li>
<li><p>å¯ä»¥åœ¨ HTML æ–‡æ¡£ä¸­æ·»åŠ æ³¨é‡Šï¼Œæ ‡æ˜åŒºå—å¼€å§‹å’Œç»“æŸçš„ä½ç½®ï¼Œ æé†’è‡ªå·±æŸæ®µä»£ç çš„æ„å›¾ï¼Œ æˆ–è€…é˜»æ­¢å†…å®¹æ˜¾ç¤ºç­‰ï¼›</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- æ³¨é‡Šæ ¼å¼ --&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>åœ¨å‘å¸ƒç½‘ç«™ä¹‹å‰ï¼Œåº”è¯¥ç”¨æµè§ˆå™¨æŸ¥çœ‹ä¸€ä¸‹åŠ äº†æ³¨é‡Šçš„é¡µé¢ã€‚ è¿™æ ·èƒ½å¸®ä½ é¿å…ç”±äºå¼„é”™æ³¨é‡Šæ ¼å¼å¯¼è‡´ç§äººåŒ–çš„æ³¨é‡Šå†…å®¹ç›´æ¥æš´éœ²ç»™å…¬ä¼—è®¿é—®è€…çš„æƒ…å†µ</strong>ï¼›     </p>
</li>
</ol>
<h2 id="æ–‡æœ¬"><a href="#æ–‡æœ¬" class="headerlink" title="æ–‡æœ¬"></a>æ–‡æœ¬</h2><ol>
<li>HTML ä¼šå¿½ç•¥ä½ åœ¨æ–‡æœ¬ç¼–è¾‘å™¨ä¸­è¾“å…¥çš„å›è½¦ç¬¦å’Œå…¶ä»–é¢å¤–çš„ç©ºæ ¼ï¼Œ<strong>è¦åœ¨ç½‘é¡µä¸­å¼€å§‹ä¸€ä¸ªæ–°çš„æ®µè½ï¼Œ åº”è¯¥ä½¿ç”¨ p å…ƒç´ </strong>ï¼›</li>
<li>small è¡¨ç¤ºç»†åˆ™ä¸€ç±»çš„æ—æ³¨ï¼ˆside commentï¼‰ï¼Œé€šå¸¸åŒ…æ‹¬å…è´£å£°æ˜ã€æ³¨æ„äº‹é¡¹ã€æ³•å¾‹é™åˆ¶ã€ç‰ˆæƒä¿¡æ¯ç­‰ã€‚æœ‰æ—¶æˆ‘ä»¬è¿˜å¯ä»¥ç”¨å®ƒæ¥è¡¨ç¤ºç½²åï¼Œæˆ–è€…æ»¡è¶³è®¸å¯è¦æ±‚ï¼›</li>
<li>bå…ƒç´ è¡¨ç¤ºå‡ºäºå®ç”¨ç›®çš„æé†’è¯»è€…æ³¨æ„çš„ä¸€å—æ–‡å­—ï¼Œä¸ä¼ è¾¾ä»»ä½•é¢å¤–çš„é‡è¦æ€§ï¼›</li>
<li>i å…ƒç´ è¡¨ç¤ºä¸€å—ä¸åŒäºå…¶ä»–æ–‡å­—çš„æ–‡å­—ï¼Œå…·æœ‰ä¸åŒçš„è¯­æ€æˆ–è¯­æ°”ï¼›</li>
<li>é€šè¿‡å¼•å…¥ figure å’Œfigcaption ï¼ŒHTML5å¯ä»¥åˆ›å»ºå›¾ï¼Œfigcaption æ˜¯figure çš„æ ‡é¢˜ï¼Œå¯é€‰ï¼Œå‡ºç°åœ¨ figure å†…å®¹çš„å¼€å¤´æˆ–ç»“å°¾å¤„ï¼›</li>
<li>ä½¿ç”¨ cite å…ƒç´ å¯ä»¥æŒ‡æ˜å¯¹æŸå†…å®¹æºçš„å¼•ç”¨æˆ–å‚è€ƒï¼Œä¾‹å¦‚ï¼Œæˆå‰§ã€è„šæœ¬æˆ–å›¾ä¹¦çš„æ ‡é¢˜ï¼Œæ­Œæ›²ã€ç”µå½±ã€ç…§ç‰‡æˆ–é›•å¡‘çš„åç§°ï¼Œ æ¼”å”±ä¼šæˆ–éŸ³ä¹ä¼šï¼Œ è§„èŒƒã€æŠ¥çº¸æˆ–æ³•å¾‹æ–‡ä»¶ç­‰ï¼›</li>
<li>æœ‰ä¸¤ä¸ªç‰¹æ®Šçš„å…ƒç´ ç”¨ä»¥æ ‡è®°å¼•è¿°çš„æ–‡æœ¬ï¼š<ol>
<li>blockquote å…ƒç´ è¡¨ç¤ºå•ç‹¬å­˜åœ¨çš„å¼•è¿°</li>
<li>æµè§ˆå™¨åº”å¯¹ q å…ƒç´ ä¸­çš„æ–‡æœ¬è‡ªåŠ¨åŠ ä¸Šç‰¹å®šè¯­è¨€çš„å¼•å·</li>
</ol>
</li>
<li>ä½¿ç”¨ time å…ƒç´ æ ‡è®°æ—¶é—´ã€æ—¥æœŸæˆ–æ—¶é—´æ®µï¼›</li>
<li>ä½¿ç”¨ abbr å…ƒç´ æ ‡è®°ç¼©å†™è¯å¹¶è§£é‡Šå…¶å«ä¹‰ï¼›</li>
<li>åœ¨ HTML ä¸­å®šä¹‰æœ¯è¯­æ—¶ï¼Œ å¯ä»¥ä½¿ç”¨ dfnå…ƒç´ å¯¹å…¶ä½œè¯­ä¹‰ä¸Šçš„åŒºåˆ†ï¼Œä»…ç”¨ dfn åŒ…å›´è¦å®šä¹‰çš„æœ¯è¯­ï¼Œè€Œä¸æ˜¯åŒ…å›´å®šä¹‰ï¼›</li>
<li>æ¯”ä¸»ä½“æ–‡æœ¬ç¨é«˜æˆ–ç¨ä½çš„å­—æ¯æˆ–æ•°å­—åˆ†åˆ«ç§°ä¸ºä¸Šæ ‡å’Œä¸‹æ ‡ï¼Œä½¿ç”¨subå…ƒç´ åˆ›å»ºä¸‹æ ‡ï¼Œsupå…ƒç´ åˆ›å»ºä¸Šæ ‡ï¼›</li>
<li>address å…ƒ ç´  æ˜¯ ç”¨ ä»¥ å®š ä¹‰ ä¸HTML é¡µé¢æˆ–é¡µé¢ä¸€éƒ¨åˆ†æœ‰å…³çš„ä½œè€…ã€ç›¸å…³äººå£«æˆ–ç»„ç»‡çš„è”ç³»ä¿¡æ¯ï¼Œ é€šå¸¸ä½äºé¡µé¢åº•éƒ¨æˆ–ç›¸å…³éƒ¨åˆ†å†…ï¼›</li>
<li>ä»£è¡¨æ·»åŠ å†…å®¹çš„ ins å…ƒç´ å’Œæ ‡è®°å·²åˆ é™¤å†…å®¹çš„ del å…ƒç´ ï¼Œè¿™ä¸¤ä¸ªå…ƒç´ æ—¢å¯ä»¥å•ç‹¬ä½¿ç”¨ï¼Œä¹Ÿå¯ä»¥ä¸€èµ·ä½¿ç”¨ï¼›</li>
<li>æ ‡è®°ä¸å†å‡†ç¡®æˆ–ä¸å†ç›¸å…³çš„æ–‡æœ¬ä½¿ç”¨så…ƒç´ ï¼›</li>
<li>ä½¿ç”¨ code å…ƒç´ è¡¨ç¤ºå…¶ä¸­çš„æ–‡æœ¬æ˜¯ä»£ç æˆ–æ–‡ä»¶åï¼Œå¦‚æœå†…å®¹éœ€è¦æ˜¾ç¤º &lt; æˆ– &gt; ï¼Œ åº”åˆ†åˆ«ä½¿ç”¨ &amp;lt; å’Œ &amp;gtï¼›</li>
<li>é¢„æ ¼å¼åŒ–çš„æ–‡æœ¬å¯ä»¥ä¿æŒæ–‡æœ¬å›ºæœ‰çš„æ¢è¡Œå’Œç©ºæ ¼,ä½¿ç”¨preå…ƒç´ æ¥å®šä¹‰ï¼›</li>
<li>ä½¿ç”¨ mark å…ƒç´ ç”¨äºæèµ·è¯»è€…å¯¹ç‰¹å®šæ–‡æœ¬ç‰‡æ®µçš„æ³¨æ„ï¼›</li>
<li>æ‰‹åŠ¨åœ°å¼ºåˆ¶æ–‡å­—è¿›è¡Œæ¢è¡Œå¯ä»¥ä½¿ç”¨ br å…ƒç´ ï¼›</li>
<li>spanå…ƒç´ é€‚åˆåŒ…å›´å­—è¯æˆ–çŸ­è¯­å†…å®¹ï¼›</li>
<li>u å…ƒç´ ç”¨æ¥ä¸ºæ–‡æœ¬æ·»åŠ ä¸‹åˆ’çº¿ï¼›</li>
<li>wbr å…ƒç´ å¯ä»¥åœ¨ä¸€ä¸ªè¾ƒé•¿çš„æ— é—´æ–­çŸ­è¯­ä¸­ä½¿ç”¨ï¼Œè¡¨ç¤ºæ­¤å¤„å¯ä»¥åœ¨å¿…è¦çš„æ—¶å€™è¿›è¡Œæ¢è¡Œï¼Œä»è€Œè®©æ–‡æœ¬åœ¨æœ‰é™çš„ç©ºé—´å†…æ›´å…·å¯è¯»æ€§ï¼›</li>
<li>ruby å…ƒç´ ä»¥åŠå®ƒä»¬çš„å­å…ƒç´  rt å’Œ rp æ˜¯HTML5 ä¸­ä¸ºå†…å®¹æ·»åŠ æ—æ³¨æ ‡è®°çš„æœºåˆ¶ï¼›</li>
<li>ä½¿ç”¨ bdo ï¼Œå¿…é¡»åŒ…å« dir å±æ€§å¹¶å°†å±æ€§å€¼è®¾ä¸º ltr ï¼ˆç”±å·¦è‡³å³ï¼‰æˆ– rtl ï¼ˆç”±å³è‡³å·¦ï¼‰ï¼ŒæŒ‡å®šä½ å¸Œæœ›å‘ˆç°çš„æ–¹å‘ï¼›</li>
<li>bdi å…ƒç´ æ˜¯ HTML5 ä¸­æ–°åŠ çš„å…ƒç´ ï¼Œ ç”¨äºå†…å®¹çš„æ–¹å‘æœªçŸ¥çš„æƒ…å†µã€‚ä¸å¿…åŒ…å« dir å±æ€§ï¼Œé»˜è®¤å·²è®¾ä¸ºè‡ªåŠ¨åˆ¤æ–­ï¼›</li>
<li>meter å…ƒç´ è¡¨ç¤ºåˆ†æ•°çš„å€¼æˆ–å·²çŸ¥èŒƒå›´çš„æµ‹é‡ç»“æœï¼›</li>
<li>progress å…ƒç´ æŒ‡ç¤ºæŸé¡¹ä»»åŠ¡çš„å®Œæˆè¿›åº¦ï¼›</li>
</ol>
<h2 id="å›¾åƒ"><a href="#å›¾åƒ" class="headerlink" title="å›¾åƒ"></a>å›¾åƒ</h2><ol>
<li>Web ä¸Šç”¨çš„æœ€å¹¿æ³›çš„ä¸‰ç§æ ¼å¼æ˜¯ GIFã€PNG å’Œ JPEGï¼›</li>
<li>è°·æ­Œå»ºç«‹äº†ä¸€ç§å›¾åƒæ ¼å¼ï¼Œ åä¸º WebPï¼Œæ—¢æ”¯æŒæœ‰æŸå‹ç¼©ä¹Ÿæ”¯æŒæ— æŸå‹ç¼©ï¼›</li>
<li>å¯ä»¥åˆ©ç”¨é€æ˜åº¦ä¸ºå›¾åƒåˆ›å»ºéçŸ©å½¢çš„è¾¹ç¼˜ï¼Œ åœ¨å›¾åƒçš„ä¸‹é¢è®¾ç½®èƒŒæ™¯è‰²æˆ–å›¾æ¡ˆï¼ŒPNGå’Œ GIF éƒ½æ”¯æŒé€æ˜åº¦ï¼ŒJPEG åˆ™ä¸æ”¯æŒï¼›</li>
<li>&lt;img src=â€image.url â€œ&gt;å¯ä»¥è¿›è¡Œå›¾ç‰‡çš„å±•ç¤ºï¼›</li>
<li>ä½¿ç”¨ alt å±æ€§ï¼Œ å¯ä»¥ä¸ºå›¾åƒæ·»åŠ ä¸€æ®µæè¿°æ€§æ–‡æœ¬ï¼Œ å½“å›¾åƒå‡ºäºæŸç§åŸå› ä¸æ˜¾ç¤ºçš„æ—¶å€™ï¼Œ å°±å°†è¿™æ®µæ–‡å­—æ˜¾ç¤ºå‡ºæ¥ï¼›</li>
<li>åœ¨ img æ ‡ç­¾ä¸­ï¼Œ src å±æ€§çš„åé¢ï¼Œ è¾“ å…¥ width=â€x â€œ height=â€y â€œ æŒ‡å®šå›¾åƒçš„å°ºå¯¸ï¼›</li>
</ol>
<h2 id="é“¾æ¥"><a href="#é“¾æ¥" class="headerlink" title="é“¾æ¥"></a>é“¾æ¥</h2><ol>
<li><p>é“¾æ¥æœ‰ä¸¤ä¸ªä¸»è¦çš„éƒ¨åˆ†ï¼šç›®æ ‡å’Œæ ‡ç­¾ï¼Œç›®æ ‡ï¼ˆdestinationï¼‰å¯ä»¥æŒ‡å®šè®¿é—®è€…ç‚¹å‡»é“¾æ¥æ—¶ä¼šå‘ç”Ÿä»€ä¹ˆï¼›æ ‡ç­¾ï¼ˆlabelï¼‰æ˜¯è®¿é—®è€…åœ¨æµè§ˆå™¨ä¸­çœ‹åˆ°æˆ–åœ¨å±å¹•é˜…è¯»å™¨ä¸­å¬åˆ°çš„éƒ¨åˆ†ï¼š</p>
<ul>
<li>å¯ä»¥åˆ›å»ºé“¾æ¥è¿›å…¥å¦ä¸€ä¸ªé¡µé¢ï¼Œåœ¨é¡µé¢å†…è·³è½¬ï¼Œæ˜¾ç¤ºå›¾åƒï¼Œä¸‹è½½æ–‡ä»¶ï¼Œå‘¼å«ç”µè¯ï¼Œç­‰ç­‰</li>
<li>åˆ›å»ºè¿æ¥åˆ°å…¶ä»–ç½‘é¡µç‰¹å®šä½ç½®ï¼ˆç§°ä¸ºé”šï¼Œanchorï¼‰çš„é“¾æ¥ä¹Ÿæ˜¯å¯ä»¥çš„</li>
<li>é€šè¿‡ CSS å¯ä»¥å¾ˆæ–¹ä¾¿åœ°ä¿®æ”¹é“¾æ¥çš„æ ·å¼</li>
<li>hrefæŒ‡çš„æ˜¯hypertext referenceï¼ˆè¶…æ–‡æœ¬å¼•ç”¨ï¼‰</li>
</ul>
</li>
<li><p>aå…ƒç´ æ˜¯åˆ›å»ºé“¾æ¥çš„å…³é”®ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"hello.html"</span>&gt;</span>Test Link<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--      é“¾æ¥ç›®æ ‡       é“¾æ¥æ ‡ç­¾     --&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>æ ‡ç­¾å¯ä»¥æ˜¯å›¾åƒæˆ–è€…æ–‡æœ¬å’Œå›¾åƒçš„ç»„åˆï¼Œå‡ ä¹å…è®¸åœ¨é“¾æ¥å†…åŒ…å«ä»»ä½•ç±»å‹çš„å…ƒç´ æˆ–å…ƒç´ ç»„ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span> <span class="attr">class</span>=<span class="string">"thumbnail"</span>&gt;</span></span><br><span class="line">    Test<span class="tag">&lt;<span class="name">img</span> <span class="attr">alt</span>=<span class="string">"Kittens!"</span> <span class="attr">style</span>=<span class="string">""</span> <span class="attr">src</span>=<span class="string">"http://placekitten.com/300/250"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>å¯ä»¥å¯¹å¸¦æœ‰ rel=â€externalâ€ çš„é“¾æ¥æ·»åŠ ä¸åŒçš„æ ·å¼ï¼Œ ä»è€Œå‘ŠçŸ¥è®¿é—®è€…è¿™æ˜¯ä¸€ä¸ªæŒ‡å‘å¤–éƒ¨ç½‘ç«™çš„é“¾æ¥ï¼›</p>
</li>
<li><p>ä½¿ç”¨ target å±æ€§å¯ä»¥å°†é“¾æ¥è®¾ç½®ä¸ºåœ¨æ–°çš„çª—å£æˆ–æ ‡ç­¾é¡µï¼ˆå–å†³äºæ‰€ç”¨çš„æµè§ˆå™¨ï¼‰ä¸­æ‰“å¼€ï¼Œä¸æ¨èä½¿ç”¨ï¼Œåº”è¯¥è®©ç”¨æˆ·å†³å®šæ˜¯å¦åœ¨ä¸åŒçš„çª—å£æˆ–æ ‡ç­¾é¡µæ‰“å¼€é“¾æ¥ï¼›</p>
</li>
<li><p>å¦‚æœè¦æƒ³ç”¨æˆ·è·³è‡³ç½‘é¡µçš„ç‰¹å®šåŒºåŸŸï¼Œå¯ä»¥åˆ›å»ºä¸€ä¸ªé”šï¼Œå¹¶åœ¨é“¾æ¥ä¸­å¼•ç”¨è¯¥é”šï¼š</p>
<ol>
<li><p>åœ¨æƒ³è¦è·³è½¬åˆ°çš„åœ°æ–¹æ·»åŠ idå±æ€§ï¼Œæ¯”å¦‚ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h2</span> <span class="attr">id</span>=<span class="string">"features"</span>&gt;</span>äºŒçº§æ ‡é¢˜<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>åœ¨hrefä¸­ä½¿ç”¨è¯¥idï¼Œæ–¹æ³•å¦‚ä¸‹ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#features"</span>&gt;</span>è·³è½¬åˆ°äºŒçº§æ ‡é¢˜<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>ä¸ºæ¯ä¸€ä¸ªé”š id èµ‹ä¸€ä¸ªæœ‰æ„ä¹‰çš„åç§° å¯ä»¥å¢å¼º HTML æ–‡æ¡£çš„è¯­ä¹‰ä¸°å¯Œåº¦</p>
</li>
<li><p>å¦‚æœé”šä½äºå¦ä¸€ä¸ªæ–‡æ¡£ï¼Œ å°±ä½¿ç”¨ &lt;a href =â€ page.html#anchor-name â€œ&gt; å¼•ç”¨è¯¥æç¤ºåŒºåŸŸ</p>
</li>
</ol>
</li>
</ol>
<h2 id="CSSï¼ˆå±‚å æ ·å¼è¡¨ï¼‰"><a href="#CSSï¼ˆå±‚å æ ·å¼è¡¨ï¼‰" class="headerlink" title="CSSï¼ˆå±‚å æ ·å¼è¡¨ï¼‰"></a>CSSï¼ˆå±‚å æ ·å¼è¡¨ï¼‰</h2><ol>
<li><p>æ ·å¼è¡¨æ˜¯ä¸€ç§æ–‡æœ¬æ–‡ä»¶ï¼Œ å…¶ä¸­åŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªï¼ˆé€šè¿‡å±æ€§å’Œå€¼ï¼‰å†³å®šç½‘é¡µæŸç‰¹å®šå…ƒç´ å¦‚ä½•æ˜¾ç¤ºçš„è§„åˆ™ï¼›</p>
</li>
<li><p>æ ·å¼è¡¨ä¸­åŒ…å«äº†å®šä¹‰ç½‘é¡µå¤–è§‚çš„è§„åˆ™ï¼Œæ ·å¼è¡¨ä¸­çš„æ¯æ¡è§„åˆ™éƒ½æœ‰ä¸¤ä¸ªä¸»è¦éƒ¨åˆ†ï¼š é€‰æ‹©å™¨ï¼ˆselectorï¼‰ å’Œå£°æ˜å—ï¼ˆdeclaration blockï¼‰ï¼Œé€‰æ‹©å™¨å†³å®šå“ªäº›å…ƒç´ å—åˆ°å½±å“ï¼›å£°æ˜å—ç”±ä¸€ä¸ªæˆ–å¤šä¸ªå±æ€§ - å€¼å¯¹ï¼›</p>
</li>
<li><p>å£°æ˜å—å†…çš„æ¯æ¡å£°æ˜éƒ½æ˜¯ä¸€ä¸ªç”±å†’å·éš”å¼€ã€ä»¥åˆ†å·ç»“å°¾çš„å±æ€§ - å€¼å¯¹ï¼Œå£°æ˜å—ä»¥å‰èŠ±æ‹¬å·å¼€å§‹ï¼Œ ä»¥åèŠ±æ‹¬å·ç»“æŸï¼›</p>
</li>
<li><p><strong>åœ¨æ ·å¼è§„åˆ™ä¸­å¯ä»¥æ·»åŠ é¢å¤–çš„ç©ºæ ¼ã€åˆ¶è¡¨ç¬¦æˆ–å›è½¦ï¼Œä»è€Œæé«˜æ ·å¼è¡¨çš„å¯è¯»æ€§ï¼</strong></p>
</li>
<li><p>æ ·å¼è¡¨æ”¯æŒæ³¨é‡Šï¼Œä½¿ç”¨/*æ³¨é‡Šå†…å®¹*/è¿›è¡Œæ³¨é‡Šï¼›</p>
</li>
<li><p>ç»§æ‰¿ï¼ˆinheritanceï¼‰å¯ä»¥ç®€åŒ–æ ·å¼è¡¨ï¼›</p>
</li>
<li><p>ç¼–å†™ CSS ä¸å¿…æ­»è®°ç¡¬èƒŒå…¬å¼åŒ–çš„å†…å®¹ï¼Œä¹Ÿæ²¡æœ‰æ„ä¹‰ï¼›</p>
</li>
<li><p>æ¯ä¸ª CSS å±æ€§å¯¹äºå®ƒå¯ä»¥æ¥å—å“ªäº›å€¼éƒ½æœ‰ä¸åŒçš„è§„å®šï¼š</p>
<ul>
<li>æœ‰çš„å±æ€§åªèƒ½æ¥å—é¢„å®šä¹‰çš„å€¼</li>
<li>æœ‰çš„å±æ€§æ¥å—æ•°å­—ã€æ•´æ•°ã€ç›¸å¯¹å€¼ã€ç™¾åˆ†æ•°ã€URL æˆ–è€…é¢œè‰²</li>
<li>æœ‰çš„å±æ€§å¯ä»¥æ¥å—å¤šç§ç±»å‹çš„å€¼</li>
</ul>
</li>
<li><p>CSSå¯ä»¥ä½¿ç”¨RGBAå’ŒHSLAæ¥å®šä¹‰é¢œè‰²ï¼Œæœ‰16ç§åŸºæœ¬é¢œè‰²ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨åå­—ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/ba7bf0b03a806059eab53cfa00890751-313946" alt="16ç§åŸºæœ¬é¢œè‰²"></p>
<ul>
<li>ä½¿ç”¨rgbæŒ‡å®šï¼Œæ¯”å¦‚rgb(89,0,127)</li>
<li>ä½¿ç”¨16è¿›åˆ¶ï¼Œæ¯”å¦‚color:#59007f</li>
<li>ä½¿ç”¨rgbaæŒ‡å®šï¼Œæ¯”å¦‚rgba(89,0,127,1)</li>
<li>ä½¿ç”¨hslæŒ‡å®šï¼Œæ¯”å¦‚hsl(95,100%,28%)</li>
<li>ä½¿ç”¨hslaæŒ‡å®šï¼Œæ¯”å¦‚hsla(95,100%,28%,0.4)</li>
</ul>
</li>
<li><p>å¤–éƒ¨æ ·å¼è¡¨ä¸€æ—¦æµ è§ˆå™¨åœ¨æŸä¸ªé¡µé¢åŠ è½½äº†å®ƒï¼Œ åœ¨éšåæµè§ˆå¼•ç”¨ å®ƒçš„é¡µé¢æ—¶ï¼Œ é€šå¸¸æ— éœ€å†å‘ Web æœåŠ¡å™¨è¯·æ±‚è¯¥æ–‡ä»¶ï¼›</p>
</li>
<li><p>å¯ä»¥ä½¿ç”¨styleå…ƒç´ åˆ›å»ºåµŒå…¥å¼çš„æ ·å¼è¡¨ï¼ŒåµŒå…¥æ ·å¼è¡¨æ˜¯ä¸ºé¡µé¢æ·»åŠ  CSS çš„æ¬¡é€‰æ–¹å¼ï¼›</p>
</li>
<li><p>åŒ HTML ä¸€æ ·ï¼Œ å¯ä»¥ä»å…¶ä»–è®¾è®¡äººå‘˜çš„ä»£ç ä¸­å€Ÿé‰´çµæ„Ÿï¼Œ ç„¶åç¼–å†™è‡ªå·±çš„æ ·å¼è¡¨ï¼Œå¯ä»¥ä½¿ç”¨æµè§ˆå™¨çš„æ£€æŸ¥å™¨æŸ¥çœ‹é¡µé¢çš„æ ·å¼è¡¨ï¼</p>
</li>
</ol>
<h2 id="å®šä¹‰é€‰æ‹©å™¨"><a href="#å®šä¹‰é€‰æ‹©å™¨" class="headerlink" title="å®šä¹‰é€‰æ‹©å™¨"></a>å®šä¹‰é€‰æ‹©å™¨</h2><ol>
<li><p>æœ€ç®€å•çš„é€‰æ‹©å™¨å¯ä»¥å¯¹ç»™å®šç±»å‹çš„æ‰€æœ‰å…ƒç´ è¿›è¡Œæ ·å¼åŒ–ï¼Œ æœ‰çš„é€‰æ‹©å™¨å…è®¸æˆ‘ä»¬æ ¹æ®å…ƒç´ çš„ç±»ã€ä¸Šä¸‹æ–‡ã€çŠ¶æ€ç­‰æ¥åº”ç”¨æ ¼å¼åŒ–è§„åˆ™ï¼›</p>
</li>
<li><p>é€‰æ‹©å™¨å¯ä»¥å®šä¹‰äº”ä¸ªä¸åŒçš„æ ‡å‡†æ¥é€‰æ‹©è¦è¿›è¡Œæ ¼å¼åŒ–çš„å…ƒç´ ï¼Œä¸ºäº†æŒ‡å‡ºç›®æ ‡å…ƒç´ ï¼Œ é€‰æ‹©å™¨å¯ä»¥ä½¿ç”¨è¿™äº”ä¸ªæ ‡å‡†çš„ä»»æ„ç»„åˆï¼š</p>
<ul>
<li>å…ƒç´ çš„ç±»å‹æˆ–åç§°ï¼Œæ¯”å¦‚h1</li>
<li>å…ƒç´ æ‰€åœ¨çš„ä¸Šä¸‹æ–‡ï¼Œæ¯”å¦‚h1 em</li>
<li>å…ƒç´ çš„ç±»æˆ– IDï¼Œæ¯”å¦‚.errorï¼Œ#gaudi</li>
<li>å…ƒç´ çš„ä¼ªç±»æˆ–ä¼ªå…ƒç´ ï¼Œæ¯”å¦‚a:link</li>
<li>å…ƒç´ æ˜¯å¦æœ‰æŸäº›å±æ€§å’Œå€¼ï¼Œæ¯”å¦‚a[title]</li>
</ul>
</li>
<li><p><strong>å°½é‡ä¸è¦ä½¿ç”¨IDé€‰æ‹©å™¨ï¼</strong></p>
</li>
<li><p>CSS æœ‰å­ç»“åˆç¬¦ï¼Œ ä»è€Œå¯ä»¥ä¸ºçˆ¶å…ƒç´ çš„ç›´æ¥åä»£ ï¼ˆå³å­å…ƒç´ ï¼‰å®šä¹‰æ ·å¼è§„åˆ™ï¼Œä½¿ç”¨&gt;ï¼š</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.architect</span> &gt; <span class="selector-tag">p</span> &#123;</span><br><span class="line">			<span class="attribute">color</span>: red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>å±æ€§é€‰æ‹©å‚è€ƒï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/a3a51e003182cac614948e1f0bc4ce53-220496" alt="å±æ€§é€‰æ‹©å™¨"></p>
</li>
</ol>
<h2 id="åˆ—è¡¨"><a href="#åˆ—è¡¨" class="headerlink" title="åˆ—è¡¨"></a>åˆ—è¡¨</h2><ol>
<li>HTML åŒ…å«ä¸“é—¨ç”¨äºåˆ›å»ºé¡¹ç›®åˆ—è¡¨çš„å…ƒç´ ï¼Œå¯ä»¥åˆ›å»ºæ™®é€šåˆ—è¡¨ã€ç¼–å·åˆ—è¡¨ã€ç¬¦å·åˆ—è¡¨ä»¥åŠæè¿°åˆ—è¡¨ï¼Œ å¯ä»¥åœ¨ä¸€ä¸ªåˆ—è¡¨ä¸­åµŒå¥—å¦å¤–ä¸€ä¸ªæˆ–å¤šä¸ªåˆ—è¡¨ï¼›</li>
<li>æ‰€æœ‰çš„åˆ—è¡¨éƒ½æ˜¯ç”±çˆ¶å…ƒç´ å’Œå­å…ƒç´ æ„æˆçš„ï¼Œçˆ¶å…ƒç´ ç”¨äºæŒ‡å®šè¦åˆ›å»ºçš„åˆ—è¡¨çš„ç±»å‹ï¼Œå­å…ƒç´ ç”¨äºæŒ‡å®šè¦åˆ›å»ºçš„åˆ—è¡¨é¡¹ç›®ç±»å‹ï¼š<ul>
<li>æœ‰åºåˆ—è¡¨ï¼Œ ol ä¸ºçˆ¶å…ƒç´ ï¼Œ li ä¸ºåˆ—è¡¨é¡¹</li>
<li>æ— åºåˆ—è¡¨ï¼Œ ul ä¸ºçˆ¶å…ƒç´ ï¼Œ li ä¸ºåˆ—è¡¨é¡¹</li>
<li>æè¿°åˆ—è¡¨ï¼ˆå®šä¹‰åˆ—è¡¨ï¼‰ï¼Œ dl ä¸ºçˆ¶å…ƒç´ ï¼Œ dt å’Œ dd åˆ† åˆ«ä»£è¡¨ dl ä¸­çš„æœ¯è¯­å’Œæè¿°</li>
</ul>
</li>
<li>å¯¹äºæœ‰åºåˆ—è¡¨ï¼Œå¯ä»¥åŒ…å« start ã€type å’Œ reversed è¿™ä¸‰ä¸ªå¯é€‰çš„å±æ€§ï¼›</li>
<li>é€‰æ‹©æ ‡è®°ï¼šè¾“ å…¥ list-style-type: marker ï¼Œè¿™é‡Œçš„ marker æ˜¯ä»¥ä¸‹å±æ€§å€¼ä¸­çš„ä¸€ç§<ul>
<li>discâ€”â€”åœ†ç‚¹</li>
<li>circleâ€”â€”åœ†åœˆ</li>
<li>squareâ€”â€”æ–¹å—</li>
<li>decimalâ€”â€”æ•°å­—</li>
<li>upper-alphaâ€”â€”å¤§å†™å­—æ¯</li>
<li>lower-alphaâ€”â€”å°å†™å­—æ¯</li>
<li>upper-romanâ€”â€”å¤§å†™ç½—é©¬æ•°å­—</li>
<li>lower-romanâ€”â€”å°å†™ç½—é©¬æ•°å­—</li>
<li>noneâ€”â€”æ— æ ‡è®°</li>
</ul>
</li>
<li>è®¾ç½®æ•´ä¸ªåˆ—è¡¨ç¼–å·æ–¹æ¡ˆçš„åˆå§‹å€¼ï¼Œåœ¨ ol å¼€å§‹æ ‡ç­¾ä¸­è¾“å…¥ start=â€n â€œ ï¼Œ è¿™é‡Œçš„ n è¡¨ç¤ºåˆ—è¡¨çš„åˆå§‹å€¼ï¼›</li>
<li>ä¿®æ”¹æœ‰åºåˆ—è¡¨ä¸­æŸåˆ—è¡¨é¡¹ç›®çš„ç¼–å·ï¼Œåœ¨ç›®æ ‡ li é¡¹ç›®å†…è¾“å…¥ value=â€n â€œ ï¼Œ è¿™é‡Œçš„ n ä»£è¡¨è¯¥åˆ—è¡¨é¡¹ç›®çš„å€¼ï¼›</li>
</ol>
<h2 id="è¡¨å•"><a href="#è¡¨å•" class="headerlink" title="è¡¨å•"></a>è¡¨å•</h2><ol>
<li><p>è¡¨å•æœ‰ä¸¤ä¸ªåŸºæœ¬ç»„æˆéƒ¨åˆ†ï¼š</p>
<ul>
<li>è®¿é—®è€…åœ¨é¡µé¢ä¸Šå¯ä»¥çœ‹è§å¹¶å¡«å†™çš„æ§ä»¶ã€æ ‡ç­¾å’ŒæŒ‰é’®çš„é›†åˆ</li>
<li>ç”¨äºè·å–ä¿¡æ¯å¹¶å°†å…¶è½¬åŒ–ä¸ºå¯ä»¥è¯»å–æˆ–è®¡ç®—çš„æ ¼å¼çš„å¤„ç†è„šæœ¬</li>
</ul>
</li>
<li><p>åŸºæœ¬çš„è¡¨å•å­—æ®µç±»å‹åŒ…æ‹¬æ–‡æœ¬æ¡†ã€å•é€‰æŒ‰é’®ã€å¤é€‰æ¡†ã€ä¸‹ æ‹‰èœå•ã€æ›´å¤§çš„æ–‡æœ¬åŒºåŸŸï¼›</p>
</li>
<li><p>HTML5 é€šè¿‡å¼•å…¥æ–°çš„è¡¨å•å…ƒç´ ã€è¾“å…¥ ç±»å‹å’Œå±æ€§ï¼Œ ä»¥åŠå†…ç½®çš„å¯¹å¿…å¡«å­—æ®µã€ç”µå­ é‚®ä»¶åœ°å€ã€URL ä»¥åŠå®šåˆ¶æ¨¡å¼çš„éªŒè¯ï¼Œ è®©è¿™ ä¸€åˆ‡å˜å¾—å¾ˆè½»æ¾ï¼</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/da8a0f86cfdd34aba7a6745c7d0aa660-498005" alt="è¡¨å•è¾“å…¥å’Œå…ƒç´ "></p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/4b5d14c7f484bcb3005b14c4d35deb8c-375608" alt="è¡¨å•ç›¸å…³å±æ€§"></p>
<ul>
<li>form å¼€å§‹æ ‡ç­¾å¯ä»¥æœ‰ä¸€äº›å±æ€§ï¼Œå…¶ä¸­æœ€é‡è¦çš„å°±æ˜¯ action å’Œ method</li>
<li>å°† action å±æ€§çš„å€¼è®¾ä¸ºè®¿é—®è€…æäº¤è¡¨å•æ—¶æœåŠ¡å™¨ä¸Šå¯¹æ•°æ®è¿›è¡Œå¤„ç†çš„è„šæœ¬çš„ URL</li>
<li>method å±æ€§çš„å€¼è¦ä¹ˆæ˜¯get ï¼Œ è¦ä¹ˆæ˜¯ post ï¼Œå¤§å¤šæ•°æƒ…å†µä¸‹éƒ½å¯ä»¥ä½¿ç”¨ post</li>
<li>å¦‚æœå¯¹è¡¨å•ä½¿ç”¨ method=â€getâ€ ï¼Œé‚£ä¹ˆè¡¨å•æäº¤åï¼Œè¡¨å•ä¸­çš„æ•°æ®ä¼šæ˜¾ç¤ºåœ¨æµè§ˆå™¨çš„åœ°å€æ é‡Œ</li>
<li>å¦‚æœå¯¹è¡¨å•ä½¿ç”¨ method=â€postâ€ ï¼Œé‚£ä¹ˆæäº¤è¡¨å•åï¼Œè¡¨å•ä¸­çš„æ•°æ®ä¸ä¼šæ˜¾ç¤ºåœ¨æµè§ˆå™¨çš„åœ°å€æ é‡Œï¼Œè¿™æ ·æ›´ä¸ºå®‰å…¨</li>
</ul>
</li>
<li><p>æ¯ä¸ªè¡¨å•éƒ½ä»¥ formå¼€å§‹æ ‡ç­¾å¼€å§‹ï¼Œ ä»¥formç»“æŸæ ‡ç­¾ç»“æŸï¼Œä¸¤ä¸ªæ ‡ç­¾ä¹‹é—´æ˜¯ç»„æˆè¡¨å•çš„è¯´æ˜æ ‡ç­¾ã€æ§ä»¶å’ŒæŒ‰é’®ï¼›</p>
</li>
<li><p><strong>ä»æœåŠ¡å™¨æ¥æ”¶æ•°æ®å°¤å…¶éœ€è¦æ³¨æ„å®‰å…¨æ€§ï¼</strong></p>
</li>
<li><p>è¡¨å•éªŒè¯æŒ‡çš„æ˜¯æäº¤è¡¨å•æ—¶ï¼Œ å¯¹ç”¨æˆ·è¾“å…¥çš„æ¯ä¸ªå­—æ®µçš„å†…å®¹è¿›è¡Œæ£€æŸ¥ï¼Œ çœ‹æ˜¯å¦ç¬¦åˆé¢„æœŸçš„æ ¼å¼ï¼›</p>
</li>
<li><p>éšè—å­—æ®µå¯ä»¥ç”¨äºå­˜å‚¨è¡¨å•ä¸­çš„æ•°æ®ï¼Œ ä½†å®ƒä¸ä¼šæ˜¾ç¤ºç»™è®¿é—®è€…ï¼</p>
</li>
<li><p>æ ·ä¾‹ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">role</span>=<span class="string">"form"</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"form-group"</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"name"</span>&gt;</span>åç§°<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">class</span>=<span class="string">"form-control"</span> <span class="attr">id</span>=<span class="string">"name"</span> </span></span><br><span class="line"><span class="tag">			   <span class="attr">placeholder</span>=<span class="string">"è¯·è¾“å…¥åç§°"</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"form-group"</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"inputfile"</span>&gt;</span>æ–‡ä»¶è¾“å…¥<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"file"</span> <span class="attr">id</span>=<span class="string">"inputfile"</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"help-block"</span>&gt;</span>è¿™é‡Œæ˜¯å—çº§å¸®åŠ©æ–‡æœ¬çš„å®ä¾‹ã€‚<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"checkbox"</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">label</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span>&gt;</span> è¯·æ‰“å‹¾</span><br><span class="line">		<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">class</span>=<span class="string">"btn btn-default"</span>&gt;</span>æäº¤<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>

</li>
</ol>
<h2 id="è§†é¢‘ã€éŸ³é¢‘ç­‰åª’ä½“"><a href="#è§†é¢‘ã€éŸ³é¢‘ç­‰åª’ä½“" class="headerlink" title="è§†é¢‘ã€éŸ³é¢‘ç­‰åª’ä½“"></a>è§†é¢‘ã€éŸ³é¢‘ç­‰åª’ä½“</h2><ol>
<li><p>HTML5 æ”¯æŒä¸‰ç§è§†é¢‘æ–‡ä»¶æ ¼å¼ï¼ˆå³ç¼–è§£ç å™¨ï¼‰ï¼š</p>
<ul>
<li>Ogg Theora ä½¿ç”¨çš„æ–‡ä»¶æ‰©å±•åä¸º .oggæˆ– .ogv</li>
<li>MP4ï¼ˆH.264ï¼‰ä½¿ç”¨çš„æ–‡ä»¶æ‰©å±•åä¸º.mp4 æˆ– .m4v</li>
<li>WebM ä½¿ç”¨çš„æ–‡ä»¶æ‰©å±•åä¸º .webm</li>
</ul>
</li>
<li><p><strong>åœ¨æœ‰çš„æµè§ˆå™¨ä¸­ï¼Œ å¦‚æœæ²¡æœ‰è®¾ç½®æ­£ç¡®çš„ MIME ç±»å‹ï¼Œ åª’ä½“æ–‡ä»¶å°±ä¸ä¼šæ’­æ”¾ï¼›</strong></p>
</li>
<li><p>è¦åœ¨ HTML5 ç½‘é¡µä¸­æ·»åŠ è§†é¢‘ï¼Œ éœ€è¦ä½¿ç”¨æ–°çš„ video å…ƒç´ ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">video</span> <span class="attr">src</span>=<span class="string">"paddle-steamer.webm"</span>&gt;</span><span class="tag">&lt;/<span class="name">video</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li><p>å¯ä»¥ä½¿ç”¨å…¶ä»–å¤§å°çš„ width å’Œ height å€¼ï¼Œ æµè§ˆå™¨ä¼šå¯¹è§†é¢‘è¿›è¡Œç¼©æ”¾ï¼Œå¹¶å°½å¯èƒ½åœ°ä¿è¯è´¨é‡</p>
</li>
<li><p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/5b2ad5075ed606a5aedf33c3b0d807e8-688760" alt="videoå±æ€§"></p>
</li>
<li><p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/7fa5bc956f1e03abc16e89e9aae8c6d3-336091" alt="sourceå±æ€§"></p>
</li>
<li><p>è®¾ç½®è‡ªåŠ¨æ’­æ”¾ä»¥åŠæ·»åŠ æ§åˆ¶ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">video</span> <span class="attr">src</span>=<span class="string">"my-video.ext "</span> <span class="attr">autoplay</span> <span class="attr">controls</span>&gt;</span><span class="tag">&lt;/<span class="name">video</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>ä¸€ä¸ªvideoå…ƒç´ ä¸­å¯ä»¥åŒ…å«ä»»æ„æ•°é‡ çš„ source å…ƒç´ ï¼Œè¿™æ ·å°±å¯ä»¥æ·»åŠ å¤šä¸ªè§†é¢‘ï¼›</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">video</span> <span class="attr">width</span>=<span class="string">"369"</span> <span class="attr">height</span>=<span class="string">"208"</span> <span class="attr">controls</span>&gt;</span> </span><br><span class="line">	<span class="tag">&lt;<span class="name">source</span> <span class="attr">src</span>=<span class="string">"paddle-steamer.mp4"</span> <span class="attr">type</span>=<span class="string">"video/mp4"</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">source</span> <span class="attr">src</span>=<span class="string">"paddle-steamer.webm"</span> <span class="attr">type</span>=<span class="string">"video/webm"</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"paddle-steamer.mp4"</span>&gt;</span> Download the video<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">p</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;/<span class="name">video</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>HTML5 æ”¯æŒå¤§é‡ä¸åŒçš„éŸ³é¢‘æ–‡ä»¶æ ¼å¼ï¼ˆç¼–è§£ç å™¨ï¼‰ï¼š</p>
<ul>
<li>Ogg Vorbisä½¿ç”¨çš„æ–‡ä»¶æ‰©å±•åä¸º.ogg</li>
<li>MP3 ä½¿ç”¨çš„æ–‡ä»¶æ‰©å±•åä¸º .mp3</li>
<li>WAV ä½¿ç”¨çš„æ–‡ä»¶æ‰©å±•åä¸º .wav</li>
<li>AAC ä½¿ç”¨çš„æ–‡ä»¶æ‰©å±•åä¸º .aac</li>
<li>MP4 ä½¿ç”¨çš„æ–‡ä»¶æ‰©å±•åä¸º .mp4</li>
<li>Opus ä½¿ç”¨çš„æ–‡ä»¶æ‰©å±•åæ˜¯ .opus</li>
</ul>
</li>
<li><p>ä½¿ç”¨ audio å…ƒç´ æ¥æ·»åŠ éŸ³é¢‘æ’­æ”¾ï¼Œå¯ä»¥æ·»åŠ ä¸‹é¢çš„å±æ€§ï¼š</p>
<ul>
<li><p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/df6a1459c87f5a04e5924dc6e4ef83e9-432605" alt="éŸ³é¢‘å±æ€§"></p>
</li>
<li><p>æ ·ä¾‹ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">audio</span> <span class="attr">src</span>=<span class="string">"piano.ogg"</span> <span class="attr">loop</span> <span class="attr">controls</span>&gt;</span><span class="tag">&lt;/<span class="name">audio</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>ä½¿ç”¨ canvas å…ƒç´ åŠç›¸åº”çš„ JavaScript API å¯ä»¥åœ¨ç½‘é¡µä¸Šæåˆ¶å¹¶åˆ›å»ºåŠ¨ç”»ï¼›</p>
</li>
</ol>
<h2 id="è¡¨æ ¼"><a href="#è¡¨æ ¼" class="headerlink" title="è¡¨æ ¼"></a>è¡¨æ ¼</h2><ol>
<li>HTMLé€šè¿‡tableå…ƒç´ æ¥æä¾›è¡¨æ ¼æ”¯æŒï¼Œtableå…ƒç´ æ˜¯ç”±è¡Œç»„æˆçš„ï¼Œè¡Œåˆæ˜¯ç”±å•å…ƒæ ¼ç»„æˆçš„ï¼Œæ¯ä¸ªè¡Œï¼ˆ tr ï¼‰éƒ½åŒ…å«æ ‡é¢˜å•å…ƒæ ¼ï¼ˆ th ï¼‰æˆ–æ•°æ®å•å…ƒæ ¼ï¼ˆ td ï¼‰æˆ–è€…åŒæ—¶åŒ…å«è¿™ä¸¤ç§å•å…ƒæ ¼ï¼›</li>
<li>å¯ä»¥é€šè¿‡ colspan å’Œ rowspan å±æ€§è®© thæˆ– td è·¨è¶Šä¸€ä¸ªä»¥ä¸Šçš„åˆ—æˆ–è¡Œï¼›</li>
<li><strong>è¡¨æ ¼ä¸­çš„æ¯ä¸€è¡Œéƒ½åº”å…·æœ‰ç›¸åŒçš„å•å…ƒ æ ¼æ•°é‡</strong>ï¼Œè·¨è¶Šå¤šåˆ—çš„å•å…ƒæ ¼åº”ç®—åšå¤šä¸ªå•å…ƒæ ¼ï¼Œå®ƒçš„ colspan å±æ€§å€¼ä¸ºå¤šå°‘ï¼Œå°±ç®—åšå¤šå°‘ä¸ªå•å…ƒæ ¼ï¼›</li>
<li><strong>è¡¨æ ¼ä¸­çš„æ¯ä¸€åˆ—éƒ½åº”å…·æœ‰ç›¸åŒçš„å•å…ƒæ ¼æ•°é‡</strong>ï¼Œè·¨è¶Šå¤šè¡Œçš„å•å…ƒæ ¼åº”ç®—åšå¤šä¸ªå•å…ƒæ ¼ï¼Œå®ƒçš„ rowspan å±æ€§å€¼ä¸ºå¤šå°‘ï¼Œå°±ç®—åšå¤šå°‘ä¸ªå•å…ƒæ ¼ã€‚</li>
</ol>
<h2 id="ä½¿ç”¨JavaScript"><a href="#ä½¿ç”¨JavaScript" class="headerlink" title="ä½¿ç”¨JavaScript"></a>ä½¿ç”¨JavaScript</h2><ol>
<li><p>JavaScript å®šä¹‰ç½‘é¡µä¸­çš„ç‰¹æ®Šçš„è¡Œä¸ºï¼ŒjQueryç­‰ JavaScript åº“ç¡®ä¿äº†ä¸ºé¡µé¢æ·»åŠ ç®€å•äº¤äº’å’Œå¤æ‚è¡Œä¸ºçš„è¿‡ç¨‹å˜å¾—å®¹æ˜“äº†è®¸å¤šï¼›</p>
</li>
<li><p>è„šæœ¬ä¸»è¦æœ‰ä¸¤ç§ç±»å‹ï¼Œ ä¸€ç§æ˜¯ä»å¤–éƒ¨æ–‡ä»¶ï¼ˆä½¿ç”¨çº¯æ–‡æœ¬æ ¼å¼ï¼‰åŠ è½½çš„è„šæœ¬ï¼Œ å¦ä¸€ç§æ˜¯åµŒå…¥åœ¨é¡µé¢ä¸­çš„è„šæœ¬ï¼Œ<strong>æ— è®ºæ˜¯åŠ è½½å¤–éƒ¨è„šæœ¬è¿˜æ˜¯åµŒå…¥è„šæœ¬ï¼Œ å‡ä½¿ç”¨ script ï¼ˆè„šæœ¬ï¼‰å…ƒç´ </strong>ï¼›</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"script.js "</span> &gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">  <span class="comment">/* JavaScript ä»£ç å†™åœ¨è¿™é‡Œ*/</span> </span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>ä¸ºäº†ä¿æŒç»„ç»‡æ–‡ä»¶è‰¯å¥½ï¼Œé€šå¸¸å°†JavaScript æ–‡ä»¶æ”¾åœ¨ä¸€ä¸ªå­æ–‡ä»¶å¤¹ä¸­;</p>
</li>
<li><p>JavaScriptäº‹ä»¶ï¼š</p>
<ul>
<li>onblurï¼šè®¿é—®è€…ç¦»å¼€å…ˆå‰è·å¾—ç„¦ç‚¹çš„å…ƒç´ </li>
<li>onchangeï¼šè®¿é—®è€…æ”¹å˜å…ƒç´ çš„å€¼æˆ–å†…å®¹</li>
<li>onclickï¼šè®¿é—®è€…ç‚¹å‡»ç‰¹å®šçš„åŒºåŸŸæˆ–åœ¨å…ƒç´ ï¼ˆå¦‚é“¾æ¥ï¼‰è·å¾—ç„¦ç‚¹æ—¶æŒ‰ä¸‹å›è½¦é”®</li>
<li>ondblclick ï¼šè®¿é—®è€…åŒå‡»ç‰¹å®šçš„åŒºåŸŸ</li>
<li>onfocusï¼šè®¿é—®è€…é€‰æ‹©ã€ç‚¹å‡»æˆ–ç”¨åˆ¶è¡¨é”®å°†ç„¦ç‚¹ç§»è‡³ç‰¹å®šçš„å…ƒç´ </li>
<li>onkeydownï¼šåœ¨æŒ‡å®šçš„å…ƒç´ ä¸Šï¼Œ è®¿é—®è€…æŒ‰ä¸‹ä¸€ä¸ªé”®</li>
<li>onkeypressï¼šåœ¨æŒ‡å®šçš„å…ƒç´ ä¸Šï¼Œ è®¿é—®è€…æŒ‰ä¸‹å¹¶æ¾å¼€ä¸€ä¸ªé”®</li>
<li>onkeyupï¼šåœ¨æŒ‡å®šçš„å…ƒç´ ä¸Šï¼Œè®¿é—®è€…åœ¨è¾“å…¥åæ¾å¼€ä¸€ä¸ªé”®</li>
<li>onloadï¼šæµè§ˆå™¨å®Œæˆé¡µé¢çš„åŠ è½½ï¼Œ åŒ…æ‹¬æ‰€æœ‰çš„å¤–éƒ¨æ–‡ä»¶</li>
<li>onmousedownï¼šåœ¨æŒ‡å®šçš„å…ƒç´ ä¸Šï¼Œ è®¿é—®è€…æŒ‰ä¸‹é¼ æ ‡é”®</li>
<li>onmousemoveï¼šè®¿é—®è€…ç§»åŠ¨é¼ æ ‡æŒ‡é’ˆ</li>
<li>onmouseoutï¼šè®¿é—®è€…åœ¨é¼ æ ‡æŒ‡é’ˆåœç•™çš„ç‰¹å®šå…ƒç´ ä¸Šç§»å¼€é¼ æ ‡</li>
<li>onmouseoverï¼šè®¿é—®è€…å°†é¼ æ ‡æŒ‡å‘å…ƒç´ </li>
<li>onmouseupï¼šè®¿é—®è€…åœ¨ç‚¹å‡»å…ƒç´ åæ¾å¼€é¼ æ ‡é”®</li>
<li>onresetï¼šè®¿é—®è€…ç‚¹å‡»è¡¨å•çš„é‡ç½®æŒ‰é’®æˆ–åœ¨è¯¥æŒ‰é’®è·å¾—ç„¦ç‚¹æ—¶æŒ‰ä¸‹å›è½¦é”®</li>
<li>onselectï¼šè®¿é—®è€…é€‰æ‹©å…ƒç´ ä¸­çš„ä¸€ä¸ªæˆ–å¤šä¸ªå­—ç¬¦</li>
<li>onsubmitï¼šè®¿é—®è€…ç‚¹å‡»è¡¨å•çš„æäº¤æŒ‰é’®æˆ–åœ¨è¯¥æŒ‰é’®è·å¾—ç„¦ç‚¹æ—¶æŒ‰ä¸‹å›è½¦é”®</li>
</ul>
</li>
</ol>
<hr>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>è¿™éƒ¨åˆ†ä¸»è¦æ˜¯htmlçš„æè¿°ï¼Œä¸ºäº†å¿«é€Ÿä½¿ç”¨ï¼Œå¹¶æ²¡æœ‰ä»”ç»†å»ç ”ç©¶CSSæ ·å¼è¡¨ä¸­çš„æ¯ä¸ªçŸ¥è¯†ç‚¹è¯¥å¦‚ä½•ä½¿ç”¨ï¼Œä¹Ÿä¸ä¼šè€ƒè™‘å¦‚ä½•å»ä½¿ç”¨æ ·å¼è¡¨æ„å»ºè‡ªå·±æ»¡æ„çš„é¡µé¢æ¸²æŸ“ï¼Œæœ€å¤šæ˜¯èƒ½çœ‹æ‡‚ï¼Œç„¶åèƒ½å¤Ÿå¤§è‡´ä¿®æ”¹ï¼Œä¸»è¦æ˜¯ä¸ºäº†å¿«é€Ÿå¼€å‘ï¼Œèƒ½å¤Ÿè¿›è¡Œå‰ç«¯é¡µé¢çš„è®¾è®¡ï¼Œæœ‰ç°æˆçš„æ¨¡æ¿æ¯”å¦‚Bootstrapï¼Œè¿™éƒ¨åˆ†ä¸ä½œä¸ºä¸»è¦å†…å®¹è¿›è¡Œå­¦ä¹ ï¼HTMLçš„å…ƒç´ åœ¨è¿™é‡Œéƒ½æœ‰å¥½å¥½å­¦ä¹ ï¼Œä½†æ˜¯CSSç¡®å®æ²¡èŠ±å¤šå°‘æ—¶é—´ï¼ŒMarkä¸€ä¸‹å§ï¼å¦‚æœå°†æ¥çœŸçš„æœ‰éœ€æ±‚åœ¨æ·±å…¥å­¦ä¹ ï¼Œè¿™éƒ¨åˆ†å°±å½“æ˜¯ä¸€ä¸ªæµ…å°è¾„æ­¢çš„ç‚¹å§ï¼</p>
]]></content>
      <categories>
        <category>Web</category>
      </categories>
  </entry>
  <entry>
    <title>HTML5ç§˜ç±</title>
    <url>/2020/05/29/HTML5%E7%A7%98%E7%B1%8D/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>HTML5æŒ‡çš„æ˜¯HTML5åŠå…¶æ‰€æœ‰ç›¸å…³çš„æ ‡å‡†ï¼Œç”šè‡³å¯ä»¥æ›´å®½æ³›ï¼Œä»£è¡¨ä¸‹ä¸€ä»£ç½‘é¡µç¼–å†™æŠ€æœ¯ï¼ä½†æ˜¯æœ‰ä¸€ä¸ªé—®é¢˜å°±æ˜¯ä¸åŒçš„æµè§ˆå™¨å¯¹HTML5çš„æ”¯æŒç¨‹åº¦æ˜¯ä¸åŒçš„ã€‚æƒ³è¦åšå¥½HTMLï¼Œå¿…é¡»å†™è¿‡ç½‘é¡µï¼Œæ‡‚å¾—æ ·å¼è¡¨ï¼Œå­¦è¿‡JavaScriptï¼è¿™ç¯‡ä¸»è¦ä»‹ç»HTML5ä»¥åŠCSSç›¸å…³çš„æŠ€æœ¯ã€‚<strong>æ¨èä¹¦ç±ï¼šã€ŠHTML5ç§˜ç±ã€‹Â· [ç¾] Matthew MacDonald è‘— ææ¾å³° æœ±å· åˆ˜å¸… è¯‘</strong></p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="åŸºç¡€çŸ¥è¯†"><a href="#åŸºç¡€çŸ¥è¯†" class="headerlink" title="åŸºç¡€çŸ¥è¯†"></a>åŸºç¡€çŸ¥è¯†</h2><ol>
<li><p>HTMLçš„åŸºæœ¬æ€æƒ³ï¼šä½¿ç”¨å…ƒç´ ä¸ºå†…å®¹æ·»åŠ ç»“æ„</p>
</li>
<li><p>HTML5æ ‡å‡†æ²¡æœ‰å¼•å…¥å¯¼è‡´å·²æœ‰çš„ç½‘é¡µæ— æ³•å·¥ä½œçš„æ”¹å˜ï¼›</p>
</li>
<li><p>åœ¨HTML5ä»¥å‰ï¼Œæ‰€æœ‰ç‰ˆæœ¬çš„HTMLå®˜æ–¹è§„èŒƒéƒ½è¦æ±‚ä½¿ç”¨&lt;html&gt;å…ƒç´ ï¼Œè€Œå®é™…ä¸Šç”¨ä¸ç”¨å®ƒå¯¹æµè§ˆå™¨æ¥è¯´æ˜¯æ— æ‰€è°“çš„,HTML5åˆ™è§„å®šå¯ç”¨å¯ä¸ç”¨;</p>
</li>
<li><p>ä¸ºæ•´ä¸ªé¡µé¢æ·»åŠ è¯­è¨€è¯´æ˜çš„æœ€ç®€å•æ–¹å¼ï¼Œå°±æ˜¯ä¸º&lt;html&gt;å…ƒç´ æŒ‡å®šlangå±æ€§,æ¯”å¦‚&lt;html lang=â€enâ€&gt;;</p>
</li>
<li><p>æŒ‡å®šæƒ³è¦ä½¿ç”¨çš„CSSæ ·å¼è¡¨æ—¶ï¼Œéœ€ è¦åœ¨HTML5æ–‡æ¡£çš„&lt;head&gt;åŒºå—ä¸­æ·»åŠ &lt;link&gt;å…ƒç´ ;</p>
</li>
<li><p><a href="http://validator.w3.org/" target="_blank" rel="noopener">åœ¨çº¿éªŒè¯HTML</a></p>
</li>
<li><p>HTML5æ–°å¼•å…¥çš„å…ƒç´ ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/d8c49c26162b090e139653b0780bc6fa-227242" alt="HTML5æ–°å¼•å…¥å…ƒç´ "></p>
<ul>
<li>äº†è§£HTMLå…ƒç´ ï¼Œè®¿é—®<a href="http://dev.w3.org/html5/markup/" target="_blank" rel="noopener">w3å®˜æ–¹ç½‘å€</a></li>
</ul>
</li>
</ol>
<h2 id="ç”¨è¯­ä¹‰å…ƒç´ æ„é€ ç½‘é¡µ"><a href="#ç”¨è¯­ä¹‰å…ƒç´ æ„é€ ç½‘é¡µ" class="headerlink" title="ç”¨è¯­ä¹‰å…ƒç´ æ„é€ ç½‘é¡µ"></a>ç”¨è¯­ä¹‰å…ƒç´ æ„é€ ç½‘é¡µ</h2><ol>
<li><p>åˆ©ç”¨&lt;div&gt;å…ƒç´ ï¼Œå¯ä»¥æŠŠæ•´ä¸ªHTMLæ–‡æ¡£åˆ†éš”ä¸ºé¡µçœ‰ã€ä¾§è¾¹é¢æ¿ã€å¯¼èˆªæ¡ï¼Œç­‰ç­‰â€”â€”DIV+CSS</p>
</li>
<li><p>æ’å›¾ï¼ˆfigureï¼‰åº”è¯¥æŠŠå®ƒæ”¾åœ¨ç›¸å…³æ–‡æœ¬æ—è¾¹çš„ä¸€ä¸ªæ¯”è¾ƒè¿‘ä¾¿çš„ä½ç½®ä¸Šï¼Œ è€Œä¸è¦æŠŠå®ƒä»¬é”å®šåœ¨ç‰¹å®šçš„è¯æˆ–å…ƒç´ æ—è¾¹;</p>
</li>
<li><p>æœåŠ¡å™¨ç«¯æ¡†æ¶ï¼šåœ¨æµè§ˆå™¨è¯·æ±‚æŸä¸ªé¡µé¢æ—¶ï¼ŒWebæœåŠ¡å™¨ä¸´æ—¶å°†é¡µé¢çš„å„ä¸ªéƒ¨åˆ†ç»„è£…èµ·æ¥ï¼ŒåŒ…æ‹¬å…¬å…±çš„å…ƒç´ ï¼ˆå¦‚å¯¼èˆªæ¡ï¼‰å’Œå†…å®¹ï¼›</p>
</li>
<li><p>é¡µé¢æ¨¡æ¿ï¼šåˆ©ç”¨æ¨¡æ¿æ¥åˆ›å»ºç½‘ç«™çš„æ‰€æœ‰é¡µé¢ä¹Ÿæ˜¯ä¸€ç§ä¸é”™çš„æ–¹å¼ï¼›</p>
</li>
<li><p>é¡µé¢ç»“æ„ç›¸å…³çš„è¯­ä¹‰å…ƒç´ ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/369174b9cd3f74143918b17a7461a192-53032" alt="é¡µé¢ç»“æ„ç›¸å…³çš„è¯­ä¹‰å…ƒç´ 1"></p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/e8a80289ab277b4fb4f9a95eaeea0304-87293" alt="é¡µé¢ç»“æ„ç›¸å…³çš„è¯­ä¹‰å…ƒç´ 2"></p>
</li>
<li><p>RDFaï¼ˆResource Description Frameworkï¼Œèµ„æºæè¿°æ¡†æ¶ ï¼‰æ˜¯ä¸€ç§ä½¿ç”¨å±æ€§å‘ç½‘é¡µä¸­åµŒå…¥è¯¦ç»†ä¿¡æ¯çš„æ ‡å‡†ï¼›</p>
</li>
<li><p>SEOï¼ˆSearch Engine Optimizationï¼Œæœç´¢å¼•æ“ä¼˜åŒ–ï¼‰å¯ä»¥è®©ç½‘ç«™æ›´å®¹æ˜“è¢«æœç´¢å¼•æ“æ›å…‰ï¼Œè·å¾—æ›´å¥½çš„æœç´¢æ’åï¼›</p>
</li>
<li><p>è¡¨å•æŒ‡çš„æ˜¯ä»ç½‘ç«™è®¿å®¢é‚£é‡Œæ”¶é›†ä¿¡æ¯çš„HTMLæ§ä»¶ï¼Œæ‰€æœ‰åŸºæœ¬è¡¨å•çš„å·¥ä½œæ–¹å¼éƒ½ç±»ä¼¼ï¼Œå³ç”¨æˆ·å¡«å†™ä¿¡æ¯ç„¶åå•å‡»æŒ‰é’®ï¼›</p>
</li>
<li><p>è¡¨å•éªŒè¯ï¼š</p>
<ul>
<li>å®¢æˆ·ç«¯éªŒè¯ï¼Œåœ¨æµè§ˆå™¨ä¸­æ£€æŸ¥é”™è¯¯ï¼Œæ²¡æœ‰é”™è¯¯å†æäº¤</li>
<li>æœåŠ¡å™¨ç«¯éªŒè¯ï¼Œåœ¨ç”¨æˆ·å°†æ•°æ®æäº¤ç»™æœåŠ¡å™¨ä¹‹åè¿›è¡Œçš„éªŒè¯</li>
</ul>
</li>
<li><p>å®¢æˆ·ç«¯éªŒè¯ï¼ˆåŒ…æ‹¬HTML5è¡¨å•éªŒè¯ï¼‰æ˜¯ä¸ºè®¿å®¢æä¾›æ–¹ä¾¿çš„ï¼Œè€ŒæœåŠ¡å™¨ç«¯éªŒè¯æ‰æ˜¯ç¡®ä¿æ•°æ®æ­£ç¡®æ€§çš„ï¼</p>
</li>
<li><p>è¦ç¦ç”¨æ•´ä¸ªè¡¨å•çš„éªŒè¯åŠŸèƒ½ï¼Œå¯ä»¥åœ¨&lt;form&gt;å…ƒç´ ä¸­æ·»åŠ novalidate å±æ€§;</p>
</li>
<li><p>æ—¶é—´æ§ä»¶ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/8bb3e024d308a43f7b63d67bb8e4195b-91057" alt="æ—¶é—´æ§ä»¶"></p>
</li>
<li><p>&lt;datalist&gt;å…ƒç´ å¯ä»¥è®©ä½ åœ¨æ™®é€šæ–‡æœ¬æ¡†ä¸­æ·»åŠ ä¸€ä¸ªä¸‹æ‹‰å»ºè®®åˆ—è¡¨ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>Test<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">datalist</span> <span class="attr">id</span>=<span class="string">"animalChoices"</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">option</span> <span class="attr">label</span>=<span class="string">"Alpaca"</span> <span class="attr">value</span>=<span class="string">"alpaca"</span>&gt;</span> <span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">option</span> <span class="attr">label</span>=<span class="string">"Zebra"</span> <span class="attr">value</span>=<span class="string">"zebra"</span>&gt;</span> <span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">option</span> <span class="attr">label</span>=<span class="string">"Cat"</span> <span class="attr">value</span>=<span class="string">"cat"</span>&gt;</span> <span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">option</span> <span class="attr">label</span>=<span class="string">"Caribou"</span> <span class="attr">value</span>=<span class="string">"caribou"</span>&gt;</span> <span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">option</span> <span class="attr">label</span>=<span class="string">"Caterpillar"</span> <span class="attr">value</span>=<span class="string">"caterpillar"</span>&gt;</span> <span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">option</span> <span class="attr">label</span>=<span class="string">"Anaconda"</span> <span class="attr">value</span>=<span class="string">"anaconda"</span>&gt;</span> <span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">option</span> <span class="attr">label</span>=<span class="string">"Human"</span> <span class="attr">value</span>=<span class="string">"human"</span>&gt;</span> <span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">option</span> <span class="attr">label</span>=<span class="string">"Elephant"</span> <span class="attr">value</span>=<span class="string">"elephant"</span>&gt;</span><span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">option</span> <span class="attr">label</span>=<span class="string">"Wildebeest"</span> <span class="attr">value</span>=<span class="string">"wildebeest"</span>&gt;</span> <span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">option</span> <span class="attr">label</span>=<span class="string">"Pigeon"</span> <span class="attr">value</span>=<span class="string">"pigeon"</span>&gt;</span> <span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">option</span> <span class="attr">label</span>=<span class="string">"Crab"</span> <span class="attr">value</span>=<span class="string">"crab"</span>&gt;</span><span class="tag">&lt;/<span class="name">option</span>&gt;</span> </span><br><span class="line"> <span class="tag">&lt;/<span class="name">datalist</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">"favoriteAnimal"</span> <span class="attr">list</span>=<span class="string">"animalChoices"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>è¿‡ç¨‹æ˜¾ç¤ºprogresså…ƒç´ ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">progress</span> <span class="attr">value</span>=<span class="string">"90"</span> <span class="attr">max</span>=<span class="string">"100"</span>&gt;</span><span class="tag">&lt;/<span class="name">progress</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>meterå…ƒç´ å¤§è‡´ä¹Ÿä¸€æ ·ï¼Œå®ƒè¡¨ç¤ºçš„æ˜¯æŸç§è®¡é‡ï¼Œå› æ­¤ä¹Ÿè¢«ç§°ä¸ºè®¡é‡å™¨;</p>
</li>
<li><p>ç½‘é¡µä¸­æ³¨å†Œå­—ä½“ï¼š</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="keyword">@font-face</span> &#123; </span><br><span class="line">  <span class="attribute">font-family</span>: <span class="string">'ChantelliAntiquaRegular'</span>; </span><br><span class="line">  <span class="attribute">src</span>: <span class="built_in">url</span>(<span class="string">'Chantelli_Antiqua-webfont.eot'</span>); </span><br><span class="line">  <span class="attribute">src</span>: <span class="built_in">local</span>(<span class="string">'Chantelli Antiqua'</span>), </span><br><span class="line">    <span class="built_in">url</span>(<span class="string">'Chantelli_Antiqua-webfont.woff'</span>) <span class="built_in">format</span>(<span class="string">'woff'</span>), </span><br><span class="line">    <span class="built_in">url</span>(<span class="string">'Chantelli_Antiqua-webfont.ttf'</span>) <span class="built_in">format</span>(<span class="string">'truetype'</span>), </span><br><span class="line">    <span class="built_in">url</span>(<span class="string">'Chantelli_Antiqua-webfont.svg'</span>) <span class="built_in">format</span>(<span class="string">'svg'</span>); </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol>
<li>@font-faceæ˜¯æ­£å¼æ³¨å†Œå­—ä½“çš„å·¥å…·ï¼Œæ³¨å†Œä¹‹åæ‰èƒ½åœ¨æ ·å¼è¡¨çš„å…¶ä»–åœ°æ–¹ä½¿ç”¨è¯¥å­—ä½“</li>
<li>font-family: â€˜ChantelliAntiquaRegularâ€™; ç”¨æ¥èµ·åå­—ï¼Œéšæ„ï¼Œä½†æ˜¯å°†æ¥ä½¿ç”¨è¯¥å­—ä½“æ—¶è¦ç”¨åˆ°è¿™ä¸ªåå­—</li>
<li>src: url(â€˜Chantelli_Antiqua-webfont.eotâ€™); æ³¨å†ŒROTæ ¼å¼çš„å­—ä½“æ–‡ä»¶</li>
<li>src: local(â€˜Chantelli Antiquaâ€™)å‘ŠçŸ¥æµè§ˆå™¨ä½¿ç”¨è¿™ç§å­—ä½“çš„åå­—ï¼Œå…¶ä»–å¯ä½¿ç”¨æ ¼å¼</li>
</ol>
</li>
<li><p>è°·æ­Œå­—ä½“:</p>
<ul>
<li><p><a href="http://www.google.com/fonts" target="_blank" rel="noopener">è°·æ­Œå­—ä½“ç½‘å€</a></p>
</li>
<li><p>ä½¿ç”¨è°·æ­Œå­—ä½“ï¼ˆæ¯”å¦‚é€‰æ‹©äº†Metrophobicå­—ä½“ï¼‰ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">href</span>=<span class="string">"http://fonts.googleapis.com/css?family=Metrophobic"</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>åª’ä½“æŸ¥è¯¢ï¼ˆmedia queryï¼‰æ˜¯ç§»åŠ¨Webå¼€å‘çš„åŸºç¡€æŠ€æœ¯ï¼Œå¯ä»¥ç¡®ä¿ç½‘ç«™èƒ½å¤Ÿè‡ªé€‚åº”æµè§ˆå™¨çª—å£å¤§å°çš„å˜åŒ–ï¼Œè¿™ç§è‡ªé€‚åº”è®¾è®¡å±äº<strong><em>å“åº”å¼è®¾è®¡</em></strong>ï¼›</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/7fd342436e6763db726f710323e774b0-199888" alt="åª’ä½“æŸ¥è¯¢ç»å¸¸ç”¨åˆ°çš„ç‰¹æ€§1"></p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/71520f4ec16558860f6974aa482ed48f-263885" alt="åª’ä½“æŸ¥è¯¢ç»å¸¸ç”¨åˆ°çš„ç‰¹æ€§2"></p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="keyword">@media</span> (<span class="attribute">max-width:</span> <span class="number">480px</span>)&#123;</span><br><span class="line">  <span class="selector-class">.leftColumn</span>&#123;</span><br><span class="line">    <span class="attribute">background</span>: lime;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><p>é€šè¿‡åª’ä½“æŸ¥è¯¢æ›¿æ¢æ•´ä¸ªæ ·å¼è¡¨ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span> </span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"standard.css"</span>&gt;</span> </span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">media</span>=<span class="string">"(max-width: 568px)"</span> <span class="attr">href</span>=<span class="string">"small_styles.css"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>æµè§ˆå™¨ä¼šä¸‹è½½ç¬¬äºŒä¸ªæ ·å¼è¡¨ï¼ˆsmall_styles.cssï¼‰ï¼Œä½†åªæœ‰åœ¨é¡µé¢å®½åº¦å°äº568åƒç´ æ—¶æ‰ä¼šåº”ç”¨è¿™ä¸ªæ ·å¼è¡¨ï¼›</p>
</li>
</ul>
</li>
</ol>
<h2 id="ç»˜å›¾"><a href="#ç»˜å›¾" class="headerlink" title="ç»˜å›¾"></a>ç»˜å›¾</h2><ol>
<li><p>HTML5çš„ç›®æ ‡ä¹‹ä¸€å°±æ˜¯è®©ç½‘é¡µä¸­çš„å¯Œåº”ç”¨å®ç°èµ·æ¥æ›´ç®€å•ï¼Œå¯Œåº”ç”¨çš„å«ä¹‰åŒ…æ‹¬æ¼‚äº®çš„å›¾ ç‰‡ã€äººæœºäº’åŠ¨åŠŸèƒ½ï¼Œä»¥åŠçœ©ç›®çš„åŠ¨ç”»æ•ˆæœï¼›</p>
</li>
<li><p>canvasæ˜¯å®ç°å¯Œåº”ç”¨æœ€é‡è¦çš„HTML5å·¥å…·ä¹‹ä¸€ï¼Œèƒ½å¤Ÿè¿›è¡Œç»˜å›¾ï¼Œæ˜¯ä¸€åˆ‡é«˜çº§å›¾å½¢åº”ç”¨çš„æ ¸å¿ƒæ‰€åœ¨ï¼Œ<strong>canvasç‹¬ç‰¹çš„åœ°æ–¹æ˜¯éœ€è¦JavaScriptæ¥æ“ä½œ</strong>;</p>
</li>
<li><p>canvaså…ƒç´ å°±æ˜¯ä¸€å—ç”»å¸ƒï¼Œåªè¦ç»™å®ƒæŒ‡å®šä¸‰ä¸ªå±æ€§å³å¯ï¼šidã€widthå’Œheightï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">canvas</span> <span class="attr">id</span>=<span class="string">"drawingCanvas"</span> <span class="attr">width</span>=<span class="string">"500"</span> <span class="attr">height</span>=<span class="string">"300"</span>&gt;</span><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>idå±æ€§æ˜¯ä¸€ä¸ªå”¯ä¸€çš„åå­—ï¼ŒJavaScriptè„šæœ¬å¯ä»¥åˆ©ç”¨å®ƒæ‰¾åˆ°è¿™å—â€œç”»å¸ƒâ€</li>
<li>widthå’Œheightå±æ€§æŒ‡å®šçš„å°±æ˜¯è¿™å—â€œç”»å¸ƒâ€çš„å®½åº¦å’Œé«˜åº¦ï¼Œå•ä½æ˜¯åƒç´ </li>
</ul>
</li>
<li><p>å¼€å§‹ç»˜å›¾ä¹‹å‰ï¼Œéœ€è¦JavaScriptæ‰§è¡Œä¸¤æ­¥æ“ä½œ:</p>
<ul>
<li>åˆ©ç”¨document.getElementById()æ–¹æ³•å– å¾—canvaså¯¹è±¡</li>
<li>è°ƒç”¨canvaså¯¹è±¡çš„getContext()æ–¹ æ³•ï¼Œå–å¾—äºŒç»´ç»˜å›¾ä¸Šä¸‹æ–‡ï¼Œå–å¾—äº†ä¸Šä¸‹æ–‡å¯¹è±¡ä¹‹åï¼Œä»»ä½•æ—¶å€™éƒ½å¯ä»¥è¿›è¡Œç»˜å›¾äº†</li>
</ul>
</li>
<li><p>ä½¿ç”¨javaScriptåœ¨canvasä¸Šè¿›è¡Œç»˜å›¾ï¼š</p>
<ol>
<li><p>ç”»ç›´çº¿ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">  context.moveTo(<span class="number">10</span>,<span class="number">10</span>); </span><br><span class="line">	context.lineTo(<span class="number">400</span>,<span class="number">40</span>); </span><br><span class="line">	context.stroke();</span><br><span class="line"><span class="comment">// stroke ä½¿å¾—å†…å®¹è¢«æ˜¾ç°å‡ºæ¥</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>åœ¨è°ƒç”¨stroke()æ–¹æ³•æŠŠç›´çº¿å®é™…åœ°ç»˜åˆ¶å‡ºæ¥ä¹‹å‰ï¼Œå¯ä»¥åœ¨ä»»ä½•æ—¶å€™è®¾ç½®ç»˜å›¾ä¸Šä¸‹æ–‡çš„3ä¸ªå±æ€§ï¼šlineWidthã€strokeStyleå’ŒlineCapï¼š</p>
<ul>
<li>lineWidthå¯ä»¥è®¾ç½®çº¿æ¡å®½åº¦ï¼Œå•ä½æ˜¯åƒç´ </li>
<li>strokeStyleç”¨äºè®¾ç½®çº¿æ¡çš„é¢œè‰²ï¼Œå¯ä»¥ä½¿ç”¨HTMLé¢œè‰²åã€HTMLé¢œè‰²ç¼–ç æˆ–CSS ä¸­çš„rgb()å‡½æ•°</li>
<li>lineCapå¯ä»¥è®¾ç½®çº¿æ¡ä¸¤ç«¯çš„å½¢çŠ¶ï¼Œå³çº¿å¤´ç±»å‹ï¼Œå¯ä»¥æ˜¯buttï¼ˆé»˜è®¤æ–¹å¤´ï¼‰ã€roundï¼ˆåœ†å¤´ï¼‰æˆ–squareï¼ˆåŠ é•¿æ–¹å¤´ï¼‰</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">//è®¾ç½®çº¿æ¡å®½åº¦å’Œé¢œè‰²ï¼ˆé€‚ç”¨äºæ‰€æœ‰çº¿æ¡ï¼‰ ï¼Œä¸¤å¤´å½¢çŠ¶</span></span><br><span class="line">context.lineWidth = <span class="number">25</span>; </span><br><span class="line">context.lineCap = <span class="string">"butt"</span>;</span><br><span class="line">context.strokeStyle = <span class="string">"rgb(205,40,40)"</span>;</span><br><span class="line"><span class="comment">//context.strokeStyle = "#cd2828";</span></span><br></pre></td></tr></table></figure>

<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/6ec6ce57f30d96598e19534b64961d46-146040" alt="ç”»å¸ƒlineCapå±æ€§"></p>
</li>
<li><p>æ¯æ¬¡è°ƒç”¨beginPath() æ–¹æ³•ï¼Œéƒ½é‡æ–°å¼€å§‹ä¸€ä¸ªæ–°çº¿æ®µçš„ç»˜åˆ¶ï¼Œå¦‚æœæ²¡æœ‰è¿™ä¸€æ­¥ï¼Œé‚£ä¹ˆæ¯æ¬¡è°ƒç”¨stroke()ï¼Œéƒ½ä¼šæŠŠç”»å¸ƒä¸ŠåŸæœ‰çš„çº¿æ®µå†é‡æ–°ç»˜åˆ¶ä¸€éï¼</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;script type=<span class="string">"text/javascript"</span>&gt;</span><br><span class="line">	<span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">	<span class="comment">// è·å–canvas</span></span><br><span class="line">	<span class="keyword">var</span> canvas = <span class="built_in">document</span>.getElementById(<span class="string">"drawingCanvas"</span>);</span><br><span class="line">	<span class="comment">// è·å–ä¸Šä¸‹æ–‡</span></span><br><span class="line">	<span class="keyword">var</span> context = canvas.getContext(<span class="string">"2d"</span>);</span><br><span class="line">	<span class="comment">//è®¾ç½®çº¿æ¡å®½åº¦å’Œé¢œè‰²ï¼ˆé€‚ç”¨äºæ‰€æœ‰çº¿æ¡ï¼‰ ï¼Œä¸¤å¤´å½¢çŠ¶</span></span><br><span class="line">	context.lineWidth = <span class="number">25</span>; </span><br><span class="line">	context.lineCap = <span class="string">"butt"</span>;</span><br><span class="line">	context.strokeStyle = <span class="string">"rgb(205,40,40)"</span>;</span><br><span class="line">	<span class="comment">//context.strokeStyle = "#cd2828";</span></span><br><span class="line">	<span class="comment">// ç”»ç›´çº¿</span></span><br><span class="line">	context.moveTo(<span class="number">10</span>,<span class="number">10</span>); </span><br><span class="line">	context.lineTo(<span class="number">400</span>,<span class="number">40</span>); </span><br><span class="line">	context.stroke();</span><br><span class="line">	<span class="comment">// æ–°çš„ç»˜åˆ¶</span></span><br><span class="line">	context.beginPath();</span><br><span class="line">	context.moveTo(<span class="number">250</span>,<span class="number">50</span>); </span><br><span class="line">	context.lineTo(<span class="number">50</span>,<span class="number">250</span>); </span><br><span class="line">	context.lineTo(<span class="number">450</span>,<span class="number">250</span>); </span><br><span class="line">	context.lineTo(<span class="number">250</span>,<span class="number">50</span>);</span><br><span class="line">	context.lineWidth = <span class="number">10</span>; </span><br><span class="line">	context.strokeStyle = <span class="string">"red"</span>; </span><br><span class="line">	context.stroke();</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><p>beginPathæ–¹æ³•æ•ˆæœï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/0afec1bae32d135126c31574724665cb-25297" alt="beginPathæ–¹æ³•"></p>
</li>
<li><p>æœªä½¿ç”¨beginPathæ•ˆæœï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/3c91b92aaf6a97802ef72a213441cd2e-31551" alt="æœªä½¿ç”¨beginPathæ–¹æ³•"></p>
</li>
</ul>
</li>
<li><p>å¡«å……é¢œè‰²æ—¶ï¼Œä½¿ç”¨strokeæ–¹æ³•æ˜¯æ— èƒ½ä¸ºåŠ›çš„ï¼Œè¿™ä¸ªæ—¶å€™éœ€è¦æ˜¾ç¤ºè°ƒç”¨closePathæ¥æ˜ç¡®å…³é—­è·¯å¾„ï¼Œç„¶åå†ä½¿ç”¨fillStyleå±æ€§è®¾ç½®æƒ³è¦å¡«å……çš„é¢œè‰²ï¼Œç„¶åè°ƒç”¨fillæ–¹æ³•å®Œæˆå¡«å……æ“ä½œï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">	<span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="keyword">var</span> canvas = <span class="built_in">document</span>.getElementById(<span class="string">"drawingCanvas"</span>); </span><br><span class="line"><span class="keyword">var</span> context = canvas.getContext(<span class="string">"2d"</span>);</span><br><span class="line">    </span><br><span class="line">context.beginPath();</span><br><span class="line">context.moveTo(<span class="number">250</span>,<span class="number">50</span>); </span><br><span class="line">context.lineTo(<span class="number">50</span>,<span class="number">250</span>); </span><br><span class="line">context.lineTo(<span class="number">450</span>,<span class="number">250</span>); </span><br><span class="line">context.closePath();</span><br><span class="line"></span><br><span class="line"><span class="comment">//å¡«å……å†…éƒ¨ </span></span><br><span class="line">context.fillStyle = <span class="string">"blue"</span>; </span><br><span class="line">context.fill();</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç»˜åˆ¶è½®å»“ </span></span><br><span class="line">context.lineWidth = <span class="number">10</span>; </span><br><span class="line">context.strokeStyle = <span class="string">"red"</span>; </span><br><span class="line">context.stroke();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><p>å¡«å……æ•ˆæœï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/898a4b607e2291d4e5fe982c9f66f0cc-18698" alt="å¡«å……æ•ˆæœ"></p>
</li>
<li><p>æœ€å¥½æ˜¯å…ˆå¡«å……å½¢çŠ¶ï¼Œç„¶åå†ç»˜åˆ¶å…¶è½®å»“ï¼Œä¸ç„¶å½¢çŠ¶çš„è½®å»“çº¿ä¼šæœ‰ä¸€éƒ¨åˆ†è¢«å¡«å……è‰²è¦†ç›–æ‰ï¼›</p>
</li>
<li><p>å¯ä»¥ä½¿ç”¨fillRect()æ–¹æ³•ç›´æ¥å¡«å……ä¸€ä¸ªçŸ©å½¢åŒºåŸŸï¼Œæä¾›çŸ©å½¢åŒºåŸŸå·¦ä¸Šè§’ çš„åæ ‡ã€å®½åº¦å’Œé«˜åº¦å³å¯ï¼ŒfillRect()ä¹Ÿæ˜¯ä»ç»˜å›¾ä¸Šä¸‹æ–‡çš„fillStyleå±æ€§å–å¾—é¢œè‰²ï¼›è¿˜æœ‰ä¸€ä¸ªstrokeRect()æ–¹æ³•ï¼Œç”¨äºç›´æ¥ç»˜åˆ¶ä¸€ä¸ªçŸ©å½¢æ¡†ï¼›</p>
</li>
</ul>
</li>
</ol>
</li>
<li><p>ç»˜åˆ¶æ›²çº¿ï¼š</p>
<ol>
<li><p>ç»˜åˆ¶æ›²çº¿çš„å››ä¸ªæ–¹æ³•ï¼Œarc()ã€artTo()ã€bezierCurveTo()å’ŒquadraticCurveTo()ï¼›</p>
</li>
<li><p><strong>ç»˜åˆ¶è¿™äº›ç©æ„è¿˜æ˜¯éœ€è¦åšä¸€ç‚¹æ•°å­¦è®¡ç®—çš„</strong>ï¼›</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/cfc13bd42aa6f407c27d4ad3085bee62-342893" alt="åœ†å¼§ç»˜åˆ¶"></p>
<ul>
<li><p>åœ†å¼§ä»£ç ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">	<span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">	<span class="keyword">var</span> canvas = <span class="built_in">document</span>.getElementById(<span class="string">"drawingCanvas"</span>); </span><br><span class="line">	<span class="keyword">var</span> context = canvas.getContext(<span class="string">"2d"</span>);</span><br><span class="line"></span><br><span class="line">	<span class="comment">//åˆ›å»ºå˜é‡ï¼Œä¿å­˜åœ†å¼§çš„å„æ–¹é¢ä¿¡æ¯ </span></span><br><span class="line">	<span class="keyword">var</span> centerX = <span class="number">150</span>; </span><br><span class="line">	<span class="keyword">var</span> centerY = <span class="number">300</span>; </span><br><span class="line">	<span class="keyword">var</span> radius = <span class="number">100</span>; </span><br><span class="line">	<span class="keyword">var</span> startingAngle = <span class="number">1.25</span> * <span class="built_in">Math</span>.PI; </span><br><span class="line">	<span class="keyword">var</span> endingAngle = <span class="number">1.75</span> * <span class="built_in">Math</span>.PI;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//ä½¿ç”¨ç¡®å®šçš„ä¿¡æ¯ç»˜åˆ¶åœ†å¼§ </span></span><br><span class="line">	context.arc(centerX, centerY, radius, startingAngle, endingAngle); </span><br><span class="line">	context.stroke();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>å¦‚æœåœ¨è°ƒç”¨stroke()ä¹‹å‰è°ƒç”¨closePath()ï¼Œå°±ä¼šåœ¨åœ†å¼§çš„èµ·ç‚¹å’Œç»ˆç‚¹ä¹‹é—´ç»˜åˆ¶ä¸€æ¡ç›´çº¿ï¼›</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/a24dcfa80706618b585a5124c767156e-18586" alt="åœ†å¼§æ•ˆæœ"></p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/9f3054aa3c9b528d26ebcfc979389122-18469" alt="æ·»åŠ closePathåæ•ˆæœ"></p>
</li>
<li><p>å‡ ä¹ä»»ä½•æ’å›¾è½¯ä»¶ä¸­éƒ½ä¼šç”¨è´å¡å°”æ›²çº¿,è¿™ç§æ›²çº¿èƒ½å¤Ÿä¿è¯å¹³æ»‘ï¼Œå“ªæ€•å†å°ã€å†å¤§çš„å¼§åº¦éƒ½å¯ä»¥ï¼š</p>
<ul>
<li><p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/b4ddd2906f795f801be15ff0a847879c-223403" alt="è´å¡å°”æ›²çº¿"></p>
</li>
<li><p>ä»£ç ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> canvas = <span class="built_in">document</span>.getElementById(<span class="string">"drawingCanvas"</span>); </span><br><span class="line"><span class="keyword">var</span> context = canvas.getContext(<span class="string">"2d"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//æŠŠç¬”ç§»åŠ¨åˆ°èµ·ç‚¹ä½ç½® </span></span><br><span class="line">context.moveTo(<span class="number">62</span>, <span class="number">242</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//åˆ›å»ºå˜é‡ï¼Œä¿å­˜ä¸¤ä¸ªæ§åˆ¶ç‚¹åŠæ›²çº¿ç»ˆç‚¹ä¿¡æ¯ </span></span><br><span class="line"><span class="keyword">var</span> control1_x = <span class="number">187</span>; </span><br><span class="line"><span class="keyword">var</span> control1_y = <span class="number">32</span>; </span><br><span class="line"><span class="keyword">var</span> control2_x = <span class="number">429</span>; </span><br><span class="line"><span class="keyword">var</span> control2_y = <span class="number">480</span>; </span><br><span class="line"><span class="keyword">var</span> endPointX = <span class="number">365</span>; </span><br><span class="line"><span class="keyword">var</span> endPointY = <span class="number">133</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç»˜åˆ¶æ›²çº¿ </span></span><br><span class="line">context.bezierCurveTo(control1_x, control1_y, control2_x, control2_y, endPointX, endPointY); </span><br><span class="line">context.stroke();</span><br></pre></td></tr></table></figure>
</li>
<li><p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/afc5baf350cc870cfaae53c4c207e410-30029" alt="æ•ˆæœå›¾"></p>
</li>
<li><p><a href="http://blogs.sitepointstatic.com/examples/tech/canvas-curves/bezier-curve.html" target="_blank" rel="noopener">æµ‹è¯•ç½‘å€</a></p>
</li>
</ul>
</li>
</ol>
</li>
<li><p>å˜æ¢æ˜¯ä¸€ç§é€šè¿‡å˜canvasåæ ‡ç³»è¾¾åˆ°ç»˜åˆ¶ç›®çš„çš„æŠ€æœ¯ï¼š</p>
<ol>
<li><p>æ ·ä¾‹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> canvas = <span class="built_in">document</span>.getElementById(<span class="string">"drawingCanvas"</span>); </span><br><span class="line"><span class="keyword">var</span> context = canvas.getContext(<span class="string">"2d"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//åœ¨(0,0)ç‚¹ç»˜åˆ¶æ­£æ–¹å½¢ </span></span><br><span class="line">context.rect(<span class="number">0</span>, <span class="number">0</span>, <span class="number">30</span>, <span class="number">30</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//æŠŠåæ ‡ç³»å‘ä¸‹ã€å‘å³å„ç§»åŠ¨50åƒç´  </span></span><br><span class="line">context.translate(<span class="number">50</span>, <span class="number">50</span>); </span><br><span class="line">context.rect(<span class="number">0</span>, <span class="number">0</span>, <span class="number">30</span>, <span class="number">30</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//æŠŠåæ ‡ç³»å†å‘ä¸‹ç§»ä¸€ç‚¹ï¼›å˜æ¢æ˜¯å¯ä»¥ç´¯ç§¯çš„ </span></span><br><span class="line"><span class="comment">//å› æ­¤ç°åœ¨(0,0)ç‚¹å®é™…ä¸Šå°†è¢«å¹³ç§»åˆ°(100,100) </span></span><br><span class="line">context.translate(<span class="number">50</span>, <span class="number">50</span>); </span><br><span class="line">context.rect(<span class="number">0</span>, <span class="number">0</span>, <span class="number">30</span>, <span class="number">30</span>);</span><br><span class="line"></span><br><span class="line">context.stroke();</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ•ˆæœï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/72ceb4fead2dec4f9d85c0c516a019b0-15148" alt="å˜æ¢æ•ˆæœ"></p>
</li>
<li><p>å˜æ¢æœ‰å‡ ç§ä¸åŒçš„æ–¹å¼ï¼Œå¹³ç§»ï¼ˆtranslateï¼‰å˜æ¢ç§»åŠ¨äº†åæ ‡ç³»çš„åŸç‚¹ï¼›ç¼©æ”¾ï¼ˆscaleï¼‰å˜æ¢å¯ä»¥æŠŠæœ¬æ¥è¦ç»˜åˆ¶çš„å½¢çŠ¶æ”¾å¤§æˆ–ç¼©å°ï¼›æ—‹è½¬ï¼ˆrotateï¼‰å˜æ¢å¯ä»¥æ—‹è½¬åæ ‡ç³»ï¼›çŸ©é˜µï¼ˆmatrixï¼‰å˜æ¢æ›´å¤æ‚ä¸€äº›ï¼Œä½†å¯ä»¥åœ¨ä»»æ„æ–¹å‘æ‹‰ä¼¸å’Œæ‰­æ›²åæ ‡ç³»ï¼ˆè¦æ±‚é«˜ï¼‰ï¼›</p>
</li>
<li><p>å˜æ¢ç¨å¾®å¤æ‚çš„æ¡ˆä¾‹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> canvas = <span class="built_in">document</span>.getElementById(<span class="string">"drawingCanvas"</span>); </span><br><span class="line"><span class="keyword">var</span> context = canvas.getContext(<span class="string">"2d"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç§»åŠ¨(0,0)ç‚¹ã€‚è¿™ä¸€æ­¥å¾ˆé‡è¦ //å› ä¸ºæ¥ä¸‹æ¥è¦å›´ç»•æ–°åŸç‚¹æ—‹è½¬ </span></span><br><span class="line">context.translate(<span class="number">100</span>, <span class="number">100</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç»˜åˆ¶10ä¸ªæ­£æ–¹å½¢ </span></span><br><span class="line"><span class="keyword">var</span> copies = <span class="number">10</span>; </span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i=<span class="number">1</span>; i&lt;copies; i++) &#123;</span><br><span class="line">	<span class="comment">//ç»˜åˆ¶æ­£æ–¹å½¢ä¹‹å‰ï¼Œå…ˆæ—‹è½¬åæ ‡ç³» </span></span><br><span class="line">	<span class="comment">//æ—‹è½¬ä¸€å‘¨æ˜¯2*Math.PIï¼Œå› æ­¤æ¯ä¸ªæ­£æ–¹å½¢çš„æ—‹è½¬è§’åº¦å–å†³äºè¦ç»˜åˆ¶çš„æ€»æ•° </span></span><br><span class="line">	context.rotate(<span class="number">2</span> * <span class="built_in">Math</span>.PI * <span class="number">1</span>/(copies<span class="number">-1</span>));</span><br><span class="line"></span><br><span class="line">	<span class="comment">//ç»˜åˆ¶æ­£æ–¹å½¢ </span></span><br><span class="line">	context.rect(<span class="number">0</span>, <span class="number">0</span>, <span class="number">60</span>, <span class="number">60</span>);</span><br><span class="line">&#125; </span><br><span class="line">context.stroke();</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ•ˆæœï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/09004f99755e3a8c56f9c1a20e3241ca-61752" alt="å˜æ¢å¤æ‚æ•ˆæœ"></p>
</li>
<li><p>è°ƒç”¨ç»˜å›¾ä¸Šä¸‹æ–‡çš„ save() æ–¹æ³•å¯ä»¥ä¿å­˜åæ ‡ç³»å½“å‰çš„çŠ¶æ€ã€‚ç„¶åå†è°ƒç”¨ restore() æ–¹æ³•å¯ä»¥è¿”å›ä¿å­˜è¿‡çš„å‰ä¸€ä¸ªçŠ¶æ€ï¼›æ¯æ¬¡è°ƒç”¨ restore() ï¼Œåæ ‡ç³»å°±ä¼šæ¢å¤åˆ°å‰ä¸€ä¸ªæœ€è¿‘çš„çŠ¶æ€ï¼›</p>
</li>
</ol>
</li>
<li><p>æƒ³è¦ç”¨canvasåˆ›ä½œå‡ºå¤ºäººçœ¼ç›®çš„å›¾å½¢ï¼Œä½†åˆä¸æ„¿æ„å¤ä¹ å‡ ä½•çŸ¥è¯†ï¼Œå¯ä»¥ä½¿ç”¨ç»˜å›¾åº“ï¼Œ<a href="http://fabricjs.com/" target="_blank" rel="noopener">Fabric.js</a>å’Œ<a href="http://fabricjs.com/" target="_blank" rel="noopener">KineticJS</a>æ˜¯ä¸¤ä¸ªç»˜å›¾åº“ï¼›</p>
</li>
<li><p>canvasæ”¯æŒä½¿ç”¨åŠé€æ˜çš„é¢œè‰²ï¼Œä»è€Œå®ç°å¤šä¸ªå½¢çŠ¶å åŠ é€è§†çš„æ•ˆæœï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> canvas = <span class="built_in">document</span>.getElementById(<span class="string">"drawingCanvas"</span>); </span><br><span class="line"><span class="keyword">var</span> context = canvas.getContext(<span class="string">"2d"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//è®¾ç½®å¡«å……åŠæè¾¹é¢œè‰² </span></span><br><span class="line">context.fillStyle = <span class="string">"rgb(100,150,185)"</span>; </span><br><span class="line">context.lineWidth = <span class="number">10</span>;</span><br><span class="line">context.strokeStyle = <span class="string">"red"</span>;</span><br><span class="line"><span class="comment">//ç»˜åˆ¶åœ†å½¢ </span></span><br><span class="line">context.arc(<span class="number">110</span>, <span class="number">120</span>, <span class="number">100</span>, <span class="number">0</span>, <span class="number">2</span>*<span class="built_in">Math</span>.PI); </span><br><span class="line">context.fill(); </span><br><span class="line">context.stroke();</span><br><span class="line"></span><br><span class="line"><span class="comment">//åˆ«å¿˜äº†è°ƒç”¨beginPath()ï¼Œç„¶åå†ç»˜åˆ¶æ–°å½¢çŠ¶ </span></span><br><span class="line"><span class="comment">//å¦åˆ™ï¼Œä¸¤ä¸ªå½¢çŠ¶çš„è·¯å¾„ä¼šæ„å¤–åœ°è¿åœ¨ä¸€èµ· </span></span><br><span class="line">context.beginPath();</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç”¨åŠé€æ˜çš„é¢œè‰²å¡«å……ä¸‰è§’å½¢ </span></span><br><span class="line">context.fillStyle = <span class="string">"rgba(100,150,185,0.5)"</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å¥½äº†ï¼Œç»˜åˆ¶ä¸‰è§’å½¢ </span></span><br><span class="line">context.moveTo(<span class="number">215</span>,<span class="number">50</span>); </span><br><span class="line">context.lineTo(<span class="number">15</span>,<span class="number">250</span>); </span><br><span class="line">context.lineTo(<span class="number">315</span>,<span class="number">250</span>); </span><br><span class="line">context.closePath(); </span><br><span class="line">context.fill(); </span><br><span class="line">context.stroke();</span><br></pre></td></tr></table></figure>

<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/951d928599f1ea8d127cf7eaa1d5d527-54981" alt="é€æ˜æ•ˆæœ"></p>
</li>
<li><p>canvasæ”¯æŒåˆæˆæ“ä½œï¼Œå°±æ˜¯æ€ä¹ˆæ˜¾ç¤ºä¸¤ä¸ªé‡å çš„å›¾å½¢ï¼Œé»˜è®¤æ˜¯source-overï¼Œå³æ–°ç»˜åˆ¶çš„å›¾å½¢ä¼šä½äºå…ˆç»˜åˆ¶çš„å›¾å½¢ä¹‹ä¸Šï¼Œè¿˜æœ‰å…¶ä»–çš„åˆæˆæ“ä½œï¼Œåªè¦åœ¨ç”»åé¢çš„å›¾å½¢ä¹‹å‰è®¾ç½®ç»˜å›¾ä¸Šä¸‹æ–‡çš„ globalCompositeOperationå±æ€§å³å¯ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/7f8048bc4eae9e0b864635799768da31-103963" alt="åˆæˆæ“ä½œ"></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> canvas = <span class="built_in">document</span>.getElementById(<span class="string">"drawingCanvas"</span>); </span><br><span class="line"><span class="keyword">var</span> context = canvas.getContext(<span class="string">"2d"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç»˜åˆ¶çŸ©å½¢ </span></span><br><span class="line">context.fillStyle = <span class="string">"blue"</span>; </span><br><span class="line">context.fillRect(<span class="number">15</span>,<span class="number">15</span>,<span class="number">70</span>,<span class="number">70</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//é€‰æ‹©globalCompositeOperation </span></span><br><span class="line">context.globalCompositeOperation = <span class="string">"source-atop"</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//åœ¨ä¸Šæ–¹ç»˜åˆ¶åœ†å½¢ </span></span><br><span class="line">context.fillStyle = <span class="string">"red"</span>;</span><br><span class="line">context.beginPath(); </span><br><span class="line">context.arc(<span class="number">75</span>, <span class="number">75</span>, <span class="number">35</span>, <span class="number">0</span>, <span class="built_in">Math</span>.PI*<span class="number">2</span>, <span class="literal">true</span>); </span><br><span class="line">context.fill();</span><br></pre></td></tr></table></figure>

<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/e521feb21d85a0da7c2e5ea3e9c92c68-15938" alt="åˆæˆæ“ä½œæ•ˆæœ"></p>
</li>
<li><p>ä½¿ç”¨javaScriptå®ç°ç”»å›¾æ¿ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span> &gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">title</span>&gt;</span>This is canvas Test<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">"text/css"</span>&gt;</span></span><br><span class="line">	canvas &#123; </span><br><span class="line">		border: 1px dashed black; </span><br><span class="line">	&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line"><span class="javascript">	<span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript"><span class="keyword">var</span> canvas = <span class="built_in">document</span>.getElementById(<span class="string">"drawingCanvas"</span>); </span></span><br><span class="line"><span class="actionscript"><span class="keyword">var</span> context = canvas.getContext(<span class="string">"2d"</span>);</span></span><br><span class="line"></span><br><span class="line"><span class="actionscript"><span class="comment">//æ·»åŠ ç”¨äºå®ç°ç»˜å›¾æ“ä½œçš„äº‹ä»¶å¤„ç†ç¨‹åº </span></span></span><br><span class="line">canvas.onmousedown = startDrawing; </span><br><span class="line">canvas.onmouseup = stopDrawing; </span><br><span class="line">canvas.onmouseout = stopDrawing; </span><br><span class="line">canvas.onmousemove = draw;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="actionscript"><span class="keyword">var</span> isDrawing = <span class="literal">false</span>;</span></span><br><span class="line"><span class="actionscript"><span class="function"><span class="keyword">function</span> <span class="title">startDrawing</span><span class="params">(e)</span> </span>&#123; </span></span><br><span class="line"><span class="actionscript"><span class="comment">//å¼€å§‹ç»˜å›¾äº† </span></span></span><br><span class="line"><span class="actionscript">isDrawing = <span class="literal">true</span>;</span></span><br><span class="line"><span class="actionscript">	<span class="comment">//åˆ›å»ºæ–°è·¯å¾„ï¼ˆä½¿ç”¨å½“å‰è®¾ç½®å¥½çš„æè¾¹é¢œè‰²å’Œçº¿æ¡ç²—ç»†ï¼‰ </span></span></span><br><span class="line">	context.beginPath();</span><br><span class="line"></span><br><span class="line"><span class="actionscript"><span class="comment">//æŠŠç”»ç¬”æ”¾åˆ°é¼ æ ‡å½“å‰æ‰€åœ¨ä½ç½®</span></span></span><br><span class="line">context.moveTo(e.pageX - canvas.offsetLeft, e.pageY - canvas.offsetTop);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="actionscript"><span class="function"><span class="keyword">function</span> <span class="title">draw</span><span class="params">(e)</span> </span>&#123;</span></span><br><span class="line"></span><br><span class="line"><span class="actionscript"><span class="keyword">if</span> (isDrawing == <span class="literal">true</span>) &#123; </span></span><br><span class="line"><span class="actionscript"><span class="comment">//æ‰¾åˆ°é¼ æ ‡çš„æ–°ä½ç½® </span></span></span><br><span class="line"><span class="actionscript"><span class="keyword">var</span> x = e.pageX - canvas.offsetLeft; </span></span><br><span class="line"><span class="actionscript"><span class="keyword">var</span> y = e.pageY - canvas.offsetTop;</span></span><br><span class="line"></span><br><span class="line"><span class="actionscript"><span class="comment">//ç”»ä¸€æ¡åˆ°æ–°ä½ç½®çš„çº¿ </span></span></span><br><span class="line">context.lineTo(x, y); context.stroke();</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="actionscript"><span class="function"><span class="keyword">function</span> <span class="title">stopDrawing</span><span class="params">()</span> </span>&#123; </span></span><br><span class="line"><span class="actionscript">	isDrawing = <span class="literal">false</span>;</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">canvas</span> <span class="attr">id</span>=<span class="string">"drawingCanvas"</span> <span class="attr">width</span>=<span class="string">"500"</span> <span class="attr">height</span>=<span class="string">"300"</span>&gt;</span><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/9e69d76d52a2a67287e652d3f6281a2b-22773" alt="æ•ˆæœ"></p>
</li>
<li><p>canvaså…ƒç´ æä¾›äº†ä¸‰ä¸ªåŸºæœ¬çš„æ–¹æ³•å°†ç”»å¸ƒä¿å­˜ä¸ºå›¾åƒï¼š</p>
<ul>
<li>ä½¿ç”¨æ•°æ®URLï¼ŒæŠŠç”»å¸ƒè½¬æ¢ä¸ºä¸€å¹…å›¾åƒæ–‡ä»¶ï¼Œç„¶åå°†å›¾åƒæ•°æ®è½¬æ¢ä¸ºå­—ç¬¦åºåˆ—å¹¶ç¼–ç ä¸ºURLå½¢å¼</li>
<li>ä½¿ç”¨getImageData()æ–¹æ³•ï¼Œå–å¾—åŸå§‹çš„åƒç´ æ•°æ®ï¼Œç„¶åå¯ä»¥ç»§ç»­æ ¹æ®éœ€è¦æ“ä½œè¿™äº›æ•°æ®</li>
<li>ä¿å­˜ä¸€ç»„â€œæ­¥éª¤â€ï¼Œå¯ä»¥æŠŠåœ¨ç”»å¸ƒä¸Šç»˜åˆ¶çš„æ¯ä¸€æ¡çº¿éƒ½ä¿å­˜åˆ°ä¸€ä¸ªæ•°ç»„ä¸­</li>
</ul>
</li>
<li><p>ä½¿ç”¨æ•°æ®URLï¼Œæä¾›å‚æ•°å¯ä»¥æŒ‡å®šå¾—åˆ°ç±»å‹çš„å›¾åƒï¼Œé»˜è®¤pngæ ¼å¼ï¼Œå¯ä»¥é€šè¿‡ä¼ å…¥æƒ³è¦çš„å›¾åƒçš„MIMEç±»å‹å¾—åˆ°ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> url = canvas.toDataURL();</span><br><span class="line"><span class="keyword">var</span> url = canvas.toDataURL(<span class="string">"image/jpeg"</span>);</span><br></pre></td></tr></table></figure>

<ul>
<li>æ•°æ®URLå°±æ˜¯ä¸€ä¸ªä»¥ data:image/png;base64å¼€å¤´çš„base-64ç¼–ç çš„å­—ç¬¦ä¸²;</li>
<li>Base-64ç¼–ç æ˜¯ä¸€ç§å°†å›¾åƒæ•°æ®è½¬æ¢æˆé•¿å­—ç¬¦ä¸²çš„ç¼–ç æ–¹æ³•ï¼Œ é•¿å­—ç¬¦ä¸²ç”±å­—ç¬¦ã€æ•°å­—åŠå°‘é‡ç‰¹æ®Šå­—ç¬¦ç»„æˆ;</li>
</ul>
</li>
</ol>
<h2 id="é«˜çº§ç»˜å›¾"><a href="#é«˜çº§ç»˜å›¾" class="headerlink" title="é«˜çº§ç»˜å›¾"></a>é«˜çº§ç»˜å›¾</h2><ol>
<li><p>ç»˜å›¾ä¸Šä¸‹æ–‡æä¾›äº†drawImage()æ–¹æ³•ï¼Œç”¨äºåœ¨ç”»å¸ƒä¸Šç»˜åˆ¶å›¾ç‰‡ï¼Œè°ƒç”¨ å®ƒçš„æ—¶å€™ä¼ å…¥ç›¸åº”çš„å›¾ç‰‡å¯¹è±¡åŠèµ·ç‚¹åæ ‡å³å¯ï¼›</p>
</li>
<li><p>å¯ä»¥ç»™drawImage()å‡½æ•°ä¼ é€’ä¸€äº›å¯é€‰çš„å‚æ•°ï¼Œä»è€Œå½±å“åœ¨ç”»å¸ƒä¸Šç»˜åˆ¶å›¾ç‰‡çš„æ–¹å¼ï¼›</p>
</li>
<li><p><strong>å¯ä»¥åˆ©ç”¨ä¸€ä¸ªè®¡æ—¶å™¨æ¥ä¸æ–­æ•è·æ’­æ”¾ä¸­çš„è§†é¢‘ï¼Œç„¶åä¸æ–­å°†æ–°ç”»é¢ç»˜åˆ¶åˆ°ç”»å¸ƒä¸Š</strong></p>
</li>
<li><p>è®¾ç½®å¥½å­—ä½“åå°±å¯ä»¥è°ƒç”¨fillText()æ–¹æ³•ç»˜åˆ¶æ–‡æœ¬å†…å®¹ï¼›</p>
</li>
<li><p>é˜´å½±ç›¸å…³çš„å†…å®¹ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/ff9bf1292a02428da02d86b19802384a-321024" alt="é˜´å½±ç›¸å…³çš„å±æ€§"></p>
</li>
<li><p>è¿˜å¯ä»¥å¡«å……æ¸å˜æ•ˆæœï¼Œç»˜å›¾ä¸Šä¸‹æ–‡ä¸ºæ­¤æä¾›äº†ä¸¤ä¸ªæ–¹ æ³•ï¼šcreateLinearGradient()å’ŒcreateRadialGradient()ï¼›</p>
</li>
<li><p>åªè¦åˆ›å»ºäº¤äº’å›¾å½¢ï¼Œå‡ ä¹å°±ä¸€å®šè¦ç”¨åˆ°ç¢°æ’æ£€æµ‹ï¼Œä¹Ÿå°±æ˜¯æµ‹è¯•æŸä¸ªç‚¹æ˜¯å¦â€œç¢°åˆ°â€äº†æŸä¸ªå›¾å½¢ï¼Œä¸€äº›æ¯”è¾ƒå®Œå–„çš„åŠ¨ç”»å¼€å‘æ¡†æ¶ï¼ˆæ¯”å¦‚Flashæˆ–Silverlighï¼‰å¯ä»¥å¸®ä½ åšç¢°æ’æ£€æµ‹ï¼›</p>
</li>
<li><p>é«˜çº§ç»˜å›¾æƒ³è¦å¿«é€Ÿå¼€å‘ï¼Œå¯ä»¥å€ŸåŠ©ä¸€äº›åº“ï¼<a href="https://www.benjoffe.com/code/demos/canvascape" target="_blank" rel="noopener">3dæ•ˆæœå›¾</a></p>
</li>
<li><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API/Tutorial" target="_blank" rel="noopener">Mozillaæ•™ç¨‹</a></p>
</li>
</ol>
<hr>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>HTML5çš„å†…å®¹è¿œä¸æ­¢è¿™äº›ï¼Œåœ¨è¿™éƒ¨åˆ†ä¸»è¦ä»‹ç»äº†ç”»å¸ƒcanvasè¿™ä¸ªå…ƒç´ çš„ç‰¹æ€§ï¼Œå½“ç„¶è¿™éƒ¨åˆ†ä¸æ˜¯å®Œå…¨å°±ä»‹ç»å®Œäº†ï¼ŒæŠ€æœ¯æ°¸è¿œéƒ½åœ¨å˜åŒ–ï¼Œéƒ½åœ¨æ›´æ–°ï¼Œéœ€è¦çš„æ—¶å€™å†å»æ›´æ·±å…¥è¿™éƒ¨åˆ†ï¼Œå½“ç„¶å‚è€ƒä¹¦ç±çš„ç¬¬ä¸‰éƒ¨åˆ†Webç›¸å…³çš„å¤§è‡´è¿‡äº†ä¸€éï¼Œå¹¶æ²¡æœ‰åšç¬”è®°ï¼Œåç»­å¦‚æœæœ‰ç”¨åˆ°å†è¡¥ä¸Šç¬”è®°å§ï¼Œé‚£ä¹Ÿè®¸æ˜¯æˆ‘æƒ³æ·±å…¥å‰ç«¯æŠ€æœ¯çš„æ—¶å€™ï¼</p>
]]></content>
      <categories>
        <category>Web</category>
      </categories>
  </entry>
  <entry>
    <title>HTTP Quick Start</title>
    <url>/2020/05/30/HTTP-Quick-Start/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>åªè¦åœ¨äº’è”ç½‘è¡Œä¸šä»äº‹æŠ€æœ¯å¼€å‘ï¼Œæ— è®ºæ˜¯å‰ç«¯è¿˜æ˜¯åç«¯ï¼Œç½‘ç»œç›¸å…³çš„åŸºç¡€çŸ¥è¯†è¿™ä¸€è¯¾ç»ˆç©¶æ˜¯èº²ä¸è¿‡å»çš„ï¼æ— è®ºæ˜¯æœåŠ¡å™¨ç«¯è¦é¢å¯¹çš„å¤§è´Ÿè½½å’Œé«˜å¹¶å‘ï¼Œè¿˜æ˜¯å®¢æˆ·ç«¯è¦é¢å¯¹çš„æœ‰é™è®¡ç®—èµ„æºå’Œå¼±ç½‘é€šä¿¡ç¯å¢ƒï¼Œæœ€åéƒ½ç¦»ä¸å¼€å¯¹ç½‘ç»œçš„æ·±å…¥ç†è§£ã€‚*<em>æ¨èä¹¦ç±ï¼šã€ŠHTTP/2 åŸºç¡€æ•™ç¨‹ã€‹Â· [ç¾] Stephen Ludin  Javier Garza è‘— ç½—æ­£é¾™ éƒ‘ç»´æ™º è¯‘ ã€ŠHTTP æƒå¨æŒ‡å—ã€‹Â· [ç¾] David Gourleyï¼ŒBrian Tottyç­‰è‘— é™ˆæ¶“ èµµæŒ¯å¹³è¯‘   *</em></p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="åŸºç¡€çŸ¥è¯†"><a href="#åŸºç¡€çŸ¥è¯†" class="headerlink" title="åŸºç¡€çŸ¥è¯†"></a>åŸºç¡€çŸ¥è¯†</h2><ol>
<li><p>Webï¼ˆå…¨ç§° World Wide Webï¼‰çš„å››å¤§æŠ€æœ¯åŸºçŸ³æ˜¯ URIã€HTMLã€HTTP å’Œ MIMEï¼›</p>
</li>
<li><p>HTTP/2ï¼Œ ç®€ç§° h2ï¼Œ æ˜¯ä¸‡ç»´ç½‘ï¼ˆWorld Wide Webï¼‰æ‰€ä½¿ç”¨çš„ HTTP ç½‘ç»œåè®®çš„ä¸€ä¸ªé‡å¤§ä¿®è®¢ç‰ˆæœ¬ï¼Œå…¶ç›®çš„æ˜¯æå‡åŠ è½½ Web å†…å®¹æ—¶çš„æ„ŸçŸ¥æ€§èƒ½ï¼›</p>
</li>
<li><p><strong>Google çš„ä¸€é¡¹ç ”ç©¶è¡¨æ˜ï¼Œ ç”šè‡³ 400 æ¯«ç§’ï¼ˆä¸€çœ¨çœ¼çš„æ—¶é—´ï¼‰çš„å»¶è¿Ÿï¼Œéƒ½å¯èƒ½é™ä½äººä»¬çš„æœç´¢æ„æ„¿ï¼</strong></p>
</li>
<li><p>HTTPè¯·æ±‚ï¼Œä»¥åŠå¤„ç†è¯·æ±‚åçš„æ¸²æŸ“è¿‡ç¨‹å¦‚ä¸‹ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/b08815f54a3f4cd3cf2ff677721c318d-387857" alt="è¯·æ±‚"></p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/85419871c57fbcf83871b27bfa115168-360479" alt="æ¸²æŸ“"></p>
</li>
<li><p>å…³é”®æ€§èƒ½æŒ‡æ ‡ï¼š</p>
<ul>
<li>å»¶è¿Ÿï¼ŒæŒ‡ IP æ•°æ®åŒ…ä»ä¸€ä¸ªç½‘ç»œç«¯ç‚¹åˆ°å¦ä¸€ä¸ªç½‘ç»œç«¯ç‚¹æ‰€èŠ±è´¹çš„æ—¶é—´ï¼ˆä¸»è¦ç“¶é¢ˆï¼‰</li>
<li>å¸¦å®½ï¼Œåªè¦å¸¦å®½æ²¡æœ‰é¥±å’Œï¼Œ ä¸¤ä¸ªç½‘ç»œç«¯ç‚¹ä¹‹é—´çš„è¿æ¥ä¼šä¸€æ¬¡å¤„ç†å°½å¯èƒ½å¤šçš„æ•°æ®é‡</li>
<li>DNSæŸ¥è¯¢ï¼Œé€šè¿‡åŸŸåç³»ç»Ÿï¼ˆDNSï¼‰æŠŠä¸»æœºåç§°è½¬æ¢æˆ IP åœ°å€</li>
<li>å»ºç«‹è¿æ¥æ—¶é—´ï¼Œå»ºç«‹è¿æ¥éœ€è¦å¾€è¿”æ•°æ®åº”ç­”ï¼Œ ç§°ä¸ºâ€œä¸‰æ¬¡æ¡æ‰‹â€ï¼Œæ¡æ‰‹æ—¶é—´ä¸€ èˆ¬ä¸å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´çš„å»¶è¿Ÿæœ‰å…³</li>
<li>TLSåå•†æ—¶é—´ï¼Œå®¢æˆ·ç«¯å‘èµ· HTTPS è¿æ¥ï¼Œåˆ™è¿˜éœ€è¦è¿›è¡Œä¼ è¾“å±‚å®‰å…¨åè®®ï¼ˆTLSï¼‰åå•†</li>
<li>é¦–å­—èŠ‚æ—¶é—´ ï¼ˆTTFBï¼‰ï¼ŒæŒ‡å®¢æˆ·ç«¯ä»å¼€å§‹å®šä½åˆ°Webé¡µé¢ï¼Œ è‡³æ¥æ”¶åˆ°ä¸»ä½“é¡µé¢å“åº”çš„ç¬¬ä¸€å­—èŠ‚æ‰€è€—è´¹çš„æ—¶é—´</li>
<li>å†…å®¹ä¸‹è½½æ—¶é—´ï¼Œç­‰åŒäºè¢«è¯·æ±‚èµ„æºçš„æœ€åå­—èŠ‚åˆ°è¾¾æ—¶é—´ï¼ˆTTLBï¼‰</li>
<li>å¼€å§‹æ¸²æŸ“æ—¶é—´ï¼ŒæŒ‡çš„æ˜¯ç”¨æˆ·çœ‹åˆ°ç©ºç™½é¡µé¢çš„æ—¶é•¿</li>
<li>æ–‡æ¡£åŠ è½½å®Œæˆæ—¶é—´ ï¼ˆ åˆå«é¡µé¢åŠ è½½æ—¶é—´ ï¼‰ï¼Œæ˜¯å®¢æˆ·ç«¯æµè§ˆå™¨è®¤ä¸ºé¡µé¢åŠ è½½å®Œæ¯•çš„æ—¶é—´</li>
</ul>
</li>
<li><p>Webæ€§èƒ½ä¼˜åŒ–ç­–ç•¥ï¼š</p>
<ul>
<li>DNSæŸ¥è¯¢ä¼˜åŒ–<ul>
<li>é™åˆ¶ä¸åŒåŸŸåçš„æ•°é‡</li>
<li>ä¿è¯ä½é™åº¦çš„è§£æå»¶è¿Ÿ</li>
<li>åœ¨ä¸»ä½“é¡µé¢ HTML æˆ–å“åº”ä¸­åˆ©ç”¨ DNS é¢„å–æŒ‡ä»¤</li>
</ul>
</li>
<li>ä¼˜åŒ–TCPè¿æ¥<ul>
<li>åˆ©ç”¨ preconnect æŒ‡ä»¤ï¼Œè¿æ¥åœ¨ä½¿ç”¨ä¹‹å‰å°±å·²ç»å»ºç«‹å¥½äº†ï¼Œè¿™æ ·å¤„ç†æµç¨‹çš„å…³é”®è·¯å¾„ä¸Šå°±ä¸å¿…è€ƒè™‘è¿æ¥æ—¶é—´äº†</li>
<li>å°½æ—©ç»ˆæ­¢å¹¶å“åº”ï¼Œå€ŸåŠ© CDNï¼Œ åœ¨è·ç¦»è¯·æ±‚ç”¨æˆ·å¾ˆè¿‘çš„è¾¹ç¼˜ç«¯ç‚¹ä¸Šï¼Œè¯·æ±‚å°±å¯ä»¥è·å¾—å“åº”</li>
<li>å®æ–½æœ€æ–°çš„ TLS æœ€ä½³å®è·µæ¥ä¼˜åŒ– HTTPS</li>
</ul>
</li>
<li>é¿å…é‡å®šå‘<ul>
<li>åˆ©ç”¨ CDN ä»£æ›¿å®¢æˆ·ç«¯åœ¨äº‘ç«¯å®ç°é‡å®šå‘</li>
<li>å¦‚æœæ˜¯åŒä¸€åŸŸåçš„é‡å®šå‘ï¼Œä½¿ç”¨ Web æœåŠ¡å™¨ä¸Šçš„ rewrite è§„åˆ™ï¼Œé¿å…é‡å®šå‘</li>
</ul>
</li>
<li>å®¢æˆ·ç«¯ç¼“å­˜</li>
<li>ç½‘ç»œè¾¹ç¼˜çš„ç¼“å­˜</li>
<li>æ¡ä»¶ç¼“å­˜<ul>
<li>åœ¨è¯·æ±‚ä¸­åŒ…å« HTTP é¦–éƒ¨ Last-Modiï¬ed-Since</li>
<li>åœ¨è¯·æ±‚ä½“ä¸­åŒ…å«å®ä½“æ ¡éªŒç ï¼Œæˆ–è€…å« ETag</li>
</ul>
</li>
<li>å‹ç¼©å’Œä»£ç æç®€åŒ–<ul>
<li>æç®€åŒ–ï¼ˆminiï¬cationï¼‰æ˜¯æŒ‡ä»æ–‡æœ¬èµ„æºä¸­å‰¥ç¦»æ‰€æœ‰éæ ¸å¿ƒå†…å®¹çš„è¿‡ç¨‹</li>
</ul>
</li>
<li>é¿å…é˜»å¡CSS/JS</li>
<li>å›¾ç‰‡ä¼˜åŒ–</li>
</ul>
</li>
<li><p>HTTP/2æ”¯æŒæƒ…å†µï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/b1a807e38710f046ea479dba680f42e1-146243" alt="HTTP/2æ”¯æŒæƒ…å†µ"></p>
</li>
<li><p>MIMEï¼ˆMultipurpose Internet Mail Extensionï¼Œ å¤šç”¨é€”å› ç‰¹ç½‘é‚®ä»¶æ‰©å±•ï¼‰</p>
<ul>
<li>HTMLæ ¼å¼çš„æ–‡æœ¬æ–‡æ¡£ç”±text/htmlç±»å‹æ¥æ ‡è®°</li>
<li>æ™®é€šçš„ ASCII æ–‡æœ¬æ–‡æ¡£ç”±text/plainç±»å‹æ¥æ ‡è®°</li>
<li>JPEGç‰ˆæœ¬çš„å›¾ç‰‡ä¸ºimage/jpegç±»å‹æ¥æ ‡è®°</li>
<li>GIFæ ¼å¼çš„å›¾ç‰‡ä¸ºimage/gifç±»å‹æ¥æ ‡è®°</li>
<li>Apple çš„ QuickTime ç”µå½±ä¸ºvideo/quicktimeç±»å‹æ¥æ ‡è®°</li>
<li>å¾®è½¯çš„PowerPointæ¼”ç¤ºæ–‡ä»¶ä¸ºapplication/vnd.ms-powerpointç±»å‹æ¥æ ‡è®°</li>
</ul>
</li>
<li><p>æœåŠ¡å™¨èµ„æºåè¢«ç§°ä¸ºç»Ÿä¸€èµ„æºæ ‡è¯†ç¬¦ï¼ˆUniform Resource Identiï¬erï¼ŒURIï¼‰ï¼ŒURI æœ‰ä¸¤ç§å½¢å¼ï¼Œ åˆ†åˆ«ç§°ä¸º URL å’Œ URN</p>
</li>
<li><p>ç»Ÿä¸€èµ„æºå®šä½ç¬¦ï¼ˆURLï¼‰æ˜¯èµ„æºæ ‡è¯†ç¬¦æœ€å¸¸è§çš„å½¢å¼ï¼ŒURL æè¿°äº†ä¸€å°ç‰¹å®šæœåŠ¡å™¨ä¸ŠæŸèµ„æºçš„ç‰¹å®šä½ç½®</p>
</li>
<li><p>ç»Ÿä¸€èµ„æºå ï¼ˆURNï¼‰æ˜¯ä½œä¸ºç‰¹å®šå†…å®¹çš„å”¯ä¸€åç§°ä½¿ç”¨çš„ï¼Œä¸ç›®å‰çš„èµ„æºæ‰€åœ¨åœ°æ— å…³</p>
</li>
<li><p>HTTP æ”¯æŒå‡ ç§ä¸åŒçš„è¯·æ±‚å‘½ä»¤ï¼Œ è¿™äº›å‘½ä»¤è¢«ç§°ä¸º HTTP æ–¹æ³• ï¼ˆHTTP methodï¼‰</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/04ad6f35eaa3158deb92fdc8f01e9231-335922" alt="å¸¸è§HTTPæ–¹æ³•"></p>
</li>
<li><p>HTTP æŠ¥æ–‡åŒ…å«ï¼š</p>
<ul>
<li>èµ·å§‹è¡Œï¼Œåœ¨è¯·æ±‚æŠ¥æ–‡ä¸­ç”¨æ¥è¯´æ˜è¦åšäº›ä»€ä¹ˆï¼Œ åœ¨å“åº”æŠ¥æ–‡ä¸­è¯´ æ˜å‡ºç°äº†ä»€ä¹ˆæƒ…å†µ</li>
<li>é¦–éƒ¨å­—æ®µï¼Œæ¯ä¸ªé¦–éƒ¨å­—æ®µéƒ½åŒ…å«ä¸€ä¸ªåå­—å’Œä¸€ä¸ªå€¼ï¼Œ ä¸ºäº†ä¾¿äºè§£æï¼Œ ä¸¤è€…ä¹‹é—´ç”¨å†’å·ï¼ˆ:ï¼‰æ¥åˆ†éš”</li>
<li>ä¸»ä½“ï¼ŒåŒ…å«äº†æ‰€æœ‰ç±»å‹çš„æ•°æ®</li>
</ul>
</li>
<li><p>Webæœºæ„ç»„ä»¶ï¼š</p>
<ul>
<li>ä»£ç†ï¼Œä½äºå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´çš„HTTPä¸­é—´å®ä½“ï¼Œé€šå¸¸ä¼šå°†ä»£ç†ä½œä¸ºè½¬å‘æ‰€æœ‰ Web æµé‡çš„å¯ä¿¡ä»»ä¸­é—´èŠ‚ç‚¹ä½¿ç”¨</li>
<li>ç¼“å­˜ï¼ŒHTTPçš„ä»“åº“ï¼Œä½¿å¸¸ç”¨é¡µé¢çš„å‰¯æœ¬å¯ä»¥ä¿å­˜åœ¨ç¦»å®¢æˆ·ç«¯æ›´è¿‘çš„åœ°æ–¹</li>
<li>ç½‘å…³ï¼Œè¿æ¥å…¶ä»–åº”ç”¨ç¨‹åºçš„ç‰¹æ®Š Web æœåŠ¡å™¨</li>
<li>éš§é“ï¼Œå¯¹ HTTP é€šä¿¡æŠ¥æ–‡è¿›è¡Œç›²è½¬å‘çš„ç‰¹æ®Šä»£ç†</li>
<li>Agentä»£ç†ï¼Œå‘èµ·è‡ªåŠ¨ HTTP è¯·æ±‚çš„åŠæ™ºèƒ½ Web å®¢æˆ·ç«¯</li>
</ul>
</li>
</ol>
<h2 id="è¿ç§»åˆ°TLS"><a href="#è¿ç§»åˆ°TLS" class="headerlink" title="è¿ç§»åˆ°TLS"></a>è¿ç§»åˆ°TLS</h2><ol>
<li>æ¯ç§WebæœåŠ¡å™¨é…ç½®HTTPSçš„æ–¹å¼éƒ½ç•¥æœ‰å·®å¼‚ï¼›</li>
<li>è·å¾—è¯ä¹¦ï¼šè·å–ç½‘ç«™çš„è¯ä¹¦é€šå¸¸è¦å®Œæˆå‡ ä¸ªæ­¥éª¤ï¼ŒåŒ…æ‹¬åˆ›å»ºè¯ä¹¦ç­¾åè¯·æ±‚ï¼ˆCSRï¼‰ï¼ŒéªŒè¯ä½ çš„èº«ä»½å’Œè¯ä¹¦æ‰€æœ‰è€…ï¼Œç„¶ åä»è¯ä¹¦é¢å‘æœºæ„ï¼ˆCAï¼‰è´­ä¹°è¯ä¹¦ï¼›</li>
<li>ä¿æŠ¤ç§é’¥ï¼šè¯ä¹¦æ˜¯å¦å®‰å…¨å®Œå…¨å–å†³äºå¼€å‘äººå‘˜ï¼Œä¸ºäº†ä½¿ç½‘ç«™å®‰å…¨åœ°åŸºäº TLS è¿è¡Œï¼Œåº”è¯¥è€ƒè™‘ç§é’¥å­˜æ”¾çš„æ–¹å¼ã€ä½ç½®ï¼Œä»¥åŠå“ªäº›äººæœ‰è®¿é—®æƒé™ï¼›</li>
<li>ä¸ºå¢åŠ çš„æœåŠ¡å™¨è´Ÿè½½åšå‡†å¤‡</li>
</ol>
<h2 id="HTTP-2åè®®"><a href="#HTTP-2åè®®" class="headerlink" title="HTTP/2åè®®"></a>HTTP/2åè®®</h2><ol>
<li><p>HTTP/2 å¤§è‡´å¯ä»¥åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼šåˆ†å¸§å±‚ï¼Œå³ h2 å¤šè·¯å¤ç”¨èƒ½åŠ›çš„æ ¸å¿ƒéƒ¨åˆ†ï¼›æ•°æ®æˆ– http å±‚ï¼Œå…¶ä¸­åŒ…å«ä¼ ç»Ÿä¸Šè¢«è®¤ä¸ºæ˜¯ HTTP åŠå…¶å…³è”æ•°æ®çš„éƒ¨åˆ†ï¼›</p>
</li>
<li><p>åˆ†å¸§å±‚æ˜¯åŸºäºå¸§çš„äºŒè¿›åˆ¶åè®®ï¼Œé¦–éƒ¨ä¼šè¿›è¡Œæ·±åº¦å‹ç¼©ï¼Œæ˜¾è‘—å‡å°‘ä¼ è¾“ä¸­çš„å†—ä½™å­—èŠ‚ï¼›</p>
</li>
<li><p>é‡‡ç”¨åˆ†å¸§æ˜¯ä¸ºäº†å°†é‡è¦ä¿¡æ¯éƒ½å°è£…èµ·æ¥ï¼Œ è®©åè®®çš„è§£ææ–¹å¯ä»¥è½»æ¾é˜…è¯»ã€è§£æå¹¶è¿˜åŸä¿¡æ¯ï¼›</p>
</li>
<li><p>HTTP/2å¸§ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/20669ef5edd047ed3381bd310286ef87-265576" alt="å¸§ç»“æ„é¦–éƒ¨å­—æ®µ"></p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/522f617877498df016f9226440177091-377841" alt="å¸§ç±»å‹"></p>
</li>
<li><p>HTTP/2 è¿æ¥ä¸Šç‹¬ç«‹çš„ã€åŒå‘çš„å¸§åºåˆ—äº¤æ¢ï¼›</p>
</li>
<li><p>HTTP/2 åè®®çš„åˆ¶å®šç»è¿‡äº†è®¸å¤šå¹´ï¼ŒåŒ…å«äº†å„ç§è®¾è®¡ç†å¿µã€å†³ç­–ã€åˆ›æ–°ï¼Œä»¥åŠå¦¥å</p>
</li>
</ol>
<h2 id="HTTP-2è°ƒè¯•"><a href="#HTTP-2è°ƒè¯•" class="headerlink" title="HTTP/2è°ƒè¯•"></a>HTTP/2è°ƒè¯•</h2><ol>
<li><p>å¤§å¤šæ•°ç°ä»£çš„æµè§ˆå™¨éƒ½åŒ…å« Web å¼€å‘è€…å·¥å…·ï¼Œå®ƒä»¬å¯¹è°ƒè¯• h2 éå¸¸æœ‰ç”¨ï¼›</p>
</li>
<li><p>è°·æ­Œæµè§ˆå™¨è°ƒè¯•å·¥å…·ï¼š</p>
<ol>
<li><p>net-internalsï¼šåœ°å€æ è¾“å…¥chrome://net-internalsè®¿é—®è°·æ­Œæµè§ˆå™¨çš„net-internalsåŠŸèƒ½ï¼Œå¯ä»¥æŸ¥çœ‹ç½‘ç»œæ•°æ®ï¼ŒåŒ…æ‹¬æ•è·/å¯¼å‡º/å¯¼å…¥åº•å±‚ç½‘ç»œæ•°æ®ã€æ£€æŸ¥ç½‘ç»œå’ŒDNSæ—¥å¿—ã€ä»¥å›¾å½¢ç•Œé¢æ˜¾ç¤ºç½‘ç»œæ´»åŠ¨ï¼›</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/01600486b355284f6446a8d1acaca9e9-48665" alt="net-internals"></p>
</li>
<li><p>æœåŠ¡ç«¯æ¨é€çš„å¯è§†åŒ–:Chrome å¼€å‘è€…å·¥å…·ä¸­çš„ Network æ ï¼Œ æœ‰åŠ©äºç®€å•ç›´è§‚åœ°è·Ÿè¸ªå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯çš„é€šè®¯</p>
</li>
</ol>
</li>
<li><p>ä½¿ç”¨Charles Proxyçš„è®¡ç®—æœºå¯ä»¥æ¥è°ƒè¯• iOS è®¾å¤‡ï¼ŒCharles Proxy æ˜¯ä¸€ä¸ªä»£ç†ï¼ˆproxyï¼‰ï¼ŒæŠŠå®ƒè®¾ç½®ä¸ºè®¾å¤‡è®¿é—®ç½‘ç»œçš„ä»£ç†ï¼Œå°±å¯ä»¥æ¸…æ¥šåœ°çœ‹åˆ°å½“å‰æ­£åœ¨å‘é€çš„è¯·æ±‚å’Œæ¥æ”¶çš„å“åº”ï¼›</p>
</li>
</ol>
<hr>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>åŸºç¡€çš„HTTPè®¤è¯†ï¼Œç®—æ˜¯æ™®åŠçŸ¥è¯†å‹ï¼æƒ³è¦åœ¨HTTPä¸Šæ·±å…¥ï¼Œè¿˜éœ€è¦ç†è§£HTTPSï¼</p>
]]></content>
      <categories>
        <category>HTTP</category>
      </categories>
  </entry>
  <entry>
    <title>HTTPS æƒå¨æŒ‡å—</title>
    <url>/2020/06/01/HTTPS-%E6%9D%83%E5%A8%81%E6%8C%87%E5%8D%97/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>HTTPSä¸ä»…å’ŒHTTPç›¸å…³ï¼Œè¿˜å’Œå¯†ç å­¦ç›¸å…³ã€‚å¯†ç å­¦è¿™é—¨å­¦ç§‘éå¸¸å¸å¼•äººï¼Œå¯¹è¿™ä¸ªé¢†åŸŸäº†è§£å¾—è¶Šå¤šï¼Œå®é™…ä¸Šå°±è¶Šä¸äº†è§£å®ƒï¼HTTPåœ¨æµè§ˆå™¨ä¸Šè¿ç”¨åŠ å¯†çš„æ–¹æ³•éå¸¸ç‰¹æ®Šï¼Œå¸¦æ¥äº†å¾ˆå¤šé—®é¢˜ï¼<strong>æ¨èä¹¦ç±ï¼šã€ŠHTTPSæƒå¨æŒ‡å— åœ¨æœåŠ¡å™¨å’ŒWebåº”ç”¨ä¸Šéƒ¨ç½²SSL/TLSå’ŒPKIã€‹Â· [è‹±] Ivan Ristic è‘— æ¨æ´‹ ææŒ¯å®‡ç­‰è¯‘</strong>     </p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="SSLã€-TLSå’Œå¯†ç å­¦"><a href="#SSLã€-TLSå’Œå¯†ç å­¦" class="headerlink" title="SSLã€ TLSå’Œå¯†ç å­¦"></a>SSLã€ TLSå’Œå¯†ç å­¦</h2><ol>
<li>æ‰€æœ‰è¿æ¥åˆ°äº’è”ç½‘çš„è®¾å¤‡éƒ½æœ‰ä¸€ä¸ªå…±åŒç‚¹ï¼Œä¾èµ–äºå®‰å…¨å¥—æ¥å­—å±‚ï¼ˆ secure socket layerï¼Œ SSLï¼‰å’Œä¼ è¾“å±‚å®‰å…¨ï¼ˆ transport layer securityï¼Œ TLSï¼‰åè®®ä¿æŠ¤ä¼ è¾“çš„ä¿¡æ¯ï¼›</li>
<li>SSLå’ŒTLSéƒ½æ˜¯åŠ å¯†åè®®ï¼Œæ—¨åœ¨åŸºäºä¸å®‰å…¨çš„åŸºç¡€è®¾æ–½æä¾›å®‰å…¨é€šä¿¡ï¼›</li>
<li>TLSå®é™…ä¸Šæœ‰ä»¥ä¸‹å››ä¸ªä¸»è¦ç›®æ ‡ ï¼š<ol>
<li>åŠ å¯†å®‰å…¨ï¼Œä¸ºä»»æ„æ„¿æ„äº¤æ¢ä¿¡æ¯çš„åŒæ–¹å¯ç”¨å®‰å…¨é€šä¿¡</li>
<li>äº’æ“ä½œæ€§ï¼Œç‹¬ç«‹çš„ç¼–ç¨‹äººå‘˜åº”è¯¥èƒ½å¤Ÿä½¿ç”¨é€šç”¨çš„åŠ å¯†å‚æ•°å¼€å‘ç¨‹åºå’Œåº“ï¼Œä½¿å®ƒä»¬å¯ä»¥ç›¸äº’é€šä¿¡</li>
<li>å¯æ‰©å±•æ€§ï¼ŒTLSæ˜¯ä¸€ç§èƒ½é«˜æ•ˆå¼€å‘å’Œéƒ¨ç½²åŠ å¯†åè®®çš„æ¡†æ¶</li>
<li>æ•ˆç‡ï¼Œåœ¨å®ç°ä¸Šè¿°æ‰€æœ‰ç›®æ ‡çš„åŸºç¡€ä¸Šä¿æŒæ€§èƒ½æˆæœ¬åœ¨å¯æ¥å—çš„èŒƒå›´å†…</li>
</ol>
</li>
<li>IPå’ŒTCPä¸æ˜¯å”¯ä¸€æ˜“å—æ”»å‡»çš„åè®®ï¼Œè¿˜æœ‰ä¸€ç³»åˆ—å…¶ä»–è·¯ç”±åè®®ç”¨äºååŠ©å‘ç°ç½‘ç»œä¸Šçš„å…¶ä»–è®¡ç®—æœºï¼›</li>
<li>éƒ¨ç½²æ­£ç¡®çš„å¯†ç èƒ½è§£å†³å®‰å…¨çš„ä¸‰ä¸ªæ ¸å¿ƒéœ€æ±‚ï¼šä¿æŒç§˜å¯†ï¼ˆ æœºå¯†æ€§ï¼‰ã€éªŒè¯èº«ä»½ï¼ˆ çœŸå®æ€§ï¼‰ï¼Œä»¥åŠä¿è¯ä¼ è¾“å®‰å…¨ï¼ˆ å®Œæ•´æ€§ï¼‰ï¼›</li>
<li>å¯¹ç§°åŠ å¯†ï¼ˆ symmetric encryptionï¼‰åˆç§°ç§é’¥åŠ å¯†ï¼ˆ private-key cryptographyï¼‰ï¼Œæ˜¯ä¸€ç§æ··æ·†ç®—æ³•ï¼Œèƒ½å¤Ÿè®©æ•°æ®åœ¨éå®‰å…¨ä¿¡é“ä¸Šè¿›è¡Œå®‰å…¨é€šä¿¡ï¼›</li>
<li>åºåˆ—å¯†ç ï¼ˆ stream cipherï¼‰å°†1å­—èŠ‚çš„æ˜æ–‡è¾“å…¥åŠ å¯†ç®—æ³•ï¼Œå°±å¾—åˆ°1å­—èŠ‚çš„å¯†æ–‡è¾“å‡ºï¼›</li>
<li>åˆ†ç»„å¯†ç ï¼ˆ block cipherï¼‰æ¯æ¬¡åŠ å¯†ä¸€æ•´å—æ•°æ®ï¼Œå¹¶ä¸”ç°ä»£çš„åˆ†ç»„å¯†ç å€¾å‘äºä½¿ç”¨128ä½ï¼ˆ 16å­—èŠ‚ï¼‰å¤§å°çš„å—ï¼›</li>
<li>æ•£åˆ—å‡½æ•°ï¼ˆ hash functionï¼‰æ˜¯å°†ä»»æ„é•¿åº¦çš„è¾“å…¥è½¬åŒ–ä¸ºå®šé•¿è¾“å‡ºçš„ç®—æ³•ï¼›</li>
<li>éå¯¹ç§°åŠ å¯†ï¼ˆ asymmetric encryptionï¼‰åˆç§°ä¸ºå…¬é’¥åŠ å¯†ï¼ˆpublic key cryptographyï¼‰ï¼Œå®ƒæ˜¯å¦ä¸€ç§æ–¹æ³•ï¼Œä½¿ç”¨ä¸¤ä¸ªå¯†é’¥ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªï¼›å…¶ä¸­ä¸€ä¸ªå¯†é’¥æ˜¯ç§å¯†çš„ï¼Œå¦ä¸€ä¸ªæ˜¯å…¬å¼€çš„ï¼›<ol>
<li>å¦‚æœæŸäººç”¨ç§é’¥åŠ å¯†æ•°æ®ï¼Œä»»ä½•äººéƒ½å¯ä»¥åˆ©ç”¨å¯¹åº”çš„å…¬é’¥<br>è§£å¼€æ¶ˆæ¯ï¼Œè¿™ç§æ“ä½œä¸æä¾›æœºå¯†æ€§ï¼Œä½†å¯ä»¥ç”¨ä½œæ•°å­—ç­¾å</li>
<li>å¦‚æœåˆ©ç”¨æŸäººçš„å…¬é’¥åŠ å¯†æ•°æ®ï¼Œé‚£ä¹ˆåªæœ‰ä»–ä»¬å¯¹åº”çš„ç§é’¥èƒ½å¤Ÿè§£å¯†</li>
</ol>
</li>
</ol>
<h2 id="åè®®"><a href="#åè®®" class="headerlink" title="åè®®"></a>åè®®</h2><ol>
<li>TLSæ˜¯ä¸€ç§å¯†ç å­¦åè®®ï¼Œç”¨äºä¿è¯ä¸¤ä¸ªå›¢ä½“ä¹‹é—´çš„ä¼šè¯å®‰å…¨ï¼›</li>
<li>TLSä»¥è®°å½•åè®®ï¼ˆ record protocolï¼‰å®ç°ï¼Œè®°å½•åè®®è´Ÿè´£åœ¨ä¼ è¾“è¿æ¥ä¸Šäº¤æ¢çš„æ‰€æœ‰åº•å±‚æ¶ˆæ¯ï¼Œå¹¶å¯ä»¥é…ç½®åŠ å¯†ï¼Œæ¯ä¸€æ¡TLSè®°å½•ä»¥ä¸€ä¸ªçŸ­æ ‡å¤´èµ·å§‹ï¼Œæ ‡å¤´åŒ…å«è®°å½•å†…å®¹çš„ç±»å‹ï¼ˆæˆ–å­åè®®ï¼‰ã€åè®®ç‰ˆæœ¬å’Œé•¿åº¦ï¼Œæ¶ˆæ¯æ•°æ®ç´§è·Ÿåœ¨æ ‡å¤´ä¹‹åï¼›</li>
<li>æ¡æ‰‹æ˜¯TLSåè®®ä¸­æœ€ç²¾å¯†å¤æ‚çš„éƒ¨åˆ†ï¼Œé€šä¿¡åŒæ–¹åå•†è¿æ¥å‚æ•°ï¼Œå¹¶ä¸”å®Œæˆèº«ä»½éªŒè¯ï¼š<ul>
<li>äº¤æ¢å„è‡ªæ”¯æŒçš„åŠŸèƒ½ï¼Œå¯¹éœ€è¦çš„è¿æ¥å‚æ•°è¾¾æˆä¸€è‡´</li>
<li>éªŒè¯å‡ºç¤ºçš„è¯ä¹¦ï¼Œæˆ–ä½¿ç”¨å…¶ä»–æ–¹å¼è¿›è¡Œèº«ä»½éªŒè¯ </li>
<li>å¯¹å°†ç”¨äºä¿æŠ¤ä¼šè¯çš„å…±äº«ä¸»å¯†é’¥è¾¾æˆä¸€è‡´</li>
<li>éªŒè¯æ¡æ‰‹æ¶ˆæ¯å¹¶æœªè¢«ç¬¬ä¸‰æ–¹å›¢ä½“ä¿®æ”¹       </li>
</ul>
</li>
<li>å¯†é’¥äº¤æ¢æ˜¯æ¡æ‰‹è¿‡ç¨‹ä¸­æœ€å¼•äººå…¥èƒœçš„éƒ¨åˆ†ï¼›</li>
<li>åœ¨TLSä¸­ï¼Œä¸ºäº†é¿å…é‡å¤æ‰§è¡Œå¯†ç æ“ä½œé€ æˆå·¨å¤§å¼€é”€ï¼Œèº«ä»½éªŒè¯ä¸å¯†é’¥äº¤æ¢ç´§ç´§æ†ç»‘åœ¨ä¸€èµ·ï¼›</li>
<li>TLSå¯ä»¥ä½¿ç”¨å„ç§æ–¹æ³•åŠ å¯†æ•°æ®ï¼Œæ¯”å¦‚ä½¿ç”¨3DESã€ AESã€ ARIAã€ CAMELLIAã€ RC4æˆ–è€…SEEDç­‰ç®—æ³•ï¼›</li>
<li>å¤§éƒ¨åˆ†TLSè¿æ¥éƒ½ä»¥æ¡æ‰‹ä½œä¸ºèµ·ç‚¹ï¼Œç»è¿‡åº”ç”¨æ•°æ®çš„äº¤æ¢ï¼Œæœ€åå…³é—­ä¼šè¯ï¼›</li>
<li>åº”ç”¨æ•°æ®åè®®æºå¸¦ç€åº”ç”¨æ¶ˆæ¯ï¼Œåªä»¥TLSçš„è§’åº¦è€ƒè™‘çš„è¯ï¼Œè¿™äº›å°±æ˜¯æ•°æ®ç¼“å†²åŒºï¼›</li>
<li>è­¦æŠ¥çš„ç›®çš„æ˜¯ä»¥ç®€å•çš„é€šçŸ¥æœºåˆ¶å‘ŠçŸ¥å¯¹ç«¯é€šä¿¡å‡ºç°å¼‚å¸¸çŠ¶å†µï¼›</li>
</ol>
<h2 id="å…¬é’¥åŸºç¡€è®¾æ–½"><a href="#å…¬é’¥åŸºç¡€è®¾æ–½" class="headerlink" title="å…¬é’¥åŸºç¡€è®¾æ–½"></a>å…¬é’¥åŸºç¡€è®¾æ–½</h2><ol>
<li>å…¬é’¥åŸºç¡€è®¾æ–½ï¼ˆpublic key infrastructureï¼ŒPKIï¼‰çš„ç›®æ ‡å°±æ˜¯å®ç°ä¸åŒæˆå‘˜åœ¨ä¸è§é¢çš„æƒ…å†µä¸‹è¿›è¡Œå®‰å…¨é€šä¿¡ï¼›</li>
<li>å½“å‰é‡‡ç”¨çš„æ¨¡å‹æ˜¯åŸºäº å¯ä¿¡çš„ç¬¬ä¸‰æ–¹æœºæ„ï¼Œä¹Ÿå°±æ˜¯è¯ä¹¦é¢å‘æœºæ„ï¼ˆcertification authorityæˆ–certificate authorityï¼ŒCAï¼‰ç­¾å‘çš„è¯ä¹¦ï¼›</li>
<li>ç™»è®°æœºæ„ï¼ˆregistration authorityï¼ŒRAï¼‰ä¸»è¦æ˜¯å®Œæˆä¸€äº›è¯ä¹¦ç­¾å‘çš„ç›¸å…³ç®¡ç†å·¥ä½œï¼Œæœ¬åœ°ç™»è®°æœºæ„ï¼ˆlocal registration authorityï¼ŒLRAï¼‰ï¼›</li>
<li>è¯ä¹¦é¢å‘æœºæ„ï¼ˆcertification authorityï¼ŒCAï¼‰æ˜¯æŒ‡æˆ‘ä»¬éƒ½ä¿¡ä»»çš„è¯ä¹¦é¢å‘æœºæ„ï¼Œå®ƒä¼šåœ¨ç¡®è®¤ç”³è¯·ç”¨æˆ·çš„èº«ä»½ä¹‹åç­¾å‘è¯ä¹¦ï¼›</li>
<li>è¯ä¹¦æ˜¯ä¸€ä¸ªåŒ…å«å…¬é’¥ã€è®¢é˜…äººç›¸å…³ä¿¡æ¯ä»¥åŠè¯ä¹¦é¢å‘è€…æ•°å­—ç­¾åçš„æ•°å­—æ–‡ä»¶ï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªè®©æˆ‘ä»¬å¯ä»¥äº¤æ¢ã€å­˜å‚¨å’Œä½¿ç”¨å…¬é’¥çš„å£³ï¼›</li>
<li>å½“å‡ºç°ç§é’¥æ³„éœ²æˆ–è€…ä¸å†éœ€è¦ä½¿ç”¨çš„æ—¶å€™ï¼Œå°±éœ€è¦åŠé”€è¯ä¹¦ï¼›</li>
<li>æ”»å‡»PKIæœ€å¥½çš„æ–¹æ³•ä¹‹ä¸€æ˜¯ç›´æ¥å¯¹æ ¹è¯ä¹¦ä¸‹æ‰‹ï¼</li>
</ol>
<h2 id="æ”»å‡»PKI"><a href="#æ”»å‡»PKI" class="headerlink" title="æ”»å‡»PKI"></a>æ”»å‡»PKI</h2><ol>
<li>æ‰€æœ‰çš„CAéƒ½å¯ä»¥åœ¨ä¸ç»åŸŸåæ‰€æœ‰è€…åŒæ„çš„æƒ…å†µä¸‹ç»™ä»»æ„åŸŸåç­¾å‘è¯ä¹¦ï¼Œå¦‚æœCAè¢«å…¥ä¾µäº†ï¼Œæ”»å‡»è€…å°±å¯ä»¥ç»™ä»»æ„ç½‘ç«™ç”Ÿæˆè¯ä¹¦ï¼›</li>
<li>å¤§éƒ¨åˆ†ç”¨æˆ·åœ¨é‡åˆ°æœ‰å…¶ç­¾åçš„è½¯ä»¶æ—¶éƒ½ä¼šåŒæ„å®‰è£…ï¼</li>
<li>æ”»å‡»çš„è¿‡ç¨‹ï¼š<ol>
<li>ç¡®å®šCAç”Ÿæˆçš„è¯ä¹¦å‰ç¼€æ˜¯ä»€ä¹ˆï¼Œä»¥åŠç¡®å®šä¸€äº›CSRå­—æ®µçš„å†…å®¹</li>
<li>ç»™ä¼ªé€ çš„è¯ä¹¦åˆ»æ„æ„å»ºä¸€ä¸ªå‰ç¼€</li>
<li>ç¡®å®šåç¼€</li>
<li>ä»å‰é¢ä¸‰æ­¥çš„æ•°æ®æ„å»ºç¢°æ’å—</li>
<li>æ„å»ºCSRæ–‡ä»¶å¹¶æäº¤ç»™è¯ä¹¦æœºæ„</li>
<li>é€šè¿‡å°†ä¼ªé€ çš„å‰ç¼€ã€ç¬¬äºŒéƒ¨åˆ†çš„ç¢°æ’å—ä»¥åŠåç¼€åˆå¹¶èµ·æ¥æ„å»ºä¸€å¼ ä¼ªé€ çš„è¯ä¹¦ï¼Œå…¶ä¸­çš„ç­¾åä¿¡æ¯ä»çœŸæ­£çš„è¯ä¹¦ä¸­è·å–</li>
</ol>
</li>
<li>ç«ç„°ç—…æ¯’åœ¨å¤§çº¦1000ä¸ªç³»ç»Ÿä¸­è¢«å‘ç°ï¼Œçœ‹èµ·æ¥æ˜¯ä¸€ç§ç›®æ ‡æ€§éå¸¸æ˜ç¡®çš„æ”»å‡»ï¼ä¸ä¹…ä¹‹åï¼Œç«ç„°ç—…æ¯’çš„åˆ›é€ è€…å‘å‡ºäº†è‡ªæ€å‘½ä»¤ï¼Œè®©æ‰€æœ‰çš„ç«ç„°ç—…æ¯’å°†è‡ªèº«åˆ é™¤ï¼</li>
<li>æœ€ä½³æ”»å‡»æ–¹å¼å°±æ˜¯ç›´æ¥æ”»å‡»è¯ä¹¦é¢å‘æœºæ„ï¼</li>
</ol>
<h2 id="HTTPå’Œæµè§ˆå™¨é—®é¢˜"><a href="#HTTPå’Œæµè§ˆå™¨é—®é¢˜" class="headerlink" title="HTTPå’Œæµè§ˆå™¨é—®é¢˜"></a>HTTPå’Œæµè§ˆå™¨é—®é¢˜</h2><ol>
<li>sidejackingæ˜¯ç½‘ç»œåº”ç”¨ä¼šè¯åŠ«æŒçš„ä¸€ç§ç‰¹æ®Šæƒ…å†µï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ”»å‡»è€…ä¼šä»ä¸€æ¡æœªåŠ å¯†çš„è¿æ¥ä¸Šè·å–ä¼šè¯ä»¤ç‰Œï¼Œè¿™ç§æ”»å‡»åœ¨æ— çº¿ç½‘ç»œæˆ–è€…æœ¬åœ°å±€åŸŸç½‘ä¸­éå¸¸å®¹æ˜“å®æ–½ï¼›</li>
<li>ç¨‹åºå‘˜å¸¸çŠ¯çš„ä¸€ä¸ªé”™è¯¯æ˜¯å¿˜è®°å¯¹Cookieè¿›è¡ŒåŠ å¯†ï¼Œå½“è¿™ç§é—®é¢˜å‘ç”Ÿæ—¶ï¼Œæ”»å‡»è€…å¯ä»¥ä½¿ç”¨ä¸€ç§å«ä½œCookieçªƒå–ï¼ˆcookie stealingï¼‰çš„æŠ€æœ¯æ¥è·å¾—ä¼šè¯ä»¤ç‰Œï¼›</li>
<li>Cookieè¢«è®¾è®¡æˆè·¨ç‰¹å®šåŸŸåçš„ä¸åŒä¸»æœºåæ¥ä½¿ç”¨ï¼Œä¹Ÿå¯ä»¥è·¨ä¸åŒåè®®å’Œç«¯å£ä½¿ç”¨ï¼›</li>
<li>TLSçš„æ ¸å¿ƒç›®çš„æ˜¯ä¿æŠ¤ä½ ä¸è¢«ä¸­é—´æ”»å‡»æ‰€å±å®³ï¼Œä½†æ˜¯å½“çœŸçš„æ”»å‡»åˆ°æ¥çš„æ—¶å€™ï¼Œä½ æ‰€èƒ½å¾—åˆ°çš„å…¨éƒ¨åªæ˜¯ä¸€ä¸ªæ¥è‡ªæµè§ˆå™¨çš„è¯ä¹¦è­¦å‘Šï¼›</li>
<li>æœ‰ä¸€ä¸ªä¼—æ‰€å‘¨çŸ¥çš„é’ˆå¯¹å®‰å…¨é€šä¿¡çš„æ”»å‡»å«ä½œé‡æ”¾æ”»å‡»ï¼ˆreplay attackï¼‰ï¼Œè¿™ç§æ”»å‡»æ˜¯æŒ‡æ”»å‡»è€…ä¼šæ•è·å¹¶åˆ©ç”¨æ­£ç¡®çš„è¯·æ±‚ï¼Œå¹¶å¾ˆå¯èƒ½æ˜¯ç”¨åœ¨ä¸åŒçš„ä¸Šä¸‹æ–‡ä¸­ï¼</li>
</ol>
<h2 id="å®ç°é—®é¢˜"><a href="#å®ç°é—®é¢˜" class="headerlink" title="å®ç°é—®é¢˜"></a>å®ç°é—®é¢˜</h2><ol>
<li>å¿ƒè„å‡ºè¡€ æ˜¯OpenSSLä¸­çš„ä¸€ä¸ªç¾éš¾æ€§æ¼æ´ï¼Œå®ƒåœ¨2014å¹´4æœˆè¢«å‘ç°å¹¶å…¬å¼€ã€‚æ­¤æ”»å‡»åˆ©ç”¨äº†å¿ƒè·³ï¼ˆHeartbeatï¼‰åè®®å®ç°ä¸­çš„ä¸€ä¸ªç¼ºé™·ï¼Œå¿ƒè·³åè®®æ˜¯ä¸€ä¸ªå¾ˆå°‘ä½¿ç”¨çš„TLSåè®®æ‰©å±•ï¼›</li>
<li>å¿ƒè„å‡ºè¡€ä¸èƒ½è·å–è®¿é—®æ•°æ®åº“çš„æƒé™ï¼Œè‡³å°‘ä¸èƒ½ç›´æ¥è·å–ï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡å¿ƒè„å‡ºè¡€é—´æ¥åœ°è·å–ä¸€äº›æœ‰ç”¨çš„ä¿¡æ¯ï¼›</li>
<li>æ®ä¼°è®¡ï¼Œå¤§æ¦‚ä¸‰åˆ†ä¹‹äºŒçš„æœåŠ¡å™¨ä½¿ç”¨çš„æ˜¯é‡å¤å¼±å¯†é’¥ï¼Œå…¶ä»–çš„æœåŠ¡å™¨åˆ™ä¼šä¸ºæ¯æ¬¡æ¡æ‰‹é‡æ–°ç”Ÿæˆæ–°çš„å¯†é’¥ï¼</li>
<li>åè®®é™çº§æ”»å‡»æ˜¯æŒ‡æ”»å‡»è€…ä½œä¸ºä¸­é—´äººä¼å›¾ä¿®æ”¹TLSæ¡æ‰‹è¿‡ç¨‹ä¸­çš„è¿æ¥å‚æ•°ï¼›</li>
<li>å½“äº’æ“ä½œæ€§é—®é¢˜å‡ºç°ä¹‹åï¼Œæµè§ˆå™¨å¼€å§‹æ”¯æŒè‡ªæ„¿åè®®é™çº§ï¼ˆvoluntary protocol downgradeï¼‰ï¼›åè®®å†…ç½®çš„é’ˆå¯¹å›é€€æ”»å‡»çš„é˜²å¾¡å¯¹äºæ”»å‡»è€…å¹²æ‰°ä¸€ä¸ªæ–°è¿æ¥è¿›è¡Œæ”»å‡»æ˜¯æœ‰æ•ˆçš„ï¼›</li>
<li>æ”»å‡»è€…å¯ä»¥é€šè¿‡å‘HTTPè¯·æ±‚å’Œå“åº”ä¸­æ³¨å…¥ä»»æ„é•¿åº¦çš„æ•°æ®æ¥è¾¾åˆ°æ§åˆ¶TLSè®°å½•é•¿åº¦çš„ç›®çš„ã€‚å¦‚æœæ”»å‡»è€…èƒ½æ§åˆ¶TLSè®°å½•çš„é•¿åº¦ï¼Œé‚£ä¹ˆå°±å¯ä»¥æ§åˆ¶è®°å½•å¦‚ä½•è¿›è¡Œåˆ†å‰²ï¼ˆå–å†³äºå¤§å°å’Œå…¶ä»–é™åˆ¶ï¼‰ã€‚åœ¨ç»“åˆæˆªæ–­æ”»å‡»çš„æƒ…å†µä¸‹ï¼Œæ”»å‡»è€…å¯ä»¥åˆ†å‰²HTTPçš„è¯·æ±‚å’Œå“åº”å¤´ï¼Œè¿™ä¼šé€ æˆä¸€äº›æœ‰æ„æ€çš„ç»“æœï¼</li>
</ol>
<h2 id="åè®®æ”»å‡»"><a href="#åè®®æ”»å‡»" class="headerlink" title="åè®®æ”»å‡»"></a>åè®®æ”»å‡»</h2><ol>
<li>ä¸å®‰å…¨é‡æ–°åå•†ï¼ˆinsecure renegotiationï¼‰ä¹Ÿå«ä½œTLSèº«ä»½éªŒè¯ç¼ºå£ï¼ˆTLS authentication gapï¼‰ï¼Œä¹‹æ‰€ä»¥å­˜åœ¨ï¼Œæ˜¯å› ä¸ºåœ¨æ—§çš„å’Œæ–°çš„TLSè¿æ¥ä¹‹é—´æ²¡æœ‰è¿ç»­æ€§ï¼›</li>
<li>ä¸€ä¸ªä¸­é—´äººï¼ˆman-in-the-middleï¼ŒMITMï¼‰æ”»å‡»è€…å¯ä»¥é€šè¿‡ä¸‹é¢ä¸‰ä¸ªæ­¥éª¤æ¥åˆ©ç”¨è¿™ä¸ªä¸å®‰å…¨é‡æ–°åå•†æ¼æ´ï¼š<ol>
<li>æ‹¦æˆªä¸€ä¸ªå—å®³å®¢æˆ·ç«¯åˆ°æœåŠ¡å™¨çš„TCPè¿æ¥</li>
<li>æ–°å»ºä¸€ä¸ªåˆ°æœåŠ¡å™¨çš„TLSè¿æ¥ï¼ŒåŒ…å«æ”»å‡»è´Ÿè½½</li>
<li>ä»è¿™æ—¶èµ·ï¼Œåœ¨å—å®³å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´æ‰®æ¼”é€æ˜ä»£ç†</li>
</ol>
</li>
<li>å¦‚æœæ”»å‡»è€…å¯ä»¥åœ¨ä¸€ä¸ªç½‘ç«™ä¸Šæ‰¾åˆ°æŸä¸ªè¿›è¡Œé‡å®šå‘çš„èµ„æºï¼Œ ä»–å¯èƒ½æˆåŠŸåœ°æ‰§è¡Œä»¥ä¸‹å‡ ç§æ”»å‡»ï¼š<ul>
<li>å°†ç”¨æˆ·é‡å®šå‘åˆ°æ¶æ„ç½‘ç«™</li>
<li>è¿æ¥é™çº§è‡³HTTP</li>
<li>é€šè¿‡é‡å®šå‘POSTè¯·æ±‚æˆªè·èº«ä»½å‡­æ®</li>
</ul>
</li>
<li>æœ‰æ—¶å€™ç³»ç»Ÿè®¾è®¡å’Œæ¶æ„å†³ç­–å¯èƒ½ä¼šå¯¼è‡´æœ¬ä¸åº”è¯¥å­˜åœ¨çš„é‡æ–°åå•†é—®é¢˜çš„å‘ç”Ÿï¼</li>
<li>BEASTæ”»å‡»é’ˆå¯¹çš„æ˜¯TLS 1.0å’Œæ›´æ—©ç‰ˆæœ¬çš„åè®®ä¸­å¯¹ç§°åŠ å¯†ç®—æ³•çš„CBCæ¨¡å¼ï¼ŒBEASTæ˜¯å‘ç”Ÿåœ¨å®¢æˆ·ç«¯çš„ä¸€ç§ç¼ºé™·ï¼Œå› æ­¤éœ€è¦å°†è§£å†³é—®é¢˜çš„æªæ–½éƒ¨ç½²åœ¨å®¢æˆ·ç«¯ï¼›</li>
<li>ä¸€ä¸ªå®é™…çš„å‹ç¼©æ—è·¯æ”»å‡»å‘ç”Ÿåœ¨2012å¹´ï¼Œè¢«å‘½åä¸ºCRIMEæ”»å‡»ï¼æ”»å‡»è€…å¿…é¡»èƒ½å¤Ÿæ“ä½œå—å®³è€…çš„æµè§ˆå™¨æ¥å‘ç›®æ ‡æœåŠ¡å™¨æäº¤å¤§é‡çš„è¯·æ±‚ï¼Œä¸æ­¤åŒæ—¶è§‚å¯Ÿç½‘ç»œä¸Šå‘å‡ºçš„æ•°æ®åŒ…ï¼›</li>
</ol>
<h2 id="éƒ¨-ç½²"><a href="#éƒ¨-ç½²" class="headerlink" title="éƒ¨ ç½²"></a>éƒ¨ ç½²</h2><ol>
<li>ç§é’¥æ˜¯TLSå®‰å…¨çš„åŸºçŸ³ï¼Œä¸ºç§é’¥é€‰æ‹©æ°å½“çš„å¯†é’¥ç®—æ³•å’Œé•¿åº¦ï¼ŒTLSå¯ä»¥æä¾›é«˜å¼ºåº¦çš„å®‰å…¨æ€§ï¼›</li>
<li>ç›®å‰TLSæ”¯æŒ3ç§ç®—æ³•ï¼Œä½†å®é™…ä¸Šåªæœ‰RSAè¿™ä¸€ç§è¢«å¹¿æ³›ä½¿ç”¨ï¼›DSAå·²ç»è¢«åºŸå¼ƒï¼Œè€ŒECDSAåœ¨æœªæ¥å‡ å¹´å†…æœ‰æœ›è¢«å¹¿æ³›ä½¿ç”¨ï¼›</li>
<li>åœ¨å¯†é’¥é•¿åº¦æ–¹é¢ï¼Œå¤§éƒ¨åˆ†ç³»ç»Ÿéƒ¨ç½²åªéœ€è¦2048ä½RSAå¯†é’¥æˆ–è€…256ä½ECDSAå¯†é’¥ï¼Œåˆ†åˆ«æä¾›112ä½å’Œ128ä½çš„åŠ å¯†å¼ºåº¦ï¼›</li>
<li>åŒå¯†é’¥éƒ¨ç½²æ˜¯ä¸€ç§ä¸é”™çš„é€‰æ‹©ï¼Œæ—¢å¯ä»¥é¿å…æ€§èƒ½çš„æŸå¤±ï¼Œåˆèƒ½æä¾›æœ€å¥½çš„æµè§ˆå™¨æ”¯æŒï¼›</li>
<li>å¤§éƒ¨åˆ†æˆåŠŸçš„æ”»å‡»éƒ½æ˜¯ç»•è¿‡äº†åŠ å¯†ç¯èŠ‚ï¼Œè€Œä¸æ˜¯ç›´æ¥ç ´è§£å‡ºåŠ å¯†å†…å®¹ï¼›å› æ­¤ï¼Œåº”è¯¥è€ƒè™‘ï¼š<ol>
<li>ä¿è¯ç§é’¥çš„ç§å¯†æ€§</li>
<li>ä»”ç»†é€‰æ‹©éšæœºæ•°ç”Ÿæˆå™¨</li>
<li>ä¿æŠ¤å¯†é’¥çš„å¯†ç </li>
<li>ä¸è¦éšæ„å…±äº«å¯†é’¥</li>
<li>å®šæœŸæ›´æ–°å¯†é’¥</li>
<li>å®‰å…¨å­˜å‚¨å¯†é’¥</li>
</ol>
</li>
<li>è¯ä¹¦ä¸»è¦æœ‰ä¸‰ç§ç±»å‹ï¼šåŸŸåéªŒè¯ï¼ˆdomain validatedï¼ŒDVï¼‰ã€ç»„ç»‡éªŒè¯ï¼ˆorganization validatedï¼ŒOVï¼‰å’Œæ‰©å±•éªŒè¯ï¼ˆextended validationï¼ŒEVï¼‰ï¼›</li>
<li>è¯ä¹¦çš„ä¸»è¦ä½œç”¨å°±æ˜¯ä¸ºä¿éšœç”¨æˆ·å®‰å…¨é¡ºç•…åœ°è®¿é—®åŸŸåå»ºè®®åˆé€‚çš„ä¿¡ä»»æœºåˆ¶ï¼›</li>
<li>å½“å¤šä¸ªåŸŸåå…±ç”¨ä¸€ä¸ªè¯ä¹¦æ—¶ï¼Œäº‹å®ä¸Šå®ƒä»¬ä¹Ÿå°±å…±ç”¨äº†ä¸€ä¸ªç›¸åŒçš„ç§é’¥ï¼</li>
<li>ä½¿ç”¨å‰å‘ä¿å¯†åï¼Œç”¨æˆ·çš„æ¯æ¬¡è®¿é—®éƒ½ä¼šä½¿ç”¨ä¸åŒçš„å¯†é’¥ç‹¬ç«‹åŠ å¯†ï¼Œå¦‚æœæ²¡æœ‰å‰å‘ä¿å¯†ï¼Œæ‰€æœ‰è¿æ¥çš„å®‰å…¨æ€§éƒ½å®Œå…¨ä¾èµ–äºæœåŠ¡å™¨çš„å¯†é’¥ï¼Œä¸€æ—¦æœåŠ¡å™¨å¯†é’¥è¢«ç ´è§£æˆ–è€…æ³„éœ²ï¼Œæ‰€æœ‰å†å²é€šä¿¡éƒ½å¯ä»¥è¢«ç›´æ¥è§£å¯†ï¼Œè¿™æ˜¯ä¸€ä¸ªå·¨å¤§çš„éšæ‚£ï¼Œå¯ä»¥é€šè¿‡è°ƒæ•´é…ç½®æ¥ç›´æ¥ä¿®å¤ï¼›</li>
<li>å…±äº«ä¸»æœºä¸åº”è¯¥ç”¨äºä»»ä½•æœ‰å•†ä¸šåŠ å¯†éœ€æ±‚çš„åœºåˆï¼Œæœ‰å¾ˆå¤šé€šè¿‡æ–‡ä»¶ç³»ç»Ÿæˆ–ç›´æ¥å†…å­˜è®¿é—®çš„æ”»å‡»å¯ä»¥å¯¼è‡´ç§é’¥æ³„éœ²ï¼›</li>
<li>ä¸€ç§è¢«å¹¿æ³›æ¥å—çš„åšæ³•æ˜¯ä¸ºæ¯ä¸ªå®‰å…¨æœåŠ¡å™¨é…ç½®ä¸€ä¸ªç‹¬ç«‹çš„IPåœ°å€ï¼Œä¸»è¦çš„åŸå› åœ¨äºè™šæ‹Ÿå®‰å…¨æ‰˜ç®¡ï¼ˆå°†è®¸å¤šä¸ç›¸å…³çš„å®‰å…¨æœåŠ¡å™¨ç½®äºç›¸åŒIPåœ°å€ï¼‰ä¾èµ–æœåŠ¡å™¨åç§°æŒ‡ç¤ºï¼ˆserver name indicationï¼ŒSNIï¼‰ç‰¹æ€§ï¼›</li>
<li>ä¼šè¯ç¼“å­˜æ˜¯æ€§èƒ½ä¼˜åŒ–çš„å¸¸è§æ–¹æ¡ˆï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨åœ¨é¦–æ¬¡å»ºç«‹è¿æ¥å¹¶åˆ›å»ºSSLä¼šè¯æ—¶åå•†å¥½ä¼ è¾“å¯†é’¥ï¼Œåœ¨åç»­è¿æ¥ä¸­å°±å¯ä»¥ç›´æ¥å¤ç”¨ç›¸åŒçš„ä¼ è¾“å¯†é’¥ï¼Œå¤§å¤§å‡å°‘CPUæ¶ˆè€—å’Œç½‘ç»œå»¶è¿Ÿï¼›</li>
<li>å¿ƒè„å‡ºè¡€æ˜¯OpenSSLçš„ä¸€ä¸ªæ¼æ´ï¼Œè€ŒOpenSSLæ˜¯ä½¿ç”¨æœ€å¹¿æ³›çš„SSLåŠ å¯†åº“ï¼<ol>
<li>ç»™å—å½±å“çš„ç³»ç»Ÿæ‰“ä¸ŠOpenSSLè¡¥ä¸ï¼Œä¿®å¤æ¼æ´</li>
<li>æ›´æ–°ç§é’¥ï¼Œé‡æ–°ç­¾å‘è¯ä¹¦ï¼ŒåŠé”€è€è¯ä¹¦</li>
<li>å¦‚æœä½¿ç”¨äº†ä¼šè¯ç¥¨è¯ï¼Œæ›´æ–°ç¥¨è¯å¯†é’¥</li>
<li>è¯„ä¼°å¯èƒ½å­˜åœ¨äºæœåŠ¡å™¨å†…å­˜ä¸­çš„æ•æ„Ÿä¿¡æ¯ï¼Œå¹¶å†³å®šæ˜¯å¦è¿˜è¦é‡‡å–å…¶ä»–æªæ–½ï¼ˆä¾‹å¦‚ä¸€äº›ç½‘ç«™å»ºè®®ç”¨æˆ·æ›´æ”¹å¯†ç ï¼‰</li>
</ol>
</li>
<li>é’‰æ‰æŠ€æœ¯å¤§å¤§é™ä½äº†è¯ä¹¦ä¼ªé€ çš„æ”»å‡»å¯èƒ½æ€§ï¼Œä½†æ˜¯ä¹Ÿéœ€è¦ä»˜å‡ºä¸€äº›ä»£ä»·ï¼šéœ€è¦ä¸€å®šçš„æŠ•å…¥æ‰èƒ½å»ºç«‹èµ·ä¸€ä¸ªæˆç†Ÿçš„é’‰æ‰æˆ˜ç•¥å’Œè¿è¥æœºåˆ¶ï¼Œå¹¶ä¸”é’‰æ‰å®Œå…¨ä¾èµ–äºæµè§ˆå™¨çš„å†…éƒ¨éªŒè¯æœºåˆ¶ï¼</li>
<li>å†…å®¹å®‰å…¨ç­–ç•¥ï¼ˆContent Security Policyï¼ŒCSPï¼‰æ˜¯ä¸€ç§æœºåˆ¶ï¼Œå…è®¸ç½‘ç«™æ§åˆ¶åœ¨HTMLé¡µé¢ä¸­åµŒå…¥çš„èµ„æºç”¨ä»€ä¹ˆåè®®æ¥è®¿é—®ï¼›</li>
<li>è™½ç„¶TLSå…·æœ‰å†…ç½®çš„åè®®é™çº§ä¿æŠ¤ï¼Œä½†æœ‰äº›æµè§ˆå™¨åœ¨æ¡æ‰‹å¤±è´¥æ—¶ä¼šè‡ªæ„¿é™çº§ï¼Œç›´æ¥å¯¼è‡´é™çº§ä¿æŠ¤ä¸èµ·ä½œç”¨ï¼</li>
</ol>
<h2 id="æ€§èƒ½ä¼˜åŒ–"><a href="#æ€§èƒ½ä¼˜åŒ–" class="headerlink" title="æ€§èƒ½ä¼˜åŒ–"></a>æ€§èƒ½ä¼˜åŒ–</h2><ol>
<li>ç½‘ç»œé€šè®¯çš„é€Ÿåº¦ç”±ä¸¤ä¸ªä¸»è¦å› ç´ å†³å®šï¼šå¸¦å®½å’Œå»¶è¿Ÿï¼Œå¸¦å®½ç”¨æ¥è¡¡é‡åœ¨å•ä½æ—¶é—´å†…æœ‰å¤šå°‘æ•°æ®å¯å‘é€ï¼›å»¶è¿Ÿåˆ™æè¿°ä¸€ä¸ªæ¶ˆæ¯ä»ä¸€ç«¯å‘é€åˆ°å¦ä¸€ç«¯æ¥æ”¶æ‰€éœ€çš„æ—¶é—´ï¼›</li>
<li>å¤§éƒ¨åˆ†TLSæ€§èƒ½å½±å“é›†ä¸­åœ¨æ¯ä¸€ä¸ªè¿æ¥çš„å¼€å§‹æ¡æ‰‹é˜¶æ®µï¼Œä¸€ä¸ªé‡è¦çš„ä¼˜åŒ–æŠ€æœ¯æ˜¯åœ¨è¿æ¥æ•°å…è®¸çš„æƒ…å†µä¸‹å°½å¯èƒ½ä¿æŒæ¯ä¸ªè¿æ¥ä¸æ–­å¼€ï¼›</li>
<li>ä½¿ç”¨SPDYï¼ˆGoogleåœ¨2009å¹´å¼€å§‹ï¼Œåœ¨TCPå±‚å’ŒHTTPå±‚ä¹‹é—´å¼•å…¥ä»¥æå‡é€Ÿåº¦ï¼‰å¯ä»¥å¤ç”¨å¤šä¸ªHTTPè¯·æ±‚å’Œå“åº”ï¼Œè¿™æ„å‘³ç€æµè§ˆå™¨æ°¸è¿œåªéœ€ä¸æ¯ä¸ªæœåŠ¡å™¨å»ºç«‹ä¸€ä¸ªè¿æ¥ï¼›</li>
<li>CDNï¼ˆcontent delivery networkï¼Œå†…å®¹åˆ†å‘ç½‘ç»œï¼‰æ˜¯åˆ©ç”¨åœ°ç†ä¸Šåˆ†æ•£çš„æœåŠ¡å™¨æä¾›è¾¹ç¼˜ç¼“å­˜å’Œæµé‡ä¼˜åŒ–ï¼ˆé€šå¸¸ä¹Ÿç§°ä¸ºå¹¿åŸŸç½‘ä¼˜åŒ–ï¼ŒWAN optimizationï¼‰æ¥äº§ç”Ÿä»·å€¼çš„ï¼›</li>
<li>ä¸€æ¬¡å®Œæ•´çš„TLSæ¡æ‰‹æœŸé—´ï¼ŒæœåŠ¡å™¨ä¼šæŠŠå®ƒçš„è¯ä¹¦é“¾å‘é€ç»™å®¢æˆ·ç«¯éªŒè¯ï¼Œè¯ä¹¦é“¾çš„é•¿åº¦å’Œæ­£ç¡®æ€§å¯¹æ¡æ‰‹çš„æ€§èƒ½æœ‰å¾ˆå¤§å½±å“ï¼</li>
<li>å‘èµ·æ‹’ç»æœåŠ¡æ”»å‡»æœ€ä¸»è¦çš„æ–¹å¼æ˜¯ä½¿ç”¨åƒµå°¸ç½‘ç»œï¼Œä¸€ç§ç”±å¤§é‡è¢«æ„ŸæŸ“çš„è®¡ç®—æœºç»„æˆçš„ç½‘ç»œï¼›å¯¹æŠ—æ–¹å¼ï¼š<ol>
<li>è¿æ¥é™åˆ¶</li>
<li>èµ„æºè¶…é…</li>
<li>ç¬¬ä¸‰æ–¹æ´åŠ©</li>
</ol>
</li>
</ol>
<h2 id="OpenSSL"><a href="#OpenSSL" class="headerlink" title="OpenSSL"></a>OpenSSL</h2><ol>
<li>OpenSSLæ˜¯ä¸€ä¸ªå¼€æºé¡¹ç›®ï¼ŒåŒ…æ‹¬å¯†ç åº“å’ŒSSL/TLSå·¥å…·é›†ï¼›</li>
<li>OpenSSLé¡¹ç›®æ˜¯å®‰å…¨å¥—æ¥å­—å±‚ï¼ˆsecure sockets layerï¼ŒSSLï¼‰å’Œä¼ è¾“å±‚å®‰å…¨ï¼ˆtransport layer securityï¼ŒTLSï¼‰åè®®çš„ä¸€ä¸ªå®ç°ï¼Œæ˜¯å¤§å®¶å…±åŒåŠªåŠ›å¼€å‘å‡ºçš„ä»£ç å¯é ã€åŠŸèƒ½é½å…¨ã€å•†ä¸šçº§åˆ«çš„å¼€æºå·¥å…·é›†ï¼›</li>
<li>ä¸åŒçš„æ“ä½œç³»ç»Ÿç»å¸¸ä¼šä¿®æ”¹OpenSSLçš„ä»£ç ï¼Œä¸»è¦æ˜¯ä¿®å¤ä¸€äº›å·²çŸ¥æ¼æ´!</li>
<li>OpenSSLè‡ªå¸¦çš„å®¢æˆ·ç«¯å·¥å…·å¯ä»¥ç”¨æ¥è¿æ¥å®‰å…¨æœåŠ¡å™¨ï¼›</li>
</ol>
<h2 id="é…ç½®Nginx"><a href="#é…ç½®Nginx" class="headerlink" title="é…ç½®Nginx"></a>é…ç½®Nginx</h2><ol>
<li><p>Nginxæ˜¯ä¸€ä¸ªåå‘ä»£ç†WebæœåŠ¡å™¨ï¼Œç”±äºåœ¨ç³»ç»Ÿèµ„æºä½¿ç”¨ä¸Šçš„é«˜æ•ˆç‡è€Œå¹¿å—æ¬¢è¿,è€Œä¸”Nginxå¼€æ”¾æºä»£ç ï¼Œå› æ­¤å¯ä»¥å¥½å¥½ç ”ç©¶ï¼</p>
</li>
<li><p>ç¨³å®šç‰ˆæœ¬çš„Nginxæä¾›äº†éƒ¨ç½²ä¸€ä¸ªç‹¬ç«‹è¿è¡Œã€é…ç½®è‰¯å¥½çš„TLSæœåŠ¡æ‰€éœ€è¦çš„ä¸€åˆ‡å†…å®¹ï¼›</p>
</li>
<li><p>å¯ä»¥è‡ªå·±ç¼–è¯‘Nginxå¹¶ä¸”é™æ€é“¾æ¥åˆ°ä¸€ä¸ªå…¼å®¹çš„OpenSSLç‰ˆæœ¬ï¼Œæ–¹æ³•å¾ˆç®€å•ï¼šåœ¨ é…ç½®Nginxçš„ç¼–è¯‘é€‰é¡¹æ—¶ï¼Œä½¿ç”¨â€“with-opensslå‚æ•°æ¥æŒ‡å‘OpenSSLçš„æºä»£ç ï¼›</p>
</li>
<li><p>è¦å¯ç”¨TLSï¼Œéœ€è¦å‘Šè¯‰Nginxåœ¨æŒ‡å®šçš„ç«¯å£ä¸Šå¯ç”¨ç›¸åº”çš„åè®®ï¼Œè¿™å¯ä»¥é€šè¿‡åœ¨listenæŒ‡ä»¤ååŠ ä¸Šsslå‚æ•°æ¥å®ç°ï¼›</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">server &#123; </span><br><span class="line">listen 192.168.0.1:443 ssl spdy; server_name www.example.com; </span><br><span class="line">...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>Nginxåœ¨æ”¯æŒå‰å‘ä¿å¯†ä¸Šæ²¡æœ‰ä»»ä½•é—®é¢˜ï¼›</p>
</li>
<li><p>Nginxæä¾›ç‹¬ç«‹æœåŠ¡å™¨ä¸ŠTLSä¼šè¯æ¢å¤çš„è‰¯å¥½æ”¯æŒï¼ŒåŒ…æ‹¬æœåŠ¡å™¨ç«¯ä¼šè¯ç¼“å­˜å’Œä¼šè¯ç¥¨è¯ä¸¤ç§æ–¹å¼ï¼Œåœ¨æœåŠ¡å™¨é›†ç¾¤ç¯å¢ƒä¸­ï¼ŒNginxæ”¯æŒåˆ†å¸ƒå¼ä¼šè¯ç¥¨è¯ï¼Œä¸æ”¯æŒåˆ†å¸ƒå¼ä¼šè¯ç¼“å­˜ï¼›</p>
</li>
</ol>
<hr>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>å®‰å…¨åè®®çš„æˆåŠŸä¸èƒ½å•çº¯åœ°ä»æŠ€æœ¯æ€§å’Œå®‰å…¨æ€§æ–¹é¢æ¥è¡¡é‡ï¼Œæ›´åŠ é‡è¦çš„æ˜¯åœ¨ç°å®ç”Ÿæ´»ä¸­çš„æˆåŠŸå®è·µå’Œå®é™…æ•ˆæœï¼Œå°½ç®¡TLSå¹¶ä¸å®Œç¾ï¼Œä½†æ¯å¤©ä»æœ‰æ•°åäº¿äººä½¿ç”¨å®ƒï¼å®‰å…¨é—®é¢˜å§‹ç»ˆå­˜åœ¨ï¼Œå°±çœ‹ä½ è®¤ä¸è®¤çœŸå¯¹å¾…ï¼    </p>
]]></content>
      <categories>
        <category>Web</category>
      </categories>
  </entry>
  <entry>
    <title>Hello,JavaScript</title>
    <url>/2020/04/25/Hello-JavaScript/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>ä¸ºä»€ä¹ˆè¦æœ‰JavaScriptï¼Ÿ</p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><p>ç®­å¤´å‡½æ•°(a,b)=&gt;{return a+b;}</p>
<p>é—­åŒ…ï¼š (function(){ //å†…éƒ¨å¯ä»¥æ‰§è¡Œå‡½æ•° }()); è¥é€ äº†ä¸€ä¸ªç‹¬ç«‹çš„è¿è¡Œç¯å¢ƒï¼Œä¸å½±å“å¤–ç•Œã€‚</p>
<p>åˆ›å»ºå‘½åç©ºé—´</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// test1.js</span></span><br><span class="line"><span class="built_in">window</span>.namespace=<span class="built_in">window</span>.namespace||&#123;&#125;;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">hello2</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'hello from mynamespace'</span>);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">window</span>.namespace.test2=hello2;</span><br><span class="line"></span><br><span class="line"><span class="comment">// test2.js</span></span><br><span class="line"><span class="built_in">window</span>.namespace=<span class="built_in">window</span>.namespace||&#123;&#125;;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">hello</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'hello from myns2'</span>);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">window</span>.namespace.test=hello;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è°ƒç”¨</span></span><br><span class="line">namespace.test();</span><br><span class="line">namespace.test2();</span><br></pre></td></tr></table></figure>



<p>å¾ªç¯ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// æ–¹å¼1</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> index <span class="keyword">in</span> arr)</span><br><span class="line">&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// æ–¹å¼2</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> value <span class="keyword">of</span> arr)</span><br><span class="line">&#123;</span><br><span class="line">        </span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// æ–¹å¼3</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>; i&lt;<span class="number">100</span>;++i)</span><br><span class="line">&#123;</span><br><span class="line">        </span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// æ–¹å¼4</span></span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">&#123;</span><br><span class="line">        </span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">while</span>();</span><br><span class="line"><span class="comment">// æ–¹å¼5      </span></span><br><span class="line"><span class="keyword">while</span>()</span><br><span class="line">&#123;</span><br><span class="line">        </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>æ•°ç»„å£°æ˜ï¼š var arr=[];</p>
<p>å¯¹è±¡å£°æ˜ï¼š var obj={}; ä¹Ÿå¯ä»¥  var obj={name: â€œWanderâ€,age: 26};</p>
<p> è§£æ„ï¼šï¼ˆå¯ä»¥è®©å‡½æ•°è¿”å›æ•°ç»„ï¼Œæˆ–è€…å¯¹è±¡ï¼Œè¿™æ ·å¯ä»¥ä¼ å‡ºâ€å¤šä¸ªè¿”å›å€¼â€ï¼‰</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// æ•°ç»„è§£æ„ï¼Œæ²¡æœ‰å¯¹åº”çš„å€¼ï¼Œåˆ™ä¸ºundefined</span></span><br><span class="line"><span class="keyword">var</span> arr=[<span class="string">"wader"</span>,<span class="number">25</span>];</span><br><span class="line"><span class="keyword">let</span> [name,age]=arr;</span><br><span class="line"><span class="comment">// å¯¹è±¡è§£æ„</span></span><br><span class="line"><span class="keyword">let</span> obj=&#123;<span class="attr">name</span>:<span class="string">"wander"</span>,<span class="attr">age</span>: <span class="number">25</span>&#125;;</span><br><span class="line"><span class="keyword">let</span> &#123;name,age&#125;=obj;</span><br></pre></td></tr></table></figure>

<p>Map:</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> map =<span class="keyword">new</span> <span class="built_in">Map</span>();</span><br><span class="line">map.set(<span class="string">"hello"</span>,<span class="string">"world"</span>);</span><br></pre></td></tr></table></figure>

<p>WeakMapå¯¹è±¡æ˜¯ä¸€ç»„é”®å€¼å¯¹çš„é›†åˆï¼Œä¸”å…¶ä¸­çš„é”®æ˜¯å¼±å¼•ç”¨çš„ï¼Œé”®å¿…é¡»æ˜¯å¯¹è±¡ï¼Œå€¼å¯ä»¥æ˜¯ä»»æ„å€¼ï¼›</p>
<p>Setï¼šé›†åˆï¼›</p>
<p>WeakSetï¼šå…è®¸å°†å¼±ä¿æŒå¯¹è±¡å­˜å‚¨åœ¨ä¸€ä¸ªé›†åˆä¸­ï¼›</p>
<p>æ—¶é—´å¯¹è±¡Dateï¼›</p>
<p>æ•°å­¦ç±»Mathï¼›</p>
<p>å‡½æ•°å¯¹è±¡Functionï¼› â€œuse strictâ€; //ä½¿ç”¨ä¸¥æ ¼æ¨¡å¼</p>
<p><strong>Proxyå¯¹è±¡ç”¨äºå®šä¹‰åŸºç¡€æ“ä½œçš„è‡ªå®šä¹‰è¡Œä¸ºï¼ˆä¾‹å¦‚ï¼Œå±æ€§æŸ¥æ‰¾ã€èµ‹å€¼ã€æšä¸¾ã€å‡½æ•°è°ƒç”¨ç­‰ï¼‰ï¼›</strong></p>
<p>Promiseç”¨äºå¼‚æ­¥ç¼–ç¨‹ï¼›</p>
<p>ç”Ÿæˆå™¨å¯¹è±¡æ˜¯ç”±ä¸€ä¸ªgenerator functionè¿”å›çš„ï¼Œå¹¶ä¸”å®ƒç¬¦åˆå¯è¿­ä»£åè®®å’Œè¿­ä»£å™¨åè®®ï¼›</p>
<p>asyncä»¥åŠawaitï¼›</p>
<p>gitæœç´¢èµ„æ–™ï¼š git æœ€å¥½å­¦ä¹ èµ„æ–™ in:readme stars&gt;10000</p>
<hr>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1>]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
  </entry>
  <entry>
    <title>Hello Nodejs</title>
    <url>/2020/04/24/Hello-Nodejs/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>Node.jsæ˜¯ä¸€ä¸ªå¯ä»¥è®© JavaScript ä»£ç è¿è¡Œåœ¨æœåŠ¡å™¨ç«¯çš„å¹³å°ï¼Œè®©JavaScript è„±ç¦»æµè§ˆå™¨çš„æŸç¼šè¿è¡Œåœ¨ä¸€èˆ¬çš„æœåŠ¡å™¨ç¯å¢ƒä¸‹è½»æ¾åœ°è¿›è¡ŒæœåŠ¡å™¨ç«¯åº”ç”¨å¼€å‘ï¼Œä¸»è¦æ˜¯ä¸ºäº†å®æ—¶Webåº”ç”¨å¼€å‘è€Œè¯ç”Ÿçš„å¹³å°ï¼Œå……åˆ†è€ƒè™‘äº†å®æ—¶å“åº”ã€è¶…å¤§è§„æ¨¡æ•°æ®è¦æ±‚ä¸‹æ¶æ„çš„å¯æ‰©å±•æ€§ã€‚<strong>Node.jsé‡‡ç”¨å•çº¿ç¨‹ã€å¼‚æ­¥I/Oã€äº‹ä»¶é©±åŠ¨å‹çš„ç¨‹åºè®¾è®¡æ¨¡å‹ã€‚</strong>Node.jsæœ‰å¼ºå¤§è€Œçµæ´»çš„åŒ…ç®¡ç†å™¨(node package manager,npm)ï¼Œæœ‰å¾ˆå¤šç¬¬ä¸‰æ–¹æ¨¡å—ï¼Œæ–¹ä¾¿è¿›è¡Œæ•°æ®åº“é›†æˆã€æ¨¡æ¿è¯­è¨€è§£æã€CSSç”Ÿæˆå·¥å…·ã€é‚®ä»¶ã€åŠ å¯†ã€å›¾å½¢ã€è°ƒè¯•æ”¯æŒç­‰ç­‰ã€‚ä¸ºä»€ä¹ˆéœ€è¦å­¦ä¹ Node.jsï¼Ÿå› ä¸ºæœ‰éœ€æ±‚ï¼Œå…¬å¸çš„ä»¥å‰çš„åç«¯ä»£ç æ˜¯ç”¨Node.jsæ¥å¼€å‘çš„ï¼Œéœ€è¦è½¬æˆSpringBootæ¡†æ¶ä¸‹çš„åç«¯æœåŠ¡ã€‚</p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="Node-js"><a href="#Node-js" class="headerlink" title="Node.js"></a>Node.js</h2><ol>
<li>Node.js æ˜¯ä¸€ä¸ªè®© JavaScript è¿è¡Œåœ¨æœåŠ¡ç«¯çš„å¼€å‘å¹³å°ï¼›</li>
<li>Node.js å¯ä»¥ä½œä¸ºæœåŠ¡å™¨å‘ç”¨æˆ·æä¾›æœåŠ¡ï¼Œç›´æ¥é¢å‘å‰ç«¯å¼€å‘ï¼›</li>
<li>JavaScript æ˜¯ç”± ECMAScriptã€æ–‡æ¡£å¯¹è±¡æ¨¡å‹ï¼ˆDOMï¼‰å’Œæµè§ˆå™¨å¯¹è±¡æ¨¡å‹ï¼ˆBOMï¼‰ç»„æˆï¼›</li>
<li>Node.js ä¸­æ‰€è°“çš„ JavaScript åªæ˜¯ Core JavaScriptï¼›</li>
<li>Node.js çš„ JavaScript å¼•æ“æ˜¯ V8ï¼Œæ¥è‡ª Google Chrome é¡¹ç›®ï¼›</li>
<li>Node.js ä¸è¿è¡Œåœ¨æµè§ˆå™¨ä¸­ï¼Œæ‰€ä»¥ä¹Ÿå°±ä¸å­˜åœ¨ JavaScript çš„æµè§ˆå™¨å…¼å®¹æ€§é—®é¢˜ï¼Œ<strong>å¯ä»¥æ”¾å¿ƒåœ°ä½¿ç”¨ JavaScript è¯­è¨€çš„æ‰€æœ‰ç‰¹æ€§ï¼</strong></li>
<li>èƒ½å¹²ä»€ä¹ˆï¼š<ol>
<li>å…·æœ‰å¤æ‚é€»è¾‘çš„ç½‘ç«™</li>
<li>åŸºäºç¤¾äº¤ç½‘ç»œçš„å¤§è§„æ¨¡ Web åº”ç”¨</li>
<li>Web Socket æœåŠ¡å™¨</li>
<li>TCP/UDP å¥—æ¥å­—åº”ç”¨ç¨‹åº</li>
<li>å‘½ä»¤è¡Œå·¥å…·</li>
<li>äº¤äº’å¼ç»ˆç«¯ç¨‹åº</li>
<li>å¸¦æœ‰å›¾å½¢ç”¨æˆ·ç•Œé¢çš„æœ¬åœ°åº”ç”¨ç¨‹åº</li>
<li>å•å…ƒæµ‹è¯•å·¥å…·</li>
<li>å®¢æˆ·ç«¯ JavaScript ç¼–è¯‘å™¨</li>
</ol>
</li>
<li>Node.js å†…å»ºäº† HTTP æœåŠ¡å™¨æ”¯æŒï¼Œä¹Ÿå°±æ˜¯è¯´ä½ å¯ä»¥è½»è€Œæ˜“ä¸¾åœ°å®ç°ä¸€ä¸ªç½‘ç«™å’ŒæœåŠ¡å™¨çš„ç»„åˆï¼Œä¹Ÿå°±æ„å‘³ç€ä½ å¯ä»¥å¾ˆæ–¹ä¾¿åœ°å»å¼€å‘ï¼Œè€Œä¸éœ€è¦å†è€ƒè™‘æ­å»ºä¸€ä¸ªApacheæˆ–è€…NginxæœåŠ¡å™¨ï¼›</li>
<li>Node.js å¯ä»¥è°ƒç”¨C/C++ çš„ä»£ç ï¼›</li>
<li><strong>Node.js æœ€å¤§çš„ç‰¹ç‚¹å°±æ˜¯é‡‡ç”¨å¼‚æ­¥å¼ I/O ä¸äº‹ä»¶é©±åŠ¨çš„æ¶æ„è®¾è®¡ã€‚</strong></li>
<li>Node.jså¾ˆå¤§ç¨‹åº¦ä¸Šå¯ä»¥æé«˜ Web åº”ç”¨çš„å¥å£®æ€§ï¼Œé˜²æ­¢æ¶æ„æ”»å‡»ï¼</li>
</ol>
<h2 id="å¿«é€Ÿä½¿ç”¨Node-js"><a href="#å¿«é€Ÿä½¿ç”¨Node-js" class="headerlink" title="å¿«é€Ÿä½¿ç”¨Node.js"></a>å¿«é€Ÿä½¿ç”¨Node.js</h2><ol>
<li>æ‰‹å†™ä¸€ä¸ªhello.js,å…¶ä¸­å†…å®¹ä¸ºï¼šconsole.log(â€˜hello worldâ€™),ç„¶ååœ¨ç»ˆç«¯è¾“å…¥å‘½ä»¤ï¼š</li>
</ol>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">node hello.js</span><br><span class="line"><span class="meta">#</span><span class="bash"> è¾“å‡º</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> hello world</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> console æ˜¯ Node.js æä¾›çš„æ§åˆ¶å°å¯¹è±¡</span></span><br></pre></td></tr></table></figure>

<ol start="2">
<li>ä¸€ä¸ªç®€å•çš„webæœåŠ¡ç¨‹åºï¼š</li>
</ol>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//easy_web.js</span></span><br><span class="line"><span class="keyword">var</span> http=<span class="built_in">require</span>(<span class="string">'http'</span>);</span><br><span class="line">http.createServer(<span class="function"><span class="keyword">function</span>(<span class="params">req,res</span>) </span>&#123;</span><br><span class="line">        res.writeHead(<span class="number">200</span>,&#123;<span class="string">'Content-Type'</span>:<span class="string">'text/html'</span>&#125;);</span><br><span class="line">        res.write(<span class="string">'&lt;h1&gt;Node.js&lt;/h1&gt;'</span>);</span><br><span class="line">        res.end(<span class="string">'&lt;p&gt;Hello world!&lt;/p&gt;'</span>);</span><br><span class="line">&#125; ).listen(<span class="number">80</span>);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'Http server is listening at port 80.'</span>);</span><br></pre></td></tr></table></figure>

<ol start="3">
<li><strong>supervisor å¯ä»¥ç›‘è§†å¯¹ä»£ç çš„æ”¹åŠ¨ï¼Œå¹¶è‡ªåŠ¨é‡å¯ Node.js</strong>,ä½¿ç”¨åªè¦å®‰è£…supervisor,ç„¶åä½¿ç”¨supervisoræ¥å¯åŠ¨è„šæœ¬å°±å¯ä»¥äº†:</li>
</ol>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">npm install -g supervisor</span><br><span class="line"><span class="meta">#</span><span class="bash"> è¿è¡Œä»£ç </span></span><br><span class="line">supervisor easy_web.js</span><br></pre></td></tr></table></figure>

<ol start="4">
<li>Node.js æ‰€æœ‰çš„å¼‚æ­¥ I/O æ“ä½œåœ¨å®Œæˆæ—¶éƒ½ä¼šå‘é€ä¸€ä¸ªäº‹ä»¶åˆ°äº‹ä»¶é˜Ÿåˆ—ï¼Œåœ¨å¼€å‘è€…çœ‹æ¥ï¼Œäº‹ä»¶ç”± EventEmitter å¯¹è±¡æä¾›ï¼›</li>
</ol>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// æ³¨å†Œäº†ä¸€ä¸ªäº‹ä»¶ç›‘å¬å™¨ï¼Œç„¶å2000æ¯«ç§’åå‘é€äº‹ä»¶som_eventï¼Œç„¶åä¼šå›è°ƒåŒ¿åå‡½æ•°ï¼›</span></span><br><span class="line"><span class="keyword">var</span> EventEmitter=<span class="built_in">require</span>(<span class="string">'events'</span>).EventEmitter;</span><br><span class="line"><span class="keyword">var</span> myevent=<span class="keyword">new</span> EventEmitter();</span><br><span class="line"></span><br><span class="line">myevent.on(<span class="string">'som_event'</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(<span class="string">'som_event occured!'</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">myevent.emit(<span class="string">'som_event'</span>);</span><br><span class="line">&#125;,<span class="number">2000</span>);</span><br></pre></td></tr></table></figure>

<ol start="5">
<li>æ¨¡å—ï¼ˆModuleï¼‰å’ŒåŒ…ï¼ˆPackageï¼‰æ˜¯Node.jsçš„é‡è¦å†…å®¹ï¼Œä¸å¯èƒ½ä½ çš„ä»£ç åªæœ‰ä¸€ä¸ªjsæ–‡ä»¶å§ï¼Œè€Œä¸”ä¸å¯èƒ½é‡å¤é€ è½®å­å§ï¼</li>
<li>åœ¨ Node.js ä¸­ï¼Œåˆ›å»ºä¸€ä¸ªæ¨¡å—éå¸¸ç®€å•ï¼Œå› ä¸ºä¸€ä¸ªæ–‡ä»¶å°±æ˜¯ä¸€ä¸ªæ¨¡å—ï¼Œexports æ˜¯æ¨¡å—å…¬å¼€çš„æ¥å£ï¼Œrequire ç”¨äºä»å¤–éƒ¨è·å–ä¸€ä¸ªæ¨¡å—çš„æ¥å£ï¼›</li>
</ol>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// module.js</span></span><br><span class="line"><span class="comment">// npm æä¾›çš„ä¸Šä¸‡ä¸ªæ¨¡å—éƒ½æ˜¯é€šè¿‡è¿™ç§ç®€å•çš„æ–¹å¼æ­å»ºèµ·æ¥çš„</span></span><br><span class="line"><span class="keyword">var</span> name;</span><br><span class="line">exports.setName=<span class="function"><span class="keyword">function</span>(<span class="params">theName</span>)</span>&#123;</span><br><span class="line">  name=theName;</span><br><span class="line">&#125;;</span><br><span class="line">exports.sayHello=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'Hello ,'</span> + name);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åœ¨å¦ä¸€ä¸ªè„šæœ¬æ–‡ä»¶ä¸­ä½¿ç”¨</span></span><br><span class="line"><span class="comment">// requireå§‹ç»ˆéƒ½æ˜¯å•æ¬¡åŠ è½½</span></span><br><span class="line"><span class="keyword">var</span> mymodule=<span class="built_in">require</span>(<span class="string">'./module'</span>);</span><br><span class="line">mymodule.setName(<span class="string">'WanderROS'</span>);</span><br><span class="line">mymodule.sayHello();</span><br></pre></td></tr></table></figure>

<ol start="7">
<li>ç®€åŒ–æ¨¡å—åˆ›å»ºï¼š</li>
</ol>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//singleobject.js</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Hello</span>(<span class="params"></span>) </span>&#123; </span><br><span class="line"><span class="keyword">var</span> name;</span><br><span class="line"><span class="keyword">this</span>.setName = <span class="function"><span class="keyword">function</span> (<span class="params">thyName</span>) </span>&#123;</span><br><span class="line">  name = thyName; </span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">this</span>.sayHello = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123; </span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'Hello '</span> + name); </span><br><span class="line">&#125;; </span><br><span class="line">&#125;;</span><br><span class="line">exports.Hello = Hello;</span><br><span class="line"><span class="comment">// è¿™ç§ä½¿ç”¨çš„æ—¶å€™ require('./singleobject').Hello</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æ¨èä½¿ç”¨ä¸‹é¢çš„æ–¹å¼</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Hello</span>(<span class="params"></span>) </span>&#123; </span><br><span class="line"><span class="keyword">var</span> name;</span><br><span class="line"><span class="keyword">this</span>.setName = <span class="function"><span class="keyword">function</span> (<span class="params">thyName</span>) </span>&#123;</span><br><span class="line">  name = thyName; </span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">this</span>.sayHello = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123; </span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'Hello '</span> + name); </span><br><span class="line">&#125;; </span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">module</span>.exports = Hello;</span><br><span class="line"><span class="comment">// è¿™ç§ä½¿ç”¨çš„æ—¶å€™ require('./singleobject')</span></span><br></pre></td></tr></table></figure>

<ol start="8">
<li>exports æœ¬èº«ä»…ä»…æ˜¯ä¸€ä¸ªæ™®é€šçš„ç©ºå¯¹è±¡ï¼Œå³ {}ï¼Œå®ƒä¸“é—¨ç”¨æ¥å£°æ˜æ¥å£ï¼Œæœ¬è´¨ä¸Šæ˜¯é€šè¿‡å®ƒä¸ºæ¨¡å—é—­åŒ…çš„å†…éƒ¨å»ºç«‹äº†ä¸€ä¸ªæœ‰é™çš„è®¿é—®æ¥å£;</li>
<li>Node.js çš„åŒ…æ˜¯ä¸€ä¸ªç›®å½•ï¼Œå…¶ä¸­åŒ…å«ä¸€ä¸ª JSON æ ¼å¼çš„åŒ…è¯´æ˜æ–‡ä»¶ package.json,ä¸¥æ ¼ç¬¦åˆ CommonJS è§„èŒƒçš„åŒ…åº”è¯¥å…·å¤‡ä»¥ä¸‹ç‰¹å¾:<ol>
<li>package.json å¿…é¡»åœ¨åŒ…çš„é¡¶å±‚ç›®å½•ä¸‹</li>
<li>äºŒè¿›åˆ¶æ–‡ä»¶åº”è¯¥åœ¨ bin ç›®å½•ä¸‹</li>
<li>JavaScript ä»£ç åº”è¯¥åœ¨ lib ç›®å½•ä¸‹</li>
<li>æ–‡æ¡£åº”è¯¥åœ¨ doc ç›®å½•ä¸‹</li>
<li>å•å…ƒæµ‹è¯•åº”è¯¥åœ¨ test ç›®å½•ä¸‹</li>
</ol>
</li>
<li>Node.js åœ¨è°ƒç”¨æŸä¸ªåŒ…æ—¶ï¼Œä¼šé¦–å…ˆæ£€æŸ¥åŒ…ä¸­ package.json æ–‡ä»¶çš„ main å­—æ®µï¼Œå°†å…¶ä½œä¸ºåŒ…çš„æ¥å£æ¨¡å—ï¼Œå¦‚æœ package.json æˆ– main å­—æ®µä¸å­˜åœ¨ï¼Œä¼šå°è¯•å¯»æ‰¾ index.js æˆ– index.node ä½œä¸ºåŒ…çš„æ¥å£;</li>
</ol>
<h2 id="åŒ…ç®¡ç†å™¨npm"><a href="#åŒ…ç®¡ç†å™¨npm" class="headerlink" title="åŒ…ç®¡ç†å™¨npm"></a>åŒ…ç®¡ç†å™¨npm</h2><ol>
<li>ä½¿ç”¨ npm å®‰è£…åŒ…çš„å‘½ä»¤æ ¼å¼ä¸ºï¼ˆæ”¾ç½®åœ¨å½“å‰ç›®å½•çš„ node_modules å­ç›®å½•ä¸‹ï¼‰ï¼š npm [install/i] [package_name] ï¼›</li>
<li>npm è¿˜æœ‰å¦ä¸€ç§ä¸åŒçš„å®‰è£…æ¨¡å¼è¢«æˆä¸ºå…¨å±€æ¨¡å¼ï¼ˆnpm ä¼šå°†åŒ…å®‰è£…åˆ°ç³»ç»Ÿç›®å½•ï¼‰ï¼Œä½¿ç”¨æ–¹æ³•ä¸ºï¼šnpm [install/i] -g [package_name] ï¼›</li>
<li>npm linkåœ¨æœ¬åœ°åŒ…å’Œå…¨å±€åŒ…ä¹‹é—´åˆ›å»ºç¬¦å·é“¾æ¥ï¼›</li>
<li>npm init å¯ä»¥æ ¹æ®äº¤äº’å¼é—®ç­”äº§ç”Ÿä¸€ä¸ªç¬¦åˆæ ‡å‡†çš„ package.jsonï¼›</li>
<li>node-inspector æ˜¯ä¸€ä¸ªå®Œå…¨åŸºäº Node.js çš„å¼€æºåœ¨çº¿è°ƒè¯•å·¥å…·ï¼Œæä¾›äº†å¼ºå¤§çš„è°ƒè¯•åŠŸèƒ½å’Œå‹å¥½çš„ç”¨æˆ·ç•Œé¢ï¼Œä½¿ç”¨ npm install -g node-inspector å‘½ä»¤å®‰è£… node-inspectorã€‚</li>
</ol>
<h2 id="Node-jsæ ¸å¿ƒ"><a href="#Node-jsæ ¸å¿ƒ" class="headerlink" title="Node.jsæ ¸å¿ƒ"></a>Node.jsæ ¸å¿ƒ</h2><ol>
<li>JavaScript ä¸­æœ‰ä¸€ä¸ªç‰¹æ®Šçš„å¯¹è±¡ï¼Œç§°ä¸ºå…¨å±€å¯¹è±¡ï¼ˆGlobal Objectï¼‰ï¼Œå®ƒåŠå…¶æ‰€æœ‰å±æ€§éƒ½å¯ä»¥åœ¨ç¨‹åºçš„ä»»ä½•åœ°æ–¹è®¿é—®ï¼Œå³å…¨å±€å˜é‡,Node.js ä¸­çš„å…¨å±€å¯¹è±¡æ˜¯ globalï¼Œæ‰€æœ‰å…¨å±€å˜é‡éƒ½æ˜¯ globalå¯¹è±¡çš„å±æ€§;</li>
<li><strong>process</strong> æ˜¯ä¸€ä¸ªå…¨å±€å˜é‡,ç”¨äºæè¿°å½“å‰ Node.js è¿›ç¨‹çŠ¶æ€,æä¾›äº†ä¸€ä¸ªä¸æ“ä½œç³»ç»Ÿçš„ç®€å•æ¥å£:<ol>
<li>process.argvæ˜¯å‘½ä»¤è¡Œå‚æ•°æ•°ç»„ï¼Œç¬¬ä¸€ä¸ªå…ƒç´ æ˜¯ nodeï¼Œç¬¬äºŒä¸ªå…ƒç´ æ˜¯è„šæœ¬æ–‡ä»¶å,ä»ç¬¬ä¸‰ä¸ªå…ƒç´ å¼€å§‹æ¯ä¸ªå…ƒç´ æ˜¯ä¸€ä¸ªè¿è¡Œå‚æ•°</li>
<li>process.stdoutæ˜¯æ ‡å‡†è¾“å‡ºæµ,process.stdout.write() å‡½æ•°æä¾›äº†æ›´åº•å±‚çš„æ¥å£;</li>
<li>process.stdinæ˜¯æ ‡å‡†è¾“å…¥æµ,åˆå§‹æ—¶å®ƒæ˜¯è¢«æš‚åœçš„ï¼Œæ¢å¤è¦ä½¿ç”¨ï¼šprocess.stdin.resume();</li>
<li>process.nextTick(callback)çš„åŠŸèƒ½æ˜¯ä¸ºäº‹ä»¶å¾ªç¯è®¾ç½®ä¸€é¡¹ä»»åŠ¡ï¼›</li>
</ol>
</li>
<li>*<em>console *</em>ç”¨äºæä¾›æ§åˆ¶å°æ ‡å‡†è¾“å‡ºï¼š<ol>
<li>console.log()ï¼šå‘æ ‡å‡†è¾“å‡ºæµæ‰“å°å­—ç¬¦å¹¶ä»¥æ¢è¡Œç¬¦ç»“æŸï¼›</li>
<li>console.error()ï¼šä¸ console.log() ç”¨æ³•ç›¸åŒï¼Œåªæ˜¯å‘æ ‡å‡†é”™è¯¯æµè¾“å‡ºï¼›</li>
<li>console.trace()ï¼šå‘æ ‡å‡†é”™è¯¯æµè¾“å‡ºå½“å‰çš„è°ƒç”¨æ ˆï¼›</li>
</ol>
</li>
<li><strong>util</strong>æ˜¯ä¸€ä¸ª Node.js æ ¸å¿ƒæ¨¡å—ï¼Œæä¾›å¸¸ç”¨å‡½æ•°çš„é›†åˆï¼š<ol>
<li>util.inherits(constructor, superConstructor) æ˜¯ä¸€ä¸ªå®ç°å¯¹è±¡é—´åŸå‹ç»§æ‰¿çš„å‡½æ•°ï¼›</li>
<li>util.inspect(object,[showHidden],[depth],[colors])æ˜¯ä¸€ä¸ªå°†ä»»æ„å¯¹è±¡è½¬æ¢ä¸ºå­—ç¬¦ä¸²çš„æ–¹æ³•ï¼Œé€šå¸¸ç”¨äºè°ƒè¯•å’Œé”™è¯¯è¾“å‡ºï¼›</li>
<li>utilè¿˜æä¾›äº†util.isArray()ã€util.isRegExp()ã€util.isDate()ã€util.isError() å››ä¸ªç±»å‹æµ‹è¯•å·¥å…·ï¼Œä»¥åŠ util.format()ã€util.debug() ç­‰å·¥å…·ï¼›</li>
</ol>
</li>
<li><ol>
<li>events æ¨¡å—åªæä¾›äº†ä¸€ä¸ªå¯¹è±¡ï¼š events.EventEmitterï¼Œäº‹ä»¶å‘å°„ä¸äº‹ä»¶ç›‘å¬å™¨åŠŸèƒ½çš„å°è£…ï¼›</li>
<li>EventEmitter.on(event, listener) ä¸ºæŒ‡å®šäº‹ä»¶æ³¨å†Œä¸€ä¸ªç›‘å¬å™¨ï¼Œæ¥å—ä¸€ä¸ªå­—ç¬¦ä¸² event å’Œä¸€ä¸ªå›è°ƒå‡½æ•° listenerï¼›</li>
<li>EventEmitter.emit(event, [arg1], [arg2], [â€¦]) å‘å°„ event äº‹ä»¶ï¼›</li>
<li>EventEmitter.once(event, listener) ä¸ºæŒ‡å®šäº‹ä»¶æ³¨å†Œä¸€ä¸ªå•æ¬¡ç›‘å¬å™¨ï¼›</li>
<li>EventEmitter.removeListener(event, listener) ç§»é™¤æŒ‡å®šäº‹ä»¶çš„æŸä¸ªç›‘å¬å™¨ï¼›</li>
<li>EventEmitter.removeAllListeners([event]) ç§»é™¤æ‰€æœ‰äº‹ä»¶çš„æ‰€æœ‰ç›‘å¬å™¨ï¼›</li>
</ol>
</li>
<li>EventEmitter å®šä¹‰äº†ä¸€ä¸ªç‰¹æ®Šçš„äº‹ä»¶ errorï¼Œå½“ error è¢«å‘å°„æ—¶ï¼ŒEventEmitter è§„å®šå¦‚æœæ²¡æœ‰å“åº”çš„ç›‘å¬å™¨ï¼ŒNode.js ä¼šæŠŠå®ƒå½“ä½œå¼‚å¸¸ï¼Œé€€å‡ºç¨‹åºå¹¶æ‰“å°è°ƒç”¨æ ˆï¼›</li>
<li>*<em>fs *</em>æ¨¡å—æ˜¯æ–‡ä»¶æ“ä½œçš„å°è£…ï¼Œå®ƒæä¾›äº†æ–‡ä»¶çš„è¯»å–ã€å†™å…¥ã€æ›´åã€åˆ é™¤ã€éå†ç›®å½•ã€é“¾æ¥ç­‰ POSIX æ–‡ä»¶ç³»ç»Ÿæ“ä½œï¼š<ol>
<li>fs.readFile(filename,[encoding],[callback(err,data)]) æ˜¯æœ€ç®€å•çš„è¯»å–æ–‡ä»¶çš„å‡½æ•°ï¼›</li>
<li>fs.readFileSync(filename, [encoding])æ˜¯ fs.readFile åŒæ­¥çš„ç‰ˆæœ¬ï¼›</li>
<li>fs.open(path, flags, [mode], [callback(err, fd)])æ˜¯ POSIX open å‡½æ•°çš„å°è£…ï¼Œä¸ C è¯­è¨€æ ‡å‡†åº“ä¸­çš„ fopen å‡½æ•°ç±»ä¼¼ï¼›</li>
<li>fs.read(fd, buffer, offset, length, position, [callback(err, bytesRead,buffer)])æ˜¯ POSIX read å‡½æ•°çš„å°è£…ï¼›</li>
</ol>
</li>
<li>*<em>http *</em>æ¨¡å—å°è£…äº†ä¸€ä¸ªé«˜æ•ˆçš„ HTTP æœåŠ¡å™¨å’Œä¸€ä¸ªç®€æ˜“çš„HTTP å®¢æˆ·ç«¯ï¼š<ol>
<li>http.Server æ˜¯ http æ¨¡å—ä¸­çš„ HTTP æœåŠ¡å™¨å¯¹è±¡ï¼Œhttp.createServer åˆ›å»ºäº†ä¸€ä¸ª http.Server çš„å®ä¾‹ï¼Œå°†ä¸€ä¸ªå‡½æ•°ä½œä¸º HTTP è¯·æ±‚å¤„ç†å‡½æ•°ï¼›</li>
<li>http.Serverçš„äº‹ä»¶ï¼š<ol>
<li>requestï¼šå½“å®¢æˆ·ç«¯è¯·æ±‚åˆ°æ¥æ—¶ï¼Œè¯¥äº‹ä»¶è¢«è§¦å‘ï¼Œæä¾›ä¸¤ä¸ªå‚æ•° req å’Œresï¼Œåˆ†åˆ«æ˜¯http.ServerRequest å’Œ http.ServerResponse çš„å®ä¾‹ï¼›</li>
<li>connection ï¼šå½“ TCP è¿æ¥å»ºç«‹æ—¶ï¼Œ è¯¥äº‹ä»¶è¢«è§¦å‘ï¼Œ æä¾›ä¸€ä¸ªå‚æ•° socket ï¼Œ ä¸ºnet.Socket çš„å®ä¾‹ï¼›</li>
<li>close ï¼šå½“æœåŠ¡å™¨å…³é—­æ—¶ï¼Œè¯¥äº‹ä»¶è¢«è§¦å‘ï¼›</li>
<li>è¿˜æœ‰ checkContinueã€upgradeã€clientError äº‹ä»¶ï¼›</li>
</ol>
</li>
<li><strong>http.ServerRequest æ˜¯ HTTP è¯·æ±‚çš„ä¿¡æ¯ï¼Œæ˜¯åç«¯å¼€å‘è€…æœ€å…³æ³¨çš„å†…å®¹ï¼›</strong></li>
<li><strong>http.ServerResponseæ˜¯è¿”å›ç»™å®¢æˆ·ç«¯çš„ä¿¡æ¯ï¼Œå†³å®šäº†ç”¨æˆ·æœ€ç»ˆèƒ½çœ‹åˆ°çš„ç»“æœï¼›</strong><ol>
<li>response.writeHead(statusCode, [headers])ï¼šå‘è¯·æ±‚çš„å®¢æˆ·ç«¯å‘é€å“åº”å¤´ï¼›</li>
<li>response.write(data, [encoding])ï¼šå‘è¯·æ±‚çš„å®¢æˆ·ç«¯å‘é€å“åº”å†…å®¹ï¼›</li>
<li>response.end([data], [encoding])ï¼šç»“æŸå“åº”ï¼Œå‘ŠçŸ¥å®¢æˆ·ç«¯æ‰€æœ‰å‘é€å·²ç»å®Œæˆï¼›</li>
</ol>
</li>
<li>http.request(options, callback) å‘èµ· HTTP è¯·æ±‚ï¼›</li>
<li>http.get(options, callback) http æ¨¡å—è¿˜æä¾›äº†ä¸€ä¸ªæ›´åŠ ç®€ä¾¿çš„æ–¹æ³•ç”¨äºå¤„ç†GETè¯·æ±‚ï¼š<ol>
<li>http.ClientRequest æ˜¯ç”± http.request æˆ– http.get è¿”å›äº§ç”Ÿçš„å¯¹è±¡ï¼Œè¡¨ç¤ºä¸€ä¸ªå·²ç»äº§ç”Ÿè€Œä¸”æ­£åœ¨è¿›è¡Œä¸­çš„ HTTP è¯·æ±‚ï¼›</li>
<li>request.abort()ï¼šç»ˆæ­¢æ­£åœ¨å‘é€çš„è¯·æ±‚ï¼›</li>
<li>request.setTimeout(timeout, [callback])ï¼šè®¾ç½®è¯·æ±‚è¶…æ—¶æ—¶é—´ï¼Œtimeout ä¸ºæ¯«ç§’æ•°ï¼Œå½“è¯·æ±‚è¶…æ—¶ä»¥åï¼Œcallback å°†ä¼šè¢«è°ƒç”¨ï¼›</li>
<li>http.ClientResponse ä¸ http.ServerRequest ç›¸ä¼¼ï¼Œæä¾›äº†ä¸‰ä¸ªäº‹ä»¶ dataã€endå’Œ closeï¼Œåˆ†åˆ«åœ¨æ•°æ®åˆ°è¾¾ã€ä¼ è¾“ç»“æŸå’Œè¿æ¥ç»“æŸæ—¶è§¦å‘ï¼›</li>
</ol>
</li>
</ol>
</li>
</ol>
<h2 id="Webå¼€å‘ç›¸å…³"><a href="#Webå¼€å‘ç›¸å…³" class="headerlink" title="Webå¼€å‘ç›¸å…³"></a>Webå¼€å‘ç›¸å…³</h2><ol>
<li><strong>MVC</strong> ï¼ˆModel-View-Controllerï¼Œæ¨¡å‹-è§†å›¾-æ§åˆ¶å™¨ï¼‰æ˜¯ä¸€ç§è½¯ä»¶çš„è®¾è®¡æ¨¡å¼ï¼š<ol>
<li>æ¨¡å‹æ˜¯å¯¹è±¡åŠå…¶æ•°æ®ç»“æ„çš„å®ç°ï¼Œé€šå¸¸åŒ…å«æ•°æ®åº“æ“ä½œï¼›</li>
<li>è§†å›¾è¡¨ç¤ºç”¨æˆ·ç•Œé¢ï¼Œåœ¨ç½‘ç«™ä¸­é€šå¸¸å°±æ˜¯ HTML çš„ç»„ç»‡ç»“æ„ï¼›</li>
<li>æ§åˆ¶å™¨ç”¨äºå¤„ç†ç”¨æˆ·è¯·æ±‚å’Œæ•°æ®æµã€å¤æ‚æ¨¡å‹ï¼Œå°†è¾“å‡ºä¼ é€’ç»™è§†å›¾ã€‚</li>
</ol>
</li>
<li><strong>Express</strong>é™¤äº†ä¸º http æ¨¡å—æä¾›äº†æ›´é«˜å±‚çš„æ¥å£å¤–ï¼Œè¿˜æœ‰å¾ˆå¤šåŠŸèƒ½ï¼Œæ˜¯ä¸€ä¸ªè½»é‡çº§çš„ Web æ¡†æ¶ï¼š<ol>
<li>è·¯ç”±æ§åˆ¶</li>
<li>æ¨¡æ¿è§£ææ”¯æŒ</li>
<li>åŠ¨æ€è§†å›¾</li>
<li>ç”¨æˆ·ä¼šè¯</li>
<li>CSRF ä¿æŠ¤</li>
<li>é™æ€æ–‡ä»¶æœåŠ¡</li>
<li>é”™è¯¯æ§åˆ¶å™¨</li>
<li>è®¿é—®æ—¥å¿—</li>
<li>ç¼“å­˜</li>
<li>æ’ä»¶æ”¯æŒ</li>
</ol>
</li>
<li><strong>REST</strong>ï¼šè¡¨å¾çŠ¶æ€è½¬ç§»ï¼ˆRepresentational State Transferæ˜¯ä¸€ç§åŸºäº HTTP åè®®çš„ç½‘ç»œåº”ç”¨çš„æ¥å£é£æ ¼ï¼Œå……åˆ†åˆ©ç”¨ HTTP çš„æ–¹æ³•å®ç°ç»Ÿä¸€é£æ ¼æ¥å£çš„æœåŠ¡ï¼ŒHTTP åè®®å®šä¹‰äº†æ ‡å‡†çš„æ–¹æ³•ï¼š</li>
</ol>
<ul>
<li>GETï¼šè¯·æ±‚è·å–æŒ‡å®šèµ„æº</li>
<li>HEADï¼šè¯·æ±‚æŒ‡å®šèµ„æºçš„å“åº”å¤´</li>
<li>POSTï¼šå‘æŒ‡å®šèµ„æºæäº¤æ•°æ®</li>
<li>PUTï¼šè¯·æ±‚æœåŠ¡å™¨å­˜å‚¨ä¸€ä¸ªèµ„æº</li>
<li>DELETEï¼šè¯·æ±‚æœåŠ¡å™¨åˆ é™¤æŒ‡å®šèµ„æº</li>
<li>TRACEï¼šå›æ˜¾æœåŠ¡å™¨æ”¶åˆ°çš„è¯·æ±‚ï¼Œä¸»è¦ç”¨äºæµ‹è¯•æˆ–è¯Šæ–­</li>
<li>CONNECTï¼šHTTP/1.1 åè®®ä¸­é¢„ç•™ç»™èƒ½å¤Ÿå°†è¿æ¥æ”¹ä¸ºç®¡é“æ–¹å¼çš„ä»£ç†æœåŠ¡å™¨</li>
<li>OPTIONSï¼šè¿”å›æœåŠ¡å™¨æ”¯æŒçš„HTTPè¯·æ±‚æ–¹æ³•</li>
</ul>
<ol start="4">
<li>æ¨¡æ¿å¼•æ“ï¼ˆTemplate Engineï¼‰æ˜¯ä¸€ä¸ªä»é¡µé¢æ¨¡æ¿æ ¹æ®ä¸€å®šçš„è§„åˆ™ç”Ÿæˆ HTML çš„å·¥å…·ï¼›</li>
</ol>
<hr>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>Node.jsé‡Œé¢æœ‰å¾ˆå¤šåŒ…å¸®åŠ©æˆ‘ä»¬å¼€ä¸€ä¸ªåº”ç”¨çº§åˆ«çš„Webç¨‹åºï¼Œè¿™éƒ¨åˆ†ä¸»è¦è¿˜æ˜¯å¯¹Node.jsæœ‰ä¸ªåŸºç¡€çš„è®¤è¯†ï¼Œå¾ˆå¤šçš„åº”ç”¨è¿˜æ˜¯éœ€è¦å»å­¦ä¹ ä¸€äº›æ¡†æ¶ï¼Œä»¥åŠä¸€äº›ç¼–ç¨‹æ€æƒ³ï¼Œæ¯”å¦‚MVCç­‰ç­‰æ¡†æ¶ï¼Œè¿˜æœ‰æ¨¡æ¿å¼•æ“èƒ½å¸®åŠ©æˆ‘ä»¬è®¾è®¡å‡ºæ¯”è¾ƒå‹å¥½çš„ç•Œé¢ï¼</p>
]]></content>
      <categories>
        <category>Nodejs</category>
      </categories>
  </entry>
  <entry>
    <title>IoT è®¾å¤‡ä¸ŠæŠ¥æŸ¥è¯¢</title>
    <url>/2020/06/15/IoT-%E8%AE%BE%E5%A4%87%E4%B8%8A%E6%8A%A5%E6%9F%A5%E8%AF%A2/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>ï¼ï¼ï¼â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”çœ‹ä¸åˆ°ï¼Œæ°”ä¸æ°”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”ï¼ï¼ï¼</p>
<p>ï¼ï¼ï¼â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”çœ‹ä¸åˆ°ï¼Œæ°”ä¸æ°”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”ï¼ï¼ï¼</p>
<p>ï¼ï¼ï¼â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”çœ‹ä¸åˆ°ï¼Œæ°”ä¸æ°”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”ï¼ï¼ï¼</p>
<p>ï¼ï¼ï¼â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”çœ‹ä¸åˆ°ï¼Œæ°”ä¸æ°”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”ï¼ï¼ï¼</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//                            _ooOoo_</span></span><br><span class="line"><span class="comment">//                           o8888888o</span></span><br><span class="line"><span class="comment">//                           88" . "88</span></span><br><span class="line"><span class="comment">//                           (| -_- |)</span></span><br><span class="line"><span class="comment">//                           O\  =  /O</span></span><br><span class="line"><span class="comment">//                        ____/`---'\____</span></span><br><span class="line"><span class="comment">//                      .'  \\|     |//  `.</span></span><br><span class="line"><span class="comment">//                     /  \\|||  :  |||//  \</span></span><br><span class="line"><span class="comment">//                    /  _||||| -:- |||||-  \</span></span><br><span class="line"><span class="comment">//                    |   | \\\  -  /// |   |</span></span><br><span class="line"><span class="comment">//                    | \_|  ''\---/''  |   |</span></span><br><span class="line"><span class="comment">//                    \  .-\__  `-`  ___/-. /</span></span><br><span class="line"><span class="comment">//                  ___`. .'  /--.--\  `. . __</span></span><br><span class="line"><span class="comment">//               ."" '&lt;  `.___\_&lt;|&gt;_/___.'  &gt;'"".</span></span><br><span class="line"><span class="comment">//              | | :  `- \`.;`\ _ /`;.`/ - ` : | |</span></span><br><span class="line"><span class="comment">//              \  \ `-.   \_ __\ /__ _/   .-` /  /</span></span><br><span class="line"><span class="comment">//         ======`-.____`-.___\_____/___.-`____.-'======</span></span><br><span class="line"><span class="comment">//                            `=---='</span></span><br><span class="line"><span class="comment">//        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^</span></span><br><span class="line"><span class="comment">//                      ä½›ç¥–ä¿ä½‘       æ°¸æ— BUG</span></span><br></pre></td></tr></table></figure>

<p>æ— åŠ›åæ§½ç”µæ§çš„ç¼–ç¨‹æ°´å¹³,æ¯æ¬¡éƒ½è¦ç»™å®šä½é—®é¢˜,æµªè´¹è‡ªå·±çš„æ—¶é—´,çœŸå®å¾ˆæ— å¥ˆ,ç›´æ¥é€šè¿‡IoTéƒ¨é—¨çš„è®¾å¤‡æŒ‡ä»¤æŸ¥è¯¢å°±å¯ä»¥ç›´æ¥å°†é—®é¢˜æŒ‡ç»™ç”µæ§éƒ¨é—¨è‡ªå·±å»æŸ¥ä»£ç ï¼Œä¸ç„¶è€æ˜¯èŠ±è‡ªå·±çš„æ—¶é—´æ¥å¸®å¿™å®šä½é—®é¢˜ï¼Œå°±æ„Ÿè§‰å¾ˆå‚»é€¼ï¼</p>
<hr>
<h1 id="å¿«é€Ÿä½¿ç”¨"><a href="#å¿«é€Ÿä½¿ç”¨" class="headerlink" title="å¿«é€Ÿä½¿ç”¨"></a>å¿«é€Ÿä½¿ç”¨</h1><ol>
<li><p>ä¸‹è½½ä»£ç†å·¥å…·profixerï¼›</p>
</li>
<li><p>é…ç½®ä»£ç†å·¥å…·çš„Proxyï¼š</p>
<ol>
<li>åœ°å€:121.40.83.192</li>
<li>ç«¯å£ï¼š1080</li>
<li>åè®®ï¼šSOCKS Version5</li>
<li>è®¤è¯è´¦æˆ·ï¼šliuxq17</li>
<li>è®¤è¯å¯†ç ï¼šFDS54#$^#jhm7$#xNG</li>
</ol>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/ab58397a921edd48766d461867f1aa80-96463" alt="é…ç½®Proxy"></p>
</li>
<li><p>é…ç½®è§„åˆ™ï¼š</p>
<ol>
<li>åç§°ï¼šç¾å±…IoT</li>
<li>ç›®æ ‡ä¸»æœºï¼š10.47.123.232;10.51.235.159;10.171.168.96;100.98.27.208</li>
<li>Actionï¼šæŒ‡å‘é…ç½®çš„Proxy</li>
</ol>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/301a024859a96f60204699122bc0bfd7-127538" alt="é…ç½®Rules"></p>
</li>
<li><p>è®¿é—®kibanaæ—¥å¿—ï¼š<a href="http://100.98.27.208:666/" target="_blank" rel="noopener">http://100.98.27.208:666/</a></p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">http://100.98.27.208:666/app/kibana#/discover?_g=(filters:!(),refreshInterval:(pause:!t,value:0),time:(from:now-1h,to:now))&amp;_a=(columns:!(body),filters:!(('$state':(store:appState),meta:(alias:!n,disabled:!f,index:'0b446ae0-e12a-11e9-a186-cf08cb3e53ae',key:deviceid,negate:!f,params:(query:'144036023561578'),type:phrase,value:'144036023561578'),query:(match:(deviceid:(query:'144036023561578',type:phrase))))),index:'0b446ae0-e12a-11e9-a186-cf08cb3e53ae',interval:auto,query:(language:kuery,query:''),sort:!('@timestamp',desc))</span><br></pre></td></tr></table></figure>

</li>
</ol>
]]></content>
      <categories>
        <category>Work</category>
      </categories>
  </entry>
  <entry>
    <title>Java æ€§èƒ½æƒå¨æŒ‡å—</title>
    <url>/2020/05/20/Java-%E6%80%A7%E8%83%BD%E6%9D%83%E5%A8%81%E6%8C%87%E5%8D%97/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>JVMä¼˜åŒ–æ˜¯ä¸ªè€ç”Ÿå¸¸è°ˆçš„è¯é¢˜ï¼Œä¹Ÿæ˜¯ç¨‹åºå‘˜é¢è¯•å®¹æ˜“é‡åˆ°çš„é«˜é¢‘é—®é¢˜ã€‚åœ¨é¡¹ç›®åˆæœŸï¼Œå¾ˆå®¹æ˜“æ‰¾åˆ°æ¶æ„ä¸Šçš„æ”¹è¿›ç‚¹ï¼Œä¸€æ—¦æ‰¾åˆ°èƒ½æå¤§æ”¹å–„ï¼Œåœ¨æˆç†Ÿåº”ç”¨ä¸­ï¼Œè¦æ‰¾åˆ°è¿™æ ·çš„æ€§èƒ½æ”¹è¿›ç‚¹åˆ™å¾ˆç½•è§ï¼JVMæœ‰æ–°çš„åƒåœ¾æ”¶é›†å™¨ï¼ˆG1ï¼‰ï¼ŒJavaæ€§èƒ½è°ƒä¼˜è¦†ç›–ä¸¤ä¸ªé¢†åŸŸï¼šç¼–è¯‘å™¨å’Œåƒåœ¾æ”¶é›†å™¨ç­‰çš„è°ƒä¼˜å‚æ•°ï¼Œä»¥åŠAPIçš„æœ€ä½³å®è·µã€‚æ€§èƒ½è°ƒä¼˜æ˜¯é—¨ç§‘å­¦å’Œè‰ºæœ¯ï¼<strong>æ¨èä¹¦ç±ï¼šã€ŠJava æ€§èƒ½æƒå¨æŒ‡å—ã€‹Â· [ç¾] Scott Oaks è‘— æŸ³é£ é™†æ˜åˆšç­‰è¯‘</strong></p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><hr>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1>]]></content>
      <categories>
        <category>Java</category>
      </categories>
  </entry>
  <entry>
    <title>Java ä»£ç ä¼˜åŒ–</title>
    <url>/2020/04/18/Java-%E4%BB%A3%E7%A0%81%E4%BC%98%E5%8C%96/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>ä»£ç ä¼˜åŒ–çš„æœ€é‡è¦çš„ä½œç”¨åº”è¯¥æ˜¯ï¼š<strong>é¿å…æœªçŸ¥çš„é”™è¯¯ã€‚</strong>åœ¨ä»£ç ä¸Šçº¿è¿è¡Œçš„è¿‡ç¨‹ä¸­ï¼Œå¾€å¾€ä¼šå‡ºç°å¾ˆå¤šæˆ‘ä»¬æ„æƒ³ä¸åˆ°çš„é”™è¯¯ï¼Œå› ä¸ºçº¿ä¸Šç¯å¢ƒå’Œå¼€å‘ç¯å¢ƒæ˜¯éå¸¸ä¸åŒçš„ï¼Œé”™è¯¯å®šä½åˆ°æœ€åå¾€å¾€æ˜¯ä¸€ä¸ªéå¸¸å°çš„åŸå› ã€‚ç„¶è€Œä¸ºäº†è§£å†³è¿™ä¸ªé”™è¯¯ï¼Œæˆ‘ä»¬éœ€è¦å…ˆè‡ªéªŒè¯ã€å†æ‰“åŒ…å‡ºå¾…æ›¿æ¢çš„classæ–‡ä»¶ã€æš‚åœä¸šåŠ¡å¹¶é‡å¯ï¼Œå¯¹äºä¸€ä¸ªæˆç†Ÿçš„é¡¹ç›®è€Œè¨€ï¼Œæœ€åä¸€æ¡å…¶å®å½±å“æ˜¯éå¸¸å¤§çš„ï¼Œè¿™æ„å‘³ç€è¿™æ®µæ—¶é—´ç”¨æˆ·æ— æ³•è®¿é—®åº”ç”¨ã€‚</p>
<p>ä»£ç ä¼˜åŒ–çš„ç›®æ ‡æ˜¯ï¼š</p>
<ol>
<li>å‡å°ä»£ç çš„ä½“ç§¯ï¼›</li>
<li>æé«˜ä»£ç è¿è¡Œçš„æ•ˆç‡ï¼›</li>
<li>å‡å°‘ä¸å¿…è¦çš„é”™è¯¯ç­‰ã€‚</li>
</ol>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a><strong>å¼€å§‹</strong></h1><ol>
<li><strong>å°½é‡æŒ‡å®šç±»ã€æ–¹æ³•çš„finalä¿®é¥°ç¬¦ï¼š</strong></li>
</ol>
<ul>
<li>å¸¦æœ‰finalä¿®é¥°ç¬¦çš„ç±»æ˜¯ä¸å¯æ´¾ç”Ÿçš„ï¼›</li>
<li>ä¸ºç±»æŒ‡å®šfinalä¿®é¥°ç¬¦å¯ä»¥è®©ç±»ä¸å¯ä»¥è¢«ç»§æ‰¿ï¼Œä¸ºæ–¹æ³•æŒ‡å®šfinalä¿®é¥°ç¬¦å¯ä»¥è®©æ–¹æ³•ä¸å¯ä»¥è¢«é‡å†™ï¼›</li>
<li>Javaç¼–è¯‘å™¨ä¼šå¯»æ‰¾æœºä¼šå†…è”æ‰€æœ‰çš„finalæ–¹æ³•ï¼Œå†…è”å¯¹äºæå‡Javaè¿è¡Œæ•ˆç‡ä½œç”¨é‡å¤§ã€‚</li>
</ul>
<ol start="2">
<li><strong>å°½é‡é‡ç”¨å¯¹è±¡ï¼š</strong></li>
</ol>
<ul>
<li>ç‰¹åˆ«æ˜¯Stringå¯¹è±¡çš„ä½¿ç”¨ï¼Œå‡ºç°å­—ç¬¦ä¸²è¿æ¥æ—¶åº”è¯¥ä½¿ç”¨StringBuilder/StringBufferä»£æ›¿ï¼›</li>
<li>ç”±äºJavaè™šæ‹Ÿæœºä¸ä»…è¦èŠ±æ—¶é—´ç”Ÿæˆå¯¹è±¡ï¼Œä»¥åå¯èƒ½è¿˜éœ€è¦èŠ±æ—¶é—´å¯¹è¿™äº›å¯¹è±¡è¿›è¡Œåƒåœ¾å›æ”¶å’Œå¤„ç†ï¼Œå› æ­¤ï¼Œç”Ÿæˆè¿‡å¤šçš„å¯¹è±¡å°†ä¼šç»™ç¨‹åºçš„æ€§èƒ½å¸¦æ¥å¾ˆå¤§çš„å½±å“ã€‚</li>
</ul>
<ol start="3">
<li><strong>å°½å¯èƒ½ä½¿ç”¨å±€éƒ¨å˜é‡:</strong></li>
</ol>
<ul>
<li>è°ƒç”¨æ–¹æ³•æ—¶ä¼ é€’çš„å‚æ•°ä»¥åŠåœ¨è°ƒç”¨ä¸­åˆ›å»ºçš„ä¸´æ—¶å˜é‡éƒ½ä¿å­˜åœ¨æ ˆä¸­ï¼Œé€Ÿåº¦è¾ƒå¿«ï¼Œå…¶ä»–å˜é‡ï¼Œå¦‚é™æ€å˜é‡ã€å®ä¾‹å˜é‡ç­‰ï¼Œéƒ½åœ¨å †ä¸­åˆ›å»ºï¼Œé€Ÿåº¦è¾ƒæ…¢;</li>
<li>æ ˆä¸­åˆ›å»ºçš„å˜é‡ï¼Œéšç€æ–¹æ³•çš„è¿è¡Œç»“æŸï¼Œè¿™äº›å†…å®¹å°±æ²¡äº†ï¼Œä¸éœ€è¦é¢å¤–çš„åƒåœ¾å›æ”¶ã€‚</li>
</ul>
<ol start="4">
<li><strong>åŠæ—¶å…³é—­æµï¼š</strong></li>
</ol>
<ul>
<li>è¿›è¡Œæ•°æ®åº“è¿æ¥ã€I/Oæµæ“ä½œæ—¶åŠ¡å¿…å°å¿ƒï¼Œåœ¨ä½¿ç”¨å®Œæ¯•åï¼ŒåŠæ—¶å…³é—­ä»¥é‡Šæ”¾èµ„æºï¼›</li>
<li>å¯¹è¿™äº›å¤§å¯¹è±¡çš„æ“ä½œä¼šé€ æˆç³»ç»Ÿå¤§çš„å¼€é”€ï¼Œç¨æœ‰ä¸æ…ï¼Œå°†ä¼šå¯¼è‡´ä¸¥é‡çš„åæœï¼ˆå¯èƒ½ä¼šå¯¼è‡´èµ„æºæ³„éœ²ç­‰ï¼‰ã€‚</li>
</ul>
<ol start="5">
<li><strong>å°½é‡å‡å°‘å¯¹å˜é‡çš„é‡å¤è®¡ç®—ï¼š</strong></li>
</ol>
<ul>
<li>å¯¹æ–¹æ³•çš„è°ƒç”¨ï¼Œå³ä½¿æ–¹æ³•ä¸­åªæœ‰ä¸€å¥è¯­å¥ï¼Œä¹Ÿæ˜¯æœ‰æ¶ˆè€—çš„ï¼›</li>
<li>æ¯”å¦‚ä¸‹é¢çš„ä»£ç ï¼š</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; list.size(); i++)</span><br><span class="line">&#123;...&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>å»ºè®®æ›¿æ¢ä¸ºï¼š</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>, length = list.size(); i &lt; length; i++)</span><br><span class="line">&#123;...&#125;</span><br></pre></td></tr></table></figure>

<ol start="6">
<li><strong><em>å°½é‡é‡‡ç”¨æ‡’åŠ è½½çš„ç­–ç•¥ï¼š</em></strong></li>
</ol>
<ul>
<li>åœ¨éœ€è¦çš„æ—¶å€™æ‰åˆ›å»ºï¼Œå°½é‡é¿å…ä¸å¤ªéœ€è¦çš„åˆ›å»ºï¼›</li>
<li>æ¯”å¦‚ä¸‹é¢çš„ä»£ç ï¼š</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">String str = <span class="string">"aaa"</span>;</span><br><span class="line"><span class="keyword">if</span> (i == <span class="number">1</span>)</span><br><span class="line">&#123;</span><br><span class="line">ã€€ã€€list.add(str);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>å¯ä»¥ä¿®æ”¹ä¸ºå¦‚ä¸‹çš„ä»£ç ï¼š</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (i == <span class="number">1</span>)</span><br><span class="line">&#123;</span><br><span class="line">ã€€ã€€String str = <span class="string">"aaa"</span>;</span><br><span class="line">ã€€ã€€list.add(str);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="7">
<li><strong><em>æ…ç”¨å¼‚å¸¸ï¼š</em></strong></li>
</ol>
<ul>
<li>å¼‚å¸¸å¯¹äºæ€§èƒ½æ¥è¯´æ˜¯éå¸¸ä¸åˆ©çš„ï¼›</li>
<li>ä¸»è¦åŸå› åœ¨äºï¼šæŠ›å‡ºå¼‚å¸¸éœ€è¦å…ˆåˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼Œç„¶åè¿˜éœ€è¦æ”¶é›†è°ƒç”¨è·Ÿè¸ªä¿¡æ¯ã€‚åªè¦æœ‰å¼‚å¸¸è¢«æŠ›å‡ºï¼ŒJavaè™šæ‹Ÿæœºå°±å¿…é¡»è°ƒç”¨å †æ ˆã€‚</li>
</ul>
<ol start="8">
<li><strong><em>ä¸è¦åœ¨å¾ªç¯ä¸­ä½¿ç”¨tryâ€¦catchâ€¦ï¼Œåº”è¯¥æŠŠå®ƒæ”¾åœ¨æœ€å¤–å±‚ã€‚</em></strong></li>
<li><strong>å¦‚æœèƒ½ä¼°è®¡åˆ°å¾…æ·»åŠ çš„å†…å®¹é•¿åº¦ï¼Œä¸ºåº•å±‚ä»¥æ•°ç»„æ–¹å¼å®ç°çš„é›†åˆã€å·¥å…·ç±»æŒ‡å®šåˆå§‹é•¿åº¦ï¼š</strong></li>
</ol>
<ul>
<li>é€šè¿‡ç±»ï¼ˆè¿™é‡ŒæŒ‡çš„ä¸ä»…ä»…æ˜¯ä¸Šé¢çš„StringBuilderï¼‰çš„æ„é€ å‡½æ•°æ¥è®¾å®šå®ƒçš„åˆå§‹åŒ–å®¹é‡ï¼Œè¿™æ ·å¯ä»¥æ˜æ˜¾åœ°æå‡æ€§èƒ½ï¼›</li>
<li>åƒHashMapè¿™ç§æ˜¯ä»¥æ•°ç»„+é“¾è¡¨å®ç°çš„é›†åˆï¼Œåˆ«æŠŠåˆå§‹å¤§å°å’Œä½ ä¼°è®¡çš„å¤§å°è®¾ç½®å¾—ä¸€æ ·ï¼Œå› ä¸ºä¸€ä¸ªtableä¸Šåªè¿æ¥ä¸€ä¸ªå¯¹è±¡çš„å¯èƒ½æ€§å‡ ä¹ä¸º0ã€‚</li>
</ul>
<ol start="10">
<li><strong>å½“å¤åˆ¶å¤§é‡æ•°æ®æ—¶ï¼Œä½¿ç”¨System.arraycopy()å‘½ä»¤ã€‚</strong></li>
<li><strong>ä¹˜æ³•å’Œé™¤æ³•ä½¿ç”¨ç§»ä½æ“ä½œï¼Œæœ€å¥½åŠ ä¸Šç›¸åº”çš„æ³¨é‡Šã€‚</strong></li>
<li><strong>å¾ªç¯å†…ä¸è¦ä¸æ–­åˆ›å»ºå¯¹è±¡å¼•ç”¨ï¼Œå†…å­˜ä¸­åªæœ‰ä¸€ä»½ï¼Œè¿™æ ·å°±å¤§å¤§èŠ‚çœäº†å†…å­˜ç©ºé—´äº†ã€‚</strong></li>
<li><strong>åŸºäºæ•ˆç‡å’Œç±»å‹æ£€æŸ¥çš„è€ƒè™‘ï¼Œåº”è¯¥å°½å¯èƒ½ä½¿ç”¨arrayï¼Œæ— æ³•ç¡®å®šæ•°ç»„å¤§å°æ—¶æ‰ä½¿ç”¨ArrayListã€‚</strong></li>
<li><strong>å°½é‡ä½¿ç”¨HashMapã€ArrayListã€StringBuilderï¼Œé™¤éçº¿ç¨‹å®‰å…¨éœ€è¦ï¼Œå¦åˆ™ä¸æ¨èä½¿ç”¨Hashtableã€Vectorã€StringBufferï¼Œåä¸‰è€…ç”±äºä½¿ç”¨åŒæ­¥æœºåˆ¶è€Œå¯¼è‡´äº†æ€§èƒ½å¼€é”€ã€‚</strong></li>
<li><strong>ä¸è¦å°†æ•°ç»„å£°æ˜ä¸ºpublic static finalï¼Œè¿™æ ·åªæ˜¯å®šä¹‰äº†å¼•ç”¨ä¸ºstatic finalï¼Œæ•°ç»„çš„å†…å®¹è¿˜æ˜¯å¯ä»¥éšæ„æ”¹å˜çš„ï¼Œå°†æ•°ç»„å£°æ˜ä¸ºpublicæ›´æ˜¯ä¸€ä¸ªå®‰å…¨æ¼æ´ï¼Œè¿™æ„å‘³ç€è¿™ä¸ªæ•°ç»„å¯ä»¥è¢«å¤–éƒ¨ç±»æ‰€æ”¹å˜ã€‚</strong></li>
<li><strong>å°½é‡åœ¨åˆé€‚çš„åœºåˆä½¿ç”¨å•ä¾‹ï¼š</strong></li>
</ol>
<ul>
<li>æ§åˆ¶èµ„æºçš„ä½¿ç”¨ï¼Œé€šè¿‡çº¿ç¨‹åŒæ­¥æ¥æ§åˆ¶èµ„æºçš„å¹¶å‘è®¿é—®ï¼›</li>
<li>æ§åˆ¶å®ä¾‹çš„äº§ç”Ÿï¼Œä»¥è¾¾åˆ°èŠ‚çº¦èµ„æºçš„ç›®çš„ï¼›</li>
<li>æ§åˆ¶æ•°æ®çš„å…±äº«ï¼Œåœ¨ä¸å»ºç«‹ç›´æ¥å…³è”çš„æ¡ä»¶ä¸‹ï¼Œè®©å¤šä¸ªä¸ç›¸å…³çš„è¿›ç¨‹æˆ–çº¿ç¨‹ä¹‹é—´å®ç°é€šä¿¡ç­‰ã€‚</li>
</ul>
<ol start="17">
<li><strong>å°½é‡é¿å…éšæ„ä½¿ç”¨é™æ€å˜é‡ï¼Œå½“æŸä¸ªå¯¹è±¡è¢«å®šä¹‰ä¸ºstaticçš„å˜é‡æ‰€å¼•ç”¨ï¼Œé‚£ä¹ˆgcé€šå¸¸æ˜¯ä¸ä¼šå›æ”¶è¿™ä¸ªå¯¹è±¡æ‰€å æœ‰çš„å †å†…å­˜çš„ã€‚</strong></li>
<li><strong>åŠæ—¶æ¸…é™¤ä¸å†éœ€è¦çš„ä¼šè¯ï¼Œä¸ºäº†æ¸…é™¤ä¸å†æ´»åŠ¨çš„ä¼šè¯ï¼Œè®¸å¤šåº”ç”¨æœåŠ¡å™¨éƒ½æœ‰é»˜è®¤çš„ä¼šè¯è¶…æ—¶æ—¶é—´ï¼Œä¸€èˆ¬ä¸º30åˆ†é’Ÿã€‚å½“åº”ç”¨æœåŠ¡å™¨éœ€è¦ä¿å­˜æ›´å¤šçš„ä¼šè¯æ—¶ï¼Œå¦‚æœå†…å­˜ä¸è¶³ï¼Œé‚£ä¹ˆæ“ä½œç³»ç»Ÿä¼šæŠŠéƒ¨åˆ†æ•°æ®è½¬ç§»åˆ°ç£ç›˜ï¼Œåº”ç”¨æœåŠ¡å™¨ä¹Ÿå¯èƒ½æ ¹æ®MRUï¼ˆæœ€è¿‘æœ€é¢‘ç¹ä½¿ç”¨ï¼‰ç®—æ³•æŠŠéƒ¨åˆ†ä¸æ´»è·ƒçš„ä¼šè¯è½¬å‚¨åˆ°ç£ç›˜ï¼Œç”šè‡³å¯èƒ½æŠ›å‡ºå†…å­˜ä¸è¶³çš„å¼‚å¸¸ã€‚å¦‚æœä¼šè¯è¦è¢«è½¬å‚¨åˆ°ç£ç›˜ï¼Œé‚£ä¹ˆå¿…é¡»è¦å…ˆè¢«åºåˆ—åŒ–ï¼Œåœ¨å¤§è§„æ¨¡é›†ç¾¤ä¸­ï¼Œå¯¹å¯¹è±¡è¿›è¡Œåºåˆ—åŒ–çš„ä»£ä»·æ˜¯å¾ˆæ˜‚è´µçš„ã€‚</strong></li>
<li><strong>å®ç°RandomAccessæ¥å£çš„é›†åˆæ¯”å¦‚ArrayListï¼Œåº”å½“ä½¿ç”¨æœ€æ™®é€šçš„forå¾ªç¯è€Œä¸æ˜¯foreachå¾ªç¯æ¥éå†ã€‚å®é™…ç»éªŒè¡¨æ˜ï¼Œå®ç°RandomAccessæ¥å£çš„ç±»å®ä¾‹ï¼Œå‡å¦‚æ˜¯éšæœºè®¿é—®çš„ï¼Œä½¿ç”¨æ™®é€šforå¾ªç¯æ•ˆç‡å°†é«˜äºä½¿ç”¨foreachå¾ªç¯ï¼›åè¿‡æ¥ï¼Œå¦‚æœæ˜¯é¡ºåºè®¿é—®çš„ï¼Œåˆ™ä½¿ç”¨Iteratorä¼šæ•ˆç‡æ›´é«˜ã€‚</strong></li>
<li><strong>ä½¿ç”¨åŒæ­¥ä»£ç å—æ›¿ä»£åŒæ­¥æ–¹æ³•ã€‚</strong></li>
<li><strong>å°†å¸¸é‡å£°æ˜ä¸ºstatic finalï¼Œå¹¶ä»¥å¤§å†™å‘½åï¼Œåœ¨ç¼–è¯‘æœŸé—´å°±å¯ä»¥æŠŠè¿™äº›å†…å®¹æ”¾å…¥å¸¸é‡æ± ä¸­ï¼Œé¿å…è¿è¡ŒæœŸé—´è®¡ç®—ç”Ÿæˆå¸¸é‡çš„å€¼ã€‚å¦å¤–ï¼Œå°†å¸¸é‡çš„åå­—ä»¥å¤§å†™å‘½åä¹Ÿå¯ä»¥æ–¹ä¾¿åŒºåˆ†å‡ºå¸¸é‡ä¸å˜é‡ã€‚</strong></li>
<li><strong>ä¸è¦åˆ›å»ºä¸€äº›ä¸ä½¿ç”¨çš„å¯¹è±¡ï¼Œä¸è¦å¯¼å…¥ä¸€äº›ä¸ä½¿ç”¨çš„ç±»ã€‚</strong></li>
<li><strong>ç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­é¿å…ä½¿ç”¨åå°„ã€‚</strong></li>
<li><strong>ä½¿ç”¨æ•°æ®åº“è¿æ¥æ± å’Œçº¿ç¨‹æ± ï¼Œå‰è€…å¯ä»¥é¿å…é¢‘ç¹åœ°æ‰“å¼€å’Œå…³é—­è¿æ¥ï¼Œåè€…å¯ä»¥é¿å…é¢‘ç¹åœ°åˆ›å»ºå’Œé”€æ¯çº¿ç¨‹ã€‚</strong></li>
<li><strong>ä½¿ç”¨å¸¦ç¼“å†²çš„è¾“å…¥è¾“å‡ºæµè¿›è¡ŒIOæ“ä½œï¼Œå¸¦ç¼“å†²çš„è¾“å…¥è¾“å‡ºæµï¼Œå³BufferedReaderã€BufferedWriterã€BufferedInputStreamã€BufferedOutputStreamï¼Œè¿™å¯ä»¥æå¤§åœ°æå‡IOæ•ˆç‡ã€‚</strong></li>
<li><strong>é¡ºåºæ’å…¥å’Œéšæœºè®¿é—®æ¯”è¾ƒå¤šçš„åœºæ™¯ä½¿ç”¨ArrayListï¼Œå…ƒç´ åˆ é™¤å’Œä¸­é—´æ’å…¥æ¯”è¾ƒå¤šçš„åœºæ™¯ä½¿ç”¨LinkedListã€‚</strong></li>
<li><strong>ä¸è¦è®©publicæ–¹æ³•ä¸­æœ‰å¤ªå¤šçš„å½¢å‚ï¼Œä¼šæœ‰å¦‚ä¸‹åå¤„ï¼š</strong></li>
</ol>
<ul>
<li>è¿åäº†é¢å‘å¯¹è±¡çš„ç¼–ç¨‹æ€æƒ³ï¼ŒJavaè®²æ±‚ä¸€åˆ‡éƒ½æ˜¯å¯¹è±¡ï¼Œå¤ªå¤šçš„å½¢å‚ï¼Œå’Œé¢å‘å¯¹è±¡çš„ç¼–ç¨‹æ€æƒ³å¹¶ä¸å¥‘åˆï¼›</li>
<li>å‚æ•°å¤ªå¤šåŠ¿å¿…å¯¼è‡´æ–¹æ³•è°ƒç”¨çš„å‡ºé”™æ¦‚ç‡å¢åŠ ã€‚</li>
</ul>
<ol start="28">
<li><strong>å­—ç¬¦ä¸²å˜é‡å’Œå­—ç¬¦ä¸²å¸¸é‡equalsçš„æ—¶å€™å°†å­—ç¬¦ä¸²å¸¸é‡å†™åœ¨å‰é¢ã€‚</strong></li>
<li><strong>åœ¨javaä¸­if (i == 1)å’Œif (1 == i)æ˜¯æ²¡æœ‰åŒºåˆ«çš„ï¼Œä½†ä»é˜…è¯»ä¹ æƒ¯ä¸Šè®²ï¼Œå»ºè®®ä½¿ç”¨å‰è€…ã€‚</strong></li>
<li><strong>ä¸è¦å¯¹æ•°ç»„ä½¿ç”¨toString()æ–¹æ³•ã€‚</strong></li>
<li><strong>ä¸è¦å¯¹è¶…å‡ºèŒƒå›´çš„åŸºæœ¬æ•°æ®ç±»å‹åšå‘ä¸‹å¼ºåˆ¶è½¬å‹ã€‚</strong></li>
</ol>
<ul>
<li>æ¯”å¦‚ä¸‹é¢çš„ä»£ç ï¼š</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">long</span> l = <span class="number">12345678901234L</span>;</span><br><span class="line">    <span class="keyword">int</span> i = (<span class="keyword">int</span>)l;</span><br><span class="line">    System.out.println(i);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//è¾“å‡ºç»“æœï¼š1942892530</span></span><br></pre></td></tr></table></figure>

<ol start="32">
<li><strong>å…¬ç”¨çš„é›†åˆç±»ä¸­ä¸ä½¿ç”¨çš„æ•°æ®ä¸€å®šè¦åŠæ—¶removeæ‰ï¼Œå¦‚æœå…¬ç”¨é›†åˆé‡Œé¢çš„æŸäº›æ•°æ®ä¸ä½¿ç”¨è€Œä¸å»removeæ‰å®ƒä»¬ï¼Œé‚£ä¹ˆå°†ä¼šé€ æˆè¿™ä¸ªå…¬ç”¨é›†åˆä¸æ–­å¢å¤§ï¼Œä½¿å¾—ç³»ç»Ÿæœ‰å†…å­˜æ³„éœ²çš„éšæ‚£ã€‚</strong></li>
<li><strong>æŠŠä¸€ä¸ªåŸºæœ¬æ•°æ®ç±»å‹è½¬ä¸ºå­—ç¬¦ä¸²ï¼ŒåŸºæœ¬æ•°æ®ç±»å‹.toString()æ˜¯æœ€å¿«çš„æ–¹å¼ã€String.valueOf(æ•°æ®)æ¬¡ä¹‹ã€æ•°æ®+â€â€æœ€æ…¢ï¼š</strong></li>
</ol>
<ul>
<li>String.valueOf()æ–¹æ³•åº•å±‚è°ƒç”¨äº†Integer.toString()æ–¹æ³•ï¼Œä½†æ˜¯ä¼šåœ¨è°ƒç”¨å‰åšç©ºåˆ¤æ–­ï¼›</li>
<li>i + â€œâ€åº•å±‚ä½¿ç”¨äº†StringBuilderå®ç°ï¼Œå…ˆç”¨appendæ–¹æ³•æ‹¼æ¥ï¼Œå†ç”¨toString()æ–¹æ³•è·å–å­—ç¬¦ä¸²ã€‚</li>
</ul>
<ol start="34">
<li><p><strong>ä½¿ç”¨æœ€æœ‰æ•ˆç‡çš„æ–¹å¼å»éå†Mapã€‚</strong></p>
</li>
<li><p><strong>å¯¹èµ„æºçš„close()å»ºè®®åˆ†å¼€æ“ä½œã€‚è™½ç„¶æœ‰äº›éº»çƒ¦ï¼Œå´èƒ½é¿å…èµ„æºæ³„éœ²ã€‚</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">try</span></span><br><span class="line">&#123;</span><br><span class="line">    XXX.close();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">catch</span> (Exception e)</span><br><span class="line">&#123;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">try</span></span><br><span class="line">&#123;</span><br><span class="line">    YYY.close();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">catch</span> (Exception e)</span><br><span class="line">&#123;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>å¯¹äºThreadLocalä½¿ç”¨å‰æˆ–è€…ä½¿ç”¨åä¸€å®šè¦å…ˆremove,å¦‚æœåœ¨é¡¹ç›®ä¸­ä½¿ç”¨åˆ°äº†ThreadLocalï¼Œä¸€å®šè¦è®°å¾—ä½¿ç”¨å‰æˆ–è€…ä½¿ç”¨åremoveä¸€ä¸‹ã€‚çº¿ç¨‹æ± æŠ€æœ¯åšçš„æ˜¯ä¸€ä¸ª<em>çº¿ç¨‹é‡ç”¨</em>,ä»£ç è¿è¡Œè¿‡ç¨‹ä¸­ï¼Œä¸€æ¡çº¿ç¨‹ä½¿ç”¨å®Œæ¯•ï¼Œå¹¶ä¸ä¼šè¢«é”€æ¯è€Œæ˜¯ç­‰å¾…ä¸‹ä¸€æ¬¡çš„ä½¿ç”¨ã€‚</strong></p>
</li>
<li><p><strong>åˆ‡è®°ä»¥å¸¸é‡å®šä¹‰çš„æ–¹å¼æ›¿ä»£é­”é¬¼æ•°å­—ï¼Œé­”é¬¼æ•°å­—çš„å­˜åœ¨å°†æå¤§åœ°é™ä½ä»£ç å¯è¯»æ€§ï¼Œå­—ç¬¦ä¸²å¸¸é‡æ˜¯å¦ä½¿ç”¨å¸¸é‡å®šä¹‰å¯ä»¥è§†æƒ…å†µè€Œå®šã€‚</strong></p>
</li>
<li><p><strong>longæˆ–è€…Longåˆå§‹èµ‹å€¼æ—¶ï¼Œä½¿ç”¨å¤§å†™çš„Lè€Œä¸æ˜¯å°å†™çš„lï¼Œå› ä¸ºå­—æ¯lææ˜“ä¸æ•°å­—1æ··æ·†ã€‚</strong></p>
</li>
<li><p><strong>æ‰€æœ‰é‡å†™çš„æ–¹æ³•å¿…é¡»ä¿ç•™@Overrideæ³¨è§£ï¼š</strong></p>
</li>
</ol>
<ul>
<li>æ¸…æ¥šåœ°å¯ä»¥çŸ¥é“è¿™ä¸ªæ–¹æ³•ç”±çˆ¶ç±»ç»§æ‰¿è€Œæ¥ï¼›</li>
<li>getObject()å’Œget0bject()æ–¹æ³•ï¼Œå‰è€…ç¬¬å››ä¸ªå­—æ¯æ˜¯â€Oâ€ï¼Œåè€…ç¬¬å››ä¸ªå­æ¯æ˜¯â€0â€ï¼ŒåŠ äº†@Overrideæ³¨è§£å¯ä»¥é©¬ä¸Šåˆ¤æ–­æ˜¯å¦é‡å†™æˆåŠŸï¼›</li>
<li>åœ¨æŠ½è±¡ç±»ä¸­å¯¹æ–¹æ³•ç­¾åè¿›è¡Œä¿®æ”¹ï¼Œå®ç°ç±»ä¼šé©¬ä¸ŠæŠ¥å‡ºç¼–è¯‘é”™è¯¯ã€‚</li>
</ul>
<ol start="40">
<li><strong>æ¨èä½¿ç”¨JDK7ä¸­æ–°å¼•å…¥çš„Objectså·¥å…·ç±»æ¥è¿›è¡Œå¯¹è±¡çš„equalsæ¯”è¾ƒï¼Œç›´æ¥a.equals(b)ï¼Œæœ‰ç©ºæŒ‡é’ˆå¼‚å¸¸çš„é£é™©ã€‚</strong></li>
<li><strong>å¾ªç¯ä½“å†…ä¸è¦ä½¿ç”¨â€+â€è¿›è¡Œå­—ç¬¦ä¸²æ‹¼æ¥ï¼Œè€Œç›´æ¥ä½¿ç”¨StringBuilderä¸æ–­appendã€‚</strong></li>
<li><strong>ä¸æ•è·Javaç±»åº“ä¸­å®šä¹‰çš„ç»§æ‰¿è‡ªRuntimeExceptionçš„è¿è¡Œæ—¶å¼‚å¸¸ç±»ï¼Œå¼‚å¸¸å¤„ç†æ•ˆç‡ä½ï¼ŒRuntimeExceptionçš„è¿è¡Œæ—¶å¼‚å¸¸ç±»ï¼Œå…¶ä¸­ç»å¤§å¤šæ•°å®Œå…¨å¯ä»¥ç”±ç¨‹åºå‘˜æ¥è§„é¿ã€‚</strong></li>
</ol>
<ul>
<li>ArithmeticExceptionå¯ä»¥é€šè¿‡åˆ¤æ–­é™¤æ•°æ˜¯å¦ä¸ºç©ºæ¥è§„é¿ï¼›</li>
<li>NullPointerExceptionå¯ä»¥é€šè¿‡åˆ¤æ–­å¯¹è±¡æ˜¯å¦ä¸ºç©ºæ¥è§„é¿ï¼›</li>
<li>IndexOutOfBoundsExceptionå¯ä»¥é€šè¿‡åˆ¤æ–­æ•°ç»„/å­—ç¬¦ä¸²é•¿åº¦æ¥è§„é¿ï¼›</li>
<li>ClassCastExceptionå¯ä»¥é€šè¿‡instanceofå…³é”®å­—æ¥è§„é¿ï¼›</li>
<li>ConcurrentModificationExceptionå¯ä»¥ä½¿ç”¨è¿­ä»£å™¨æ¥è§„é¿ç­‰ã€‚</li>
</ul>
<ol start="43">
<li><strong>é¿å…Randomå®ä¾‹è¢«å¤šçº¿ç¨‹ä½¿ç”¨ï¼Œè™½ç„¶å…±äº«è¯¥å®ä¾‹æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œä½†ä¼šå› ç«äº‰åŒä¸€seed å¯¼è‡´çš„æ€§èƒ½ä¸‹é™ï¼ŒJDK7ä¹‹åï¼Œå¯ä»¥ä½¿ç”¨ThreadLocalRandomæ¥è·å–éšæœºæ•°ã€‚</strong></li>
<li><strong>é™æ€ç±»ã€å•ä¾‹ç±»ã€å·¥å‚ç±»å°†å®ƒä»¬çš„æ„é€ å‡½æ•°ç½®ä¸ºprivateã€‚å› ä¸ºé™æ€ç±»ã€å•ä¾‹ç±»ã€å·¥å‚ç±»è¿™ç§ç±»æœ¬æ¥æˆ‘ä»¬å°±ä¸éœ€è¦å¤–éƒ¨å°†å®ƒä»¬newå‡ºæ¥ï¼Œå°†æ„é€ å‡½æ•°ç½®ä¸ºprivateä¹‹åï¼Œä¿è¯äº†è¿™äº›ç±»ä¸ä¼šäº§ç”Ÿå®ä¾‹å¯¹è±¡ã€‚</strong></li>
</ol>
<hr>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>è¿™éƒ¨åˆ†åªæ˜¯è¿›è¡ŒJavaä»£ç ç¼–å†™çš„éƒ¨åˆ†ä¼˜åŒ–ï¼Œè¿˜æœ‰è®¸å¤šåœ°æ–¹å¯ä»¥è¿›è¡Œä¼˜åŒ–ï¼Œæ¯”å¦‚å‚æ•°é…ç½®ï¼Œç®—æ³•çš„è¿­ä»£ä¼˜åŒ–ï¼Œç®—æ³•çš„æ”¹è¿›ç­‰ç­‰ï¼Œéƒ½å±äºæé«˜ä»£ç è¿è¡Œçš„é«˜æ ¡åŠæ³•ã€‚å¸Œæœ›èƒ½å¤Ÿåœ¨é«˜æ•ˆç¼–ç¨‹çš„è·¯ä¸Šè¶Šèµ°è¶Šä¼˜ç§€ï¼Œå†™å‡ºæ¥çš„ä»£ç ä¹Ÿåƒè‰ºæœ¯å“é‚£æ ·å¯ä»¥è¢«é˜…è¯»ï¼</p>
]]></content>
      <categories>
        <category>Java</category>
      </categories>
  </entry>
  <entry>
    <title>Java æµ‹è¯•é©±åŠ¨å¼€å‘</title>
    <url>/2020/05/19/Java-%E6%B5%8B%E8%AF%95%E9%A9%B1%E5%8A%A8%E5%BC%80%E5%8F%91/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>å°†å„ç§ TDD æœ€ä½³å®è·µåº”ç”¨äº Java å¼€å‘ï¼Œä»è€Œå¼€å‘å‡ºæ›´æ˜“ç»´æŠ¤çš„è½¯ä»¶ä»£ç ï¼Œä»è¿™é‡Œå¼€å§‹æ›´è§„èŒƒçš„Javaä»£ç ç¼–å†™ï¼Œä»å„ç§å·¥å…·æ¡†æ¶ä»¥åŠç¯å¢ƒæ­å»ºå¼€å§‹ä¸€æ­¥ä¸€æ­¥èµ°å…¥Javaæµ‹è¯•å‹å¼€å‘ç¼–ç¨‹çš„å¤§é—¨ï¼å­¦ä¹ ç¼–ç å®è·µçš„æœ€ä½³æ–¹å¼æ˜¯ç¼–å†™ä»£ç å’Œä¸æ–­ç»ƒä¹ ï¼ <strong>æ¨èä¹¦ç±ï¼šã€ŠJava æµ‹è¯•é©±åŠ¨å¼€å‘ã€‹Â· [è¥¿] Viktor Farcic Alex Garcia è‘— è¢å›½å¿  è¯‘</strong></p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="ç—›ç‚¹"><a href="#ç—›ç‚¹" class="headerlink" title="ç—›ç‚¹"></a>ç—›ç‚¹</h2><h3 id="é¡¹ç›®ä¸­çš„ä¸è¶³ä¹‹å¤„"><a href="#é¡¹ç›®ä¸­çš„ä¸è¶³ä¹‹å¤„" class="headerlink" title="é¡¹ç›®ä¸­çš„ä¸è¶³ä¹‹å¤„"></a>é¡¹ç›®ä¸­çš„ä¸è¶³ä¹‹å¤„</h3><ul>
<li>éƒ¨åˆ†å›¢é˜Ÿæˆå‘˜æ— ç¼˜å‚ä¸éœ€æ±‚ã€è§„èŒƒæˆ–ç”¨æˆ·æ•…äº‹çš„åˆ¶å®š</li>
<li>å¤§éƒ¨åˆ†ä¹ƒè‡³å…¨éƒ¨æµ‹è¯•éƒ½æ˜¯æ‰‹åŠ¨çš„ï¼ŒæŠ‘æˆ–æ ¹æœ¬å°±æ²¡æœ‰æµ‹è¯•</li>
<li>è™½ç„¶ä½¿ç”¨äº†è‡ªåŠ¨åŒ–æµ‹è¯•ï¼Œä½†å¹¶æœªæ£€æµ‹å‡ºçœŸæ­£çš„é—®é¢˜</li>
<li>ç¼–å†™å¹¶æ‰§è¡Œè‡ªåŠ¨åŒ–æµ‹è¯•çš„æ—¶é—´å¤ªæ™šï¼Œæ— æ³•ç»™é¡¹ç›®å¸¦æ¥çœŸæ­£çš„ä»·å€¼</li>
<li>æ€»æ˜¯æœ‰æ›´ç´§æ€¥çš„é—®é¢˜éœ€è¦å¤„ç†ï¼Œæ²¡æ³•è…¾å‡ºä¸“é—¨ç”¨äºæµ‹è¯•çš„æ—¶é—´</li>
<li>æ•´ä¸ªå›¢é˜Ÿåˆ†ä¸ºæµ‹è¯•ã€å¼€å‘å’ŒåŠŸèƒ½åˆ†æå°ç»„ï¼Œè€Œè¿™äº›å°ç»„å¸¸å¸¸ä¸èƒ½åŒæ­¥</li>
<li>æ— æ³•é‡æ„ä»£ç ï¼Œå› ä¸ºæ‹…å¿ƒè¿™æ ·åšä¼šç ´åæ—¢æœ‰çš„åŠŸèƒ½</li>
<li>ç»´æŠ¤æˆæœ¬é«˜</li>
<li>ä¸Šå¸‚æ—¶é—´è¿‡é•¿</li>
<li>å®¢æˆ·è§‰å¾—äº¤ä»˜çš„äº§å“ä¸ç¬¦åˆè¦æ±‚</li>
<li>æ–‡æ¡£ä»æ¥éƒ½ä¸æ˜¯æœ€æ–°çš„</li>
<li>å®³æ€•éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒï¼Œå› ä¸ºç»“æœæ— æ³•é¢„æ–™</li>
<li>å¸¸å¸¸æ— æ³•éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒï¼Œå› ä¸ºè¿è¡Œå›å½’æµ‹è¯•çš„æ—¶é—´å¤ªé•¿</li>
<li>å›¢é˜Ÿä¸ºææ¸…æ¥šæŸäº›æ–¹æ³•æˆ–ç±»çš„ä½œç”¨èŠ±è´¹çš„æ—¶é—´å¤ªå¤š</li>
</ul>
<h3 id="å®é™…"><a href="#å®é™…" class="headerlink" title="å®é™…"></a>å®é™…</h3><p>åˆšå…¥èŒï¼Œä¸Šè¿°é—®é¢˜çš„å¤ªå¤šç‚¹éƒ½æœ‰é‡åˆ°ï¼Œéƒ½æ·±æœ‰ä½“å‘³ï¼è‡³å°‘ä¸­äº†ä¸Šè¿°ç—›ç‚¹çš„9ç‚¹ï¼Œè¯´å®è¯ï¼</p>
<h2 id="TDDï¼ˆæµ‹è¯•é©±åŠ¨å¼€å‘ï¼‰æ˜¯ä»€ä¹ˆ"><a href="#TDDï¼ˆæµ‹è¯•é©±åŠ¨å¼€å‘ï¼‰æ˜¯ä»€ä¹ˆ" class="headerlink" title="TDDï¼ˆæµ‹è¯•é©±åŠ¨å¼€å‘ï¼‰æ˜¯ä»€ä¹ˆ"></a>TDDï¼ˆæµ‹è¯•é©±åŠ¨å¼€å‘ï¼‰æ˜¯ä»€ä¹ˆ</h2><ol>
<li>TDDæ˜¯ä¸€ç§ç®€å•çš„æµç¨‹ï¼Œè¦æ±‚ä½ å…ˆç¼–å†™æµ‹è¯•ï¼Œå†ç¼–å†™å®ç°ä»£ç ï¼Œè¿™ä¸â€œç¼–å†™ä»£ç åå†æµ‹è¯•â€çš„ä¼ ç»Ÿæ–¹æ³•ç›¸åï¼›</li>
<li>æµ‹è¯•é©±åŠ¨å¼€å‘æ˜¯ä¸€ä¸ªè¿‡ç¨‹ï¼Œä¾èµ–äºä¸æ–­é‡å¤æçŸ­çš„å¼€å‘å‘¨æœŸï¼ŒåŸºäºæé™ç¼–ç¨‹ï¼ˆXPï¼‰çš„æµ‹è¯•ä¼˜å…ˆç†å¿µï¼Œå€¡å¯¼é‡‡ç”¨å¯é«˜åº¦ä¿¡èµ–çš„ç®€å•è®¾è®¡ï¼š<ol>
<li>ç¼–å†™ä¸€ä¸ªæµ‹è¯•</li>
<li>è¿è¡Œæ‰€æœ‰æµ‹è¯•</li>
<li>ç¼–å†™å®ç°ä»£ç </li>
<li>è¿è¡Œæ‰€æœ‰æµ‹è¯•</li>
<li>é‡æ„</li>
<li>è¿è¡Œæ‰€æœ‰æµ‹è¯•</li>
</ol>
</li>
<li>æµ‹è¯•é©±åŠ¨å¼€å‘æ˜¯ä¸€ç§è®¾è®¡æ–¹æ³•ï¼Œè¦æ±‚åœ¨ç¼–å†™ä»£ç å‰è€ƒè™‘å®ç°ä»¥åŠä»£ç éœ€è¦æä¾›çš„åŠŸèƒ½ï¼Œä¸”æ¯æ¬¡åªå…³æ³¨ä¸€é¡¹åŠŸèƒ½çš„éœ€æ±‚å’Œå®ç°â€”â€”æœ‰åŠ©äºç†æ¸…æ€è·¯ä»¥åŠæ›´å¥½åœ°ç»„ç»‡ä»£ç ï¼›</li>
<li><strong>ä¼ ç»Ÿè½¯ä»¶æ–‡æ¡£å­˜åœ¨çš„ä¸»è¦é—®é¢˜æ˜¯å®ƒä»¬é€šå¸¸éƒ½ä¸æ˜¯æœ€æ–°çš„ï¼Œä¸€éƒ¨åˆ†ä»£ç å‘ç”Ÿå˜åŒ–åï¼Œæ–‡æ¡£ä¾¿ä¸å†åæ˜ å®é™…æƒ…å†µï¼</strong></li>
<li>å¼€å‘äººå‘˜ä¸åº”ä¾èµ–äºç³»ç»Ÿæ–‡æ¡£ï¼Œå› ä¸ºå®ƒå‡ ä¹åœ¨ä»»ä½•æ—¶å€™éƒ½ä¸æ˜¯æœ€æ–°çš„ï¼Œåœ¨è¯¦å°½è€ŒåŠæ—¶åœ°æè¿°ä»£ç æ–¹é¢ï¼Œæ²¡æœ‰ä»»ä½•æ–‡æ¡£æ¯”ä»£ç æœ¬èº«åšå¾—æ›´å¥½ï¼›</li>
<li><strong>å¯¹æ–°æ¥è€…è€Œè¨€ï¼Œé¡¹ç›®æè¿°ã€ç¯å¢ƒæ­å»ºã€å®‰è£…ä»¥åŠæ„å»ºå’Œæ‰“åŒ…è¯´æ˜ç­‰éƒ¨åˆ†å¾ˆæœ‰ç”¨ï¼</strong></li>
<li>åœ¨ç¼–å†™ä»£ç å‰ç¼–å†™æµ‹è¯•ä¸”ä»£ç è¦†ç›–ç‡å¾ˆé«˜çš„æƒ…å†µä¸‹ï¼Œå®Œå…¨å¯ä»¥ç›¸ä¿¡åº”ç”¨ç¨‹åºå°†åƒé¢„æœŸçš„é‚£æ ·å·¥ä½œï¼</li>
</ol>
<h2 id="å·¥å…·ä»¥åŠç¯å¢ƒ"><a href="#å·¥å…·ä»¥åŠç¯å¢ƒ" class="headerlink" title="å·¥å…·ä»¥åŠç¯å¢ƒ"></a>å·¥å…·ä»¥åŠç¯å¢ƒ</h2><ol>
<li><strong>ç¨‹åºå‘˜å¿…é¡»ç†Ÿæ‚‰å¼€å‘ç”Ÿæ€ç¯å¢ƒä»¥åŠç®€åŒ–ç¼–ç¨‹çš„å·¥å…·ï¼</strong></li>
<li>æœ€å¸¸ç”¨çš„Javaå•å…ƒæµ‹è¯•æ¡†æ¶â€”â€”JUnitå’ŒTestNGï¼›<ol>
<li><a href="http://junit.org/" target="_blank" rel="noopener">JUnit</a>æ˜¯ä¸€ä¸ªç”¨äºç¼–å†™å’Œè¿è¡Œæµ‹è¯•çš„æ¡†æ¶ï¼Œæ¯ä¸ªæµ‹è¯•éƒ½æ˜¯ä¸€ä¸ªæ–¹æ³•ï¼ŒåŒ…å«ç‰¹å®šåœºæ™¯ä¸‹å°†æ‰§è¡Œçš„éƒ¨åˆ†ä»£ç </li>
<li><a href="http://testng.org/doc/index.html" target="_blank" rel="noopener">TestNG</a>ä¸­æµ‹è¯•è¢«ç»„ç»‡æˆç±»ï¼Œè¿™ä¸JUnitä¸­å®Œå…¨ç›¸åŒ</li>
</ol>
</li>
<li>Hamcrestæ·»åŠ äº†å¤§é‡è¢«ç§°ä¸ºâ€œåŒ¹é…å™¨â€çš„æ–¹æ³•ï¼Œå…¶ä¸­æ¯ä¸ªåŒ¹é…å™¨éƒ½è®¾è®¡ç”¨äºæ‰§è¡Œç‰¹å®šçš„æ¯”è¾ƒæ“ä½œï¼›</li>
<li>AssertJçš„å·¥ä½œåŸç†ä¸Hamcrestç±»ä¼¼ï¼Œä¸€ä¸ªé‡è¦çš„å·®åˆ«æ˜¯AssertJæ–­è¨€æ˜¯å¯ä»¥ä¸²æ¥çš„ï¼›</li>
<li>Seleniumæ˜¯ä¸€æ¬¾å‡ºè‰²çš„Webæµ‹è¯•å·¥å…·ï¼Œå®ƒä½¿ç”¨æµè§ˆå™¨è¿è¡ŒéªŒè¯ï¼Œå¹¶æ”¯æŒæ‰€æœ‰æµè¡Œçš„æµè§ˆå™¨ï¼Œå¦‚Firefoxã€Safariå’ŒChromeï¼›</li>
<li>Selenideæ˜¯ä¸€ä¸ªåŸºäºSeleniumçš„é¡¹ç›®ï¼Œæä¾›äº†ä¼˜è‰¯çš„æµ‹è¯•ç¼–å†™è¯­æ³•ï¼Œæé«˜äº†æµ‹è¯•çš„å¯è¯»æ€§ï¼›</li>
<li>è¡Œä¸ºé©±åŠ¨å¼€å‘ï¼ˆBDDï¼‰æ˜¯ä¸€ç§æ•æ·è¿‡ç¨‹ï¼Œæ—¨åœ¨æ•´ä¸ªé¡¹ç›®å¼€å‘è¿‡ç¨‹ä¸­éƒ½ä¸“æ³¨äºç›¸å…³æ–¹çš„åˆ©ç›Šï¼ŒJBehaveæ˜¯ä¸€ä¸ªJava BDDæ¡†æ¶ï¼Œç”¨äºç¼–å†™å¯æ‰§è¡Œå’Œè‡ªåŠ¨åŒ–çš„éªŒæ”¶æµ‹è¯•ï¼›</li>
<li>Cucumberæœ€åˆæ˜¯ä¸€ä¸ªRuby BDDæ¡†æ¶ï¼Œä½†ç°åœ¨æ”¯æŒåŒ…æ‹¬Javaåœ¨å†…çš„å¤šç§è¯­è¨€ï¼Œå®ƒæä¾›çš„åŠŸèƒ½ä¸JBehaveå¾ˆåƒï¼›</li>
</ol>
<h2 id="è®¾è®¡åŸåˆ™"><a href="#è®¾è®¡åŸåˆ™" class="headerlink" title="è®¾è®¡åŸåˆ™"></a>è®¾è®¡åŸåˆ™</h2><ol>
<li>ä½ ä¸ä¼šéœ€è¦å®ƒï¼šä»£ç è¶Šå°‘ï¼Œéœ€è¦ç»´æŠ¤çš„ä»£ç å°±è¶Šå°‘ï¼ŒåŒæ—¶å¼•å…¥bugçš„å¯èƒ½æ€§ä¹Ÿè¶Šå°</li>
<li>ä¸è¦è‡ªæˆ‘é‡å¤ï¼šé‡ç”¨è€Œä¸æ˜¯å¤åˆ¶ä»¥å‰ç¼–å†™çš„ä»£ç </li>
<li>ä¿æŒç®€å•ï¼šè¶Šç®€å•çš„ä¸œè¥¿è¶Šèƒ½å®ç°å…¶åŠŸèƒ½</li>
<li>å¥¥å¡å§†å‰ƒåˆ€åŸç†ï¼šå¦‚æœä½ æœ‰ä¸¤ä¸ªæˆ–å¤šä¸ªç±»ä¼¼çš„è§£å†³æ–¹æ¡ˆï¼Œé€‰æ‹©æœ€ç®€å•çš„</li>
<li>SOLIDï¼š<ol>
<li>å•ä¸€èŒè´£åŸåˆ™ï¼šä¸€ä¸ªç±»åº”è¯¥åªæœ‰ä¸€ä¸ªå¯¼è‡´å®ƒéœ€è¦ä¿®æ”¹çš„åŸå› </li>
<li>å¼€-é—­åŸåˆ™ï¼šç±»åº”è¯¥å¯¹æ‰©å±•æ˜¯å¼€æ”¾çš„ï¼Œå¯¹ä¿®æ”¹æ˜¯å°é—­çš„</li>
<li>é‡Œæ°æ›¿æ¢åŸåˆ™ï¼šç±»åº”è¯¥èƒ½å¤Ÿè¢«æ‰©å±•å®ƒçš„ç±»æ›¿æ¢</li>
<li>æ¥å£åˆ†ç¦»åŸåˆ™ï¼šæä¾›å¤šä¸ªå…·ä½“æ¥å£èƒœè¿‡æä¾›å•ä¸ªé€šç”¨æ¥å£</li>
<li>ä¾èµ–å€’è½¬åŸåˆ™ï¼šç±»åº”ä¾èµ–äºæŠ½è±¡è€Œä¸æ˜¯å®ç°</li>
</ol>
</li>
</ol>
<h2 id="æœ€ä½³å®è·µ"><a href="#æœ€ä½³å®è·µ" class="headerlink" title="æœ€ä½³å®è·µ"></a>æœ€ä½³å®è·µ</h2><ul>
<li>å‘½åçº¦å®š</li>
<li>æµç¨‹</li>
<li>å¼€å‘å®è·µ</li>
<li>å·¥å…·</li>
</ul>
<h3 id="å‘½åçº¦å®š"><a href="#å‘½åçº¦å®š" class="headerlink" title="å‘½åçº¦å®š"></a>å‘½åçº¦å®š</h3><ol>
<li>å›¢é˜Ÿçš„æ¯ä¸ªæˆå‘˜éƒ½çŸ¥é“è¦éµå¾ªå“ªäº›å‘½åçº¦å®šï¼Œå¹¶èƒ½ç†Ÿç»ƒä½¿ç”¨ï¼›</li>
<li>é€‰æ‹©æµè¡Œçš„å‘½åçº¦å®šçš„ä¼˜ç‚¹åœ¨äºï¼Œæ–°åŠ å…¥å›¢é˜Ÿçš„æˆå‘˜èƒ½å¿«é€ŸæŒæ¡ï¼Œå› ä¸ºæ—¢æœ‰çš„çŸ¥è¯†å¯æä¾›å¸®åŠ©ï¼›</li>
<li>Gradleå’ŒMavenç­‰æ„å»ºå·¥å…·ä¸ä»…è¦æ±‚å°†æµ‹è¯•ä»£ç å’Œå®ç°ä»£ç æ”¾åœ¨ä¸åŒçš„æºä»£ç ç›®å½•ï¼Œè¿˜è¦éµå¾ªç‰¹å®šçš„å‘½åçº¦å®šï¼›</li>
</ol>
<h3 id="æµç¨‹"><a href="#æµç¨‹" class="headerlink" title="æµç¨‹"></a>æµç¨‹</h3><ol>
<li>å…ˆç¼–å†™æµ‹è¯•çš„å¦ä¸€ä¸ªå¥½å¤„æ—¶ï¼Œå¯é¿å…æµ‹è¯•å˜æˆè´¨é‡æ£€æŸ¥çš„æ‰‹æ®µï¼›</li>
<li><strong>æ¯æ¬¡ä¿®æ”¹å®ç°ä»£ç åï¼Œéƒ½å†æ¬¡è¿è¡Œæ‰€æœ‰æµ‹è¯•ï¼›</strong></li>
<li>ä»…å½“æ‰€æœ‰æµ‹è¯•éƒ½é€šè¿‡åæ‰ç¼–å†™æ–°æµ‹è¯•;</li>
<li>ä»…å½“æµ‹è¯•éƒ½é€šè¿‡åæ‰é‡æ„;</li>
</ol>
<h3 id="å¼€å‘å®è·µ"><a href="#å¼€å‘å®è·µ" class="headerlink" title="å¼€å‘å®è·µ"></a>å¼€å‘å®è·µ</h3><ol>
<li>ç¼–å†™è®©æµ‹è¯•èƒ½å¤Ÿé€šè¿‡çš„æœ€ç®€å•çš„ä»£ç ;</li>
<li>å…ˆç¼–å†™æ–­è¨€ï¼Œå†ç¼–å†™æ“ä½œ;</li>
<li>æœ€å¤§é™åº¦å‡å°‘æ¯ä¸ªæµ‹è¯•ä¸­çš„æ–­è¨€;</li>
<li>ä¸è¦è®©æµ‹è¯•ä¾èµ–å…¶ä»–æµ‹è¯•;</li>
<li>æµ‹è¯•çš„è¿è¡Œé€Ÿåº¦å¿…é¡»å¾ˆå¿«;</li>
<li>ä¸è¦åœ¨æµ‹è¯•ä¸­ä½¿ç”¨åŸºç±»;</li>
</ol>
<h2 id="äº‹å®"><a href="#äº‹å®" class="headerlink" title="äº‹å®"></a>äº‹å®</h2><p>å…ˆå†™æµ‹è¯•å†å†™ä»£ç æ˜¯ä¸€ä¸ªé€†å‘çš„è¿‡ç¨‹ï¼Œå®é™…ä¸Šï¼Œå¾ˆå¤šå…¬å¸éƒ½æ˜¯å…ˆå†™ä»£ç ï¼Œæµ‹è¯•æˆäº†è´¨é‡æ£€æµ‹çš„å·¥å…·ï¼Œç”šè‡³è¿è‡ªåŠ¨æµ‹è¯•éƒ½æ²¡æœ‰ï¼</p>
<hr>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>å¥—è·¯ï¼ˆkataï¼‰æ˜¯ä¸€ç§ç»ƒä¹ ï¼Œå­¦ä¹ è€…ä¸æ–­é‡å¤åŒæ ·çš„æ‹›å¼ï¼Œæ¯æ¬¡é‡å¤éƒ½è¿›æ­¥ä¸€ç‚¹ç‚¹ï¼Œæ¯ä¸€æ¬¡é‡å¤éƒ½ä¼šå½¢æˆè‚Œè‚‰å¼è®°å¿†ï¼Œç¼–ç¨‹ä¹Ÿéœ€è¦å­¦ä¹ å¾ˆå¤šå¥—è·¯ï¼Œå½¢æˆå¤§è„‘ä¸Šçš„è®°å¿†ï¼ç¨‹åºå‘˜è¦æé«˜æŠ€èƒ½ï¼Œåªèƒ½é€šè¿‡ç»ƒä¹ ï¼Œåˆ«æ— ä»–æ³•ã€‚ä½¿ç”¨ä¸åŒæŠ€æœ¯åˆ›å»ºä¸åŒç±»å‹çš„ç¨‹åºï¼Œé€šå¸¸è®©ç¨‹åºå‘˜å¯¹è½¯ä»¶å¼€å‘æœ‰æ–°çš„æ´è§ï¼</p>
]]></content>
      <categories>
        <category>Java</category>
      </categories>
  </entry>
  <entry>
    <title>Java Base_0</title>
    <url>/2020/05/17/Java-Base-0/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>Javaåœ¨ç¼–ç¨‹ç•Œåˆ°æˆ‘å·¥ä½œçš„æ—¶å€™éƒ½æ˜¯å‡ºäºéœ¸ä¸»åœ°ä½ï¼Œå°½ç®¡æœºå™¨å­¦ä¹ ã€æ·±åº¦å­¦ä¹ æŠ€æœ¯çš„å…´èµ·åˆ°ç«çˆ†ï¼ŒJavaçš„éœ¸ä¸»åœ°ä½ä¸€ç›´æ²¡æœ‰æ”¹å˜è¿‡ï¼Œåªæ˜¯Pythonè¯­è¨€çš„ç«çƒ­åº¦çˆ†å‘å¼ä¸Šæ¶¨ã€‚Pythonçš„å­¦ä¹ æŒç»­ç€ï¼Œå½“ç„¶å·¥ä½œéœ€è¦ï¼ŒJavaè¿˜æ˜¯æ·±å…¥å­¦ä¹ ï¼ <strong>æ¨èä¹¦ç±ï¼šã€ŠJava8å®æˆ˜ã€‹Â· [è‹±] Raoul-Gabriel Urma [æ„] Mario Fusco [è‹±] Alan Mycroft è‘— é™†æ˜åˆš åŠ³ä½³ è¯‘</strong></p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="æ³¨é‡Š"><a href="#æ³¨é‡Š" class="headerlink" title="æ³¨é‡Š"></a>æ³¨é‡Š</h2><p>Javaçš„æ³¨é‡Šä¸»è¦æœ‰ä¸‰ç§æ–¹å¼ï¼š</p>
<ul>
<li><p>å•è¡Œæ³¨é‡Š</p>
</li>
<li><p>å¤šè¡Œæ³¨é‡Š</p>
</li>
<li><p>å¤šè¡Œæ³¨é‡Šå¹¶ç”Ÿæˆjava docæ–‡æ¡£</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// å•è¡Œæ³¨é‡Š</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    å¤šè¡Œæ³¨é‡Š</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">*  å¤šè¡Œæ³¨é‡Šï¼Œç”ŸæˆJava docæ–‡æ¡£</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
<h2 id="public-class-amp-class"><a href="#public-class-amp-class" class="headerlink" title="public class &amp;class"></a>public class &amp;class</h2><ol>
<li>é‡‡ç”¨ public class æ¥å£°æ˜ classï¼Œé‚£ä¹ˆæ–‡ä»¶åå¿…é¡»å’Œç±»åä¸€è‡´ï¼Œå¦‚æœæ–‡ä»¶åå’Œç±»åä¸ä¸€è‡´ï¼Œå°†ä¼šå‡ºç°é”™è¯¯ï¼›</li>
<li>é‡‡ç”¨ class æ¥å£°æ˜ç±»ï¼Œæ–‡ä»¶åå¯ä»¥æ˜¯ä»»ä½•åˆæ³•çš„æ–‡ä»¶åç§°ï¼Œæ–‡ä»¶åä¸éœ€è¦å’Œ class ç±»ä¸€è‡´ï¼Œä½†ç”Ÿæˆçš„ class æ–‡ä»¶åç§°å’Œç±»åä¸€è‡´ï¼Œ ä¸å’ŒåŸæ–‡ä»¶åç§°ä¸€è‡´ï¼›</li>
<li>åœ¨ä¸€ä¸ª Java æ–‡ä»¶ä¸­ï¼Œå¯ä»¥å£°æ˜å¤šä¸ªç±»ï¼Œä½†æ˜¯åªèƒ½æœ‰ä¸€ä¸ªç±»é‡‡ç”¨ public class è¿›è¡Œå£°æ˜ï¼</li>
</ol>
<h2 id="æ•°æ®ç±»å‹"><a href="#æ•°æ®ç±»å‹" class="headerlink" title="æ•°æ®ç±»å‹"></a>æ•°æ®ç±»å‹</h2><ol>
<li>æœ‰ä¸¤ç§æ•°æ®ç±»å‹ï¼šåŸºæœ¬ç±»å‹å’Œå¼•ç”¨ç±»å‹</li>
<li>åŸºæœ¬ç±»å‹ï¼š<ul>
<li>æ•°å€¼ç±»å‹</li>
<li>å­—ç¬¦ç±»å‹</li>
<li>å¸ƒå°”ç±»å‹</li>
</ul>
</li>
<li>å¼•ç”¨ç±»å‹ï¼š<ul>
<li>æ•°ç»„</li>
<li>ç±»</li>
<li>æ¥å£</li>
</ul>
</li>
</ol>
<h2 id="å­—ç¬¦ç¼–ç "><a href="#å­—ç¬¦ç¼–ç " class="headerlink" title="å­—ç¬¦ç¼–ç "></a>å­—ç¬¦ç¼–ç </h2><table>
<thead>
<tr>
<th>åç§°</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>ISO-8859-1</td>
<td>æœ‰ç§° latin-1,æ˜¯å›½é™…åŒ–æ ‡å‡†æˆ–ç»„ç»‡ ISO åˆ¶å®š çš„ï¼Œä¸»è¦ä¸ºäº†è¥¿æ¬§è¯­è¨€ä¸­çš„å­—ç¬¦ç¼–ç ï¼Œå’Œ ASCII å…¼å®¹</td>
</tr>
<tr>
<td>ASCIIå­—ç¬¦ç¼–ç </td>
<td>é‡‡ç”¨ä¸€ä¸ªå­—èŠ‚ç¼–ç ï¼Œä¸»è¦é’ˆå¯¹è‹±æ–‡ç¼–ç </td>
</tr>
<tr>
<td>GB2312/GBK/GB18030</td>
<td>ä¸»è¦æ˜¯æ±‰å­—ç¼–ç ï¼Œä¸‰ç§ç¼–ç ä»å®¹é‡ä¸Šçœ‹æ˜¯åŒ…å«å…³ç³»</td>
</tr>
<tr>
<td>unicode</td>
<td>Unicode ç»Ÿä¸€äº†å…¨ä¸–ç•Œä¸Šçš„æ‰€æœ‰æ–‡å­—ç¼–ç ï¼Œunicode æœ‰å‡ ç§å®ç°ï¼š UTF-8,UTF-16,UTF-32</td>
</tr>
</tbody></table>
<ul>
<li>java ä¸­çš„ char ä½¿ç”¨ utf-16 ç¼–ç ï¼Œæ‰€ä»¥ char å ç”¨ä¸¤ä¸ªå­—èŠ‚ï¼Œå¯ä»¥å­˜å‚¨ä¸­æ–‡ï¼›ã€‚</li>
</ul>
<h2 id="æ–¹æ³•"><a href="#æ–¹æ³•" class="headerlink" title="æ–¹æ³•"></a>æ–¹æ³•</h2><ol>
<li><p>æ–¹æ³•æ˜¯å¯ä»¥é‡å¤è°ƒç”¨çš„ä»£ç å—ï¼Œé€šå¸¸æ˜¯ä¸ºäº†å®ç°å„ç§åŠŸèƒ½æ‰å»å®šä¹‰çš„ï¼›</p>
</li>
<li><p>å®šä¹‰æ ¼å¼ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">[æ–¹æ³•ä¿®é¥°åˆ—è¡¨] è¿”å›å€¼ç±»å‹ æ–¹æ³•å(æ–¹æ³•å‚æ•°åˆ—è¡¨)</span><br><span class="line">&#123;</span><br><span class="line">    æ–¹æ³•ä½“</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>æ–¹æ³•ä¿®é¥°åˆ—è¡¨ ï¼špublicï¼Œprotectedï¼Œprivateï¼Œabstractï¼Œstaticï¼Œfinalï¼Œsynchronizedï¼Œå…¶ä¸­ publicï¼Œprotectedï¼Œprivate ä¸èƒ½åŒæ—¶å­˜åœ¨</li>
<li>è¿”å›å€¼ç±»å‹ï¼šå¦‚æœæ²¡æœ‰è¿”å›å€¼ä½¿ç”¨ void å…³é”®å­—ï¼Œå¦‚æœå­˜åœ¨è¿”å›å€¼å¯ä»¥æ˜¯åŸºæœ¬ç±»å‹å’Œå¼•ç”¨ç±»å‹ï¼Œå¦‚æœå­˜åœ¨è¿”å›å€¼ï¼Œä½¿ç”¨ return è¯­å¥ã€‚<strong>return è¯­å¥åé¢ä¸èƒ½å†æ‰§è¡Œè¯­å¥ï¼Œå› ä¸ºä¸å¯èƒ½ä¼šæ‰§è¡Œåˆ°ï¼Œç¼–è¯‘å™¨ä¼šå‘ç”Ÿé”™è¯¯</strong></li>
<li>æ–¹æ³•åï¼šä»»æ„åˆæ³•çš„æ ‡è¯†ç¬¦</li>
<li>æ–¹æ³•å‚æ•°åˆ—è¡¨ï¼šå‚æ•°åˆ—è¡¨å¯ä»¥å¤šä¸ª</li>
</ul>
</li>
<li><p>æ–¹æ³•çš„é‡è½½å’Œé€’å½’ï¼š</p>
<ol>
<li>é‡è½½ï¼š<ul>
<li>æ–¹æ³•åç›¸åŒ</li>
<li>æ–¹æ³•çš„å‚æ•°ç±»å‹ï¼Œä¸ªæ•°ï¼Œé¡ºåºè‡³å°‘æœ‰ä¸€ä¸ªä¸åŒ</li>
<li>æ–¹æ³•çš„è¿”å›ç±»å‹å¯ä»¥ä¸åŒï¼ˆä¸ä¾é è¿”å›ç±»å‹æ¥åŒºåˆ†é‡è½½ï¼‰</li>
<li>æ–¹æ³•çš„ä¿®é¥°ç¬¦å¯ä»¥ä¸åŒï¼Œå› ä¸ºæ–¹æ³•é‡è½½å’Œä¿®é¥°ç¬¦æ²¡æœ‰ä»»ä½•å…³ç³»</li>
<li>æ–¹æ³•é‡è½½åªå‡ºç°åœ¨åŒä¸€ä¸ªç±»ä¸­</li>
</ul>
</li>
<li>é€’å½’ï¼šæŒ‡æ–¹æ³•è°ƒç”¨è‡ªèº«  </li>
</ol>
</li>
</ol>
<h2 id="Java8"><a href="#Java8" class="headerlink" title="Java8"></a>Java8</h2><ol>
<li><p>Java 8æ‰€åšçš„æ”¹å˜ï¼Œåœ¨è®¸å¤šæ–¹é¢æ¯”Javaå†å²ä¸Šä»»ä½•ä¸€æ¬¡æ”¹å˜éƒ½æ·±è¿œï¼Œï¼Œè¿™äº›æ”¹å˜ä¼šè®©ä½ ç¼–èµ·ç¨‹æ¥æ›´å®¹æ˜“ï¼Œç”¨ä¸ç€å†å†™å•°å—¦çš„ä»£ç äº†ï¼›</p>
</li>
<li><p>Java8å¯¹äºå¤„ç†å™¨çš„å¤šæ ¸æ“ä½œæ›´åŠ äººæ€§åŒ–ï¼Œå¯¹äºç¡¬ä»¶çš„ä½¿ç”¨ä¹Ÿæ›´åŠ ä¼˜ç§€ï¼›</p>
</li>
<li><p>Java 8æ”¯æŒè®¸å¤šå¤„ç†æ•°æ®çš„å¹¶è¡Œæ“ä½œï¼Œç”¨æ›´é«˜çº§çš„æ–¹å¼è¡¨è¾¾æƒ³è¦çš„ä¸œè¥¿ï¼›</p>
</li>
<li><p>æ•°æ®å¤„ç†å®Œå…¨åœ¨åº“å†…éƒ¨è¿›è¡Œçš„æ€æƒ³å«ä½œå†…éƒ¨è¿­ä»£ï¼›</p>
</li>
<li><p><strong>è¡Œä¸ºå‚æ•°åŒ–å°±æ˜¯å¯ä»¥å¸®åŠ©å¤„ç†é¢‘ç¹å˜æ›´çš„éœ€æ±‚çš„ä¸€ç§è½¯ä»¶å¼€å‘æ¨¡å¼</strong>ï¼Œä¸€ä¸ªè‰¯å¥½çš„åŸåˆ™æ˜¯åœ¨ç¼–å†™ç±»ä¼¼çš„ä»£ç ä¹‹åï¼Œå°è¯•å°†å…¶æŠ½è±¡åŒ–ï¼›</p>
</li>
<li><p>å¯¹éœ€æ±‚é€‰æ‹©è¿›è¡Œæ ‡å‡†å»ºæ¨¡ï¼Œæ ¹æ®éœ€è¦çš„å±æ€§æ¥å®šä¹‰ä¸€ä¸ªè¿”å›booleançš„å‡½æ•°ï¼Œè¿™ç§ç±»å‹çš„å‡½æ•°ç§°ä¸º<strong>è°“è¯</strong>ï¼Œè¿™ç§è®¾è®¡æ–¹å¼å¯¹åº”ç€è®¾è®¡æ¨¡å¼ä¸­çš„<strong>ç­–ç•¥è®¾è®¡æ¨¡å¼</strong>ï¼›</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/e4f989c475a572d4e441167070f4c9b5-70964" alt=""></p>
</li>
<li><p>å‚æ•°æ¨¡å¼æ¯”è¾ƒï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/14d94bed05a85dc2cc691cd270e24cdd-43403" alt=""></p>
</li>
</ol>
<h2 id="Lambda"><a href="#Lambda" class="headerlink" title="Lambda"></a>Lambda</h2><ol>
<li><p>å¯ä»¥æŠŠLambdaè¡¨è¾¾å¼ç†è§£ä¸ºç®€æ´åœ°è¡¨ç¤ºå¯ä¼ é€’çš„åŒ¿åå‡½æ•°çš„ä¸€ç§æ–¹å¼ï¼šæ²¡æœ‰åç§°ï¼Œä½†æœ‰å‚æ•°åˆ—è¡¨ã€å‡½æ•°ä¸»ä½“ã€è¿”å›ç±»å‹ï¼Œå¯èƒ½è¿˜æœ‰ä¸€ä¸ªå¯ä»¥æŠ›å‡ºçš„å¼‚å¸¸åˆ—è¡¨ï¼›</p>
</li>
<li><p>Lambdaè¡¨è¾¾å¼æœ‰ä¸‰ä¸ªéƒ¨åˆ†ï¼š</p>
<ul>
<li>å‚æ•°åˆ—è¡¨</li>
<li>ç®­å¤´â€”â€”ç®­å¤´-&gt;æŠŠå‚æ•°åˆ—è¡¨ä¸Lambdaä¸»ä½“åˆ†éš”å¼€</li>
<li>Lambdaä¸»ä½“</li>
</ul>
</li>
<li><p>Lambdaçš„åŸºæœ¬è¯­æ³•ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// æ–¹æ³•1</span></span><br><span class="line">(parameters) -&gt; expression</span><br><span class="line"><span class="comment">// æ–¹æ³•2</span></span><br><span class="line">(parameters) -&gt; &#123; statements; &#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>å‡½æ•°å¼æ¥å£å°±æ˜¯åªå®šä¹‰ä¸€ä¸ªæŠ½è±¡æ–¹æ³•çš„æ¥å£ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Predicate</span>&lt;<span class="title">T</span>&gt;</span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">boolean</span> <span class="title">test</span> <span class="params">(T t)</span></span>; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>æ¥å£ç°åœ¨è¿˜å¯ä»¥æ‹¥æœ‰é»˜è®¤æ–¹æ³•ï¼Œåœ¨ç±»æ²¡æœ‰å¯¹æ–¹æ³•è¿›è¡Œå®ç°æ—¶ï¼Œå…¶ä¸»ä½“ä¸ºæ–¹æ³•æä¾›é»˜è®¤å®ç°çš„æ–¹æ³•</li>
<li>å“ªæ€•æœ‰å¾ˆå¤šé»˜è®¤æ–¹æ³•ï¼Œåªè¦æ¥å£åªå®šä¹‰äº†ä¸€ä¸ªæŠ½è±¡æ–¹æ³•ï¼Œå°±ä»ç„¶æ˜¯ä¸€ä¸ªå‡½æ•°å¼æ¥å£</li>
<li>Lambdaè¡¨è¾¾å¼å…è®¸ä½ ç›´æ¥å†…è”ï¼Œä¸ºå‡½æ•°å¼æ¥å£çš„æŠ½è±¡æ–¹æ³•æä¾›å®ç°ï¼Œå¹¶ä¸”å°†æ•´ä¸ªè¡¨è¾¾å¼ä½œä¸ºå‡½æ•°å¼æ¥å£çš„ä¸€ä¸ªå®ä¾‹</li>
</ul>
</li>
<li><p>Lambdaè¡¨è¾¾å¼å…è®¸ç›´æ¥ä»¥å†…è”çš„å½¢å¼ä¸ºå‡½æ•°å¼æ¥å£çš„æŠ½è±¡æ–¹æ³•æä¾›å®ç°ï¼Œå¹¶æŠŠæ•´ä¸ªè¡¨è¾¾å¼ä½œä¸ºå‡½æ•°å¼æ¥å£çš„å®ä¾‹ï¼›</p>
</li>
<li><p>å‡½æ•°å¼æ¥å£çš„æŠ½è±¡æ–¹æ³•ï¼ˆå‡½æ•°æè¿°ç¬¦ï¼‰çš„ç­¾ååŸºæœ¬ä¸Šå°±æ˜¯Lambdaè¡¨è¾¾å¼çš„ç­¾åï¼Œç­¾åå¿…é¡»åŒ¹é…ï¼Œå¦åˆ™ä¼šæŠ¥é”™ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">process</span><span class="params">(Runnable r)</span></span>&#123;</span><br><span class="line">  r.run();</span><br><span class="line">&#125;</span><br><span class="line">process(() -&gt; System.out.println(<span class="string">"This is awesome!!"</span>));</span><br></pre></td></tr></table></figure>

<ul>
<li>å¤§å¤šæ•°Javaç¨‹åºå‘˜éƒ½å·²ç»ç†Ÿæ‚‰äº†å…·æœ‰ä¸€ä¸ªæŠ½è±¡æ–¹æ³•çš„æ¥å£çš„ç†å¿µï¼Œè¿™æ ·æ¥è®¾å®šåªæœ‰åœ¨éœ€è¦å‡½æ•°å¼æ¥å£çš„æ—¶å€™æ‰å¯ä»¥ä¼ é€’Lambdaï¼</li>
<li><strong>è¯­è¨€çš„è®¾è®¡è€…ä¹Ÿè€ƒè™‘è¿‡å…¶ä»–åŠæ³•ï¼Œä½†æ˜¯éƒ½æ²¡æœ‰ä½¿ç”¨Lambdaæ–¹å¼è‡ªç„¶ä¸”èƒ½é¿å…è¯­è¨€å˜å¾—æ›´å¤æ‚</strong></li>
</ul>
</li>
<li><p>@FunctionalInterfaceçš„æ ‡æ³¨ç”¨äºè¡¨ç¤ºè¯¥æ¥å£ä¼šè®¾è®¡æˆä¸€ä¸ªå‡½æ•°å¼æ¥å£ï¼Œå¦‚æœç”¨@FunctionalInterfaceå®šä¹‰äº†ä¸€ä¸ªæ¥å£ï¼Œè€Œå®ƒå´ä¸æ˜¯å‡½æ•°å¼æ¥å£çš„è¯ï¼Œç¼–è¯‘å™¨å°†è¿”å›ä¸€ä¸ªæç¤ºåŸå› çš„é”™è¯¯ï¼Œè™½ç„¶ä¸æ˜¯å¿…é¡»çš„ï¼Œä½†æ˜¯å»ºè®®å®šä¹‰å‡½æ•°å¼æ¥å£æ—¶åŠ ä¸Šè¯¥æ ‡æ³¨ï¼›</p>
</li>
<li><p>Java 8çš„åº“è®¾è®¡å¸ˆåœ¨java.util.functionåŒ…ä¸­å¼•å…¥äº†å‡ ä¸ªæ–°çš„å‡½æ•°å¼æ¥å£ï¼š</p>
<ul>
<li><p>java.util.function.Predicate<T>æ¥å£å®šä¹‰äº†ä¸€ä¸ªåå«testçš„æŠ½è±¡æ–¹æ³•ï¼Œå®ƒæ¥å—æ³›å‹Tå¯¹è±¡ï¼Œå¹¶è¿”å›ä¸€ä¸ªboolean</p>
</li>
<li><p>java.util.function.Consumer<T> å®šä¹‰äº†ä¸€ä¸ªåå« accept çš„æŠ½è±¡æ–¹æ³•ï¼Œ å®ƒæ¥å—æ³›å‹ Tçš„å¯¹è±¡ï¼Œæ²¡æœ‰è¿”å›ï¼ˆvoidï¼‰</p>
</li>
<li><p>java.util.function.Function&lt;T, R&gt;æ¥å£å®šä¹‰äº†ä¸€ä¸ªå«ä½œapplyçš„æ–¹æ³•ï¼Œå®ƒæ¥å—ä¸€ä¸ªæ³›å‹Tçš„å¯¹è±¡ï¼Œå¹¶è¿”å›ä¸€ä¸ªæ³›å‹Rçš„å¯¹è±¡</p>
</li>
<li><p>æ³¨æ„ï¼š(T,U) -&gt; Rçš„è¡¨è¾¾æ–¹å¼å±•ç¤ºäº†åº”å½“å¦‚ä½•æ€è€ƒä¸€ä¸ªå‡½æ•°æè¿°ç¬¦</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/22583f12ca5f51790b33d8b7cc99a616-52378" alt=""></p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/5e5b69f66c9a66af02bf659e14c43b56-60025" alt=""></p>
</li>
</ul>
</li>
<li><p>æ³›å‹åªèƒ½ç»‘å®šåˆ°å¼•ç”¨ç±»å‹ï¼Œè¿™æ˜¯ç”±æ³›å‹å†…éƒ¨çš„å®ç°æ–¹å¼é€ æˆçš„ï¼Œåœ¨Javaé‡Œæœ‰ä¸€ä¸ªå°†åŸå§‹ç±»å‹è½¬æ¢ä¸ºå¯¹åº”çš„å¼•ç”¨ç±»å‹çš„æœºåˆ¶ï¼ˆè£…ç®±ï¼Œboxingï¼‰ï¼Œå°†å¼•ç”¨ç±»å‹è½¬æ¢ä¸ºå¯¹åº”çš„åŸå§‹ç±»å‹ï¼Œå«ä½œæ‹†ç®±ï¼ˆunboxingï¼‰ï¼Œæä¾›äº†ä¸€ä¸ªè‡ªåŠ¨è£…ç®±æœºåˆ¶æ¥å¸®åŠ©ç¨‹åºå‘˜æ‰§è¡Œè¿™ä¸€ä»»åŠ¡ï¼›</p>
</li>
<li><p>æ•è·Lambdaï¼šå…è®¸ä½¿ç”¨è‡ªç”±å˜é‡ï¼ˆåœ¨å¤–å±‚ä½œç”¨åŸŸä¸­å®šä¹‰çš„å˜é‡ï¼‰ï¼Œå°±åƒåŒ¿åç±»ä¸€æ ·ï¼Œä½†æ˜¯æœ‰é™åˆ¶ï¼š</p>
<ul>
<li>å¯ä»¥æ²¡æœ‰é™åˆ¶åœ°æ•è·å®ä¾‹å˜é‡å’Œé™æ€å˜é‡</li>
<li>å±€éƒ¨å˜é‡å¿…é¡»æ˜¾å¼å£°æ˜ä¸ºfinalï¼ˆå®ä¾‹å˜é‡éƒ½å­˜å‚¨åœ¨å †ä¸­ï¼Œè€Œå±€éƒ¨å˜é‡åˆ™ä¿å­˜åœ¨æ ˆä¸Šï¼‰</li>
</ul>
</li>
<li><p>é—­åŒ…å°±æ˜¯ä¸€ä¸ªå‡½æ•°çš„å®ä¾‹ï¼Œä¸”å®ƒå¯ä»¥æ— é™åˆ¶åœ°è®¿é—®é‚£ä¸ªå‡½æ•°çš„éæœ¬åœ°å˜é‡ï¼š</p>
<ul>
<li>é—­åŒ…å¯ä»¥ä½œä¸ºå‚æ•°ä¼ é€’ç»™å¦ä¸€ä¸ªå‡½æ•°</li>
<li>å¯ä»¥è®¿é—®å’Œä¿®æ”¹å…¶ä½œç”¨åŸŸä¹‹å¤–çš„å˜é‡</li>
<li>æ³¨æ„ï¼šJava 8çš„Lambdaå’ŒåŒ¿åç±»å¯ä»¥åšç±»ä¼¼äºé—­åŒ…çš„äº‹æƒ…ï¼Œä½†æ˜¯ä¸èƒ½ä¿®æ”¹å®šä¹‰Lambdaçš„æ–¹æ³•çš„å±€éƒ¨å˜é‡çš„å†…å®¹</li>
</ul>
</li>
<li><p><strong>æ–¹æ³•å¼•ç”¨</strong>ï¼šå¯ä»¥é‡å¤ä½¿ç”¨ç°æœ‰çš„æ–¹æ³•å®šä¹‰ï¼Œå¹¶åƒLambdaä¸€æ ·ä¼ é€’å®ƒä»¬</p>
<ul>
<li><p>æ–¹æ³•å¼•ç”¨å¯ä»¥è¢«çœ‹ä½œä»…ä»…è°ƒç”¨ç‰¹å®šæ–¹æ³•çš„Lambdaçš„ä¸€ç§å¿«æ·å†™æ³•ï¼›</p>
</li>
<li><p>Apple::getWeightå°±æ˜¯å¼•ç”¨äº†Appleç±»ä¸­å®šä¹‰çš„æ–¹æ³•getWeightï¼Œä¸éœ€è¦æ‹¬å·ï¼Œå› ä¸ºæ²¡æœ‰å®é™…è°ƒç”¨è¿™ä¸ªæ–¹æ³•ï¼›</p>
</li>
<li><p>æ–¹æ³•å¼•ç”¨ä¸»è¦æœ‰ä¸‰ç±»ï¼š</p>
<ul>
<li><p>æŒ‡å‘é™æ€æ–¹æ³•çš„æ–¹æ³•å¼•ç”¨ï¼ˆä¾‹å¦‚Integerçš„parseIntæ–¹æ³•ï¼Œå†™ä½œInteger::parseIntï¼‰</p>
</li>
<li><p>æŒ‡å‘ä»»æ„ç±»å‹å®ä¾‹æ–¹æ³•çš„æ–¹æ³•å¼•ç”¨ ï¼ˆ ä¾‹å¦‚ Stringçš„ length æ–¹æ³• ï¼Œ å†™ä½œ String::lengthï¼‰</p>
</li>
<li><p>æŒ‡å‘ç°æœ‰å¯¹è±¡çš„å®ä¾‹æ–¹æ³•çš„æ–¹æ³•å¼•ç”¨</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/cae1c2368492a1371ab5b823b63db2f2-68949" alt=""></p>
</li>
</ul>
</li>
<li><p>æ³¨æ„ï¼šè¿˜æœ‰é’ˆå¯¹æ„é€ å‡½æ•°ã€æ•°ç»„æ„é€ å‡½æ•°å’Œçˆ¶ç±»è°ƒç”¨ï¼ˆsuper-callï¼‰çš„ä¸€äº›ç‰¹æ®Šå½¢å¼çš„æ–¹æ³•å¼•ç”¨</p>
</li>
</ul>
</li>
</ol>
<h2 id="é«˜æ•ˆJava-8-ç¼–ç¨‹"><a href="#é«˜æ•ˆJava-8-ç¼–ç¨‹" class="headerlink" title="é«˜æ•ˆJava 8 ç¼–ç¨‹"></a>é«˜æ•ˆJava 8 ç¼–ç¨‹</h2><ol>
<li><p>å¤§å¤šæ•°æƒ…å†µä¸‹éƒ½æ²¡æœ‰æœºä¼šä»å¤´å¼€å§‹ä¸€ä¸ªå…¨æ–°çš„é¡¹ç›®ï¼Œå¾ˆå¤šæ—¶å€™ï¼Œä¸å¾—ä¸é¢å¯¹çš„æ˜¯ç”¨è€ç‰ˆJavaæ¥å£ç¼–å†™çš„é—ç•™ä»£ç ï¼</p>
</li>
<li><p>æ”¹å–„å¯è¯»æ€§æ„å‘³ç€ä½ è¦ç¡®ä¿ä½ çš„ä»£ç èƒ½éå¸¸å®¹æ˜“åœ°è¢«åŒ…æ‹¬è‡ªå·±åœ¨å†…çš„æ‰€æœ‰äººç†è§£å’Œç»´æŠ¤ï¼š</p>
<ul>
<li>å‡å°‘å†—é•¿çš„ä»£ç </li>
<li>é€šè¿‡æ–¹æ³•å¼•ç”¨å’ŒStream APIï¼Œç›´è§‚åŒ–ä»£ç </li>
</ul>
</li>
<li><p>å¢åŠ ä»£ç çš„çµæ´»æ€§ï¼š</p>
<ul>
<li>é‡‡ç”¨å‡½æ•°æ¥å£</li>
<li>æœ‰æ¡ä»¶çš„å»¶è¿Ÿæ‰§è¡Œ</li>
<li>ç¯ç»•æ‰§è¡Œ</li>
</ul>
</li>
<li><p>å¯¹è®¾è®¡ç»éªŒçš„å½’çº³æ€»ç»“è¢«ç§°ä¸º<strong>è®¾è®¡æ¨¡å¼</strong>ï¼Œå¯ä»¥å¤ç”¨è¿™äº›æ–¹å¼æ–¹æ³•æ¥è§£å†³ä¸€äº›å¸¸è§é—®é¢˜ï¼š</p>
<ul>
<li><strong>è®¿é—®è€…æ¨¡å¼</strong>å¸¸ç”¨äºåˆ†ç¦»ç¨‹åºçš„ç®—æ³•å’Œå®ƒçš„æ“ä½œå¯¹è±¡</li>
<li><strong>å•ä¾‹æ¨¡å¼</strong>ä¸€èˆ¬ç”¨äºé™åˆ¶ç±»çš„å®ä¾‹åŒ–ï¼Œä»…ç”Ÿæˆä¸€ä»½å¯¹è±¡</li>
</ul>
</li>
<li><p><strong>ç­–ç•¥æ¨¡å¼</strong>ä»£è¡¨äº†è§£å†³ä¸€ç±»ç®—æ³•çš„é€šç”¨è§£å†³æ–¹æ¡ˆï¼Œå¯ä»¥åœ¨è¿è¡Œæ—¶é€‰æ‹©ä½¿ç”¨å“ªç§æ–¹æ¡ˆï¼ŒåŒ…å«ä¸‰éƒ¨åˆ†å†…å®¹ï¼š</p>
<ul>
<li>ä¸€ä¸ªä»£è¡¨æŸä¸ªç®—æ³•çš„æ¥å£</li>
<li>ä¸€ä¸ªæˆ–å¤šä¸ªè¯¥æ¥å£çš„å…·ä½“å®ç°ï¼Œå®ƒä»¬ä»£è¡¨äº†ç®—æ³•çš„å¤šç§å®ç°</li>
<li>ä¸€ä¸ªæˆ–å¤šä¸ªä½¿ç”¨ç­–ç•¥å¯¹è±¡çš„å®¢æˆ·</li>
</ul>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/7d1ee84b2e065f0cbfafd944fc72c8ca-18822" alt=""></p>
</li>
<li><p>æ¨¡æ¿æ–¹æ³•æ¨¡å¼åœ¨â€œå¸Œæœ›ä½¿ç”¨è¿™ä¸ªç®—æ³•ï¼Œä½†æ˜¯éœ€è¦å¯¹å…¶ä¸­çš„æŸäº›è¡Œä¸ºè¿›è¡Œæ”¹è¿›ï¼Œæ‰èƒ½è¾¾åˆ°å¸Œæœ›çš„æ•ˆæœâ€ï¼›</p>
</li>
<li><p><strong>è§‚å¯Ÿè€…æ¨¡å¼</strong>é€‚ç”¨äºæŸäº›äº‹ä»¶å‘ç”Ÿæ—¶ï¼ˆæ¯”å¦‚çŠ¶æ€è½¬å˜ï¼‰ï¼Œå¦‚æœä¸€ä¸ªå¯¹è±¡ï¼ˆé€šå¸¸æˆ‘ä»¬ç§°ä¹‹ä¸ºä¸»é¢˜ï¼‰éœ€è¦è‡ªåŠ¨åœ°é€šçŸ¥å…¶ä»–å¤šä¸ªå¯¹è±¡ï¼ˆç§°ä¸ºè§‚å¯Ÿè€…ï¼‰</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/52009a6e2007d242cbf8d94ef284d61b-20736" alt=""></p>
</li>
<li><p><strong>è´£ä»»é“¾æ¨¡å¼</strong>æ˜¯ä¸€ç§åˆ›å»ºå¤„ç†å¯¹è±¡åºåˆ—ï¼ˆæ¯”å¦‚æ“ä½œåºåˆ—ï¼‰çš„é€šç”¨æ–¹æ¡ˆï¼Œä¸€ä¸ªå¤„ç†å¯¹è±¡å¯èƒ½éœ€è¦åœ¨å®Œæˆä¸€äº›å·¥ä½œä¹‹åï¼Œå°†ç»“æœä¼ é€’ç»™å¦ä¸€ä¸ªå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡æ¥ç€åšä¸€äº›å·¥ä½œï¼Œå†è½¬äº¤ç»™ä¸‹ä¸€ä¸ªå¤„ç†å¯¹è±¡ï¼Œä»¥æ­¤ç±»æ¨ï¼›</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/e0afc65801ccc42a14d7c3cbb9c951ec-19488" alt=""></p>
</li>
<li><p><strong>å·¥å‚æ¨¡å¼</strong>æ˜¯æ— éœ€å‘å®¢æˆ·æš´éœ²å®ä¾‹åŒ–çš„é€»è¾‘å°±èƒ½å®Œæˆå¯¹è±¡çš„åˆ›å»ºï¼›</p>
</li>
<li><p>é»˜è®¤æ–¹æ³•ï¼šï¼ˆæ ·ä¾‹ï¼ŒisEmptyå°±æœ‰é»˜è®¤æ–¹æ³•ï¼‰</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"> <span class="class"><span class="keyword">interface</span> <span class="title">Sized</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">size</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">default</span> <span class="keyword">boolean</span> <span class="title">isEmpty</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> size() == <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Size</span> <span class="keyword">implements</span> <span class="title">Sized</span></span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">size</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>é»˜è®¤æ–¹æ³•å¯¼è‡´æ¥å£åŒ…å«çš„æ–¹æ³•ç­¾ååœ¨å®ƒçš„å®ç°ç±»ä¸­ä¹Ÿå¯ä»¥ä¸æä¾›å®ç°</li>
<li>é»˜è®¤æ–¹æ³•ç”±defaultä¿®é¥°ç¬¦ä¿®é¥°ï¼Œå¹¶åƒç±»ä¸­å£°æ˜çš„å…¶ä»–æ–¹æ³•ä¸€æ ·åŒ…å«æ–¹æ³•ä½“</li>
<li>æ ·ä»»ä½•ä¸€ä¸ªå®ç°äº†Sizedæ¥å£çš„ç±»éƒ½ä¼šè‡ªåŠ¨ç»§æ‰¿isEmptyçš„å®ç°ï¼Œå‘æä¾›äº†é»˜è®¤å®ç°çš„æ¥å£æ·»åŠ æ–¹æ³•å°±ä¸æ˜¯æºç å…¼å®¹çš„</li>
</ul>
</li>
<li><p>å‡½æ•°å¼æ¥å£åªåŒ…å«ä¸€ä¸ªæŠ½è±¡æ–¹æ³•ï¼Œé»˜è®¤æ–¹æ³•æ˜¯ç§éæŠ½è±¡æ–¹æ³•ï¼›é€šè¿‡é»˜è®¤æ–¹æ³•æ–¹å¼ï¼Œå¯ä»¥å‡å°‘æ— æ•ˆçš„æ¨¡æ¿ä»£ç ï¼Œå› ä¸ºåœ¨æ¥å£é‡Œå·²ç»æœ‰ä¸€ä¸ªé»˜è®¤çš„å®ç°äº†ï¼›</p>
</li>
<li><p>æ³¨æ„ï¼šå¸¦æœ‰é»˜è®¤æ–¹æ³•çš„å•ä¸ªæŠ½è±¡æ–¹æ³•çš„æ¥å£æ˜¯ä¸å±äºå‡½æ•°å¼æ¥å£çš„ï¼›</p>
</li>
<li><p>Javaçš„ç±»åªèƒ½ç»§æ‰¿å•ä¸€çš„ç±»ï¼Œä½†æ˜¯ä¸€ä¸ªç±»å¯ä»¥å®ç°å¤šæ¥å£ï¼Œé»˜è®¤æ–¹æ³•å¯ä»¥å¸®åŠ©å®ç°è¡Œä¸ºçš„å¤šç»§æ‰¿ï¼›</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/4e2808b87e1da5e0d16f7f641ad7ce81-40497" alt=""></p>
</li>
<li><p>å£°æ˜ä¸ºfinalçš„ç±»ä¸èƒ½è¢«å…¶ä»–çš„ç±»ç»§æ‰¿ï¼Œé¿å…å‘ç”Ÿä¸å¿…è¦çš„å¤æ‚æ€§ï¼Œé˜²æ­¢æ ¸å¿ƒä»£ç çš„åŠŸèƒ½è¢«æ±¡æŸ“ï¼›</p>
</li>
<li><p>å¤šæ¥å£ç»§æ‰¿ä¼šæœ‰å¯èƒ½å‡ºç°ä¸€ä¸ªç±»ç»§æ‰¿äº†å¤šä¸ªæ–¹æ³•è€Œå®ƒä»¬ä½¿ç”¨çš„å´æ˜¯åŒæ ·çš„å‡½æ•°ç­¾åï¼Œè§£å†³è¿™ç§é—®é¢˜çš„è§„åˆ™ï¼š</p>
<ol>
<li><strong><em>ç±»ä¸­çš„æ–¹æ³•ä¼˜å…ˆçº§æœ€é«˜ï¼Œç±»æˆ–çˆ¶ç±»ä¸­å£°æ˜çš„æ–¹æ³•çš„ä¼˜å…ˆçº§é«˜äºä»»ä½•å£°æ˜ä¸ºé»˜è®¤æ–¹æ³•çš„ä¼˜å…ˆçº§</em></strong></li>
<li><strong><em>å¦‚æœæ— æ³•ä¾æ®ç¬¬ä¸€æ¡è¿›è¡Œåˆ¤æ–­ï¼Œé‚£ä¹ˆå­æ¥å£çš„ä¼˜å…ˆçº§æ›´é«˜ï¼Œå‡½æ•°ç­¾åç›¸åŒæ—¶ï¼Œä¼˜å…ˆé€‰æ‹©æ‹¥æœ‰æœ€å…·ä½“å®ç°çš„é»˜è®¤æ–¹æ³•çš„æ¥å£ï¼Œå³å¦‚æœBç»§æ‰¿äº†Aï¼Œé‚£ä¹ˆBå°±æ¯”Aæ›´åŠ å…·ä½“</em></strong></li>
<li><strong><em>æœ€åï¼Œå¦‚æœè¿˜æ˜¯æ— æ³•åˆ¤æ–­ï¼Œç»§æ‰¿äº†å¤šä¸ªæ¥å£çš„ç±»å¿…é¡»é€šè¿‡æ˜¾å¼è¦†ç›–å’Œè°ƒç”¨æœŸæœ›çš„æ–¹æ³•ï¼Œæ˜¾å¼åœ°é€‰æ‹©ä½¿ç”¨å“ªä¸€ä¸ªé»˜è®¤æ–¹æ³•çš„å®ç°</em></strong></li>
</ol>
</li>
<li><p>æ ·ä¾‹1ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> UseAnotation;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">A</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">default</span> <span class="keyword">void</span> <span class="title">hello</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"Hello from A"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">B</span> <span class="keyword">extends</span> <span class="title">A</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">default</span> <span class="keyword">void</span> <span class="title">hello</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"Hello from B"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">C</span> <span class="keyword">implements</span> <span class="title">B</span>, <span class="title">A</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String... args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">new</span> C().hello();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¾“å‡ºï¼š</span></span><br><span class="line"><span class="comment">// Hello from B</span></span><br></pre></td></tr></table></figure>

<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/3204a9b1af9f0237ea20e4998e3ec7fd-12412" alt=""></p>
</li>
<li><p>æ ·ä¾‹2ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> UseAnotation;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">A</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">default</span> <span class="keyword">void</span> <span class="title">hello</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"Hello from A"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">B</span> <span class="keyword">extends</span> <span class="title">A</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">default</span> <span class="keyword">void</span> <span class="title">hello</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"Hello from B"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"> <span class="class"><span class="keyword">class</span> <span class="title">D</span> <span class="keyword">implements</span> <span class="title">A</span> </span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">C</span> <span class="keyword">extends</span> <span class="title">D</span> <span class="keyword">implements</span> <span class="title">B</span>, <span class="title">A</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String... args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">new</span> C().hello();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// è¿˜æ˜¯è¾“å‡ºçš„ Hello from B</span></span><br><span class="line"><span class="comment">// å› ä¸ºè™½ç„¶æœ‰ç±»Dï¼Œä½†æ˜¯æ²¡æœ‰å®ç°è¦†ç›–</span></span><br></pre></td></tr></table></figure>

<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/2bc48aafc0ccd7c4da4fa98b9a68d776-18372" alt=""></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> UseAnotation;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">A</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">default</span> <span class="keyword">void</span> <span class="title">hello</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"Hello from A"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">B</span> <span class="keyword">extends</span> <span class="title">A</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">default</span> <span class="keyword">void</span> <span class="title">hello</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"Hello from B"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"> <span class="class"><span class="keyword">class</span> <span class="title">D</span> <span class="keyword">implements</span> <span class="title">A</span> </span>&#123;</span><br><span class="line">     <span class="meta">@Override</span></span><br><span class="line">     <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">hello</span><span class="params">()</span> </span>&#123;</span><br><span class="line">         System.out.println(<span class="string">"Hello from D"</span>);</span><br><span class="line">     &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">C</span> <span class="keyword">extends</span> <span class="title">D</span> <span class="keyword">implements</span> <span class="title">B</span>, <span class="title">A</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String... args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">new</span> C().hello();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// æœ‰ç‚¹ä¸åŒ</span></span><br><span class="line"><span class="comment">// è¾“å‡ºä¹Ÿä¸ä¸€æ ·äº†</span></span><br><span class="line"><span class="comment">// Hello from D</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>æ˜¾ç¤ºè§£å†³å†²çªï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> UseAnotation;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">A</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">default</span> <span class="keyword">void</span> <span class="title">hello</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"Hello from A"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">B</span> <span class="keyword">extends</span> <span class="title">A</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">default</span> <span class="keyword">void</span> <span class="title">hello</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"Hello from B"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">D</span> <span class="keyword">implements</span> <span class="title">A</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">hello</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"Hello from D"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">C</span> <span class="keyword">extends</span> <span class="title">D</span> <span class="keyword">implements</span> <span class="title">B</span>, <span class="title">A</span> </span>&#123;</span><br><span class="line">  <span class="comment">// æ˜¾å¼åœ°é€‰æ‹©è°ƒç”¨æ¥å£Bä¸­çš„æ–¹æ³•</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">hello</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        B.<span class="keyword">super</span>.hello();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String... args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">new</span> C().hello();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>å¦‚æœä¸èƒ½ç¬¦åˆåˆ¤æ–­æ¡ä»¶ï¼Œå³ä¸èƒ½åˆ¤æ–­å“ªä¸ªæ›´å…·ä½“çš„è¯ï¼Œé‚£ç¼–è¯‘å™¨ä¼šæŠ¥é”™ï¼</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">*å‡ºé”™çš„ä»£ç </span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">package</span> UseAnotation;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">A</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">default</span> <span class="keyword">void</span> <span class="title">hello</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"Hello from A"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">B</span> <span class="keyword">extends</span> <span class="title">A</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">default</span> <span class="keyword">void</span> <span class="title">hello</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">C</span> <span class="keyword">extends</span> <span class="title">A</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">default</span> <span class="keyword">void</span> <span class="title">hello</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">D</span> <span class="keyword">implements</span> <span class="title">B</span>, <span class="title">C</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">new</span> D().hello();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>é»˜è®¤æ–¹æ³•çš„ä¼˜åŠ¿ï¼š</p>
<ul>
<li>é»˜è®¤æ–¹æ³•çš„å‡ºç°èƒ½å¸®åŠ©åº“çš„è®¾è®¡è€…ä»¥åå‘å…¼å®¹çš„æ–¹å¼æ¼”è¿›API</li>
<li>é»˜è®¤æ–¹æ³•å¯ä»¥ç”¨äºåˆ›å»ºå¯é€‰æ–¹æ³•å’Œè¡Œä¸ºçš„å¤šç»§æ‰¿</li>
</ul>
</li>
</ol>
<h2 id="æ—¥æœŸå’Œæ—¶é—´API"><a href="#æ—¥æœŸå’Œæ—¶é—´API" class="headerlink" title="æ—¥æœŸå’Œæ—¶é—´API"></a>æ—¥æœŸå’Œæ—¶é—´API</h2><ol>
<li><p>java.timeåŒ…ä¸­æä¾›äº†å¾ˆå¤šæ–°çš„ç±»å¯ä»¥è§£å†³æ—¶é—´é—®é¢˜ï¼Œå¦‚LocalDateã€ LocalTimeã€ Instantã€ Durationå’ŒPeriodï¼›</p>
</li>
<li><p>LocalDateç±»çš„å®ä¾‹æ˜¯ä¸€ä¸ªä¸å¯å˜å¯¹è±¡ï¼Œå®ƒåªæä¾›äº†ç®€å•çš„æ—¥æœŸï¼Œå¹¶ä¸å«å½“å¤©çš„æ—¶é—´ä¿¡æ¯ï¼Œæä¾›äº†å¤šç§æ–¹æ³•æ¥è¯»å–å¸¸ç”¨çš„å€¼ï¼Œæ¯”å¦‚å¹´ä»½ã€æœˆä»½ã€æ˜ŸæœŸå‡ ç­‰ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.time.DayOfWeek;</span><br><span class="line"><span class="keyword">import</span> java.time.LocalDate;</span><br><span class="line"><span class="keyword">import</span> java.time.Month;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">localdate</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        LocalDate date = LocalDate.of(<span class="number">2020</span>, <span class="number">5</span>, <span class="number">18</span>);</span><br><span class="line">        <span class="comment">//ä½¿ç”¨å·¥å‚æ–¹æ³•ä»ç³»ç»Ÿæ—¶é’Ÿè·å–å½“å‰æ—¥æœŸ</span></span><br><span class="line">        LocalDate today = LocalDate.now();</span><br><span class="line">        <span class="keyword">int</span> year = date.getYear();</span><br><span class="line">        Month month = date.getMonth();</span><br><span class="line">        <span class="keyword">int</span> day = date.getDayOfMonth();</span><br><span class="line">        DayOfWeek dow = date.getDayOfWeek();</span><br><span class="line">        <span class="keyword">int</span> len = date.lengthOfMonth();</span><br><span class="line">        <span class="keyword">boolean</span> leap = date.isLeapYear();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>LocalTimeç±»å¯ä»¥å®ç°æ—¶é—´çš„å¤„ç†ï¼Œæä¾›æ—¶é—´ç›¸å…³çš„å‡½æ•°ï¼Œå¯ä»¥ä½¿ç”¨ofé‡è½½çš„ä¸¤ä¸ªå·¥å‚æ–¹æ³•åˆ›å»ºLocalTimeçš„å®ä¾‹ï¼ŒLocalDateå’ŒLocalTimeéƒ½å¯ä»¥é€šè¿‡è§£æä»£è¡¨å®ƒä»¬çš„å­—ç¬¦ä¸²åˆ›å»ºï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.time.DayOfWeek;</span><br><span class="line"><span class="keyword">import</span> java.time.LocalDate;</span><br><span class="line"><span class="keyword">import</span> java.time.LocalTime;</span><br><span class="line"><span class="keyword">import</span> java.time.Month;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">localdate</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        LocalTime time = LocalTime.of(<span class="number">13</span>, <span class="number">45</span>, <span class="number">20</span>);</span><br><span class="line">        <span class="keyword">int</span> hour = time.getHour();</span><br><span class="line">        <span class="keyword">int</span> minute = time.getMinute();</span><br><span class="line">        <span class="keyword">int</span> second = time.getSecond();</span><br><span class="line">        LocalDate date = LocalDate.parse(<span class="string">"2014-03-18"</span>);</span><br><span class="line">        LocalTime time2 = LocalTime.parse(<span class="string">"13:45:20"</span>);</span><br><span class="line">        LocalTime time3 = LocalTime.now();</span><br><span class="line">        System.out.println(time3);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>LocalDateTimeæ˜¯LocalDateå’ŒLocalTimeçš„åˆä½“ï¼ŒåŒæ—¶è¡¨ç¤ºäº†æ—¥æœŸå’Œæ—¶é—´ï¼Œä½†ä¸å¸¦æœ‰æ—¶åŒºä¿¡æ¯ï¼Œå¯ä»¥ç›´æ¥åˆ›å»ºï¼Œä¹Ÿå¯ä»¥é€šè¿‡åˆå¹¶æ—¥æœŸå’Œæ—¶é—´å¯¹è±¡æ„é€ ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.time.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">localdate</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        LocalTime time = LocalTime.of(<span class="number">13</span>, <span class="number">45</span>, <span class="number">20</span>);</span><br><span class="line">        LocalDate date = LocalDate.parse(<span class="string">"2014-03-18"</span>);</span><br><span class="line">        LocalDateTime dt1 = LocalDateTime.of(<span class="number">2014</span>, Month.MARCH, <span class="number">18</span>, <span class="number">13</span>, <span class="number">45</span>, <span class="number">20</span>);</span><br><span class="line">        LocalDate date1 = dt1.toLocalDate();</span><br><span class="line">        LocalTime time1 = dt1.toLocalTime();</span><br><span class="line">        LocalDateTime dt2 = LocalDateTime.of(date, time);</span><br><span class="line">        LocalDateTime dt3 = date.atTime(<span class="number">13</span>, <span class="number">45</span>, <span class="number">20</span>);</span><br><span class="line">        LocalDateTime dt4 = date.atTime(time);</span><br><span class="line">        LocalDateTime dt5 = time.atDate(date);</span><br><span class="line">        System.out.println(date1);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>å»ºæ¨¡æ—¶é—´æœ€è‡ªç„¶çš„æ ¼å¼æ˜¯è¡¨ç¤ºä¸€ä¸ªæŒç»­æ—¶é—´æ®µä¸ŠæŸä¸ªç‚¹çš„å•ä¸€å¤§æ•´å‹æ•°ï¼Œjava.time.Instantç±»é™æ€å·¥å‚æ–¹æ³•ofEpochSecondä¼ é€’ä¸€ä¸ªä»£è¡¨ç§’æ•°çš„å€¼åˆ›å»ºä¸€ä¸ªè¯¥ç±»çš„å®ä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"> System.out.println(Instant.ofEpochSecond(<span class="number">3</span>));</span><br><span class="line"><span class="comment">// 1970-01-01T00:00:03Z</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>Durationç±»çš„é™æ€å·¥å‚æ–¹æ³•betweenæ–¹æ³•å¯ä»¥è¿”å›ä¸€æ®µæ—¶é—´ï¼ŒPeriodç±»å¯ä»¥ä»¥å¹´ã€æœˆæˆ–è€…æ—¥çš„æ–¹å¼å¯¹å¤šä¸ªæ—¶é—´å•ä½å»ºæ¨¡ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Duration d1 = Duration.between(time1, time2);</span><br><span class="line">   Duration d1 = Duration.between(dateTime1, dateTime2);</span><br><span class="line">   Duration d2 = Duration.between(instant1, instant2);</span><br><span class="line">Duration threeMinutes = Duration.ofMinutes(<span class="number">3</span>);</span><br><span class="line">Duration threeMinutes = Duration.of(<span class="number">3</span>, ChronoUnit.MINUTES);</span><br><span class="line">Period tenDays = Period.ofDays(<span class="number">10</span>);</span><br><span class="line">Period threeWeeks = Period.ofWeeks(<span class="number">3</span>);</span><br><span class="line">Period twoYearsSixMonthsOneDay = Period.of(<span class="number">2</span>, <span class="number">6</span>, <span class="number">1</span>);</span><br></pre></td></tr></table></figure>

<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/d172e52728a76ae65c1887c4e1de72cd-156654" alt=""></p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/8088ee4d9551b61a6704444fc86a66fd-42668" alt=""></p>
</li>
<li><p>è¡¨ç¤ºæ—¶é—´ç‚¹çš„æ—¥æœŸ-æ—¶é—´ç±»çš„é€šç”¨æ–¹æ³•ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/285cec4fca970db1d7ddb67afde7d1ef-200727" alt=""></p>
</li>
<li><p>TemporalAdjusterç±» ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/b50ed15bf81b49721d5ede231f06d719-258618" alt=""></p>
</li>
<li><p>å¤„ç†æ—¥æœŸå’Œæ—¶é—´å¯¹è±¡æ—¶ï¼Œæ ¼å¼åŒ–ä»¥åŠè§£ææ—¥æœŸï€­æ—¶é—´å¯¹è±¡æ˜¯å¦ä¸€ä¸ªéå¸¸é‡è¦çš„åŠŸèƒ½ï¼Œjava.time.formatåŒ…å°±æ˜¯ç‰¹åˆ«ä¸ºè¿™ä¸ªç›®çš„è€Œè®¾è®¡çš„ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.time.*;</span><br><span class="line"><span class="keyword">import</span> java.time.format.DateTimeFormatter;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">localdate</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        LocalDate date = LocalDate.parse(<span class="string">"2020-05-18"</span>);</span><br><span class="line">        String s1 = date.format(DateTimeFormatter.BASIC_ISO_DATE);</span><br><span class="line">        String s2 = date.format(DateTimeFormatter.ISO_LOCAL_DATE);</span><br><span class="line">        System.out.println(s1);</span><br><span class="line">        System.out.println(s2);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ—¶åŒºçš„å¤„ç†æ˜¯æ–°ç‰ˆæ—¥æœŸå’Œæ—¶é—´APIæ–°å¢åŠ çš„é‡è¦åŠŸèƒ½ï¼Œæ–°çš„java.time.ZoneIdç±»å¯ä»¥æ— éœ€ä¸ºæ—¶åŒºå¤„ç†çš„å¤æ‚å’Œç¹çè€Œæ“å¿ƒï¼Œä¸€æ—¦å¾—åˆ°ä¸€ä¸ªZoneIdå¯¹è±¡ï¼Œå°±å¯ä»¥å°†å®ƒä¸LocalDateã€ LocalDateTimeæˆ–è€…æ˜¯Instantå¯¹è±¡æ•´åˆèµ·æ¥ï¼Œæ„é€ ä¸ºä¸€ä¸ªZonedDateTimeå®ä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">LocalDate date = LocalDate.of(<span class="number">2014</span>, Month.MARCH, <span class="number">18</span>);</span><br><span class="line">ZonedDateTime zdt1 = date.atStartOfDay(romeZone);</span><br><span class="line">LocalDateTime dateTime = LocalDateTime.of(<span class="number">2014</span>, Month.MARCH, <span class="number">18</span>, <span class="number">13</span>, <span class="number">45</span>);</span><br><span class="line">ZonedDateTime zdt2 = dateTime.atZone(romeZone);</span><br><span class="line">Instant instant = Instant.now();</span><br><span class="line">ZonedDateTime zdt3 = instant.atZone(romeZone);</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>å¯ä»¥ç”¨ç»å¯¹æˆ–è€…ç›¸å¯¹çš„æ–¹å¼æ“çºµæ—¥æœŸå’Œæ—¶é—´ï¼Œæ“ä½œçš„ç»“æœæ€»æ˜¯è¿”å›ä¸€ä¸ªæ–°çš„å®ä¾‹ï¼Œè€çš„æ—¥æœŸæ—¶é—´å¯¹è±¡ä¸ä¼šå‘ç”Ÿå˜åŒ–ï¼›</strong>     </p>
</li>
</ol>
<h2 id="Optional-amp-null"><a href="#Optional-amp-null" class="headerlink" title="Optional&amp;null"></a>Optional&amp;null</h2><ol>
<li><p>æ¯æ¬¡ä½ ä¸ç¡®å®šä¸€ä¸ªå˜é‡æ˜¯å¦ä¸ºnullæ—¶ï¼Œéƒ½éœ€è¦æ·»åŠ ä¸€ä¸ªè¿›ä¸€æ­¥åµŒå¥—çš„ifå—ï¼Œä¹Ÿå¢åŠ äº†ä»£ç ç¼©è¿›çš„å±‚æ•°ï¼Œä¸å…·å¤‡æ‰©å±•æ€§ï¼ŒåŒæ—¶è¿˜ç‰ºç‰²äº†ä»£ç çš„å¯è¯»æ€§ï¼      </p>
</li>
<li><p>null å¸¦æ¥çš„é—®é¢˜ï¼š</p>
<ul>
<li>é”™è¯¯ä¹‹æºï¼ŒNullPointerExceptionæ˜¯ç›®å‰Javaç¨‹åºå¼€å‘ä¸­æœ€å…¸å‹çš„å¼‚å¸¸  </li>
<li>ä¼šä½¿ä»£ç è†¨èƒ€ï¼Œå……æ–¥ç€æ·±åº¦åµŒå¥—çš„nullæ£€æŸ¥ï¼Œä»£ç çš„å¯è¯»æ€§ç³Ÿç³•é€é¡¶  </li>
<li>è‡ªèº«æ¯«æ— æ„ä¹‰ï¼Œä»£è¡¨çš„æ˜¯åœ¨é™æ€ç±»å‹è¯­è¨€ä¸­ä»¥ä¸€ç§é”™è¯¯çš„æ–¹å¼å¯¹ç¼ºå¤±å˜é‡å€¼çš„å»ºæ¨¡  </li>
<li>ç ´åäº†Javaçš„å“²å­¦ï¼ŒJavaä¸€ç›´è¯•å›¾é¿å…è®©ç¨‹åºå‘˜æ„è¯†åˆ°æŒ‡é’ˆçš„å­˜åœ¨ï¼ŒnullæŒ‡é’ˆ  </li>
<li>åœ¨Javaçš„ç±»å‹ç³»ç»Ÿä¸Šå¼€äº†ä¸ªå£å­ï¼Œnullå¹¶ä¸å±äºä»»ä½•ç±»å‹ï¼Œè¿™æ„å‘³ç€å®ƒå¯ä»¥è¢«èµ‹å€¼ç»™ä»»æ„å¼•ç”¨ç±»å‹çš„å˜é‡  </li>
</ul>
</li>
<li><p>java.util.Optional&lt;T&gt;ä¸­çš„Optionalç±»åœ¨å˜é‡å­˜åœ¨æ—¶åªæ˜¯å¯¹ç±»ç®€å•å°è£…ï¼Œå˜é‡ä¸å­˜åœ¨æ—¶ï¼Œç¼ºå¤±çš„å€¼ä¼šè¢«å»ºæ¨¡æˆä¸€ä¸ªâ€œç©ºâ€çš„Optionalå¯¹è±¡ï¼Œç”±æ–¹æ³•Optional.empty()è¿”å›ï¼›</p>
</li>
<li><p>Optional.empty()æ–¹æ³•æ˜¯ä¸€ä¸ªé™æ€å·¥å‚æ–¹æ³•ï¼Œè¿”å›Optionalç±»çš„ç‰¹å®šå•ä¸€å®ä¾‹ï¼Œå®ƒæ˜¯Optionalç±»çš„ä¸€ä¸ªæœ‰æ•ˆå¯¹è±¡ï¼Œå¤šç§åœºæ™¯éƒ½èƒ½è°ƒç”¨ï¼Œä¸ä¼šè§¦å‘ NullPointerExceptionï¼›    </p>
</li>
<li><p>åœ¨ä»£ç ä¸­å§‹ç»ˆå¦‚ä¸€åœ°ä½¿ç”¨Optionalï¼Œèƒ½éå¸¸æ¸…æ™°åœ°ç•Œå®šå‡ºå˜é‡å€¼çš„ç¼ºå¤±æ˜¯ç»“æ„ä¸Šçš„é—®é¢˜ï¼Œè¿˜æ˜¯ç®—æ³•ä¸Šçš„ç¼ºé™·ï¼ŒæŠ‘æˆ–æ˜¯æ•°æ®ä¸­çš„é—®é¢˜ï¼Œå¼•å…¥Optionalç±»çš„æ„å›¾å¹¶éè¦æ¶ˆé™¤æ¯ä¸€ä¸ªnullå¼•ç”¨ï¼›</p>
</li>
<li><p>åˆ›å»º Optional å¯¹è±¡ï¼š</p>
<ol>
<li><p>å£°æ˜ä¸€ä¸ªç©ºçš„Optional</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Optional&lt;Car&gt; optCar = Optional.empty();</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä¾æ®ä¸€ä¸ªéç©ºå€¼åˆ›å»ºOptional  </p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Optional&lt;Car&gt; optCar = Optional.of(car);</span><br><span class="line"><span class="comment">// å¦‚æœcaræ˜¯ä¸€ä¸ªnullï¼Œè¿™æ®µä»£ç ä¼šç«‹å³æŠ›å‡ºä¸€ä¸ªNullPointerException</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>å¯æ¥å—nullçš„Optional  </p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Optional&lt;Car&gt; optCar = Optional.ofNullable(car);</span><br><span class="line"><span class="comment">// ä½¿ç”¨é™æ€å·¥å‚æ–¹æ³•Optional.ofNullableï¼Œä½ å¯ä»¥åˆ›å»ºä¸€ä¸ªå…è®¸nullå€¼çš„Optionalå¯¹è±¡</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
<li><p>ä½¿ç”¨ map ä» Optional å¯¹è±¡ä¸­æå–å’Œè½¬æ¢å€¼ :</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Optional&lt;Insurance&gt; optInsurance = Optional.ofNullable(insurance);</span><br><span class="line">Optional&lt;String&gt; name = optInsurance.map(Insurance::getName);</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä½¿ç”¨ flatMap é“¾æ¥ Optional å¯¹è±¡ï¼ŒflatMapæ–¹æ³•æ¥å—ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œè¿™ä¸ªå‡½æ•°çš„è¿”å›å€¼æ˜¯å¦ä¸€ä¸ªæµï¼›</p>
</li>
<li><p>Optionalçš„æ–¹æ³•ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/ad8f0bcdef088a84af6bc34296a4cb0c-42455" alt="">    </p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/7a32b13d36fdbc50963cef4598a4bf92-205204" alt=""></p>
</li>
<li><p>ä½¿ç”¨Optionalä¼šè¿«ä½¿ä½ æ›´ç§¯æåœ°è§£å¼•ç”¨Optionalå¯¹è±¡ï¼Œä»¥åº”å¯¹å˜é‡å€¼ç¼ºå¤±çš„é—®é¢˜ï¼Œæœ€ç»ˆï¼Œèƒ½æ›´æœ‰æ•ˆåœ°é˜²æ­¢ä»£ç ä¸­å‡ºç°ä¸æœŸè€Œè‡³çš„ç©ºæŒ‡é’ˆå¼‚å¸¸ï¼›</p>
</li>
<li><p>ä½¿ç”¨Optionalèƒ½å¸®åŠ©ä½ è®¾è®¡æ›´å¥½çš„APIï¼Œç”¨æˆ·åªéœ€è¦é˜…è¯»æ–¹æ³•ç­¾åï¼Œå°±èƒ½äº†è§£è¯¥æ–¹æ³•æ˜¯å¦æ¥å—ä¸€ä¸ªOptionalç±»å‹çš„å€¼ï¼   </p>
</li>
</ol>
<h1 id="æµ"><a href="#æµ" class="headerlink" title="æµ"></a>æµ</h1><h2 id="æµçš„è®¤è¯†"><a href="#æµçš„è®¤è¯†" class="headerlink" title="æµçš„è®¤è¯†"></a>æµçš„è®¤è¯†</h2><ol>
<li><p>å‡ ä¹æ¯ä¸ªJavaåº”ç”¨ç¨‹åºéƒ½ä¼šåˆ¶é€ å’Œå¤„ç†é›†åˆ,ä½†æ˜¯é›†åˆæ“ä½œå´è¿œè¿œç®—ä¸ä¸Šå®Œç¾ï¼›</p>
</li>
<li><p><strong>æµ</strong>å…è®¸ä½ ä»¥å£°æ˜æ€§æ–¹å¼å¤„ç†æ•°æ®é›†åˆï¼Œå¯ä»¥é€æ˜åœ°å¹¶è¡Œå¤„ç†è€Œæ— éœ€å†™ä»»ä½•å¤šçº¿ç¨‹ä»£ç ï¼Œä¸ºäº†åˆ©ç”¨å¤šæ ¸æ¶æ„å¹¶è¡Œæ‰§è¡Œåªéœ€è¦æŠŠstream()æ¢æˆparallelStream()ï¼›</p>
</li>
<li><p><strong>Guavaã€Apacheå’Œlambdajåº“</strong>ï¼šGuavaæ˜¯è°·æ­Œåˆ›å»ºçš„ä¸€ä¸ªå¾ˆæµè¡Œçš„åº“ï¼Œæä¾›äº† multimaps å’Œ multisets ç­‰é¢å¤–çš„å®¹å™¨ç±»ï¼ŒApache Commons Collectionsåº“ä¹Ÿæä¾›äº†ç±»ä¼¼çš„åŠŸèƒ½ï¼Œlambdajåº“ä¹Ÿæä¾›äº†å¾ˆå¤šå£°æ˜æ€§æ“ä½œé›†åˆçš„å·¥å…·ï¼›</p>
</li>
<li><p>æµï¼šä»æ”¯æŒæ•°æ®å¤„ç†æ“ä½œçš„æºç”Ÿæˆçš„å…ƒç´ åºåˆ—</p>
<ul>
<li>å…ƒç´ åºåˆ—â€”å¯ä»¥è®¿é—®ç‰¹å®šå…ƒç´ ç±»å‹çš„ä¸€ç»„æœ‰åºå€¼</li>
<li>æºâ€”æµä¼šä½¿ç”¨ä¸€ä¸ªæä¾›æ•°æ®çš„æºï¼Œå¦‚é›†åˆã€æ•°ç»„æˆ–è¾“å…¥/è¾“å‡ºèµ„æº</li>
<li>æ•°æ®å¤„ç†æ“ä½œâ€”æµçš„æ•°æ®å¤„ç†åŠŸèƒ½æ”¯æŒç±»ä¼¼äºæ•°æ®åº“çš„æ“ä½œï¼Œä»¥åŠå‡½æ•°å¼ç¼–ç¨‹è¯­è¨€ä¸­çš„å¸¸ç”¨æ“ä½œï¼Œå¦‚filterã€mapã€reduceã€findã€matchã€sortç­‰</li>
</ul>
</li>
<li><p>æµæ“ä½œçš„é‡è¦ç‰¹ç‚¹ï¼š</p>
<ul>
<li><p>æµæ°´çº¿â€”å¾ˆå¤šæµæ“ä½œæœ¬èº«ä¼šè¿”å›ä¸€ä¸ªæµï¼Œè¿™æ ·å¤šä¸ªæ“ä½œå°±å¯ä»¥é“¾æ¥èµ·æ¥ï¼Œå½¢æˆä¸€ä¸ªå¤§çš„æµæ°´çº¿</p>
</li>
<li><p>å†…éƒ¨è¿­ä»£â€”æµçš„è¿­ä»£æ“ä½œæ˜¯åœ¨èƒŒåè¿›è¡Œçš„</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/00bb6b0c7bd2010a476578b199154dd9-79858" alt=""></p>
</li>
</ul>
</li>
<li><p><strong>é›†åˆä¸æµä¹‹é—´çš„å·®å¼‚å°±åœ¨äºä»€ä¹ˆæ—¶å€™è¿›è¡Œè®¡ç®—ï¼</strong>é›†åˆæ˜¯ä¸€ä¸ªå†…å­˜ä¸­çš„æ•°æ®ç»“æ„ï¼Œé›†åˆä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½å¾—å…ˆç®—å‡ºæ¥æ‰èƒ½æ·»åŠ åˆ°é›†åˆä¸­ï¼›æµåˆ™æ˜¯åœ¨æ¦‚å¿µä¸Šå›ºå®šçš„æ•°æ®ç»“æ„ï¼ˆä½ ä¸èƒ½æ·»åŠ æˆ–åˆ é™¤å…ƒç´ ï¼‰ï¼Œå…¶å…ƒç´ åˆ™æ˜¯æŒ‰éœ€è®¡ç®—çš„ï¼ˆæµå°±åƒæ˜¯ä¸€ä¸ªå»¶è¿Ÿåˆ›å»ºçš„é›†åˆï¼‰ï¼›</p>
</li>
<li><p>å’Œè¿­ä»£å™¨ç±»ä¼¼ï¼Œæµåªèƒ½éå†ä¸€æ¬¡ï¼Œéå†å®Œä¹‹åï¼Œæˆ‘ä»¬å°±è¯´è¿™ä¸ªæµå·²ç»è¢«æ¶ˆè´¹æ‰äº†ï¼Œå¯ä»¥ä»åŸå§‹æ•°æ®æºé‚£é‡Œå†è·å¾—ä¸€ä¸ªæ–°çš„æµæ¥é‡æ–°éå†ä¸€éï¼Œå°±åƒè¿­ä»£å™¨ä¸€æ ·ï¼›</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"> List&lt;String&gt; title = Arrays.asList(<span class="string">"Java8"</span>, <span class="string">"In"</span>, <span class="string">"Action"</span>);</span><br><span class="line"> Stream&lt;String&gt; s = title.stream();</span><br><span class="line"> s.forEach(System.out::println);</span><br><span class="line"> s.forEach(System.out::println);</span><br><span class="line"><span class="comment">// æµåªèƒ½æ¶ˆè´¹ä¸€æ¬¡</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">Exception in thread "main" java.lang.IllegalStateException: stream has already been operated upon or closed</span></span><br><span class="line"><span class="comment">	at java.base/java.util.stream.AbstractPipeline.sourceStageSpliterator(AbstractPipeline.java:279)</span></span><br><span class="line"><span class="comment">	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)</span></span><br><span class="line"><span class="comment">	at UseAnotation.D.main(D.java:31)</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>é›†åˆå’Œæµçš„å¦ä¸€ä¸ªå…³é”®åŒºåˆ«åœ¨äºå®ƒä»¬éå†æ•°æ®çš„æ–¹å¼ï¼šä½¿ç”¨Collectionæ¥å£éœ€è¦ç”¨æˆ·å»åšè¿­ä»£ï¼ˆæ¯”å¦‚ç”¨for-eachï¼‰ï¼Œè¿™ç§°ä¸ºå¤–éƒ¨è¿­ä»£ï¼›Streamsåº“ä½¿ç”¨å†…éƒ¨è¿­ä»£ï¼Œå†…éƒ¨è¿­ä»£æ—¶ï¼Œé¡¹ç›®å¯ä»¥é€æ˜åœ°å¹¶è¡Œå¤„ç†ï¼Œæˆ–è€…ç”¨æ›´ä¼˜åŒ–çš„é¡ºåºè¿›è¡Œå¤„ç†ï¼›</p>
</li>
</ol>
<h2 id="æµæ“ä½œ"><a href="#æµæ“ä½œ" class="headerlink" title="æµæ“ä½œ"></a>æµæ“ä½œ</h2><ol>
<li><p>java.util.stream.Streamä¸­çš„Streamæ¥å£å®šä¹‰äº†è®¸å¤šæ“ä½œï¼š</p>
<ul>
<li><p>å¯ä»¥è¿æ¥èµ·æ¥çš„æµæ“ä½œç§°ä¸º<strong>ä¸­é—´æ“ä½œ</strong></p>
</li>
<li><p>å…³é—­æµçš„æ“ä½œç§°ä¸º<strong>ç»ˆç«¯æ“ä½œ</strong></p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/b98a383583bf7527644378d45e48904d-20376" alt=""></p>
</li>
</ul>
</li>
<li><p>è¯¸å¦‚filteræˆ–sortedç­‰ä¸­é—´æ“ä½œä¼šè¿”å›å¦ä¸€ä¸ªæµï¼Œå¤šä¸ªæ“ä½œå¯ä»¥è¿æ¥èµ·æ¥å½¢æˆä¸€ä¸ªæŸ¥è¯¢ï¼Œé™¤éæµæ°´çº¿ä¸Šè§¦å‘ä¸€ä¸ªç»ˆç«¯æ“ä½œï¼Œå¦åˆ™ä¸­é—´æ“ä½œä¸ä¼šæ‰§è¡Œä»»ä½•å¤„ç†ï¼Œå› ä¸ºä¸­é—´æ“ä½œä¸€èˆ¬éƒ½å¯ä»¥åˆå¹¶èµ·æ¥ï¼Œåœ¨ç»ˆç«¯æ“ä½œæ—¶ä¸€æ¬¡æ€§å…¨éƒ¨å¤„ç†ï¼ˆå»¶è¿Ÿå¤„ç†ï¼‰ï¼›</p>
<ul>
<li>æœ‰å¥½å‡ ç§ä¼˜åŒ–åˆ©ç”¨äº†æµçš„å»¶è¿Ÿæ€§è´¨</li>
</ul>
</li>
<li><p>ç»ˆç«¯æ“ä½œä¼šä»æµçš„æµæ°´çº¿ç”Ÿæˆç»“æœï¼Œå…¶ç»“æœæ˜¯ä»»ä½•ä¸æ˜¯æµçš„å€¼ï¼Œæ¯”å¦‚Listã€Integerï¼Œç”šè‡³æ˜¯voidï¼›</p>
</li>
<li><p>ä½¿ç”¨æµä¸€èˆ¬åŒ…å«ä¸‰ä»¶äº‹ï¼š</p>
<ul>
<li>ä¸€ä¸ªæ•°æ®æºï¼ˆå¦‚é›†åˆï¼‰æ¥æ‰§è¡Œä¸€ä¸ªæŸ¥è¯¢</li>
<li>ä¸€ä¸ªä¸­é—´æ“ä½œé“¾ï¼Œå½¢æˆä¸€æ¡æµçš„æµæ°´çº¿</li>
<li>ä¸€ä¸ªç»ˆç«¯æ“ä½œï¼Œæ‰§è¡Œæµæ°´çº¿ï¼Œå¹¶èƒ½ç”Ÿæˆç»“æœ</li>
</ul>
</li>
<li><p>é€‰æ‹©æµä¸­çš„å…ƒç´ ï¼šç”¨è°“è¯ç­›é€‰ï¼Œç­›é€‰å‡ºå„ä¸ç›¸åŒçš„å…ƒç´ ï¼Œå¿½ç•¥æµä¸­çš„å¤´å‡ ä¸ªå…ƒç´ ï¼Œæˆ–å°†æµæˆªçŸ­è‡³æŒ‡å®šé•¿åº¦ï¼š</p>
<ol>
<li>Streamsæ¥å£æ”¯æŒfilteræ–¹æ³•ï¼Œæ¥å—ä¸€ä¸ªè°“è¯ï¼ˆä¸€ä¸ªè¿”å› boolean çš„å‡½æ•°ï¼‰ä½œä¸ºå‚æ•°ï¼Œå¹¶è¿”å›ä¸€ä¸ªåŒ…æ‹¬æ‰€æœ‰ç¬¦åˆè°“è¯çš„å…ƒç´ çš„æµï¼›</li>
<li>ç­›é€‰å„å¼‚çš„å…ƒç´ çš„distinct æ–¹æ³•ä¼šè¿”å›ä¸€ä¸ªå…ƒç´ å„å¼‚ï¼ˆæ ¹æ®æµæ‰€ç”Ÿæˆå…ƒç´ çš„hashCodeå’Œequalsæ–¹æ³•å®ç°ï¼‰çš„æµï¼›</li>
<li>æˆªçŸ­æµçš„limit(n)æ–¹æ³•ä¼šè¿”å›ä¸€ä¸ªä¸è¶…è¿‡ç»™å®šé•¿åº¦çš„æµï¼Œæ‰€éœ€çš„é•¿åº¦ä½œä¸ºå‚æ•°ä¼ é€’ç»™limitï¼Œæœ€å¤šä¼šè¿”å›å‰nä¸ªå…ƒç´ ï¼›</li>
<li>è·³è¿‡å…ƒç´ çš„skip(n)æ–¹æ³•ï¼Œè¿”å›ä¸€ä¸ªæ‰”æ‰äº†å‰nä¸ªå…ƒç´ çš„æµï¼Œå¦‚æœæµä¸­å…ƒç´ ä¸è¶³nä¸ªï¼Œåˆ™è¿”å›ä¸€ç©ºæµï¼›</li>
</ol>
</li>
<li><p>å¯¹æµä¸­æ¯ä¸€ä¸ªå…ƒç´ åº”ç”¨å‡½æ•°çš„mapæ–¹æ³•ï¼Œä¼šæ¥å—ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œè¿™ä¸ªå‡½æ•°ä¼šè¢«åº”ç”¨åˆ°æ¯ä¸ªå…ƒç´ ä¸Šï¼Œå¹¶å°†å…¶æ˜ å°„æˆä¸€ä¸ªæ–°çš„å…ƒç´ ï¼›</p>
</li>
<li><p>flatmapæ–¹æ³•è®©ä½ æŠŠä¸€ä¸ªæµä¸­çš„æ¯ä¸ªå€¼éƒ½æ¢æˆå¦ä¸€ä¸ªæµï¼Œç„¶åæŠŠæ‰€æœ‰çš„æµè¿æ¥èµ·æ¥æˆä¸ºä¸€ä¸ªæµï¼›</p>
</li>
<li><p>æŸ¥æ‰¾å’ŒåŒ¹é…ï¼š</p>
<ol>
<li>anyMatchæ–¹æ³•å¯ä»¥å›ç­”â€œæµä¸­æ˜¯å¦æœ‰ä¸€ä¸ªå…ƒç´ èƒ½åŒ¹é…ç»™å®šçš„è°“è¯â€</li>
<li>allMatchæ–¹æ³•çš„å·¥ä½œåŸç†å’ŒanyMatchç±»ä¼¼ï¼Œä½†å®ƒä¼šçœ‹æµä¸­çš„å…ƒç´ æ˜¯å¦éƒ½èƒ½åŒ¹é…ç»™å®šçš„è°“è¯</li>
<li>noneMatchå¯ä»¥ç¡®ä¿æµä¸­æ²¡æœ‰ä»»ä½•å…ƒç´ ä¸ç»™å®šçš„è°“è¯åŒ¹é…</li>
<li>findAnyæ–¹æ³•å°†è¿”å›å½“å‰æµä¸­çš„ä»»æ„å…ƒç´ ï¼Œå¯ä»¥ä¸å…¶ä»–æµæ“ä½œç»“åˆä½¿ç”¨</li>
<li>findFirstæ–¹æ³•æ‰¾å‡ºç¬¬ä¸€ä¸ªåŒ¹é…çš„å…ƒç´ </li>
</ol>
</li>
<li><p>å½’çº¦ï¼šï¼ˆå°†æµå½’çº¦æˆä¸€ä¸ªå€¼ï¼‰</p>
<ol>
<li><p>ä½¿ç”¨reduceæ“ä½œæ¥è¡¨è¾¾æ›´å¤æ‚çš„æŸ¥è¯¢</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">int</span> sum = numbers.stream().reduce(<span class="number">0</span>, (a, b) -&gt; a + b);</span><br><span class="line"><span class="comment">// ä¸‹é¢çš„æ–¹å¼ä¹Ÿå¯ä»¥</span></span><br><span class="line"><span class="keyword">int</span> sum = numbers.stream().reduce(<span class="number">0</span>, Integer::sum);</span><br></pre></td></tr></table></figure>

<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/0390f025c929efd15ed61c50d3412ca0-49298" alt=""></p>
</li>
<li><p>æœ€å€¼ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Optional&lt;Integer&gt; max = numbers.stream().reduce(Integer::max);</span><br><span class="line">Optional&lt;Integer&gt; min = numbers.stream().reduce(Integer::min);</span><br></pre></td></tr></table></figure>

<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/e21c5ded98e207028ef0df38be453324-47442" alt=""></p>
</li>
<li><p>mapå’Œreduceçš„è¿æ¥é€šå¸¸ç§°ä¸ºmap-reduceæ¨¡å¼ï¼Œå› Googleç”¨å®ƒæ¥è¿›è¡Œç½‘ç»œæœç´¢è€Œå‡ºåï¼Œå› ä¸ºå®ƒå¾ˆå®¹æ˜“å¹¶è¡ŒåŒ–ï¼›</p>
</li>
</ol>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/e41bcd2e66a9178153e01f1f962151a2-121716" alt=""></p>
</li>
<li><p>æ•°å€¼æµï¼šIntStream ã€ DoubleStream å’ŒLongStreamï¼Œåˆ†åˆ«å°†æµä¸­çš„å…ƒç´ ç‰¹åŒ–ä¸ºintã€longå’Œdoubleï¼Œä»è€Œé¿å…äº†æš—å«çš„è£…ç®±æˆæœ¬ï¼ŒåŠ é€Ÿæµçš„å¤„ç†ï¼›</p>
<ol>
<li>å°†æµè½¬æ¢ä¸ºç‰¹åŒ–ç‰ˆæœ¬çš„å¸¸ç”¨æ–¹æ³•æ˜¯mapToIntã€mapToDoubleå’ŒmapToLongï¼›</li>
<li>IntStreamè¿˜æ”¯æŒå…¶ä»–çš„æ–¹ä¾¿æ–¹æ³•ï¼Œå¦‚maxã€minã€averageç­‰ï¼›</li>
<li>è¦æŠŠåŸå§‹æµè½¬æ¢æˆä¸€èˆ¬æµå¯ä»¥ä½¿ç”¨boxedæ–¹æ³•</li>
</ol>
</li>
<li><p>æ„å»ºæµï¼š</p>
<ol>
<li><p>å¯ä»¥ä½¿ç”¨é™æ€æ–¹æ³•Stream.ofï¼Œé€šè¿‡æ˜¾å¼å€¼åˆ›å»ºä¸€ä¸ªæµ</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Stream&lt;String&gt; stream = Stream.of(<span class="string">"Java 8 "</span>, <span class="string">"Lambdas "</span>, <span class="string">"In "</span>, <span class="string">"Action"</span>); stream.map(String::toUpperCase).forEach(System.out::println);</span><br><span class="line"><span class="comment">// ç©ºæµ</span></span><br><span class="line">Stream&lt;String&gt; emptyStream = Stream.empty();</span><br></pre></td></tr></table></figure>
</li>
<li><p>å¯ä»¥ä½¿ç”¨é™æ€æ–¹æ³•Arrays.streamä»æ•°ç»„åˆ›å»ºä¸€ä¸ªæµï¼Œæ¥å—ä¸€ä¸ªæ•°ç»„ä½œä¸ºå‚æ•°</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">int</span>[] numbers = &#123;<span class="number">2</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">11</span>, <span class="number">13</span>&#125;; </span><br><span class="line"><span class="keyword">int</span> sum = Arrays.stream(numbers).sum();</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ–‡ä»¶ç”Ÿæˆæµï¼šjava.nio.file.Files ä¸­çš„å¾ˆå¤šé™æ€æ–¹æ³•éƒ½ä¼šè¿”å›ä¸€ä¸ªæµï¼Œä¸€ä¸ªå¾ˆæœ‰ç”¨çš„æ–¹æ³•æ˜¯Files.linesï¼Œå®ƒä¼šè¿”å›ä¸€ä¸ªç”±æŒ‡å®šæ–‡ä»¶ä¸­çš„å„è¡Œæ„æˆçš„å­—ç¬¦ä¸²æµï¼›</p>
</li>
<li><p>å‡½æ•°ç”Ÿæˆæµï¼šStream.iterateå’ŒStream.generateï¼Œè¿™ä¸¤ä¸ªæ“ä½œå¯ä»¥åˆ›å»ºæ‰€è°“çš„æ— é™æµï¼šä¸åƒä»å›ºå®šé›†åˆåˆ›å»ºçš„æµé‚£æ ·æœ‰å›ºå®šå¤§å°çš„æµ</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// æ— é™æµï¼Œä½¿ç”¨limitæ–¹æ³•é™åˆ¶è¿”å›ä¸€ä¸ªæœ‰é™æµ</span></span><br><span class="line">Stream.iterate(<span class="number">0</span>, n -&gt; n + <span class="number">2</span>).limit(<span class="number">10</span>)</span><br><span class="line">                .forEach(System.out::println);</span><br></pre></td></tr></table></figure>

<ul>
<li>iterate æ–¹æ³•æ¥å—ä¸€ä¸ªåˆå§‹å€¼ï¼ˆåœ¨è¿™é‡Œæ˜¯ 0 ï¼‰ï¼Œ è¿˜æœ‰ä¸€ä¸ªä¾æ¬¡åº”ç”¨åœ¨æ¯ä¸ªäº§ç”Ÿçš„æ–°å€¼ä¸Šçš„Lambda</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Stream.iterate(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;<span class="number">0</span>, <span class="number">1</span>&#125;, t -&gt; <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;t[<span class="number">1</span>], t[<span class="number">0</span>] + t[<span class="number">1</span>]&#125;)</span><br><span class="line">        .limit(<span class="number">20</span>)</span><br><span class="line">        .forEach(t -&gt; System.out.println(<span class="string">"("</span> + t[<span class="number">0</span>] + <span class="string">","</span> + t[<span class="number">1</span>] + <span class="string">")"</span>));</span><br></pre></td></tr></table></figure>

<ul>
<li><p>generateæ–¹æ³•æ¥å—ä¸€ä¸ªSupplier&lt;T&gt; ï¼ˆä¾›åº”æºï¼‰ç±»å‹çš„Lambdaæä¾›æ–°çš„å€¼ç”Ÿæˆä¸€ä¸ªæ— é™æµ</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Stream.generate(Math::random)</span><br><span class="line">               .limit(<span class="number">5</span>)</span><br><span class="line">               .forEach(System.out::println);</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä¾›åº”æºä¸ä¸€å®šæ˜¯æ— çŠ¶æ€çš„ï¼Œå¯ä»¥åˆ›å»ºå­˜å‚¨çŠ¶æ€çš„ä¾›åº”æºï¼Œæ³¨æ„åœ¨å¹¶è¡Œä»£ç ä¸­ä½¿ç”¨æœ‰çŠ¶æ€çš„ä¾›åº”æºæ˜¯ä¸å®‰å…¨çš„ï¼›</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// å…¨æ˜¯1 çš„ç”Ÿæˆæµ</span></span><br><span class="line">IntStream ones = IntStream.generate(() -&gt; <span class="number">1</span>);</span><br><span class="line"><span class="comment">//  è£´æ³¢é‚£å¥‘æµ</span></span><br><span class="line">        IntSupplier fib = <span class="keyword">new</span> IntSupplier() &#123;</span><br><span class="line">            <span class="keyword">private</span> <span class="keyword">int</span> previous = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">private</span> <span class="keyword">int</span> current = <span class="number">1</span>;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getAsInt</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                <span class="keyword">int</span> oldPrevious = <span class="keyword">this</span>.previous;</span><br><span class="line">                <span class="keyword">int</span> nextValue = <span class="keyword">this</span>.previous + <span class="keyword">this</span>.current;</span><br><span class="line">                <span class="keyword">this</span>.previous = <span class="keyword">this</span>.current;</span><br><span class="line">                <span class="keyword">this</span>.current = nextValue;</span><br><span class="line">                <span class="keyword">return</span> oldPrevious;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;;</span><br><span class="line">        IntStream.generate(fib).limit(<span class="number">10</span>).forEach(System.out::println);</span><br><span class="line"><span class="comment">// getAsIntåœ¨è°ƒç”¨æ—¶ä¼šæ”¹å˜å¯¹è±¡çš„çŠ¶æ€ï¼Œç”±æ­¤åœ¨æ¯æ¬¡è°ƒç”¨æ—¶äº§ç”Ÿæ–°çš„å€¼</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>å¤„ç†ä¸€ä¸ªæ— é™æµå¿…é¡»ä½¿ç”¨limitæ“ä½œæ¥æ˜¾ç¤ºé™åˆ¶å®ƒçš„å¤§å°ï¼Œå¦åˆ™ç»ˆç«¯æ“ä½œå°†æ°¸è¿œè®¡ç®—ä¸‹å»ï¼›</p>
</li>
</ol>
<h2 id="ç”¨æµæ”¶é›†æ•°æ®"><a href="#ç”¨æµæ”¶é›†æ•°æ®" class="headerlink" title="ç”¨æµæ”¶é›†æ•°æ®"></a>ç”¨æµæ”¶é›†æ•°æ®</h2><ol>
<li><p>å¯¹æµè°ƒç”¨collectæ–¹æ³•å°†å¯¹æµä¸­çš„å…ƒç´ è§¦å‘ä¸€ä¸ªå½’çº¦æ“ä½œï¼ˆç”±Collectoræ¥å‚æ•°åŒ–ï¼‰ï¼ŒCollectorä¼šå¯¹å…ƒç´ åº”ç”¨ä¸€ä¸ªè½¬æ¢å‡½æ•°ï¼Œå¹¶å°†ç»“æœç´¯ç§¯åœ¨ä¸€ä¸ªæ•°æ®ç»“æ„ä¸­ï¼Œä»è€Œäº§ç”Ÿè¿™ä¸€è¿‡ç¨‹çš„æœ€ç»ˆè¾“å‡ºï¼›</p>
</li>
<li><p>æ”¶é›†å™¨ï¼š</p>
<ol>
<li><p>å¯ä»¥ä»Collectorsç±»æä¾›çš„å·¥å‚æ–¹æ³•ï¼ˆä¾‹å¦‚groupingByï¼‰åˆ›å»ºçš„æ”¶é›†å™¨ï¼Œæä¾›ä¸‰å¤§åŠŸèƒ½ï¼š</p>
<ul>
<li>å°†æµå…ƒç´ å½’çº¦å’Œæ±‡æ€»ä¸ºä¸€ä¸ªå€¼</li>
<li>å…ƒç´ åˆ†ç»„</li>
<li>å…ƒç´ åˆ†åŒº</li>
</ul>
</li>
<li><p>ä½¿ç”¨Collectors.maxBy å’ŒCollectors.minByï¼Œæ¥è®¡ç®—æµä¸­çš„æœ€å¤§æˆ–æœ€å°å€¼ï¼Œæ¥æ”¶ä¸€ä¸ªComparatorå‚æ•°æ¥æ¯”è¾ƒæµä¸­çš„å…ƒç´ </p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Comparator&lt;Dish&gt; dishCaloriesComparator = Comparator.comparingInt(Dish::getCalories);</span><br><span class="line"></span><br><span class="line">Optional&lt;Dish&gt; mostCalorieDish = menu.stream().collect(maxBy(dishCaloriesComparator));</span><br></pre></td></tr></table></figure>
</li>
<li><p>Collectorsç±»ä¸“é—¨ä¸ºæ±‡æ€»æä¾›äº†ä¸€ä¸ªå·¥å‚æ–¹æ³•ï¼šCollectors.summingIntå¯æ¥å—ä¸€ä¸ªæŠŠå¯¹è±¡æ˜ å°„ä¸ºæ±‚å’Œæ‰€éœ€intçš„å‡½æ•°ï¼Œå¹¶è¿”å›ä¸€ä¸ªæ”¶é›†å™¨,è¯¥æ”¶é›†å™¨åœ¨ä¼ é€’ç»™æ™®é€šçš„collectæ–¹æ³•åå³æ‰§è¡Œæˆ‘ä»¬éœ€è¦çš„æ±‡æ€»æ“ä½œ</p>
</li>
<li><p>æ±‡æ€»ä¸ä»…ä»…æ˜¯æ±‚å’ŒCollectors.summingLongå’ŒCollectors.summingDoubleæ–¹æ³•,è¿˜æœ‰Collectors.averagingIntï¼Œè¿åŒå¯¹åº”çš„averagingLongå’ŒaveragingDoubleå¯ä»¥è®¡ç®—æ•°å€¼çš„å¹³å‡æ•°</p>
</li>
<li><p>å¯ä»¥ä½¿ç”¨summarizingIntå·¥å‚æ–¹æ³•è¿”å›çš„æ”¶é›†å™¨ï¼Œå¾—åˆ°æ€»å’Œã€å¹³å‡å€¼ã€æœ€å¤§å€¼ã€æœ€å°å€¼ï¼›</p>
</li>
<li><p>joiningå·¥å‚æ–¹æ³•è¿”å›çš„æ”¶é›†å™¨ä¼šæŠŠå¯¹æµä¸­æ¯ä¸€ä¸ªå¯¹è±¡åº”ç”¨toStringæ–¹æ³•å¾—åˆ°çš„æ‰€æœ‰å­—ç¬¦ä¸²è¿æ¥æˆä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œæœ‰ä¸€ä¸ªé‡è½½ç‰ˆæœ¬å¯ä»¥æ¥å—å…ƒç´ ä¹‹é—´çš„åˆ†ç•Œç¬¦ï¼›</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// å­—ç¬¦ä¸²ä»¥,åˆ†ç•Œ</span></span><br><span class="line">String shortMenu = menu.stream().map(Dish::getName).collect(joining(<span class="string">", "</span>));</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ‰€æœ‰æ”¶é›†å™¨ï¼Œéƒ½æ˜¯ä¸€ä¸ªå¯ä»¥ç”¨reducingå·¥å‚æ–¹æ³•å®šä¹‰çš„å½’çº¦è¿‡ç¨‹çš„ç‰¹æ®Šæƒ…å†µè€Œå·²ï¼ŒCollectors.reducingå·¥å‚æ–¹æ³•æ˜¯æ‰€æœ‰è¿™äº›ç‰¹æ®Šæƒ…å†µçš„ä¸€èˆ¬åŒ–ï¼›</p>
</li>
<li><p>ç”¨Collectors.groupingByå·¥å‚æ–¹æ³•è¿”å›çš„æ”¶é›†å™¨å¯ä»¥å®Œæˆæ•°æ®çš„åˆ†ç»„æ“ä½œï¼›å¯ä»¥ä½¿ç”¨ä¸€ä¸ªç”±åŒå‚æ•°ç‰ˆæœ¬çš„Collectors.groupingByå·¥å‚æ–¹æ³•åˆ›å»ºæ”¶é›†å™¨ï¼Œå¯ä»¥è¿›è¡ŒäºŒçº§åˆ†ç»„ï¼›</p>
</li>
<li><p>åˆ†åŒºç”±ä¸€ä¸ªè°“è¯ï¼ˆè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼çš„å‡½æ•°ï¼‰ä½œä¸ºåˆ†ç±»å‡½æ•°ï¼Œå®ƒç§°åˆ†åŒºå‡½æ•°ï¼›</p>
<ul>
<li>ä¿ç•™äº†åˆ†åŒºå‡½æ•°è¿”å›trueæˆ–falseçš„ä¸¤å¥—æµå…ƒç´ åˆ—è¡¨</li>
</ul>
</li>
<li><p>Collectoræ¥å£åŒ…å«äº†ä¸€ç³»åˆ—æ–¹æ³•ï¼Œä¸ºå®ç°å…·ä½“çš„å½’çº¦æ“ä½œï¼ˆå³æ”¶é›†å™¨ï¼‰æä¾›äº†èŒƒæœ¬ï¼Œå¯ä»¥ä¸ºCollectoræ¥å£æä¾›è‡ªå·±çš„å®ç°ï¼Œä»è€Œè‡ªç”±åœ°åˆ›å»ºè‡ªå®šä¹‰å½’çº¦æ“ä½œï¼›</p>
<ul>
<li>å¼€å‘è‡ªå®šä¹‰æ”¶é›†å™¨å¯ä»¥åœ¨éœ€è¦çš„æ—¶å€™å®ç°è‡ªå·±çš„æ”¶é›†å™¨ï¼Œä¼˜åŒ–å¾—åˆ°æ€§èƒ½æå‡</li>
</ul>
</li>
</ol>
</li>
</ol>
<h2 id="å¹¶è¡Œæ•°æ®å¤„ç†"><a href="#å¹¶è¡Œæ•°æ®å¤„ç†" class="headerlink" title="å¹¶è¡Œæ•°æ®å¤„ç†"></a>å¹¶è¡Œæ•°æ®å¤„ç†</h2><ol>
<li><p>å¯ä»¥é€šè¿‡å¯¹æ”¶é›†æºè°ƒç”¨parallelStreamæ–¹æ³•æ¥æŠŠé›†åˆè½¬æ¢ä¸º<strong>å¹¶è¡Œæµ</strong>ï¼ˆä¸€ä¸ªæŠŠå†…å®¹åˆ†æˆå¤šä¸ªæ•°æ®å—ï¼Œå¹¶ç”¨ä¸åŒçš„çº¿ç¨‹åˆ†åˆ«å¤„ç†æ¯ä¸ªæ•°æ®å—çš„æµï¼‰ï¼Œparallel()æ–¹æ³•å°†è¿‡ç¨‹è½¬æ¢æˆå¹¶è¡Œè¿‡ç¨‹ï¼›</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/391a8cf3369155b81c6ec5d36847c61d-79554" alt=""></p>
</li>
<li><p>å¹¶è¡ŒåŒ–å¹¶ä¸æ˜¯æ²¡æœ‰ä»£ä»·çš„ï¼Œæœ¬èº«éœ€è¦å¯¹æµåšé€’å½’åˆ’åˆ†ï¼ŒæŠŠæ¯ä¸ªå­æµçš„å½’çº³æ“ä½œåˆ†é…åˆ°ä¸åŒçš„çº¿ç¨‹ï¼Œç„¶åæŠŠè¿™äº›æ“ä½œçš„ç»“æœåˆå¹¶æˆä¸€ä¸ªå€¼ï¼›</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/c523ac453ead8a619eb11a7628276ae4-21817" alt=""></p>
</li>
<li><p>åˆ†æ”¯/åˆå¹¶æ¡†æ¶çš„ç›®çš„æ˜¯ä»¥é€’å½’æ–¹å¼å°†å¯ä»¥å¹¶è¡Œçš„ä»»åŠ¡æ‹†åˆ†æˆæ›´å°çš„ä»»åŠ¡ï¼Œç„¶åå°†æ¯ä¸ªå­ä»»åŠ¡çš„ç»“æœåˆå¹¶èµ·æ¥ç”Ÿæˆæ•´ä½“ç»“æœï¼›ï¼ˆå¤šè·¯å½’å¹¶ï¼Ÿï¼‰</p>
</li>
<li><p>Spliterator æ˜¯â€œå¯åˆ†è¿­ä»£å™¨â€ï¼ˆsplitable iteratorï¼‰ï¼Œç”¨äºéå†æ•°æ®æºä¸­çš„å…ƒç´ ï¼Œå¹¶è¡ŒåŒ–éå†ï¼›</p>
</li>
</ol>
</li>
</ol>
<h1 id="Java-amp-å‡½æ•°å¼ç¼–ç¨‹"><a href="#Java-amp-å‡½æ•°å¼ç¼–ç¨‹" class="headerlink" title="Java&amp;å‡½æ•°å¼ç¼–ç¨‹"></a>Java&amp;å‡½æ•°å¼ç¼–ç¨‹</h1><h2 id="åŸºç¡€çŸ¥è¯†"><a href="#åŸºç¡€çŸ¥è¯†" class="headerlink" title="åŸºç¡€çŸ¥è¯†"></a>åŸºç¡€çŸ¥è¯†</h2><ol>
<li><p>å£°æ˜å¼ç¼–ç¨‹ï¼šé‡‡ç”¨è¿™ç§â€œè¦åšä»€ä¹ˆâ€é£æ ¼çš„ç¼–ç¨‹é€šå¸¸è¢«ç§°ä¸ºå£°æ˜å¼ç¼–ç¨‹ï¼Œç”¨è¿™ç§æ–¹å¼ç¼–å†™çš„ä»£ç æ›´åŠ æ¥è¿‘é—®é¢˜é™ˆè¿°äº†ï¼›</p>
</li>
<li><p><strong>å‡½æ•°å¼ç¼–ç¨‹å…·ä½“å®è·µäº†å£°æ˜å¼ç¼–ç¨‹å’Œæ— å‰¯ä½œç”¨è®¡ç®—</strong>ï¼Œå¯ä»¥æ›´å®¹æ˜“åœ°æ„å»ºå’Œç»´æŠ¤ç³»ç»Ÿï¼›</p>
</li>
<li><p>ç›®æ ‡ï¼šä½¿ç”¨å‡½æ•°å¼ç¼–ç¨‹ï¼Œå®ç°æ›´åŠ å¥å£®çš„ç¨‹åºï¼Œè¿˜ä¸ä¼šæœ‰ä»»ä½•çš„å‰¯ä½œç”¨ï¼</p>
</li>
<li><p>åœ¨å‡½æ•°å¼ç¼–ç¨‹çš„ä¸Šä¸‹æ–‡ä¸­ï¼Œä¸€ä¸ªâ€œå‡½æ•°â€å¯¹åº”äºä¸€ä¸ªæ•°å­¦å‡½æ•°ï¼šå®ƒæ¥å—é›¶ä¸ªæˆ–å¤šä¸ªå‚æ•°ï¼Œç”Ÿæˆä¸€ä¸ªæˆ–å¤šä¸ªç»“æœï¼Œå¹¶ä¸”ä¸ä¼šæœ‰ä»»ä½•å‰¯ä½œç”¨ï¼›</p>
</li>
<li><p>åœ¨Javaè¯­è¨€ä¸­ï¼Œå¦‚æœå¸Œæœ›ç¼–å†™å‡½æ•°å¼çš„ç¨‹åºï¼Œé¦–å…ˆéœ€è¦åšçš„æ˜¯ç¡®ä¿æ²¡æœ‰äººèƒ½è§‰å¯Ÿåˆ°ä½ ä»£ç çš„å‰¯ä½œç”¨ï¼›</p>
</li>
<li><p>è¦è¢«ç§°ä¸ºå‡½æ•°å¼ï¼Œå‡½æ•°æˆ–è€…æ–¹æ³•ä¸åº”è¯¥æŠ›å‡ºä»»ä½•å¼‚å¸¸ï¼›</p>
</li>
<li><p>ä¸ºäº†å„ç§å„æ ·çš„å®æˆ˜éœ€æ±‚ï¼Œæœ€ç»ˆå¯èƒ½ä¼šå‘ç°å³ä¾¿å¯¹å‡½æ•°å¼çš„ä»£ç ï¼Œè¿˜æ˜¯éœ€è¦å‘æŸäº›æ—¥å¿—æ–‡ä»¶æ‰“å°è¾“å‡ºè°ƒè¯•ä¿¡æ¯ï¼Œè¿™æ„å‘³ç€ä¸¥æ ¼æ„ä¹‰ä¸Šè¯´ï¼Œè¿™äº›ä»£ç å¹¶éå‡½æ•°å¼çš„ï¼Œä½†æ˜¯åœ¨å®é™…ä¸­äº«å—äº†å‡½æ•°å¼ç¨‹åºå¸¦æ¥çš„å¤§å¤šæ•°å¥½å¤„ï¼›</p>
</li>
<li><p><strong>å‡½æ•°æ— è®ºåœ¨ä½•å¤„ã€ä½•æ—¶è°ƒç”¨ï¼Œå¦‚æœä½¿ç”¨åŒæ ·çš„è¾“å…¥æ€»èƒ½æŒç»­åœ°å¾—åˆ°ç›¸åŒçš„ç»“æœï¼Œå°±å…·å¤‡äº†å‡½æ•°å¼çš„ç‰¹å¾</strong>ï¼›</p>
</li>
<li><p>ä¸¤ç§æç«¯ï¼š</p>
<ul>
<li>æ”¯æŒæç«¯çš„é¢å‘å¯¹è±¡ï¼šä»»ä½•äº‹ç‰©éƒ½æ˜¯å¯¹è±¡ï¼Œç¨‹åºè¦ä¹ˆé€šè¿‡æ›´æ–°å­—æ®µå®Œæˆæ“ä½œï¼Œè¦ä¹ˆè°ƒç”¨å¯¹ä¸å®ƒç›¸å…³çš„å¯¹è±¡è¿›è¡Œæ›´æ–°çš„æ–¹æ³•</li>
<li>æ”¯æŒå¼•ç”¨é€æ˜çš„å‡½æ•°å¼ç¼–ç¨‹ï¼šè®¤ä¸ºæ–¹æ³•ä¸åº”è¯¥æœ‰ï¼ˆå¯¹å¤–éƒ¨å¯è§çš„ï¼‰å¯¹è±¡ä¿®æ”¹</li>
</ul>
</li>
<li><p>å‡½æ•°å¼ç¼–ç¨‹æ¨èä½¿ç”¨é€’å½’è€Œä¸æ˜¯è¿­ä»£ï¼Œè™½ç„¶é€’å½’å¾ˆæ¶ˆè€—èµ„æºï¼Œä½†æ˜¯ï¼Œå‡½æ•°å¼è¯­è¨€æä¾›äº†ä¸€ç§è§£å†³è¯¥é—®é¢˜çš„æ–¹æ³•ï¼šå°¾è°ƒä¼˜åŒ–ï¼ˆtail-call optimizationï¼‰ï¼š</p>
<ul>
<li><p>å¯ä»¥ç¼–å†™é˜¶ä¹˜çš„ä¸€ä¸ªè¿­ä»£å®šä¹‰ï¼Œä¸è¿‡è¿­ä»£è°ƒç”¨å‘ç”Ÿåœ¨å‡½æ•°çš„æœ€å</p>
</li>
<li><p><strong>Javaçš„å°¾é€’å½’ä»£ç ä¸æ™®é€šé€’å½’æ— å¼‚ï¼Œå¯èƒ½JVMæ˜¯æƒ³åœ¨å‡ºç°å¼‚å¸¸æ—¶æ›´å¥½åœ°è¾“å‡ºå †æ ˆä¿¡æ¯çš„ç¼˜æ•…</strong>ï¼Œä¹Ÿå¯¼è‡´äº†Javaä¸­ä¸€èˆ¬èƒ½ç”¨è¿­ä»£å°±ä¸ç”¨é€’å½’ï¼Œä½†æ˜¯è¿™ä¸å‡½æ•°å¼ç¼–ç¨‹èƒŒé“è€Œé©°</p>
</li>
<li><p>é€’å½’ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/202899e4127e7cfbc9a8da77c04d63fc-50130" alt=""></p>
</li>
<li><p>å°¾é€’å½’ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/b5d70777f971a08a86b9c9777c706d46-39054" alt=""></p>
</li>
</ul>
</li>
<li><p>ä»é•¿è¿œçœ‹ï¼Œå‡å°‘å…±äº«çš„å¯å˜æ•°æ®ç»“æ„èƒ½å¸®åŠ©ä½ é™ä½ç»´æŠ¤å’Œè°ƒè¯•ç¨‹åºçš„ä»£ä»·ï¼›</p>
</li>
</ol>
<h2 id="ç¼–ç¨‹æŠ€å·§"><a href="#ç¼–ç¨‹æŠ€å·§" class="headerlink" title="ç¼–ç¨‹æŠ€å·§"></a>ç¼–ç¨‹æŠ€å·§</h2><ol>
<li><p>é«˜é˜¶å‡½æ•°ï¼ˆhigher-order functionï¼‰ï¼šï¼ˆæ»¡è¶³ä»»æ„ä¸€ä¸ªè¦æ±‚ï¼‰</p>
<ul>
<li>æ¥å—è‡³å°‘ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°</li>
<li>è¿”å›çš„ç»“æœæ˜¯ä¸€ä¸ªå‡½æ•°</li>
</ul>
</li>
<li><p>ç§‘é‡ŒåŒ–ï¼šï¼ˆä¸€ç§å¯ä»¥å¸®åŠ©ä½ æ¨¡å—åŒ–å‡½æ•°ã€æé«˜ä»£ç é‡ç”¨æ€§çš„æŠ€æœ¯ï¼‰</p>
<ul>
<li><p>å®šä¹‰ï¼šä¸€ç§å°†å…·å¤‡2ä¸ªå‚æ•°çš„å‡½æ•°fè½¬åŒ–ä¸ºä½¿ç”¨ä¸€ä¸ªå‚æ•°çš„å‡½æ•°gï¼Œå¹¶ä¸”è¿™ä¸ªå‡½æ•°çš„è¿”å›å€¼ä¹Ÿæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒä¼šä½œä¸ºæ–°å‡½æ•°çš„ä¸€ä¸ªå‚æ•°ï¼›</p>
</li>
<li><p>æ ·ä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> DoubleUnaryOperator <span class="title">curriedConverter</span><span class="params">(<span class="keyword">double</span> f, <span class="keyword">double</span> b)</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> (<span class="keyword">double</span> x) -&gt; x * f + b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">DoubleUnaryOperator convertCtoF = curriedConverter(<span class="number">9.0</span>/<span class="number">5</span>, <span class="number">32</span>);</span><br><span class="line"><span class="keyword">double</span> gbp=convertCtoF.applyAsDouble(<span class="number">100</span>);</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p><strong>å‡½æ•°å¼æ–¹æ³•ä¸å…è®¸ä¿®æ”¹ä»»ä½•å…¨å±€æ•°æ®ç»“æ„æˆ–è€…ä»»ä½•ä½œä¸ºå‚æ•°ä¼ å…¥çš„å‚æ•°</strong>ï¼›å¦‚æœéœ€è¦ä½¿ç”¨è¡¨ç¤ºè®¡ç®—ç»“æœçš„æ•°æ®ç»“æœï¼Œé‚£ä¹ˆè¯·åˆ›å»ºå®ƒçš„ä¸€ä¸ªå‰¯æœ¬è€Œä¸è¦ç›´æ¥ä¿®æ”¹ç°å­˜çš„æ•°æ®ç»“æ„ï¼›</p>
</li>
<li><p>Java 8çš„Streamä»¥å…¶å»¶è¿Ÿæ€§è€Œè‘—ç§°ï¼Œè¢«åˆ»æ„è®¾è®¡æˆè¿™æ ·ï¼Œå³å»¶è¿Ÿæ“ä½œï¼šStreamå°±åƒæ˜¯ä¸€ä¸ªé»‘ç›’ï¼Œå®ƒæ¥æ”¶è¯·æ±‚ç”Ÿæˆç»“æœï¼Œå½“ä½ å‘ä¸€ä¸ª Streamå‘èµ·ä¸€ç³»åˆ—çš„æ“ä½œè¯·æ±‚æ—¶ï¼Œè¿™äº›è¯·æ±‚åªæ˜¯è¢«ä¸€ä¸€ä¿å­˜èµ·æ¥ï¼Œåªæœ‰å½“ä½ å‘Streamå‘èµ·ä¸€ä¸ªç»ˆç«¯æ“ä½œæ—¶ï¼Œæ‰ä¼šå®é™…åœ°è¿›è¡Œè®¡ç®—ï¼›</p>
</li>
<li><p><del>ï¼ˆç»“æ„å¼ï¼‰æ¨¡å¼åŒ¹é…èƒ½å¤Ÿæœ‰æ•ˆå‡å°‘ä»£ç çš„é€»è¾‘æ··ä¹±çš„æƒ…å†µï¼›</del></p>
</li>
<li><p>JavaåŠ å…¥äº†å¯¹é€šé…ç¬¦çš„æ”¯æŒï¼Œæ¥æ›´çµæ´»åœ°æ”¯æŒæ³›å‹çš„å­ç±»å‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">List&lt;? extends Number&gt; numbers = <span class="keyword">new</span> ArrayList&lt;Integer&gt;();</span><br></pre></td></tr></table></figure>

</li>
</ol>
<hr>
<h1 id="éšå¿ƒ"><a href="#éšå¿ƒ" class="headerlink" title="éšå¿ƒ"></a>éšå¿ƒ</h1><p>å…ˆæŠ¢å å¸‚åœºå¾€å¾€èƒ½å¤Ÿå“é€€ç«äº‰å¯¹æ‰‹ï¼äº§å“æˆ˜ç•¥å¯ä»¥å…ˆå é¢†å¤§å­¦å¸‚åœºï¼Œæ¯•ä¸šç”Ÿéšåä¼šæŠŠå®ƒå¸¦è¿›ä¸šç•Œã€‚è¯­è¨€éœ€è¦ä¸æ–­æ”¹è¿›ä»¥è·Ÿè¿›ç¡¬ä»¶çš„æ›´æ–°æˆ–æ»¡è¶³ç¨‹åºå‘˜çš„æœŸå¾…ï¼Œå˜åŒ–éœ€è¦æœ‰æ„ä¹‰ï¼Œè¢«æ¥å—ï¼Œé‚£å˜åŒ–æ‰æ˜¯æœ‰ä»·å€¼çš„å˜åŒ–ï¼</p>
]]></content>
      <categories>
        <category>Java</category>
      </categories>
  </entry>
  <entry>
    <title>JavaScript Algorithm &amp; Datastructure</title>
    <url>/2020/04/29/JavaScript-Algorithm-Datastructure/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>JavaScriptæ˜¯ä¸€é—¨éå¸¸å¼ºå¤§çš„ç¼–ç¨‹è¯­è¨€ï¼Œ JavaScriptä¸ä»…å¯ç”¨äºå‰ç«¯å¼€å‘ï¼Œä¹Ÿé€‚ç”¨äºåç«¯å¼€å‘ï¼Œè€ŒNode.jså°±æ˜¯å…¶èƒŒåçš„æŠ€æœ¯ ã€‚æ•°æ®ç»“æ„å’Œç®—æ³•å¯ä»¥å¾ˆé«˜æ•ˆåœ°è§£å†³å¸¸è§é—®é¢˜ï¼*<em>è¿™é‡Œä¸å†è®²è¿°åŸºç¡€çš„è¯­æ³•äº†ï¼  æ¨èä¹¦ç±ï¼šã€Šå­¦ä¹ JavaScriptæ•°æ®ç»“æ„ä¸ç®—æ³•ï¼ˆç¬¬2ç‰ˆï¼‰ã€‹Â· [å·´è¥¿] Loiane Gronerè‘— é‚“åˆš å­™æ™“åšç­‰è¯‘   ã€Šæ•°æ®ç»“æ„ä¸ç®—æ³•ï¼šJavaScriptæè¿°ã€‹Â· [ç¾] Michael McMillan è‘— ç‹ç¾¤é”‹ æœæ¬¢è¯‘ *</em></p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="å˜é‡ä½œç”¨åŸŸ"><a href="#å˜é‡ä½œç”¨åŸŸ" class="headerlink" title="å˜é‡ä½œç”¨åŸŸ"></a>å˜é‡ä½œç”¨åŸŸ</h2><p>ä½œç”¨åŸŸæŒ‡åœ¨ç¼–å†™çš„ç®—æ³•å‡½æ•°ä¸­ï¼Œ  æœ‰æœ¬åœ°å˜é‡å’Œå…¨å±€å˜é‡ï¼›åœ¨JavaScripté‡Œåº”è¯¥å°½é‡å°‘ç”¨å…¨å±€å˜é‡ï¼›</p>
<h2 id="æ•°ç»„"><a href="#æ•°ç»„" class="headerlink" title="æ•°ç»„"></a>æ•°ç»„</h2><ol>
<li>æ•°ç»„å­˜å‚¨ä¸€ç³»åˆ—åŒä¸€ç§æ•°æ®ç±»å‹çš„å€¼ï¼Œä¹Ÿå¯ä»¥åœ¨æ•°ç»„ä¸­ä¿å­˜ä¸åŒç±»å‹çš„å€¼ï¼›</li>
<li>ç”¨JavaScriptå£°æ˜ã€åˆ›å»ºå’Œåˆå§‹åŒ–æ•°ç»„ ï¼š</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> daysOfWeek = <span class="keyword">new</span> <span class="built_in">Array</span>(); <span class="comment">//&#123;1&#125;</span></span><br><span class="line"><span class="keyword">var</span> daysOfWeek = <span class="keyword">new</span> <span class="built_in">Array</span>(<span class="number">7</span>); <span class="comment">//&#123;2&#125;</span></span><br><span class="line"><span class="keyword">var</span> daysOfWeek = <span class="keyword">new</span> <span class="built_in">Array</span>(<span class="string">'Sunday'</span>, <span class="string">'Monday'</span>, <span class="string">'Tuesday'</span>, <span class="string">'Wednesday'</span>,</span><br><span class="line"><span class="string">'Thursday'</span>, <span class="string">'Friday'</span>, <span class="string">'Saturday'</span>); <span class="comment">//&#123;3&#125;</span></span><br><span class="line"><span class="keyword">var</span> daysOfWeek = [];</span><br><span class="line"><span class="keyword">var</span> daysOfWeek = [<span class="string">'Sunday'</span>, <span class="string">'Monday'</span>, <span class="string">'Tuesday'</span>, <span class="string">'Wednesday'</span>,</span><br><span class="line"><span class="string">'Thursday'</span>, <span class="string">'Friday'</span>, <span class="string">'Saturday'</span>];</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>è¦è®¿é—®æ•°ç»„é‡Œç‰¹å®šä½ç½®çš„å…ƒç´ ï¼Œå¯ä»¥ç”¨ä¸­æ‹¬å·ä¼ é€’æ•°å€¼ä½ç½®ï¼Œå¾—åˆ°æƒ³çŸ¥é“çš„å€¼æˆ–è€…èµ‹æ–°çš„å€¼ ï¼š</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i=<span class="number">0</span>; i&lt;daysOfWeek.length; i++)&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(daysOfWeek[i]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="4">
<li>æƒ³è¦ç»™æ•°ç»„æ·»åŠ ä¸€ä¸ªå…ƒç´ ï¼ˆæ¯”å¦‚10ï¼‰ï¼Œåªè¦æŠŠå€¼èµ‹ç»™æ•°ç»„ä¸­æœ€åä¸€ä¸ªç©ºä½ä¸Šçš„å…ƒç´ å³å¯ ,è¿˜æœ‰ä¸€ä¸ªpushæ–¹æ³•ï¼Œèƒ½æŠŠå…ƒç´ æ·»åŠ åˆ°æ•°ç»„çš„æœ«å°¾ï¼Œæ•°ç»„æœ‰ä¸€ä¸ªæ–¹æ³•å«unshiftï¼Œå¯ä»¥ç›´æ¥æŠŠæ•°å€¼æ’å…¥æ•°ç»„çš„é¦–ä½ï¼š</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">numbers[numbers.length] = <span class="number">10</span>;</span><br><span class="line">numbers.push(<span class="number">10</span>);</span><br><span class="line">numbers.unshift(<span class="number">10</span>);</span><br></pre></td></tr></table></figure>

<ol start="5">
<li>è¦åˆ é™¤æ•°ç»„é‡Œæœ€é åçš„å…ƒç´ ï¼Œå¯ä»¥ç”¨popæ–¹æ³•ï¼Œè¦ç¡®å®åˆ é™¤æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œå¯ä»¥ç”¨shiftæ–¹æ³•å®ç°  ï¼š</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">numbers.pop();</span><br><span class="line">numbers.shift();</span><br></pre></td></tr></table></figure>

<ol start="6">
<li>æŒ‡å®šä½ç½®/ç´¢å¼•ï¼Œä½¿ç”¨spliceæ–¹æ³•å°±å¯ä»¥åˆ é™¤ï¼ˆæˆ–è€…æ’å…¥ï¼‰ç›¸åº”ä½ç½®å’Œæ•°é‡çš„å…ƒç´  ï¼š</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">numbers.splice(<span class="number">5</span>,<span class="number">3</span>);</span><br><span class="line"><span class="comment">// åˆ é™¤ä»æ•°ç»„ç´¢å¼•5å¼€å§‹çš„3ä¸ªå…ƒç´ </span></span><br><span class="line"><span class="comment">// æƒ³æŠŠæ•°å­—2ã€ 3ã€ 4æ’å…¥æ•°ç»„é‡Œï¼Œæ”¾åˆ°ä¹‹å‰åˆ é™¤å…ƒç´ çš„ä½ç½®ä¸Š</span></span><br><span class="line">numbers.splice(<span class="number">5</span>,<span class="number">0</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>);</span><br></pre></td></tr></table></figure>

<ol start="7">
<li>JavaScriptåªæ”¯æŒä¸€ç»´æ•°ç»„ï¼Œå¹¶ä¸æ”¯æŒçŸ©é˜µï¼Œç”¨æ•°ç»„å¥—æ•°ç»„ï¼Œå®ç°çŸ©é˜µæˆ–ä»»ä¸€å¤šç»´æ•°ç»„ï¼›    </li>
<li>åœ¨JavaScripté‡Œï¼Œæ•°ç»„æ˜¯å¯ä¿®æ”¹çš„å¯¹è±¡ï¼Œè¿™æ„å‘³ç€åˆ›å»ºçš„æ¯ä¸ªæ•°ç»„éƒ½æœ‰ä¸€äº›å¯ç”¨çš„æ–¹æ³• ï¼›</li>
<li>æ•°ç»„æ ¸å¿ƒæ–¹æ³•ï¼š</li>
</ol>
<table>
<thead>
<tr>
<th>æ–¹æ³•å</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td>concat</td>
<td>è¿æ¥2ä¸ªæˆ–æ›´å¤šæ•°ç»„ï¼Œå¹¶è¿”å›ç»“æœ</td>
</tr>
<tr>
<td>every</td>
<td>å¯¹æ•°ç»„ä¸­çš„æ¯ä¸€é¡¹è¿è¡Œç»™å®šå‡½æ•°ï¼Œå¦‚æœè¯¥å‡½æ•°å¯¹æ¯ä¸€é¡¹éƒ½è¿”å›trueï¼Œåˆ™è¿”å›true</td>
</tr>
<tr>
<td>filter</td>
<td>å¯¹æ•°ç»„ä¸­çš„æ¯ä¸€é¡¹è¿è¡Œç»™å®šå‡½æ•°ï¼Œè¿”å›è¯¥å‡½æ•°ä¼šè¿”å›trueçš„é¡¹ç»„æˆçš„æ•°ç»„</td>
</tr>
<tr>
<td>forEach</td>
<td>å¯¹æ•°ç»„ä¸­çš„æ¯ä¸€é¡¹è¿è¡Œç»™å®šå‡½æ•°ã€‚è¿™ä¸ªæ–¹æ³•æ²¡æœ‰è¿”å›å€¼</td>
</tr>
<tr>
<td>join</td>
<td>å°†æ‰€æœ‰çš„æ•°ç»„å…ƒç´ è¿æ¥æˆä¸€ä¸ªå­—ç¬¦ä¸²</td>
</tr>
<tr>
<td>indexOf</td>
<td>è¿”å›ç¬¬ä¸€ä¸ªä¸ç»™å®šå‚æ•°ç›¸ç­‰çš„æ•°ç»„å…ƒç´ çš„ç´¢å¼•ï¼Œæ²¡æœ‰æ‰¾åˆ°åˆ™è¿”å›-1</td>
</tr>
<tr>
<td>lastIndexOf</td>
<td>è¿”å›åœ¨æ•°ç»„ä¸­æœç´¢åˆ°çš„ä¸ç»™å®šå‚æ•°ç›¸ç­‰çš„å…ƒç´ çš„ç´¢å¼•é‡Œæœ€å¤§çš„å€¼</td>
</tr>
<tr>
<td>map</td>
<td>å¯¹æ•°ç»„ä¸­çš„æ¯ä¸€é¡¹è¿è¡Œç»™å®šå‡½æ•°ï¼Œè¿”å›æ¯æ¬¡å‡½æ•°è°ƒç”¨çš„ç»“æœç»„æˆçš„æ•°ç»„</td>
</tr>
<tr>
<td>reverse</td>
<td>é¢ å€’æ•°ç»„ä¸­å…ƒç´ çš„é¡ºåº</td>
</tr>
<tr>
<td>slice</td>
<td>ä¼ å…¥ç´¢å¼•å€¼ï¼Œå°†æ•°ç»„é‡Œå¯¹åº”ç´¢å¼•èŒƒå›´å†…çš„å…ƒç´ ä½œä¸ºæ–°æ•°ç»„è¿”å›</td>
</tr>
<tr>
<td>some</td>
<td>å¯¹æ•°ç»„ä¸­çš„æ¯ä¸€é¡¹è¿è¡Œç»™å®šå‡½æ•°ï¼Œå¦‚æœä»»ä¸€é¡¹è¿”å›trueï¼Œåˆ™è¿”å›true</td>
</tr>
<tr>
<td>sort</td>
<td>æŒ‰ç…§å­—æ¯é¡ºåºå¯¹æ•°ç»„æ’åºï¼Œæ”¯æŒä¼ å…¥æŒ‡å®šæ’åºæ–¹æ³•çš„å‡½æ•°ä½œä¸ºå‚æ•°</td>
</tr>
<tr>
<td>toString</td>
<td>å°†æ•°ç»„ä½œä¸ºå­—ç¬¦ä¸²è¿”å›</td>
</tr>
<tr>
<td>valueOf</td>
<td>å’ŒtoStringç±»ä¼¼ï¼Œå°†æ•°ç»„ä½œä¸ºå­—ç¬¦ä¸²è¿”å›</td>
</tr>
</tbody></table>
<ol start="10">
<li>ES6å’ŒES7æ–°å¢çš„æ•°ç»„æ–¹æ³•ï¼š</li>
</ol>
<table>
<thead>
<tr>
<th>æ–¹ æ³•</th>
<th>æ è¿°</th>
</tr>
</thead>
<tbody><tr>
<td>@@iterator</td>
<td>è¿”å›ä¸€ä¸ªåŒ…å«æ•°ç»„é”®å€¼å¯¹çš„è¿­ä»£å™¨å¯¹è±¡ï¼Œå¯ä»¥é€šè¿‡åŒæ­¥è°ƒç”¨å¾—åˆ°æ•°ç»„å…ƒç´ çš„é”®å€¼å¯¹</td>
</tr>
<tr>
<td>copyWithin</td>
<td>å¤åˆ¶æ•°ç»„ä¸­ä¸€ç³»åˆ—å…ƒç´ åˆ°åŒä¸€æ•°ç»„æŒ‡å®šçš„èµ·å§‹ä½ç½®</td>
</tr>
<tr>
<td>entries</td>
<td>è¿”å›åŒ…å«æ•°ç»„æ‰€æœ‰é”®å€¼å¯¹çš„@@iterator</td>
</tr>
<tr>
<td>includes</td>
<td>å¦‚æœæ•°ç»„ä¸­å­˜åœ¨æŸä¸ªå…ƒç´ åˆ™è¿”å›trueï¼Œå¦åˆ™è¿”å›falseã€‚ ES7æ–°å¢</td>
</tr>
<tr>
<td>find</td>
<td>æ ¹æ®å›è°ƒå‡½æ•°ç»™å®šçš„æ¡ä»¶ä»æ•°ç»„ä¸­æŸ¥æ‰¾å…ƒç´ ï¼Œå¦‚æœæ‰¾åˆ°åˆ™è¿”å›è¯¥å…ƒç´ </td>
</tr>
<tr>
<td>findIndex</td>
<td>æ ¹æ®å›è°ƒå‡½æ•°ç»™å®šçš„æ¡ä»¶ä»æ•°ç»„ä¸­æŸ¥æ‰¾å…ƒç´ ï¼Œå¦‚æœæ‰¾åˆ°åˆ™è¿”å›è¯¥å…ƒç´ åœ¨æ•°ç»„ä¸­çš„ç´¢å¼•</td>
</tr>
<tr>
<td>fill</td>
<td>ç”¨é™æ€å€¼å¡«å……æ•°ç»„</td>
</tr>
<tr>
<td>from</td>
<td>æ ¹æ®å·²æœ‰æ•°ç»„åˆ›å»ºä¸€ä¸ªæ–°æ•°ç»„</td>
</tr>
<tr>
<td>keys</td>
<td>è¿”å›åŒ…å«æ•°ç»„æ‰€æœ‰ç´¢å¼•çš„@@iterator</td>
</tr>
<tr>
<td>of</td>
<td>æ ¹æ®ä¼ å…¥çš„å‚æ•°åˆ›å»ºä¸€ä¸ªæ–°æ•°ç»„</td>
</tr>
<tr>
<td>values</td>
<td>è¿”å›åŒ…å«æ•°ç»„ä¸­æ‰€æœ‰å€¼çš„@@iterator</td>
</tr>
</tbody></table>
<ol start="11">
<li>è¿­ä»£å™¨ä½¿ç”¨ï¼š</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> iterator = numbers[<span class="built_in">Symbol</span>.iterator]();</span><br><span class="line"><span class="built_in">console</span>.log(iterator.next().value); <span class="comment">// 1</span></span><br><span class="line"><span class="built_in">console</span>.log(iterator.next().value); <span class="comment">// 2</span></span><br><span class="line"><span class="built_in">console</span>.log(iterator.next().value); <span class="comment">// 3</span></span><br><span class="line"><span class="built_in">console</span>.log(iterator.next().value); <span class="comment">// 4</span></span><br><span class="line"><span class="built_in">console</span>.log(iterator.next().value); <span class="comment">// 5</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> aEntries = numbers.entries(); <span class="comment">// å¾—åˆ°é”®å€¼å¯¹çš„è¿­ä»£å™¨</span></span><br><span class="line"><span class="built_in">console</span>.log(aEntries.next().value); <span class="comment">// [0, 1] - ä½ç½®0çš„å€¼ä¸º1</span></span><br><span class="line"><span class="built_in">console</span>.log(aEntries.next().value); <span class="comment">// [1, 2] - ä½ç½®1çš„å€¼ä¸º2</span></span><br><span class="line"><span class="built_in">console</span>.log(aEntries.next().value); <span class="comment">// [2, 3] - ä½ç½®2çš„å€¼ä¸º3</span></span><br></pre></td></tr></table></figure>

<ol start="12">
<li>å±•å¼€æ“ä½œç¬¦ï¼ˆ â€¦ï¼‰ä¼šæŠŠnumbers4æ•°ç»„é‡Œçš„å€¼éƒ½å±•å¼€æˆå‚æ•° :</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> numbersCopy = <span class="built_in">Array</span>.of(...numbers4);</span><br></pre></td></tr></table></figure>

<ol start="13">
<li><strong>ç±»å‹æ•°ç»„</strong>åˆ™ç”¨äºå­˜å‚¨å•ä¸€ç±»å‹çš„æ•°æ®ï¼Œ  è¯­æ³•æ˜¯let myArray = new TypedArray(length)ï¼Œå…¶ä¸­TypedArrayéœ€æ›¿æ¢ä¸ºä¸‹è¡¨æ‰€åˆ—ä¹‹ä¸€ï¼š</li>
</ol>
<table>
<thead>
<tr>
<th>ç±»å‹æ•°ç»„</th>
<th>æ•°æ®ç±»å‹</th>
</tr>
</thead>
<tbody><tr>
<td>Int8Array</td>
<td>8ä½äºŒè¿›åˆ¶è¡¥ç æ•´æ•°</td>
</tr>
<tr>
<td>Uint8Array</td>
<td>8ä½æ— ç¬¦å·æ•´æ•°</td>
</tr>
<tr>
<td>Uint8ClampedArray</td>
<td>8ä½æ— ç¬¦å·æ•´æ•°</td>
</tr>
<tr>
<td>Int16Array</td>
<td>16ä½äºŒè¿›åˆ¶è¡¥ç æ•´æ•°</td>
</tr>
<tr>
<td>Uint16Array</td>
<td>16ä½æ— ç¬¦å·æ•´æ•°</td>
</tr>
<tr>
<td>Int32Array</td>
<td>32ä½äºŒè¿›åˆ¶è¡¥ç æ•´æ•°</td>
</tr>
<tr>
<td>Uint32Array</td>
<td>32ä½æ— ç¬¦å·æ•´æ•°</td>
</tr>
<tr>
<td>Float32Array</td>
<td>32ä½IEEEæµ®ç‚¹æ•°</td>
</tr>
<tr>
<td>Float64Array</td>
<td>64ä½IEEEæµ®ç‚¹æ•°</td>
</tr>
</tbody></table>
<ol start="14">
<li>ä½¿ç”¨WebGL APIã€è¿›è¡Œä½æ“ä½œã€å¤„ç†æ–‡ä»¶å’Œå›¾åƒæ—¶ï¼Œç±»å‹æ•°ç»„éƒ½å¯ä»¥å¤§å±•æ‹³è„šï¼›</li>
<li>å¯ä»¥è°ƒç”¨ Array.isArray() æ¥åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦æ˜¯æ•°ç»„ï¼</li>
<li>å½“æŠŠä¸€ä¸ªæ•°ç»„èµ‹ç»™å¦å¤–ä¸€ä¸ªæ•°ç»„æ—¶ï¼Œåªæ˜¯ä¸ºè¢«èµ‹å€¼çš„æ•°ç»„å¢åŠ äº†ä¸€ä¸ªæ–°çš„å¼•ç”¨ï¼Œè¿™ç§è¡Œä¸ºè¢«ç§°ä¸º<strong>æµ…å¤åˆ¶</strong> ï¼Œæ–°æ•°ç»„ä¾ç„¶æŒ‡å‘åŸæ¥çš„æ•°ç»„ï¼›</li>
<li>ä½¿ç”¨<strong>æ·±å¤åˆ¶</strong> ï¼Œå°†åŸæ•°ç»„ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ éƒ½å¤åˆ¶ä¸€ä»½åˆ°æ–°æ•°ç»„ä¸­ï¼  </li>
</ol>
<h2 id="æ ˆ"><a href="#æ ˆ" class="headerlink" title="æ ˆ"></a>æ ˆ</h2><ol>
<li>æ ˆæ˜¯ä¸€ç§éµä»åè¿›å…ˆå‡ºï¼ˆ LIFOï¼‰åŸåˆ™çš„æœ‰åºé›†åˆï¼Œ  æ–°æ·»åŠ çš„æˆ–å¾…åˆ é™¤çš„å…ƒç´ éƒ½ä¿å­˜åœ¨æ ˆçš„åŒä¸€ç«¯ï¼Œç§°ä½œæ ˆé¡¶ï¼Œå¦ä¸€ç«¯å°±å«æ ˆåº•ï¼›   </li>
<li>åœ¨æ ˆé‡Œï¼Œæ–°å…ƒç´ éƒ½é è¿‘æ ˆé¡¶ï¼Œæ—§å…ƒç´ éƒ½æ¥è¿‘æ ˆåº•ï¼›</li>
<li>æ ˆè¢«ç”¨åœ¨ç¼–ç¨‹è¯­è¨€çš„ç¼–è¯‘å™¨å’Œå†…å­˜ä¸­ä¿å­˜å˜é‡ã€æ–¹æ³•è°ƒç”¨ç­‰ï¼›</li>
<li>åˆ›å»ºä¸€ä¸ªç±»æ¥è¡¨ç¤ºæ ˆï¼š</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Stack</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="comment">//å„ç§å±æ€§å’Œæ–¹æ³•çš„å£°æ˜</span></span><br><span class="line">	<span class="keyword">let</span> items = [];</span><br><span class="line">    <span class="comment">// æ·»åŠ ä¸€ä¸ªï¼ˆæˆ–å‡ ä¸ªï¼‰æ–°å…ƒç´ åˆ°æ ˆé¡¶</span></span><br><span class="line">    <span class="keyword">this</span>.push = <span class="function"><span class="keyword">function</span>(<span class="params">element</span>)</span>&#123;</span><br><span class="line">		items.push(element);</span><br><span class="line">	&#125;;</span><br><span class="line">    <span class="comment">// ç§»é™¤æ ˆé¡¶çš„å…ƒç´ ï¼ŒåŒæ—¶è¿”å›è¢«ç§»é™¤çš„å…ƒç´ </span></span><br><span class="line">    <span class="keyword">this</span>.pop = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">		<span class="keyword">return</span> items.pop();</span><br><span class="line">	&#125;;</span><br><span class="line">    <span class="comment">// è¿”å›æ ˆé¡¶çš„å…ƒç´ ï¼Œä¸å¯¹æ ˆåšä»»ä½•ä¿®æ”¹</span></span><br><span class="line">    <span class="keyword">this</span>.peek = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">		<span class="keyword">return</span> items[items.length<span class="number">-1</span>];</span><br><span class="line">	&#125;;</span><br><span class="line">    <span class="comment">// å¦‚æœæ ˆé‡Œæ²¡æœ‰ä»»ä½•å…ƒç´ å°±è¿”å›trueï¼Œå¦åˆ™è¿”å›false</span></span><br><span class="line">    <span class="keyword">this</span>.isEmpty = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">		<span class="keyword">return</span> items.length == <span class="number">0</span>;</span><br><span class="line">	&#125;;</span><br><span class="line">    <span class="comment">// ç§»é™¤æ ˆé‡Œçš„æ‰€æœ‰å…ƒç´ </span></span><br><span class="line">    <span class="keyword">this</span>.clear = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">		items = [];</span><br><span class="line">	&#125;;</span><br><span class="line">    <span class="comment">// è¿”å›æ ˆé‡Œçš„å…ƒç´ ä¸ªæ•°</span></span><br><span class="line">    <span class="keyword">this</span>.size = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">		<span class="keyword">return</span> items.length;</span><br><span class="line">	&#125;;	</span><br><span class="line">    <span class="keyword">this</span>.print = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">		<span class="built_in">console</span>.log(items.toString());</span><br><span class="line">	&#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="5">
<li>ES6æ–°å¢äº†ä¸€ç§å«ä½œSymbolçš„åŸºæœ¬ç±»å‹ï¼Œå®ƒæ˜¯ä¸å¯å˜çš„ï¼Œå¯ä»¥ç”¨ä½œå¯¹è±¡çš„å±æ€§ï¼›  </li>
</ol>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> _items = <span class="built_in">Symbol</span>(); <span class="comment">//&#123;1&#125;</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Stack</span> </span>&#123;</span><br><span class="line"><span class="keyword">constructor</span> () &#123;</span><br><span class="line"><span class="keyword">this</span>[_items] = []; <span class="comment">//&#123;2&#125;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//Stackæ–¹æ³•</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// åˆ›å»ºäº†ä¸€ä¸ªå‡çš„ç§æœ‰å±æ€§</span></span><br></pre></td></tr></table></figure>

<h2 id="é˜Ÿåˆ—"><a href="#é˜Ÿåˆ—" class="headerlink" title="é˜Ÿåˆ—"></a>é˜Ÿåˆ—</h2><ol>
<li>é˜Ÿåˆ—æ˜¯éµå¾ªFIFOï¼ˆ First In First Outï¼Œ å…ˆè¿›å…ˆå‡ºï¼Œä¹Ÿç§°ä¸ºå…ˆæ¥å…ˆæœåŠ¡ï¼‰åŸåˆ™çš„ä¸€ç»„æœ‰åºçš„é¡¹ï¼Œ  é˜Ÿåˆ—åœ¨å°¾éƒ¨æ·»åŠ æ–°å…ƒç´ ï¼Œå¹¶ä»é¡¶éƒ¨ç§»é™¤å…ƒç´  ï¼›</li>
<li>åˆ›å»ºä¸€ä¸ªç±»æ¥è¡¨ç¤ºé˜Ÿåˆ—  ï¼š</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Queue</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="comment">//è¿™é‡Œæ˜¯å±æ€§å’Œæ–¹æ³•</span></span><br><span class="line">    <span class="keyword">let</span> items = [];</span><br><span class="line">    <span class="comment">// å‘é˜Ÿåˆ—å°¾éƒ¨æ·»åŠ ä¸€ä¸ªï¼ˆæˆ–å¤šä¸ªï¼‰æ–°çš„é¡¹</span></span><br><span class="line">    <span class="keyword">this</span>.enqueue = <span class="function"><span class="keyword">function</span>(<span class="params">element</span>)</span>&#123;</span><br><span class="line">		items.push(element);</span><br><span class="line">	&#125;;</span><br><span class="line">    <span class="comment">// ç§»é™¤é˜Ÿåˆ—çš„ç¬¬ä¸€ï¼ˆå³æ’åœ¨é˜Ÿåˆ—æœ€å‰é¢çš„ï¼‰é¡¹ï¼Œå¹¶è¿”å›è¢«ç§»é™¤çš„å…ƒç´ </span></span><br><span class="line">    <span class="keyword">this</span>.dequeue = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">		<span class="keyword">return</span> items.shift();</span><br><span class="line">	&#125;;</span><br><span class="line">    <span class="comment">// è¿”å›é˜Ÿåˆ—ä¸­ç¬¬ä¸€ä¸ªå…ƒç´ </span></span><br><span class="line">    <span class="keyword">this</span>.front = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">		<span class="keyword">return</span> items[<span class="number">0</span>];</span><br><span class="line">	&#125;;</span><br><span class="line">    <span class="comment">// å¦‚æœé˜Ÿåˆ—ä¸­ä¸åŒ…å«ä»»ä½•å…ƒç´ ï¼Œè¿”å›trueï¼Œå¦åˆ™è¿”å›false</span></span><br><span class="line">    <span class="keyword">this</span>.isEmpty = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> items.length == <span class="number">0</span>;</span><br><span class="line">	&#125;;</span><br><span class="line">    <span class="comment">// è¿”å›é˜Ÿåˆ—åŒ…å«çš„å…ƒç´ ä¸ªæ•°ï¼Œä¸æ•°ç»„çš„lengthå±æ€§ç±»ä¼¼</span></span><br><span class="line">    <span class="keyword">this</span>.size = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">		<span class="keyword">return</span> items.length;</span><br><span class="line">	&#125;;</span><br><span class="line">    <span class="keyword">this</span>.print = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">		<span class="built_in">console</span>.log(items.toString());</span><br><span class="line">	&#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>ä½¿ç”¨Queueç±»:</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> queue = <span class="keyword">new</span> Queue();</span><br><span class="line"><span class="built_in">console</span>.log(queue.isEmpty()); <span class="comment">//è¾“å‡ºtrue</span></span><br><span class="line">queue.enqueue(<span class="string">"John"</span>);</span><br><span class="line">queue.enqueue(<span class="string">"Jack"</span>);</span><br><span class="line">queue.enqueue(<span class="string">"Camila"</span>);</span><br><span class="line">queue.print();</span><br><span class="line"><span class="built_in">console</span>.log(queue.size()); <span class="comment">//è¾“å‡º3</span></span><br><span class="line"><span class="built_in">console</span>.log(queue.isEmpty()); <span class="comment">//è¾“å‡ºfalse</span></span><br><span class="line">queue.dequeue();</span><br><span class="line">queue.dequeue();</span><br><span class="line">queue.print();</span><br></pre></td></tr></table></figure>

<ol start="4">
<li><p><strong>ä¼˜å…ˆé˜Ÿåˆ—ï¼šä¸€äº›ä½¿ç”¨é˜Ÿåˆ—çš„ åº”ç”¨ï¼Œåœ¨åˆ é™¤å…ƒç´ æ—¶ä¸å¿…éµå®ˆå…ˆè¿›å…ˆå‡ºçš„çº¦å®šï¼</strong></p>
</li>
<li><p><strong>å¾ªç¯é˜Ÿåˆ—</strong></p>
</li>
</ol>
<h2 id="åˆ—è¡¨"><a href="#åˆ—è¡¨" class="headerlink" title="åˆ—è¡¨"></a>åˆ—è¡¨</h2><ol>
<li><p>åˆ—è¡¨æ˜¯ä¸€ç»„æœ‰åºçš„æ•°æ®ï¼Œæ¯ä¸ªåˆ—è¡¨ä¸­çš„æ•°æ®é¡¹ç§°ä¸ºå…ƒç´ ï¼›</p>
</li>
<li><p>åœ¨JavaScriptä¸­ï¼Œåˆ—è¡¨ä¸­çš„å…ƒç´ å¯ä»¥æ˜¯ä»»æ„æ•°æ®ç±»å‹ï¼Œåˆ—è¡¨ä¸­å¯ä»¥ä¿å­˜å¤šå°‘å…ƒç´ å¹¶æ²¡æœ‰äº‹å…ˆé™å®šï¼Œå®é™…ä½¿ç”¨æ—¶å…ƒç´ çš„æ•°é‡å—åˆ°ç¨‹åºå†…å­˜çš„é™åˆ¶ï¼›</p>
</li>
<li><p>ä¸åŒ…å«ä»»ä½•å…ƒç´ çš„åˆ—è¡¨ç§°ä¸ºç©ºåˆ—è¡¨ï¼›</p>
</li>
<li><p>åˆ—è¡¨ä¸­åŒ…å«å…ƒç´ çš„ä¸ªæ•°ç§°ä¸ºåˆ—è¡¨çš„ lengthï¼›</p>
</li>
<li><p>åˆ—è¡¨æ–¹æ³•ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/1bee3059e98cfea23a5c19a33377a1a8-85529" alt="åˆ—è¡¨æ–¹æ³•"></p>
</li>
<li><p>ä½¿ç”¨è¿­ä»£å™¨ï¼Œå¯ä»¥ä¸å¿…å…³å¿ƒæ•°æ®çš„å†…éƒ¨å­˜å‚¨æ–¹å¼ï¼Œä»¥å®ç°å¯¹åˆ—è¡¨çš„éå†ï¼›</p>
</li>
<li><p>ä½¿ç”¨è¿­ä»£å™¨çš„ä¸€äº›ä¼˜ç‚¹ï¼š</p>
<ul>
<li>è®¿é—®åˆ—è¡¨å…ƒç´ æ—¶ä¸å¿…å…³å¿ƒåº•å±‚çš„æ•°æ®å­˜å‚¨ç»“æ„</li>
<li>å½“ä¸ºåˆ—è¡¨æ·»åŠ ä¸€ä¸ªå…ƒç´ æ—¶ï¼Œç´¢å¼•çš„å€¼å°±ä¸å¯¹äº†ï¼Œæ­¤æ—¶åªç”¨æ›´æ–°åˆ—è¡¨ï¼Œè€Œä¸ç”¨æ›´æ–°è¿­ä»£å™¨</li>
<li>å¯ä»¥ç”¨ä¸åŒç±»å‹çš„æ•°æ®å­˜å‚¨æ–¹å¼å®ç° cList ç±»ï¼Œè¿­ä»£å™¨ä¸ºè®¿é—®åˆ—è¡¨é‡Œçš„å…ƒç´ æä¾›äº†ä¸€ç§ç»Ÿä¸€çš„æ–¹å¼</li>
</ul>
</li>
</ol>
<h2 id="é“¾è¡¨"><a href="#é“¾è¡¨" class="headerlink" title="é“¾è¡¨"></a>é“¾è¡¨</h2><ol>
<li><p>é“¾è¡¨æ˜¯ç”±ä¸€ç»„èŠ‚ç‚¹ç»„æˆçš„é›†åˆï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½ä½¿ç”¨ä¸€ä¸ªå¯¹è±¡çš„å¼•ç”¨æŒ‡å‘å®ƒçš„åç»§ï¼ŒæŒ‡å‘å¦ä¸€ä¸ªèŠ‚ç‚¹çš„å¼•ç”¨å«åšé“¾ï¼›</p>
</li>
<li><p>JavaScriptä¸­æ•°ç»„çš„ä¸»è¦é—®é¢˜æ˜¯è¢«å®ç°æˆäº†å¯¹è±¡ï¼Œ ä¸å…¶ä»–è¯­è¨€ï¼ˆæ¯”å¦‚ C++ å’Œ Javaï¼‰ çš„æ•°ç»„ç›¸æ¯”ï¼Œæ•ˆç‡å¾ˆä½ï¼›</p>
</li>
<li><p>é™¤äº†å¯¹æ•°æ®çš„éšæœºè®¿é—®ï¼Œé“¾è¡¨å‡ ä¹å¯ä»¥ç”¨åœ¨ä»»ä½•å¯ä»¥ä½¿ç”¨ä¸€ç»´æ•°ç»„çš„æƒ…å†µä¸­ï¼›</p>
</li>
<li><p>å¸¦å¤´èŠ‚ç‚¹çš„é“¾è¡¨ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/6c9948f08e3721a2a58f537706c364a7-15813" alt="å¸¦å¤´èŠ‚ç‚¹é“¾è¡¨"></p>
</li>
<li><p>æ’å…¥å…ƒç´ åˆ°é“¾è¡¨ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/3d8c732466bc292a197b46568912614a-19101" alt="æ’å…¥å…ƒç´ åˆ°é“¾è¡¨"></p>
</li>
<li><p>åˆ é™¤é“¾è¡¨ä¸­çš„å…ƒç´ ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/73cee1330139b93555b022cc14543c26-23193" alt="åˆ é™¤å…ƒç´ "></p>
</li>
<li><p>åŒå‘é“¾è¡¨ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/9353b130caf6dd0314156b8ac95c7d1e-24891" alt="åŒå‘é“¾è¡¨"></p>
</li>
</ol>
<h2 id="å­—å…¸"><a href="#å­—å…¸" class="headerlink" title="å­—å…¸"></a>å­—å…¸</h2><ol>
<li>å­—å…¸æ˜¯ä¸€ç§ä»¥é”® - å€¼å¯¹å½¢å¼å­˜å‚¨æ•°æ®çš„æ•°æ®ç»“æ„ï¼ŒJavaScript çš„ Object ç±»å°±æ˜¯ä»¥å­—å…¸çš„å½¢å¼è®¾è®¡çš„ï¼›</li>
<li>Dictionay ç±»çš„åŸºç¡€æ˜¯ Array ç±»ï¼Œ è€Œä¸æ˜¯ Object ç±»ï¼›</li>
</ol>
<h2 id="æ•£åˆ—"><a href="#æ•£åˆ—" class="headerlink" title="æ•£åˆ—"></a>æ•£åˆ—</h2><ol>
<li><p>æ•£åˆ—ä½¿ç”¨çš„æ•°æ®ç»“æ„å«åšæ•£åˆ—è¡¨ï¼›  </p>
</li>
<li><p>åœ¨æ•£åˆ—è¡¨ä¸Šæ’å…¥ã€ åˆ é™¤å’Œå–ç”¨æ•°æ®éƒ½éå¸¸å¿«ï¼Œ ä½†æ˜¯å¯¹äºæŸ¥æ‰¾æ“ä½œæ¥è¯´å´æ•ˆç‡ä½ä¸‹ï¼Œ æ¯”å¦‚æŸ¥æ‰¾ä¸€ç»„æ•°æ®ä¸­çš„æœ€å¤§å€¼å’Œæœ€å°å€¼ï¼›</p>
</li>
<li><p>ä½¿ç”¨æ•£åˆ—è¡¨å­˜å‚¨æ•°æ®æ—¶ï¼Œ é€šè¿‡ä¸€ä¸ªæ•£åˆ—å‡½æ•°å°†é”®æ˜ å°„ä¸ºä¸€ä¸ªæ•°å­—ï¼Œ è¿™ä¸ªæ•°å­—çš„èŒƒå›´æ˜¯ 0 åˆ°æ•£åˆ—è¡¨çš„é•¿åº¦ï¼›</p>
</li>
<li><p>å³ä½¿ä½¿ç”¨ä¸€ä¸ªé«˜æ•ˆçš„æ•£åˆ—å‡½æ•°ï¼Œ ä»ç„¶å­˜åœ¨å°†ä¸¤ä¸ªé”®æ˜ å°„æˆåŒä¸€ä¸ªå€¼çš„å¯èƒ½ï¼Œ è¿™ç§ç°è±¡ç§°ä¸ºç¢°æ’ï¼ˆcollisionï¼‰ï¼›</p>
</li>
<li><p>é˜²å†²çªæ–¹æ¡ˆï¼š</p>
<ul>
<li><p>å¼€é“¾æ³•æ˜¯æŒ‡å®ç°æ•£åˆ—è¡¨çš„åº•å±‚æ•°ç»„ä¸­ï¼Œ æ¯ä¸ªæ•°ç»„å…ƒç´ åˆæ˜¯ä¸€ä¸ªæ–°çš„æ•°æ®ç»“æ„ï¼Œ æ¯”å¦‚å¦ä¸€ä¸ªæ•°ç»„ï¼Œ è¿™æ ·å°±èƒ½å­˜å‚¨å¤šä¸ªé”®äº†</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/2f14bc7d3294190d2b9fa874d45f720e-36301" alt="å¼€é“¾æ³•"></p>
</li>
<li><p>çº¿æ€§æ¢æµ‹æ³•å±äºä¸€ç§æ›´ä¸€èˆ¬åŒ–çš„æ•£åˆ—æŠ€æœ¯ï¼Œå½“å‘ç”Ÿç¢°æ’æ—¶ï¼Œ çº¿æ€§æ¢æµ‹æ³•æ£€æŸ¥æ•£åˆ—è¡¨ä¸­çš„ä¸‹ä¸€ä¸ªä½ç½®æ˜¯å¦ä¸ºç©ºï¼Œå¦‚æœä¸ºç©ºï¼Œå°±å°†æ•°æ®å­˜å…¥è¯¥ä½ç½®ï¼› å¦‚æœä¸ä¸ºç©ºï¼Œ åˆ™ç»§ç»­æ£€æŸ¥ä¸‹ä¸€ä¸ªä½ç½®ï¼Œ ç›´åˆ°æ‰¾åˆ°ä¸€ä¸ªç©ºçš„ä½ç½®ä¸ºæ­¢</p>
</li>
</ul>
</li>
</ol>
<h2 id="é›†åˆ"><a href="#é›†åˆ" class="headerlink" title="é›†åˆ"></a>é›†åˆ</h2><ol>
<li>é›†åˆï¼ˆsetï¼‰ æ˜¯ä¸€ç§åŒ…å«ä¸åŒå…ƒç´ çš„æ•°æ®ç»“æ„ï¼Œé›†åˆä¸­çš„å…ƒç´ ç§°ä¸ºæˆå‘˜ï¼› </li>
<li>é›†åˆæ˜¯ç”±ä¸€ç»„æ— åºä½†å½¼æ­¤ä¹‹é—´åˆæœ‰ä¸€å®šç›¸å…³æ€§çš„æˆå‘˜æ„æˆçš„ï¼Œ æ¯ä¸ªæˆå‘˜åœ¨é›†åˆä¸­åªèƒ½å‡ºç°ä¸€æ¬¡ï¼›</li>
<li>é›†åˆçš„å®šä¹‰ï¼š<ul>
<li>ä¸åŒ…å«ä»»ä½•æˆå‘˜çš„é›†åˆç§°ä¸ºç©ºé›†ï¼Œ å…¨é›†åˆ™æ˜¯åŒ…å«ä¸€åˆ‡å¯èƒ½æˆå‘˜çš„é›†åˆ</li>
<li>å¦‚æœä¸¤ä¸ªé›†åˆçš„æˆå‘˜å®Œå…¨ç›¸åŒï¼Œ åˆ™ç§°ä¸¤ä¸ªé›†åˆç›¸ç­‰  </li>
<li>å¦‚æœä¸€ä¸ªé›†åˆä¸­æ‰€æœ‰çš„æˆå‘˜éƒ½å±äºå¦å¤–ä¸€ä¸ªé›†åˆï¼Œ åˆ™å‰ä¸€é›†åˆç§°ä¸ºåä¸€é›†åˆçš„å­é›†</li>
</ul>
</li>
<li>é›†åˆçš„åŸºæœ¬æ“ä½œï¼š<ul>
<li>å¹¶é›†â€”â€”å°†ä¸¤ä¸ªé›†åˆä¸­çš„æˆå‘˜è¿›è¡Œåˆå¹¶ï¼Œ å¾—åˆ°ä¸€ä¸ªæ–°é›†åˆ</li>
<li>äº¤é›†â€”â€”ä¸¤ä¸ªé›†åˆä¸­å…±åŒå­˜åœ¨çš„æˆå‘˜ç»„æˆä¸€ä¸ªæ–°çš„é›†åˆ</li>
<li>è¡¥é›†â€”â€”å±äºä¸€ä¸ªé›†åˆè€Œä¸å±äºå¦ä¸€ä¸ªé›†åˆçš„æˆå‘˜ç»„æˆçš„é›†åˆ</li>
</ul>
</li>
</ol>
<h2 id="äºŒå‰æ ‘å’ŒäºŒå‰æŸ¥æ‰¾æ ‘"><a href="#äºŒå‰æ ‘å’ŒäºŒå‰æŸ¥æ‰¾æ ‘" class="headerlink" title="äºŒå‰æ ‘å’ŒäºŒå‰æŸ¥æ‰¾æ ‘"></a>äºŒå‰æ ‘å’ŒäºŒå‰æŸ¥æ‰¾æ ‘</h2><ol>
<li>äºŒå‰æ ‘æ˜¯ä¸€ç§ç‰¹æ®Šçš„æ ‘ï¼Œ å®ƒçš„å­èŠ‚ç‚¹ä¸ªæ•°ä¸è¶…è¿‡ä¸¤ä¸ªï¼Œ äºŒå‰æ ‘å…·æœ‰ä¸€äº›ç‰¹æ®Šçš„è®¡ç®—æ€§è´¨ï¼Œä½¿å¾—åœ¨å®ƒä»¬ä¹‹ä¸Šçš„ä¸€äº›æ“ä½œå¼‚å¸¸é«˜æ•ˆï¼›</li>
<li>äºŒå‰æŸ¥æ‰¾æ ‘ï¼ˆBSTï¼‰  æ˜¯ä¸€ç§ç‰¹æ®Šçš„äºŒå‰æ ‘ï¼Œ ç›¸å¯¹è¾ƒå°çš„å€¼ä¿å­˜åœ¨å·¦èŠ‚ç‚¹ä¸­ï¼Œ è¾ƒå¤§çš„å€¼ä¿å­˜åœ¨å³èŠ‚ç‚¹ä¸­ï¼›</li>
<li>æœ‰ä¸‰ç§éå† BST çš„æ–¹å¼ï¼š ä¸­åºã€ å…ˆåºå’Œååºï¼›</li>
<li>å¯¹ BST é€šå¸¸æœ‰ä¸‹åˆ—ä¸‰ç§ç±»å‹çš„æŸ¥æ‰¾ï¼š<ul>
<li>æŸ¥æ‰¾ç»™å®šå€¼</li>
<li>æŸ¥æ‰¾æœ€å°å€¼ </li>
<li>æŸ¥æ‰¾æœ€å¤§å€¼  </li>
</ul>
</li>
</ol>
<h2 id="å›¾çš„åŸºç¡€çŸ¥è¯†"><a href="#å›¾çš„åŸºç¡€çŸ¥è¯†" class="headerlink" title="å›¾çš„åŸºç¡€çŸ¥è¯†"></a>å›¾çš„åŸºç¡€çŸ¥è¯†</h2><ol>
<li><p>å›¾ç”±è¾¹çš„é›†åˆåŠé¡¶ç‚¹çš„é›†åˆç»„æˆï¼›</p>
</li>
<li><p>æœ‰å‘å›¾è¡¨æ˜äº†é¡¶ç‚¹çš„æµå‘ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/9cb723a1d8e823775ba2909b75cc9db2-98052" alt="æœ‰å‘å›¾">  </p>
</li>
<li><p>å¦‚æœå›¾æ˜¯æ— åºçš„ï¼Œ åˆ™ç§°ä¹‹ä¸ºæ— åºå›¾ï¼Œ æˆ–æ— å‘å›¾ ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/469e78c86102cdc11c7022ddca0eca17-73813" alt="æ— å‘å›¾"> </p>
</li>
<li><p>å›¾çš„æ·±åº¦ä¼˜å…ˆæœç´¢ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/81fbb829b3549dc69920f1566de4b3b8-158565" alt="æ·±åº¦ä¼˜å…ˆæœç´¢"></p>
</li>
<li><p>å›¾çš„å¹¿åº¦ä¼˜å…ˆæœç´¢ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/723af35b5e3f5c9c46908ef7abc1e85d-158829" alt="å¹¿åº¦ä¼˜å…ˆæœç´¢"></p>
</li>
</ol>
<h2 id="æ’åºç®—æ³•"><a href="#æ’åºç®—æ³•" class="headerlink" title="æ’åºç®—æ³•"></a>æ’åºç®—æ³•</h2><ol>
<li><p>å†’æ³¡æ’åºï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/103da7a369802078a7f9b86ac55eadf4-135647" alt="å†’æ³¡æ’åºè¿‡ç¨‹"></p>
</li>
<li><p>é€‰æ‹©æ’åºï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/80f68072f2b2a189b5596ed2818abeb3-93200" alt="é€‰æ‹©æ’åºè¿‡ç¨‹"></p>
</li>
<li><p>è¿˜æœ‰å¸Œå°”æ’åºã€å½’å¹¶æ’åºã€æ’å…¥æ’åºã€å¿«é€Ÿæ’åºç­‰</p>
</li>
</ol>
<h2 id="NP-å®Œå…¨ç†è®ºæ¦‚è¿°"><a href="#NP-å®Œå…¨ç†è®ºæ¦‚è¿°" class="headerlink" title="NP å®Œå…¨ç†è®ºæ¦‚è¿°"></a>NP å®Œå…¨ç†è®ºæ¦‚è¿°</h2><ol>
<li>å¦‚æœä¸€ä¸ªç®—æ³•çš„å¤æ‚åº¦ä¸ºO(nk)ï¼Œå…¶ä¸­kæ˜¯å¸¸æ•°ï¼Œæˆ‘ä»¬å°±è®¤ä¸ºè¿™ä¸ªç®—æ³•æ˜¯é«˜æ•ˆçš„ï¼›</li>
<li>ä¸€ä¸ªé—®é¢˜å¯ä»¥åœ¨å¤šé¡¹å¼æ—¶é—´å†…éªŒè¯è§£æ˜¯å¦æ­£ç¡®ï¼Œåˆ™è®¡ä¸ºNPï¼ˆ nondeterministic polynomialï¼Œ éç¡®å®šæ€§å¤šé¡¹å¼ï¼‰ï¼› </li>
<li>NPé—®é¢˜ä¸­æœ€éš¾çš„æ˜¯NPå®Œå…¨é—®é¢˜ï¼Œå®ƒæ»¡è¶³ä»¥ä¸‹ä¸¤ä¸ªæ¡ä»¶ï¼š<ul>
<li>æ˜¯NPé—®é¢˜ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¯ä»¥åœ¨å¤šé¡¹å¼æ—¶é—´å†…éªŒè¯è§£ï¼Œä½†è¿˜æ²¡æœ‰æ‰¾åˆ°å¤šé¡¹å¼ç®—æ³•  </li>
<li>æ‰€æœ‰çš„NPé—®é¢˜éƒ½èƒ½åœ¨å¤šé¡¹å¼æ—¶é—´å†…å½’çº¦ä¸ºå®ƒ  </li>
</ul>
</li>
<li>åªéœ€æ»¡è¶³NPå®Œå…¨é—®é¢˜çš„ç¬¬äºŒä¸ªæ¡ä»¶ï¼Œç§°ä¸ºNPå›°éš¾é—®é¢˜ï¼›</li>
<li>éNPå®Œå…¨çš„NPå›°éš¾é—®é¢˜çš„ä¾‹å­æœ‰åœæœºé—®é¢˜å’Œå¸ƒå°”å¯æ»¡è¶³æ€§é—®é¢˜ï¼ˆ SATï¼‰ï¼</li>
</ol>
<hr>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>ç®—æ³•æ˜¯é€šç”¨çš„ï¼Œå­¦ä¹ è¿™äº›æ•°æ®ç»“æ„ç›¸å…³çš„å®é™…ä¸Šæ˜¯æ— å…³ç®—æ³•å®ç°çš„ï¼Œåªè¦ç†è§£äº†æ•°æ®ç»“æ„å°±å¯ä»¥ä½¿ç”¨å­¦è¿‡çš„è¯­è¨€æ¥å®ç°ï¼</p>
]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
  </entry>
  <entry>
    <title>JavaScript å…¨æ ˆå¿«é€Ÿå¼€å‘åŸºç¡€</title>
    <url>/2020/06/17/JavaScript-%E5%85%A8%E6%A0%88%E5%BF%AB%E9%80%9F%E5%BC%80%E5%8F%91%E5%9F%BA%E7%A1%80/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>æŠ€æœ¯æ ˆåŒ…å«Node.jsã€ MongoDBã€Twitter Bootstrapã€LESSã€jQueryã€Parse.comã€Herokuã€‚å¿«é€Ÿå…¥é—¨å…¶å®å°±æ˜¯åŠ¨æ‰‹å®è·µå°ä¾‹ç¨‹ï¼Œä»æ•ˆæœä¸Šå¯¹å…¶è¿›è¡Œè®¤çŸ¥ï¼ <strong>æ¨èä¹¦ç±ï¼šã€ŠJavaScript å¿«é€Ÿå…¨æ ˆå¼€å‘ã€‹Â· [ç¾] Azat Mardanov è‘— èƒ¡æ³¢ è¯‘</strong>   </p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="åŸºç¡€çŸ¥è¯†"><a href="#åŸºç¡€çŸ¥è¯†" class="headerlink" title="åŸºç¡€çŸ¥è¯†"></a>åŸºç¡€çŸ¥è¯†</h2><ol>
<li>Web å’Œç§»åŠ¨åº”ç”¨å¼€å‘è¿‡ç¨‹ä¸€èˆ¬åŒ…å«ä»¥ä¸‹æ­¥éª¤ï¼š<ol>
<li>ç”¨æˆ·åœ¨æµè§ˆå™¨ï¼ˆå®¢æˆ·ç«¯ï¼‰é‡Œè¾“å…¥æˆ–è€…ç‚¹å‡»ä¸€ä¸ªé“¾æ¥</li>
<li>æµè§ˆå™¨å‘æœåŠ¡å™¨å‘é€ HTTP è¯·æ±‚</li>
<li>æœåŠ¡å™¨å¤„ç†è¯·æ±‚ï¼Œå¦‚æœæŸ¥è¯¢å­—ç¬¦ä¸²æˆ–è€…è¯·æ±‚ä½“é‡Œå«æœ‰å‚æ•°ï¼ŒæœåŠ¡å™¨ä¹Ÿä¼šæŠŠè¿™äº›å‚æ•°ä¿¡æ¯è€ƒè™‘è¿›å»</li>
<li>æœåŠ¡å™¨æ›´æ–°ã€è·å–æˆ–è€…è½¬æ¢æ•°æ®åº“é‡Œçš„æ•°æ®</li>
<li>æœåŠ¡å™¨ä»¥ HTMLã€JSON æˆ–è€…å…¶ä»–æ ¼å¼è¿”å›ä¸€ä¸ª HTTP å“åº”</li>
<li>æµè§ˆå™¨æ¥æ”¶ HTTP å“åº”</li>
<li>æµè§ˆå™¨ä»¥ HTML æˆ–è€…å…¶ä»–æ ¼å¼ï¼ˆæ¯”å¦‚ JPEGã€XML æˆ–è€… JSONï¼‰æŠŠ HTTP å“åº”å‘ˆç°ç»™ç”¨æˆ·</li>
</ol>
</li>
<li>JSON åº“å¸®åŠ©æˆ‘ä»¬åºåˆ—åŒ–å’Œè§£æ JavaScript å¯¹è±¡ï¼›</li>
<li>ç»“å¯¹ç¼–ç¨‹æ˜¯ä¸¤ä¸ªå¼€å‘è€…åœ¨åŒä¸€ä¸ªç¯å¢ƒé‡Œä¸€èµ·å·¥ä½œçš„æŠ€æœ¯ã€‚å…¶ä¸­ä¸€ä¸ªå¼€å‘è€…ä¸ºâ€œé©¾é©¶å‘˜â€ï¼Œå¦ä¸€ä¸ªä¸ºâ€œè§‚å¯Ÿå‘˜â€ã€‚é©¾é©¶å‘˜ä¸»è¦è´Ÿè´£å†™ä»£ç ï¼Œè§‚å¯Ÿå‘˜å›´è§‚å¹¶ä¸”æä¾›å»ºè®®ï¼›</li>
<li>äº‘è®¡ç®—ç”±ä¸‹åˆ—æœåŠ¡ç»„æˆï¼š<ul>
<li>åŸºç¡€è®¾æ–½å³æœåŠ¡ï¼ˆIaaSï¼‰</li>
<li>å¹³å°å³æœåŠ¡ï¼ˆPaaSï¼‰</li>
<li>åç«¯å³æœåŠ¡ï¼ˆBaaSï¼Œæœ€æ–°ã€æœ€é…·çš„ä¸€ç§ï¼‰</li>
<li>è½¯ä»¶å³æœåŠ¡ï¼ˆSaaSï¼‰</li>
</ul>
</li>
<li>äº‘åº”ç”¨å¹³å°å…·å¤‡ä»¥ä¸‹åŠŸèƒ½ï¼š<ul>
<li>å¯ä¼¸ç¼©æ€§</li>
<li>éƒ¨ç½²ç®€å•</li>
<li>ç°æ”¶ç°ä»˜åˆ¶ï¼Œç”¨æˆ·æ ¹æ®éœ€è¦æ·»åŠ å’Œåˆ é™¤å†…å­˜åŠç£ç›˜ç©ºé—´</li>
<li>å¯æ‰©å±•ï¼Œæ–¹ä¾¿å®‰è£…å’Œè®¾ç½®æ•°æ®åº“ã€åº”ç”¨æœåŠ¡å™¨ã€ç¨‹åºåŒ…ç­‰</li>
<li>å®‰å…¨å’ŒæŠ€æœ¯æ”¯æŒ</li>
</ul>
</li>
<li>JSON å·²ç»æˆä¸º Web å’Œç§»åŠ¨åº”ç”¨ä¸åŒç»„ä»¶é—´ã€åŒç¬¬ä¸‰æ–¹æœåŠ¡é—´æ•°æ®äº¤æ¢çš„æ ‡å‡†æ ¼å¼ï¼›</li>
</ol>
<h2 id="Node-js-å’Œ-MongoDB"><a href="#Node-js-å’Œ-MongoDB" class="headerlink" title="Node.js å’Œ MongoDB"></a>Node.js å’Œ MongoDB</h2><ol>
<li><p>Node.js å¹¶æ²¡æœ‰è‡ªå¸¦ä¸€ä¸ªåºå¤§çš„æ ‡å‡†åº“ï¼Œæ ¸å¿ƒæ¨¡å—æ˜¯éå¸¸å°çš„ï¼Œå…¶ä»–çš„æ¨¡å—å¯ä»¥é€šè¿‡ NPMï¼ˆNodejs Package Managerï¼‰è·å–ï¼›</p>
</li>
<li><p>åˆ›å»ºä¸€ä¸ªæœåŠ¡å™¨å¹¶ä¸”æš´éœ²åˆ°æ¨¡å—å¤–ï¼Œè¿™æ ·å°±å¯ä»¥ä¾›åˆ«çš„ä»£ç ä½¿ç”¨ï¼›</p>
</li>
<li><p>å€¼å¾—å…³æ³¨çš„ Node.js æ¡†æ¶ï¼š</p>
<ul>
<li>Derbyï¼ŒMVC æ¡†æ¶ï¼Œç”¨æ¥æ„å»ºåœ¨ Node.js å’Œæµè§ˆå™¨é‡Œè¿è¡Œçš„å®æ—¶ã€åä½œåº”ç”¨</li>
<li>Express.jsï¼Œæœ€å¥å£®ã€æµ‹è¯•æœ€å®Œå–„ã€ä½¿ç”¨æœ€å¤šçš„ Node.js æ¡†æ¶</li>
<li>Restifyï¼Œæ„å»º REST API æœåŠ¡å™¨çš„è½»é‡çº§æ¡†æ¶</li>
<li>Sails.jsï¼ŒMVC Node.js æ¡†æ¶</li>
<li>hapiï¼Œåœ¨ Express.js åŸºç¡€ä¸Šæ„å»ºçš„ Node.js æ¡†æ¶</li>
<li>Connect ï¼Œnode ä¸­é—´ä»¶æ¡†æ¶ï¼Œå†…ç½®è¶…è¿‡ 18 ä¸ªä¸­é—´ä»¶ï¼Œå¹¶ä¸”æ‹¥æœ‰å¤§é‡å¯é€‰çš„ç¬¬ä¸‰æ–¹ä¸­é—´ä»¶</li>
<li>GeddyJSï¼Œä¸€ä¸ªç®€å•çš„ç»“æ„åŒ–çš„ Node MVC Web æ¡†æ¶</li>
<li>CompoundJSï¼Œåœ¨ ExpressJS åŸºç¡€ä¸Šæ„å»ºçš„ Node.js MVC æ¡†æ¶</li>
<li>Tower.jsï¼Œä¸º Node.js å’Œæµè§ˆå™¨å¼€å‘çš„å…¨æ ˆ Web æ¡†æ¶</li>
<li>Meteorï¼Œåªéœ€ç”¨å¾ˆå°‘çš„æ—¶é—´å°±å¯ä»¥æ„å»ºå‡ºé«˜è´¨é‡ Web åº”ç”¨çš„å¼€æºå¹³å°</li>
</ul>
</li>
<li><p>å®‰è£… MongoDB çš„åŸç”Ÿ Node.js é©±åŠ¨ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">npm install mongodb</span><br></pre></td></tr></table></figure>
</li>
<li><p>å¯ä»¥ä½¿ç”¨ä¸€äº›åˆ«çš„å°è£…å¥½çš„æ¨¡å—ï¼Œå®ƒä»¬æ˜¯åŸç”Ÿé©±åŠ¨çš„æ‰©å±•:</p>
<ul>
<li>Mongoskinï¼Œnode-mongodb-native çš„æœªæ¥åŒ…è£…å±‚</li>
<li>Mongooseï¼Œå¸¦æœ‰å¯é€‰çš„å»ºæ¨¡åŠŸèƒ½çš„å¼‚æ­¥ JavaScript é©±åŠ¨å™¨</li>
<li>Mongoliaï¼Œè½»é‡çº§ MongoDB ORM/é©±åŠ¨å™¨åŒ…è£…å™¨</li>
<li>Monkï¼Œä¸€ä¸ªå°å‹çš„åŒ…è£…å±‚ï¼Œç»™ Node.js é‡Œä½¿ç”¨ MongoDB æä¾›äº†ç®€å•ä¸”æ›´æ˜“ç”¨çš„å¢å¼º</li>
</ul>
</li>
<li><p>Binary JSONï¼Œä¹Ÿå« BSONï¼Œå®ƒæ˜¯ MongoDB ä½¿ç”¨çš„ä¸€ç§ä¸“æœ‰çš„æ•°æ®ç±»å‹ï¼›</p>
</li>
<li><p>MongoHQ æœåŠ¡ä½¿å¾—åœ¨ 15 åˆ†é’Ÿå†…æ¢å¤æ•°æ®åº“ã€‚è¿›è¡Œè¿™ä¸ªæ“ä½œæœ‰ä¸¤ç§é€‰æ‹©ï¼š</p>
<ul>
<li>Mongo shell è„šæœ¬</li>
<li>Node.js ç¨‹åº</li>
</ul>
</li>
<li><p>Mochaæ˜¯ä¸€ä¸ªæµ‹è¯•é©±åŠ¨å¼€å‘çš„åº“ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">npm install -g mocha</span><br></pre></td></tr></table></figure>
</li>
<li><p>Wintersmith æ˜¯ä¸€ä¸ª Node.js é™æ€ç½‘ç«™ç”Ÿæˆå™¨ï¼Œå¯ä»¥ä½¿ç”¨æ¨¡æ¿åˆ›å»ºé¡µé¢ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">npm install -g wintersmith</span><br></pre></td></tr></table></figure>
</li>
<li><p>Node.js é™æ€ç½‘ç«™ç”Ÿæˆå™¨è¿˜æœ‰ï¼š</p>
<ul>
<li>Docpad</li>
<li>Blacksmith</li>
<li>Scotch</li>
<li>Wheat</li>
<li>Petrify</li>
</ul>
</li>
</ol>
<hr>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>Nodejsè¿˜æ˜¯éå¸¸ä¸é”™çš„é¡¹ç›®çš„ï¼Œæœ‰å¾ˆå¤šå¼€å…ƒæ¡†æ¶å¯ä»¥ä½¿ç”¨ï¼Œå·¥ä½œä¸­éœ€è¦é˜…è¯»è¿™äº›ä»£ç ï¼Œå¤šæŒæ¡ç‚¹å¯¹äºæˆ‘çš„æ„è¯†æµç¼–ç¨‹çš„å½¢æˆéå¸¸æœ‰å¸®åŠ©ï¼ŒåŠ æ²¹ï¼</p>
]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
  </entry>
  <entry>
    <title>JavaScript åŸºç¡€å†åº¦å¼ºåŒ–</title>
    <url>/2020/06/19/JavaScript-%E5%9F%BA%E7%A1%80%E5%86%8D%E5%BA%A6%E5%BC%BA%E5%8C%96/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>ECMAScript 6æœ‰å¯èƒ½ä¼šç»™JavaScriptä»¥åŠç¼–ç æ–¹å¼å¸¦æ¥å·¨å¤§çš„è½¬å˜ã€‚Node.jså·²ç»æ”¹å˜äº†æˆ‘ä»¬ä½¿ç”¨JavaScriptç¼–å†™æœåŠ¡å™¨çš„æ–¹æ³•ï¼Œè€ŒåƒReactå’ŒFluxè¿™äº›æ–°ç†å¿µå°†ä¼šæ¨åŠ¨JavaScriptçš„å†æ¬¡è¿­ä»£ï¼åœ¨å­¦ä¹ è¿™äº›æ–°ç‰¹æ€§çš„åŒæ—¶ï¼Œä¸åº”è¯¥å¿½ç•¥é‚£äº›å¿…é¡»æŒæ¡çš„JavaScriptåŸºç¡€çŸ¥è¯†ã€‚<strong>æ¨èä¹¦ç±ï¼šã€ŠJavaScript ç¼–ç¨‹ç²¾ç²¹ã€‹Â· [å°åº¦] Ved Antani è‘— é—¨ä½³ è¯‘</strong>         </p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="å‡½æ•°ã€é—­åŒ…ä¸æ¨¡å—"><a href="#å‡½æ•°ã€é—­åŒ…ä¸æ¨¡å—" class="headerlink" title="å‡½æ•°ã€é—­åŒ…ä¸æ¨¡å—"></a>å‡½æ•°ã€é—­åŒ…ä¸æ¨¡å—</h2><ol>
<li><p>åœ¨JavaScriptä¸­ï¼Œå¯¹è±¡ã€å‡½æ•°å’Œé—­åŒ…ä¹‹é—´å­˜åœ¨ç€ç´§å¯†çš„è”ç³»ï¼Œè€Œç†è§£è¿™ç§è”ç³»èƒ½å¤Ÿæå¤§åœ°å¢å¼ºä½ çš„JavaScriptç¼–ç¨‹æŠ€è‰ºï¼Œä¸ºå¼€å‘å„ç§åº”ç”¨ç¨‹åºæ‰“ä¸‹åšå®çš„åŸºç¡€ï¼›</p>
</li>
<li><p>åœ¨JavaScriptä¸­ï¼Œå¯¹è±¡ã€å‡½æ•°å’Œé—­åŒ…ä¹‹é—´å­˜åœ¨ç€ç´§å¯†çš„è”ç³»ï¼Œè€Œç†è§£è¿™ç§è”ç³»èƒ½å¤Ÿæå¤§åœ°å¢å¼º ä½ çš„JavaScriptç¼–ç¨‹æŠ€è‰ºï¼Œä¸ºå¼€å‘å„ç§åº”ç”¨ç¨‹åºæ‰“ä¸‹åšå®çš„åŸºç¡€ï¼›</p>
</li>
<li><p>å¦‚åŒJavaScriptä¸­çš„å…¶ä»–å¯¹è±¡ï¼Œå‡½æ•°å¯ä»¥ï¼š</p>
<ul>
<li>é€šè¿‡å­—é¢å½¢å¼åˆ›å»º</li>
<li>å¯ä»¥èµ‹å€¼ç»™å˜é‡ã€æ•°ç»„å…ƒç´ ä»¥åŠå…¶ä»–å¯¹è±¡çš„å±æ€§</li>
<li>å¯ä»¥ä½œä¸ºå‡½æ•°å‚æ•°ä¼ é€’</li>
<li>å¯ä»¥ä½œä¸ºå‡½æ•°å€¼è¿”å›</li>
<li>å¯ä»¥æ‹¥æœ‰èƒ½åŠ¨æ€åˆ›å»ºå’Œèµ‹å€¼çš„å±æ€§</li>
</ul>
</li>
<li><p>å£°æ˜çš„æ‰€æœ‰å˜é‡é»˜è®¤éƒ½æ˜¯å®šä¹‰åœ¨å…¨å±€ä½œç”¨åŸŸä¸­ï¼Œè¿™æ˜¯JavaScriptæœ€æ¼äººçš„è®¾è®¡å†³å®šä¹‹ä¸€ï¼›</p>
</li>
<li><p>Emscriptenï¼ˆ <a href="http://kripken.github.io/emscripten-site/ï¼‰ï¼Œè¿™æ˜¯ä¸€ä¸ªåŸºäºä½å±‚è™šæ‹Ÿæœºï¼ˆ" target="_blank" rel="noopener">http://kripken.github.io/emscripten-site/ï¼‰ï¼Œè¿™æ˜¯ä¸€ä¸ªåŸºäºä½å±‚è™šæ‹Ÿæœºï¼ˆ</a> Low-Level Virtual Machineï¼Œ LLVMï¼‰çš„é¡¹ç›®ï¼Œå®ƒèƒ½å¤Ÿå°†Cå’ŒC++ä»£ç ç¼–è¯‘æˆé«˜åº¦ä¼˜åŒ–çš„asm.jsæ ¼å¼çš„JavaScriptä»£ç  ï¼›</p>
</li>
<li><p>åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œå¹¶ä¸æ˜¯éå¾—ä¾èµ–é«˜ç²¾åº¦å°æ•°ï¼Œä½†å¦‚æœçœŸçš„éœ€è¦çš„è¯ï¼Œå¯ä»¥å°è¯•ä½¿ç”¨big.jsï¼ˆ <a href="https://github.com/MikeMcl/big.jsï¼‰è¿™ç±»åº“æ¥è§£å†³é—®é¢˜" target="_blank" rel="noopener">https://github.com/MikeMcl/big.jsï¼‰è¿™ç±»åº“æ¥è§£å†³é—®é¢˜</a> ï¼› </p>
</li>
<li><p>eval()æ–¹æ³•å¯ä»¥æ¥å—ä¸€ä¸ªåŒ…å«JavaScriptä»£ç çš„å­—ç¬¦ä¸²ï¼Œç„¶åç¼–è¯‘å¹¶æ‰§è¡Œï¼›</p>
</li>
<li><p>åœ¨è§£æä¸€ä¸ªå˜é‡æ—¶ï¼Œ JavaScriptä»æœ€å†…çš„ä½œç”¨åŸŸå¼€å§‹å‘å¤–æœç´¢ï¼›</p>
</li>
<li><p>ä¸èƒ½åœ¨æ¡ä»¶è¯­å¥å—ä¸­ä½¿ç”¨å‡½æ•°å£°æ˜ï¼Œå‡½æ•°å£°æ˜åªå…è®¸å‡ºç°åœ¨ç¨‹åºæˆ–è€…å‡½æ•°ä½“ä¸­ï¼Œä¸èƒ½å‡ºç°åœ¨å—ç»“æ„ï¼ˆ {â€¦}ï¼‰ä¸­ï¼Œå› ä¸ºå‡ ä¹æ‰€æœ‰çš„JavaScriptå®ç°åœ¨è¿™ä¸€ç‚¹ä¸Šçš„è¡Œä¸ºéƒ½å„ä¸ç›¸åŒ  ï¼›</p>
</li>
<li><p>argumentså‚æ•°æ˜¯ä¼ é€’ç»™å‡½æ•°çš„æ‰€æœ‰å‚æ•°çš„é›†åˆï¼Œ argumentsä¸æ˜¯æ•°ç»„ï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡æ–¹æ³•è½¬æ¢è¾“å‡ºæ•°ç»„ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> sum = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">	<span class="keyword">var</span> i, total = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="built_in">arguments</span>.length; i += <span class="number">1</span>) &#123;</span><br><span class="line">		total += <span class="built_in">arguments</span>[i];</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> total;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">console</span>.log(sum(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>)); <span class="comment">// æ‰“å°å‡º45</span></span><br><span class="line"><span class="built_in">console</span>.log(sum(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>)); <span class="comment">// æ‰“å°å‡º15</span></span><br><span class="line"><span class="comment">// è½¬æ¢è¾“å‡ºæ•°ç»„</span></span><br><span class="line"><span class="keyword">var</span> args = <span class="built_in">Array</span>.prototype.slice.call(<span class="built_in">arguments</span>);</span><br></pre></td></tr></table></figure>
</li>
<li><p>è¦æƒ³ä½¿ç”¨apply()æ–¹æ³•è°ƒç”¨å‡½æ•°ï¼Œéœ€è¦ä¼ å…¥ä¸¤ä¸ªå‚æ•°ï¼šä½œä¸ºå‡½æ•°ä¸Šä¸‹æ–‡çš„å¯¹è±¡ä»¥åŠä½œä¸ºè°ƒç”¨å‚æ•°çš„æ•°ç»„ã€‚ call()æ–¹æ³•çš„ç”¨æ³•ä¹Ÿå·®ä¸å¤šï¼Œé™¤äº†è°ƒç”¨å‚æ•°ä¸èƒ½ä½œä¸ºæ•°ç»„ä¼ å…¥ï¼Œè€Œæ˜¯è¦ç›´æ¥å†™æˆå‚æ•°åˆ—è¡¨çš„å½¢å¼ä¼ å…¥ï¼›</p>
</li>
<li><p>é—­åŒ…åœ¨JavaScriptä¸­æ˜¯æ— æ‰€ä¸åœ¨çš„ï¼Œæ˜¯åœ¨å‡½æ•°å£°æ˜æ—¶æ‰€åˆ›å»ºçš„ä½œç”¨åŸŸï¼Œä½¿å¾—å‡½æ•°èƒ½å¤Ÿè®¿é—®å¹¶å¤„ç†å‡½æ•°çš„å¤–éƒ¨å˜é‡ ï¼Œå³é—­åŒ…å¯ä»¥è®©å‡½æ•°è®¿é—®åˆ°åœ¨å‡½æ•°å£°æ˜æ—¶å¤„äºä½œç”¨åŸŸä¸­çš„æ‰€æœ‰å˜é‡ä»¥åŠå…¶ä»–å‡½æ•°ï¼ </p>
</li>
</ol>
<h2 id="JavaScript-amp-æ•°æ®ç»“æ„"><a href="#JavaScript-amp-æ•°æ®ç»“æ„" class="headerlink" title="JavaScript&amp;æ•°æ®ç»“æ„"></a>JavaScript&amp;æ•°æ®ç»“æ„</h2><ol>
<li><p>å¤§å¤šæ•°æœ‰ç»éªŒçš„å·¥ç¨‹å¸ˆéƒ½ç¦»ä¸å¼€æ­£åˆ™è¡¨è¾¾å¼ï¼Œç”¨èµ·æ¥æ—¢ç²¾ç‚¼åˆæ˜“äºæµ‹è¯•ï¼›</p>
</li>
<li><p>é€šè¿‡æ­£åˆ™è¡¨è¾¾å¼å­—é¢é‡å’Œæ„é€ RegExpå¯¹è±¡çš„å®ä¾‹æ¥åˆ›å»ºæ­£åˆ™è¡¨è¾¾å¼ï¼›</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> pattern = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">"test"</span>);</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ•°ç»„æ˜¯å€¼çš„æœ‰åºé›†åˆï¼Œå¯ä»¥ä½¿ç”¨åç§°å’Œç´¢å¼•æ¥å¼•ç”¨æ•°ç»„å…ƒç´ ï¼šã€</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = <span class="keyword">new</span> <span class="built_in">Array</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>);</span><br><span class="line"><span class="keyword">var</span> arr = <span class="built_in">Array</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>);</span><br><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br></pre></td></tr></table></figure>
</li>
<li><p>JavaScriptå…è®¸æ•°ç»„ä¸­åŒ…å«å„ç§ç±»å‹çš„å€¼ï¼Œåœ¨å†…éƒ¨æ˜¯å°†æ•°ç»„å…ƒç´ ä½œä¸ºæ ‡å‡†çš„å¯¹è±¡å±æ€§æ¥å­˜å‚¨çš„ï¼Œæ•°ç»„ç´¢å¼•å°±æ˜¯å±æ€§åï¼  </p>
</li>
<li><p>æ•°ç»„æ–¹æ³•ï¼š</p>
<ul>
<li>concat()æ–¹æ³•èƒ½å¤Ÿåˆå¹¶ä¸¤ä¸ªæ•°ç»„ï¼Œå¹¶è¿”å›åˆå¹¶åçš„æ–°æ•°ç»„  </li>
<li>join()æ–¹æ³•èƒ½å¤Ÿå°†æ•°ç»„çš„æ‰€æœ‰å…ƒç´ åˆå¹¶æˆä¸€ä¸ªå­—ç¬¦ä¸² </li>
<li>pop()æ–¹æ³•èƒ½å¤Ÿåˆ é™¤æ•°ç»„æœ€åä¸€ä¸ªå…ƒç´ å¹¶å°†å…¶è¿”å›  </li>
<li>push()æ–¹æ³•èƒ½å¤Ÿåœ¨æ•°ç»„å°¾éƒ¨æ·»åŠ ä¸€ä¸ªæˆ–å¤šä¸ªå…ƒç´ ï¼Œå¹¶è¿”å›æœ€ç»ˆçš„æ•°ç»„é•¿åº¦  </li>
<li>shift()æ–¹æ³•èƒ½å¤Ÿåˆ é™¤æ•°ç»„ç¬¬ä¸€ä¸ªå…ƒç´ å¹¶å°†å…¶è¿”å›  </li>
<li>unshift()æ–¹æ³•èƒ½å¤Ÿåœ¨æ•°ç»„çš„å¤´éƒ¨æ·»åŠ ä¸€ä¸ªæˆ–å¤šä¸ªå…ƒç´ ï¼Œå¹¶è¿”å›æ•°ç»„æ–°çš„é•¿åº¦  </li>
<li>reverse()æ–¹æ³•èƒ½å¤Ÿåè½¬æˆ–è€…è¯´é¢ å€’æ•°ç»„å…ƒç´   </li>
<li>sort()æ–¹æ³•èƒ½å¤Ÿå¯¹æ•°ç»„å…ƒç´ è¿›è¡Œæ’åº  </li>
<li>indexOf(searchElement[, fromIndex])æ–¹æ³•åœ¨æ•°ç»„ä¸­æœç´¢searchElementï¼Œå¹¶è¿”å›ç¬¬ä¸€æ¬¡åŒ¹é…çš„ç´¢å¼•  </li>
<li>lastIndexOf(searchElement[, fromIndex]) æ–¹æ³•åŒindexOfç±»ä¼¼ï¼Œä½†æ˜¯ä»åå‘å‰æœç´¢</li>
</ul>
</li>
<li><p>Underscore.jsæä¾›äº†ä¸€æ‰¹æå…¶æœ‰ç”¨çš„å‡½æ•°å¼ç¼–ç¨‹è¾…åŠ©ç¨‹åºï¼Œèƒ½å¤Ÿè®©ä½ çš„ä»£ç æ›´åŠ æ¸…æ™°å’Œå‡½æ•°åŒ–</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">npm install underscore</span><br></pre></td></tr></table></figure>
</li>
<li><p>Underscoreæ ·ä¾‹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> _ = <span class="built_in">require</span>(<span class="string">'underscore'</span>);</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">print</span>(<span class="params">n</span>)</span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log(n);</span><br><span class="line">&#125;</span><br><span class="line">_.each([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], print);</span><br><span class="line"><span class="comment">// æ‰“å°å‡º1 2 3</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>mapæ˜¯ä¸€ä¸ªç®€å•çš„é”®å€¼æ˜ å°„ï¼Œå¯ä»¥ä¾æ®å…ƒç´ çš„æ’å…¥é¡ºåºè¿›è¡Œè¿­ä»£ï¼›</p>
</li>
<li><p>setæ˜¯å€¼çš„é›†åˆï¼Œå¯ä»¥ä¾æ®å…¶æ’å…¥é¡ºåºè¿›è¡Œè¿­ä»£ï¼Œå…¶ä¸­çš„å€¼åªèƒ½å‡ºç°ä¸€æ¬¡ï¼</p>
</li>
</ol>
<h2 id="é¢å‘å¯¹è±¡"><a href="#é¢å‘å¯¹è±¡" class="headerlink" title="é¢å‘å¯¹è±¡"></a>é¢å‘å¯¹è±¡</h2><ol>
<li>JavaScriptå¯¹è±¡å¯è§†ä¸ºå¯ä¿®æ”¹ï¼ˆ mutableï¼‰çš„é”®å€¼é›†åˆï¼›</li>
<li>é¢å‘å¯¹è±¡è®¾è®¡çš„ä¸¤æ¡åŸºæœ¬åŸåˆ™ï¼š  <ul>
<li>é’ˆå¯¹æ¥å£ç¼–ç¨‹ï¼Œè€Œéå®ç°ï¼ˆ Program to an interface and not to an implementationï¼‰  </li>
<li>å¯¹è±¡çš„ç»„åˆä¼˜äºç±»çš„ç»§æ‰¿ï¼ˆ Object composition over class inheritanceï¼‰</li>
</ul>
</li>
<li>JavaScriptå‡ ä¹æ‰€æœ‰çš„å¯¹è±¡éƒ½æœ‰ä¸€ä¸ªå«ä½œprototypeçš„é»˜è®¤å±æ€§ï¼Œå¦‚æœå¯¹è±¡æ²¡æœ‰æ‰€è¯·æ±‚çš„å±æ€§ï¼Œ JavaScriptä¼šåˆ°åŸå‹ä¸­å»æŸ¥æ‰¾ã€‚ Object.getPrototypeOf()æ–¹æ³•ä¼šè¿”å›å¯¹è±¡çš„åŸå‹ï¼</li>
<li>åŸå‹å¯è§†ä¸ºå¯¹è±¡åˆ›å»ºçš„æ¨¡æ¿ï¼Œå®ƒç±»ä¼¼äºé¢å‘å¯¹è±¡è¯­è¨€ä¸­çš„ç±»ï¼›</li>
<li>JavaScriptä¼šå»å¯¹è±¡åŸå‹ä¸­æœç´¢ï¼Œè¿™å°±åƒæ˜¯ä»£ç å®æ—¶åŠ è½½ï¼ˆ hot code loadingï¼‰ï¼›</li>
<li>ä½œä¸ºä¸€ç§æ— ç±»çš„è¯­è¨€ï¼Œ JavaScriptåˆ©ç”¨åŸå‹æ¥å®ç°ç»§æ‰¿ï¼›</li>
</ol>
<h2 id="JavaScriptè®¾è®¡æ¨¡å¼"><a href="#JavaScriptè®¾è®¡æ¨¡å¼" class="headerlink" title="JavaScriptè®¾è®¡æ¨¡å¼"></a>JavaScriptè®¾è®¡æ¨¡å¼</h2><ol>
<li>æ¨¡å¼ä¸ºå¸¸è§é—®é¢˜æä¾›äº†è¡Œä¹‹æœ‰æ•ˆçš„è§£å†³æ–¹æ¡ˆï¼šæ¨¡å¼æä¾›äº†è§£å†³ç‰¹å®šé—®é¢˜çš„ä¼˜åŒ–æ¨¡æ¿ï¼›</li>
<li>å°½ç®¡æˆ‘ä»¬è¦èŠ±è´¹å¤§é‡çš„æ—¶é—´å’Œç²¾åŠ›æ¥é¢†ä¼šå¹¶æŒæ¡è®¾è®¡æ¨¡å¼ï¼Œä½†ç†è§£åæ¨¡å¼ï¼ˆ anti-patternï¼‰ä»¥åŠå¦‚ä½•é¿å…è®¾è®¡é™·é˜±ä¹Ÿå¾ˆé‡è¦ï¼›</li>
<li>è®¾è®¡æ¨¡å¼åˆ†ç±»ï¼š<ul>
<li>åˆ›å»ºå‹è®¾è®¡æ¨¡å¼ï¼Œç”¨äºåˆ›å»ºå¯¹è±¡çš„å„ç§æœºåˆ¶  </li>
<li>ç»“æ„å‹è®¾è®¡æ¨¡å¼ï¼Œå¯¹è±¡çš„ç»„æˆä»¥åŠå¯¹è±¡å½¼æ­¤ä¹‹é—´çš„å…³ç³»  </li>
<li>è¡Œä¸ºå‹è®¾è®¡æ¨¡å¼ ï¼Œå¯¹è±¡ä¹‹é—´çš„ä¾èµ–å…³ç³»ä»¥åŠé€šä¿¡  </li>
</ul>
</li>
<li>åˆ›å»ºæ¨¡å¼ï¼š<ul>
<li>å·¥å‚æ–¹æ³•ï¼ˆ Factory methodï¼‰  </li>
<li>æŠ½è±¡å·¥å‚ï¼ˆ Abstract factoryï¼‰  </li>
<li>å»ºé€ è€…ï¼ˆ Builderï¼‰  </li>
<li>åŸå‹ï¼ˆ Prototypeï¼‰ </li>
<li>å•ä¾‹ï¼ˆ Singletonï¼‰  </li>
</ul>
</li>
<li>ç»“æ„å‹æ¨¡å¼ï¼š<ul>
<li>é€‚é…å™¨ï¼ˆ Adapterï¼‰  </li>
<li>æ¡¥æ¥ï¼ˆ Bridgeï¼‰  </li>
<li>ç»„åˆï¼ˆ Compositeï¼‰  </li>
<li>è£…é¥°å™¨ï¼ˆ Decoratorï¼‰  </li>
<li>å¤–è§‚ï¼ˆ FaÃ§adeï¼‰</li>
<li>äº«å…ƒï¼ˆ Flyweightï¼‰   </li>
<li>ä»£ç†ï¼ˆ Proxyï¼‰  </li>
</ul>
</li>
<li>è¡Œä¸ºå‹æ¨¡å¼ï¼š<ul>
<li>è§£é‡Šå™¨ï¼ˆ Interpreterï¼‰    </li>
<li>æ¨¡æ¿æ–¹æ³•ï¼ˆ Template methodï¼‰ </li>
<li>è´£ä»»é“¾ï¼ˆ Chain of responsibilityï¼‰   </li>
<li>å‘½ä»¤ï¼ˆ Commandï¼‰  </li>
<li>è¿­ä»£å™¨ï¼ˆ Iteratorï¼‰  </li>
<li>ä¸­ä»‹è€…ï¼ˆ Mediatorï¼‰  </li>
<li>å¤‡å¿˜å½•ï¼ˆ Mementoï¼‰  </li>
<li>è§‚å¯Ÿè€…ï¼ˆ Observerï¼‰  </li>
<li>çŠ¶æ€ï¼ˆ Stateï¼‰  </li>
<li>ç­–ç•¥ï¼ˆ Strategyï¼‰  </li>
<li>è®¿é—®è€…ï¼ˆ Visitorï¼‰  </li>
</ul>
</li>
<li><strong>è¯¦ç»†çš„åœ¨JavaScriptè®¾è®¡æ¨¡å¼ä¸­æ·±å…¥å­¦ä¹ ï¼</strong></li>
</ol>
<h2 id="æµ‹è¯•å’Œè°ƒè¯•"><a href="#æµ‹è¯•å’Œè°ƒè¯•" class="headerlink" title="æµ‹è¯•å’Œè°ƒè¯•"></a>æµ‹è¯•å’Œè°ƒè¯•</h2><ol>
<li>æµ‹è¯•å¿…é¡»èƒ½å¤Ÿè¦†ç›–ä»£ç æ‰€æœ‰é‡è¦çš„åŠŸèƒ½ï¼Œä»¥ç¡®ä¿ä»¥ä¸‹è¦ç‚¹ï¼š<ul>
<li>ç°æœ‰ä»£ç çš„è¡Œä¸ºå’Œè§„èŒƒä¸­çš„ä¸€è‡´</li>
<li>æ–°ä»£ç ä¸ä¼šè¿èƒŒè§„èŒƒæ‰€å®šä¹‰çš„è¡Œä¸º</li>
</ul>
</li>
<li>æµ‹è¯•è¦†ç›–é¢çš„æœ€æ˜¾è‘—ä¼˜åŠ¿åœ¨äºå®ƒèƒ½å¤Ÿç¡®ä¿æ¨é€åˆ°ç”Ÿäº§ç³»ç»Ÿçš„ä»£ç å‡ ä¹æ˜¯æ²¡æœ‰é”™è¯¯çš„ã€‚</li>
<li>åœ¨å¤„ç†ç”±ä»–äººæˆ–å¤§å‹åˆ†æ•£å¼å›¢é˜Ÿç¼–å†™çš„ä»£ç æ—¶ï¼Œå¾ˆå®¹æ˜“å¼•å…¥é”™è¯¯ï¼ŒæŠŠäº‹æƒ…æç ¸ï¼›</li>
<li>ä¸æ„¿æ„é‡æ„æˆ–ä¼˜åŒ–ä»£ç ï¼Œæ˜¯å› ä¸ºä¸ç¡®å®šå¯¹ä»£ç åŸºç¡€åº“åšå‡ºçš„æ”¹åŠ¨ä¼šä¸ä¼šæ…ç¯“å­ï¼</li>
<li>ä¸€ä¸ªå•å…ƒæµ‹è¯•å…·æœ‰ä¸‹åˆ—åŠŸèƒ½ï¼š<ul>
<li>æµ‹è¯•å•ä¸ªé€»è¾‘åŠŸèƒ½</li>
<li>ä¸ä¾ç…§æŒ‡å®šçš„æ‰§è¡Œé¡ºåºè¿è¡Œ</li>
<li>è´Ÿè´£è‡ªèº«çš„ä¾èµ–å…³ç³»ä»¥åŠæ¨¡æ‹Ÿæ•°æ®ï¼ˆmock dataï¼‰</li>
<li>å¯¹äºç›¸åŒçš„è¾“å…¥ï¼Œæ€»æ˜¯è¿”å›ç›¸åŒçš„ç»“æœ</li>
<li>ä¸€ç›®äº†ç„¶ï¼Œå¯ç»´æŠ¤ï¼Œå…·æœ‰è‰¯å¥½çš„å¯è¯»æ€§</li>
</ul>
</li>
<li>æµ‹è¯•é©±åŠ¨å¼€å‘ï¼ˆtest-driven developmentï¼ŒTDDï¼‰è¿‘å‡ å¹´æ¥å£°åå“è¶Šï¼›</li>
<li>åƒIntelliJå’ŒWebStormè¿™æ ·çš„IDEï¼Œå¯¹JavaScriptåŠNode.jsè°ƒè¯•æä¾›äº†å¾ˆå¥½çš„æ”¯æŒï¼›</li>
<li>Chrome DevToolsåŒ…å«è®¸å¤šæœ‰ç”¨çš„å·¥å…·ï¼š<ul>
<li>Elementsé¢æ¿å¯ä»¥å¸®åŠ©ä½ æ£€æŸ¥å’Œç›‘è§†DOMæ ‘ä»¥åŠç›¸å…³çš„æ ·å¼è¡¨å•</li>
<li>Networké¢æ¿æœ‰åŠ©äºç†è§£ç½‘ç»œæ´»åŠ¨</li>
<li>Sourcesé¢æ¿ï¼ŒJavaScriptæºä»£ç ä»¥åŠè°ƒè¯•å™¨ä¼šåœ¨è¯¥é¢æ¿ä¸­æ˜¾ç¤º</li>
</ul>
</li>
</ol>
<hr>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>å°±åƒæ‰€æœ‰çš„æ‰‹è‰ºä¸€æ ·ï¼Œç¼–ç¨‹ä¹Ÿéœ€è¦å…¨èº«å¿ƒçš„æŠ•å…¥å’Œè‡ªå¾‹ï¼JavaScriptæ˜¯ä¸€é—¨é«˜çº§ã€åŠ¨æ€ã€æ— ç±»å‹ã€è½»é‡çš„è§£é‡Šå‹ç¼–ç¨‹è¯­è¨€ï¼Œæ˜¯åˆ›é€ ä¸‡ç»´ç½‘å†…å®¹å¿…ä¸å¯å°‘çš„æŠ€æœ¯ä¹‹ä¸€ã€‚å­¦ä¹ JavaScriptè¿˜æ˜¯éå¸¸æœ‰ç”¨çš„ï¼ŒåŸºç¡€æ˜¯éœ€è¦ä¸æ–­åœ°ç¼–ç¨‹æ¥å¼ºåŒ–ï¼</p>
]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
  </entry>
  <entry>
    <title>JavaScript åŸºç¡€å¼ºåŒ–</title>
    <url>/2020/06/17/JavaScript-%E5%9F%BA%E7%A1%80%E5%BC%BA%E5%8C%96/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>JavaScript æ˜¯ä¸€ç§å¯ä»¥ç”¨æ¥ç»™ç½‘é¡µå¢åŠ äº¤äº’æ€§çš„ç¼–ç¨‹è¯­è¨€ã€‚â€œç«™åœ¨å…¶ä»–ç¨‹åºå‘˜è‚©è†€ä¸Šâ€çš„æ–¹å¼æ­£æ˜¯ç†Ÿæ‚‰ JavaScript çš„å¥½æ–¹æ³•ï¼Java å·²ç»æˆä¸ºä¸€ç§åœ¨æœåŠ¡å™¨ç«¯ç¼–å†™ä»£ç çš„æµè¡Œè¯­è¨€ï¼Œè€ŒJavaScriptä¹Ÿåœ¨æµè§ˆå™¨ç«¯åå£°å¤§å™ªã€‚  <strong>æ¨èä¹¦ç±ï¼šã€ŠJavaScriptåŸºç¡€æ•™ç¨‹ï¼ˆç¬¬9ç‰ˆï¼‰ã€‹Â· [ç¾] DoriÂ·Smith TomÂ·Negrino è‘— æŸ³é– ç­‰ è¯‘</strong>            </p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="èƒ½å¹²ä»€ä¹ˆ"><a href="#èƒ½å¹²ä»€ä¹ˆ" class="headerlink" title="èƒ½å¹²ä»€ä¹ˆ"></a>èƒ½å¹²ä»€ä¹ˆ</h2><ol>
<li>ç”¨ JavaScript å¯ä»¥åšè®¸å¤šäº‹æƒ…ï¼Œä½¿ç½‘é¡µæ›´å…·äº¤äº’æ€§ï¼Œç»™ç«™ç‚¹çš„ç”¨æˆ·æä¾›æ›´å¥½ã€æ›´ä»¤äººå…´å¥‹çš„ä½“éªŒï¼›</li>
<li>ä½¿ç”¨ JavaScript æ¥ç¡®ä¿ç”¨æˆ·ä»¥è¡¨å•å½¢å¼è¾“å…¥æœ‰æ•ˆçš„ä¿¡æ¯ï¼Œè¿™å¯ä»¥èŠ‚çœä¸šåŠ¡æ—¶é—´å’Œå¼€æ”¯ï¼›</li>
<li>ä½¿ç”¨ JavaScriptï¼Œæ ¹æ®ç”¨æˆ·çš„æ“ä½œå¯ä»¥åˆ›å»ºè‡ªå®šä¹‰çš„ Web é¡µé¢ï¼›</li>
<li>JavaScript è¿˜å¯ä»¥å¤„ç†è¡¨å•ï¼Œè®¾ç½® cookieï¼Œå³æ—¶æ„å»º HTML é¡µé¢ä»¥åŠåˆ›å»ºåŸºäº Web çš„åº”ç”¨ç¨‹åºï¼</li>
</ol>
<h2 id="åŸºç¡€çŸ¥è¯†"><a href="#åŸºç¡€çŸ¥è¯†" class="headerlink" title="åŸºç¡€çŸ¥è¯†"></a>åŸºç¡€çŸ¥è¯†</h2><ol>
<li><p>ç”¨æ¥è¡¨ç¤ºæ–‡æ¡£ä¸­å¯¹è±¡çš„æ ‡å‡†æ¨¡å‹å°±ç§°ä¸ºDOMï¼ˆDocument Object Modelï¼Œæ–‡æ¡£å¯¹è±¡æ¨¡å‹ï¼‰ï¼›</p>
</li>
<li><p>æ ‘ä¸­çš„æ¯ä¸ªå¯¹è±¡ä¹Ÿç§°ä¸ºæ ‘çš„èŠ‚ç‚¹ï¼ˆnodeï¼‰ï¼›</p>
</li>
<li><p>äº‹ä»¶ï¼ˆeventï¼‰æ˜¯ç”¨æˆ·åœ¨è®¿é—®é¡µé¢æ—¶æ‰§è¡Œçš„æ“ä½œï¼Œæäº¤è¡¨å•å’Œåœ¨å›¾åƒä¸Šç§»åŠ¨é¼ æ ‡å°±æ˜¯ä¸¤ç§äº‹ä»¶ï¼›</p>
</li>
<li><p>JavaScript ä½¿ç”¨ç§°ä¸ºäº‹ä»¶å¤„ç†ç¨‹åºï¼ˆevent handlerï¼‰çš„å‘½ä»¤æ¥å¤„ç†äº‹ä»¶ï¼š</p>
<p><img src="" alt="äº‹ä»¶å¤„ç†ç¨‹åº"></p>
<ul>
<li>åœ¨ç¼–å†™è„šæœ¬æ—¶ï¼Œä¸å¿…é¢„æµ‹å‡ºç”¨æˆ·å¯èƒ½é‡‡å–çš„æ‰€æœ‰æ“ä½œï¼Œåªéœ€å¤„ç†é‚£äº›ä½ å¸Œæœ›æä¾›ç‰¹æ®Šå¤„ç†çš„äº‹ä»¶</li>
<li>å¦‚æœæ²¡æœ‰ onload äº‹ä»¶å¤„ç†ç¨‹åºï¼Œé¡µé¢ä¹Ÿä¼šé¡ºåˆ©åœ°åŠ è½½</li>
</ul>
</li>
<li><p>CSS æ˜¯ä¸€ç§ç”¨äº Web çš„æ ‡å‡†å¸ƒå±€è¯­è¨€ï¼Œå¯ä»¥æ§åˆ¶ç‰ˆé¢ã€é¢œè‰²ä»¥åŠå…ƒç´ å’Œå›¾åƒçš„å¤§å°å’Œä½ç½®ï¼›</p>
</li>
<li><p>ä¼˜ç§€çš„ç«™ç‚¹åº”è¯¥åˆ†ç¦»,åº”è¯¥åŒ…å«ä¸‰ç§æ–‡ä»¶:</p>
<ul>
<li>HTMLï¼šåŒ…å«é¡µé¢çš„å†…å®¹å’Œç»“æ„</li>
<li>CSSï¼šæ§åˆ¶é¡µé¢çš„å¤–è§‚å’Œè¡¨ç°</li>
<li>JavaScriptï¼šæ§åˆ¶é¡µé¢çš„è¡Œä¸º</li>
</ul>
</li>
<li><p>CSS æ ·å¼è¡¨åœ¨è§„åˆ™ä¸­ä½¿ç”¨class å’Œ idå±æ€§å®šä¹‰é¡µé¢çš„å¤–è§‚ï¼Œè€Œ JavaScript æ–‡ä»¶åœ¨ä»£ç ä¸­ä½¿ç”¨class å’Œ idå±æ€§æ¥å½±å“é¡µé¢ä¸Šå…ƒç´ çš„è¡Œä¸º:</p>
<ul>
<li><p>ç±»ï¼ˆclassï¼‰æ ‡è¯†å‡ºå¯èƒ½ä¼šå¤šæ¬¡ä½¿ç”¨çš„å…ƒç´ ,ç”¨äºå®šä½å¤šä¸ªå…ƒç´ </p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.movieTitle</span> &#123; </span><br><span class="line">  <span class="attribute">font</span>: bold <span class="number">14px</span>; </span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#000099</span>; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>id æ ‡è¯†å‡ºçš„å…ƒç´ å¯¹äºæ–‡æ¡£æ˜¯å”¯ä¸€çš„,ç”¨äºå®šä½æŒ‡å®šå…ƒç´ </p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-id">#theaterName</span> &#123; </span><br><span class="line">  <span class="attribute">font</span>: bold <span class="number">28px</span>; </span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#FF0000</span>; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>åœ¨ç»™å®šçš„é¡µé¢ä¸Šï¼Œä¸€ä¸ª id åªèƒ½å‡ºç°ä¸€æ¬¡ã€‚â€œ1â€æ˜¯ä¸€ä¸ªæ•°å­—ï¼Œè€Œäº•å·ï¼ˆ#ï¼‰ä¹Ÿç§°ä¸ºæ•°å­—ç¬¦ï¼Œæ‰€ä»¥è¿™ä¸ªç¬¦å·ç”¨äº id</strong></p>
</li>
</ul>
</li>
<li><p>å…»æˆåœ¨è„šæœ¬ä¸­æ·»åŠ æ³¨é‡Šçš„ä¹ æƒ¯æ˜¯ä¸€ç§å¾ˆå¥½çš„åšæ³•ï¼Œäº‹å®ä¸Šä¸ç®¡ä»£ç å†™çš„å¤šä¼˜ç§€ï¼Œæ—¶é—´ä¸€ä¹…è¿˜æ˜¯å®¹æ˜“ä¸è®°å¾—ï¼Œç»éªŒå‘Šè¯‰æˆ‘ä»¬è¿˜æ˜¯è¦æœ‰<strong><em>æ­£ç¡®</em></strong>çš„æ³¨é‡Šï¼Œä¸æ˜¯é‚£ç§æ— ç”¨çš„æ³¨é‡Šï¼Œæ¯”å¦‚æ³¨é‡Ši++ä¸ºè‡ªåŠ æ“ä½œï¼æ³¨é‡Šæœ‰åŠ©äºå¼€å‘è€…å’Œå…¶ä»–å¼€å‘äººå‘˜ç†è§£ä»£ç ï¼›</p>
</li>
<li><p>ç¼–å†™ä»»ä½•è„šæœ¬éƒ½æœ‰è®¸å¤šç§æ–¹å¼ï¼Œå¹¶ä¸”éƒ½èƒ½å®ç°åŒæ ·çš„æ•ˆæœï¼ç›¸ä¿¡è‡ªå·±å†™çš„ä»£ç æ˜¯æ­£ç¡®çš„ï¼Œå¤šåšå•å…ƒæµ‹è¯•ï¼</p>
</li>
<li><p>åœ¨ JavaScript ä»£ç ä¸­ï¼Œè¦æƒ³é¿å…ä¸å˜é‡ä½œç”¨åŸŸæœ‰å…³çš„é—®é¢˜å’Œæ··æ·†ï¼Œæœ€å®¹æ˜“çš„æ–¹æ³•æ˜¯é¿å…ä½¿ç”¨åŒåçš„ä¸¤ä¸ªå˜é‡åœ¨ä¸åŒçš„åœ°æ–¹åšä¸åŒçš„äº‹ã€‚å¦‚æœå¿…é¡»ä½¿ç”¨åŒåçš„å˜é‡ï¼Œå°±ä¸€å®šè¦å¼„æ¸…å˜é‡çš„ä½œç”¨åŸŸï¼›</p>
</li>
<li><p>JavaScript å…³é”®å­— this ä½¿è„šæœ¬èƒ½å¤Ÿæ ¹æ®ä½¿ç”¨è¿™ä¸ªå…³é”®å­—çš„ä¸Šä¸‹æ–‡å°†å€¼ä¼ é€’ç»™å‡½æ•°ï¼›</p>
</li>
<li><p>ä½¿ç”¨ JavaScript çš„ try/throw/catch å‘½ä»¤å¯ä»¥äº§ç”Ÿå‹å¥½ã€æœ‰ç”¨çš„é”™è¯¯æ¶ˆæ¯ï¼›</p>
</li>
</ol>
<h2 id="æ·±å…¥Web-amp-JavaScript"><a href="#æ·±å…¥Web-amp-JavaScript" class="headerlink" title="æ·±å…¥Web&amp;JavaScript"></a>æ·±å…¥Web&amp;JavaScript</h2><h3 id="åŸºç¡€çŸ¥è¯†-1"><a href="#åŸºç¡€çŸ¥è¯†-1" class="headerlink" title="åŸºç¡€çŸ¥è¯†"></a>åŸºç¡€çŸ¥è¯†</h3><ol>
<li><p>åœ¨ç¼–å†™è„šæœ¬æ—¶ï¼Œå¯èƒ½å¸Œæœ›æ£€æŸ¥æµè§ˆå™¨æ˜¯å¦æœ‰èƒ½åŠ›ç†è§£å°†è¦ä½¿ç”¨çš„å¯¹è±¡ï¼Œè¿›è¡Œè¿™ç§æ£€æŸ¥çš„æ–¹æ³•ç§°ä¸º<strong>å¯¹è±¡æ¢æµ‹ï¼ˆobject detectionï¼‰</strong>ï¼›</p>
</li>
<li><p>æ–¹æ³•æ˜¯å¯¹è¦å¯»æ‰¾çš„å¯¹è±¡è¿›è¡Œæ¡ä»¶æµ‹è¯•ï¼Œæ¯”å¦‚ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="built_in">document</span>.getElementById) &#123;</span><br><span class="line"><span class="comment">// ä»£ç å—</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p><del>å¯¹äºæ£€æŸ¥æµè§ˆå™¨æ”¯æŒå“ªäº›å¯¹è±¡ï¼Œå¦ä¸€ç§æ›¿ä»£æ–¹æ³•æ˜¯è¿›è¡Œ<strong>æµè§ˆå™¨æ¢æµ‹ï¼ˆbrowser detectionï¼‰</strong>ï¼Œè¿™ç§æ–¹æ³•å°è¯•æŸ¥æ˜ç”¨æˆ·ä½¿ç”¨å“ªç§æµè§ˆå™¨æŸ¥çœ‹é¡µé¢ï¼›</del></p>
</li>
<li><p>æ•°ç»„æ˜¯ä¸€ç§å¯ä»¥å­˜å‚¨ä¸€ç»„ä¿¡æ¯çš„å˜é‡ï¼Œæ•°ç»„å¯ä»¥åŒ…å«ä»»ä½•ç±»å‹çš„æ•°æ®ï¼šæ–‡æœ¬å­—ç¬¦ä¸²ã€æ•°å­—ã€å…¶ä»– JavaScript å¯¹è±¡,æ•°ç»„ç¼–å·æ˜¯ä»é›¶å¼€å§‹çš„ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> newCars = <span class="keyword">new</span> <span class="built_in">Array</span>(<span class="string">"Toyota"</span>, <span class="string">"Honda"</span>, <span class="string">"Nissan"</span>);</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h3 id="çª—å£-amp-è¡¨å•"><a href="#çª—å£-amp-è¡¨å•" class="headerlink" title="çª—å£&amp;è¡¨å•"></a>çª—å£&amp;è¡¨å•</h3><ol>
<li><p>åœ¨Web æµè§ˆå™¨ä¸­ï¼Œçª—å£æ˜¯æœ€é‡è¦çš„æ¥å£å…ƒç´ ï¼ŒJavaScript æä¾›äº†å¾ˆå¤šç”¨æ¥æ“çºµçª—å£çš„å·¥å…·ï¼›</p>
</li>
<li><p>åœ¨ JavaScript ä¸­ï¼Œçª—å£å½¢æˆä¸€ä¸ªå±‚æ¬¡ç»“æ„ï¼Œçˆ¶çª—å£å¤„äºè¿™ä¸ªå±‚æ¬¡ç»“æ„çš„é¡¶å±‚ï¼›</p>
</li>
<li><p>HTML é¡µé¢è°ƒç”¨å¯ä»¥æ‰“å¼€æ–°çª—å£çš„å¤–éƒ¨ JavaScript æ–‡ä»¶ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span> <span class="tag">&lt;<span class="name">html</span>&gt;</span> </span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span>Opening a Window<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"script07.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span> </span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span> </span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">h1</span>&gt;</span>The Master of the House<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">  	<span class="tag">&lt;<span class="name">h2</span>&gt;</span>Click on His name to behold He Who Must Be Adored<span class="tag">&lt;/<span class="name">h2</span>&gt;</span> </span><br><span class="line">  	<span class="tag">&lt;<span class="name">h2</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span> <span class="attr">class</span>=<span class="string">"newWin"</span>&gt;</span>Pixel <span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">h2</span>&gt;</span> </span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">window</span>.onload = newWinLinks;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">newWinLinks</span>(<span class="params"></span>) </span>&#123; </span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i=<span class="number">0</span>; i&lt;<span class="built_in">document</span>.links.length; i++) &#123; </span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">document</span>.links[i].className == <span class="string">"newWin"</span>) &#123; </span><br><span class="line">      <span class="built_in">document</span>.links[i].onclick = newWindow; </span><br><span class="line">    &#125; </span><br><span class="line">  &#125; </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">newWindow</span>(<span class="params"></span>) </span>&#123; </span><br><span class="line">  <span class="keyword">var</span> catWindow = <span class="built_in">window</span>.open(<span class="string">"images/pixel1.jpg"</span>,<span class="string">"catWin"</span>,<span class="string">"resizable=no,width=350,height=260"</span>);</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">false</span>; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>å¦‚æœéœ€è¦ä» Web ç«™ç‚¹çš„ç”¨æˆ·é‚£é‡Œæ”¶é›†ä¿¡æ¯ï¼Œé‚£ä¹ˆå°±éœ€è¦ä½¿ç”¨è¡¨å•ï¼›</p>
</li>
<li><p>è¡¨å•å¯ä»¥åŒ…å«å¤§å¤šæ•°å¸¸è§çš„å›¾å½¢ç•Œé¢å…ƒç´ ï¼ŒåŒ…æ‹¬è¾“å…¥å­—æ®µã€å•é€‰æŒ‰é’®ã€å¤é€‰æ¡†ã€å¼¹å‡ºèœå•å’Œè¾“å…¥åˆ—è¡¨ï¼›</p>
</li>
<li><p>JavaScript æ˜¯æ£€æŸ¥æ•°æ®çš„å¥½æ–¹æ³•ï¼Œè¿™ç§æŠ€æœ¯ç§°ä¸º<strong>è¡¨å•éªŒè¯ï¼ˆform validationï¼‰</strong>ï¼Œåœ¨å®¢æˆ·æœºä¸Šç”¨ JavaScript è¿›è¡ŒéªŒè¯è¦å¿«å¾—å¤šï¼Œè€Œä¸”ç”¨æˆ·æ“ä½œçš„æ•ˆç‡ä¹Ÿæ›´é«˜ï¼›</p>
</li>
<li><p>å¯ä»¥ä½¿ç”¨ JavaScript æ£€æŸ¥æŸäº›æˆ–æ‰€æœ‰å­—æ®µæ˜¯å¦å·²ç»å¡«å†™äº†ï¼ŒæŒ‡å®šç”¨æˆ·å¿…é¡»å¡«å†™æŸäº›å­—æ®µï¼Œç„¶åæ‰èƒ½æäº¤è¡¨å•ï¼›</p>
</li>
<li><p>å°†è¾“å…¥å­—æ®µçš„è¾¹æ¡†æ”¹ä¸ºçº¢è‰²æ˜¯å¾ˆä¸é”™çš„ï¼Œä½†æ˜¯å¦‚æœèƒ½å¤Ÿè®©æœ‰é—®é¢˜çš„å­—æ®µå†é†’ç›®ä¸€ç‚¹å„¿å°±æ›´å¥½äº†ï¼›</p>
</li>
<li><p>æ­£åˆ™è¡¨è¾¾å¼ï¼ˆregular expressionï¼Œå¸¸å¸¸ç¼©å†™ä¸º RegExpï¼‰æ˜¯ä¸€ç§ç”¨ç‰¹æ®Šç¬¦å·ç¼–å†™çš„æ¨¡å¼ï¼Œæè¿°ä¸€ä¸ªæˆ–å¤šä¸ªæ–‡æœ¬å­—ç¬¦ä¸²ï¼›</p>
</li>
<li><p><strong>åªè¦æŠŠæ··ä¹±çš„æ­£åˆ™è¡¨è¾¾å¼åˆ†è§£æˆæœ‰æ„ä¹‰çš„å°å—ï¼Œå…¶è¯­æ³•å¹¶ä¸éš¾ç†è§£ï¼›</strong></p>
</li>
</ol>
<h2 id="å·¥å…·åŒ…ã€æ¡†æ¶-amp-åº“"><a href="#å·¥å…·åŒ…ã€æ¡†æ¶-amp-åº“" class="headerlink" title="å·¥å…·åŒ…ã€æ¡†æ¶&amp;åº“"></a>å·¥å…·åŒ…ã€æ¡†æ¶&amp;åº“</h2><ol>
<li>jQuery åº“çš„ä¼˜ç‚¹ï¼š<ul>
<li>è½»é‡çº§</li>
<li>æ´»è·ƒçš„å¼€å‘ç¤¾åŒº</li>
<li>æ’ä»¶æ¶æ„</li>
<li>æ”¯æŒæ—§æµè§ˆå™¨</li>
<li>é€Ÿåº¦</li>
<li>åˆçº§å¼€å‘äººå‘˜å®¹æ˜“æŒæ¡</li>
</ul>
</li>
<li>åœ¨ç½‘ç«™çš„é¡µé¢ä¸­ä½¿ç”¨<a href="http://code.jquery.com/" target="_blank" rel="noopener">jQueryåº“</a>ï¼Œå¼•å…¥åº“å°±å¯ä»¥äº†ï¼›</li>
<li>åœ¨åŸºäº jQuery çš„ JavaScript ä»£ç ä¸­ï¼Œäººä»¬é¦–å…ˆæ³¨æ„åˆ°çš„é€šå¸¸æ˜¯ç¾å…ƒç¬¦å·$ã€‚$ç¬¦å·ä»…ä»…è¡¨ç¤ºä¸€ä¸ªåˆæ³•ä½†ä¸å¸¸è§çš„å‡½æ•°åï¼ŒjQuery é€šè¿‡å®ƒæ¥è·å–æ‰€éœ€çš„ä¸€åˆ‡ï¼›</li>
<li>å³ä½¿è®¿å®¢çš„æµè§ˆå™¨ç«¯æ²¡æœ‰ç¼“å­˜æ‰€éœ€çš„åº“æ–‡ä»¶ï¼ŒCDNï¼ˆContent Delivery Networkï¼Œå†…å®¹å‘å¸ƒç½‘ç»œï¼‰çš„å› ç‰¹ç½‘è¿æ¥æ€§ä¹Ÿè¦ä¼˜äºä½ è‡ªå·±å®ç°çš„ç½‘ç«™ï¼Œæ‰€ä»¥ CDN æä¾›æ–‡ä»¶çš„é€Ÿåº¦ä¼šä¼˜äºä½ çš„æœåŠ¡å™¨ï¼›</li>
<li>jQuery æµè¡Œçš„åŸå› ä¹‹ä¸€æ˜¯å®ƒçš„é€‰æ‹©å™¨ä¸ CSS ä¸­çš„é€‰æ‹©å™¨éå¸¸ç›¸ä¼¼ï¼Œè¿™æ ·ä¸€æ¥ï¼Œåé‡äºè®¾è®¡çš„å¼€å‘äººå‘˜å°±å¯ä»¥æ›´å¿«åœ°æŒæ¡å®ƒï¼</li>
<li>jQueryæœ¬èº«å¯èƒ½ä¸æ”¯æŒæŸä¸€åŠŸèƒ½ï¼Œä½†æ˜¯å¯ä»¥æ·»åŠ æ’ä»¶æ¥è·å–åŠŸèƒ½ï¼Œæ¯”å¦‚æ’åºå¯ä»¥ä½¿ç”¨æ’ä»¶tablesorterï¼›</li>
<li>jQuery é€šè¿‡ <a href="https://code.jquery.com/ui/" target="_blank" rel="noopener">jQuery UI</a> æ¥å¤„ç†å¸¸ç”¨çš„ç”¨æˆ·ç•Œé¢å…ƒç´ ï¼›</li>
<li>ThemeRoller å…è®¸ç”¨æˆ·æ ¹æ®é¡¹ç›®éœ€è¦æ¥å®šåˆ¶ jQuery çš„ç”¨æˆ·ç•Œé¢ä¸»é¢˜ï¼›</li>
<li>å¼€å‘äººå‘˜ä¸ºäº†æ‰©å±• jQuery çš„æ ¸å¿ƒåŠŸèƒ½è€Œåˆ›å»ºäº†å„å¼å„æ ·çš„æ’ä»¶ï¼›</li>
</ol>
<h2 id="äº‹ä»¶"><a href="#äº‹ä»¶" class="headerlink" title="äº‹ä»¶"></a>äº‹ä»¶</h2><ol>
<li>å½“æµè§ˆå™¨æ¢æµ‹åˆ°ä¸€ä¸ªäº‹ä»¶æ—¶ï¼Œæ¯”å¦‚ç”¨é¼ æ ‡å•å‡»æˆ–æŒ‰é”®ï¼Œå®ƒå¯ä»¥è§¦å‘ä¸è¿™ä¸ªäº‹ä»¶ç›¸å…³è”çš„ JavaScript å¯¹è±¡ï¼Œè¿™äº›å¯¹è±¡ç§°ä¸ºäº‹ä»¶å¤„ç†ç¨‹åºï¼ˆevent handlerï¼‰;</li>
<li>äº‹ä»¶å¤„ç†å®é™…ä¸ŠåŒ…å«äº†ç”¨æˆ·ä¸é¡µé¢çš„æ‰€æœ‰äº¤äº’ï¼›</li>
<li>å½“ç”¨æˆ·æ‰§è¡ŒæŸäº›ä¼šå½±å“æ•´ä¸ªæµè§ˆå™¨çª—å£çš„æ“ä½œæ—¶ï¼Œå°±ä¼šå‘ç”Ÿçª—å£äº‹ä»¶ï¼›</li>
<li>å½“ç”¨æˆ·è¿›å…¥é¡µé¢è€Œä¸”æ‰€æœ‰é¡µé¢å…ƒç´ éƒ½å®ŒæˆåŠ è½½æ—¶ï¼Œå°±ä¼šè§¦å‘onloadäº‹ä»¶ï¼›</li>
<li>å½“ç”¨æˆ·ç¦»å¼€ç½‘é¡µæ—¶ï¼Œå°±ä¼šè§¦å‘ onunload äº‹ä»¶å¤„ç†ç¨‹åºï¼Œonbeforeunloadåœ¨ç”¨æˆ·å¼€å§‹ç¦»å¼€é¡µé¢ä¹‹å‰è§¦å‘ï¼Œè€Œ onunload åœ¨ç”¨æˆ·ç¦»å¼€é¡µé¢ä¹‹åè§¦å‘ï¼›</li>
<li>äº‹ä»¶ï¼š<ul>
<li>å½“çª—å£è°ƒæ•´å¤§å°æ—¶ï¼Œä¼šè§¦å‘ onresize äº‹ä»¶å¤„ç†ç¨‹åº</li>
<li>å½“çª—å£ç§»åŠ¨æ—¶ï¼Œä¼šè§¦å‘ onmove äº‹ä»¶å¤„ç†ç¨‹åº</li>
<li>å½“ç”¨æˆ·å–æ¶ˆç½‘é¡µä¸Šçš„å›¾åƒåŠ è½½æ—¶ï¼Œä¼šè§¦å‘ onabort äº‹ä»¶å¤„ç†ç¨‹åº</li>
<li>å½“é¡µé¢ä¸Šå‘ç”Ÿ JavaScript é”™è¯¯æ—¶ï¼Œå¯èƒ½ä¼šè§¦å‘ onerror äº‹ä»¶å¤„ç†ç¨‹åº</li>
<li>å½“ä¸€ä¸ªé¡µé¢æˆä¸ºæœ€å‰é¢çš„æ´»åŠ¨çª—å£æ—¶ï¼Œå°±ä¼šè§¦å‘ onfocus å¤„ç†ç¨‹åºï¼›è€Œå½“ä¸€ä¸ªé¡µé¢é€€å›åå°çš„æ—¶å€™ï¼Œå°±ä¼šè§¦å‘ onblur äº‹ä»¶å¤„ç†ç¨‹åº</li>
<li>å½“ç”¨æˆ·å‘ä¸Šæˆ–è€…å‘ä¸‹æ»šåŠ¨é¡µé¢æ—¶ï¼Œå°±ä¼šè§¦å‘ onscroll äº‹ä»¶</li>
<li>onmouseup äº‹ä»¶ä¼šåœ¨ç”¨æˆ·å•å‡»é¼ æ ‡ç„¶åé‡Šæ”¾æŒ‰é’®æ—¶è§¦å‘</li>
<li>å½“é¡µé¢çš„è®¿é—®è€…ç§»åŠ¨é¼ æ ‡æ—¶ï¼Œå°±ä¼šè§¦å‘ onmousemove äº‹ä»¶</li>
<li>å½“é¼ æ ‡ç§»åŠ¨è¿›ä»»ä½•æ³¨å†Œäº† onmouseover äº‹ä»¶å¤„ç†ç¨‹åºçš„åŒºåŸŸæ—¶ï¼Œå°±ä¼šè§¦å‘è¿™ä¸ªäº‹ä»¶</li>
<li>å½“é¼ æ ‡ç¦»å¼€ä¸€ä¸ªæ³¨å†Œäº†æ­¤äº‹ä»¶çš„åŒºåŸŸæ—¶ï¼Œå°±ä¼šè§¦å‘onmouseoutäº‹ä»¶</li>
<li>onclick è¦æ±‚ç”¨æˆ·æŒ‰ä¸‹é¼ æ ‡æŒ‰é’®å¹¶æ”¾å¼€æ‰èƒ½è§¦å‘å•å‡»äº‹ä»¶</li>
</ul>
</li>
<li>é”®ç›˜äº‹ä»¶ï¼š<ul>
<li>é€šè¿‡ä½¿ç”¨é”®äº‹ä»¶å¤„ç†ç¨‹åºï¼Œå¯ä»¥åœ¨ç”¨æˆ·æŒ‰ä¸‹é€‚å½“çš„é”®æ—¶æ‰§è¡Œç›¸åº”çš„æ“ä½œï¼Œæ¯”å¦‚onkeydownäº‹ä»¶</li>
<li>onkeyup äº‹ä»¶å¤„ç†ç¨‹åºåœ¨ç”¨æˆ·å·²æŒ‰ä¸‹å¹¶é‡Šæ”¾é”®çš„è¿‡ç¨‹ä¸­è§¦å‘</li>
<li>å½“ç”¨æˆ·æŒ‰ä¸‹å¹¶é‡Šæ”¾é”®æ—¶è§¦å‘ onkeypress äº‹ä»¶</li>
</ul>
</li>
</ol>
<h2 id="cookie"><a href="#cookie" class="headerlink" title="cookie"></a>cookie</h2><ol>
<li><p>cookie æ˜¯ä¸€å°æ®µä¿¡æ¯ï¼Œå½“ç”¨æˆ·ç¬¬ä¸€æ¬¡è®¿é—® Web æœåŠ¡å™¨æ—¶ï¼ŒæœåŠ¡å™¨å°†è¿™äº›ä¿¡æ¯å‘é€ç»™æµè§ˆå™¨ï¼›</p>
</li>
<li><p>æµè§ˆå™¨å°† cookieï¼ˆå…¶ä¸­åŒ…å«å…³äºè®¿é—®è€…çš„ä¿¡æ¯ï¼‰ä½œä¸ºçº¯æ–‡æœ¬æ–‡ä»¶ä¿å­˜åœ¨è®¡ç®—æœºç¡¬ç›˜ä¸Šï¼›</p>
</li>
<li><p>cookie æŠ€æœ¯èƒŒåçš„æœ¬è´¨æ˜¯â€œè¯†åˆ«â€ï¼Œcookie æ˜¯ä¸€ä¸ªå…·æœ‰ç‰¹å®šæ ¼å¼çš„æ–‡æœ¬å­—ç¬¦ä¸²ï¼š</p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">cookieName=cookieValue;expires=expirationDateGMT;path=URLpath;domain=siteDomain</span><br></pre></td></tr></table></figure>
</li>
<li><p>å¯ä»¥ä½¿ç”¨ cookie å’Œ JavaScript æé†’ç»å¸¸è®¿é—®ç«™ç‚¹çš„ç”¨æˆ·æ³¨æ„ä»–ä»¬æ²¡çœ‹åˆ°è¿‡çš„å†…å®¹;</p>
</li>
</ol>
<hr>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>JavaScriptæŒ‰ç…§ç°åœ¨çš„å‰æ™¯æ¥çœ‹ï¼Œåœ¨å¾ˆé•¿ä¸€æ®µæ—¶é—´ä¼šåˆ¶éœ¸æµè§ˆå™¨è„šæœ¬è¯­è¨€ï¼Œå­¦ä¹ ä¸€ä¸‹ï¼ŒçœŸçš„å¾ˆæœ‰å¸®åŠ©ï¼</p>
]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
  </entry>
  <entry>
    <title>JavaScript æ·±å…¥é«˜çº§è¯é¢˜</title>
    <url>/2020/06/18/JavaScript-%E6%B7%B1%E5%85%A5%E9%AB%98%E7%BA%A7%E8%AF%9D%E9%A2%98/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p> JavaScript æ˜¯ä¸€ç§éå¸¸æ¾æ•£çš„é¢å‘å¯¹è±¡è¯­è¨€ï¼Œä¹Ÿæ˜¯ Web å¼€å‘ä¸­æå—æ¬¢è¿çš„ä¸€é—¨è¯­è¨€ï¼Œæ¤æ ¹äºå…¨çƒæ•°äº¿ç½‘æ°‘éƒ½åœ¨ä½¿ç”¨çš„ Web æµè§ˆå™¨ä¹‹ä¸­ï¼Œè‡´åŠ›äºå¢å¼ºç½‘ç«™å’Œ Web åº”ç”¨ç¨‹åºçš„äº¤äº’æ€§ã€‚JavaScript ä»ä¸€ä¸ªç®€å•çš„è¾“å…¥éªŒè¯å™¨å‘å±•æˆä¸ºä¸€é—¨å¼ºå¤§çš„ç¼–ç¨‹è¯­è¨€ï¼Œå®Œå…¨å‡ºä¹äººä»¬çš„æ„æ–™ï¼ <strong>æ¨èä¹¦ç±ï¼šã€ŠJavaScript é«˜çº§ç¨‹åºè®¾è®¡ï¼ˆç¬¬3ç‰ˆï¼‰ã€‹Â· [ç¾] Nicholas C.Zakas è‘— ææ¾å³° æ›¹åŠ› è¯‘</strong>   </p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="åŸºç¡€çŸ¥è¯†"><a href="#åŸºç¡€çŸ¥è¯†" class="headerlink" title="åŸºç¡€çŸ¥è¯†"></a>åŸºç¡€çŸ¥è¯†</h2><ol>
<li><p>ä¸€ä¸ªå®Œæ•´çš„ JavaScript å®ç°åº”è¯¥ç”±ä¸‹åˆ—ä¸‰ä¸ªä¸åŒçš„éƒ¨åˆ†ç»„æˆï¼š</p>
<ul>
<li>æ ¸å¿ƒï¼ˆECMAScriptï¼‰</li>
<li>æ–‡æ¡£å¯¹è±¡æ¨¡å‹ï¼ˆDOMï¼‰</li>
<li>æµè§ˆå™¨å¯¹è±¡æ¨¡å‹ï¼ˆBOMï¼‰</li>
</ul>
</li>
<li><p>æ–‡æ¡£å¯¹è±¡æ¨¡å‹ï¼ˆDOMï¼ŒDocument Object Modelï¼‰æ˜¯é’ˆå¯¹ XML ä½†ç»è¿‡æ‰©å±•ç”¨äº HTML çš„åº”ç”¨ç¨‹åºç¼–ç¨‹æ¥å£ï¼ˆAPIï¼ŒApplication Programming Interfaceï¼‰ã€‚DOM æŠŠæ•´ä¸ªé¡µé¢æ˜ å°„ä¸ºä¸€ä¸ªå¤šå±‚èŠ‚ç‚¹ç»“æ„ï¼›</p>
</li>
<li><p>å€ŸåŠ© DOM æä¾›çš„ APIï¼Œå¼€å‘äººå‘˜å¯ä»¥è½»æ¾è‡ªå¦‚åœ°åˆ é™¤ã€æ·»åŠ ã€æ›¿æ¢æˆ–ä¿®æ”¹ä»»ä½•èŠ‚ç‚¹ï¼›</p>
</li>
<li><p>ç”±äºæ²¡æœ‰ BOM æ ‡å‡†å¯ä»¥éµå¾ªï¼Œå› æ­¤æ¯ä¸ªæµè§ˆå™¨éƒ½æœ‰è‡ªå·±çš„å®ç°ï¼å› æ­¤ä¸æ¨èä½¿ç”¨BOMè¿›è¡Œäº¤äº’ï¼›</p>
</li>
<li><p>åŒ…å«åœ¨&lt;script&gt;å…ƒç´ å†…éƒ¨çš„ JavaScript ä»£ç å°†è¢«ä»ä¸Šè‡³ä¸‹ä¾æ¬¡è§£é‡Šï¼›</p>
</li>
<li><p><strong>åœ¨è®¿é—®è‡ªå·±ä¸èƒ½æ§åˆ¶çš„æœåŠ¡å™¨ä¸Šçš„JavaScript æ–‡ä»¶æ—¶åˆ™è¦å¤šåŠ å°å¿ƒï¼Œå¦‚æœä¸å¹¸é‡åˆ°äº†æ€€æœ‰æ¶æ„çš„ç¨‹åºå‘˜ï¼Œé‚£ä»–ä»¬éšæ—¶éƒ½å¯èƒ½æ›¿æ¢è¯¥æ–‡ä»¶ä¸­çš„ä»£ç ï¼</strong></p>
</li>
<li><p>æ”¯æŒä½¿ç”¨å¤–éƒ¨æ–‡ä»¶çš„äººçš„è§‚ç‚¹æ˜¯ï¼š</p>
<ul>
<li>å¯ç»´æŠ¤æ€§å¼º</li>
<li>å¯ç¼“å­˜ï¼Œæµè§ˆå™¨èƒ½å¤Ÿæ ¹æ®å…·ä½“çš„è®¾ç½®ç¼“å­˜é“¾æ¥çš„æ‰€æœ‰å¤–éƒ¨ JavaScript æ–‡ä»¶</li>
<li>é€‚åº”æœªæ¥</li>
</ul>
</li>
<li><p>è¦åœ¨æ•´ä¸ªè„šæœ¬ä¸­å¯ç”¨ä¸¥æ ¼æ¨¡å¼ï¼Œå¯ä»¥åœ¨é¡¶éƒ¨æ·»åŠ å¦‚ä¸‹ä»£ç ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="meta">"use strict"</span>;</span><br></pre></td></tr></table></figure>

<ul>
<li>è¿™è¡Œä»£ç çœ‹èµ·æ¥åƒæ˜¯å­—ç¬¦ä¸²ï¼Œè€Œä¸”ä¹Ÿæ²¡æœ‰èµ‹å€¼ç»™ä»»ä½•å˜é‡ï¼Œä½†å…¶å®å®ƒæ˜¯ä¸€ä¸ªç¼–è¯‘æŒ‡ç¤ºï¼ˆpragmaï¼‰ï¼Œç”¨äºå‘Šè¯‰æ”¯æŒçš„ JavaScript å¼•æ“åˆ‡æ¢åˆ°ä¸¥æ ¼æ¨¡å¼</li>
<li>ä¸ºäº†ä¸ç ´å ECMAScript 3 è¯­æ³•è€Œç‰¹æ„é€‰å®šçš„è¯­æ³•</li>
<li>åœ¨å‡½æ•°å†…éƒ¨çš„ä¸Šæ–¹åŒ…å«è¿™æ¡ç¼–è¯‘æŒ‡ç¤ºï¼Œä¹Ÿå¯ä»¥æŒ‡å®šå‡½æ•°åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹æ‰§è¡Œ</li>
<li>ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼ŒJavaScript çš„æ‰§è¡Œç»“æœä¼šæœ‰å¾ˆå¤§ä¸åŒ</li>
</ul>
</li>
<li><p>typeofç”¨æ¥æ£€æµ‹ç»™å®šå˜é‡çš„æ•°æ®ç±»å‹ï¼š</p>
<ul>
<li>â€œundefinedâ€â€”â€”å¦‚æœè¿™ä¸ªå€¼æœªå®šä¹‰</li>
<li>â€œbooleanâ€â€”â€”å¦‚æœè¿™ä¸ªå€¼æ˜¯å¸ƒå°”å€¼</li>
<li>â€œstringâ€â€”â€”å¦‚æœè¿™ä¸ªå€¼æ˜¯å­—ç¬¦ä¸²</li>
<li>â€œnumberâ€â€”â€”å¦‚æœè¿™ä¸ªå€¼æ˜¯æ•°å€¼</li>
<li>â€œobjectâ€â€”â€”å¦‚æœè¿™ä¸ªå€¼æ˜¯å¯¹è±¡æˆ– null</li>
<li>â€œfunctionâ€â€”â€”å¦‚æœè¿™ä¸ªå€¼æ˜¯å‡½æ•°</li>
</ul>
</li>
<li><p>ECMAScript å˜é‡å¯èƒ½åŒ…å«ä¸¤ç§ä¸åŒæ•°æ®ç±»å‹çš„å€¼ï¼šåŸºæœ¬ç±»å‹å€¼å’Œå¼•ç”¨ç±»å‹å€¼ã€‚åŸºæœ¬ç±»å‹å€¼æŒ‡çš„æ˜¯ç®€å•çš„æ•°æ®æ®µï¼Œè€Œå¼•ç”¨ç±»å‹å€¼æŒ‡é‚£äº›å¯èƒ½ç”±å¤šä¸ªå€¼æ„æˆçš„å¯¹è±¡ï¼›</p>
</li>
<li><p>åœ¨æ£€æµ‹å¼•ç”¨ç±»å‹çš„å€¼æ—¶ï¼ŒECMAScript æä¾›äº† instanceof æ“ä½œç¬¦ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// result = variable instanceof constructor</span></span><br><span class="line">alert(person <span class="keyword">instanceof</span> <span class="built_in">Object</span>);  <span class="comment">// å˜é‡ person æ˜¯ Object å—ï¼Ÿ</span></span><br><span class="line">alert(colors <span class="keyword">instanceof</span> <span class="built_in">Array</span>);   <span class="comment">// å˜é‡ colors æ˜¯ Array å—ï¼Ÿ </span></span><br><span class="line">alert(pattern <span class="keyword">instanceof</span> <span class="built_in">RegExp</span>); <span class="comment">// å˜é‡ pattern æ˜¯ RegExp å—ï¼Ÿ</span></span><br></pre></td></tr></table></figure>

<ul>
<li>å¦‚æœå˜é‡æ˜¯ç»™å®šå¼•ç”¨ç±»å‹çš„å®ä¾‹ï¼Œ é‚£ä¹ˆinstanceof æ“ä½œç¬¦å°±ä¼šè¿”å› true</li>
</ul>
</li>
<li><p>æ‰§è¡Œç¯å¢ƒå®šä¹‰äº†å˜é‡æˆ–å‡½æ•°æœ‰æƒè®¿é—®çš„å…¶ä»–æ•°æ®ï¼Œå†³å®šäº†å®ƒä»¬å„è‡ªçš„è¡Œä¸ºã€‚æ¯ä¸ªæ‰§è¡Œç¯å¢ƒéƒ½æœ‰ä¸€ä¸ªä¸ä¹‹å…³è”çš„å˜é‡å¯¹è±¡ï¼ˆvariable objectï¼‰ï¼Œç¯å¢ƒä¸­å®šä¹‰çš„æ‰€æœ‰å˜é‡å’Œå‡½æ•°éƒ½ä¿å­˜åœ¨è¿™ä¸ªå¯¹è±¡ä¸­ï¼›æ¯ä¸ªå‡½æ•°éƒ½æœ‰è‡ªå·±çš„æ‰§è¡Œç¯å¢ƒï¼›</p>
</li>
<li><p>å½“æ‰§è¡Œæµè¿›å…¥ä¸‹åˆ—ä»»ä½•ä¸€ä¸ªè¯­å¥æ—¶ï¼Œä½œç”¨åŸŸé“¾å°±ä¼šå¾—åˆ°åŠ é•¿ï¼š</p>
<ul>
<li>try-catch è¯­å¥çš„ catch å—</li>
<li>with è¯­å¥</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">buildUrl</span>(<span class="params"></span>) </span>&#123; </span><br><span class="line">  <span class="keyword">var</span> qs = <span class="string">"?debug=true"</span>;</span><br><span class="line">  <span class="keyword">with</span>(location)&#123; </span><br><span class="line">    <span class="keyword">var</span> url = href + qs; </span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> url;</span><br><span class="line"> &#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">with è¯­å¥æ¥æ”¶çš„æ˜¯ location å¯¹è±¡ï¼Œå› æ­¤å…¶å˜é‡å¯¹è±¡ä¸­å°±åŒ…å«äº† location å¯¹è±¡çš„æ‰€æœ‰å±æ€§å’Œæ–¹æ³•ï¼Œè€Œè¿™ä¸ªå˜é‡å¯¹è±¡è¢«æ·»åŠ åˆ°äº†ä½œç”¨åŸŸé“¾çš„å‰ç«¯</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>ä½¿ç”¨ var å£°æ˜çš„å˜é‡ä¼šè‡ªåŠ¨è¢«æ·»åŠ åˆ°æœ€æ¥è¿‘çš„ç¯å¢ƒä¸­ã€‚åœ¨å‡½æ•°å†…éƒ¨ï¼Œæœ€æ¥è¿‘çš„ç¯å¢ƒå°±æ˜¯å‡½æ•°çš„å±€éƒ¨ç¯å¢ƒï¼›åœ¨ with è¯­å¥ä¸­ï¼Œæœ€æ¥è¿‘çš„ç¯å¢ƒæ˜¯å‡½æ•°ç¯å¢ƒï¼›å¦‚æœåˆå§‹åŒ–å˜é‡æ—¶æ²¡æœ‰ä½¿ç”¨ var å£°æ˜ï¼Œè¯¥å˜é‡ä¼šè‡ªåŠ¨è¢«æ·»åŠ åˆ°å…¨å±€ç¯å¢ƒï¼›</p>
</li>
<li><p>å˜é‡æŸ¥è¯¢ä¹Ÿä¸æ˜¯æ²¡æœ‰ä»£ä»·çš„ï¼Œè®¿é—®å±€éƒ¨å˜é‡è¦æ¯”è®¿é—®å…¨å±€å˜é‡æ›´å¿«ï¼›</p>
</li>
<li><p>JavaScript å…·æœ‰è‡ªåŠ¨åƒåœ¾æ”¶é›†æœºåˆ¶ï¼Œæ‰§è¡Œç¯å¢ƒä¼šè´Ÿè´£ç®¡ç†ä»£ç æ‰§è¡Œè¿‡ç¨‹ä¸­ä½¿ç”¨çš„å†…å­˜ã€‚JavaScript ä¸­æœ€å¸¸ç”¨çš„åƒåœ¾æ”¶é›†æ–¹å¼æ˜¯<strong>æ ‡è®°æ¸…é™¤ï¼ˆmark-and-sweepï¼‰</strong>ï¼›åƒåœ¾æ”¶é›†å™¨åœ¨è¿è¡Œçš„æ—¶å€™ä¼šç»™å­˜å‚¨åœ¨å†…å­˜ä¸­çš„æ‰€æœ‰å˜é‡éƒ½åŠ ä¸Šæ ‡è®°ï¼Œç„¶åï¼Œå®ƒä¼šå»æ‰ç¯å¢ƒä¸­çš„å˜é‡ä»¥åŠè¢«ç¯å¢ƒä¸­çš„å˜é‡å¼•ç”¨çš„å˜é‡çš„æ ‡è®°ï¼›å¦ä¸€ç§ä¸å¤ªå¸¸è§çš„åƒåœ¾æ”¶é›†ç­–ç•¥å«åšå¼•ç”¨è®¡æ•°ï¼ˆreference countingï¼‰ï¼Œç„¶åè¿™ç§æ”¶é›†ç­–ç•¥å‡ºç°äº†ä¸¥é‡çš„é—®é¢˜ï¼š<strong>å¾ªç¯å¼•ç”¨</strong>ï¼</p>
</li>
<li><p>ä¸€æ—¦æ•°æ®ä¸å†æœ‰ç”¨ï¼Œæœ€å¥½é€šè¿‡å°†å…¶å€¼è®¾ç½®ä¸º null æ¥é‡Šæ”¾å…¶å¼•ç”¨ï¼Œç§°ä¸ºè§£é™¤å¼•ç”¨ï¼ˆdereferencingï¼‰ï¼›</p>
</li>
<li><p>ä»ä¸€ä¸ªå˜é‡å‘å¦ä¸€ä¸ªå˜é‡å¤åˆ¶å¼•ç”¨ç±»å‹çš„å€¼ï¼Œå¤åˆ¶çš„å…¶å®æ˜¯æŒ‡é’ˆï¼Œå› æ­¤ä¸¤ä¸ªå˜é‡æœ€ç»ˆéƒ½æŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡ï¼›</p>
</li>
</ol>
<h2 id="å¼•ç”¨ç±»å‹"><a href="#å¼•ç”¨ç±»å‹" class="headerlink" title="å¼•ç”¨ç±»å‹"></a>å¼•ç”¨ç±»å‹</h2><ol>
<li><p>åœ¨ ECMAScript ä¸­ï¼Œ<strong>å¼•ç”¨ç±»å‹</strong>æ˜¯ä¸€ç§æ•°æ®ç»“æ„ï¼Œç”¨äºå°†æ•°æ®å’ŒåŠŸèƒ½ç»„ç»‡åœ¨ä¸€èµ·ï¼›</p>
</li>
<li><p>å¯¹è±¡æ˜¯æŸä¸ªç‰¹å®šå¼•ç”¨ç±»å‹çš„å®ä¾‹ï¼Œæ–°å¯¹è±¡æ˜¯ä½¿ç”¨ new æ“ä½œç¬¦åè·Ÿä¸€ä¸ªæ„é€ å‡½æ•°æ¥åˆ›å»ºçš„ï¼›</p>
</li>
<li><p>åˆ›å»º Object å®ä¾‹çš„æ–¹å¼æœ‰ä¸¤ç§ï¼š</p>
<ul>
<li>ä½¿ç”¨ new æ“ä½œç¬¦åè·Ÿ Object æ„é€ å‡½æ•°</li>
<li>ä½¿ç”¨å¯¹è±¡å­—é¢é‡è¡¨ç¤ºæ³•</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">æ–¹æ³• 1</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">var</span> person = <span class="keyword">new</span> <span class="built_in">Object</span>(); </span><br><span class="line">person.name = <span class="string">"Nicholas"</span>; </span><br><span class="line">person.age = <span class="number">29</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> person = &#123;&#125;; <span class="comment">//ä¸ new Object()ç›¸åŒ</span></span><br><span class="line">person.name = <span class="string">"Nicholas"</span>; </span><br><span class="line">person.age = <span class="number">29</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">æ–¹æ³• 2</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">var</span> person = &#123; </span><br><span class="line">  name : <span class="string">"Nicholas"</span>, </span><br><span class="line">  age : <span class="number">29</span> </span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä¸€èˆ¬æ¥è¯´ï¼Œè®¿é—®å¯¹è±¡å±æ€§æ—¶ä½¿ç”¨çš„éƒ½æ˜¯ç‚¹è¡¨ç¤ºæ³•ï¼Œåœ¨ JavaScript ä¹Ÿå¯ä»¥ä½¿ç”¨æ–¹æ‹¬å·è¡¨ç¤ºæ³•æ¥è®¿é—®å¯¹è±¡çš„å±æ€§ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">alert(person[<span class="string">"name"</span>]);  <span class="comment">//"Nicholas"</span></span><br><span class="line">alert(person.name);     <span class="comment">//"Nicholas"</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>ECMAScript æ•°ç»„çš„æ¯ä¸€é¡¹å¯ä»¥ä¿å­˜ä»»ä½•ç±»å‹çš„æ•°æ®ï¼Œå¯ä»¥ç”¨æ•°ç»„çš„ç¬¬ä¸€ä¸ªä½ç½®æ¥ä¿å­˜å­—ç¬¦ä¸²ï¼Œç”¨ç¬¬äºŒä½ç½®æ¥ä¿å­˜æ•°å€¼ï¼Œç”¨ç¬¬ä¸‰ä¸ªä½ç½®æ¥ä¿å­˜å¯¹è±¡ï¼›</p>
<ol>
<li><p>åˆ›å»ºæ•°ç»„ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> colors = <span class="keyword">new</span> <span class="built_in">Array</span>();</span><br><span class="line"><span class="keyword">var</span> colors = <span class="keyword">new</span> <span class="built_in">Array</span>(<span class="number">20</span>); <span class="comment">//æŒ‡å®šæ•°ç»„é•¿åº¦</span></span><br><span class="line"><span class="keyword">var</span> colors = <span class="keyword">new</span> <span class="built_in">Array</span>(<span class="string">"red"</span>, <span class="string">"blue"</span>, <span class="string">"green"</span>); <span class="comment">//æŒ‡å®šé¡¹</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> colors = [<span class="string">"red"</span>, <span class="string">"blue"</span>, <span class="string">"green"</span>]; <span class="comment">// åˆ›å»ºä¸€ä¸ªåŒ…å« 3 ä¸ªå­—ç¬¦ä¸²çš„æ•°ç»„</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>åœ¨è¯»å–å’Œè®¾ç½®æ•°ç»„çš„å€¼æ—¶ï¼Œè¦ä½¿ç”¨æ–¹æ‹¬å·å¹¶æä¾›ç›¸åº”å€¼çš„åŸºäº 0 çš„æ•°å­—ç´¢å¼•</p>
</li>
<li><p>æ•°ç»„çš„é¡¹æ•°ä¿å­˜åœ¨å…¶ length å±æ€§ä¸­ï¼Œè¿™ä¸ªå±æ€§å§‹ç»ˆä¼šè¿”å› 0 æˆ–æ›´å¤§çš„å€¼ï¼Œæ•°ç»„çš„ length å±æ€§ä¸æ˜¯åªè¯»çš„</p>
</li>
<li><p>æ£€æµ‹æ•°ç»„ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (value <span class="keyword">instanceof</span> <span class="built_in">Array</span>)&#123; </span><br><span class="line">  <span class="comment">//å¯¹æ•°ç»„æ‰§è¡ŒæŸäº›æ“ä½œ </span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ•°ç»„ç»§æ‰¿çš„ toLocaleString()ã€toString()å’Œ valueOf()æ–¹æ³•ï¼Œåœ¨é»˜è®¤æƒ…å†µä¸‹éƒ½ä¼šä»¥é€—å·åˆ†éš”çš„å­—ç¬¦ä¸²çš„å½¢å¼è¿”å›æ•°ç»„é¡¹</p>
</li>
</ol>
</li>
<li><p>ECMAScript ä¸ºæ•°ç»„ä¸“é—¨æä¾›äº† push()å’Œ pop()æ–¹æ³•ï¼Œä»¥ä¾¿å®ç°ç±»ä¼¼æ ˆçš„è¡Œä¸ºï¼š</p>
<ul>
<li>push()æ–¹æ³•å¯ä»¥æ¥æ”¶ä»»æ„æ•°é‡çš„å‚æ•°ï¼ŒæŠŠå®ƒä»¬é€ä¸ªæ·»åŠ åˆ°æ•°ç»„æœ«å°¾ï¼Œå¹¶è¿”å›ä¿®æ”¹åæ•°ç»„çš„é•¿åº¦</li>
<li>pop()æ–¹æ³•ä»æ•°ç»„æœ«å°¾ç§»é™¤æœ€åä¸€é¡¹ï¼Œå‡å°‘æ•°ç»„çš„ length å€¼ï¼Œç„¶åè¿”å›ç§»é™¤çš„é¡¹</li>
</ul>
</li>
<li><p>ç»“åˆä½¿ç”¨ shift()å’Œ push()æ–¹æ³•ï¼Œå¯ä»¥åƒä½¿ç”¨é˜Ÿåˆ—ä¸€æ ·ä½¿ç”¨æ•°ç»„ï¼›</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> colors = <span class="keyword">new</span> <span class="built_in">Array</span>(); <span class="comment">//åˆ›å»ºä¸€ä¸ªæ•°ç»„ </span></span><br><span class="line"><span class="keyword">var</span> count = colors.push(<span class="string">"red"</span>, <span class="string">"green"</span>); <span class="comment">//æ¨å…¥ä¸¤é¡¹</span></span><br><span class="line">alert(count); <span class="comment">//2</span></span><br><span class="line"></span><br><span class="line">count = colors.push(<span class="string">"black"</span>); <span class="comment">//æ¨å…¥å¦ä¸€é¡¹</span></span><br><span class="line">alert(count); <span class="comment">//3</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> item = colors.shift(); </span><br><span class="line">alert(item); <span class="comment">//"red" </span></span><br><span class="line">alert(colors.length); <span class="comment">//2</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>unshift()æ–¹æ³•åœ¨æ•°ç»„çš„å‰ç«¯æ·»åŠ é¡¹ï¼Œèƒ½åœ¨æ•°ç»„å‰ç«¯æ·»åŠ ä»»æ„ä¸ªé¡¹å¹¶è¿”å›æ–°æ•°ç»„çš„é•¿åº¦ï¼›</p>
</li>
<li><p>æ•°ç»„ä¸­å·²ç»å­˜åœ¨ä¸¤ä¸ªå¯ä»¥ç›´æ¥ç”¨æ¥é‡æ’åºçš„æ–¹æ³•ï¼šreverse()å’Œ sort()ï¼›</p>
</li>
<li><p>æ•°ç»„æ“ä½œæ–¹æ³•ï¼š</p>
<ul>
<li>concat()æ–¹æ³•å¯ä»¥åŸºäºå½“å‰æ•°ç»„ä¸­çš„æ‰€æœ‰é¡¹åˆ›å»ºä¸€ä¸ªæ–°æ•°ç»„</li>
<li>slice()æ–¹æ³•å¯ä»¥åŸºäºå½“å‰æ•°ç»„ä¸­çš„ä¸€æˆ–å¤šä¸ªé¡¹åˆ›å»ºä¸€ä¸ªæ–°æ•°ç»„</li>
<li>indexOf()å’Œ lastIndexOf()ä½ç½®æ–¹æ³•ï¼Œè¦æŸ¥æ‰¾çš„é¡¹å’Œï¼ˆå¯é€‰çš„ï¼‰è¡¨ç¤ºæŸ¥æ‰¾èµ·ç‚¹ä½ç½®çš„ç´¢å¼•</li>
<li>every()ï¼šå¯¹æ•°ç»„ä¸­çš„æ¯ä¸€é¡¹è¿è¡Œç»™å®šå‡½æ•°ï¼Œå¦‚æœè¯¥å‡½æ•°å¯¹æ¯ä¸€é¡¹éƒ½è¿”å› trueï¼Œåˆ™è¿”å› true</li>
<li>filter()ï¼šå¯¹æ•°ç»„ä¸­çš„æ¯ä¸€é¡¹è¿è¡Œç»™å®šå‡½æ•°ï¼Œè¿”å›è¯¥å‡½æ•°ä¼šè¿”å› true çš„é¡¹ç»„æˆçš„æ•°ç»„</li>
<li>forEach()ï¼šå¯¹æ•°ç»„ä¸­çš„æ¯ä¸€é¡¹è¿è¡Œç»™å®šå‡½æ•°ã€‚è¿™ä¸ªæ–¹æ³•æ²¡æœ‰è¿”å›å€¼</li>
<li>map()ï¼šå¯¹æ•°ç»„ä¸­çš„æ¯ä¸€é¡¹è¿è¡Œç»™å®šå‡½æ•°ï¼Œè¿”å›æ¯æ¬¡å‡½æ•°è°ƒç”¨çš„ç»“æœç»„æˆçš„æ•°ç»„</li>
<li>some()ï¼šå¯¹æ•°ç»„ä¸­çš„æ¯ä¸€é¡¹è¿è¡Œç»™å®šå‡½æ•°ï¼Œå¦‚æœè¯¥å‡½æ•°å¯¹ä»»ä¸€é¡¹è¿”å› trueï¼Œåˆ™è¿”å› true</li>
<li>reduce()æ–¹æ³•ä»æ•°ç»„çš„ç¬¬ä¸€é¡¹å¼€å§‹ï¼Œé€ä¸ªéå†åˆ°æœ€åã€‚è€Œ reduceRight()åˆ™ä»æ•°ç»„çš„æœ€åä¸€é¡¹å¼€å§‹ï¼Œå‘å‰éå†åˆ°ç¬¬ä¸€é¡¹ï¼Œå½’å¹¶æ•°ç»„</li>
</ul>
</li>
<li><p>ECMAScript ä¸­çš„ Date ç±»å‹æ˜¯åœ¨æ—©æœŸ Java ä¸­çš„ java.util.Date ç±»åŸºç¡€ä¸Šæ„å»ºçš„ï¼›</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> now = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br></pre></td></tr></table></figure>
</li>
<li><p>Date ç±»å‹é‡å†™äº† toLocaleString()ã€toString()å’Œ valueOf()æ–¹æ³•ï¼›</p>
</li>
<li><p>Date ç±»å‹æ–¹æ³•ï¼š</p>
<ul>
<li>toDateString()â€”â€”ä»¥ç‰¹å®šäºå®ç°çš„æ ¼å¼æ˜¾ç¤ºæ˜ŸæœŸå‡ ã€æœˆã€æ—¥å’Œå¹´</li>
<li>toTimeString()â€”â€”ä»¥ç‰¹å®šäºå®ç°çš„æ ¼å¼æ˜¾ç¤ºæ—¶ã€åˆ†ã€ç§’å’Œæ—¶åŒº</li>
<li>toLocaleDateString()â€”â€”ä»¥ç‰¹å®šäºåœ°åŒºçš„æ ¼å¼æ˜¾ç¤ºæ˜ŸæœŸå‡ ã€æœˆã€æ—¥å’Œå¹´</li>
<li>toLocaleTimeString()â€”â€”ä»¥ç‰¹å®šäºå®ç°çš„æ ¼å¼æ˜¾ç¤ºæ—¶ã€åˆ†ã€ç§’</li>
<li>toUTCString()â€”â€”ä»¥ç‰¹å®šäºå®ç°çš„æ ¼å¼å®Œæ•´çš„ UTC æ—¥æœŸ</li>
</ul>
</li>
<li><p>ECMAScript é€šè¿‡ RegExp ç±»å‹æ¥æ”¯æŒæ­£åˆ™è¡¨è¾¾å¼ï¼›</p>
</li>
<li><p>ECMAScript è¿˜æä¾›äº† 3 ä¸ªç‰¹æ®Šçš„å¼•ç”¨ç±»å‹ï¼šBooleanã€Number å’Œ Stringï¼›</p>
</li>
<li><p>å‡½æ•°å®é™…ä¸Šæ˜¯ Function ç±»å‹çš„å®ä¾‹ï¼Œå› æ­¤å‡½æ•°ä¹Ÿæ˜¯å¯¹è±¡ï¼›</p>
</li>
</ol>
<h2 id="é¢å‘å¯¹è±¡"><a href="#é¢å‘å¯¹è±¡" class="headerlink" title="é¢å‘å¯¹è±¡"></a>é¢å‘å¯¹è±¡</h2><ol>
<li><p>ECMAScript ä¸­æ²¡æœ‰ç±»çš„æ¦‚å¿µï¼Œå› æ­¤å®ƒçš„å¯¹è±¡ä¹Ÿä¸åŸºäºç±»çš„è¯­è¨€ä¸­çš„å¯¹è±¡æœ‰æ‰€ä¸åŒï¼›</p>
</li>
<li><p>å¯¹è±¡å®šä¹‰ï¼šæ— åºå±æ€§çš„é›†åˆï¼Œå…¶å±æ€§å¯ä»¥åŒ…å«åŸºæœ¬å€¼ã€å¯¹è±¡æˆ–è€…å‡½æ•°ï¼›</p>
</li>
<li><p>å¯¹è±¡ç¤ºä¾‹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> person = <span class="keyword">new</span> <span class="built_in">Object</span>(); </span><br><span class="line">person.name = <span class="string">"Nicholas"</span>; </span><br><span class="line">person.age = <span class="number">29</span>; </span><br><span class="line">person.job = <span class="string">"Software Engineer"</span>;</span><br><span class="line"></span><br><span class="line">person.sayName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123; </span><br><span class="line">  alert(<span class="keyword">this</span>.name); </span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¸‹é¢çš„ä¹Ÿå¯ä»¥</span></span><br><span class="line"><span class="keyword">var</span> person = &#123;</span><br><span class="line">	name: <span class="string">"Nicholas"</span>, </span><br><span class="line">  age: <span class="number">29</span>, </span><br><span class="line">  job: <span class="string">"Software Engineer"</span>,</span><br><span class="line">	sayName: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123; </span><br><span class="line">    alert(<span class="keyword">this</span>.name);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ•°æ®å±æ€§åŒ…å«ä¸€ä¸ªæ•°æ®å€¼çš„ä½ç½®,æ•°æ®å±æ€§æœ‰ 4 ä¸ªæè¿°å…¶è¡Œä¸ºçš„ç‰¹æ€§ï¼š</p>
<ul>
<li>[[Configurable]]ï¼šè¡¨ç¤ºèƒ½å¦é€šè¿‡ delete åˆ é™¤å±æ€§ä»è€Œé‡æ–°å®šä¹‰å±æ€§ï¼Œèƒ½å¦ä¿®æ”¹å±æ€§çš„ç‰¹æ€§ï¼Œæˆ–è€…èƒ½å¦æŠŠå±æ€§ä¿®æ”¹ä¸ºè®¿é—®å™¨å±æ€§</li>
<li>[[Enumerable]]ï¼šè¡¨ç¤ºèƒ½å¦é€šè¿‡ for-in å¾ªç¯è¿”å›å±æ€§</li>
<li>[[Writable]]ï¼šè¡¨ç¤ºèƒ½å¦ä¿®æ”¹å±æ€§çš„å€¼</li>
<li>[[Value]]ï¼šåŒ…å«è¿™ä¸ªå±æ€§çš„æ•°æ®å€¼</li>
</ul>
</li>
<li><p>æ•°æ®å±æ€§ç¤ºä¾‹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> person = &#123;&#125;; </span><br><span class="line"><span class="built_in">Object</span>.defineProperty(person, <span class="string">"name"</span>, &#123;</span><br><span class="line">	writable: <span class="literal">false</span>,</span><br><span class="line">	value: <span class="string">"Nicholas"</span> &#125;);</span><br><span class="line"></span><br><span class="line">alert(person.name); <span class="comment">// "Nicholas"</span></span><br><span class="line">person.name = <span class="string">"Greg"</span>; </span><br><span class="line">alert(person.name); <span class="comment">//"Nicholas"</span></span><br><span class="line"><span class="comment">//Â å¦‚æœå°è¯•ä¸ºå®ƒæŒ‡å®šæ–°å€¼ï¼Œåˆ™åœ¨éä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œèµ‹å€¼æ“ä½œå°†è¢«å¿½ç•¥ï¼›åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œèµ‹å€¼æ“ä½œå°†ä¼šå¯¼è‡´æŠ›å‡ºé”™è¯¯</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>ç¤ºä¾‹2ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> person = &#123;&#125;; </span><br><span class="line"><span class="built_in">Object</span>.defineProperty(person, <span class="string">"name"</span>, &#123;</span><br><span class="line">	configurable: <span class="literal">false</span>,</span><br><span class="line">	value: <span class="string">"Nicholas"</span> &#125;);</span><br><span class="line"></span><br><span class="line">alert(person.name); <span class="comment">//"Nicholas"</span></span><br><span class="line"><span class="keyword">delete</span> person.name; </span><br><span class="line">alert(person.name); <span class="comment">// "Nicholas"</span></span><br><span class="line"><span class="comment">// ä¸€æ—¦æŠŠå±æ€§å®šä¹‰ä¸ºä¸å¯é…ç½®çš„ï¼Œå°±ä¸èƒ½å†æŠŠå®ƒå˜å›å¯é…ç½®äº†</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>å¤šæ•°æƒ…å†µä¸‹ï¼Œå¯èƒ½éƒ½æ²¡æœ‰å¿…è¦åˆ©ç”¨ Object.defineProperty() æ–¹æ³•æä¾›çš„è¿™äº›é«˜çº§åŠŸï¼Œä¸è¿‡ï¼Œç†è§£è¿™äº›æ¦‚å¿µå¯¹ç†è§£ JavaScript å¯¹è±¡å´éå¸¸æœ‰ç”¨ï¼›</p>
</li>
<li><p>è®¿é—®å™¨å±æ€§ä¸åŒ…å«æ•°æ®å€¼ï¼›å®ƒä»¬åŒ…å«ä¸€å¯¹å„¿ getter å’Œ setter å‡½æ•°ï¼Œæœ‰4ä¸ªç‰¹æ€§ï¼š</p>
<ul>
<li>[[Configurable]]ï¼šè¡¨ç¤ºèƒ½å¦é€šè¿‡ delete åˆ é™¤å±æ€§ä»è€Œé‡æ–°å®šä¹‰å±æ€§ï¼Œèƒ½å¦ä¿®æ”¹å±æ€§çš„ç‰¹æ€§ï¼Œ æˆ–è€…èƒ½å¦æŠŠå±æ€§ä¿®æ”¹ä¸ºæ•°æ®å±æ€§</li>
<li>[[Enumerable]]ï¼šè¡¨ç¤ºèƒ½å¦é€šè¿‡ for-in å¾ªç¯è¿”å›å±æ€§</li>
<li>[[Get]]ï¼šåœ¨è¯»å–å±æ€§æ—¶è°ƒç”¨çš„å‡½æ•°</li>
<li>[[Set]]ï¼šåœ¨å†™å…¥å±æ€§æ—¶è°ƒç”¨çš„å‡½æ•°</li>
</ul>
</li>
<li><p>è®¿é—®å™¨å±æ€§ç¤ºä¾‹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> book = &#123; </span><br><span class="line">  _year: <span class="number">2004</span>, </span><br><span class="line">  edition: <span class="number">1</span> &#125;;</span><br><span class="line"></span><br><span class="line"><span class="built_in">Object</span>.defineProperty(book, <span class="string">"year"</span>, &#123; </span><br><span class="line">  <span class="keyword">get</span>: function()&#123; </span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>._year; &#125;, </span><br><span class="line">  <span class="keyword">set</span>: function(newValue)&#123;</span><br><span class="line">    <span class="keyword">if</span> (newValue &gt; <span class="number">2004</span>) &#123; </span><br><span class="line">      <span class="keyword">this</span>._year = newValue; </span><br><span class="line">      <span class="keyword">this</span>.edition += newValue - <span class="number">2004</span>; </span><br><span class="line">    &#125;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;);</span><br><span class="line">book.year = <span class="number">2005</span>; </span><br><span class="line">alert(book.edition);<span class="comment">// 2</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>ECMAScript 5 å®šä¹‰äº†ä¸€ä¸ª Object.defineProperties()æ–¹æ³•ï¼Œåˆ©ç”¨è¿™ä¸ªæ–¹æ³•å¯ä»¥é€šè¿‡æè¿°ç¬¦ä¸€æ¬¡å®šä¹‰å¤šä¸ªå±æ€§ï¼›</p>
</li>
<li><p>ä½¿ç”¨ ECMAScript 5 çš„ Object.getOwnPropertyDescriptor()æ–¹æ³•ï¼Œå¯ä»¥å–å¾—ç»™å®šå±æ€§çš„æè¿°ç¬¦ï¼›</p>
</li>
<li><p>å·¥å‚æ¨¡å¼æ˜¯è½¯ä»¶å·¥ç¨‹é¢†åŸŸä¸€ç§å¹¿ä¸ºäººçŸ¥çš„è®¾è®¡æ¨¡å¼ï¼Œè¿™ç§æ¨¡å¼æŠ½è±¡äº†åˆ›å»ºå…·ä½“å¯¹è±¡çš„è¿‡ç¨‹ï¼</p>
</li>
<li><p>ECMAScript ä¸­çš„æ„é€ å‡½æ•°å¯ç”¨æ¥åˆ›å»ºç‰¹å®šç±»å‹çš„å¯¹è±¡ï¼Œä»»ä½•å‡½æ•°ï¼Œåªè¦é€šè¿‡ new æ“ä½œç¬¦æ¥è°ƒç”¨ï¼Œé‚£å®ƒå°±å¯ä»¥ä½œä¸ºæ„é€ å‡½æ•°ï¼›</p>
</li>
</ol>
<h2 id="JavaScriptåº“"><a href="#JavaScriptåº“" class="headerlink" title="JavaScriptåº“"></a>JavaScriptåº“</h2><ol>
<li>YUIï¼ˆYahoo!User Interface Libraryï¼Œé›…è™ç”¨æˆ· ç•Œé¢åº“ï¼‰ï¼šå¼€æº JavaScript ä¸ CSS åº“ï¼Œä»¥ä¸€ç§ç»„ä»¶æ–¹å¼è®¾è®¡çš„ï¼Œæ¶µç›–äº† JavaScript çš„æ‰€æœ‰æ–¹é¢ï¼Œä»åŸºæœ¬çš„å·¥å…·åŠå¸®åŠ©å‡½æ•°åˆ°å®Œå–„çš„æµè§ˆå™¨éƒ¨ä»¶ï¼›</li>
<li>Prototypeï¼šæä¾›äº†å¸¸è§ä»»åŠ¡ APIçš„å¼€æºåº“ï¼Œåªæœ‰ä¸€ä¸ªå•ç‹¬çš„æ–‡ä»¶ï¼Œå¯ä»¥å¾ˆå®¹æ˜“åœ°æ”¾å…¥ä»»æ„é¡µé¢ï¼›</li>
<li>Dojo Toolkitï¼š åŸºäºä¸€ç§åŒ…ç³»ç»Ÿå»ºæ¨¡ï¼Œä¸€ç»„åŠŸèƒ½ç»„æˆä¸€ä¸ªåŒ…ï¼Œå¯ä»¥æŒ‰éœ€è½½å…¥ï¼ŒDojo æä¾›äº†èŒƒå›´ å¹¿æ³›çš„é€‰é¡¹å’Œé…ç½®ï¼Œå‡ ä¹æ¶µç›–äº†ä½ è¦ç”¨ JavaScript åšçš„ä»»ä½•äº‹æƒ…ï¼›</li>
<li>MooTools ï¼šä¸ºäº†ç²¾ç®€å’Œä¼˜åŒ–è€Œè®¾è®¡çš„å¼€æºåº“ï¼Œå®ƒä¸ºå†…ç½® JavaScript å¯¹è±¡æ·»åŠ äº†å„ç§æ–¹æ³•ï¼Œä»¥é€šè¿‡æ¥è¿‘çš„æ¥å£æä¾›æ–°åŠŸèƒ½ï¼Œæˆ–è€…ç›´æ¥æä¾›æ–°çš„å¯¹è±¡ï¼›</li>
<li>jQuery ï¼šç»™ JavaScript æä¾›äº†å‡½æ•°å¼ç¼–ç¨‹æ¥å£çš„å¼€æºåº“ï¼›</li>
<li>MochKit ï¼šä¸€ä¸ªç”±ä¸€äº›å°å·¥å…·ç»„æˆçš„å¼€æºåº“ï¼Œå®ƒä»¥å®Œå–„çš„æ–‡æ¡£å’Œå®Œæ•´çš„æµ‹è¯•è§é•¿ï¼Œæ‹¥æœ‰å¤§é‡ API åŠ ç›¸å…³èŒƒä¾‹æ–‡æ¡£ä»¥åŠæ•°ç™¾ä¸ªæµ‹è¯•æ¥ç¡®ä¿è´¨é‡ï¼›</li>
<li>Underscore.jsï¼šæ˜¯å¯¹ jQuery çš„è¡¥å……ï¼Œæä¾›äº†æ“ä½œå¯¹è±¡ã€æ•°ç»„ã€å‡½æ•°å’Œå…¶ä»– JavaScript æ•°æ®ç±»å‹çš„æ›´å¤šçš„ä½çº§åŠŸèƒ½ï¼›</li>
<li>Backbone.jsï¼šæ„å»ºäº Underscore.js åŸºç¡€ä¹‹ä¸Šçš„ä¸€ä¸ªè¿·ä½  MVC å¼€æºåº“ï¼›</li>
<li>Rico ï¼šå¼€æºåº“ï¼Œæ—¨åœ¨è®©è¡Œä¸ºä¸°å¯Œçš„äº’è”ç½‘åº”ç”¨çš„å¼€å‘æ›´åŠ ç®€å•ï¼›</li>
<li>moo.fx ï¼šå¼€æºåŠ¨ç”»åº“ï¼Œæ˜¯è®¾è®¡åœ¨ Prototype æˆ–è€… MooTools ä¹‹ä¸Šè¿è¡Œçš„ï¼›</li>
<li>JavaScript MD5ï¼šå®ç°äº† MD4ã€MD5 ä»¥åŠ SHA-1 å®‰å…¨æ•£åˆ—å‡½æ•°ï¼›</li>
<li>JavaScryptï¼šå®ç°äº† MD5 å’Œ AESï¼ˆ256 ä½ï¼‰åŠ å¯†ç®—æ³•ï¼›</li>
<li>â€¦ â€¦</li>
</ol>
]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
  </entry>
  <entry>
    <title>JavaScriptå¼‚æ­¥ç¼–ç¨‹</title>
    <url>/2020/06/16/JavaScript%E5%BC%82%E6%AD%A5%E7%BC%96%E7%A8%8B/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>JavaScriptæ˜¯ä¸ªå•çº¿ç¨‹çš„ç¼–ç¨‹è¯­è¨€ï¼Œç»éªŒä¸°å¯Œçš„JavaScriptç¨‹åºå‘˜ä¹Ÿéš¾å…è¢«ç½‘ç»œä¸­é”™ç»¼å¤æ‚çš„å›è°ƒå‡½æ•°å¼„å¾—ç°å¤´åœŸè„¸ã€‚ç†è§£äº† Javascript çš„å¼‚æ­¥æ¨¡å¼å¯ä»¥å†™å‡ºç»“æ„æ›´åˆç†ã€æ€§èƒ½æ›´å‡ºè‰²ã€ç»´æŠ¤æ›´æ–¹ä¾¿çš„Javascript ç¨‹åºï¼è®©æˆ‘ä»¬è¯æ˜ç»™å…¨ä¸–ç•Œçœ‹ï¼Œå³ä½¿æ˜¯æœ€å¤æ‚çš„é—®é¢˜ä¹Ÿå¯ä»¥ç”¨æ•´æ´çš„ã€å¯ç»´æŠ¤çš„ JavaScript ä»£ç æ¥è§£å†³ï¼ <strong>æ¨èä¹¦ç±ï¼šã€ŠJavaScriptå¼‚æ­¥ç¼–ç¨‹Â·è®¾è®¡å¿«é€Ÿå“åº”çš„ç½‘ç»œåº”ç”¨ã€‹Â· [ç¾] Trevor Burnham è‘— è®¸é’æ¾ è¯‘</strong>            </p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="æ·±å…¥ç†è§£-JavaScript-äº‹ä»¶"><a href="#æ·±å…¥ç†è§£-JavaScript-äº‹ä»¶" class="headerlink" title="æ·±å…¥ç†è§£ JavaScript äº‹ä»¶"></a>æ·±å…¥ç†è§£ JavaScript äº‹ä»¶</h2><ol>
<li><p>JavaScript äº‹ä»¶æ¨¡å‹æ—¢ä¼˜é›…åˆå®ç”¨ï¼Œäº†è§£äº†JavaScriptçš„å•çº¿ç¨‹è®¾è®¡ä¹‹åï¼Œå°±ä¼šè§‰å¾—JavaScriptäº‹ä»¶æ¨¡å‹æ›´åƒæ˜¯ä¸€ç§åŠŸèƒ½ï¼›</p>
</li>
<li><p>å›è°ƒå°±æ˜¯ä¸€ç§æ™®é€šå‡½æ•°ï¼Œåªä¸è¿‡å®ƒæ˜¯ä¼ ç»™åƒsetTimeout è¿™æ ·çš„å‡½æ•°ï¼Œæˆ–è€…ç»‘å®šä¸ºåƒdocument.onready è¿™æ ·çš„å±æ€§ï¼›è¿è¡Œå›è°ƒæ—¶ï¼Œç§°å·²è§¦å‘æŸäº‹ä»¶ï¼›</p>
</li>
<li><p>JavaScript äº‹ä»¶å¤„ç†å™¨åœ¨çº¿ç¨‹ç©ºé—²ä¹‹å‰ä¸ä¼šè¿è¡Œï¼›</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">1</span>; i &lt;= <span class="number">3</span>; i++) </span><br><span class="line">&#123; </span><br><span class="line">setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"> <span class="built_in">console</span>.log(i); </span><br><span class="line"> &#125;, <span class="number">0</span>); </span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// è¾“å‡º 4 4 4</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>äº‹ä»¶çš„æ˜“è°ƒåº¦æ€§æ˜¯ JavaScript è¯­è¨€æœ€å¤§çš„ç‰¹è‰²ä¹‹ä¸€ï¼ŒåƒsetTimeoutè¿™æ ·çš„å¼‚æ­¥å‡½æ•°åªæ˜¯ç®€å•åœ°åšå»¶è¿Ÿæ‰§è¡Œï¼Œ è€Œä¸æ˜¯å­µåŒ–æ–°çš„çº¿ç¨‹ï¼›</p>
</li>
<li><p>æ¯ä¸€ç§ JavaScript ç¯å¢ƒéƒ½æœ‰è‡ªå·±çš„å¼‚æ­¥å‡½æ•°é›†ã€‚å¼‚æ­¥å‡½æ•°é€šå¸¸å¯ä»¥åˆ†ä¸ºä¸¤å¤§ç±»ï¼šI/O å‡½æ•°å’Œè®¡æ—¶å‡½æ•°ï¼›</p>
</li>
<li><p>åœ¨ Node ä¸­ï¼Œ process.nextTick å…è®¸å°†äº‹ä»¶è°ƒåº¦æˆå°½å¯èƒ½å¿«åœ°è§¦å‘ï¼›</p>
</li>
<li><p>ä¸€äº›ç°ä»£æµè§ˆå™¨ï¼ˆå« IE9+ï¼‰å¸¦æœ‰ä¸€ä¸ª requestAnimationFrameå‡½æ•°ï¼›</p>
</li>
<li><p>JavaScript ä¸­çš„æ¯ä¸ªå¼‚æ­¥å‡½æ•°éƒ½æ„å»ºåœ¨å…¶ä»–æŸä¸ªæˆ–æŸäº›å¼‚æ­¥å‡½æ•°ä¹‹ä¸Šï¼Œå‡¡æ˜¯å¼‚æ­¥å‡½æ•°ï¼Œä»ä¸Šåˆ°ä¸‹ï¼ˆä¸€ç›´åˆ°åŸç”Ÿä»£ç ï¼‰éƒ½æ˜¯å¼‚æ­¥çš„ï¼</p>
</li>
<li><p>JavaScript å…è®¸æŠ›å‡ºå¼‚å¸¸ï¼Œéšåå†ç”¨ä¸€ä¸ª try/catch è¯­å¥å—æ•è·ï¼Œå¦‚æœæŠ›å‡ºçš„å¼‚å¸¸æœªè¢«æ•è·ï¼Œå¤§å¤šæ•° JavaScript ç¯å¢ƒéƒ½ä¼šæä¾›ä¸€ä¸ªæœ‰ç”¨çš„å †æ ˆè½¨è¿¹ï¼›</p>
</li>
<li><p>å¯¹äºæœªæ•è·çš„å¼‚å¸¸ï¼Œä¸åŒçš„ç¯å¢ƒæœ‰ç€ä¸åŒçš„è§„åˆ™ï¼ä¸ç®¡åœ¨æµè§ˆå™¨ç«¯è¿˜æ˜¯æœåŠ¡å™¨ç«¯ï¼Œå…¨å±€çš„å¼‚å¸¸å¤„ç†å™¨éƒ½åº”è¢«è§†ä½œæœ€åä¸€æ ¹æ•‘å‘½ç¨»è‰ï¼Œè¯·ä»…åœ¨è°ƒè¯•æ—¶æ‰ä½¿ç”¨å®ƒï¼›</p>
</li>
</ol>
<h2 id="åˆ†å¸ƒå¼äº‹ä»¶"><a href="#åˆ†å¸ƒå¼äº‹ä»¶" class="headerlink" title="åˆ†å¸ƒå¼äº‹ä»¶"></a>åˆ†å¸ƒå¼äº‹ä»¶</h2><ol>
<li>å­¦ä¼šå¦‚ä½•ä½¿ç”¨ PubSubï¼ˆPublish/Subscribeï¼Œæ„ä¸º å¸ƒ/è®¢é˜…â€ï¼‰æ¨¡å¼æ¥åˆ†å‘äº‹ä»¶ï¼›</li>
<li>ä»è½¯ä»¶æ¶æ„çš„è§’åº¦çœ‹ï¼ŒjQuery å°† link å…ƒç´ çš„äº‹ä»¶å‘å¸ƒç»™äº†ä»»ä½•æƒ³è®¢é˜…æ­¤äº‹ä»¶çš„äººï¼Œæ­£æ˜¯ç§°å…¶ä¸º PubSub æ¨¡å¼çš„åŸå› ï¼›</li>
<li>Node ä¸­å‡ ä¹æ‰€æœ‰çš„ I/O æºéƒ½æ˜¯ EventEmitter å¯¹è±¡ï¼šæ–‡ä»¶æµã€HTTP æœåŠ¡å™¨ï¼Œç”šè‡³æ˜¯åº”ç”¨è¿›ç¨‹æœ¬èº«ã€‚å¾ˆå¤š MVC æ¡†æ¶ï¼Œå¦‚ Backbone.js å’Œ Spineï¼Œéƒ½æä¾›äº†è‡ªå·±çš„ç±» EventEmitter æ¨¡å—ï¼›</li>
<li>Backbone.js å…è®¸å‘â€allâ€äº‹ä»¶ç±»å‹ç»‘å®šäº‹ä»¶å¤„ç†å™¨ï¼Œè¿™æ ·ä¸ç®¡å‘ç”Ÿä»€ä¹ˆäº‹ï¼Œéƒ½ä¼šå¯¼è‡´è¿™äº›äº‹ä»¶å¤„ç†å™¨çš„è§¦å‘ã€‚jQuery å’ŒBackbone.js éƒ½æ”¯æŒç”¨ç©ºæ ¼éš”å¼€å¤šä¸ªäº‹ä»¶æ¥åŒæ—¶ç»‘å®šæˆ–è§¦å‘å¤šç§äº‹ä»¶ç±»å‹ï¼Œè­¬å¦‚â€keypress mousemoveâ€ï¼›</li>
<li>åœ¨å‡ ä¹æ‰€æœ‰çš„åº”ç”¨ç¨‹åºä¸­ï¼Œè¿™ç§å…³æ³¨å±‚é¢çš„åˆ†ç¦»éƒ½ä¼šå¸¦æ¥æ›´ä¼˜é›…ã€æ›´ç›´è§‚çš„ä»£ç ï¼›</li>
<li>äº‹ä»¶åŒ–æ¨¡å‹è¦æƒ³å·¥ä½œçš„è¯ï¼Œå¿…é¡»è¦ä½¿ç”¨ä¸€äº›åƒBackbone.jsä¹‹set/getè¿™æ ·çš„æ–¹æ³•ï¼›</li>
<li>äº‹ä»¶ç›´è§‚æ˜ å°„è‡³é¡µé¢å…ƒç´ ä¹‹åï¼ŒjQuery å°±æˆä¸ºåˆ†å‘è¿™äº›äº‹ä»¶çš„ä¸€ç§ç†æƒ³æ–¹å¼ï¼›</li>
</ol>
<h2 id="Promise-å¯¹è±¡å’Œ-Deferred-å¯¹è±¡"><a href="#Promise-å¯¹è±¡å’Œ-Deferred-å¯¹è±¡" class="headerlink" title="Promise å¯¹è±¡å’Œ Deferred å¯¹è±¡"></a>Promise å¯¹è±¡å’Œ Deferred å¯¹è±¡</h2><ol>
<li>Promise å¯¹è±¡ä»£è¡¨ä¸€é¡¹æœ‰ä¸¤ç§å¯èƒ½ç»“æœï¼ˆæˆåŠŸæˆ–å¤±è´¥ï¼‰çš„ä»»åŠ¡ï¼Œå®ƒè¿˜æŒæœ‰å¤šä¸ªå›è°ƒï¼Œå‡ºç°ä¸åŒç»“æœæ—¶ä¼šåˆ†åˆ«è§¦å‘ç›¸åº”çš„å›è°ƒï¼›</li>
<li>Promise å¯¹è±¡å…è®¸å‘åŒä¸€ä¸ªäº‹ä»¶ç»‘å®šä»»æ„å¤šçš„å¤„ç†å™¨ï¼ˆå †ç§¯æŠ€æœ¯ï¼‰ï¼Œå¯ä»¥è½»æ¾ä»ç°æœ‰Promiseå¯¹è±¡æ´¾ç”Ÿå‡ºæ–°çš„ Promise å¯¹è±¡ï¼›</li>
<li>Deferred æ˜¯ Promise çš„è¶…é›†ï¼Œå®ƒæ¯” Promise å¤šäº†ä¸€é¡¹å…³é”®ç‰¹æ€§ï¼šå¯ä»¥ç›´æ¥è§¦å‘ã€‚çº¯ Promise å®ä¾‹åªå…è®¸æ·»åŠ å¤šä¸ªè°ƒç”¨ï¼Œè€Œä¸”å¿…é¡»ç”±å…¶ä»–ä»€ä¹ˆä¸œè¥¿æ¥è§¦å‘è¿™äº›è°ƒç”¨ï¼›</li>
<li>ä½¿ç”¨ resolveï¼ˆæ‰§è¡Œï¼‰æ–¹æ³•å’Œ rejectï¼ˆæ‹’ç»ï¼‰æ–¹æ³•å‡å¯è§¦å‘ Deferred å¯¹è±¡ï¼›</li>
<li>å¯¹ Deferred å¯¹è±¡è°ƒç”¨ promise æ–¹æ³•å³å¯è·å¾—çº¯ç”Ÿçš„promiseå¯¹è±¡ï¼›</li>
<li>æ¯ä¸ª Deferred å¯¹è±¡éƒ½å«æœ‰ä¸€ä¸ª Promise å¯¹è±¡ï¼Œè€Œæ¯ä¸ªPromise å¯¹è±¡éƒ½ä»£è¡¨ç€ä¸€ä¸ª Deferred å¯¹è±¡ã€‚æœ‰äº† Deferred å¯¹è±¡ï¼Œå°±å¯ä»¥æ§åˆ¶å…¶çŠ¶æ€ï¼Œè€Œæœ‰äº†çº¯ Promise å¯¹è±¡ï¼Œåªèƒ½è¯»å–å…¶çŠ¶æ€åŠé™„åŠ å›è°ƒï¼›</li>
<li>Promise åŒæ ·é€‚ç”¨äºæœ¬åœ°çš„ä¸€äº›å¼‚æ­¥æ“ä½œï¼Œæ¯”å¦‚åŠ¨ç”»ï¼›</li>
<li>æ‰§è¡Œæˆ–æ‹’ç» Deferred å¯¹è±¡æ—¶ï¼Œ æä¾›çš„ä»»ä½•å‚æ•°éƒ½ä¼šè½¬å‘è‡³ç›¸åº”çš„å›è°ƒï¼›</li>
<li>Promise å¯¹è±¡æ¥å— 3 ç§å›è°ƒå½¢å¼ï¼š doneã€ fail å’Œ progressã€‚æ‰§è¡Œ Promise å¯¹è±¡æ—¶ï¼Œè¿è¡Œçš„æ˜¯ done å›è°ƒï¼›æ‹’ç» Promiseå¯¹è±¡æ—¶ï¼Œè¿è¡Œçš„æ˜¯ fail å›è°ƒï¼›å¯¹å¤„äºæŒ‚èµ·çŠ¶æ€çš„ Deferred å¯¹è±¡è°ƒç”¨notify æ—¶ï¼Œè¿è¡Œçš„æ˜¯ progress å›è°ƒï¼›</li>
</ol>
<h2 id="Async-js-çš„å·¥ä½œæµæ§åˆ¶"><a href="#Async-js-çš„å·¥ä½œæµæ§åˆ¶" class="headerlink" title="Async.js çš„å·¥ä½œæµæ§åˆ¶"></a>Async.js çš„å·¥ä½œæµæ§åˆ¶</h2><ol>
<li><p>å·¥ä½œæµæ§åˆ¶ï¼ˆä¹Ÿç§°ä½œæ§åˆ¶å·¥ä½œæµï¼‰å¯ä»¥å¤§å¹…åº¦ç®€åŒ–åŒæ­¥ä»£ç ä¸­çš„è¿­ä»£ï¼Œä¹Ÿå¯ä»¥æ¶ˆè§£å¼‚æ­¥ä»£ç ä¸­çš„å¥—è¯ï¼›</p>
</li>
<li><p>ç›®å‰æœ€æµè¡Œçš„å·¥ä½œæµæ§åˆ¶åº“å½“å± Caolan McMahon å¼€å‘çš„å¼ºå¤§çš„Async.js ï¼›</p>
</li>
<li><p>è·å–å¹¶å®‰è£…æœ€æ–°çš„Nodeï¼Œç„¶ånpmå®‰è£…åŒ…ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">npm install -g async step</span><br></pre></td></tr></table></figure>
</li>
<li><p>åŒæ­¥æ–¹æ³•è¯»å–æ–‡ä»¶å¤¹ä¸­æ‰€æœ‰æ–‡ä»¶çš„å†…å®¹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> fs = <span class="built_in">require</span>(<span class="string">'fs'</span>);</span><br><span class="line">process.chdir(<span class="string">'/Users/wander/Desktop/test'</span>);</span><br><span class="line"><span class="keyword">var</span> concatenation = <span class="string">''</span>;</span><br><span class="line">fs.readdirSync(<span class="string">'.'</span>).filter(<span class="function"><span class="keyword">function</span>(<span class="params">filename</span>) </span>&#123;</span><br><span class="line">	<span class="comment">// è·³è¿‡ä¸æ˜¯æ–‡ä»¶çš„ç›®å½• </span></span><br><span class="line">	<span class="keyword">return</span> fs.statSync(filename).isFile(); &#125;).forEach(<span class="function"><span class="keyword">function</span>(<span class="params">filename</span>) </span>&#123;</span><br><span class="line">		<span class="comment">// å†…å®¹æ·»åŠ åˆ°è¾“å‡ºä¸Š </span></span><br><span class="line">		concatenation += fs.readFileSync(filename, <span class="string">'utf8'</span>)</span><br><span class="line">		&#125;);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(concatenation);</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä¸Šè¿°ä»£ç æ¢æˆå¼‚æ­¥è¯»å–æ–‡ä»¶å†…å®¹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> fs = <span class="built_in">require</span>(<span class="string">'fs'</span>);</span><br><span class="line">process.chdir(<span class="string">'/Users/wander/Desktop/test'</span>);</span><br><span class="line"><span class="keyword">var</span> concatenation = <span class="string">''</span>;</span><br><span class="line">fs.readdirSync(<span class="string">'.'</span>).filter(<span class="function"><span class="keyword">function</span>(<span class="params">filename</span>) </span>&#123;</span><br><span class="line">	<span class="comment">// è·³è¿‡ä¸æ˜¯æ–‡ä»¶çš„ç›®å½• </span></span><br><span class="line">	<span class="keyword">return</span> fs.statSync(filename).isFile(); &#125;).forEach(<span class="function"><span class="keyword">function</span>(<span class="params">filename</span>) </span>&#123;</span><br><span class="line">		<span class="comment">// å†…å®¹æ·»åŠ åˆ°è¾“å‡ºä¸Š </span></span><br><span class="line">		fs.readFile(filename, <span class="string">'utf8'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">err, contents</span>) </span>&#123; <span class="keyword">if</span> (err) <span class="keyword">throw</span> err; concatenation += contents; &#125;);</span><br><span class="line">		&#125;);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(concatenation);</span><br><span class="line"><span class="comment">// æ— æ³•è¾“å‡ºå†…å®¹</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>æŠŠåŒæ­¥è¿­ä»£å™¨æ‰€ä½¿ç”¨çš„ filter å’Œ forEach æ–¹æ³•æ›¿æ¢æˆç›¸åº”çš„å¼‚æ­¥æ–¹æ³•ï¼ŒAsync.js ç»™äº†æˆ‘ä»¬ä¸¤ä¸ªé€‰æ‹©ï¼š</p>
<ul>
<li>async.filter å’Œ async.forEach ï¼Œå®ƒä»¬ä¼šå¹¶è¡Œå¤„ç†ç»™å®šçš„æ•°ç»„</li>
<li>async.filterSeries å’Œ async.forEachSeries ï¼Œå®ƒä»¬ä¼šé¡ºåºå¤„ç†ç»™å®šçš„æ•°ç»„</li>
</ul>
</li>
<li><p>Async.jsæ•°æ®æ”¶é›†æ–¹æ³•ä»£ç ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="keyword">async</span> = <span class="built_in">require</span>(<span class="string">'async'</span>); </span><br><span class="line"><span class="keyword">var</span> fs = <span class="built_in">require</span>(<span class="string">'fs'</span>); </span><br><span class="line">process.chdir(<span class="string">'/Users/wander/Desktop/test'</span>); <span class="comment">// æ”¹å˜å·¥ä½œç›®å½• </span></span><br><span class="line"><span class="keyword">var</span> concatenation = <span class="string">''</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> dirContents = fs.readdirSync(<span class="string">'.'</span>); </span><br><span class="line"><span class="keyword">async</span>.filterSeries(dirContents, isFilename, <span class="function"><span class="keyword">function</span>(<span class="params">filename,callback</span>) </span>&#123; </span><br><span class="line">	</span><br><span class="line">	<span class="keyword">async</span>.forEachSeries(dirContents, readAndConcat, onComplete); </span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isFilename</span>(<span class="params">filename, callback</span>) </span>&#123; </span><br><span class="line">	fs.stat(filename, <span class="function"><span class="keyword">function</span>(<span class="params">err, stats</span>) </span>&#123; </span><br><span class="line">		<span class="keyword">if</span> (err) <span class="keyword">throw</span> err; </span><br><span class="line">		callback(stats.isFile()); </span><br><span class="line">	&#125;); </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">readAndConcat</span>(<span class="params">filename, callback</span>) </span>&#123;</span><br><span class="line">	fs.readFile(filename, <span class="string">'utf8'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">err, fileContents</span>) </span>&#123; </span><br><span class="line">		<span class="keyword">if</span> (err) </span><br><span class="line">			<span class="keyword">return</span> callback(err); </span><br><span class="line">		concatenation += fileContents; </span><br><span class="line">		</span><br><span class="line">		callback(); </span><br><span class="line">	&#125;);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">onComplete</span>(<span class="params">err</span>) </span>&#123; </span><br><span class="line">	<span class="keyword">if</span> (err) </span><br><span class="line">		<span class="keyword">throw</span> err; </span><br><span class="line">	<span class="built_in">console</span>.log(concatenation); </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>Async.js è¿˜æä¾›äº†ä»¥ä¸‹æ–¹æ³•ï¼š</p>
<ul>
<li>reject / rejectSeries ï¼Œä¸ filter åˆšå¥½ç›¸å</li>
<li>map / mapSeries ï¼Œ 1:1 å˜æ¢</li>
<li>reduce / reduceRight ï¼Œå€¼çš„é€æ­¥å˜æ¢</li>
<li>detect / detectSeries ï¼Œæ‰¾åˆ°ç­›é€‰å™¨åŒ¹é…çš„å€¼</li>
<li>sortBy ï¼Œäº§ç”Ÿä¸€ä¸ªæœ‰åºå‰¯æœ¬</li>
<li>some ï¼Œæµ‹è¯•æ˜¯å¦è‡³å°‘æœ‰ä¸€ä¸ªå€¼ç¬¦åˆç»™å®šæ ‡å‡†</li>
<li>every ï¼Œæµ‹è¯•æ˜¯å¦æ‰€æœ‰å€¼å‡ç¬¦åˆç»™å®šæ ‡å‡†</li>
</ul>
</li>
<li><p>Async.js æä¾›äº† async.series çš„å¹¶è¡Œç‰ˆæœ¬ï¼Œå³ async.parallel,æ”¯æŒå¼‚æ­¥å‡½æ•°çš„å¹¶è¡Œè¿è¡Œï¼›</p>
</li>
<li><p>async.queue çš„åº•å±‚åŸºæœ¬ç†å¿µä»¤äººæƒ³èµ· DMVï¼ˆDynamic Management Viewï¼ŒåŠ¨æ€ç®¡ç†è§†å›¾ï¼‰ã€‚async.queue æ¥å—çš„å‚æ•°æœ‰ä¸¤ä¸ªï¼š</p>
<ul>
<li>ä¸€ä¸ªæ˜¯ workerï¼ˆåŠäº‹å‘˜ï¼‰ å‡½æ•°ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªå‡½æ•°åˆ—è¡¨</li>
<li>ä¸€ä¸ªæ˜¯ä»£è¡¨ç€ concurrencyï¼ˆå¹¶å‘åº¦ï¼‰çš„å€¼ï¼Œä»£è¡¨äº†åŠäº‹å‘˜æœ€å¤šå¯åŒæ—¶å¤„ç†çš„ä»»åŠ¡æ•°</li>
</ul>
</li>
<li><p>Tim Caswell çš„ Stepæ˜¯ä¸€ä¸ªè½»é‡çº§çš„ JavaScript åº“ï¼Œåªæœ‰ä¸€ä¸ªå‡½æ•°ï¼šStepï¼Œæ¥å—ä¸€ä¸ªå‡½æ•°åˆ—è¡¨ä½œä¸ºå‚æ•°ï¼›</p>
</li>
</ol>
<h2 id="worker-å¯¹è±¡çš„å¤šçº¿ç¨‹æŠ€æœ¯"><a href="#worker-å¯¹è±¡çš„å¤šçº¿ç¨‹æŠ€æœ¯" class="headerlink" title="worker å¯¹è±¡çš„å¤šçº¿ç¨‹æŠ€æœ¯"></a>worker å¯¹è±¡çš„å¤šçº¿ç¨‹æŠ€æœ¯</h2><ol>
<li>ä¸ä¸åŒçº¿ç¨‹è¿›è¡Œäº¤äº’çš„æ–¹å¼ä¸åœ¨ JavaScript ä¸­è¿›è¡Œ I/O æ“ä½œä¸€æ¨¡ä¸€æ ·ï¼›</li>
<li>åœ¨JavaScriptç¯å¢ƒä¸­ï¼Œç”±workerå¯¹è±¡è¿è¡Œçš„å¹¶å‘ä»£ç ä»æ¥ä¸ä¼šåˆ†äº«çŠ¶æ€ï¼›</li>
<li>é€šå¸¸æƒ…å†µä¸‹ï¼Œworker å¯¹è±¡ä¼šæŠŠè‡ªå·±çš„è®¡ç®—ç»“æœå‘é€ç»™ä¸»çº¿ç¨‹ï¼Œç”±ä¸»çº¿ç¨‹å»æ›´æ–°é¡µé¢ã€‚ä¸ºäº†ä¿æŠ¤JavaScript å¼‚æ­¥æŠ½è±¡æ¦‚å¿µï¼Œä½¿å…¶å…å—å½±å“ï¼›</li>
<li>worker å¯¹è±¡çœ‹ä¸åˆ°å…¨å±€çš„ window å¯¹è±¡å’Œä¸»çº¿ç¨‹åŠå…¶ä»– worker çº¿ç¨‹ä¸­çš„å…¶ä»–ä»»ä½•å¯¹è±¡ï¼›</li>
<li>Node ç‰ˆ worker å‡ ä¹æ‹¥æœ‰ä¸»çº¿ç¨‹çš„æ‰€æœ‰æƒåˆ©å’Œæƒé™ï¼Œä½†ä»¥ä¸‹è¿™äº›é™¤å¤–ï¼ˆä½†ä¸é™äºè¿™äº›ï¼‰ï¼š<ul>
<li>å…³åœåº”ç”¨ç¨‹åºçš„èƒ½åŠ›</li>
<li>å­µåŒ–å‡ºæ›´å¤š worker å¯¹è±¡çš„èƒ½åŠ›</li>
<li>å½¼æ­¤äº¤æµçš„èƒ½åŠ›</li>
</ul>
</li>
<li>ä¸ºäº†å°½å¯èƒ½å‡å°‘çº¿ç¨‹é—´é€šä¿¡çš„å¼€é”€ï¼Œçº¿ç¨‹é—´åˆ†äº«çš„çŠ¶æ€åº”è¯¥å­˜å‚¨åœ¨åƒ Redis è¿™æ ·çš„å¤–éƒ¨æ•°æ®åº“ä¸­ï¼›</li>
</ol>
<hr>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>åšï¼Œæˆ–è€…ä¸åšï¼Œæ²¡æœ‰è¯•è¯•çœ‹ä¸€è¯´ï¼è¿™éƒ¨åˆ†å±äºJavaScriptè¾ƒä¸ºé«˜çº§,æˆ–è€…è¯´æŒºæœ‰ç”¨çš„éƒ¨åˆ†ï¼Œéœ€è¦æ ¹æ®ä¸šåŠ¡åœºæ™¯å»å®ç°ç›¸åº”çš„ä»£ç æ‰èƒ½å¤Ÿè¯´çœŸæ­£æŒæ¡äº†è¿™éƒ¨åˆ†çš„å†…å®¹ï¼</p>
]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
  </entry>
  <entry>
    <title>Javaæ³¨è§£ï¼ˆAnnotationï¼‰</title>
    <url>/2020/05/16/Java%E6%B3%A8%E8%A7%A3%EF%BC%88Annotation%EF%BC%89/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>åœ¨ Java ä¸­æ³¨è§£æ˜¯ä¸€ä¸ªå¾ˆé‡è¦çš„çŸ¥è¯†ç‚¹ï¼Œä½†ç»å¸¸è¿˜æ˜¯æœ‰ç‚¹è®©æ–°æ‰‹ä¸å®¹æ˜“ç†è§£ã€‚Javaä¸­çš„æ³¨è§£æ˜¯ä¸€ç§å¯¹ç¨‹åºå…ƒç´ è¿›è¡Œé…ç½®ï¼Œæä¾›é™„åŠ ä¿¡æ¯çš„æœºåˆ¶ã€‚å¦‚æœè¿˜ä¸ä¼šä½¿ç”¨æ³¨è§£ï¼Œè‚¯å®šä¸å¥½æ„æ€å¯¹åˆ«äººè¯´ä½ å­¦è¿‡Springï¼Œä½ å­¦è¿‡Mybatisï¼Œå› ä¸ºå®ƒä»¬ç”¨äº†å¤§é‡çš„æ³¨è§£ã€‚å¯è§æ³¨è§£åœ¨å¼€å‘é¢†åŸŸå·²ç»ä½¿ç”¨çš„éå¸¸å¹¿æ³›äº†ã€‚åœ¨SpringBootä¸­å¤§é‡ä½¿ç”¨æ³¨è§£ï¼Œè¦æƒ³ä½¿ç”¨ä»¥åŠæ·±å…¥å­¦ä¹ Springæ¡†æ¶ï¼ŒSpringBootç­‰éœ€è¦å¯¹æ³¨è§£è¿›è¡Œå­¦ä¹ ï¼Œä¸ç„¶ä¸èƒ½ç†è§£ä»£ç ï¼Œä»¥åŠè‡ªåŠ¨åŒ–é…ç½®ç­‰ç­‰å†…å®¹ï¼Œè¿™éƒ¨åˆ†ä½œä¸ºåŸºç¡€æ€§çŸ¥è¯†ï¼Œéœ€è¦è¾ƒä¸ºç³»ç»Ÿçš„å­¦ä¹ ã€‚Java æ³¨è§£ç”¨äºä¸º Java ä»£ç æä¾›å…ƒæ•°æ®ã€‚ä½œä¸ºå…ƒæ•°æ®ï¼Œæ³¨è§£ä¸ç›´æ¥å½±å“ä½ çš„ä»£ç æ‰§è¡Œï¼Œä½†ä¹Ÿæœ‰ä¸€äº›ç±»å‹çš„æ³¨è§£å®é™…ä¸Šå¯ä»¥ç”¨äºè¿™ä¸€ç›®çš„ã€‚</p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="ä¸ºä»€ä¹ˆè¦æ³¨è§£"><a href="#ä¸ºä»€ä¹ˆè¦æ³¨è§£" class="headerlink" title="ä¸ºä»€ä¹ˆè¦æ³¨è§£"></a>ä¸ºä»€ä¹ˆè¦æ³¨è§£</h2><ul>
<li>èƒ½å¤Ÿè¯»æ‡‚åˆ«äººå†™çš„ä»£ç ï¼Œç‰¹åˆ«æ˜¯æ¡†æ¶ç›¸å…³çš„ä»£ç ï¼›</li>
<li>æœ¬æ¥å¯èƒ½éœ€è¦å¾ˆå¤šé…ç½®æ–‡ä»¶ï¼Œéœ€è¦å¾ˆå¤šé€»è¾‘æ‰èƒ½å®ç°çš„å†…å®¹ï¼Œå°±å¯ä»¥ä½¿ç”¨ä¸€ä¸ªæˆ–è€…å¤šä¸ªæ³¨è§£æ¥æ›¿ä»£ï¼Œè¿™æ ·å°±ä½¿å¾—ç¼–ç¨‹æ›´åŠ ç®€æ´ï¼Œä»£ç æ›´åŠ æ¸…æ™°ï¼›</li>
<li>ä½¿ç”¨è‡ªå®šä¹‰æ³¨è§£æ¥è§£å†³é—®é¢˜ï¼›</li>
<li>Javaæä¾›äº†ä¸€ç§åŸç¨‹åºä¸­çš„å…ƒç´ å…³è”ä»»ä½•ä¿¡æ¯å’Œä»»ä½•å…ƒæ•°æ®çš„é€”å¾„çš„æ–¹æ³•ï¼›</li>
<li>æä¾›ä¿¡æ¯ç»™ç¼–è¯‘å™¨ï¼š ç¼–è¯‘å™¨å¯ä»¥åˆ©ç”¨æ³¨è§£æ¥æ¢æµ‹é”™è¯¯å’Œè­¦å‘Šä¿¡æ¯ï¼›</li>
<li>ç¼–è¯‘é˜¶æ®µæ—¶çš„å¤„ç†ï¼š è½¯ä»¶å·¥å…·å¯ä»¥ç”¨æ¥åˆ©ç”¨æ³¨è§£ä¿¡æ¯æ¥ç”Ÿæˆä»£ç ã€htmlæ–‡æ¡£æˆ–è€…åšå…¶å®ƒç›¸åº”å¤„ç†ï¼›</li>
<li>è¿è¡Œæ—¶çš„å¤„ç†ï¼š æŸäº›æ³¨è§£å¯ä»¥åœ¨ç¨‹åºè¿è¡Œçš„æ—¶å€™æ¥å—ä»£ç çš„æå–ï¼›</li>
<li>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œæ³¨è§£ä¸æ˜¯ä»£ç æœ¬èº«çš„ä¸€éƒ¨åˆ†ï¼</li>
</ul>
<h2 id="JDKæ³¨è§£"><a href="#JDKæ³¨è§£" class="headerlink" title="JDKæ³¨è§£"></a>JDKæ³¨è§£</h2><ul>
<li><p>@overrideï¼šæ ‡æ³¨æ–¹æ³•æ˜¯è¦†ç›–äº†æŸä¸ªæ¥å£çš„æ–¹æ³•ï¼›</p>
</li>
<li><p>@deprecatedï¼šæ ‡æ³¨è¡¨æ˜è¿™ä¸ªæ–¹æ³•å·²ç»è¿‡æ—¶äº†ï¼Œä½¿ç”¨è¯¥æ–¹æ³•æ—¶ç¼–è¯‘å™¨ä¼šå‡ºç°è­¦å‘Šï¼›</p>
</li>
<li><p>@suppvisewarningsï¼š @SuppressWarnings(â€œdeprecationâ€)å°±è¡¨ç¤ºæˆ‘ä»¬å¿½ç•¥äº†deprecationè¿™æ ·çš„ä¸€ä¸ªè­¦å‘Šï¼›</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// SuppressWarnings å¸¸ç”¨çš„å…³é”®å­—</span></span><br><span class="line">deprecation  -- ä½¿ç”¨äº†ä¸èµæˆä½¿ç”¨çš„ç±»æˆ–æ–¹æ³•æ—¶çš„è­¦å‘Š</span><br><span class="line">unchecked    -- æ‰§è¡Œäº†æœªæ£€æŸ¥çš„è½¬æ¢æ—¶çš„è­¦å‘Šï¼Œä¾‹å¦‚å½“ä½¿ç”¨é›†åˆæ—¶æ²¡æœ‰ç”¨æ³›å‹ (Generics) æ¥æŒ‡å®šé›†åˆä¿å­˜çš„ç±»å‹ã€‚</span><br><span class="line">fallthrough  -- å½“ Switch ç¨‹åºå—ç›´æ¥é€šå¾€ä¸‹ä¸€ç§æƒ…å†µè€Œæ²¡æœ‰ Break æ—¶çš„è­¦å‘Šã€‚</span><br><span class="line">path         -- åœ¨ç±»è·¯å¾„ã€æºæ–‡ä»¶è·¯å¾„ç­‰ä¸­æœ‰ä¸å­˜åœ¨çš„è·¯å¾„æ—¶çš„è­¦å‘Šã€‚</span><br><span class="line">serial       -- å½“åœ¨å¯åºåˆ—åŒ–çš„ç±»ä¸Šç¼ºå°‘ serialVersionUID å®šä¹‰æ—¶çš„è­¦å‘Šã€‚</span><br><span class="line"><span class="keyword">finally</span>      -- ä»»ä½• <span class="keyword">finally</span> å­å¥ä¸èƒ½æ­£å¸¸å®Œæˆæ—¶çš„è­¦å‘Šã€‚</span><br><span class="line">all          -- å…³äºä»¥ä¸Šæ‰€æœ‰æƒ…å†µçš„è­¦å‘Šã€‚</span><br></pre></td></tr></table></figure>



</li>
</ul>
<ul>
<li><p>@SafeVarargsï¼šå‚æ•°å®‰å…¨ç±»å‹æ³¨è§£ã€‚å®ƒçš„ç›®çš„æ˜¯æé†’å¼€å‘è€…ä¸è¦ç”¨å‚æ•°åšä¸€äº›ä¸å®‰å…¨çš„æ“ä½œ,å®ƒçš„å­˜åœ¨ä¼šé˜»æ­¢ç¼–è¯‘å™¨äº§ç”Ÿ unchecked è¿™æ ·çš„è­¦å‘Šï¼›</p>
</li>
<li><p>@FunctionalInterfaceï¼šå‡½æ•°å¼æ¥å£æ³¨è§£ï¼›</p>
<p><img src="https://www.runoob.com/wp-content/uploads/2019/08/28123151-d471f82eb2bc4812b46cc5ff3e9e6b82.jpg" alt=""></p>
</li>
<li><p>â€œæ¯ 1 ä¸ª Annotationâ€ éƒ½ä¸ â€œ1 ä¸ª RetentionPolicyâ€ å…³è”ï¼Œå¹¶ä¸”ä¸ â€œ1ï½n ä¸ª ElementTypeâ€ å…³è”ï¼›</p>
<p><img src="https://www.runoob.com/wp-content/uploads/2019/08/28124653-adf73c4cdcce4a63b7bf78efbe1a9cdf.jpg" alt=""></p>
</li>
</ul>
<h2 id="Javaç¬¬ä¸‰æ–¹æ³¨è§£"><a href="#Javaç¬¬ä¸‰æ–¹æ³¨è§£" class="headerlink" title="Javaç¬¬ä¸‰æ–¹æ³¨è§£"></a>Javaç¬¬ä¸‰æ–¹æ³¨è§£</h2><h3 id="Spring"><a href="#Spring" class="headerlink" title="Spring"></a>Spring</h3><ul>
<li>@Autowiredï¼š</li>
<li>@Serviceï¼š</li>
<li>@Repositoryï¼š</li>
</ul>
<h3 id="Mybatis"><a href="#Mybatis" class="headerlink" title="Mybatis"></a>Mybatis</h3><ul>
<li>@InsertProviderï¼š</li>
<li>@UpdateProviderï¼š</li>
<li>Optionsï¼š</li>
</ul>
<h2 id="æ³¨è§£çš„åˆ†ç±»"><a href="#æ³¨è§£çš„åˆ†ç±»" class="headerlink" title="æ³¨è§£çš„åˆ†ç±»"></a>æ³¨è§£çš„åˆ†ç±»</h2><ul>
<li>è¿è¡Œæœºåˆ¶ï¼šæºç æ³¨è§£ï¼Œç¼–è¯‘æ—¶æ³¨è§£ï¼Œè¿è¡Œæ—¶æ³¨è§£ï¼›</li>
<li>æ¥æºï¼šæ¥è‡ªJDKçš„æ³¨è§£ï¼Œæ¥è‡ªç¬¬ä¸‰æ–¹çš„æ³¨è§£ï¼Œè‡ªå®šä¹‰æ³¨è§£ï¼›</li>
<li>å…ƒæ³¨è§£ï¼šç»™æ³¨è§£è¿›è¡Œæ³¨è§£ï¼Œæ˜¯ä¸€ç§åŸºæœ¬æ³¨è§£ã€‚</li>
</ul>
<h2 id="æ³¨è§£çš„å®šä¹‰"><a href="#æ³¨è§£çš„å®šä¹‰" class="headerlink" title="æ³¨è§£çš„å®šä¹‰"></a>æ³¨è§£çš„å®šä¹‰</h2><ol>
<li>æ³¨è§£é€šè¿‡ @interface å…³é”®å­—è¿›è¡Œå®šä¹‰ï¼Œå½¢å¼è·Ÿæ¥å£å¾ˆç±»ä¼¼ï¼Œä¸è¿‡å‰é¢å¤šäº†ä¸€ä¸ª @ ç¬¦å·ï¼›</li>
<li>å…ƒæ³¨è§£æœ‰ @Retentionã€@Documentedã€@Targetã€@Inheritedã€@Repeatableï¼ˆJava 8 å¼€å§‹æ”¯æŒï¼Œæ ‡è¯†æŸæ³¨è§£å¯ä»¥åœ¨åŒä¸€ä¸ªå£°æ˜ä¸Šä½¿ç”¨å¤šæ¬¡ï¼‰ 5 ç§ï¼›</li>
<li>@Retentionï¼šè§£é‡Šè¯´æ˜äº†è¿™ä¸ªæ³¨è§£çš„çš„å­˜æ´»æ—¶é—´ï¼š<ul>
<li>RetentionPolicy.SOURCE æ³¨è§£åªåœ¨æºç é˜¶æ®µä¿ç•™ï¼Œåœ¨ç¼–è¯‘å™¨è¿›è¡Œç¼–è¯‘æ—¶å®ƒå°†è¢«ä¸¢å¼ƒå¿½è§†</li>
<li>RetentionPolicy.CLASS æ³¨è§£åªè¢«ä¿ç•™åˆ°ç¼–è¯‘è¿›è¡Œçš„æ—¶å€™ï¼Œå®ƒå¹¶ä¸ä¼šè¢«åŠ è½½åˆ° JVM ä¸­</li>
<li>RetentionPolicy.RUNTIME æ³¨è§£å¯ä»¥ä¿ç•™åˆ°ç¨‹åºè¿è¡Œçš„æ—¶å€™ï¼Œå®ƒä¼šè¢«åŠ è½½è¿›å…¥åˆ° JVM ä¸­ï¼Œæ‰€ä»¥åœ¨ç¨‹åºè¿è¡Œæ—¶å¯ä»¥è·å–åˆ°å®ƒä»¬</li>
</ul>
</li>
<li>@Documentedï¼šç±»å’Œæ–¹æ³•çš„ Annotation åœ¨ç¼ºçœæƒ…å†µä¸‹æ˜¯ä¸å‡ºç°åœ¨ javadoc ä¸­çš„ï¼Œèƒ½å¤Ÿå°†æ³¨è§£ä¸­çš„å…ƒç´ åŒ…å«åˆ° Javadoc ä¸­å»ï¼›</li>
<li>@Targetï¼šæŒ‡å®šäº†æ³¨è§£è¿ç”¨çš„åœ°æ–¹ï¼š<ul>
<li>ElementType.ANNOTATION_TYPE å¯ä»¥ç»™ä¸€ä¸ªæ³¨è§£è¿›è¡Œæ³¨è§£</li>
<li>ElementType.CONSTRUCTOR å¯ä»¥ç»™æ„é€ æ–¹æ³•è¿›è¡Œæ³¨è§£</li>
<li>ElementType.FIELD å¯ä»¥ç»™å±æ€§è¿›è¡Œæ³¨è§£</li>
<li>ElementType.LOCAL_VARIABLE å¯ä»¥ç»™å±€éƒ¨å˜é‡è¿›è¡Œæ³¨è§£</li>
<li>ElementType.METHOD å¯ä»¥ç»™æ–¹æ³•è¿›è¡Œæ³¨è§£</li>
<li>ElementType.PACKAGE å¯ä»¥ç»™ä¸€ä¸ªåŒ…è¿›è¡Œæ³¨è§£</li>
<li>ElementType.PARAMETER å¯ä»¥ç»™ä¸€ä¸ªæ–¹æ³•å†…çš„å‚æ•°è¿›è¡Œæ³¨è§£</li>
<li>ElementType.TYPE å¯ä»¥ç»™ä¸€ä¸ªç±»å‹è¿›è¡Œæ³¨è§£ï¼Œæ¯”å¦‚ç±»ã€æ¥å£ã€æšä¸¾</li>
</ul>
</li>
<li>@Inheritedï¼šå¦‚æœä¸€ä¸ªè¶…ç±»è¢« @Inherited æ³¨è§£è¿‡çš„æ³¨è§£è¿›è¡Œæ³¨è§£çš„è¯ï¼Œé‚£ä¹ˆå¦‚æœå®ƒçš„å­ç±»æ²¡æœ‰è¢«ä»»ä½•æ³¨è§£åº”ç”¨çš„è¯ï¼Œé‚£ä¹ˆè¿™ä¸ªå­ç±»å°±ç»§æ‰¿äº†è¶…ç±»çš„æ³¨è§£ï¼›<ul>
<li><strong>å‡è®¾ï¼Œæˆ‘ä»¬å®šä¹‰äº†æŸä¸ª Annotaionï¼Œå®ƒçš„åç§°æ˜¯ MyAnnotationï¼Œå¹¶ä¸” MyAnnotation è¢«æ ‡æ³¨ä¸º@Inheritedã€‚ç°åœ¨ï¼ŒæŸä¸ªç±» Base ä½¿ç”¨äº†MyAnnotationï¼Œåˆ™ Base å…·æœ‰äº†â€å…·æœ‰äº†æ³¨è§£ MyAnnotationâ€ï¼›ç°åœ¨ï¼ŒSub ç»§æ‰¿äº† Baseï¼Œç”±äº MyAnnotation æ˜¯ @Inheritedçš„(å…·æœ‰ç»§æ‰¿æ€§)ï¼Œæ‰€ä»¥ï¼ŒSub ä¹Ÿ â€œå…·æœ‰äº†æ³¨è§£ MyAnnotationâ€</strong></li>
</ul>
</li>
<li>@Repeatableï¼šæ³¨è§£çš„å€¼å¯ä»¥åŒæ—¶å–å¤šä¸ªï¼›</li>
</ol>
<h2 id="æ³¨è§£çš„å±æ€§"><a href="#æ³¨è§£çš„å±æ€§" class="headerlink" title="æ³¨è§£çš„å±æ€§"></a>æ³¨è§£çš„å±æ€§</h2><ol>
<li><p>æ³¨è§£çš„å±æ€§ä¹Ÿå«åšæˆå‘˜å˜é‡ã€‚æ³¨è§£åªæœ‰æˆå‘˜å˜é‡ï¼Œæ²¡æœ‰æ–¹æ³•ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Target</span>(ElementType.TYPE)</span><br><span class="line"><span class="meta">@Retention</span>(RetentionPolicy.RUNTIME)</span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> TestAnnotation &#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">id</span><span class="params">()</span> <span class="keyword">default</span> -1</span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">msg</span><span class="params">()</span> <span class="keyword">default</span> "Hi"</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>ä»£ç å®šä¹‰äº† TestAnnotation è¿™ä¸ªæ³¨è§£ä¸­æ‹¥æœ‰ id å’Œ msg ä¸¤ä¸ªå±æ€§ã€‚åœ¨ä½¿ç”¨çš„æ—¶å€™ï¼Œæˆ‘ä»¬åº”è¯¥ç»™å®ƒä»¬è¿›è¡Œèµ‹å€¼ã€‚èµ‹å€¼çš„æ–¹å¼æ˜¯åœ¨æ³¨è§£çš„æ‹¬å·å†…ä»¥ value=â€â€ å½¢å¼ï¼Œå¤šä¸ªå±æ€§ä¹‹å‰ç”¨ ï¼Œéš”å¼€;</li>
<li>åœ¨æ³¨è§£ä¸­å®šä¹‰å±æ€§æ—¶å®ƒçš„ç±»å‹å¿…é¡»æ˜¯ 8 ç§åŸºæœ¬æ•°æ®ç±»å‹å¤–åŠ ç±»ã€æ¥å£ã€æ³¨è§£åŠå®ƒä»¬çš„æ•°ç»„ï¼›</li>
<li>æ³¨è§£ä¸­å±æ€§å¯ä»¥æœ‰é»˜è®¤å€¼ï¼Œé»˜è®¤å€¼éœ€è¦ç”¨ default å…³é”®å€¼æŒ‡å®šï¼›</li>
<li>å¦‚æœä¸€ä¸ªæ³¨è§£å†…ä»…ä»…åªæœ‰ä¸€ä¸ªåå­—ä¸º value çš„å±æ€§æ—¶ï¼Œåº”ç”¨è¿™ä¸ªæ³¨è§£æ—¶å¯ä»¥ç›´æ¥æ¥å±æ€§å€¼å¡«å†™åˆ°æ‹¬å·å†…</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@TestAnnotation</span>(id=<span class="number">3</span>,msg=<span class="string">"hello annotation"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h2 id="æå–æ³¨è§£"><a href="#æå–æ³¨è§£" class="headerlink" title="æå–æ³¨è§£"></a>æå–æ³¨è§£</h2><ol>
<li><p>æ³¨è§£é€šè¿‡åå°„è·å–ã€‚é¦–å…ˆå¯ä»¥é€šè¿‡ Class å¯¹è±¡çš„ isAnnotationPresent() æ–¹æ³•åˆ¤æ–­å®ƒæ˜¯å¦åº”ç”¨äº†æŸä¸ªæ³¨è§£ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isAnnotationPresent</span><span class="params">(Class&lt;? extends Annotation&gt; annotationClass)</span> </span>&#123;&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>ç„¶åé€šè¿‡ getAnnotation() æ–¹æ³•æ¥è·å– Annotation å¯¹è±¡ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> &lt;A extends Annotation&gt; <span class="function">A <span class="title">getAnnotation</span><span class="params">(Class&lt;A&gt; annotationClass)</span> </span>&#123;&#125; </span><br><span class="line"><span class="comment">// è¿”å›æŒ‡å®šç±»å‹çš„æ³¨è§£</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>æˆ–è€…æ˜¯ getAnnotations() æ–¹æ³•:</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> Annotation[] getAnnotations() &#123;&#125;   </span><br><span class="line"><span class="comment">// è¿”å›æ³¨è§£åˆ°è¿™ä¸ªå…ƒç´ ä¸Šçš„æ‰€æœ‰æ³¨è§£</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>å¦‚æœè·å–åˆ°çš„ Annotation å¦‚æœä¸ä¸º nullï¼Œåˆ™å°±å¯ä»¥è°ƒç”¨å®ƒä»¬çš„å±æ€§æ–¹æ³•äº†ã€‚</p>
</li>
<li><p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@TestAnnotation</span>()</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">boolean</span> hasAnnotation = Test<span class="class">.<span class="keyword">class</span>.<span class="title">isAnnotationPresent</span>(<span class="title">TestAnnotation</span>.<span class="title">class</span>)</span>;</span><br><span class="line">        <span class="keyword">if</span> ( hasAnnotation ) &#123;</span><br><span class="line">            TestAnnotation testAnnotation = Test<span class="class">.<span class="keyword">class</span>.<span class="title">getAnnotation</span>(<span class="title">TestAnnotation</span>.<span class="title">class</span>)</span>;</span><br><span class="line">            System.out.println(<span class="string">"id:"</span>+testAnnotation.id());</span><br><span class="line">            System.out.println(<span class="string">"msg:"</span>+testAnnotation.msg());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ³¨æ„ï¼š</p>
<ul>
<li>å¦‚æœä¸€ä¸ªæ³¨è§£è¦åœ¨è¿è¡Œæ—¶è¢«æˆåŠŸæå–ï¼Œé‚£ä¹ˆ @Retention(RetentionPolicy.RUNTIME) æ˜¯å¿…é¡»çš„ï¼›</li>
<li>æ³¨è§£çš„æå–éœ€è¦å€ŸåŠ©äº Java çš„åå°„æŠ€æœ¯ï¼Œåå°„æ¯”è¾ƒæ…¢ï¼Œæ‰€ä»¥æ³¨è§£ä½¿ç”¨æ—¶ä¹Ÿéœ€è¦è°¨æ…è®¡è¾ƒæ—¶é—´æˆæœ¬ï¼›</li>
<li>æ³¨è§£ä¸»è¦ç»™ç¼–è¯‘å™¨åŠå·¥å…·ç±»å‹çš„è½¯ä»¶ç”¨çš„ï¼</li>
</ul>
</li>
</ol>
<h2 id="Inherited"><a href="#Inherited" class="headerlink" title="@Inherited"></a>@Inherited</h2><ol>
<li><p>æ³¨è§£ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> Anotation;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.lang.annotation.*;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> wander</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Documented</span></span><br><span class="line"><span class="meta">@Inherited</span></span><br><span class="line"><span class="meta">@Target</span>(ElementType.TYPE)</span><br><span class="line"><span class="meta">@Retention</span>(RetentionPolicy.RUNTIME)</span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> FirstAnotation &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>åŸºç±»ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> UseAnotation;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> Anotation.FirstAnotation;</span><br><span class="line"></span><br><span class="line"><span class="meta">@FirstAnotation</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">Base</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Base</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"InheritableFather:"</span>+Base<span class="class">.<span class="keyword">class</span>.<span class="title">isAnnotationPresent</span>(<span class="title">FirstAnotation</span>.<span class="title">class</span>))</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span>  <span class="keyword">void</span> <span class="title">out</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"test base"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>å­ç±»ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> UseAnotation;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> Anotation.FirstAnotation;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Sub</span> <span class="keyword">extends</span>  <span class="title">Base</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Sub</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>();</span><br><span class="line">        System.out.println(<span class="string">"InheritableSub:"</span>+Sub<span class="class">.<span class="keyword">class</span>.<span class="title">isAnnotationPresent</span>(<span class="title">FirstAnotation</span>.<span class="title">class</span>))</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">out</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"test"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>æµ‹è¯•ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">testFirstAnotation</span><span class="params">()</span></span>&#123;</span><br><span class="line">       System.out.println(<span class="string">"Test FirstAnotation!"</span>);</span><br><span class="line">       Sub test=<span class="keyword">new</span> Sub();</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h2 id="åå°„"><a href="#åå°„" class="headerlink" title="åå°„"></a>åå°„</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.lang.annotation.Annotation;</span><br><span class="line"><span class="keyword">import</span> java.lang.annotation.Target;</span><br><span class="line"><span class="keyword">import</span> java.lang.annotation.ElementType;</span><br><span class="line"><span class="keyword">import</span> java.lang.annotation.Retention;</span><br><span class="line"><span class="keyword">import</span> java.lang.annotation.RetentionPolicy;</span><br><span class="line"><span class="keyword">import</span> java.lang.annotation.Inherited;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Method;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Annotationåœ¨åå°„å‡½æ•°ä¸­çš„ä½¿ç”¨ç¤ºä¾‹</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Retention</span>(RetentionPolicy.RUNTIME)</span><br><span class="line"><span class="meta">@interface</span> MyAnnotation &#123;</span><br><span class="line">    String[] value() <span class="keyword">default</span> <span class="string">"unknown"</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Personç±»ã€‚å®ƒä¼šä½¿ç”¨MyAnnotationæ³¨è§£ã€‚</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">   </span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * empty()æ–¹æ³•åŒæ—¶è¢« "<span class="doctag">@Deprecated</span>" å’Œ "<span class="doctag">@MyAnnotation</span>(value=&#123;"a","b"&#125;)"æ‰€æ ‡æ³¨</span></span><br><span class="line"><span class="comment">     * (01) <span class="doctag">@Deprecated</span>ï¼Œæ„å‘³ç€empty()æ–¹æ³•ï¼Œä¸å†è¢«å»ºè®®ä½¿ç”¨</span></span><br><span class="line"><span class="comment">     * (02) <span class="doctag">@MyAnnotation</span>, æ„å‘³ç€empty() æ–¹æ³•å¯¹åº”çš„MyAnnotationçš„valueå€¼æ˜¯é»˜è®¤å€¼"unknown"</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@MyAnnotation</span></span><br><span class="line">    <span class="meta">@Deprecated</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">empty</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"\nempty"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">   </span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * sombody() è¢« <span class="doctag">@MyAnnotation</span>(value=&#123;"girl","boy"&#125;) æ‰€æ ‡æ³¨ï¼Œ</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@MyAnnotation</span>(value=&#123;"girl","boy"&#125;), æ„å‘³ç€MyAnnotationçš„valueå€¼æ˜¯&#123;"girl","boy"&#125;</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@MyAnnotation</span>(value=&#123;<span class="string">"girl"</span>,<span class="string">"boy"</span>&#125;)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">somebody</span><span class="params">(String name, <span class="keyword">int</span> age)</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"\nsomebody: "</span>+name+<span class="string">", "</span>+age);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AnnotationTest</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">       </span><br><span class="line">        <span class="comment">// æ–°å»ºPerson</span></span><br><span class="line">        Person person = <span class="keyword">new</span> Person();</span><br><span class="line">        <span class="comment">// è·å–Personçš„Classå®ä¾‹</span></span><br><span class="line">        Class&lt;Person&gt; c = Person<span class="class">.<span class="keyword">class</span></span>;</span><br><span class="line">        <span class="comment">// è·å– somebody() æ–¹æ³•çš„Methodå®ä¾‹</span></span><br><span class="line">        Method mSomebody = c.getMethod(<span class="string">"somebody"</span>, <span class="keyword">new</span> Class[]&#123;String<span class="class">.<span class="keyword">class</span>, <span class="title">int</span>.<span class="title">class</span>&#125;)</span>;</span><br><span class="line">        <span class="comment">// æ‰§è¡Œè¯¥æ–¹æ³•</span></span><br><span class="line">        mSomebody.invoke(person, <span class="keyword">new</span> Object[]&#123;<span class="string">"lily"</span>, <span class="number">18</span>&#125;);</span><br><span class="line">        iteratorAnnotations(mSomebody);</span><br><span class="line">       </span><br><span class="line"></span><br><span class="line">        <span class="comment">// è·å– somebody() æ–¹æ³•çš„Methodå®ä¾‹</span></span><br><span class="line">        Method mEmpty = c.getMethod(<span class="string">"empty"</span>, <span class="keyword">new</span> Class[]&#123;&#125;);</span><br><span class="line">        <span class="comment">// æ‰§è¡Œè¯¥æ–¹æ³•</span></span><br><span class="line">        mEmpty.invoke(person, <span class="keyword">new</span> Object[]&#123;&#125;);        </span><br><span class="line">        iteratorAnnotations(mEmpty);</span><br><span class="line">    &#125;</span><br><span class="line">   </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">iteratorAnnotations</span><span class="params">(Method method)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// åˆ¤æ–­ somebody() æ–¹æ³•æ˜¯å¦åŒ…å«MyAnnotationæ³¨è§£</span></span><br><span class="line">        <span class="keyword">if</span>(method.isAnnotationPresent(MyAnnotation<span class="class">.<span class="keyword">class</span>))</span>&#123;</span><br><span class="line">            <span class="comment">// è·å–è¯¥æ–¹æ³•çš„MyAnnotationæ³¨è§£å®ä¾‹</span></span><br><span class="line">            MyAnnotation myAnnotation = method.getAnnotation(MyAnnotation<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">            <span class="comment">// è·å– myAnnotationçš„å€¼ï¼Œå¹¶æ‰“å°å‡ºæ¥</span></span><br><span class="line">            String[] values = myAnnotation.value();</span><br><span class="line">            <span class="keyword">for</span> (String str:values)</span><br><span class="line">                System.out.printf(str+<span class="string">", "</span>);</span><br><span class="line">            System.out.println();</span><br><span class="line">        &#125;</span><br><span class="line">       </span><br><span class="line">        <span class="comment">// è·å–æ–¹æ³•ä¸Šçš„æ‰€æœ‰æ³¨è§£ï¼Œå¹¶æ‰“å°å‡ºæ¥</span></span><br><span class="line">        Annotation[] annotations = method.getAnnotations();</span><br><span class="line">        <span class="keyword">for</span>(Annotation annotation : annotations)&#123;</span><br><span class="line">            System.out.println(annotation);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/** è¾“å‡º</span></span><br><span class="line"><span class="comment">somebody: lily, 18</span></span><br><span class="line"><span class="comment">girl, boy, </span></span><br><span class="line"><span class="comment"><span class="doctag">@MyAnnotation</span>(value=&#123;"girl", "boy"&#125;)</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">empty</span></span><br><span class="line"><span class="comment">unknown, </span></span><br><span class="line"><span class="comment"><span class="doctag">@MyAnnotation</span>(value=&#123;"unknown"&#125;)</span></span><br><span class="line"><span class="comment"><span class="doctag">@java</span>.lang.Deprecated(forRemoval=false, since="")</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>



<hr>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>æ³¨è§£è¿™éƒ¨åˆ†è¿˜æ˜¯éœ€è¦å¥½å¥½ç†è§£çš„ï¼Œå¯¹äºJavaè¯­è¨€çš„ç‰¹æ€§èƒ½å¤Ÿæ›´æ·±å…¥äº†è§£ï¼ç‰¹åˆ«æœ‰åŠ©äºå­¦ä¹ Springã€‚</p>
]]></content>
      <categories>
        <category>Java</category>
      </categories>
  </entry>
  <entry>
    <title>Jenkins Quick Start</title>
    <url>/2020/08/22/Jenkins-Quick-Start/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>Jenkinsæ˜¯ä¸€ä¸ªå¼€æºçš„ã€æä¾›å‹å¥½æ“ä½œç•Œé¢çš„æŒç»­é›†æˆ(CI)å·¥å…·ï¼Œä¸»è¦ç”¨äºæŒç»­ã€è‡ªåŠ¨çš„æ„å»º/æµ‹è¯•è½¯ä»¶é¡¹ç›®ã€ç›‘æ§å¤–éƒ¨ä»»åŠ¡çš„è¿è¡Œã€‚Jenkinsç”¨Javaè¯­è¨€ç¼–å†™ï¼Œå¯åœ¨Tomcatç­‰æµè¡Œçš„servletå®¹å™¨ä¸­è¿è¡Œï¼Œä¹Ÿå¯ç‹¬ç«‹è¿è¡Œã€‚é€šå¸¸ä¸ç‰ˆæœ¬ç®¡ç†å·¥å…·(SCM)ã€æ„å»ºå·¥å…·ç»“åˆä½¿ç”¨ã€‚å¼€å‘å·¥ä½œæµç¨‹ä¸€èˆ¬åˆ’åˆ†ä¸ºï¼šç¼–ç  â†’ æ„å»º â†’ é›†æˆ â†’ æµ‹è¯• â†’ äº¤ä»˜ â†’ éƒ¨ç½²ã€‚æ•´ä¸ªæµç¨‹ä¸­å¿«é€Ÿè¿›è¡Œç¼–ç  â†’ æ„å»º â†’ é›†æˆè¿™ä¸ªè¿‡ç¨‹çš„æ—¶å€™å¦‚æœä½¿ç”¨äº†åƒJenkinsè¿™ç§å·¥å…·çš„è¯ï¼Œå¼€å‘çš„æ•ˆç‡ä»¥åŠä»£ç çš„è´¨é‡ç›¸å¯¹æ¥è¯´ä¼šæé«˜å¾ˆå¤šã€‚è¿™éƒ¨åˆ†ä¸»è¦è®°å½•å¦‚ä½•å¿«é€Ÿæ­å»ºJenkinsç¯å¢ƒä»¥åŠå¦‚ä½•ä½¿ç”¨Jenkinsæ„å»ºSpringBooté¡¹ç›®ï¼</p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="åŸºç¡€çŸ¥è¯†"><a href="#åŸºç¡€çŸ¥è¯†" class="headerlink" title="åŸºç¡€çŸ¥è¯†"></a>åŸºç¡€çŸ¥è¯†</h2><ol>
<li><p>æŒç»­é›†æˆï¼ˆContinuous Integrationï¼ŒCIï¼‰æŒ‡çš„æ˜¯å°†è½¯ä»¶ä¸ªäººç ”å‘çš„éƒ¨åˆ†å‘è½¯ä»¶æ•´ä½“éƒ¨åˆ†äº¤ä»˜ï¼Œé¢‘ç¹è¿›è¡Œé›†æˆä»¥ä¾¿æ›´å¿«åœ°å‘ç°å…¶ä¸­çš„é”™è¯¯ï¼›</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/8b4508b66d3c33e06a1632072019daa5-54359" alt="CI"></p>
</li>
<li><p>CIçš„å¥½å¤„ï¼š</p>
<ul>
<li>å¿«é€Ÿå‘ç°é”™è¯¯ï¼Œå®šä½é”™è¯¯ä¹Ÿæ¯”è¾ƒå®¹æ˜“</li>
<li>é˜²æ­¢åˆ†æ”¯å¤§å¹…åç¦»ä¸»å¹²ã€‚å¦‚æœä¸æ˜¯ç»å¸¸é›†æˆï¼Œä¸»å¹²åˆåœ¨ä¸æ–­æ›´æ–°ï¼Œä¼šå¯¼è‡´ä»¥åé›†æˆçš„éš¾åº¦å˜å¤§ï¼Œç”šè‡³éš¾ä»¥é›†æˆ</li>
</ul>
</li>
<li><p>CIçš„ç›®çš„ï¼šCIå¹¶ä¸èƒ½æ¶ˆé™¤Bugï¼Œè€Œæ˜¯è®©Bugéå¸¸å®¹æ˜“å‘ç°å’Œæ”¹æ­£ã€‚è®©äº§å“å¯ä»¥å¿«é€Ÿè¿­ä»£ï¼ŒåŒæ—¶è¿˜èƒ½ä¿æŒé«˜è´¨é‡ï¼›</p>
</li>
<li><p>CIçš„æ ¸å¿ƒæªæ–½ï¼šä»£ç é›†æˆåˆ°ä¸»å¹²ä¹‹å‰ï¼Œå¿…é¡»é€šè¿‡è‡ªåŠ¨åŒ–æµ‹è¯•ã€‚åªè¦æœ‰ä¸€ä¸ªæµ‹è¯•ç”¨ä¾‹å¤±è´¥ï¼Œå°±ä¸èƒ½é›†æˆï¼›</p>
</li>
<li><p>æŒç»­äº¤ä»˜ï¼ˆContinuous Deliveryï¼ŒCDï¼‰æŒ‡çš„æ˜¯é¢‘ç¹åœ°å°†è½¯ä»¶çš„æ–°ç‰ˆæœ¬ï¼Œäº¤ä»˜ç»™è´¨é‡å›¢é˜Ÿæˆ–è€…ç”¨æˆ·ï¼Œä»¥ä¾›è¯„å®¡ã€‚å¦‚æœè¯„å®¡é€šè¿‡ï¼Œä»£ç å°±è¿›å…¥ç”Ÿäº§é˜¶æ®µã€‚æŒç»­äº¤ä»˜åœ¨æŒç»­é›†æˆçš„åŸºç¡€ä¸Šï¼Œå°†é›†æˆåçš„ä»£ç éƒ¨ç½²åˆ°æ›´è´´è¿‘çœŸå®è¿è¡Œç¯å¢ƒçš„ç±»ç”Ÿäº§ç¯å¢ƒä¸­ï¼ŒæŒç»­äº¤ä»˜ä¼˜å…ˆäºæ•´ä¸ªäº§å“ç”Ÿå‘½å‘¨æœŸçš„è½¯ä»¶éƒ¨ç½²ï¼Œå»ºç«‹åœ¨é«˜æ°´å¹³è‡ªåŠ¨åŒ–æŒç»­é›†æˆä¹‹ä¸Šï¼›</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/cc7372ca51780017d8a758454cd19389-97226" alt="CI/CD"></p>
</li>
<li><p>CDçš„ç›®çš„ï¼šä¸ç®¡è½¯ä»¶ä»£ç æ€ä¹ˆæ›´æ–°ï¼Œè½¯ä»¶æ˜¯éšæ—¶éšåœ°å¯ä»¥äº¤ä»˜çš„ã€å¯ä»¥è¿›å…¥ç”Ÿäº§é˜¶æ®µçš„ï¼›</p>
</li>
<li><p>CDçš„å‰æï¼šèƒ½è‡ªåŠ¨åŒ–å®Œæˆæµ‹è¯•ã€æ„å»ºã€éƒ¨ç½²ç­‰æ­¥éª¤ï¼›</p>
</li>
<li><p>å¸¸ç”¨çš„æ„å»ºå·¥å…·æœ‰ï¼š</p>
<ul>
<li>Jenkins</li>
<li>Travis</li>
<li>Codeship</li>
<li>Strider</li>
</ul>
</li>
<li><p>Jenkinsæ˜¯ä¸€ä¸ªå¼€æºçš„ã€å¯æ‰©å±•çš„æŒç»­é›†æˆã€äº¤ä»˜ã€éƒ¨ç½²ï¼ˆè½¯ä»¶/ä»£ç çš„ç¼–è¯‘ã€æ‰“åŒ…ã€éƒ¨ç½²ï¼‰çš„åŸºäºwebç•Œé¢çš„å¹³å°ï¼›</p>
</li>
<li><p>Jenkinsç‰¹æ€§ï¼š</p>
<ul>
<li>åŸºäºjavaè¯­è¨€å¼€å‘çš„å¼€æºæŒç»­é›†æˆå·¥å…·ï¼Œæ”¯æŒCIï¼ŒCD</li>
<li>æ˜“äºå®‰è£…éƒ¨ç½²é…ç½®</li>
<li>æ¶ˆæ¯é€šçŸ¥åŠæµ‹è¯•æŠ¥å‘Š</li>
<li>åˆ†å¸ƒå¼æ„å»º</li>
<li>æ–‡ä»¶è¯†åˆ«ï¼Œèƒ½å¤Ÿè·Ÿè¸ªå“ªæ¬¡æ„å»ºç”Ÿæˆå“ªäº›jarï¼Œå“ªæ¬¡æ„å»ºä½¿ç”¨å“ªä¸ªç‰ˆæœ¬çš„jarç­‰</li>
<li>ä¸°å¯Œçš„æ’ä»¶æ”¯æŒ</li>
</ul>
</li>
<li><p>Jenkinsçš„ä¸­æ–‡å®˜ç½‘ï¼š<a href="https://www.jenkins.io/zh/" target="_blank" rel="noopener">https://www.jenkins.io/zh/</a></p>
</li>
</ol>
<h2 id="Jenkinsé¡¹ç›®é…ç½®åŸºç¡€"><a href="#Jenkinsé¡¹ç›®é…ç½®åŸºç¡€" class="headerlink" title="Jenkinsé¡¹ç›®é…ç½®åŸºç¡€"></a>Jenkinsé¡¹ç›®é…ç½®åŸºç¡€</h2><h3 id="general"><a href="#general" class="headerlink" title="general"></a>general</h3><ol>
<li>é¡¹ç›®åç§°ï¼šåˆ›å»ºä»»åŠ¡æ—¶è®¾ç½®çš„ï¼Œç”¨äºåŒºåˆ†ä»»åŠ¡ï¼›</li>
<li>æè¿°: å¯¹æ„å»ºä»»åŠ¡çš„æè¿°ï¼›</li>
<li>ä¸¢å¼ƒæ—§çš„æ„å»ºï¼šæœåŠ¡å™¨èµ„æºæ˜¯æœ‰é™çš„ï¼Œæœ‰æ—¶å€™ä¿å­˜äº†å¤ªå¤šçš„å†å²æ„å»ºï¼Œä¼šå¯¼è‡´Jenkinsé€Ÿåº¦å˜æ…¢ï¼Œå¹¶ä¸”æœåŠ¡å™¨ç¡¬ç›˜èµ„æºä¹Ÿä¼šè¢«å æ»¡ã€‚â€ä¿æŒæ„å»ºå¤©æ•°â€ å’Œâ€ä¿æŒæ„å»ºçš„æœ€å¤§ä¸ªæ•°â€æ˜¯å¯ä»¥è‡ªå®šä¹‰çš„ï¼Œéœ€è¦æ ¹æ®å®é™…æƒ…å†µç¡®å®šä¸€ä¸ªåˆç†çš„å€¼ï¼›</li>
</ol>
<h3 id="æºç ç®¡ç†"><a href="#æºç ç®¡ç†" class="headerlink" title="æºç ç®¡ç†"></a>æºç ç®¡ç†</h3><ol>
<li>é…ç½®ä»£ç çš„å­˜æ”¾ä½ç½®ï¼›</li>
<li>Git: æ”¯æŒä¸»æµçš„github å’Œgitlabä»£ç ä»“åº“ï¼›</li>
<li>Repository URLï¼šä»“åº“åœ°å€ï¼›</li>
<li>Credentialsï¼šå‡­è¯ï¼Œå¯ä»¥ä½¿ç”¨HTTPæ–¹å¼çš„ç”¨æˆ·åå¯†ç ï¼Œä¹Ÿå¯ä»¥æ˜¯RSAæ–‡ä»¶ï¼›</li>
<li>Branches to buildï¼šæ„å»ºçš„åˆ†æ”¯ã€‚*/masterè¡¨ç¤ºmasteråˆ†æ”¯ï¼Œä¹Ÿå¯ä»¥è®¾ç½®ä¸ºå…¶ä»–åˆ†æ”¯ï¼›</li>
<li>æºç æµè§ˆå™¨ï¼šæ‰€ä½¿ç”¨çš„ä»£ç ä»“åº“ç®¡ç†å·¥å…·ï¼Œå¦‚github, gitlabï¼›</li>
<li>URLï¼šå¡«å…¥ä¸Šæ–¹çš„ä»“åº“åœ°å€å³å¯ï¼›</li>
<li>Version: gitlabæœåŠ¡å™¨çš„ç‰ˆæœ¬ï¼›</li>
</ol>
<h3 id="æ„å»ºè§¦å‘å™¨"><a href="#æ„å»ºè§¦å‘å™¨" class="headerlink" title="æ„å»ºè§¦å‘å™¨"></a>æ„å»ºè§¦å‘å™¨</h3><ol>
<li>è§¦å‘è¿œç¨‹æ„å»ºï¼šè¯¥é€‰é¡¹ä¼šæä¾›ä¸€ä¸ªæ¥å£ï¼Œå¯ä»¥ç”¨æ¥åœ¨ä»£ç å±‚é¢è§¦å‘æ„å»ºï¼›</li>
<li>Build after other projects are builtï¼šåœ¨å…¶ä»–projectsæ„å»ºåæ„å»ºï¼›</li>
<li>Build periodicallyï¼š å‘¨æœŸæ€§çš„æ„å»ºã€‚æ—¥ç¨‹è¡¨ç±»ä¼¼linux crontabä¹¦å†™æ ¼å¼ï¼›</li>
<li>Build when a change is pushed to GitLabï¼šå½“æœ‰æ›´æ”¹pushåˆ°gitlabä»£ç ä»“åº“ï¼Œå³è§¦å‘æ„å»ºã€‚GitLabçš„Web Hooksæ¥è§¦å‘æ„å»ºï¼›</li>
<li>Poll SCMï¼šå‘¨æœŸæ€§çš„å»æ£€æŸ¥ä»£ç ä»“åº“æ˜¯å¦å‘ç”Ÿæ”¹åŠ¨ï¼›</li>
</ol>
<h3 id="æ„å»º"><a href="#æ„å»º" class="headerlink" title="æ„å»º"></a>æ„å»º</h3><ol>
<li>Eexcute shellï¼šæ‰§è¡Œshellå‘½ä»¤ï¼Œè¯¥å·¥å…·æ˜¯é’ˆå¯¹linuxç¯å¢ƒçš„ï¼Œwindowsç¯å¢ƒä¹Ÿæœ‰å¯¹åº”çš„å·¥å…·â€Execute Windows batch commandâ€ï¼›</li>
<li>Invoke Antï¼šAntæ˜¯ä¸€æ¬¾javaé¡¹ç›®æ„å»ºå·¥å…·ï¼›</li>
<li>Send files or execute commands over SSHï¼šå‘é€æ–‡ä»¶åˆ°è¿œç¨‹ä¸»æœºæˆ–æ‰§è¡Œå‘½ä»¤(è„šæœ¬)ï¼</li>
</ol>
<h3 id="æ„å»ºçŠ¶æ€"><a href="#æ„å»ºçŠ¶æ€" class="headerlink" title="æ„å»ºçŠ¶æ€"></a>æ„å»ºçŠ¶æ€</h3><ul>
<li>Successfulè“è‰²ï¼šæ„å»ºå®Œæˆï¼Œå¹¶ä¸”è¢«è®¤ä¸ºæ˜¯ç¨³å®šçš„</li>
<li>Unstableé»„è‰²ï¼šæ„å»ºå®Œæˆï¼Œä½†è¢«è®¤ä¸ºæ˜¯ä¸ç¨³å®šçš„</li>
<li>Failedçº¢è‰²ï¼šæ„å»ºå¤±è´¥</li>
<li>Disableç°è‰²ï¼šæ„å»ºå·²ç¦ç”¨</li>
</ul>
<h3 id="æ„å»ºç¨³å®šæ€§"><a href="#æ„å»ºç¨³å®šæ€§" class="headerlink" title="æ„å»ºç¨³å®šæ€§"></a>æ„å»ºç¨³å®šæ€§</h3><ul>
<li>æ„å»ºç¨³å®šæ€§ç”¨å¤©æ°”è¡¨ç¤º</li>
<li>æ™´ã€æ™´è½¬å¤šäº‘ã€å¤šäº‘ã€å°é›¨ã€é›·é˜µé›¨</li>
<li>å¤©æ°”è¶Šå¥½è¡¨ç¤ºæ„å»ºè¶Šç¨³å®šï¼Œåä¹‹äº¦ç„¶</li>
</ul>
<h2 id="Dockeræ­å»ºJenkinsç¯å¢ƒï¼ˆç‰ˆæœ¬2-253ï¼‰"><a href="#Dockeræ­å»ºJenkinsç¯å¢ƒï¼ˆç‰ˆæœ¬2-253ï¼‰" class="headerlink" title="Dockeræ­å»ºJenkinsç¯å¢ƒï¼ˆç‰ˆæœ¬2.253ï¼‰"></a>Dockeræ­å»ºJenkinsç¯å¢ƒï¼ˆç‰ˆæœ¬2.253ï¼‰</h2><ol>
<li><p>æŸ¥çœ‹DockerHubä¸Šæœ‰å“ªäº›ç‰ˆæœ¬çš„jenkinsï¼š<a href="https://hub.docker.com/r/jenkins/jenkins/tags" target="_blank" rel="noopener">https://hub.docker.com/r/jenkins/jenkins/tags</a></p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/41fe5ab3e8f42706fc1aae2d46ed6338-224724" alt="Docker Jenkins Tags"></p>
<ul>
<li><p>å®˜æ–¹æ”¯æŒå¾ˆå¤šTagçš„Jenkinsï¼Œé»˜è®¤çš„latestç‰ˆæœ¬æ”¯æŒjdk-8</p>
</li>
<li><p>é€‰æ‹©jdk11æ ‡ç­¾çš„ç‰ˆæœ¬ä»¥åŒ¹é…è‡ªå·±çš„å¼€å‘ç¯å¢ƒ</p>
</li>
<li><p>ä¸‹è½½é•œåƒï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker pull jenkins/jenkins:jdk11</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>åˆ›å»ºä¸€ä¸ªå·¥ä½œç›®å½•ï¼Œç”¨äºå­˜æ”¾docker-compose.ymlæ–‡ä»¶ä»¥åŠjenkinsæ•°æ®ï¼Œè¿™é‡Œåˆ›å»ºçš„ç›®å½•æ˜¯/Users/wander/docker/jenkinsï¼Œå¹¶ä¸”åˆ›å»ºäº†docker-compose.ymlä»¥åŠjenkins_dataç›®å½•ï¼›</p>
</li>
<li><p>ç¼–è¾‘docker-compose.ymlï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">version:</span> <span class="string">'2'</span></span><br><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">jenkins:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">jenkins/jenkins:jdk11</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="number">8080</span><span class="string">:8080</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">"/Users/wander/docker/jenkins/jenkins_data:/var/jenkins_home"</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">"/Volumes/Data/Java_Env/apache-maven-3.6.3:/usr/apache-maven-3"</span></span><br></pre></td></tr></table></figure>

<ul>
<li>æŒ‚è½½äº†æ•°æ®ç›®å½•ä»¥åŠapache-maven-3.6.3ç›®å½•ï¼Œå…¶ä¸­apache-maven-3.6.3ç›®å½•æ˜¯æœ¬åœ°çš„ç®¡ç†å·¥å…·Mavenç›®å½•</li>
<li>jdk11çš„ç›®å½•ä¸éœ€è¦æŒ‚è½½æœ¬åœ°çš„ï¼Œå› ä¸ºdockerç¯å¢ƒæ˜¯jdk11çš„ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨</li>
</ul>
</li>
<li><p>å¯åŠ¨docker-compose.ymlï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker-compse up -d</span><br></pre></td></tr></table></figure>
</li>
<li><p>ç­‰å¾…å®¹å™¨å¯åŠ¨å®Œæˆï¼Œç„¶åè®¿é—®<a href="http://localhost:8080ï¼š">http://localhost:8080ï¼š</a></p>
<ul>
<li><p>æ­£åœ¨åˆå§‹åŒ–</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/d10d9814c067808d1ab4c71f446ba161-104509" alt="jenkinsæ­£åœ¨åˆå§‹åŒ–"></p>
</li>
<li><p>è§£é”jenkinsï¼šåœ¨jenkins_dataç›®å½•ä¸‹çš„secretsç›®å½•ä¸‹çš„initialAdminPasswordæ–‡ä»¶ä¸­æœ‰ç®¡ç†å‘˜åŸå§‹å¯†ç </p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/0c6dd00343a8c0e0c0e065a7e0a86e40-228990" alt="è§£é”jenkins"></p>
</li>
<li><p>æ’ä»¶å®‰è£…ï¼šï¼ˆæš‚æ—¶ä¸è¦ç‚¹å‡»ï¼Œä¿®æ”¹é…ç½®æ–‡ä»¶ï¼Œä¸ç„¶ä¸‹è½½é€Ÿåº¦å¤ªæ…¢ï¼‰</p>
</li>
</ul>
</li>
<li><p>åœæ­¢å®¹å™¨ï¼Œç„¶åä¿®æ”¹jenkins_dataç›®å½•ä¸‹çš„updatesç›®å½•ä¸‹default.jsonæ–‡ä»¶ï¼š</p>
<ul>
<li><p>ä½¿ç”¨vimç¼–è¾‘æ–‡ä»¶ï¼Œæ›¿æ¢æ‰€æœ‰æ’ä»¶çš„ä¸‹è½½urlï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">:1,$s/https:\/\/updates.jenkins.io\/download/https:\/\/mirrors.tuna.tsinghua.edu.cn\/jenkins/g</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä½¿ç”¨vimç¼–è¾‘æ–‡ä»¶ï¼Œæ›¿æ¢æ‰€æœ‰æ’ä»¶çš„æµ‹è¯•urlï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">:1,$s/http:\/\/www.google.com/https:\/\/www.baidu.com/g</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä¿å­˜ï¼Œç„¶åé‡å¯å®¹å™¨ï¼ŒæŒ‰ç…§æ¨èçš„ä¸‹è½½æ’ä»¶</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/744ef30a52f825964a282dc5f686fa8e-129604" alt="ä¸‹è½½æ’ä»¶"></p>
</li>
</ul>
</li>
<li><p>ä¸‹è½½å®Œæˆæ¨èçš„æ’ä»¶ä¹‹åå°±å¯ä»¥åˆ›å»ºè´¦æˆ·äº†ï¼š</p>
<ul>
<li><p>åˆ›å»ºè´¦æˆ·ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/1b8647a710930b2c9f6a3946c1258cf2-37993" alt="åˆ›å»ºè´¦æˆ·"></p>
</li>
<li><p>å®ä¾‹é…ç½®ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/906de5691549ee34b2282c54f8a8a6f5-56961" alt="å®ä¾‹é…ç½®"></p>
</li>
</ul>
</li>
<li><p>é»˜è®¤é…ç½®å¥½çš„jenkinsè¿˜ä¸æ”¯æŒSpringBooté¡¹ç›®çš„æ„å»ºï¼Œéœ€è¦ä¸€äº›é…ç½®å·¥ä½œï¼š</p>
<ul>
<li><p>åœ¨æ’ä»¶ç®¡ç†é‡Œæœç´¢mavenå¹¶å®‰è£…ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/2be284e04d07dd346dc915f68166b8b9-116310" alt="æœç´¢maven"></p>
</li>
<li><p>é…ç½®å·¥å…·ä¸­çš„JDKé…ç½®ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/f26f84ecd210a2d8df41eb0691c26871-50648" alt="é…ç½®JDK"></p>
</li>
<li><p>é…ç½®å·¥å…·ä¸­çš„Mavené…ç½®ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/6f091f656547425819b9f6ebd189a811-64430" alt="é…ç½®Maven"></p>
</li>
<li><p>åº”ç”¨å¹¶ä¿å­˜é…ç½®å³å¯</p>
</li>
<li><p>æ³¨æ„ï¼šè¿™äº›åœ°å€æ ¹æ®ä¹‹å‰çš„é…ç½®è¿›è¡Œå¡«ï¼Œä¸çŸ¥é“çš„è¯å¯ä»¥ä½¿ç”¨which javaç­‰å‘½ä»¤ç¡®å®šä½ç½®</p>
</li>
</ul>
</li>
<li><p>Jenkinsæ—¶åŒºå’Œæ—¶é—´è®¾ç½®ï¼Œåœ¨ã€ç³»ç»Ÿç®¡ç†ã€‘-ã€è„šæœ¬å‘½ä»¤è¡Œã€‘é‡Œè¿è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">System.setProperty('org.apache.commons.jelly.tags.fmt.timeZone', 'Asia/Shanghai')</span><br></pre></td></tr></table></figure>

<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/119b110cc4382e00fc69b2057e7abaa7-97316" alt="æ—¶åŒºè®¾ç½®"></p>
</li>
<li><p>å®‰è£…æ’ä»¶Publish Over SSHï¼š</p>
<ul>
<li>åœ¨æ’ä»¶å®‰è£…ä¸­æœç´¢Publish Over SSHï¼Œç„¶åå®‰è£…</li>
<li>è¯¥æ’ä»¶æ˜¯å¯ä»¥é€šè¿‡SSHå‘½ä»¤éƒ¨ç½²æœåŠ¡</li>
</ul>
</li>
</ol>
<h2 id="Jenkinsé…ç½®GitHub"><a href="#Jenkinsé…ç½®GitHub" class="headerlink" title="Jenkinsé…ç½®GitHub"></a>Jenkinsé…ç½®GitHub</h2><ol>
<li><p>åœ¨Jenkinsçš„é…ç½®ä¸­å¿ƒæ·»åŠ GitHubæœåŠ¡ï¼Œç›´æ¥è¿æ¥æµ‹è¯•æ•ˆæœå¦‚ä¸‹ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/e5efc6df291facef4d1bf0cc718d5186-62962" alt="Jenkinsè¿æ¥githubæµ‹è¯•"></p>
</li>
<li><p>åˆ›å»ºGitHubå‡­è¯ï¼Œä½¿ç”¨Secret textï¼Œéœ€è¦å¡«å†™Secretï¼Œè¿™ä¸ªè¦åœ¨GitHubä¸­ç”³è¯·ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/34889c4e3f43c57205855568e719b107-50289" alt="jenkinså‡­è¯"></p>
</li>
<li><p>åœ¨GitHubä¸­çš„ã€è®¾ç½®ã€‘-ã€å¼€å‘è€…è®¾ç½®ã€‘-ã€ä¸ªäººæƒé™ä»¤ç‰Œã€‘ä¸­ç”Ÿæˆä»¤ç‰Œï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/b10bfb98a189a17cc99f0c7acaf6770d-287790" alt="GitHubä»¤ç‰Œ"></p>
</li>
<li><p>é…ç½®å‡­è¯ä¹‹åéªŒè¯ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/6b76ac1235eafa984e77973fd4e1be05-53053" alt="éªŒè¯github"></p>
</li>
<li><p>æ–°å»ºä¸€ä¸ªä½¿ç”¨githubä»“åº“çš„mavené¡¹ç›®ï¼š</p>
<ul>
<li><p>åˆ›å»ºä»»åŠ¡ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/507b34fb9942ad6dc91c8aeeae432748-184147" alt="åˆ›å»ºä»»åŠ¡"></p>
</li>
<li><p>é€šç”¨é…ç½®ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/99eea970581cf25582e61ac7886a04c7-61426" alt="é€šç”¨é…ç½®"></p>
</li>
<li><p>æºç ç®¡ç†ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/8f378a9e476ba41087a4d9df31b9656f-63192" alt="æºç ç®¡ç†"></p>
<ul>
<li>æ³¨æ„æ·»åŠ è‡ªå·±çš„è´¦æˆ·å’Œå¯†ç å‡­è¯</li>
</ul>
</li>
<li><p>å…¶ä»–é…ç½®åç»­å†è§£é‡Š</p>
</li>
</ul>
</li>
<li><p>é…ç½®å®Œæˆä¹‹åä¿å­˜ï¼Œç„¶åç‚¹å‡»ç«‹å³æ„å»ºï¼Œç„¶åæŸ¥çœ‹æ§åˆ¶å°çš„è¾“å‡ºï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/6e1c9292c6b11797a062d1a2956d5ec2-238590" alt="æ§åˆ¶å°è¾“å‡º"></p>
</li>
<li><p>é…ç½®GitHubçš„Webhookè‡ªåŠ¨è§¦å‘Jenkinsé¡¹ç›®æ„å»ºï¼š</p>
<ul>
<li><p>å…¨å±€é…ç½®Jenkinsçš„HookURLï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/061c0600516e385088c95124c5adcc58-69411" alt="å…¨å±€é…ç½®Jenkinsçš„HookURL"></p>
</li>
<li><p>é…ç½®é¡¹ç›®çš„Hookï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/654ba7746fece889a08f0e637fa7a141-74112" alt="é…ç½®é¡¹ç›®çš„Hook"></p>
</li>
<li><p>åœ¨GitHubé¡¹ç›®ä¸­çš„è®¾ç½®ä¸­é…ç½®Webhooksï¼Œæ·»åŠ å¯¹åº”çš„åœ°å€å³å¯</p>
</li>
<li><p>ä¿®æ”¹æºç ä¹‹åè¿›è¡Œpushåˆ°masteråˆ†æ”¯ä¹‹åå°±ä¼šè§¦å‘æ„å»ºæ“ä½œ</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/c706b18f1f5962bad739aa09567fb566-57781" alt="WebHookæ„å»ºæˆåŠŸ"></p>
</li>
</ul>
</li>
</ol>
<h2 id="Publish-Over-SSHé…ç½®"><a href="#Publish-Over-SSHé…ç½®" class="headerlink" title="Publish Over SSHé…ç½®"></a>Publish Over SSHé…ç½®</h2><ol>
<li><p>åœ¨æ­å»ºç¯å¢ƒçš„æ—¶å€™ç›´æ¥é…ç½®ä¸‹è½½Publish Over SSHæ’ä»¶äº†ï¼Œè¿™é‡Œä¸å†è¿›è¡Œæœç´¢å•¥çš„æˆªå›¾äº†ï¼›</p>
</li>
<li><p>è¿›å…¥Jenkinså®¹å™¨ä¸­ç”Ÿæˆsshç§˜é’¥å¯¹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">docker exec -it [å®¹å™¨ID] bash</span><br><span class="line"></span><br><span class="line">ssh-keygen  -t rsa  -C &quot;wangsp14@midea.com&quot;</span><br></pre></td></tr></table></figure>
</li>
<li><p>åœ¨Jenkinsçš„ã€ç®¡ç†Jenkinsã€‘-ã€Configure Systemã€‘-ã€Publish Over SSHã€‘è¿›è¡Œé…ç½®ï¼š</p>
<ul>
<li><p>æ·»åŠ ç§é’¥ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/506970b21d5e5e2887a2de720a3c58de-166694" alt="å°†ç”Ÿæˆçš„ç§é’¥æ·»åŠ åˆ°é…ç½®ä¸­"></p>
</li>
<li><p>æ·»åŠ SSHæœåŠ¡å™¨ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/d44be829a2d05e68c41f395ab30e5ccd-80809" alt="æ·»åŠ SSHæœåŠ¡å™¨"></p>
</li>
<li><p>æ³¨æ„è¦å°†jenkinsçš„å…¬é’¥æ‹·è´åˆ°SSHæœåŠ¡å™¨çš„authorized_keysæ–‡ä»¶ä¸­</p>
</li>
<li><p>å¯ä»¥æµ‹è¯•è¿æ¥çŠ¶å†µ</p>
</li>
</ul>
</li>
<li><p>åœ¨é¡¹ç›®ä¸­æ·»åŠ è¿œç¨‹éƒ¨ç½²ï¼š</p>
<ul>
<li><p>è¿œç¨‹éƒ¨ç½²é…ç½®ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/c37c1916d9970e274db68cd9e9dddb48-180606" alt="sshè¿œç¨‹éƒ¨ç½²é…ç½®"></p>
</li>
<li><p>Exec Commandå¦‚ä¸‹ï¼ˆéé€šç”¨ï¼‰ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">kill -9 `ps -ef | grep java | grep web | grep -v grep | awk '&#123;print $2&#125;'`</span><br><span class="line">sh /Users/wander/jenkins/start.sh</span><br></pre></td></tr></table></figure>
</li>
<li><p>start.shè„šæœ¬å¦‚ä¸‹ï¼ˆéé€šç”¨ï¼‰ï¼š</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line">/usr/bin/nohup /usr/<span class="built_in">local</span>/Cellar/openjdk@11/11.0.8/bin/java -jar /Users/wander/jenkins/web-0.0.1-SNAPSHOT.jar 2&gt;file1 1&gt;file1 &amp;</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä¸ºäº†é˜²æ­¢åˆ›å»ºæ–°ç›®å½•ï¼Œå‹¾é€‰Flatten filesé€‰é¡¹</p>
</li>
</ul>
</li>
<li><p>ç‚¹å‡»æ„å»ºé¡¹ç›®æˆ–è€…ä½¿ç”¨WebHooksä¿®æ”¹æºç ä¹‹åè‡ªåŠ¨æ„å»ºä¹‹åå°±ä¼šå°†jaråŒ…æ‹·è´åˆ°SSHæœåŠ¡å™¨ä¸­ï¼Œå¹¶ä¸”è‡ªåŠ¨è¿è¡Œé¡¹ç›®ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/e3d4a70cd820f8d2f0e82d289fb6e55a-15533" alt="SSHæœåŠ¡å™¨æ–‡ä»¶"></p>
</li>
</ol>
<h2 id="Jenkinsé…ç½®GitLab"><a href="#Jenkinsé…ç½®GitLab" class="headerlink" title="Jenkinsé…ç½®GitLab"></a>Jenkinsé…ç½®GitLab</h2><ol>
<li><p>GitLabå’ŒJenkinsä½¿ç”¨è¿‡ç¨‹ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/219147e7ecd12aa47e99bf923b264f49-48796" alt="GitLabå’ŒJenkinsä½¿ç”¨è¿‡ç¨‹"></p>
</li>
<li><p>æœç´¢å¹¶å®‰è£…GitLabæ’ä»¶ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/eeb91ac5e412a1b3b65f52265ab41aac-255425" alt="GitLabæ’ä»¶"></p>
</li>
<li><p>åœ¨Jenkinsçš„ã€ç®¡ç†Jenkinsã€‘-ã€Configure Systemã€‘-ã€Gitlabã€‘è¿›è¡Œé…ç½®ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/7a144a4e5cbcb85b19645e2842097add-162382" alt="Gitlabé…ç½®"></p>
</li>
<li><p>GitLabç”Ÿæˆä»¤ç‰Œï¼ˆAPI Tokenï¼‰ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/49d019c771a4b5df0edeeb235fcc4d6a-411279" alt="GitLabç”Ÿæˆä»¤ç‰Œ"></p>
</li>
<li><p>Jenkinæ·»åŠ GitLabå‡­è¯ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/4774481ba42a00a11ac5281d83759937-139812" alt="æ·»åŠ GitLabå‡­è¯"></p>
</li>
<li><p>æµ‹è¯•GitLabé€šä¿¡ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/422e2da24994892d28a7bb43d7555879-125410" alt="æµ‹è¯•GitLabé€šä¿¡"></p>
</li>
<li><p>åˆ›å»ºé¡¹ç›®å’ŒGitHubçš„è¿‡ç¨‹ç±»ä¼¼ï¼Œç„¶åå°±æ˜¯æºç ç®¡ç†éœ€è¦æ·»åŠ è´¦æˆ·è®¤è¯ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/9aed4656f2c3194c8a7f26b416704900-123421" alt="GitLabè´¦æˆ·è®¤è¯"></p>
<ul>
<li>å¯ä»¥æ·»åŠ æºç æµè§ˆå™¨</li>
</ul>
</li>
<li><p>Webhooksçš„é…ç½®æœ‰ä¸€ä¸ªé€‰é¡¹ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼Œè¿‡ç¨‹å’ŒGitHubçš„é…ç½®ç±»ä¼¼ï¼Œåç»­è¿‡ç¨‹ä¸å†æ·»åŠ è¯´æ˜</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/3e8e72189da5cc3df689f6b56f6c10e5-202968" alt="GitLab WebHooks"></p>
</li>
<li><p>GitLabå®Œæ•´è¿‡ç¨‹ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/c3436be72129e7e64281c9d29db5d963-575892" alt="GitLabå®Œæ•´è¿‡ç¨‹"></p>
</li>
</ol>
<h2 id="æ³¨æ„äº‹é¡¹"><a href="#æ³¨æ„äº‹é¡¹" class="headerlink" title="æ³¨æ„äº‹é¡¹"></a>æ³¨æ„äº‹é¡¹</h2><ul>
<li><p>é»˜è®¤çš„é‚®ä»¶é€šçŸ¥åªæ”¯æŒå¼‚å¸¸æ„å»ºï¼Œå¯ä»¥æ·»åŠ æ’ä»¶Email Extension Pluginæ¥é€šçŸ¥ï¼Œæœç´¢æ’ä»¶ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/0d7d9848774acef0cecedee8bbd826a5-105431" alt="Email Extension Plugin"></p>
</li>
<li><p>ç ´è§£ç®¡ç†å‘˜å¯†ç ï¼šå¦‚æœå¿˜è®°äº†ç®¡ç†å‘˜å¯†ç å¯ä»¥ä¿®æ”¹usersç›®å½•ä¸‹çš„ç”¨æˆ·å­ç›®å½•ä¸‹çš„config.xmlï¼Œä¿®æ”¹å…¶ä¸­çš„passwordHashå­—æ®µï¼Œç„¶åé‡å¯ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">passwordHash</span>&gt;</span>#jbcrypt:$2a$10$eJAMBW3qb/ijrFsSxkJnDOB747e0mFWSR03UmLCn96E4N7vL5BYzC<span class="tag">&lt;/<span class="name">passwordHash</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>é‡å¯ä¹‹åçš„å¯†ç ä¸º123456ï¼Œç„¶åé‡æ–°è®¾ç½®å¯†ç å³å¯</li>
</ul>
</li>
<li><p>jenkinsæ€ç»´å¯¼å›¾ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/3a7c3b3321b3aaed8f1b2397692f06b5-224591" alt="jenkinsæ€ç»´å¯¼å›¾"></p>
</li>
</ul>
<h2 id="æ¨èé˜…è¯»"><a href="#æ¨èé˜…è¯»" class="headerlink" title="æ¨èé˜…è¯»"></a>æ¨èé˜…è¯»</h2><ul>
<li><strong>Jenkinsä¸­æ–‡ç¤¾åŒºï¼š</strong><a href="http://jenkins-zh.cn/" target="_blank" rel="noopener">http://jenkins-zh.cn/</a></li>
<li><strong>Jenkinsä¸­æ–‡ç½‘ï¼š</strong><a href="http://www.jenkins.org.cn/" target="_blank" rel="noopener">http://www.jenkins.org.cn/</a></li>
</ul>
<hr>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>éšç€è½¯ä»¶å¼€å‘å¤æ‚åº¦çš„ä¸æ–­æé«˜ï¼Œå›¢é˜Ÿå¼€å‘æˆå‘˜é—´å¦‚ä½•æ›´å¥½åœ°ååŒå·¥ä½œä»¥ç¡®ä¿è½¯ä»¶å¼€å‘çš„è´¨é‡å·²ç»æ…¢æ…¢æˆä¸ºå¼€å‘è¿‡ç¨‹ä¸­ä¸å¯å›é¿çš„é—®é¢˜ã€‚æ•æ·ï¼ˆAgileï¼‰ åœ¨è½¯ä»¶å·¥ç¨‹é¢†åŸŸè¶Šæ¥è¶Šçº¢ç«ï¼Œå¦‚ä½•èƒ½å†ä¸æ–­å˜åŒ–çš„éœ€æ±‚ä¸­å¿«é€Ÿé€‚åº”å’Œä¿è¯è½¯ä»¶çš„è´¨é‡ä¹Ÿæ˜¾å¾—å°¤å…¶çš„é‡è¦ï¼CIå€¡å¯¼å›¢é˜Ÿå¼€å‘æˆå‘˜å¿…é¡»ç»å¸¸é›†æˆä»£ç ï¼Œç”šè‡³æ¯å¤©éƒ½å¯èƒ½å‘ç”Ÿå¤šæ¬¡é›†æˆï¼Œæ­å»ºJenkinsç¯å¢ƒå°±æ˜¾å¾—å°¤ä¸ºé‡è¦ï¼Œè¿™éƒ¨åˆ†åªèƒ½ç®—æ˜¯ä¸€ä¸ªèµ·æ­¥ï¼Œè¿˜éœ€è¦ä¸æ–­åœ°é˜…è¯»ä¸æ¢ç´¢ï¼</p>
]]></content>
      <categories>
        <category>Jenkins</category>
      </categories>
  </entry>
  <entry>
    <title>Json Quick Start</title>
    <url>/2020/04/21/Json-Quick-Start/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>Json ä¹‹çˆ¶ <strong>Douglas Crockford</strong>ï¼ŒçœŸçš„éœ€è¦ç»ä»°è¿™ç§å¤§ç¥ï¼Œè¶Šæ¥è¶Šå¤šä¸åŒè¡Œä¸šçš„ ITä»ä¸šè€…éƒ½æƒ³è¦æˆ–éœ€è¦å­¦ä¹  Jsonï¼ˆJavaScript Object Notationï¼ŒJavaScript å¯¹è±¡è¡¨ç¤ºæ³•ï¼‰ã€‚ä¸ºä»€ä¹ˆéœ€è¦å­¦ä¹ Jsonï¼ŸRest APIæ¡†æ¶ä½¿ç”¨çš„å°±æ˜¯Jsonè¿›è¡Œæ•°æ®çš„è¿”å›ï¼Œè¿˜æœ‰å¾ˆå¤šå…¬å¸ä¹Ÿåœ¨ç”¨ï¼Œæ¯”å¦‚ç™¾åº¦ã€‚å®è§‚ä¸Šçœ‹ï¼Œ Json æ˜¯ä¸€ç§è½»é‡çš„æ•°æ®æ ¼å¼ï¼Œ åœ¨å„ç§åœ°æ–¹ä¼ é€’æ•°æ®ï¼Œæ˜¯ä¸€ç§æ•°æ®äº¤æ¢æ ¼å¼ï¼Œä¹ƒè‡³è§„èŒƒã€‚æ•°æ®äº¤æ¢æ ¼å¼æœ‰å¾ˆ å¤šï¼Œå¦‚ XMLï¼ˆextensible markup languageï¼Œ å¯æ‰©å±•æ€§æ ‡è®°è¯­è¨€ï¼‰ï¼Œæ¯ä¸ªäººéƒ½æœ‰è‡ªå·±çš„æ•°æ®äº¤æ¢çˆ±å¥½ï¼Œä½†æ˜¯Jsonçš„é«˜æ•ˆè®©äººä¸å¾—ä¸å»äº†è§£ï¼Œç†Ÿæ‚‰ã€‚</p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="ä¸“ä¸šæœ¯è¯­"><a href="#ä¸“ä¸šæœ¯è¯­" class="headerlink" title="ä¸“ä¸šæœ¯è¯­"></a><strong>ä¸“ä¸šæœ¯è¯­</strong></h2><ol>
<li>è¡¨ç¤ºæ³•ï¼šä¸€ä¸ªç”¨äºè¡¨ç¤ºè¯¸å¦‚æ•°å­—æˆ–å•è¯ç­‰æ•°æ®çš„å­—ç¬¦ç³»ç»Ÿï¼›</li>
<li>æ•°æ®äº¤æ¢æ ¼å¼ï¼šç”¨äºåœ¨ä¸åŒçš„å¹³å°æˆ–ç³»ç»Ÿé—´äº¤æ¢æ•°æ®çš„æ–‡æœ¬ï¼›</li>
<li>å¯ç§»æ¤æ€§ï¼šä»¥ä¸€ç§å¯¹åŒæ–¹ç³»ç»Ÿéƒ½å…¼å®¹çš„æ–¹å¼åœ¨å¹³å°é—´ä¼ é€’ä¿¡æ¯ï¼›</li>
<li>åç§° - å€¼å¯¹ï¼šé”® - å€¼å¯¹ã€å±æ€§ - å€¼å¯¹æˆ–å­—æ®µ - å€¼å¯¹ç­‰ï¼›</li>
<li>å­—é¢é‡ï¼šå­—é¢æ„æ€ä¸å…¶æƒ³è¦è¡¨è¾¾çš„æ„æ€æ˜¯å®Œå…¨ä¸€è‡´çš„å€¼ï¼›</li>
<li>å˜é‡ï¼šé€šè¿‡å½¢å¦‚ x çš„æ ‡è¯†ç¬¦æ¥è¡¨ç¤ºçš„ã€å¯ä»¥ä¿®æ”¹çš„ä¸€ç±»å€¼ï¼›</li>
<li>æœ€å¤§å¯ç§»æ¤æ€§ï¼ˆæ•°æ®äº¤æ¢ä¸­ï¼‰ï¼šé€šè¿‡ä¿è¯æ•°æ®æœ¬èº«å¯¹äºå¹³å°å’Œç³»ç»Ÿçš„å…¼å®¹æ€§æ¥æä¾›è¶…è¶Šæ•°æ®æ ¼å¼æœ¬èº«çš„å¯ç§»æ¤æ€§ï¼›</li>
<li>å†…ç½®ç±»å‹ï¼ˆåŸå§‹æ•°æ®ç±»å‹ï¼‰ï¼šåœ¨ä¸åŒçš„ç¼–ç¨‹è¯­è¨€ä¸­ï¼Œâ€œä¸€æˆä¸å˜â€çš„æ•°æ®ç±»å‹ï¼›</li>
<li>å¤åˆæ•°æ®ç±»å‹ï¼šç”±åŸå§‹æ•°æ®ç±»å‹èåˆè€Œæˆçš„æ•°æ®ç±»å‹ï¼›</li>
</ol>
<h2 id="Jsonçš„æ ¼å¼-æ ·ä¾‹"><a href="#Jsonçš„æ ¼å¼-æ ·ä¾‹" class="headerlink" title="Jsonçš„æ ¼å¼(æ ·ä¾‹)"></a><strong>Jsonçš„æ ¼å¼(æ ·ä¾‹)</strong></h2><figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"brand"</span>: <span class="string">"Nike"</span>,</span><br><span class="line">  <span class="attr">"color"</span>: <span class="string">"Pink"</span>,</span><br><span class="line">  <span class="attr">"size"</span>: <span class="number">9</span>,</span><br><span class="line">  <span class="attr">"hasLaces"</span>: <span class="literal">false</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="JSONè¯­æ³•"><a href="#JSONè¯­æ³•" class="headerlink" title="JSONè¯­æ³•"></a>JSONè¯­æ³•</h2><ol>
<li>Jsonä¸­ä½¿ç”¨å†’å·ï¼ˆ : ï¼‰æ¥åˆ†éš”åç§°å’Œå€¼ï¼Œåç§°å§‹ç»ˆåœ¨å·¦ä¾§ï¼Œå€¼å§‹ç»ˆåœ¨å³ä¾§ï¼Œ<strong>åŒå¼•å·</strong>ä¸­çš„åç§°å¯ä»¥æ˜¯ä»»ä½•æœ‰æ•ˆçš„å­—ç¬¦ä¸²ï¼›</li>
<li>Json è¿™ç§æ•°æ®äº¤æ¢æ ¼å¼æ˜¯å¯ä»¥ä½œä¸ºç‹¬ç«‹çš„æ–‡ä»¶å­˜åœ¨äºæ–‡ä»¶ç³»ç»Ÿä¸­çš„ï¼Œæ–‡ä»¶æ‰©å±•åä¸ºâ€œ.jsonâ€ï¼›</li>
<li>Json çš„ MIME ç±»å‹æ˜¯ application/json ï¼›</li>
<li>Jsonæ”¯æŒè¯­æ³•åµŒå¥—ï¼›</li>
</ol>
<h2 id="JSONæ•°æ®ç±»å‹"><a href="#JSONæ•°æ®ç±»å‹" class="headerlink" title="JSONæ•°æ®ç±»å‹"></a>JSONæ•°æ®ç±»å‹</h2><ol>
<li>å¯¹è±¡ï¼šJSON æœ¬èº«å°±æ˜¯å¯¹è±¡ï¼›</li>
<li>å­—ç¬¦ä¸²ï¼šä½¿ç”¨åŒå¼•å·åŒ…å«ï¼Œå…¶ä»–å½¢å¼éƒ½æ˜¯é”™è¯¯çš„ï¼›</li>
<li>æ•°å­—ï¼šå¯ä»¥æ˜¯æ•´æ•°ã€å°æ•°ã€è´Ÿæ•°æˆ–è€…æŒ‡æ•°ï¼›</li>
<li>å¸ƒå°”å€¼ï¼šä½¿ç”¨å°å†™å½¢å¼ï¼š true æˆ– false ï¼Œ ä»»ä½•å…¶ä»–å½¢å¼çš„å†™æ³•éƒ½ä¼šæŠ¥é”™ï¼›</li>
<li>nullï¼šè¡¨ç¤ºâ€œæ²¡æœ‰å€¼â€çš„å€¼ï¼Œï¼Œ null å¿…é¡»ä½¿ç”¨å°å†™å½¢å¼ï¼›</li>
<li>æ•°ç»„ï¼šæ•°ç»„å§‹ç»ˆåº”è¢«æ–¹æ‹¬å·ï¼ˆ [] ï¼‰åŒ…è£¹ï¼Œåœ¨æ•°ç»„ä¸­ï¼Œ å¯ä»¥çœ‹åˆ°ä¸€ä¸ªåˆ—è¡¨ï¼Œ åˆ—è¡¨é¡¹ä¹‹é—´ç”¨é€—å·éš”å¼€ï¼›æ•°ç»„é‡Œå¯ä»¥åŒ…å«ä»»ä½•æ”¯æŒçš„æ•°æ®ç±»å‹ã€‚</li>
</ol>
<h2 id="Jsonæ³¨æ„äº‹é¡¹"><a href="#Jsonæ³¨æ„äº‹é¡¹" class="headerlink" title="Jsonæ³¨æ„äº‹é¡¹"></a>Jsonæ³¨æ„äº‹é¡¹</h2><ol>
<li>JSON çš„å­—ç¬¦ä¸²æ¥è¯´ï¼Œ åŒå¼•å·ä¹Ÿä¸æ˜¯å”¯ä¸€ä¸€ä¸ªéœ€è¦è½¬ä¹‰çš„å­—ç¬¦ï¼›<ol>
<li>/ ï¼ˆæ­£æ–œçº¿ï¼‰</li>
<li>\b ï¼ˆé€€æ ¼ç¬¦ï¼‰</li>
<li>\f ï¼ˆæ¢é¡µç¬¦ï¼‰</li>
<li>\t ï¼ˆåˆ¶è¡¨ç¬¦ï¼‰</li>
<li>\n ï¼ˆæ¢è¡Œç¬¦ï¼‰</li>
<li>\r ï¼ˆå›è½¦ç¬¦ï¼‰</li>
<li>\u åé¢è·Ÿåå…­è¿›åˆ¶å­—ç¬¦ï¼ˆå¦‚ç¬‘è„¸è¡¨æƒ… \u263A ï¼‰</li>
</ol>
</li>
</ol>
<h2 id="Json-Schema"><a href="#Json-Schema" class="headerlink" title="Json Schema"></a>Json Schema</h2><ol>
<li>æ•°æ®äº¤æ¢ Schemaï¼šé€šè¿‡éªŒè¯æ•°æ®ä¸ Schema çš„ä¸€è‡´æ€§ï¼Œè½»æ¾åœ°å®šä½å’Œä¿®å¤äº†é”™è¯¯ï¼Œä¿è¯æ•°æ®ç¬¦åˆè¦æ±‚-æ•°æ®äº¤æ¢ä¸­çš„ä¸€ç§è™šæ‹Ÿçš„â€œåˆåŒâ€ï¼›</li>
<li>éœ€è¦åœ¨ JSON ç¬¬ä¸€ä¸ªåç§° - å€¼å¯¹ä¸­ï¼Œå£°æ˜å…¶ä¸ºä¸€ä¸ª schema æ–‡ä»¶,ç¬¬äºŒä¸ªåç§°-å€¼å¯¹åº”è¯¥æ˜¯ JSON Schema æ–‡ä»¶çš„æ ‡é¢˜,ç¬¬ä¸‰ä¸ªåç§°å€¼å¯¹ä¸­ï¼Œè¦å®šä¹‰éœ€è¦åœ¨ JSON ä¸­åŒ…å«çš„å±æ€§,æ¥ä¸‹æ¥å°±èƒ½éªŒè¯ JSON æ˜¯å¦ç¬¦åˆ JSON Schemaï¼š</li>
</ol>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"$schema"</span>: <span class="string">"http://json-schema.org/draft-04/schema#"</span>,</span><br><span class="line">  <span class="attr">"title"</span>: <span class="string">"Cat"</span>,</span><br><span class="line">  <span class="attr">"properties"</span>: &#123; </span><br><span class="line">    <span class="attr">"name"</span>: &#123;</span><br><span class="line">      <span class="attr">"type"</span>: <span class="string">"string"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">"age"</span>: &#123;</span><br><span class="line">      <span class="attr">"type"</span>: <span class="string">"number"</span>,</span><br><span class="line">      <span class="attr">"description"</span>: <span class="string">"Your cat's age in years."</span> </span><br><span class="line">    &#125;, </span><br><span class="line">    <span class="attr">"declawed"</span>: &#123;</span><br><span class="line">      <span class="attr">"type"</span>: <span class="string">"boolean"</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>JSON Schema ä¸»é¡µï¼ˆ<a href="http://json-schema.org/ï¼‰" target="_blank" rel="noopener">http://json-schema.org/ï¼‰</a>;</li>
</ol>
<hr>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>Jsonæ˜¯ä¸€ç§éå¸¸é‡è¦çš„æ•°æ®äº¤æ¢è§„èŒƒ,åœ¨SpringBootä¸­å¤§é‡ä½¿ç”¨,äº†è§£å…¶è§„èŒƒéå¸¸é‡è¦,è¿™éƒ¨åˆ†å±äºåŸºç¡€,åæœŸåœ¨ä¸åŒçš„é¡¹ç›®ä¸­ä½¿ç”¨çš„æ—¶å€™å†è¿›è¡Œè¯¦ç»†çš„ä½¿ç”¨ä»‹ç»ã€‚</p>
]]></content>
      <categories>
        <category>Json</category>
      </categories>
  </entry>
  <entry>
    <title>Kali Proxy</title>
    <url>/2020/04/27/Kali-Proxy/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>kaliæ˜¯ä¸€æ¬¾å¼ºå¤§çš„å®‰å…¨æµ‹è¯•å·¥å…·é›†ç³»ç»Ÿï¼Œè¿™ä¸€éƒ¨åˆ†ä¸»è¦ä»‹ç»ä»£ç†å·¥å…·ï¼Œä¸ºæˆ‘ä»¬ä»¥åçš„æ¸—é€æµ‹è¯•åšå‡†å¤‡å·¥ä½œï¼Œä»åŸºç¡€åŸç†åˆ°å·¥å…·ä¸€æ­¥æ­¥çš„è¿›å…¥ä»£ç†çš„ä¸–ç•Œï¼</p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="ä»£ç†çš„ç›¸å…³"><a href="#ä»£ç†çš„ç›¸å…³" class="headerlink" title="ä»£ç†çš„ç›¸å…³"></a>ä»£ç†çš„ç›¸å…³</h2><p>æ­£å‘ä»£ç†</p>
<p>åå‘ä»£ç†</p>
<p>é€æ˜ä»£ç†</p>
<h2 id="Mitmporxy"><a href="#Mitmporxy" class="headerlink" title="Mitmporxy"></a>Mitmporxy</h2><h2 id="Owasp-zap"><a href="#Owasp-zap" class="headerlink" title="Owasp-zap"></a>Owasp-zap</h2><ol>
<li>OWASP Zed Attack Proxy Project æ”»å‡»ä»£ç†æ˜¯ä¸€æ¬¾æŸ¥æ‰¾ç½‘é¡µåº”ç”¨ç¨‹åºæ¼æ´çš„ç»¼åˆç±»æ¸—é€æµ‹è¯•å·¥å…·ï¼ŒåŒ…å«äº†æ‹¦æˆªä»£ç†ã€è‡ªåŠ¨å¤„ç†ã€è¢«åŠ¨å¤„ç†ã€æš´åŠ›ç ´è§£ã€ç«¯å£æ‰«æä»¥åŠèœ˜è››æœç´¢ç­‰åŠŸèƒ½ï¼›</li>
<li>OWASP ZAPå±äºä¼šè¯ç±»è°ƒè¯•å·¥å…·ï¼Œè°ƒè¯•åŠŸèƒ½å¯¹ç½‘ç«™ä¸ä¼šå‘èµ·å¤§é‡è¯·æ±‚ï¼Œå¯¹æœåŠ¡å™¨çš„å½±å“æ¯”è¾ƒå°ï¼›</li>
</ol>
<h2 id="Paros"><a href="#Paros" class="headerlink" title="Paros"></a>Paros</h2><ol>
<li>paros proxyæ˜¯ä¸€ä¸ªå¯¹webåº”ç”¨ç¨‹åºçš„æ¼æ´è¿›è¡Œè¯„ä¼°çš„ä»£ç†ç¨‹åºï¼ˆåŸºäºJavaï¼‰ï¼Œæ”¯æŒåŠ¨æ€åœ°ç¼–è¾‘/æŸ¥çœ‹Webé€šä¿¡è®°å½•ç¨‹åºã€Webåœˆå¥—ç¨‹åºã€Hashè®¡ç®—å™¨ã€è¿˜å¯ä»¥æµ‹è¯•å¸¸è§çš„Webåº”ç”¨ç¨‹åºæ”»å‡»ï¼Œæ£€æŸ¥çš„æ¼æ´å½¢å¼åŒ…æ‹¬ï¼šSQLæ³¨å…¥ã€è·¨ç«™è„šæœ¬æ”»å‡»ã€ç›®å½•éå†ç­‰ï¼›</li>
</ol>
<h2 id="Burp-Suite"><a href="#Burp-Suite" class="headerlink" title="Burp Suite"></a>Burp Suite</h2><ol>
<li>Burp Suiteæ˜¯ç”¨äºWebæ”»å‡»åº”ç”¨ç¨‹åºçš„é›†æˆå¹³å°ï¼›</li>
<li>å¸¦æœ‰ä¸€ä¸ªé»˜è®¤8080ç«¯å£çš„ä»£ç†ï¼Œä½¿ç”¨è¿™ä¸ªä»£ç†ï¼Œæˆ‘ä»¬å¯ä»¥æ‹¦æˆªå¹¶ä¿®æ”¹å®¢æˆ·ç«¯åˆ°webåº”ç”¨ç¨‹åºçš„æ•°æ®åŒ…ï¼›</li>
</ol>
<h2 id="Proxystrike"><a href="#Proxystrike" class="headerlink" title="Proxystrike"></a>Proxystrike</h2><h2 id="Vega"><a href="#Vega" class="headerlink" title="Vega"></a>Vega</h2><h2 id="Webscarab"><a href="#Webscarab" class="headerlink" title="Webscarab"></a>Webscarab</h2><hr>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1>]]></content>
      <categories>
        <category>Kali</category>
      </categories>
  </entry>
  <entry>
    <title>Kibana Quick Start</title>
    <url>/2020/05/11/Kibana-Quick-Start/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p><a href="https://www.elastic.co/cn/elastic-stack" target="_blank" rel="noopener">Kibana</a>æ˜¯ä¸€ç§å¼€æºåˆ†æå’Œå¯è§†åŒ–å·¥å…·ï¼Œå¯é€šè¿‡åŸºäºæµè§ˆå™¨çš„ç•Œé¢è½»æ¾æœç´¢ï¼Œå¯è§†åŒ–å’Œæ¢ç´¢å¤§é‡æ•°æ®ã€‚å€ŸåŠ©Elasticsearchå’ŒKibanaï¼Œå‡ ä¹å¯ä»¥æµè§ˆä»»ä½•ç±»å‹çš„æ•°æ®ï¼Œä»æ–‡æœ¬æ–‡æ¡£åˆ°æœºå™¨æ—¥å¿—ï¼Œåº”ç”¨ç¨‹åºæŒ‡æ ‡ï¼Œç”µå­å•†åŠ¡æµé‡ï¼Œä¼ æ„Ÿå™¨é¥æµ‹æˆ–å…¬å¸çš„ä¸šåŠ¡KPIï¼Œä¸€æ—¦æ•°æ®è¿›å…¥Elasticsearchï¼Œå°±å¯ä»¥åœ¨Kibanaä¸­è¿›è¡Œæ¢ç´¢å¹¶ä¸ä¹‹äº¤äº’ï¼å¯ä»¥ä½¿ç”¨Kibanaæœç´¢æ æœç´¢æ•°æ®ï¼Œä½¿ç”¨å„ç§å›¾è¡¨ç±»å‹å¯è§†åŒ–æ•°æ®ï¼Œå¹¶ä½¿ç”¨å®æ—¶ä»ªè¡¨æ¿è¿›è¡Œå¯è§†åŒ–å¤„ç†ï¼›è¿˜å¯ä»¥åœ¨å¤§å±å¹•ä¸Šæ˜¾ç¤ºä»ªè¡¨æ¿ï¼Œä»¥æä¾›æ•´ä¸ªå…¬å¸æˆ–åŠå…¬å®¤çš„å¯è§æ€§ã€‚<strong><em>ç¡®ä¿ELKçš„ç‰ˆæœ¬ä¿æŒä¸€è‡´ã€‚</em></strong> <strong>æ¨èä¹¦ç±ï¼šã€Šå®æˆ˜Elasticsearchã€Logstashã€Kibanaâ€”â€”åˆ†å¸ƒå¼å¤§æ•°æ®æœç´¢ä¸æ—¥å¿—æŒ–æ˜åŠå¯è§†åŒ–è§£å†³æ–¹æ¡ˆã€‹Â· é«˜å‡¯ ç¼–è‘—</strong>   </p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="å®‰è£…å¹¶è¿è¡Œ-7-6-2"><a href="#å®‰è£…å¹¶è¿è¡Œ-7-6-2" class="headerlink" title="å®‰è£…å¹¶è¿è¡Œ(7.6.2)"></a>å®‰è£…å¹¶è¿è¡Œ(7.6.2)</h2><ol>
<li><p>macOSï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">brew install kibana</span><br></pre></td></tr></table></figure>
</li>
<li><p>docker:</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker pull kibana:7.6.2</span><br></pre></td></tr></table></figure>
</li>
<li><p>kibanaé»˜è®¤çš„ç½‘å€æ˜¯ï¼š<a href="http://localhost:5601" target="_blank" rel="noopener">http://localhost:5601</a></p>
</li>
<li><p>é…ç½®ï¼šKibanaé»˜è®¤ä»$KIBANA_HOME/config/kibana.ymlæ–‡ä»¶åŠ è½½å…¶é…ç½®</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">i18n.locale:</span> <span class="string">"zh-CN"</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>ç´¢å¼•æ¨¡å¼å‘Šè¯‰Kibanaæ‚¨æƒ³æ¢ç´¢å“ªäº›Elasticsearchç´¢å¼•ï¼Œå¯ä»¥åœ¨Elasticsearchä¸­ä¸ºç‰¹å®šç´¢å¼•åˆ›å»ºç´¢å¼•æ¨¡å¼ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨é€šé…ç¬¦*åŒæ—¶æŸ¥è¯¢å¤šä¸ªç´¢å¼•ã€‚åœ¨Kibanaä¸­å¯ä»¥æœ‰å¤šä¸ªç´¢å¼•æ¨¡å¼ï¼ˆå°±åƒæ•°æ®åº“ä¸­æœ‰å¾ˆå¤šè¡¨ä¸€æ ·ï¼‰ï¼Œ åœ¨åˆ›å»ºå¯è§†åŒ–æˆ–æœç´¢æ•°æ®æ—¶ï¼Œéœ€è¦é€‰æ‹©è¦åœ¨å…¶ä¸Šè¿›è¡Œæœç´¢çš„ç´¢å¼•æ¨¡å¼ï¼›</p>
</li>
<li><p>é‡è¦çš„å¯¼èˆªæ ï¼šå‘ç°(Discover)ï¼Œå¯è§†åŒ–(Visualize)å’Œä»ªè¡¨æ¿(Dashboard)</p>
<ol>
<li>å‘ç°(Discover)ï¼šæœç´¢å’Œè¿‡æ»¤åŸå§‹æ–‡æ¡£çš„åœ°æ–¹ï¼Œæ¯ä¸ªè®°å½•éƒ½è¡¨ç¤ºä¸ºä¸€è¡Œï¼Œå¯ä»¥å±•å¼€å„è¡Œä»¥æŸ¥çœ‹æ¯ä¸ªè®°å½•ä¸­çš„æ‰€æœ‰å­—æ®µåŠå…¶å€¼</li>
<li>å¯è§†åŒ–(Visualize)ï¼šå¯ä»¥ä½¿ç”¨è®¸å¤šç°æˆçš„å›¾è¡¨åˆ›å»ºå¯è§†åŒ–å¹¶ç ”ç©¶æ•°æ®çš„å·¥å…·ï¼Œæœ‰ä¸¤ä¸ªæ ¸å¿ƒå®šä¹‰å€¼ï¼š<ul>
<li>å­˜å‚¨æ¡¶èšåˆï¼šå­˜å‚¨æ¡¶èšåˆå°†æ–‡æ¡£åˆ†ä¸ºå¤šä¸ªå­˜å‚¨æ¡¶ï¼Œæ¯ä¸ªå­˜å‚¨æ¡¶å¯ä»¥åŒ…å«å¤šä¸ªæ–‡æ¡£ï¼Œä¸€ä¸ªæ–‡æ¡£æˆ–æ ¹æœ¬ä¸åŒ…å«ä»»ä½•æ–‡æ¡£</li>
<li>æŒ‡æ ‡èšåˆï¼šåˆ›å»ºå­˜å‚¨æ¡¶åï¼ŒæŒ‡æ ‡èšåˆå°†ä¸ºæ¯ä¸ªå­˜å‚¨æ¡¶è®¡ç®—ä¸€ä¸ªå€¼</li>
</ul>
</li>
<li>ä»ªè¡¨æ¿(Dashboard)ï¼šå¯ä»¥ä»å¤šä¸ªè§’åº¦æŸ¥çœ‹æ•°æ®å¹¶åœ¨åŒä¸€è§†å›¾ä¸­ä¸æ•°æ®è¿›è¡Œäº¤äº’<ul>
<li>é€‰æ‹©å›¾è¡¨çš„åŒºåŸŸä»¥æ”¾å¤§ç‰¹å®šçš„æ—¶é—´èŒƒå›´</li>
<li>å•å‡»é¥¼å›¾ä¸­çš„ä¸€ä¸ªåˆ‡ç‰‡ä»¥è¿‡æ»¤è¯¥å€¼</li>
</ul>
</li>
</ol>
</li>
<li><p>åœ¨Kibanaçš„æœç´¢ä¸­ï¼Œæœ‰ä»¥ä¸‹ä¸‰ç§æ–¹å¼è¿›è¡Œæœç´¢ï¼š</p>
<ul>
<li>KQL (Kibana Query Language)</li>
<li>Lucene</li>
<li>DSLï¼šé€‚ç”¨äºä½¿ç”¨Kibanaä¸­çš„Dev tools</li>
</ul>
</li>
<li><p>å¯ä»¥ä½¿ç”¨ Kibana æ¥ searchï¼ˆæŸ¥è¯¢ï¼‰ï¼Œviewï¼ˆæµè§ˆï¼‰å¹¶ä¸”å¯ä»¥ä¸å­˜å‚¨åœ¨ Elasticsearch indicesï¼ˆç´¢å¼•ï¼‰ä¸­çš„æ•°æ®äº¤äº’ï¼Œå¯ä»¥å¾ˆå®¹æ˜“çš„ä»¥å„ç§å„æ ·çš„ chartsï¼ˆå›¾è¡¨ï¼‰ï¼Œtablesï¼ˆè¡¨ï¼‰ å’Œ mapsï¼ˆåœ°å›¾ï¼‰ æ ·å¼æ¥é’ˆå¯¹ dataï¼ˆæ•°æ®ï¼‰æ‰§è¡Œé«˜çº§çš„ data analysisï¼ˆæ•°æ®åˆ†æï¼‰ä»¥åŠ visualizeï¼ˆ å¯è§†åŒ–ï¼‰ï¼›</p>
</li>
<li><p>åŸºäºæµè§ˆå™¨çš„ç•Œé¢ä½¿å¾—å¯ä»¥å¿«é€Ÿçš„åˆ›å»ºå¹¶ä¸”å®æ—¶æ˜¾ç¤ºä¿®æ”¹çš„ Elasticsearch æŸ¥è¯¢çš„ dashboardsï¼ˆä»ªè¡¨ç›˜ï¼‰ï¼›</p>
</li>
<li><p>Kibana æœåŠ¡åœ¨å¯åŠ¨æ—¶ä» kibana.yml æ–‡ä»¶ä¸­è·å–å±æ€§ï¼Œé»˜è®¤è®¾ç½®å°†Kibanaé…ç½®ä¸ºåœ¨localhost:5601ä¸Šè¿è¡Œã€‚éœ€è¦æ›´æ”¹ä¸»æœºæˆ–ç«¯å£å·ï¼Œéœ€è¦æ›´æ–°kibana.ymlæ–‡ä»¶ï¼Œè¿˜å¯ä»¥å¯åŠ¨SSLå¹¶è®¾ç½®å„ç§å…¶å®ƒçš„é€‰é¡¹ï¼š</p>
<ul>
<li>server.port :é»˜è®¤å€¼ ï¼Œ5601 Kibanaï¼Œç”±åç«¯æœåŠ¡å™¨æä¾›æœåŠ¡ï¼Œæ­¤è®¾ç½®æŒ‡å®šè¦ä½¿ç”¨çš„ç«¯å£</li>
<li>server.host :é»˜è®¤å€¼ ï¼Œ â€œlocalhostâ€ ï¼Œæ­¤è®¾ç½®æŒ‡å®šåç«¯æœåŠ¡å™¨çš„ä¸»æœº</li>
<li>server.basePath :ä½¿æ‚¨èƒ½å¤ŸæŒ‡å®šå¦‚æœæ‚¨åœ¨ä»£ç†åè¿è¡Œçš„ Kibana çš„è·¯å¾„</li>
<li>server.maxPayloadBytes :é»˜è®¤å€¼ :ï¼Œ1048576 ä¼ å…¥æœåŠ¡å™¨è¯·æ±‚çš„æœ€å¤§æœ‰æ•ˆè´Ÿè½½å¤§å°</li>
<li>server.name :é»˜è®¤å€¼ â€œyour-hostnameâ€ ç”¨äºæ ‡è¯†æ­¤ Kibana å®ä¾‹çš„å¯è¯»çš„æ˜¾ç¤ºåç§°</li>
<li>server.defaultRoute :é»˜è®¤å€¼ ï¼Œâ€œ/app/kibanaâ€ æ­¤è®¾ç½®æŒ‡å®šæ‰“å¼€ Kibana æ—¶çš„é»˜è®¤è·¯ç”±</li>
<li>elasticsearch.url :é»˜è®¤å€¼ ï¼Œâ€œ<a href="http://localhost:9200â€">http://localhost:9200â€</a> è¦ç”¨äºæ‰€æœ‰æŸ¥è¯¢çš„ Elasticsearch å®ä¾‹çš„ URL</li>
<li>elasticsearch.preserveHost :é»˜è®¤å€¼ï¼Œtrue</li>
<li>kibana.index :é»˜è®¤å€¼ï¼Œâ€œ.kibanaâ€Kibana ä½¿ç”¨ Elasticsearch ä¸­çš„ç´¢å¼•æ¥å­˜å‚¨ä¿å­˜çš„æœç´¢</li>
<li>kibana.defaultAppId :é»˜è®¤å€¼ï¼Œ â€œdiscoverâ€ è¦åŠ è½½çš„é»˜è®¤åº”ç”¨ç¨‹åº</li>
<li>tilemap.url :Kibana ç”¨äºåœ¨ tilemap å¯è§†åŒ–ä¸­æ˜¾ç¤ºåœ°å›¾å›¾å—çš„å›¾å—æœåŠ¡çš„ URL</li>
<li>tilemap.options.minZoom :é»˜è®¤å€¼ï¼Œ1 æœ€å°ç¼©æ”¾çº§åˆ«</li>
<li>tilemap.options.maxZoom :é»˜è®¤å€¼ï¼Œ10 æœ€å¤§ç¼©æ”¾çº§åˆ«</li>
<li>server.ssl.cert å’Œ server.ssl.key :åˆ†åˆ«æŒ‡å‘ PEM æ ¼å¼ SSL è¯ä¹¦å’Œ SSL å¯†é’¥æ–‡ä»¶çš„è·¯å¾„</li>
<li>elasticsearch.ssl.ca :å¯é€‰è®¾ç½®ï¼Œä½¿æ‚¨èƒ½å¤Ÿä¸º Elasticsearch å®ä¾‹æŒ‡å®šè¯ä¹¦é¢å‘æœºæ„çš„ PEM æ–‡ä»¶çš„è·¯å¾„</li>
<li>elasticsearch.ssl.verify :é»˜è®¤å€¼ï¼Œtrue è¦å¿½ç•¥ SSL è¯ä¹¦çš„æœ‰æ•ˆæ€§ï¼Œè¯·å°†æ­¤è®¾ç½®çš„å€¼æ›´æ”¹ä¸º false</li>
<li>â€¦ â€¦</li>
</ul>
</li>
<li><p>Kibana æ”¯æŒå®¢æˆ·ç«¯è¯·æ±‚å’Œ Kibana æœåŠ¡å™¨å‘é€åˆ° Elasticsearch çš„è¯·æ±‚çš„ SSL åŠ å¯†ï¼›</p>
</li>
<li><p>Elasticsearchä¸ä»…æ˜¯å¼€æºåˆ†å¸ƒå¼æ£€ç´¢ä¸æ•°æ®å¤„ç†å¹³å°ï¼Œè€Œä¸”æ˜¯ä¸€ä¸ªåŸºäºLuceneæ„å»ºçš„å¼€æºã€åˆ†å¸ƒå¼ã€RESTfulä¿¡æ¯æ£€ç´¢æ¡†æ¶ï¼›</p>
</li>
<li><p>ELKæ¶æ„ä¸ºæ•°æ®åˆ†å¸ƒå¼å­˜å‚¨ã€å¯è§†åŒ–æŸ¥è¯¢å’Œæ—¥å¿—è§£æåˆ›å»ºäº†ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„ç®¡é“é“¾ï¼›</p>
</li>
<li><p>ELKå¯¹äºå¤§æ•°æ®å¤„ç†ã€ä¿¡æ¯æ£€ç´¢ä»¥åŠæœç´¢å¼•æ“ç ”å‘ã€æ—¥å¿—å¤„ç†ä¸åˆ†æã€æŒ–æ˜ä¿¡æ¯å¯è§†åŒ–ç­‰ã€å¯¹äºè®¾è®¡é«˜æ•ˆçš„å¤§å‹å•†ä¸šç½‘ç«™éƒ½å…·æœ‰é‡è¦çš„ç°å®æ„ä¹‰ï¼›</p>
</li>
<li><p>Elasticsearchæ”¯æŒæœåŠ¡å™¨é›†ç¾¤ï¼ŒèŠ‚ç‚¹ä¹‹é—´æ˜¯å¯¹ç­‰å…³ç³»çš„ï¼ˆå»ä¸­å¿ƒè¯ï¼‰ï¼ŒMasterèŠ‚ç‚¹å¤šäº†ç»´æŠ¤é›†ç¾¤çŠ¶æ€çš„åŠŸèƒ½ï¼Œæ¯ä¸ªèŠ‚ç‚¹ä¸Šçš„é›†ç¾¤çŠ¶æ€æ•°æ®éƒ½æ˜¯å®æ—¶åŒæ­¥çš„ï¼ŒMasterèŠ‚ç‚¹å‡ºæ•…éšœï¼Œä¼šé€‰å‡ºä¸€ä¸ªèŠ‚ç‚¹æˆä¸ºMasterèŠ‚ç‚¹ï¼›</p>
</li>
<li><p>Elasticsearch APIçš„ç®€å•ä½¿ç”¨ï¼š</p>
<ol>
<li>é€šè¿‡HTTPæ–¹å¼çš„JSONæ ¼å¼è¿›è¡Œè°ƒç”¨</li>
<li>é€šè¿‡Thriftè½¯ä»¶æ¡†æ¶æ–¹å¼ï¼ŒThriftç»“åˆäº†åŠŸèƒ½å¼ºå¤§çš„è½¯ä»¶å †æ ˆå’Œä»£ç ç”Ÿæˆå¼•æ“ï¼Œä»¥æ„å»ºåœ¨C++ã€Javaç­‰ç¼–ç¨‹è¯­è¨€é—´çš„æ— ç¼ã€é«˜æ•ˆæœåŠ¡</li>
<li>é€šè¿‡Memcachedæ–¹å¼ï¼Œåˆ†å¸ƒå¼å†…å­˜å¯¹è±¡ç¼“å­˜ç³»ç»Ÿï¼Œç”¨äºåœ¨åŠ¨æ€ç³»ç»Ÿä¸­å‡å°‘æ•°æ®åº“è´Ÿè½½ï¼Œæå‡æ€§èƒ½</li>
<li>èŠ‚ç‚¹å®¢æˆ·ç«¯ï¼Œä»¥ä¸€ä¸ªæ— æ•°æ®èŠ‚ç‚¹çš„èº«ä»½åŠ å…¥åˆ°é›†ç¾¤ä¸­</li>
<li>ä¼ è¾“å®¢æˆ·ç«¯ï¼Œæ›´åŠ è½»é‡çš„ä¼ è¾“å®¢æˆ·ç«¯ç”¨æ¥é¡¹è¿œç¨‹é›†ç¾¤å‘é€è¯·æ±‚</li>
</ol>
</li>
<li><p>Elasticsearché›†ç¾¤ä¸­å„ä¸ªèŠ‚ç‚¹éƒ½æ˜¯é€šè¿‡9300ç«¯å£è¿›è¡Œé€šä¿¡ï¼›</p>
</li>
<li><p>Elasticsearchæ”¯æŒå®‰è£…æ’ä»¶ï¼Œå¯ä»¥ä¸‹è½½æ’ä»¶ç„¶ååœ¨Elasticsearchçš„å®‰è£…ç›®å½•è¿›è¡Œå®‰è£…æ“ä½œï¼›</p>
</li>
<li><p>éƒ¨åˆ†æ’ä»¶ä»‹ç»ï¼š</p>
<ul>
<li>Analysis-ansjâ€”â€”ansjä¸­æ–‡åˆ†è¯å™¨</li>
<li>Analysis-ikâ€”â€”IKä¸­æ–‡åˆ†è¯å™¨</li>
<li>Analysis-mmsegâ€”â€”mmsegä¸­æ–‡åˆ†è¯</li>
<li>Analysis-pinyinâ€”â€”æ‹¼éŸ³åˆ†è¯å™¨</li>
<li>Analysis-string2intâ€”â€”å­—ç¬¦ä¸²è½¬æ•´å½¢å·¥å…·ï¼Œå¯ä»¥ç”¨åœ¨Facetsã€AggregationsåŠŸèƒ½ä¸Š</li>
<li>Bigdeskâ€”â€”ç›‘æ§ElasticsearchçŠ¶æ€</li>
<li>Headâ€”â€”å¯¹Elasticsearchè¿›è¡Œå¤šç§æ“ä½œçš„å®¢æˆ·ç«¯å·¥å…·</li>
<li>Inquisitorâ€”â€”è°ƒè¯•æŸ¥è¯¢</li>
<li>Kopfâ€”â€”ç½‘ç»œç®¡ç†</li>
</ul>
</li>
<li><p>Headæ˜¯ä¸€ä¸ªç”¨æ¥ç›‘æ§ElasticsearchçŠ¶æ€çš„å®¢æˆ·ç«¯æ’ä»¶ï¼Œå¯ä»¥åœ¨githubä¸­æŸ¥æ‰¾<a href="https://github.com/mobz/elasticsearch-head" target="_blank" rel="noopener">elasticsearch-head</a>ï¼š</p>
<ol>
<li><p>elasticsearch-headåœ¨é«˜ç‰ˆæœ¬ä¸å†æ”¯æŒæ’ä»¶äº†ï¼Œéœ€è¦å•ç‹¬è¿è¡Œï¼›</p>
</li>
<li><p>éœ€è¦åœ¨Elasticsearchçš„é…ç½®æ–‡ä»¶ä¸­æ·»åŠ å¦‚ä¸‹ä¿¡æ¯ï¼š</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">http.cors.enabled:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">http.cors.allow-origin:</span> <span class="string">"*"</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>å¦‚æœæ˜¯dockeråˆ™é…ç½®å®Œäº†è¦é‡å¯ä¸€ä¸‹å®¹å™¨ï¼Œç„¶åå¯åŠ¨elasticsearch-headï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker pull mobz/elasticsearch-head:5</span><br><span class="line">docker run -d -p 9100:9100 mobz/elasticsearch-head:5</span><br></pre></td></tr></table></figure>
</li>
<li><p>å¯åŠ¨å®¹å™¨ä¹‹åå°±å¯ä»¥åœ¨æœ¬åœ°9100ç«¯å£è®¿é—®ï¼Œæ•ˆæœå¦‚ä¸‹ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/5db98a2cdb5623becbc3c272d0059099-60822" alt="elasticsearch-headè¿è¡Œæ•ˆæœ"></p>
</li>
</ol>
</li>
<li><p>Elasticsearchå¯ä»¥æ¥å—æœ¬åœ°ã€å…±äº«ä»¥åŠäº‘å¹³å°ä¸Šçš„æ•°æ®ï¼Œåœ¨Luceneæä¾›çš„åŸºæœ¬åŠŸèƒ½ä¸Šï¼Œé€šè¿‡æ„å»ºåˆ†å¸ƒå¼ç´¢å¼•ï¼Œå®Œæˆå¯¹å¤§æ•°æ®çš„åŠ å·¥å¤„ç†ï¼›</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/71749631586178399fcc3b145da45172-155551" alt="ElasticsearchåŸºæœ¬æ¶æ„"></p>
</li>
<li><p>Elasticsearch ä¸­å»ºç«‹ç´¢å¼•çš„ç®€è¦æµç¨‹ï¼š</p>
<ol>
<li>å‡†å¤‡å¾…å¤„ç†çš„æ–‡æ¡£ï¼›</li>
<li>å°†å‡†å¤‡å¥½çš„æ•°æ®æäº¤æ–‡æ¡£ç»™Elasticsearchï¼›</li>
<li>å®Œæˆç´¢å¼•ï¼›</li>
<li>è¿”å›ç´¢å¼•ç»“æœã€‚</li>
</ol>
</li>
</ol>
<h2 id="æ–‡æ¡£ç´¢å¼•åŠç®¡ç†"><a href="#æ–‡æ¡£ç´¢å¼•åŠç®¡ç†" class="headerlink" title="æ–‡æ¡£ç´¢å¼•åŠç®¡ç†"></a>æ–‡æ¡£ç´¢å¼•åŠç®¡ç†</h2><ol>
<li><p>Elasticsearchä¸­å¯¹æ–‡æ¡£çš„ç´¢å¼•ç­‰è¿›è¡Œæ“ä½œæ—¶ï¼Œæ—¢å¯ä»¥é€šè¿‡RESTfulæ¥å£è¿›è¡Œæ“ä½œï¼Œä¹Ÿå¯ä»¥é€šè¿‡Javaå®¢æˆ·ç«¯è¿›è¡Œæ“ä½œï¼›</p>
</li>
<li><p>æ–‡æœ¬æ•°æ®é¦–å…ˆè¦è¢«åŠ å·¥å¤„ç†ï¼Œå³å»ºç«‹ç´¢å¼•æ–‡ä»¶ä¹‹åæ‰èƒ½è¢«æ£€ç´¢åˆ°ï¼›</p>
</li>
<li><p>å»ºç«‹ç´¢å¼•æ–¹æ³•æœ‰ï¼š</p>
<ul>
<li>å€’æ’ç´¢å¼•ï¼ˆæœ€å¸¸ç”¨ï¼‰</li>
<li>åç¼€æ•°ç»„ç´¢å¼•</li>
<li>ç­¾åæ–‡ä»¶ç´¢å¼•</li>
<li>â€¦ â€¦</li>
</ul>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/e7fd24e4ced5dfd5c90cb94b19346c38-49292" alt="å€’æ’ç´¢å¼•ç¤ºæ„"></p>
</li>
<li><p>ä¸€ä¸ªå…³é—­çš„ç´¢å¼•å°†ç¦æ­¢å†™å…¥æˆ–è¯»å–å…¶ä¸­æ•°æ®çš„æ“ä½œï¼Œè€Œä¸€ä¸ªæ‰“å¼€çš„ç´¢å¼•æ–‡ä»¶å¯ä»¥å…è®¸ç”¨æˆ·å¯¹å…¶ä¸­çš„æ•°æ®æ–‡ä»¶è¿›è¡Œæ“ä½œï¼›</p>
</li>
<li><p>ç›¸å¯¹äºLuceneçš„ç´¢å¼•ï¼ŒElasticsearchç´¢å¼•è¿‡ç¨‹å¤šäº†åˆ†å¸ƒå¼æ•°æ®çš„æ‰©å±•ï¼Œä¸»è¦ç”¨Tranlogè¿›è¡Œå„ä¸ªèŠ‚ç‚¹é—´çš„æ•°æ®å¹³è¡¡ï¼›</p>
</li>
<li><p>Elasticsearchæä¾›å¤šç§é€”å¾„å¯¹æ–‡æ¡£è¿›è¡Œè¯¸å¦‚è·å–ä¿¡æ¯ã€å¢åˆ è¯¥ã€æ›´æ–°ç­‰ç›¸å…³æ“ä½œï¼›</p>
</li>
<li><p>å®ç°äººæœºé—´è‡ªç„¶è¯­è¨€çš„äº¤äº’ï¼Œæ„å‘³ç€è¦ä½¿ç”¨è®¡ç®—æœºæ—¢èƒ½ç†è§£è‡ªç„¶è¯­è¨€çš„æ„ä¹‰ï¼Œä¹Ÿèƒ½ä»¥è‡ªç„¶è¯­è¨€æ–‡æœ¬æ¥è¡¨è¾¾ç»™å®šçš„æ„å›¾ã€æ€æƒ³ç­‰ã€‚å‰è€…æ˜¯è‡ªç„¶è¯­è¨€å¤„ç†ï¼ˆNLPï¼ŒNatural Language Processingï¼‰,åè€…æ˜¯è‡ªç„¶è¯­è¨€ç”Ÿæˆï¼›</p>
</li>
<li><p>åœ¨è¿›è¡Œè‡ªç„¶è¯­è¨€å¤„ç†æ—¶ï¼Œç‰¹åˆ«æ˜¯å¯¹åƒä¸­æ–‡è¿™æ ·çš„è¯­è¨€æ¥è¯´åˆ†è¯æ˜¯éå¸¸å¿…è¦çš„ï¼›</p>
</li>
</ol>
<h2 id="ä¿¡æ¯æ£€ç´¢åŠç»“æœè¿‡æ»¤"><a href="#ä¿¡æ¯æ£€ç´¢åŠç»“æœè¿‡æ»¤" class="headerlink" title="ä¿¡æ¯æ£€ç´¢åŠç»“æœè¿‡æ»¤"></a>ä¿¡æ¯æ£€ç´¢åŠç»“æœè¿‡æ»¤</h2><ol>
<li>åœ¨Elasticsearchä¸­çš„RESTfulæ¥å£æ–¹å¼ä¸­ï¼Œå®Œæˆä¿¡æ¯æ£€ç´¢åŠŸèƒ½çš„å…³é”®è¯æ˜¯_searchï¼Œé€šè¿‡POSTæ–¹å¼å‘é€åˆ°Elasticsearchï¼Œå…¶åå†è·Ÿâ€œ?q=æŸ¥è¯¢è¯â€ç­‰ï¼›</li>
<li>ä¿¡æ¯æ£€ç´¢æ—¶ï¼Œå¯ç®€å•åœ°ä½¿ç”¨åŸºäºLuceneçš„é€šç”¨æ£€ç´¢è¯­æ³•ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨çµæ´»çš„åŸºäºJSONæ ¼å¼çš„Query DSLï¼ˆDomain Special Languageï¼‰æ¥æ„é€ å„ç§æ£€ç´¢è¯·æ±‚ï¼›</li>
<li>åœ¨å¤„ç†å­—æ®µã€ç±»å‹å’ŒæŸ¥è¯¢æ—¶å¯ä»¥æŒ‡å®šåˆ†æå™¨ï¼›</li>
<li>Elasticsearchåœ¨æ‰§è¡Œå¸¦æœ‰filterçš„æŸ¥è¯¢æ—¶ï¼Œä¼šæ‰“å¼€ç´¢å¼•çš„æ¯ä¸ªsegmentæ®µæ–‡ä»¶ï¼Œç„¶åå»åˆ¤æ–­é‡Œé¢çš„æ–‡æ¡£æ˜¯å¦ç¬¦åˆfilterè¦æ±‚ï¼Œå¹¶ä¸”è¿™ä¸ªåŒ¹é…çš„ç»“æœç”¨ä¸€ä¸ªå¾ˆå¤§çš„åªæœ‰ä¸¤ä¸ªçŠ¶æ€çš„æ•°ç»„BitSetæ¥å­˜å‚¨;</li>
</ol>
<h2 id="ä¿¡æ¯ç»Ÿè®¡åˆ†æä¸æœç´¢æç¤º"><a href="#ä¿¡æ¯ç»Ÿè®¡åˆ†æä¸æœç´¢æç¤º" class="headerlink" title="ä¿¡æ¯ç»Ÿè®¡åˆ†æä¸æœç´¢æç¤º"></a>ä¿¡æ¯ç»Ÿè®¡åˆ†æä¸æœç´¢æç¤º</h2><ol>
<li>åœ¨é¢å‘å…³ç³»å‹æ•°æ®åº“ç®¡ç†ç³»ç»Ÿä¸­çš„SQLè¯­å¥ä¸­ï¼Œå¯ä»¥ä½¿ç”¨é›†å‡½æ•°å®Œæˆç®€å•çš„ç»Ÿè®¡åˆ†æå·¥ä½œï¼›</li>
<li>åŸºäºfacetså¯ä»¥å¾—åˆ°å„ç§ç»Ÿè®¡ç»“æœï¼ˆå¯ä»¥æ˜¯ä»¥æ•°ç»„å½¢å¼è¿”å›å•çš„ï¼‰ï¼›</li>
<li>terms facetsèƒ½å¤ŸæŒ‡å®šä¸€ä¸ªå­—æ®µè¿›è¡Œç»Ÿè®¡ï¼ŒElasticsearchå°†è¿”å›åœ¨æŒ‡å®šå­—æ®µä¸­ä½¿ç”¨æœ€å¤šçš„è¯é¡¹åŠå…¶åˆ†å¸ƒï¼›</li>
<li>range facetså¯ä»¥å…è®¸æŒ‡å®šåŒºé—´å¹¶åœ¨è¿™ä¸ªåŒºé—´å†…è¿›è¡Œç»Ÿè®¡å¹¶è·å¾—æŒ‡å®šå­—æ®µçš„ç»Ÿè®¡æ•°æ®ï¼›</li>
<li>histogram facetsæ˜¯ä¸€ç§å¯ä»¥æ ¹æ®å…¶è¿”å›å€¼ç”Ÿæˆå¯ä»¥å°†æ¥ç”¨äºæŸ±çŠ¶å›¾çš„ç»Ÿè®¡æ•°æ®ï¼›</li>
<li>date_histogram facetsæ˜¯ä¸€ä¸ªå¢å¼ºå‹çš„ä¸“é—¨é’ˆå¯¹äºæ—¥æœŸå‹å­—æ®µè¿›è¡Œç»Ÿè®¡çš„facetsï¼›</li>
<li>statistical facets å¯ä»¥å¯¹æ•°å­—ç±»å‹çš„å­—æ®µè¿›è¡Œç»Ÿè®¡ï¼›</li>
<li>terms_stats facetsæ˜¯terms facetså’Œstatistical facetsçš„ç»„åˆå½¢å¼ï¼Œæä¾›äº†åœ¨ä¸€ä¸ªå­—æ®µä¸ŠåŸºäºå¦ä¸€ä¸ªå­—æ®µè·å¾—çš„å–å€¼è¿›è¡Œç»Ÿè®¡çš„èƒ½åŠ›ï¼›</li>
<li>aggregationsæ˜¯facetsçš„å‡çº§ç‰ˆï¼Œæ–°ç‰ˆæœ¬ä¸­å°†åºŸå¼ƒfacetsåŠŸèƒ½ï¼Œç›¸åº”çš„åŠŸèƒ½è½¬è€Œç”±aggregationsæ›¿ä»£ï¼›</li>
</ol>
<h2 id="Elasticsearché…ç½®"><a href="#Elasticsearché…ç½®" class="headerlink" title="Elasticsearché…ç½®"></a>Elasticsearché…ç½®</h2><ol>
<li>Elasticsearch.ymlè´Ÿè´£è®¾ç½®æœåŠ¡å™¨çš„é»˜è®¤çŠ¶æ€ï¼š<ol>
<li>é›†ç¾¤åç§° cluster.name: â€œELKâ€</li>
<li>èŠ‚ç‚¹åç§° node.name: â€œFranz Fafkaâ€</li>
<li>èŠ‚ç‚¹æ˜¯å¦ä¸ºmasterèŠ‚ç‚¹ node.master: true</li>
<li>èŠ‚ç‚¹æ˜¯å¦å­˜å‚¨æ•°æ® node.data: true</li>
<li>è®¾ç½®ç»‘å®šçš„IPåœ°å€ network.bind_host</li>
<li>è®¾ç½®èŠ‚ç‚¹å’Œå…¶ä»–èŠ‚ç‚¹äº¤äº’çš„TCPç«¯å£ï¼Œé»˜è®¤æ˜¯9300 transport.tcp.port</li>
<li>â€¦ â€¦</li>
</ol>
</li>
<li>é›†ç¾¤ä¸­çš„ç´¢å¼•å¯èƒ½ç”±å¤šä¸ªåˆ†ç‰‡æ„æˆï¼Œä¸”æ¯ä¸ªåˆ†ç‰‡å¯èƒ½æ‹¥æœ‰å¤šä¸ªå‰¯æœ¬ï¼Œé€šè¿‡å°†ä¸€ä¸ªå•ç‹¬çš„ç´¢å¼•åˆ†æˆå¤šä¸ªåˆ†ç‰‡ï¼Œå¯ä»¥å¤„ç†ç”±äºæ–‡ä»¶å¤ªå¤§è€Œä¸èƒ½åœ¨ä¸€ä¸ªå•ä¸€æœºå™¨ä¸Šè¿è¡Œçš„å¤§å‹ç´¢å¼•ï¼›</li>
<li>é€šè¿‡ç›‘æ§é›†ç¾¤çŠ¶æ€ï¼Œå¯ä»¥ä½¿ç®¡ç†å‘˜äº†è§£é›†ç¾¤çš„æ•´ä½“è¿è¡Œæƒ…å†µï¼Œè¿™å¯¹åŠæ—¶å‘ç°å¯èƒ½å­˜åœ¨çš„é—®é¢˜æ˜¯å¾ˆæœ‰å¿…è¦çš„ï¼›</li>
</ol>
<h2 id="Kibanaå¯è§†åŒ–"><a href="#Kibanaå¯è§†åŒ–" class="headerlink" title="Kibanaå¯è§†åŒ–"></a>Kibanaå¯è§†åŒ–</h2><ol>
<li>ä¿¡æ¯å¯è§†åŒ–æŠ€æœ¯æ˜¯åˆ©ç”¨è®¡ç®—æœºå®ç°å¯¹æŠ½è±¡æ•°æ®çš„å¯è§†è¡¨ç¤º,ç”¨æ¥å¢å¼ºäººä»¬å¯¹æŠ½è±¡ä¿¡æ¯çš„æ„ŸçŸ¥;</li>
<li>æ²³æµæ¨¡å‹æ˜¯å°†å¾—åˆ°çš„æµ·é‡ä¿¡æ¯èµ„æºé›†åˆ,æŒ‰ç…§æ—¶é—´ç»´åº¦æ„é€ ä¸€ä¸ªç±»ä¼¼æ²³æµçš„å¯è§†åŒ–æ˜¾ç¤ºæ–¹å¼;</li>
<li>å…³è”åˆ†ææ¨¡å‹æ˜¯æŒ‰ç…§æ–°é—»æŠ¥é“çš„è¦ç´ ,é€šè¿‡æå–å¹¶åˆ†ææ—¶é—´ã€åœ°ç‚¹ã€åˆ†ç±»ç­‰å±æ€§ï¼Œæ„é€ å…³è”åˆ†ææ¨¡å‹ï¼Œç”¨äºå‘ç°å®ƒä»¬ä¹‹é—´å¯èƒ½å­˜åœ¨çš„å…³è”å…³ç³»ï¼›</li>
<li>Kibanaæ˜¯ç”±ç±»ä¼¼æ …æ ¼çš„ä»ªè¡¨ç›˜æ„æˆçš„ï¼Œè€Œä»ªè¡¨ç›˜æ˜¯ç”±è¡Œå’Œé¢æ¿ç»„æˆçš„ï¼›</li>
<li>å¦‚æœåœ¨æœ¬åœ°å¯åŠ¨Kibanaï¼Œåˆ™å¯ä»¥ä½¿ç”¨æµè§ˆå™¨æ‰“å¼€<a href="http://localhost:5601" target="_blank" rel="noopener">http://localhost:5601</a>;</li>
</ol>
<h2 id="Dockerè”åˆELK"><a href="#Dockerè”åˆELK" class="headerlink" title="Dockerè”åˆELK"></a>Dockerè”åˆELK</h2><ol>
<li><p>å¯åŠ¨elasticsearch:</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker run --rm --name elasticsearch -e "ES_JAVA_OPTS=-Xms512m -Xmx512m"  -e "discovery.type=single-node"  -v "$PWD/esdata":/usr/share/elasticsearch/data -p 9200:9200 -d elasticsearch:7.6.2</span><br></pre></td></tr></table></figure>
</li>
<li><p>å¯åŠ¨kibanaï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker run --rm --name kibana --link elasticsearch:elasticsearch -p 5601:5601 -d kibana:7.6.2</span><br></pre></td></tr></table></figure>
</li>
<li><p>logstashæ•°æ®ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker run -it --rm --name logstash -v /Users/wander/test/elk/logstash/data:/usr/share/logstash/config -p9900:9900 --link elasticsearch:elasticsearch logstash:7.6.2</span><br></pre></td></tr></table></figure>
</li>
<li><p>å¯åŠ¨elasticsearch-headï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker run -d -p 9100:9100 mobz/elasticsearch-head:5</span><br></pre></td></tr></table></figure>
</li>
<li><p>kibanaä¸­æ–‡ï¼ˆä¿®æ”¹kibanaä¸­çš„é…ç½®æ–‡ä»¶kibana.ymlï¼‰ï¼š</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">i18n.locale:</span> <span class="string">"zh-CN"</span></span><br></pre></td></tr></table></figure>

</li>
</ol>
<h2 id="å‚è€ƒæ–‡æ¡£"><a href="#å‚è€ƒæ–‡æ¡£" class="headerlink" title="å‚è€ƒæ–‡æ¡£"></a>å‚è€ƒæ–‡æ¡£</h2><ul>
<li><a href="https://www.elastic.co/guide/cn/kibana/current/index.html" target="_blank" rel="noopener">å®˜æ–¹ç”¨æˆ·æ‰‹å†Œ</a></li>
<li><a href="https://www.elastic.co/guide/en/kibana/7.6/settings.html" target="_blank" rel="noopener">å®˜æ–¹é…ç½®æ–‡æ¡£</a></li>
<li>è°·æ­Œæ’ä»¶ï¼šElasticSearch Head </li>
</ul>
<hr>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>ELKçš„æ—¥å¿—æ£€ç´¢è¿˜æ˜¯éœ€è¦è¿›è¡Œå®é™…æ“ä½œæ‰èƒ½æ·±æœ‰ä½“ä¼š!</p>
]]></content>
      <categories>
        <category>ELK</category>
      </categories>
  </entry>
  <entry>
    <title>Learn How to Bak</title>
    <url>/2020/04/23/Learn-How-to-Bak/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>ä¹¦åˆ°ç”¨æ—¶æ–¹æ¨å°‘ï¼Œå¤‡ä»½ä¹Ÿæ˜¯ä¸€æ ·ï¼æ‡‚æˆ‘ä»€ä¹ˆæ„æ€å§ï¼Ÿæˆ‘ä¸­è¿‡æ‹›ï¼Œç ”ç©¶ç”ŸæœŸé—´ï¼Œå°†æ‰€æœ‰çš„å†…å®¹æ”¾åˆ°ä¸€ä¸ª3TBçš„ç¡¬ç›˜ä¸­,ç„¶åæ²¡æœ‰å¤‡ä»½çš„,ç„¶åå› ä¸ºæ ¼å¼é—®é¢˜,æ‰€æœ‰å†…å®¹éƒ½æ²¡äº†,æ‰€æœ‰çš„ä¸œè¥¿,çœŸçš„æ˜¯,ç„¶åä¸€åˆ‡éƒ½éœ€è¦é‡å¤´å¼€å§‹!ä»é‚£ä¹‹å,æˆ‘è§‰å¾—é‡å¤´å†æ¥ä¹Ÿæ²¡ä»€ä¹ˆ,åªè¦å¤§è„‘è¿˜æ˜¯å¥½çš„,é‚£å°±ä¸æ˜¯ä»€ä¹ˆå¤§é—®é¢˜,ä½†æ˜¯å­¦ä¼šå¤‡ä»½æ˜¯çœŸçš„å¾ˆé‡è¦!</p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="å½’æ¡£"><a href="#å½’æ¡£" class="headerlink" title="å½’æ¡£"></a>å½’æ¡£</h2><ol>
<li>tarå‘½ä»¤å¯ä»¥å½’æ¡£æ–‡ä»¶ï¼Œå¯ä»¥å°†å¤šä¸ªæ–‡ä»¶å’Œæ–‡ä»¶å¤¹æ‰“åŒ…ä¸ºå•ä¸ªæ–‡ä»¶ï¼ŒåŒæ—¶è¿˜èƒ½ä¿ç•™æ‰€æœ‰çš„æ–‡ä»¶å±æ€§ï¼Œå¦‚æ‰€æœ‰è€…ã€æƒé™ç­‰ï¼›</li>
<li>å½’æ¡£ä¹‹åå¯ä»¥å°†å½’æ¡£æ–‡ä»¶å‹ç¼©ï¼š<ol>
<li>gzipæ ¼å¼ï¼šfile.tar.gzæˆ–file.tgzï¼›</li>
<li>bzip2æ ¼å¼ï¼šfile.tar.bz2ï¼›</li>
<li>Lempel-Ziv-Markovæ ¼å¼ï¼šfile.tar.lzmaï¼›</li>
</ol>
</li>
<li>tarçš„å‘½ä»¤é‚£ä¹ˆå¤šï¼Œå®é™…ä¸Šæ—¥å¸¸å°±çŸ¥é“æ€ä¹ˆå½’æ¡£æˆå‹ç¼©æ–‡ä»¶ï¼Œä»¥åŠè§£å‹ç¼©æ–‡ä»¶å°±å¯ä»¥äº†ï¼›</li>
<li>cpioç±»ä¼¼äºtarï¼Œå¯ä»¥å½’æ¡£å¤šä¸ªæ–‡ä»¶å’Œç›®å½•ï¼ŒåŒæ—¶ä¿ç•™æ‰€æœ‰çš„æ–‡ä»¶å±æ€§ï¼Œå¦‚æƒé™ã€æ–‡ä»¶æ‰€æœ‰æƒç­‰ï¼›</li>
<li>gzipæ˜¯GNU/Linuxå¹³å°ä¸‹å¸¸ç”¨çš„å‹ç¼©æ ¼å¼ï¼Œä½¿ç”¨gzipå‹ç¼©æ–‡ä»¶ï¼Œä½¿ç”¨gunzipè§£å‹ç¼©gzipæ–‡ä»¶ï¼›</li>
<li>zcatå‘½ä»¤æ— éœ€ç»è¿‡è§£å‹ç¼©æ“ä½œå°±å¯ä»¥å°†.gzæ–‡ä»¶çš„å†…å®¹è¾“å‡ºåˆ°stdoutï¼›</li>
<li>bzip2åœ¨åŠŸèƒ½å’Œè¯­æ³•ä¸Šä¸gzipç±»ä¼¼ï¼Œå‹ç¼©ç‡é«˜ï¼›</li>
<li>squashfsç¨‹åºèƒ½å¤Ÿåˆ›å»ºå‡ºä¸€ç§å…·æœ‰è¶…é«˜å‹ç¼©ç‡çš„åªè¯»å‹æ–‡ä»¶ç³»ç»Ÿ;</li>
<li>rsyncå¯ä»¥åœ¨æœ€å°åŒ–æ•°æ®ä¼ è¾“é‡åŒæ—¶ï¼ŒåŒæ­¥ä¸åŒä½ç½®ä¸Šçš„æ–‡ä»¶å’Œç›®å½•;</li>
<li>fsarchiverå¯ä»¥å°†æ•´ä¸ªç£ç›˜åˆ†åŒºä¸­çš„å†…å®¹ä¿å­˜æˆä¸€ä¸ªå‹ç¼©å½’æ¡£æ–‡ä»¶;</li>
</ol>
<h2 id="é‡ç‚¹"><a href="#é‡ç‚¹" class="headerlink" title="é‡ç‚¹"></a>é‡ç‚¹</h2><p>ä¸€å®šè¦å®šæ—¶å¤‡ä»½é‡è¦çš„æ–‡æ¡£åŠæ•°æ®ï¼Œä¸€æ—¦ä¸¢å¤±å°±å¾—ä¸å¿å¤±äº†ï¼</p>
<hr>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>æ²¡ä»€ä¹ˆå¥½è¯´çš„ï¼Œå°±å¤‡ä»½å§ï¼</p>
]]></content>
      <categories>
        <category>Shell</category>
      </categories>
  </entry>
  <entry>
    <title>Learn How to Design Your Code</title>
    <url>/2020/05/05/Learn-How-to-Design-Your-Code/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>ç¼–ç¨‹æ˜¯ä»¶æœ‰è¶£çš„äº‹ï¼Œæ˜¯ä¸€ç§åˆ›é€ æ€§çš„æƒ…æ„Ÿå‘æ³„ï¼Œæ˜¯ä¸€ç§ç”¨æœ‰å½¢çš„æ–¹å¼è¡¨è¾¾æŠ½è±¡æ€ç»´çš„æ–¹æ³•!è®¾è®¡ç¨‹åºå¯ä»¥æ•™ä¼šäººä»¬å¤šç§æŠ€èƒ½ï¼Œå¦‚<strong>é˜…è¯»åˆ¤æ–­ã€åˆ†ææ€è€ƒã€ç»¼åˆåˆ›é€ ä»¥åŠå…³æ³¨ç»†èŠ‚</strong>ç­‰ç­‰ã€‚å’Œæ•°å­¦ä¸€æ ·ï¼Œç¨‹åºè®¾è®¡å¯ä»¥è®­ç»ƒäººçš„åˆ†æèƒ½åŠ›ï¼›å’Œè¯­æ–‡ä¸€æ ·ï¼Œè®¾è®¡ç¨‹åºå¯ä»¥å¢å¼ºå­¦ç”Ÿçš„é˜…è¯»å’Œå†™ä½œèƒ½åŠ›ã€‚<strong>æ¨èä¹¦ç±ï¼šã€Šå¦‚ä½•è®¾è®¡ç¨‹åº ç¨‹åºè®¾è®¡å’Œè®¡ç®—å¼•è®ºã€‹Â· [ç¾] Matthias Felleisenè‘— é»„æ—é¹ æœ±å´‡æºè¯‘   ã€Šç¨‹åºæ˜¯æ€æ ·è·‘èµ·æ¥çš„ How Program Worksã€‹Â· [æ—¥] çŸ¢æ³½ä¹…é›„è‘— æé€¢ä¿Šè¯‘</strong></p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="åŸºç¡€çŸ¥è¯†"><a href="#åŸºç¡€çŸ¥è¯†" class="headerlink" title="åŸºç¡€çŸ¥è¯†"></a>åŸºç¡€çŸ¥è¯†</h2><ol>
<li>åŸºæœ¬ç¨‹åºè®¾è®¡æ­¥éª¤ï¼š<ol>
<li>é—®é¢˜åˆ†æå’Œæ•°æ®å®šä¹‰ï¼šé—®é¢˜æ•°æ®ç±»å‹æè¿°</li>
<li>åˆçº¦ï¼Œç”¨é€”è¯´æ˜ä¸ç»“æœçš„æè¿°ï¼Œå‡½æ•°å¤´éƒ¨ï¼šç¨‹åºè¡Œä¸ºçš„éå½¢å¼æè¿°</li>
<li>ä¾‹å­ï¼šè¯´æ˜ç¨‹åºè¡Œä¸ºçš„ä¾‹å­</li>
<li>å‡½æ•°æ¨¡æ¿ï¼šå¼€å‘ç¨‹åºçš„æ¨¡æ¿æˆ–è§†å›¾</li>
<li>å‡½æ•°å®šä¹‰ï¼šæŠŠæ¨¡æ¿è½¬æ¢æˆå®Œæ•´çš„å®šä¹‰</li>
<li>æµ‹è¯•ï¼šé€šè¿‡æµ‹è¯•å‘ç°é”™è¯¯</li>
</ol>
</li>
<li>åŠ è½½åˆ°å†…å­˜ä¸­çš„æœºå™¨è¯­è¨€ç¨‹åºï¼Œç”± CPU è¿›è¡Œè§£æå’Œè¿è¡Œï¼Œè¿›è€Œè®¡ç®—æœºç³»ç»Ÿæ•´ä½“çš„æ§åˆ¶å’Œæ•°æ®è¿ç®—ä¹Ÿå¼€å§‹è¿è¡Œ;</li>
<li>æ— è®ºä»»ä½•äº‹æƒ…ï¼Œ äº†è§£å…¶æœ¬è´¨éå¸¸é‡è¦ï¼Œåªæœ‰äº†è§£äº†æœ¬è´¨æ‰èƒ½æé«˜åˆ©ç”¨æ•ˆç‡ï¼›</li>
<li>CPUè´Ÿè´£çš„å°±æ˜¯è§£é‡Šå’Œè¿è¡Œæœ€ç»ˆè½¬æ¢æˆæœºå™¨è¯­è¨€çš„ç¨‹åºå†…å®¹ï¼Œå†…éƒ¨ç”±å¯„å­˜å™¨ã€æ§åˆ¶å™¨ã€è¿ç®—å™¨å’Œæ—¶é’Ÿå››ä¸ªéƒ¨åˆ†æ„æˆï¼Œ å„éƒ¨åˆ†ä¹‹é—´ç”±ç”µæµä¿¡å·ç›¸äº’è¿é€šã€‚ä¸»è¦å…³æ³¨çš„å°±æ˜¯å¯„å­˜å™¨ï¼Œå› ä¸ºç¨‹åºæ˜¯æŠŠå¯„å­˜å™¨ä½œä¸ºå¯¹è±¡æ¥æè¿°çš„ï¼›</li>
<li>æ— è®ºå½“å‰ç´¯åŠ å¯„å­˜å™¨çš„è¿ç®—ç»“æœæ˜¯è´Ÿæ•°ã€é›¶è¿˜æ˜¯æ­£æ•°ï¼Œ æ ‡å¿—å¯„å­˜å™¨éƒ½ä¼šå°†å…¶ä¿å­˜ï¼ˆä¹Ÿè´Ÿè´£å­˜æ”¾æº¢å‡ºå’Œå¥‡å¶æ ¡éªŒçš„ç»“æœ )ï¼›</li>
<li>return å‘½ä»¤çš„åŠŸèƒ½æ˜¯æŠŠä¿å­˜åœ¨æ ˆä¸­çš„åœ°å€è®¾å®šåˆ°ç¨‹åºè®¡æ•°å™¨ä¸­ï¼›</li>
<li>å˜å€å¯„å­˜å™¨çš„å€¼å°±ç›¸å½“äºé«˜çº§ç¼–ç¨‹è¯­è¨€ç¨‹åºä¸­æ•°ç»„çš„ç´¢å¼•åŠŸèƒ½ï¼›</li>
</ol>
<h2 id="ç¨‹åºæ•°æ®å­˜å‚¨"><a href="#ç¨‹åºæ•°æ®å­˜å‚¨" class="headerlink" title="ç¨‹åºæ•°æ®å­˜å‚¨"></a>ç¨‹åºæ•°æ®å­˜å‚¨</h2><ol>
<li>IC çš„ä¸€ä¸ªå¼•è„šï¼Œåªèƒ½è¡¨ç¤ºä¸¤ä¸ªçŠ¶æ€ï¼Œå†³å®šäº†è®¡ç®—æœºçš„ä¿¡æ¯æ•°æ®åªèƒ½ç”¨äºŒè¿›åˆ¶æ•°æ¥å¤„ç†ï¼›</li>
<li>äºŒè¿›åˆ¶æ•°å·¦ç§»åå°±ä¼šå˜æˆåŸæ¥çš„ 2 å€ã€4 å€ã€8 å€â€¦â€¦åä¹‹ï¼Œ äºŒè¿›åˆ¶æ•°å³ç§»ååˆ™ä¼šå˜æˆåŸæ¥çš„1/2ã€1/4ã€1/8â€¦â€¦ï¼›</li>
<li>è¡¥æ•°å°±æ˜¯ç”¨æ­£æ•°æ¥è¡¨ç¤ºè´Ÿæ•°ï¼Œè®¡ç®—æœºåœ¨åšå‡æ³•è¿ç®—æ—¶ï¼Œ å®é™…ä¸Šå†…éƒ¨æ˜¯åœ¨åšåŠ æ³•è¿ç®—ï¼›</li>
<li>0 åŒ…å«åœ¨æ­£æ•°èŒƒå›´å†…ï¼Œ æ‰€ä»¥è´Ÿæ•°å°±è¦æ¯”æ­£æ•°å¤š 1 ä¸ªï¼Œä¸»è¦æ˜¯è®¡ç®—æœºè®¾è®¡çš„æ—¶å€™è€ƒè™‘åŠ æ³•ç”¨å‡æ³•æ¥è¡¨ç¤ºï¼›</li>
<li>å°æ•°ç‚¹åé¢éƒ¨åˆ†çš„ä½æƒï¼Œ ç¬¬ 1 ä½æ˜¯ 2çš„ï¼1 æ¬¡å¹‚ã€ç¬¬ 2 ä½æ˜¯ 2 çš„ï¼2 æ¬¡å¹‚ï¼Œä»¥æ­¤ç±»æ¨ã€‚<strong>æœ‰ä¸€äº›åè¿›åˆ¶æ•°çš„å°æ•°æ— æ³•è½¬æ¢æˆäºŒè¿›åˆ¶æ•°</strong>ï¼›</li>
<li>æµ®ç‚¹æ•°æ˜¯æŒ‡ç”¨ç¬¦å·ã€å°¾æ•°ã€åŸºæ•°å’ŒæŒ‡æ•°è¿™å››éƒ¨åˆ†æ¥è¡¨ç¤ºçš„å°æ•°ï¼ŒåŒç²¾åº¦æµ®ç‚¹æ•°ç±»å‹ç”¨ 64 ä½ã€å•ç²¾åº¦æµ®ç‚¹æ•°ç±»å‹ç”¨ 32 ä½æ¥è¡¨ç¤ºå…¨ä½“å°æ•°ï¼›</li>
<li>å¯¹äºæµ®ç‚¹æ•°çš„è®¡ç®—å‡ºé”™ï¼Œå¯ä»¥é‡‡å–å›é¿ç­–ç•¥ï¼Œ å³æ— è§†è¿™äº›é”™è¯¯æˆ–è€…æŠŠå°æ•°è½¬æ¢æˆæ•´æ•°æ¥è®¡ç®—ï¼›</li>
<li>è™šæ‹Ÿå†…å­˜çš„æ–¹æ³•æœ‰åˆ†é¡µå¼å’Œåˆ†æ®µå¼ä¸¤ç§ï¼Œè™šæ‹Ÿå†…å­˜æ— æ³•å½»åº•è§£å†³å†…å­˜ä¸è¶³çš„é—®é¢˜ï¼š<ol>
<li>é€šè¿‡ DLL æ–‡ä»¶å®ç°å‡½æ•°å…±æœ‰</li>
<li>é€šè¿‡è°ƒç”¨ _stdcall æ¥å‡å°ç¨‹åºæ–‡ä»¶çš„å¤§å°</li>
</ol>
</li>
</ol>
<h2 id="æŠ€æœ¯é»‘è¯"><a href="#æŠ€æœ¯é»‘è¯" class="headerlink" title="æŠ€æœ¯é»‘è¯"></a>æŠ€æœ¯é»‘è¯</h2><ol>
<li>PVï¼šPage Viewï¼Œé¡µé¢è®¿é—®é‡ï¼Œæ¯æ—¥æ¯ä¸ªç½‘ç«™çš„æ€»PVé‡æ˜¯å½¢å®¹ä¸€ä¸ªç½‘ç«™è§„æ¨¡çš„é‡è¦æŒ‡æ ‡ï¼›</li>
<li>CDNï¼šContent Delivery Networkï¼Œ å†…å®¹åˆ†å‘ç½‘ç»œï¼Œå¯¹è®¿é—®æµé‡è¿›è¡Œåˆ†æ•£ï¼›</li>
<li>ä»»ä½•ç½‘ç«™çš„å‘å±•éƒ½ä¸æ˜¯ä¸€è¹´è€Œå°±çš„ï¼Œé€šå¸¸æ˜¯åœ¨ä»€ä¹ˆé˜¶æ®µé‡‡ç”¨ä»€ä¹ˆæŠ€æœ¯ï¼›</li>
<li>å¥½çš„æ¶æ„æ˜¯è¿›åŒ–æ¥çš„ï¼Œä¸æ˜¯è®¾è®¡æ¥çš„ï¼</li>
<li>æ¶æ„è®¾è®¡çš„è¿‡ç¨‹ï¼šåŸºæœ¬æ˜¯â¼€ä¸ªå¡«å‘ä¸æŒ–å‘çš„è¿‡ç¨‹ï¼</li>
</ol>
<hr>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>äº†è§£ä¸€éƒ¨åˆ†çš„è®¡ç®—æœºç»„æˆåŸç†ï¼Œä¸ºä»€ä¹ˆé‚£æ ·è®¾è®¡ï¼Œè¿˜æœ‰çŸ¥é“è¦è®¾è®¡çš„å†…å®¹éœ€è¦å“ªäº›æŠ€æœ¯æ¥æ”¯æŒï¼Œé‡ç‚¹åˆ†æéœ€æ±‚ï¼Œè‰¯å¥½çš„è®¾è®¡é£æ ¼ï¼Œæ…¢æ…¢é‡‡å‘å¡«å‘ï¼çœŸçš„æ²¡æœ‰çº¸ä¸Šçš„è®¾è®¡ï¼Œåªæœ‰å®æˆ˜æ‰èƒ½è·å–æ›´å¤šï¼</p>
]]></content>
      <categories>
        <category>Code</category>
      </categories>
  </entry>
  <entry>
    <title>Linux Performance Analysis &amp; Optimization</title>
    <url>/2020/04/30/Linux-Performance-Analysis-Optimization/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>æ€§èƒ½ä¼˜åŒ–å¤§å¸ˆå¸ƒä¼¦ä¸¹Â·æ ¼é›·æ ¼çš„<a href="http://brendangregg.com" target="_blank" rel="noopener">ç½‘å€</a>ï¼Œå¯¹Linuxç³»ç»Ÿè¿›è¡Œä¼˜åŒ–ï¼Œå…¶å®å°±æ˜¯æ‰¾å‡ºåº”ç”¨æˆ–ç³»ç»Ÿçš„ç“¶é¢ˆï¼Œå¹¶è®¾æ³•å»é¿å…æˆ–è€…ç¼“è§£å®ƒä»¬ï¼</p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><ol>
<li>æ€§èƒ½ä¼˜åŒ–çš„æ­¥éª¤ï¼š<ul>
<li>é€‰æ‹©æŒ‡æ ‡è¯„ä¼°åº”ç”¨ç¨‹åºå’Œç³»ç»Ÿçš„æ€§èƒ½</li>
<li>ä¸ºåº”ç”¨ç¨‹åºå’Œç³»ç»Ÿè®¾ç½®æ€§èƒ½ç›®æ ‡</li>
<li>è¿›è¡Œæ€§èƒ½åŸºå‡†æµ‹è¯•</li>
<li>æ€§èƒ½åˆ†æå®šä½ç“¶é¢ˆ</li>
<li>ä¼˜åŒ–ç³»ç»Ÿå’Œåº”ç”¨ç¨‹åº</li>
<li>æ€§èƒ½ç›‘æ§å’Œå‘Šè­¦</li>
</ul>
</li>
<li>å»ºç«‹æ•´ä½“ç³»ç»Ÿæ€§èƒ½å…¨å±€è§‚ï¼Œéœ€è¦ï¼š<ul>
<li>ç†è§£æœ€åŸºæœ¬çš„å‡ ä¸ªç³»ç»ŸçŸ¥è¯†åŸç†</li>
<li>æŒæ¡å¿…è¦çš„æ€§èƒ½å·¥å…·</li>
<li>é€šè¿‡å®é™…çš„åœºæ™¯æ¼”ç»ƒï¼Œè´¯ç©¿ä¸åŒçš„ç»„ä»¶</li>
</ul>
</li>
<li>é€‰æ‹©åˆé€‚çš„æ€§èƒ½å·¥å…·ï¼Œå¯ä»¥å¤§å¤§ç®€åŒ–æ•´ä¸ªæ€§èƒ½ä¼˜åŒ–è¿‡ç¨‹ï¼Œä½†æ˜¯<strong>åƒä¸‡ä¸è¦æŠŠæ€§èƒ½å·¥å…·å½“æˆå­¦ä¹ çš„å…¨éƒ¨</strong>ï¼Œå·¥å…·åªæ˜¯è§£å†³é—®é¢˜çš„æ‰‹æ®µï¼Œå…³é”®åœ¨äºåˆ©ç”¨å·¥å…·çš„æ–¹æ³•ï¼Œåªæœ‰çœŸæ­£ç†è§£äº†å®ƒä»¬èƒŒååŸç†ï¼Œå¹¶ä¸”ç»“åˆå…·ä½“åœºæ™¯ï¼Œèåˆè´¯é€šç³»ç»Ÿçš„ä¸åŒç»„ä»¶ï¼Œæ‰èƒ½çœŸæ­£æŒæ¡å®ƒä»¬ï¼›</li>
<li><strong>å®è·µä»¥åŠè‰¯å¥½çš„è®°å½•æ‰å¯ä»¥è®©å­¦ä¹ æ›´é«˜æ•ˆï¼</strong></li>
</ol>
<hr>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1>]]></content>
      <categories>
        <category>Linux</category>
      </categories>
  </entry>
  <entry>
    <title>Linux Platform</title>
    <url>/2020/04/27/Linux-Platform/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>Linuxæ˜¯ä¸€ä¸ªå¾ˆå¥½çš„å¹³å°ï¼Œå› ä¸ºå®ƒæ˜¯ä¸€ä¸ªé€æ˜çš„ç³»ç»Ÿ,ç‰¹åˆ«æ˜¯å¤§å¤šæ•°ç³»ç»Ÿé…ç½®éƒ½å­˜æ”¾åœ¨æ–‡æœ¬æ–‡ä»¶ä¸­ï¼Œè®©äººä¸€ç›®äº†ç„¶!Linuxè¿™æ ·çš„ç°ä»£æ“ä½œç³»ç»Ÿéå¸¸å¤æ‚ï¼Œå†…éƒ¨æœ‰å¤šå¾—ä»¤äººçœ¼èŠ±ç¼­ä¹±çš„å„ç§ç»„ä»¶åœ¨åŒæ­¥è¿è¡Œå’Œç›¸äº’é€šä¿¡ã€‚å­¦ä¼šä½¿ç”¨<strong>æŠ½è±¡æ€ç»´</strong>æ¥æ€è€ƒé—®é¢˜ï¼</p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="åŸºæœ¬æ¦‚å¿µ"><a href="#åŸºæœ¬æ¦‚å¿µ" class="headerlink" title="åŸºæœ¬æ¦‚å¿µ"></a>åŸºæœ¬æ¦‚å¿µ</h2><ol>
<li>Linuxæ“ä½œç³»ç»Ÿä¸»è¦åˆ†ä¸ºä¸‰å±‚ï¼Œæœ€åº•å±‚æ˜¯ç¡¬ä»¶ç³»ç»Ÿï¼ŒåŒ…æ‹¬å†…å­˜å’Œä¸­å¤®å¤„ç†å™¨ç­‰ï¼›ç¡¬ä»¶ç³»ç»Ÿä¹‹ä¸Šæ˜¯å†…æ ¸ï¼Œå®ƒæ˜¯æ“ä½œç³»ç»Ÿçš„æ ¸å¿ƒï¼Œå†…æ ¸ç®¡ç†ç¡¬ä»¶ç³»ç»Ÿï¼Œæ˜¯ç¡¬ä»¶ç³»ç»Ÿå’Œåº”ç”¨ç¨‹åºä¹‹é—´è¿›è¡Œé€šä¿¡çš„æ¥å£ï¼›è¿›ç¨‹æ˜¯æŒ‡è®¡ç®—æœºä¸­è¿è¡Œçš„æ‰€æœ‰ç¨‹åºï¼Œç”±å†…æ ¸ç»Ÿä¸€ç®¡ç†ï¼Œå®ƒä»¬ç»„æˆäº†æœ€é¡¶å±‚ï¼Œç§°ä¸º<strong>ç”¨æˆ·ç©ºé—´</strong>ï¼›</li>
<li>å†…æ ¸åœ¨å†…æ ¸æ¨¡å¼ï¼ˆkernel modeï¼‰ä¸­è¿è¡Œï¼Œè€Œç”¨æˆ·è¿›ç¨‹åˆ™åœ¨ç”¨æˆ·æ¨¡å¼ï¼ˆuser modeï¼‰ä¸­è¿è¡Œï¼›</li>
<li>åªæœ‰å†…æ ¸å¯ä»¥è®¿é—®çš„ç©ºé—´æˆ‘ä»¬ç§°ä¸ºå†…æ ¸ç©ºé—´ï¼ˆkernel spaceï¼‰ï¼›ç”¨æˆ·ç©ºé—´æŒ‡çš„æ˜¯é‚£äº›ç”¨æˆ·è¿›ç¨‹èƒ½å¤Ÿè®¿é—®çš„å†…å­˜ç©ºé—´ï¼›</li>
<li>å†…æ ¸è´Ÿè´£ç®¡ç†ï¼š</li>
</ol>
<ul>
<li>è¿›ç¨‹ï¼šå†…æ ¸å†³å®šå“ªä¸ªè¿›ç¨‹å¯ä»¥ä½¿ç”¨CPU</li>
<li>å†…å­˜ï¼šå†…æ ¸ç®¡ç†æ‰€æœ‰çš„å†…å­˜ï¼Œä¸ºè¿›ç¨‹åˆ†é…å†…å­˜ï¼Œç®¡ç†è¿›ç¨‹é—´çš„å…±äº«å†…å­˜ä»¥åŠç©ºé—²å†…å­˜</li>
<li>è®¾å¤‡é©±åŠ¨ç¨‹åºï¼šä½œä¸ºç¡¬ä»¶ç³»ç»Ÿï¼ˆå¦‚ç£ç›˜ï¼‰å’Œè¿›ç¨‹ä¹‹é—´çš„æ¥å£ï¼Œå†…æ ¸è´Ÿè´£æ“æ§ç¡¬ä»¶è®¾å¤‡</li>
<li>ç³»ç»Ÿè°ƒç”¨å’Œæ”¯æŒï¼šè¿›ç¨‹é€šå¸¸ä½¿ç”¨ç³»ç»Ÿè°ƒç”¨å’Œå†…æ ¸è¿›è¡Œé€šä¿¡</li>
</ul>
<ol start="5">
<li>ä¸€ä¸ªè¿›ç¨‹è®©å‡ºCPUä½¿ç”¨æƒç»™å¦ä¸€ä¸ªè¿›ç¨‹ç§°ä¸ºä¸Šä¸‹æ–‡åˆ‡æ¢ï¼ˆcontext switchï¼‰ï¼›</li>
<li><strong>å†…æ ¸æ˜¯åœ¨ä¸Šä¸‹æ–‡åˆ‡æ¢æ—¶çš„æ—¶é—´æ®µé—´éš™ä¸­è¿è¡Œçš„</strong>ï¼›</li>
<li>ç³»ç»Ÿè°ƒç”¨ï¼ˆsystem callæˆ–syscallï¼‰ä¸ºè¿›ç¨‹æ‰§è¡Œä¸€äº›å®ƒä»¬ä¸æ“…é•¿æˆ–æ— æ³•å®Œæˆçš„å·¥ä½œï¼Œæ¯”å¦‚æ‰“å¼€ã€è¯»å–å’Œå†™æ–‡ä»¶è¿™äº›æ“ä½œéƒ½æ¶‰åŠç³»ç»Ÿè°ƒç”¨ï¼›</li>
<li>è™šæ‹Ÿè®¾å¤‡å¯¹äºç”¨æˆ·è¿›ç¨‹è€Œè¨€æ˜¯ç‰©ç†è®¾å¤‡ï¼Œä½†æ˜¯é€šè¿‡è½¯ä»¶æ¥å®ç°çš„ï¼›</li>
<li>ç”¨æˆ·æœºåˆ¶ä¸»è¦ç”¨äºæƒé™ç®¡ç†,ç”¨æˆ·ç»„æ˜¯æŒ‡ä¸€ç»„ç”¨æˆ·çš„é›†åˆã€‚ç”¨æˆ·ç»„çš„ä¸»è¦ä½œç”¨æ˜¯å…è®¸ä¸€ä¸ªç”¨æˆ·åŒç»„å†…çš„å…¶ä»–ç”¨æˆ·å…±äº«æ–‡ä»¶æƒé™;</li>
</ol>
<h2 id="åŸºç¡€å‘½ä»¤"><a href="#åŸºç¡€å‘½ä»¤" class="headerlink" title="åŸºç¡€å‘½ä»¤"></a>åŸºç¡€å‘½ä»¤</h2><ol>
<li>catï¼šæ˜¾ç¤ºä¸€ä¸ªæˆ–è€…å¤šä¸ªæ–‡ä»¶çš„å†…å®¹ï¼›</li>
<li>lsï¼šæ˜¾ç¤ºæŒ‡å®šç›®å½•çš„å†…å®¹ï¼Œé»˜è®¤å‚æ•°ä¸ºå½“å‰ç›®å½•ï¼›</li>
<li>cpï¼šç”¨æ¥å¤åˆ¶æ–‡ä»¶ï¼›</li>
<li>mvï¼šç”¨æ¥é‡å‘½åæˆ–è€…ç§»åŠ¨æ–‡ä»¶ï¼›</li>
<li>touchï¼šç”¨æ¥åˆ›å»ºæ–‡ä»¶ï¼Œå¦‚æœæ–‡ä»¶å·²ç»å­˜åœ¨ï¼Œåˆ™è¯¥å‘½ä»¤ä¼šæ›´æ–°æ–‡ä»¶çš„æ—¶é—´æˆ³ï¼›</li>
<li>rmï¼šåˆ é™¤æ–‡ä»¶ï¼Œæ–‡ä»¶ä¸€æ—¦è¢«åˆ é™¤é€šå¸¸æ— æ³•æ¢å¤ï¼›</li>
<li>echoï¼šå°†å®ƒçš„å‚æ•°æ˜¾ç¤ºåˆ°æ ‡å‡†è¾“å‡ºï¼›</li>
<li>cdï¼šç”¨æ¥è®¾ç½®å½“å‰å·¥ä½œç›®å½•ï¼›</li>
<li>mkdirï¼šç”¨æ¥åˆ›å»ºæ–°ç›®å½•ï¼›</li>
<li>rmdirï¼šç”¨æ¥åˆ é™¤ç›®å½•ï¼Œä½¿ç”¨rm -rfæ¥åˆ é™¤ä¸€ä¸ªç›®å½•ä»¥åŠå…¶ä¸­çš„æ‰€æœ‰å†…å®¹ï¼›</li>
<li>pwdï¼šè¾“å‡ºå½“å‰çš„å·¥ä½œç›®å½•åï¼›</li>
<li>diffï¼šç”¨æ¥æŸ¥çœ‹ä¸¤ä¸ªæ–‡ä»¶ä¹‹é—´çš„ä¸åŒï¼›</li>
<li>fileï¼šæŸ¥çœ‹ä¸€ä¸ªæ–‡ä»¶çš„æ ¼å¼ä¿¡æ¯ï¼›</li>
<li>findï¼Œlocateï¼šæŸ¥æ‰¾æ–‡ä»¶ï¼›</li>
<li>sortï¼šå°†æ–‡ä»¶å†…çš„æ‰€æœ‰è¡ŒæŒ‰ç…§å­—æ¯é¡ºåºå¿«é€Ÿæ’åºï¼›</li>
<li><strong>manï¼šè·å–ç³»ç»Ÿçš„å¸®åŠ©ï¼›</strong><!--å¦‚æœæœ‰ä¸ä¼šçš„å‘½ä»¤é‚£å°±manä¸€ä¸‹--></li>
<li>&gt;&amp;ï¼šå°†æ ‡å‡†è¾“å‡ºå’Œæ ‡å‡†é”™è¯¯è¾“å‡ºé‡å®šå‘åˆ°åŒä¸€ä¸ªåœ°æ–¹ï¼›</li>
</ol>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> æŠŠæ ‡å‡†è¾“å‡ºå’Œæ ‡å‡†é”™è¯¯è¾“å‡ºé‡å®šå‘åˆ°æ–‡ä»¶fä¸­</span></span><br><span class="line">ls &gt; f 2&gt;&amp;1</span><br></pre></td></tr></table></figure>

<ol start="18">
<li>&lt;ï¼šæ“ä½œç¬¦å°†æ–‡ä»¶å†…å®¹é‡å®šå‘ä¸ºå‘½ä»¤çš„æ ‡å‡†è¾“å…¥ï¼›</li>
<li>psï¼šåˆ—å‡ºæ‰€æœ‰æ­£åœ¨è¿è¡Œçš„è¿›ç¨‹ï¼›</li>
<li>killï¼šå‘é€ä¸€ä¸ªä¿¡å·ç»™æŒ‡å®šçš„è¿›ç¨‹ï¼›</li>
<li>ä»»åŠ¡æ§åˆ¶å‘½ä»¤ï¼š<ol>
<li>fgï¼šå°†è¿›ç¨‹ç½®äºå‰å°ï¼›</li>
<li>bgï¼šå°†è¿›ç¨‹ç§»å…¥åå°ï¼›</li>
<li>jobsï¼šæŸ¥çœ‹æš‚åœäº†å“ªäº›è¿›ç¨‹ï¼›</li>
<li>&amp;ï¼šå°†è¿›ç¨‹è®¾ç½®ä¸ºåå°è¿è¡Œï¼›</li>
</ol>
</li>
<li>chmodï¼šæ›´æ”¹æ–‡ä»¶æƒé™ï¼›</li>
<li>ln -sï¼šåˆ›å»ºç¬¦å·é“¾æ¥ï¼›</li>
<li>sudoï¼šä»¥rootç”¨æˆ·èº«ä»½æ‰§è¡Œå‘½ä»¤ï¼›</li>
</ol>
<h2 id="Linuxè®¾å¤‡ç®¡ç†"><a href="#Linuxè®¾å¤‡ç®¡ç†" class="headerlink" title="Linuxè®¾å¤‡ç®¡ç†"></a>Linuxè®¾å¤‡ç®¡ç†</h2><ol>
<li>åœ¨Unixç³»ç»Ÿä¸­æ“çºµå¤§å¤šæ•°è®¾å¤‡éƒ½å¾ˆå®¹æ˜“ï¼Œå› ä¸ºå¾ˆå¤šI/Oæ¥å£éƒ½æ˜¯ä»¥æ–‡ä»¶çš„å½¢å¼ç”±å†…æ ¸å‘ˆç°ç»™ç”¨æˆ·çš„ï¼›</li>
<li>è®¾å¤‡ç±»å‹ï¼š</li>
</ol>
<ul>
<li>å—è®¾å¤‡ï¼šæŒ‰å›ºå®šçš„å—å¤§å°è¯»å–æ•°æ®</li>
<li>å­—ç¬¦è®¾å¤‡ï¼šåªèƒ½å¯¹å­—ç¬¦è®¾å¤‡è¯»å–å’Œå†™å…¥å­—ç¬¦æ•°æ®</li>
<li>ç®¡é“è®¾å¤‡ï¼šè¾“å…¥è¾“å‡ºç«¯ä¸æ˜¯å†…æ ¸é©±åŠ¨ç¨‹åºï¼Œè€Œæ˜¯å¦å¤–ä¸€ä¸ªè¿›ç¨‹</li>
<li>å¥—æ¥å­—è®¾å¤‡ï¼šè·¨è¿›ç¨‹é€šä¿¡ç»å¸¸ç”¨åˆ°çš„ç‰¹æ®Šæ¥å£</li>
<li>ç»ˆç«¯è®¾å¤‡ï¼šåœ¨ç”¨æˆ·è¿›ç¨‹å’Œè¾“å…¥è¾“å‡ºè®¾å¤‡ä¹‹é—´ä¼ é€å­—ç¬¦</li>
</ul>
<ol start="3">
<li>ddå‘½ä»¤æ˜¯ä»è¾“å…¥æ–‡ä»¶å’Œè¾“å…¥æµè¯»å–æ•°æ®ç„¶åå†™å…¥è¾“å‡ºæ–‡ä»¶å’Œè¾“å‡ºæµï¼Œåœ¨æ­¤è¿‡ç¨‹ä¸­å¯èƒ½æ¶‰åŠåˆ°ç¼–ç è½¬æ¢ï¼›</li>
<li><strong>å°å‹è®¡ç®—æœºç³»ç»Ÿæ¥å£ï¼ˆSmall Computer System Intefaceï¼ŒSCSIï¼‰ï¼›</strong></li>
<li>mknodå‘½ä»¤ç”¨æ¥åˆ›å»ºè®¾å¤‡ï¼Œå¿…é¡»çŸ¥é“è®¾å¤‡åä»¥åŠä¸»è¦å’Œæ¬¡è¦ç¼–å·ï¼Œå¯ä»¥ç”¨äºåœ¨ç³»ç»Ÿæ¢å¤çš„æ—¶å€™åˆ›å»ºä¸¢å¤±çš„è®¾å¤‡æ–‡ä»¶ï¼›</li>
</ol>
<h2 id="æ–‡ä»¶ç³»ç»Ÿ"><a href="#æ–‡ä»¶ç³»ç»Ÿ" class="headerlink" title="æ–‡ä»¶ç³»ç»Ÿ"></a>æ–‡ä»¶ç³»ç»Ÿ</h2><ol>
<li><p><strong>åˆ†åŒº</strong>æ˜¯å¯¹æ•´å—ç£ç›˜çš„è¿›ä¸€æ­¥åˆ’åˆ†,å†…æ ¸å°†åˆ†åŒºç”¨å—è®¾å¤‡å‘ˆç°ï¼Œå¦‚åŒæ¯ä¸ªåˆ†åŒºæ˜¯ä¸€æ•´å—çš„ç£ç›˜,åˆ†åŒºæ•°æ®å­˜æ”¾åœ¨ç£ç›˜ä¸Šçš„åˆ†åŒºè¡¨ä¸­;</p>
</li>
<li><p><strong>æ–‡ä»¶ç³»ç»Ÿ</strong>æ˜¯ç”¨æˆ·ç©ºé—´ä¸­ä¸ä½ æ—¥å¸¸äº¤äº’çš„æ–‡ä»¶å’Œç›®å½•æ•°æ®åº“;</p>
</li>
<li><p>åˆ†åŒºè¡¨ï¼š</p>
<ol>
<li>ä¸»å¼•å¯¼è®°å½•ï¼ˆMaster Boot Recordï¼ŒMBRï¼‰</li>
<li>å…¨å±€å”¯ä¸€æ ‡è¯†ç¬¦åˆ†åŒºè¡¨ï¼ˆGlobally Unique Identifier Partition Tableï¼ŒGPTï¼‰</li>
</ol>
</li>
<li><p>è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿï¼ˆVirtual File Systemï¼Œä»¥ä¸‹ç®€ç§°VFSï¼‰è´Ÿè´£æ–‡ä»¶ç³»ç»Ÿçš„å…·ä½“å®ç°ï¼›</p>
</li>
<li><p>ç¬¬å››æ‰©å±•æ–‡ä»¶ç³»ç»Ÿï¼ˆext4ï¼‰ï¼šæ”¯æŒæ›´å¤§çš„æ–‡ä»¶å’Œæ›´å¤šçš„å­ç›®å½•ä¸ªæ•°ï¼›</p>
</li>
<li><p>mkfsèƒ½å¤Ÿè‡ªå·±å†³å®šè®¾å¤‡ä¸Šçš„å—æ•°é‡å¹¶ä¸”è®¾ç½®é€‚å½“çš„é»˜è®¤å€¼ï¼Œç”¨æ¥åˆ›å»ºæ–‡ä»¶ç³»ç»Ÿï¼›</p>
</li>
<li><p>ç³»ç»Ÿå¯ä»¥é€šè¿‡ä½¿ç”¨ç£ç›˜ç©ºé—´æ¥æ‰©å±•å†…å­˜å®¹é‡ï¼Œå¦‚æœå‡ºç°å†…å­˜ç©ºé—´ä¸è¶³çš„æƒ…å†µï¼ŒLinuxè™šæ‹Ÿå†…å­˜ç³»ç»Ÿä¼šè‡ªåŠ¨å°†å†…å­˜ä¸­çš„è¿›ç¨‹ç§»å‡ºè‡³ç£ç›˜ä»¥åŠä»ç£ç›˜ç§»å…¥å†…å­˜ï¼Œç”¨æ¥ä¿å­˜å†…å­˜é¡µé¢çš„ç£ç›˜ç©ºé—´æˆ‘ä»¬ç§°ä¸ºäº¤æ¢ç©ºé—´ï¼›</p>
</li>
<li><p>åˆ›å»ºäº¤æ¢åˆ†åŒºï¼š</p>
<ol>
<li>ç¡®ä¿åˆ†åŒºä¸ºç©º</li>
<li>è¿è¡Œmkswap devï¼Œå…¶ä¸­devæ˜¯åˆ†åŒºè®¾å¤‡</li>
<li>è¿è¡Œswapon devå‘å†…æ ¸æ³¨å†Œ</li>
<li>åœ¨/etc/fstabæ–‡ä»¶ä¸­åˆ›å»ºä¸€ä¸ªæ–°çš„äº¤æ¢æ¡ç›®ï¼Œè¿™æ ·ç³»ç»Ÿåœ¨é‡å¯ä¹‹åå³å¯ä½¿ç”¨è¯¥äº¤æ¢ç©ºé—´</li>
</ol>
</li>
<li><p>å¦‚æœä¸æƒ³é‡æ–°åˆ†åŒºæˆ–è€…ä¸æƒ³æ–°å»ºäº¤æ¢åˆ†åŒºçš„è¯ï¼Œä½ å¯ä»¥ä½¿ç”¨å¸¸è§„æ–‡ä»¶ä½œä¸ºäº¤æ¢ç©ºé—´ï¼š</p>
<ol>
<li>åˆ›å»ºä¸€ä¸ªç©ºæ–‡ä»¶ï¼šdd if=/dev/zero of=swap_file bs=1024k count=num_mb</li>
<li>å°†å…¶åˆå§‹åŒ–ä¸ºäº¤æ¢ç©ºé—´ï¼šmkswap swap_file</li>
<li>å°†å…¶åŠ å…¥äº¤æ¢æ± ï¼šswapon swap_file</li>
</ol>
</li>
<li><p>å¯ä»¥ä½¿ç”¨<strong>swapoffå‘½ä»¤æ¥åˆ é™¤äº¤æ¢åˆ†åŒºæˆ–äº¤æ¢æ–‡ä»¶</strong>ï¼›</p>
</li>
<li><p><strong>é«˜æ€§èƒ½ç½‘ç»œæœåŠ¡å™¨éœ€è¦å°½å¯èƒ½é¿å…ç£ç›˜å­˜å–å’Œäº¤æ¢ç©ºé—´ï¼›</strong></p>
</li>
<li><p>ä¼ ç»Ÿçš„Unixæ–‡ä»¶ç³»ç»Ÿæœ‰ä¸¤ä¸ªåŸºç¡€ç»„ä»¶ï¼šä¸€ä¸ªç”¨æ¥å­˜å‚¨æ•°æ®çš„æ•°æ®å—æ± å’Œä¸€ä¸ªç”¨æ¥ç®¡ç†æ•°æ®æ± çš„æ•°æ®åº“ç³»ç»Ÿï¼›</p>
</li>
</ol>
<h2 id="å†…æ ¸å¯åŠ¨"><a href="#å†…æ ¸å¯åŠ¨" class="headerlink" title="å†…æ ¸å¯åŠ¨"></a>å†…æ ¸å¯åŠ¨</h2><ol>
<li>ç®€åŒ–æµç¨‹ï¼š<ol>
<li>BIOSæˆ–è€…å¯åŠ¨å›ºä»¶åŠ è½½å¹¶è¿è¡Œå¼•å¯¼è£…è½½ç¨‹åº</li>
<li>å¼•å¯¼è£…è½½ç¨‹åºåœ¨ç£ç›˜ä¸Šæ‰¾åˆ°å†…æ ¸æ˜ åƒï¼Œå°†å…¶è½½å…¥å†…å­˜å¹¶å¯åŠ¨</li>
<li>å†…æ ¸åˆå§‹åŒ–è®¾å¤‡åŠå…¶é©±åŠ¨ç¨‹åº</li>
<li>å†…æ ¸æŒ‚è½½rootæ–‡ä»¶ç³»ç»Ÿ</li>
<li>å†…æ ¸ä½¿ç”¨PID 1æ¥è¿è¡Œä¸€ä¸ªå«initçš„ç¨‹åºï¼Œç”¨æˆ·ç©ºé—´åœ¨æ­¤æ—¶å¼€å§‹å¯åŠ¨</li>
<li>initå¯åŠ¨å…¶ä»–çš„ç³»ç»Ÿè¿›ç¨‹</li>
<li>initè¿˜ä¼šå¯åŠ¨ä¸€ä¸ªè¿›ç¨‹ï¼Œé€šå¸¸å‘ç”Ÿåœ¨æ•´ä¸ªè¿‡ç¨‹çš„å°¾å£°ï¼Œè´Ÿè´£ç”¨æˆ·ç™»å½•</li>
</ol>
</li>
<li>åœ¨å¯åŠ¨æ—¶ï¼ŒLinuxå†…æ ¸çš„åˆå§‹åŒ–è¿‡ç¨‹:<ol>
<li>æ£€æŸ¥CPU</li>
<li>æ£€æŸ¥å†…å­˜</li>
<li>æ£€æµ‹è®¾å¤‡æ€»çº¿</li>
<li>æ£€æµ‹è®¾å¤‡</li>
<li>è®¾ç½®é™„åŠ å†…æ ¸å­ç³»ç»Ÿï¼ˆå¦‚ç½‘ç»œç­‰ï¼‰</li>
<li>æŒ‚è½½rootç›®å½•</li>
<li>å¯åŠ¨ç”¨æˆ·ç©ºé—´</li>
</ol>
</li>
<li>è¿è¡ŒLinuxå†…æ ¸çš„æ—¶å€™ï¼Œå¼•å¯¼è£…è½½ç¨‹åºä¼šå‘å†…æ ¸ä¼ é€’ä¸€ç³»åˆ—æ–‡æœ¬å½¢å¼çš„<strong>å†…æ ¸å‚æ•°</strong>æ¥è®¾å®šå†…æ ¸çš„å¯åŠ¨æ–¹å¼ï¼›</li>
<li>å‡ ä¹æ‰€æœ‰çš„ç£ç›˜è®¾å¤‡éƒ½ç”±å›ºä»¶ç³»ç»Ÿä¾›BIOSé€šè¿‡çº¿æ€§å—å¯»å€ï¼ˆLinear Block Addressingï¼‰æ¥è®¿é—®ç¡¬ä»¶ï¼Œå¼•å¯¼è£…è½½ç¨‹åºå¾€å¾€æ˜¯å”¯ä¸€ä½¿ç”¨BIOSè®¿é—®ç£ç›˜çš„ç¨‹åºï¼›</li>
<li>GRUBå·¥ä½œåŸç†ï¼š<ol>
<li>BIOSæˆ–è€…å›ºä»¶åˆå§‹åŒ–ç¡¬ä»¶ï¼Œåœ¨å¯åŠ¨å­˜å‚¨è®¾å¤‡ä¸Šå¯»æ‰¾å¯åŠ¨ä»£ç </li>
<li>BIOSå’Œå›ºä»¶è¿è¡Œæ‰¾åˆ°çš„å¯åŠ¨ä»£ç ï¼Œå¼€å§‹GRUB</li>
<li>åŠ è½½GRUBæ ¸å¿ƒ</li>
<li>åˆå§‹åŒ–GRUBæ ¸å¿ƒï¼Œæ­¤æ—¶GRUBå¯ä»¥è¯»å–ç£ç›˜å’Œæ–‡ä»¶ç³»ç»Ÿ</li>
<li>GRUBè¯†åˆ«å¯åŠ¨åˆ†åŒºï¼Œåœ¨é‚£é‡ŒåŠ è½½é…ç½®ä¿¡æ¯</li>
<li>GRUBä¸ºç”¨æˆ·æä¾›ä¸€ä¸ªæ›´æ”¹é…ç½®çš„æœºä¼š</li>
<li>è¶…æ—¶æˆ–è€…ç”¨æˆ·å®Œæˆæ“ä½œä»¥åï¼ŒGRUBæ‰§è¡Œé…ç½®</li>
<li>æ‰§è¡Œè¿‡ç¨‹å½“ä¸­ï¼ŒGRUBå¯èƒ½ä¼šåœ¨å¯åŠ¨åˆ†åŒºä¸­åŠ è½½é¢å¤–çš„ä»£ç </li>
<li>GRUBæ‰§è¡Œbootå‘½ä»¤ï¼Œä»¥åŠ è½½å’Œæ‰§è¡Œé…ç½®ä¿¡æ¯ä¸­linuxå‘½ä»¤æŒ‡å®šçš„å†…æ ¸</li>
</ol>
</li>
</ol>
<h2 id="ç³»ç»Ÿé…ç½®"><a href="#ç³»ç»Ÿé…ç½®" class="headerlink" title="ç³»ç»Ÿé…ç½®"></a>ç³»ç»Ÿé…ç½®</h2><ol>
<li>è®¡ç®—æœºç¡¬ä»¶æœ‰ä¸€ä¸ªä½¿ç”¨ç”µæ± çš„å®æ—¶æ—¶é’Ÿï¼ˆReal-time Clockï¼ŒRTCï¼‰ï¼Œå°†ç¡¬ä»¶æ—¶é’Ÿè®¾ç½®ä¸ºé€šç”¨åè°ƒæ—¶é—´ï¼ˆUniversal Coordinated Timeï¼ŒUTCï¼‰ï¼Œè¿™æ ·å¯ä»¥é¿å…ä¸åŒæ—¶åŒºå’Œå¤ä»¤æ—¶å¸¦æ¥çš„é—®é¢˜ï¼›</li>
</ol>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">hwclock --hctosys --utc</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>ä½¿ç”¨ntpdateï¼ˆæˆ–è€…ntpdï¼‰ä»ç½‘ç»œè®¾ç½®ç³»ç»Ÿæ—¶é—´ï¼Œç„¶åä½¿ç”¨ç¡¬ä»¶æ—¶é’Ÿå‘½ä»¤è¿›è¡ŒåŒæ­¥ï¼›</li>
<li>crontabï¼šå¯ä»¥åœ¨ä»»ä½•æ—¶é—´è¿è¡Œä»»ä½•ç¨‹åºï¼ˆå®šæ—¶ä»»åŠ¡ï¼‰ï¼›</li>
<li>atï¼šåœ¨å°†æ¥çš„æŸä¸€æ—¶åˆ»ä¸€æ¬¡æ€§è¿è¡Œä»»åŠ¡ï¼›</li>
</ol>
<h2 id="è¿›ç¨‹ä»¥åŠèµ„æº"><a href="#è¿›ç¨‹ä»¥åŠèµ„æº" class="headerlink" title="è¿›ç¨‹ä»¥åŠèµ„æº"></a>è¿›ç¨‹ä»¥åŠèµ„æº</h2><ol>
<li>topå‘½ä»¤å°†ç³»ç»Ÿä¸­æœ€æ´»è·ƒçš„è¿›ç¨‹æ˜¾ç¤ºåœ¨æœ€ä¸Šæ–¹ï¼›</li>
<li>lsofå‘½ä»¤åˆ—å‡ºæ‰“å¼€çš„æ–‡ä»¶ä»¥åŠä½¿ç”¨å®ƒä»¬çš„è¿›ç¨‹ï¼›</li>
<li>straceï¼ˆç³»ç»Ÿè°ƒç”¨è·Ÿè¸ªï¼‰å’Œltraceï¼ˆç³»ç»Ÿåº“è·Ÿè¸ªï¼‰å‘½ä»¤èƒ½å¤Ÿå¸®åŠ©ä½ äº†è§£ç¨‹åºè¯•å›¾æ‰§è¡Œå“ªäº›æ“ä½œï¼›</li>
<li>å¾ˆå¤šè¿›ç¨‹åªæœ‰ä¸€ä¸ªçº¿ç¨‹ï¼Œå«å•çº¿ç¨‹è¿›ç¨‹ï¼Œæœ‰è¶…è¿‡ä¸€ä¸ªçº¿ç¨‹çš„å«å¤šçº¿ç¨‹è¿›ç¨‹ï¼Œå¤šä¸ªçº¿ç¨‹å¯ä»¥åŒæ—¶åœ¨å¤šä¸ªå¤„ç†å™¨ä¸Šè¿è¡Œï¼Œpså’Œtopå‘½ä»¤æ·»åŠ -mé€‰é¡¹å¯ä»¥çœ‹çº¿ç¨‹ä¿¡æ¯ï¼›</li>
<li>uptimeå‘½ä»¤æ˜¾ç¤ºä¸‰ä¸ªå¹³å‡è´Ÿè½½å€¼å’Œå†…æ ¸å·²ç»è¿è¡Œçš„æ—¶é•¿ï¼›</li>
<li>iostatåœ¨ä¸å¸¦ä»»ä½•å‚æ•°æ—¶æ˜¾ç¤ºç³»ç»Ÿå½“å‰çš„è¿è¡Œæ—¶é—´ä¿¡æ¯ï¼›</li>
<li><strong>iotopæ˜¯ä¸ºæ•°ä¸å¤šçš„æ˜¾ç¤ºçº¿ç¨‹è€Œéè¿›ç¨‹çš„å·¥å…·ï¼›</strong></li>
</ol>
<hr>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>Linuxä¸Šè¿˜æœ‰å¾ˆå¤šå†…å®¹,æ¯”å¦‚shellçš„è®²è§£éœ€è¦å•ç‹¬çš„å»è®°å½•,ä¹Ÿç®—æ˜¯å¯¹ä¸€æœ¬ä¹¦é‡Œæˆ‘è®¤ä¸ºé‡è¦çš„å†…å®¹çš„è®°å½•!ä¹¦å:ã€ŠHow Linux Works 2nd Editionã€‹ï¼ˆã€Šç²¾é€šLinuxã€‹ç¬¬äºŒç‰ˆ å§œå— è¢å¿—é¹è¯‘ï¼‰ï¼Œå¦‚æœæƒ³è·å–æ›´å¤šçš„çŸ¥è¯†ï¼Œå¯ä»¥è‡ªè¡Œé˜…è¯»ï¼Œå¯èƒ½æ”¶è·çš„æ›´å¤šï¼</p>
]]></content>
      <categories>
        <category>Linux</category>
      </categories>
  </entry>
  <entry>
    <title>Linux ä¸‰å‰‘å®¢</title>
    <url>/2020/04/23/Linux-%E4%B8%89%E5%89%91%E5%AE%A2/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>shellè„šæœ¬è¯­è¨€åŒ…å«äº†ä¼—å¤šç”¨äºè§£å†³Unix/Linuxç³»ç»Ÿé—®é¢˜çš„å·¥å…·ï¼Œå…¶ä¸­æœ‰ä¸å°‘å’Œæ–‡æœ¬å¤„ç†ç›¸å…³,åŒ…æ‹¬sedã€awkã€grepå’Œcutï¼Œè¿™äº›å·¥å…·å¯ä»¥ç›¸äº’ç»“åˆä»¥æ»¡è¶³æ–‡æœ¬å¤„ç†éœ€æ±‚ã€‚è¿™äº›å‘½ä»¤çš„ç†Ÿç»ƒæŒæ¡å¯ä»¥ä½¿å¾—æˆ‘ä»¬çš„Shellè„šæœ¬ç¼–ç¨‹è¾¾åˆ°æ–°çš„å±‚æ¬¡ã€‚è¿™äº›å®ç”¨å·¥å…·èƒ½å¤Ÿå¸®åŠ©æˆ‘ä»¬åœ¨ä¸åŒçš„å±‚é¢ä¸Šå¤„ç†æ–‡æœ¬æ–‡ä»¶ï¼Œæ¯”å¦‚å­—ç¬¦ã€è¡Œã€å•è¯ã€è¡Œåˆ—ç­‰ã€‚æ­£åˆ™è¡¨è¾¾å¼æ˜¯ä¸€ç§åŸºç¡€çš„æ¨¡å¼åŒ¹é…æŠ€æœ¯ã€‚å¤§å¤šæ•°æ–‡æœ¬å¤„ç†å·¥å…·éƒ½æ”¯æŒæ­£åˆ™è¡¨è¾¾å¼ã€‚å€ŸåŠ©é€‚åˆçš„æ­£åˆ™è¡¨è¾¾å¼ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹æ–‡æœ¬æ–‡ä»¶æ‰§è¡Œè¿‡æ»¤ã€å‰¥ç¦»ï¼ˆstripï¼‰ã€æ›¿æ¢ã€æœç´¢ç­‰æ“ä½œã€‚</p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="æ­£åˆ™è¡¨è¾¾å¼"><a href="#æ­£åˆ™è¡¨è¾¾å¼" class="headerlink" title="æ­£åˆ™è¡¨è¾¾å¼"></a>æ­£åˆ™è¡¨è¾¾å¼</h2><ol>
<li>æ­£åˆ™è¡¨è¾¾å¼æ˜¯åŸºäºæ¨¡å¼åŒ¹é…çš„æ–‡æœ¬å¤„ç†æŠ€æœ¯çš„å…³é”®æ‰€åœ¨ï¼Œæƒ³è¦æœ‰æ•ˆåœ°è¿ç”¨æ­£åˆ™è¡¨è¾¾å¼ï¼Œå°±å¿…é¡»å¯¹å…¶æœ‰ä¸€ä¸ªåŸºæœ¬çš„ç†è§£ï¼›</li>
<li>[a-z0-9_]+ @[a-z0-9]+.[a-z]+.å°±æ˜¯ä¸€ä¸ªå…¸å‹çš„èƒ½å¤ŸåŒ¹é…ç”µå­é‚®ä»¶åœ°å€çš„æ­£åˆ™è¡¨è¾¾å¼ï¼›</li>
<li>æ­£åˆ™è¡¨è¾¾å¼æ˜¯ç”±å­—é¢æ–‡æœ¬å’Œå…·æœ‰ç‰¹æ®Šæ„ä¹‰çš„ç¬¦å·ç»„æˆçš„ï¼Œå¯ä»¥æ ¹æ®éœ€è¦ï¼Œæ„é€ å‡ºé€‚åˆçš„æ­£åˆ™è¡¨è¾¾å¼æ¥åŒ¹é…ä»»ä½•æ–‡æœ¬ï¼›</li>
</ol>
<h2 id="æ­£åˆ™è¡¨è¾¾å¼è§„åˆ™"><a href="#æ­£åˆ™è¡¨è¾¾å¼è§„åˆ™" class="headerlink" title="æ­£åˆ™è¡¨è¾¾å¼è§„åˆ™"></a>æ­£åˆ™è¡¨è¾¾å¼è§„åˆ™</h2><ol>
<li><strong>ä½ç½®æ ‡è®°é”šç‚¹ï¼š</strong>æ ‡è¯†å­—ç¬¦ä¸²ä½ç½®çš„æ­£åˆ™è¡¨è¾¾å¼ï¼š<ol>
<li>^ï¼šæŒ‡å®šäº†åŒ¹é…æ­£åˆ™è¡¨è¾¾å¼çš„æ–‡æœ¬å¿…é¡»èµ·å§‹äºå­—ç¬¦ä¸²çš„é¦–éƒ¨ï¼›</li>
<li>$ï¼šæŒ‡å®šäº†åŒ¹é…æ­£åˆ™è¡¨è¾¾å¼çš„æ–‡æœ¬å¿…é¡»ç»“æŸäºç›®æ ‡å­—ç¬¦ä¸²çš„å°¾éƒ¨ã€‚</li>
</ol>
</li>
<li><strong>æ ‡è¯†ç¬¦ï¼š</strong>å®šä¹‰äº†é‚£äº›ä¸ºäº†åŒ¹é…æ­£åˆ™è¡¨è¾¾å¼ï¼Œå¿…é¡»å­˜åœ¨æˆ–ä¸å­˜åœ¨çš„å­—ç¬¦ï¼š<ol>
<li>Aå­—ç¬¦ï¼šæ­£åˆ™è¡¨è¾¾å¼å¿…é¡»åŒ¹é…è¯¥å­—ç¬¦ï¼›</li>
<li>.ï¼šåŒ¹é…ä»»æ„ä¸€ä¸ªå­—ç¬¦ï¼›</li>
<li>[]ï¼šåŒ¹é…æ‹¬å·å†…çš„ä»»æ„ä¸€ä¸ªå­—ç¬¦ï¼Œä¸­æ‹¬å·å†…å¯ä»¥æ˜¯ä¸€ä¸ªå­—ç¬¦ç»„æˆ–å­—ç¬¦èŒƒå›´ï¼›</li>
<li>[^]ï¼šåŒ¹é…ä¸åœ¨æ‹¬å·ä¸­çš„ä»»æ„ä¸€ä¸ªå­—ç¬¦ï¼Œä¸­æ‹¬å·å†…å¯ä»¥æ˜¯ä¸€ä¸ªå­—ç¬¦ç»„æˆ–å­—ç¬¦èŒƒå›´ã€‚</li>
</ol>
</li>
<li><strong>æ•°é‡ä¿®é¥°ç¬¦ï¼š</strong>ä¸€ä¸ªæ ‡è¯†ç¬¦å¯ä»¥å‡ºç°ä¸€æ¬¡ã€å¤šæ¬¡æˆ–æ˜¯ä¸å‡ºç°ï¼š<ol>
<li>?ï¼šåŒ¹é…ä¹‹å‰çš„é¡¹1æ¬¡æˆ–0æ¬¡ï¼›</li>
<li>+ï¼šåŒ¹é…ä¹‹å‰çš„é¡¹ä¸€æ¬¡æˆ–å¤šæ¬¡ï¼›</li>
<li>*ï¼šåŒ¹é…ä¹‹å‰çš„é¡¹0æ¬¡è´§å¤šæ¬¡ï¼›</li>
<li>{n}ï¼šåŒ¹é…ä¹‹å‰çš„é¡¹næ¬¡ï¼›</li>
<li>{n, }ï¼šä¹‹å‰çš„é¡¹è‡³å°‘åŒ¹é…næ¬¡ï¼›</li>
<li>{n,m}ï¼šä¹‹å‰çš„é¡¹å¿…é¡»åŒ¹é…æœ€å°næ¬¡ï¼Œæœ€å¤§mæ¬¡ï¼Œm&gt;nã€‚</li>
</ol>
</li>
<li><strong>å…¶ä»–åŒ¹é…ç¬¦ï¼š</strong><ol>
<li>()ï¼šå°†æ‹¬å·ä¸­çš„å†…å®¹è§†ä¸ºä¸€ä¸ªæ•´ä½“ï¼›</li>
<li>|ï¼šæŒ‡å®šäº†ä¸€ç§é€‰æ‹©ç»“æ„ï¼Œå¯ä»¥åŒ¹é…|ä¸¤è¾¹çš„ä»»æ„ä¸€é¡¹ï¼›</li>
<li>\ï¼šè½¬ä¹‰å­—ç¬¦å¯ä»¥è½¬ä¹‰ä¹‹å‰ä»‹ç»çš„ç‰¹æ®Šå­—ç¬¦ã€‚</li>
</ol>
</li>
<li>æ ·ä¾‹ï¼š</li>
</ol>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> æŒ‰ç…§æ¨¡å¼åŒ¹é…ipåœ°å€æ ¼å¼ï¼Œä½†æ˜¯ä¸éªŒè¯ipçš„åˆæ³•æ€§</span></span><br><span class="line">echo "hello 999.168.2.3 nice" |egrep -e "[0-9]&#123;1,3&#125;\.[0-9]&#123;1,3&#125;\.[0-9]&#123;1,3&#125;\.[0-9]&#123;1,3&#125;" -o</span><br><span class="line">echo "hello 999.168.2.3 nice" |egrep -e "[[:digit:]]&#123;1,3&#125;\.[[:digit:]]&#123;1,3&#125;\.[[:digit:]]&#123;1,3&#125;\.[[:digit:]]&#123;1,3&#125;" -o</span><br></pre></td></tr></table></figure>

<ol start="6">
<li>grepå‘½ä»¤é»˜è®¤ä½¿ç”¨åŸºç¡€æ­£åˆ™è¡¨è¾¾å¼ï¼Œé€‰é¡¹-Eå¯ä»¥ä½¿grepä½¿ç”¨æ‰©å±•æ­£åˆ™è¡¨è¾¾å¼ï¼›</li>
<li>é»˜è®¤å¯ç”¨æ‰©å±•æ­£åˆ™è¡¨è¾¾å¼çš„egrepå‘½ä»¤ï¼›</li>
<li>é€‰é¡¹-oå¯ä»¥åªè¾“å‡ºåŒ¹é…åˆ°çš„æ–‡æœ¬ï¼›</li>
<li>é€‰é¡¹-vå¯ä»¥æ‰“å°å‡ºä¸åŒ¹é…match_patternçš„æ‰€æœ‰è¡Œï¼›</li>
<li>é€‰é¡¹-cèƒ½å¤Ÿç»Ÿè®¡å‡ºåŒ¹é…æ¨¡å¼çš„æ–‡æœ¬è¡Œæ•°ï¼Œå¹¶ä¸æ˜¯åŒ¹é…çš„æ¬¡æ•°ï¼›</li>
<li>å¦‚æœéœ€è¦åœ¨å¤šçº§ç›®å½•ä¸­å¯¹æ–‡æœ¬è¿›è¡Œé€’å½’æœç´¢ï¼Œå¯ä»¥ä½¿ç”¨å‘½ä»¤ï¼šgrep â€œtextâ€ . -R -nï¼›</li>
<li>é€‰é¡¹-iå¯ä»¥åœ¨åŒ¹é…æ¨¡å¼æ—¶ä¸è€ƒè™‘å­—ç¬¦çš„å¤§å°å†™ï¼›</li>
<li>é€‰é¡¹-eå¯ä»¥æŒ‡å®šå¤šä¸ªåŒ¹é…æ¨¡å¼ï¼›</li>
<li>é€‰é¡¹-få¯ä»¥è¯»å–æ–‡ä»¶å¹¶ä½¿ç”¨å…¶ä¸­çš„æ¨¡å¼ï¼ˆä¸€ä¸ªæ¨¡å¼ä¸€è¡Œï¼‰ï¼›</li>
<li><strong>grepå¯ä»¥åœ¨æœç´¢è¿‡ç¨‹ä¸­ä½¿ç”¨é€šé…ç¬¦æŒ‡å®šï¼ˆincludeï¼‰æˆ–æ’é™¤ï¼ˆexcludeï¼‰æŸäº›æ–‡ä»¶ï¼›</strong></li>
</ol>
<h2 id="cutå‘½ä»¤åˆ‡åˆ†æ–‡ä»¶"><a href="#cutå‘½ä»¤åˆ‡åˆ†æ–‡ä»¶" class="headerlink" title="cutå‘½ä»¤åˆ‡åˆ†æ–‡ä»¶"></a>cutå‘½ä»¤åˆ‡åˆ†æ–‡ä»¶</h2><ol>
<li>cutå‘½ä»¤å¯ä»¥æŒ‰åˆ—ï¼Œè€Œä¸æ˜¯æŒ‰è¡Œæ¥åˆ‡åˆ†æ–‡ä»¶ï¼›</li>
<li>cutå‘½ä»¤èƒ½å¤Ÿæå–æŒ‡å®šä½ç½®æˆ–åˆ—ä¹‹é—´çš„å­—ç¬¦ï¼Œå¯ä»¥æŒ‡å®šæ¯åˆ—çš„åˆ†éš”ç¬¦ï¼›<ol>
<li>é€‰é¡¹-få¯ä»¥æŒ‡å®šè¦æå–çš„å­—æ®µï¼Œç”±åˆ—å·ç»„æˆï¼Œå½¼æ­¤ä¹‹é—´ç”¨é€—å·åˆ†éš”ï¼šcut -f 2,3 filenameï¼›</li>
<li>é€‰é¡¹-dèƒ½å¤Ÿè®¾ç½®åˆ†éš”ç¬¦ï¼›</li>
<li>â€“complementé€‰é¡¹æ˜¾ç¤ºå‡ºæ²¡æœ‰è¢«-fæŒ‡å®šçš„é‚£äº›å­—æ®µ(macä¸Šæ²¡æœ‰);</li>
<li>é€‰é¡¹â€“output-delimiterå¯ä»¥æŒ‡å®šè¾“å‡ºåˆ†éš”ç¬¦(macä¸Šæ²¡æœ‰)ã€‚</li>
</ol>
</li>
</ol>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> ä»¥ï¼šä¸ºåˆ†éš”ç¬¦ï¼Œå–å‡ºç¬¬7æ®µ</span></span><br><span class="line">cat /etc/passwd |cut -f 7 -d ":"</span><br></pre></td></tr></table></figure>

<h2 id="sedæµç¼–è¾‘å™¨"><a href="#sedæµç¼–è¾‘å™¨" class="headerlink" title="sedæµç¼–è¾‘å™¨"></a>sedæµç¼–è¾‘å™¨</h2><ol>
<li>sedæ˜¯stream editorï¼ˆæµç¼–è¾‘å™¨ï¼‰çš„ç¼©å†™ï¼Œæœ€å¸¸è§çš„ç”¨æ³•æ˜¯è¿›è¡Œæ–‡æœ¬æ›¿æ¢ï¼›</li>
<li>sedå¯ä»¥ä½¿ç”¨å¦ä¸€ä¸ªå­—ç¬¦ä¸²æ¥æ›¿æ¢åŒ¹é…æ¨¡å¼ï¼Œæ¨¡å¼å¯ä»¥æ˜¯ç®€å•çš„å­—ç¬¦ä¸²æˆ–æ­£åˆ™è¡¨è¾¾å¼ï¼šsed â€˜s/pattern/replace_string/â€˜ fileï¼›</li>
</ol>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">cat /etc/passwd | cut -d : -f 1,3|sed 's/:/ -UID:/'</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>gæ ‡è®°å¯ä»¥ä½¿sedæ‰§è¡Œå…¨å±€æ›¿æ¢:sed â€˜s/pattern/replace_string/gâ€™ file;</li>
<li>/#gæ ‡è®°å¯ä»¥ä½¿sedæ›¿æ¢ç¬¬Næ¬¡å‡ºç°çš„åŒ¹é…;</li>
<li>sedå‘½ä»¤ä¼šå°†sä¹‹åçš„å­—ç¬¦è§†ä¸ºå‘½ä»¤åˆ†éš”ç¬¦:</li>
</ol>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> ä¸‹é¢çš„æ“ä½œæ˜¯ç›¸åŒçš„</span></span><br><span class="line">cat /etc/passwd | cut -d : -f 1,3|sed 's/:/ -UID:/g'</span><br><span class="line">cat /etc/passwd | cut -d : -f 1,3|sed 's:\:: -UID\::g'</span><br><span class="line">cat /etc/passwd | cut -d : -f 1,3|sed 's|:| -UID:|g'</span><br></pre></td></tr></table></figure>

<ol start="6">
<li>ç©ºè¡Œå¯ä»¥ç”¨æ­£åˆ™è¡¨è¾¾å¼ ^$ è¿›è¡ŒåŒ¹é…,sedå¯ä»¥ç§»é™¤ç©ºè¡Œï¼š</li>
</ol>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sed '/^$/d' file</span><br></pre></td></tr></table></figure>

<ol start="7">
<li>å°±åœ°ï¼ˆin placeï¼‰ä¿®æ”¹æ–‡ä»¶å†…å®¹ï¼Œå¯ä»¥ä½¿ç”¨é€‰é¡¹-iï¼šsed â€˜s/PATTERN/replacement/â€˜ -i filenameï¼›</li>
<li>åœ¨sedä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨&amp;æŒ‡ä»£æ¨¡å¼æ‰€åŒ¹é…åˆ°çš„å­—ç¬¦ä¸²ï¼š</li>
</ol>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">echo this is an example | sed 's/\w\+/[&amp;]/g'</span><br><span class="line"><span class="meta">#</span><span class="bash"> è¾“å‡ºï¼š[this] [is] [an] [example]</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> æ­£åˆ™è¡¨è¾¾å¼\w\+åŒ¹é…æ¯ä¸€ä¸ªå•è¯</span></span><br></pre></td></tr></table></figure>

<ol start="9">
<li>å¯ä»¥ä½¿ç”¨# æ¥æŒ‡ä»£å‡ºç°åœ¨æ‹¬å·ä¸­çš„éƒ¨åˆ†æ­£åˆ™è¡¨è¾¾å¼æ‰€åŒ¹é…åˆ°çš„å†…å®¹ï¼š</li>
</ol>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">echo this is digit 7 in a number | sed 's/digit \([0-9]\)/\1/'</span><br><span class="line"><span class="meta">#</span><span class="bash"> è¾“å‡ºï¼š this is 7 <span class="keyword">in</span> a number</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> \(pattern\)ç”¨äºåŒ¹é…å­ä¸²</span></span><br><span class="line"></span><br><span class="line">echo seven EIGHT | sed 's/\([a-z]\+\) \([A-Z]\+\)/\2 \1/'</span><br><span class="line"><span class="meta">#</span><span class="bash"> è¾“å‡ºï¼š EIGHT seven</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> \1å’Œ\2åˆ†åˆ«ç”¨æ¥å¼•ç”¨è¿™ä¸¤ä¸ªå•è¯</span></span><br></pre></td></tr></table></figure>

<ol start="10">
<li>å¯ä»¥åˆ©ç”¨ç®¡é“ç»„åˆå¤šä¸ªsedå‘½ä»¤ï¼Œå¤šä¸ªæ¨¡å¼ä¹‹é—´å¯ä»¥ç”¨åˆ†å·åˆ†éš”ï¼Œæˆ–æ˜¯ä½¿ç”¨é€‰é¡¹-e PATTERN:</li>
</ol>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sed 'expression' | sed 'expression'</span><br><span class="line">sed 'expression; expression'</span><br><span class="line">sed -e 'expression' -e 'expression'</span><br></pre></td></tr></table></figure>

<ol start="11">
<li>sedè¡¨è¾¾å¼é€šå¸¸ç”¨å•å¼•å·æ¥å¼•ç”¨,ä¹Ÿå¯ä»¥ä½¿ç”¨åŒå¼•å·,shellä¼šåœ¨è°ƒç”¨sedå‰å…ˆæ‰©å±•åŒå¼•å·ä¸­çš„å†…å®¹;</li>
</ol>
<h2 id="é«˜çº§æ–‡æœ¬å¤„ç†awk"><a href="#é«˜çº§æ–‡æœ¬å¤„ç†awk" class="headerlink" title="é«˜çº§æ–‡æœ¬å¤„ç†awk"></a>é«˜çº§æ–‡æœ¬å¤„ç†awk</h2><ol>
<li>awkå‘½ä»¤å¯ä»¥å¤„ç†æ•°æ®æµã€‚å®ƒæ”¯æŒå…³è”æ•°ç»„ã€é€’å½’å‡½æ•°ã€æ¡ä»¶è¯­å¥ç­‰åŠŸèƒ½ï¼›</li>
<li>awkè„šæœ¬çš„ç»“æ„ï¼š</li>
</ol>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">awk 'BEGIN&#123;print "start" &#125; pattern &#123; commands &#125; END&#123; print "end" &#125;' file</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>awkè„šæœ¬é€šå¸¸ç”±3éƒ¨åˆ†ç»„æˆï¼šBEGINã€ENDå’Œå¸¦æ¨¡å¼åŒ¹é…é€‰é¡¹çš„å…¬å…±è¯­å¥å—,è¿™3ä¸ªéƒ¨åˆ†éƒ½æ˜¯å¯é€‰çš„ï¼Œå¯ä»¥ä¸ç”¨å‡ºç°åœ¨è„šæœ¬ä¸­;</li>
<li>å¤„ç†è§„åˆ™ï¼š<strong>awkä»¥é€è¡Œçš„å½¢å¼å¤„ç†æ–‡ä»¶ã€‚BEGINä¹‹åçš„å‘½ä»¤ä¼šå…ˆäºå…¬å…±è¯­å¥å—æ‰§è¡Œã€‚å¯¹äºåŒ¹é…PATTERNçš„è¡Œï¼Œawkä¼šå¯¹å…¶æ‰§è¡ŒPATTERNä¹‹åçš„å‘½ä»¤ã€‚æœ€åï¼Œåœ¨å¤„ç†å®Œæ•´ä¸ªæ–‡ä»¶ä¹‹åï¼Œawkä¼šæ‰§è¡ŒENDä¹‹åçš„å‘½ä»¤ï¼›</strong></li>
<li>ç»Ÿè®¡æ–‡ä»¶çš„è¡Œæ•°ï¼š</li>
</ol>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">awk 'BEGIN &#123; i=0 &#125; &#123; i++ &#125; END &#123; print i&#125;' filename</span><br><span class="line">awk "BEGIN &#123; i=0 &#125; &#123; i++ &#125; END &#123; print i &#125;" filename</span><br></pre></td></tr></table></figure>

<ol start="6">
<li>æ¨¡å¼æœ¬èº«å¯ä»¥æ˜¯æ­£åˆ™è¡¨è¾¾å¼ã€æ¡ä»¶è¯­å¥ä»¥åŠè¡ŒèŒƒå›´ç­‰ã€‚å¦‚æœå½“å‰è¡ŒåŒ¹é…è¯¥æ¨¡å¼ï¼Œåˆ™æ‰§è¡Œ{ }ä¸­çš„è¯­å¥ã€‚</li>
</ol>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">echo -e "line1\nline2" | awk 'BEGIN &#123; print "Start" &#125; &#123; print &#125; END &#123; print "End" &#125; '</span><br><span class="line"><span class="meta">#</span><span class="bash">è¾“å‡ºï¼š</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Start</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> line1</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> line2</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> End</span></span><br></pre></td></tr></table></figure>

<h2 id="awkçš„è¡¥å……"><a href="#awkçš„è¡¥å……" class="headerlink" title="awkçš„è¡¥å……"></a>awkçš„è¡¥å……</h2><ol>
<li><strong>ç‰¹æ®Šå˜é‡ï¼š</strong><ol>
<li>NRï¼šè¡¨ç¤ºè®°å½•ç¼–å·ï¼Œå½“awkå°†è¡Œä½œä¸ºè®°å½•æ—¶ï¼Œè¯¥å˜é‡ç›¸å½“äºå½“å‰è¡Œå·ï¼›</li>
<li>NFï¼šè¡¨ç¤ºå­—æ®µæ•°é‡ï¼Œåœ¨å¤„ç†å½“å‰è®°å½•æ—¶ï¼Œç›¸å½“äºå­—æ®µæ•°é‡ï¼Œé»˜è®¤çš„å­—æ®µåˆ†éš”ç¬¦æ˜¯ç©ºæ ¼ï¼›</li>
<li>$0ï¼šè¯¥å˜é‡åŒ…å«å½“å‰è®°å½•çš„æ–‡æœ¬å†…å®¹ï¼›</li>
<li>$1ï¼šè¯¥å˜é‡åŒ…å«ç¬¬ä¸€ä¸ªå­—æ®µçš„æ–‡æœ¬å†…å®¹ï¼›</li>
<li>$2ï¼šè¯¥å˜é‡åŒ…å«ç¬¬äºŒä¸ªå­—æ®µçš„æ–‡æœ¬å†…å®¹ï¼›</li>
</ol>
</li>
<li>é€‰é¡¹-vï¼Œæˆ‘ä»¬å¯ä»¥å°†å¤–éƒ¨å€¼ï¼ˆå¹¶éæ¥è‡ªstdinï¼‰ä¼ é€’ç»™awk;</li>
<li>awké»˜è®¤è¯»å–æ–‡ä»¶ä¸­çš„æ‰€æœ‰è¡Œ,å¦‚æœåªæƒ³è¯»å–æŸä¸€è¡Œï¼Œå¯ä»¥ä½¿ç”¨getlineå‡½æ•°:</li>
</ol>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> è¯»å–ç¬¬ä¸€è¡Œ</span></span><br><span class="line">seq 5 | awk 'BEGIN &#123; getline; print "Read ahead first line", $0 &#125; &#123;print $0&#125;'</span><br></pre></td></tr></table></figure>

<ol start="4">
<li>é€‰é¡¹-FæŒ‡å®šä¸åŒçš„åˆ†éš”ç¬¦ï¼Œå¯ä»¥åœ¨BEGINä¸­ä½¿ç”¨ FSæŒ‡å®šï¼Œåœ¨BEGINè¯­å¥å—ä¸­å¯ä»¥ç”¨OFS=â€delimiterâ€è®¾ç½®è¾“å‡ºå­—æ®µåˆ†éš”ç¬¦ï¼›</li>
</ol>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> æŒ‰ç…§ï¼šè¿›è¡Œåˆ†å‰²ï¼Œ<span class="variable">$0</span> è¾“å‡ºå…¨éƒ¨ï¼Œ<span class="variable">$1</span> ç¬¬ä¸€ä¸ª</span></span><br><span class="line">cat /etc/passwd|awk -F: '&#123;print $0&#125;'</span><br><span class="line">awk 'BEGIN &#123; FS=":" &#125; &#123; print $0 &#125;' /etc/passwd</span><br></pre></td></tr></table></figure>

<ol start="5">
<li>é™¤äº†æ•°å­—å’Œå­—ç¬¦ä¸²ç±»å‹çš„å˜é‡ï¼Œawkè¿˜æ”¯æŒå…³è”æ•°ç»„,å…³è”æ•°ç»„æ˜¯ä¸€ç§ä½¿ç”¨å­—ç¬¦ä¸²ä½œä¸ºç´¢å¼•çš„æ•°ç»„,å¯ä»¥é€šè¿‡ä¸­æ‹¬å·ä¸­ç´¢å¼•çš„å½¢å¼æ¥åˆ†è¾¨å‡ºå…³è”æ•°ç»„ï¼›</li>
<li>åœ¨awkä¸­å¯ä»¥ä½¿ç”¨forå¾ªç¯ï¼Œå…¶æ ¼å¼ä¸Cè¯­è¨€ä¸­çš„å·®ä¸å¤šï¼Œawkè¿˜æ”¯æŒåˆ—è¡¨å½¢å¼çš„forå¾ªç¯:</li>
</ol>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> å¾ªç¯è¾“å‡º</span></span><br><span class="line">echo | awk '&#123;for(i=0;i&lt;10;i++)&#123;print i;&#125;&#125;'</span><br><span class="line"><span class="meta">#</span><span class="bash"> ä»/etc/passwordä¸­è¯»å–æ–‡æœ¬è¡Œï¼Œä»¥:ä½œä¸ºåˆ†éš”ç¬¦å°†è¡Œåˆ†å‰²æˆå­—æ®µï¼Œç„¶ååˆ›å»ºä¸€ä¸ªå…³è”æ•°ç»„</span></span><br><span class="line">awk 'BEGIN &#123;FS=":"&#125; &#123;nam[$1]=$5&#125; END &#123;for (i in nam) &#123;print i,nam[i]&#125;&#125;' /etc/passwd</span><br></pre></td></tr></table></figure>

<ol start="7">
<li><strong>awkå†…å»ºçš„å­—ç¬¦ä¸²å¤„ç†å‡½æ•°:</strong><ol>
<li>length(string)ï¼šè¿”å›å­—ç¬¦ä¸²stringçš„é•¿åº¦;</li>
<li>index(string, search_string)ï¼šè¿”å›search_stringåœ¨å­—ç¬¦ä¸²stringä¸­å‡ºç°çš„ä½ç½®;</li>
<li>split(string, array, delimiter)ï¼šä»¥delimiterä½œä¸ºåˆ†éš”ç¬¦ï¼Œåˆ†å‰²å­—ç¬¦ä¸²stringï¼Œå°†ç”Ÿæˆçš„å­—ç¬¦ä¸²å­˜å…¥æ•°ç»„array;</li>
<li>substr(string, start-position, end-position) ï¼š è¿”å›å­—ç¬¦ä¸² string ä¸­ä»¥start-positionå’Œend-positionä½œä¸ºèµ·æ­¢ä½ç½®çš„å­ä¸²;</li>
<li>sub(regex, replacement_str, string)ï¼šå°†æ­£åˆ™è¡¨è¾¾å¼regexåŒ¹é…åˆ°çš„ç¬¬ä¸€å¤„å†…å®¹æ›¿æ¢æˆreplacment_str;</li>
<li>gsub(regex, replacement_str, string)ï¼šå’Œsub()ç±»ä¼¼,ä¸è¿‡è¯¥å‡½æ•°ä¼šæ›¿æ¢æ­£åˆ™è¡¨è¾¾å¼regexåŒ¹é…åˆ°çš„æ‰€æœ‰å†…å®¹;</li>
<li>match(regex, string)ï¼šæ£€æŸ¥æ­£åˆ™è¡¨è¾¾å¼regexæ˜¯å¦èƒ½å¤Ÿåœ¨å­—ç¬¦ä¸²stringä¸­æ‰¾åˆ°åŒ¹é…,å¦‚æœèƒ½å¤Ÿæ‰¾åˆ°ï¼Œè¿”å›é0å€¼ï¼›å¦åˆ™ï¼Œè¿”å›0ã€‚match()æœ‰ä¸¤ä¸ªç›¸å…³çš„ç‰¹æ®Šå˜é‡ï¼Œåˆ†åˆ«æ˜¯RSTARTå’ŒRLENGTHã€‚å˜é‡RSTARTåŒ…å«äº†åŒ¹é…å†…å®¹çš„èµ·å§‹ä½ç½®ï¼Œè€Œå˜é‡RLENGTHåŒ…å«äº†åŒ¹é…å†…å®¹çš„é•¿åº¦;</li>
</ol>
</li>
</ol>
<h2 id="åº”ç”¨"><a href="#åº”ç”¨" class="headerlink" title="åº”ç”¨"></a>åº”ç”¨</h2><ol>
<li>ç»Ÿè®¡è¯é¢‘(æ¨¡å¼\b[[:alpha:]]+\bèƒ½å¤ŸåŒ¹é…æ¯ä¸ªå•è¯å¹¶å»é™¤ç©ºç™½å­—ç¬¦å’Œæ ‡ç‚¹ç¬¦å·)ï¼š</li>
</ol>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash </span></span><br><span class="line"><span class="meta">#</span><span class="bash"> æ–‡ä»¶åï¼šword_freq.sh</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> ç”¨é€”: è®¡ç®—æ–‡ä»¶ä¸­å•è¯çš„è¯é¢‘</span></span><br><span class="line"></span><br><span class="line">if [ $# -ne 1 ]; </span><br><span class="line">then</span><br><span class="line">	echo "Usage: $0 filename";</span><br><span class="line">	exit -1 </span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">filename=$1 </span><br><span class="line">egrep -o "\b[[:alpha:]]+\b" $filename | awk '&#123; count[$0]++ &#125; END&#123;printf("%-14s%s\n","Word","Count") ; for(ind in count) &#123; printf("%-14s%d\n",ind,count[ind]); &#125; &#125;' | sort</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>å¯ä»¥ç”¨pasteå‘½ä»¤å®ç°æŒ‰åˆ—åˆå¹¶ï¼›</li>
<li>æ‰“å°ä»Mè¡Œåˆ°Nè¡Œä¹‹é—´çš„æ–‡æœ¬: awk â€˜NR==M, NR==Nâ€™ filename;</li>
<li>èƒ½å¤ŸåŒ¹é…ç”µå­é‚®ä»¶åœ°å€çš„æ­£åˆ™è¡¨è¾¾å¼: [A-Za-z0-9._]+@[A-Za-z0-9.]+.[a-zA-Z]{2,4}</li>
<li>åŒ¹é…HTTP URLä¸åŒ¹é…ç”µå­é‚®ä»¶åœ°å€ç±»ä¼¼ï¼Œåªæ˜¯ä¸éœ€è¦åŒ¹é…name@éƒ¨åˆ†: http://[a-zA-Z0-9.]+.[a-zA-Z]{2,3}</li>
</ol>
<p></p>
<hr>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>å­¦ä¼šä½¿ç”¨Linuxä¸‰å‰‘å®¢ï¼ŒåŸºæœ¬ä¸Šå°±èƒ½å†™å‡ºå¾ˆå¤šç¬¦åˆä¸€å®šè§„åˆ™çš„è„šæœ¬æ¥å¤„ç†ç‰¹å®šçš„é—®é¢˜ï¼Œè¿™éƒ¨åˆ†è¿˜éœ€è¦å¤šå¤šç»ƒä¹ ï¼Œç„¶åæ‰èƒ½æ ¹æ®æ–‡æœ¬çš„ç‰¹ç‚¹å†™å‡ºå¯ä»¥çš„è„šæœ¬ï¼Œæœ€ç»ˆç®€åŒ–è‡ªå·±çš„æ—¥å¸¸åŠå…¬ã€‚</p>
]]></content>
      <categories>
        <category>Linux</category>
      </categories>
  </entry>
  <entry>
    <title>Lua ä½¿ç”¨å¡«å‘</title>
    <url>/2020/06/03/Lua-%E4%BD%BF%E7%94%A8%E5%A1%AB%E5%9D%91/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>Lua æ˜¯ä¸€ç§è½»é‡å°å·§çš„è„šæœ¬è¯­è¨€ï¼Œç”¨æ ‡å‡†Cè¯­è¨€ç¼–å†™å¹¶ä»¥æºä»£ç å½¢å¼å¼€æ”¾ï¼Œ å…¶è®¾è®¡ç›®çš„æ˜¯ä¸ºäº†åµŒå…¥åº”ç”¨ç¨‹åºä¸­ï¼Œä»è€Œä¸ºåº”ç”¨ç¨‹åºæä¾›çµæ´»çš„æ‰©å±•å’Œå®šåˆ¶åŠŸèƒ½ã€‚Lua æ˜¯å·´è¥¿é‡Œçº¦çƒ­å†…å¢å¤©ä¸»æ•™å¤§å­¦ï¼ˆPontifical Catholic University of Rio de Janeiroï¼‰é‡Œçš„ä¸€ä¸ªç ”ç©¶å°ç»„äº 1993 å¹´å¼€å‘çš„ï¼Œè¯¥å°ç»„æˆå‘˜æœ‰ï¼šRoberto Ierusalimschyã€Waldemar Celes å’Œ Luiz Henrique de Figueiredoã€‚</p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="åœ¨æ–‡ä»¶ä¸­æŒ‡å®šæœç´¢è·¯å¾„"><a href="#åœ¨æ–‡ä»¶ä¸­æŒ‡å®šæœç´¢è·¯å¾„" class="headerlink" title="åœ¨æ–‡ä»¶ä¸­æŒ‡å®šæœç´¢è·¯å¾„"></a>åœ¨æ–‡ä»¶ä¸­æŒ‡å®šæœç´¢è·¯å¾„</h2><ol>
<li><p>å¦‚æœä½¿ç”¨åˆ°äº†è‡ªå·±å†™çš„Cåº“æˆ–è€…ç¬¬ä¸‰æ–¹åº“ï¼Œæƒ³è®©luaç¼–è¯‘åˆ°è‡ªå·±æŒ‡å®šçš„ç›®å½•ä¸‹å¯»æ‰¾*.luaæˆ–*.soæ–‡ä»¶çš„æ—¶å€™ï¼Œå¯ä»¥åœ¨è‡ªå·±çš„Luaä»£ç æŒ‡å®šrequireæœç´¢çš„è·¯å¾„ï¼›</p>
</li>
<li><p>æœç´¢luaæ¨¡å—ï¼š</p>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="built_in">package</span>.<span class="built_in">path</span> = <span class="string">'/Volumes/Daily/Project/nlu2luajson/LUA-File/DB/?.lua;/Volumes/Daily/Project/nlu2luajson/LUA-File/basefile/?.lua;'</span> <span class="comment">--æœç´¢luaæ¨¡å—</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>æœç´¢soæ¨¡å—ï¼š</p>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="built_in">package</span>.<span class="built_in">cpath</span> = <span class="string">'/usr/local/lib/lua/5.1/?.so;'</span>        <span class="comment">--æœç´¢soæ¨¡å—</span></span><br></pre></td></tr></table></figure>



</li>
</ol>
<h2 id="Macå®‰è£…luarocks"><a href="#Macå®‰è£…luarocks" class="headerlink" title="Macå®‰è£…luarocks"></a>Macå®‰è£…luarocks</h2><ol>
<li><p>å®‰è£…å‘½ä»¤ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">brew install luarocks</span><br></pre></td></tr></table></figure>
</li>
<li><p>luarocks<a href="https://luarocks.org/" target="_blank" rel="noopener">å®˜æ–¹ç½‘å€</a>ï¼šå¯ä»¥çœ‹åˆ°æœ€æ–°çš„å®‰è£…åŒ…ï¼Œä»¥åŠæœ€çƒ­ä¸‹è½½ç­‰</p>
</li>
<li><p>å®‰è£…å‘½ä»¤ç¤ºä¾‹ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">luarocks install lua-resty-http</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h2 id="å®‰è£…æ•°æ®åº“é©±åŠ¨ä»¥åŠä½¿ç”¨"><a href="#å®‰è£…æ•°æ®åº“é©±åŠ¨ä»¥åŠä½¿ç”¨" class="headerlink" title="å®‰è£…æ•°æ®åº“é©±åŠ¨ä»¥åŠä½¿ç”¨"></a>å®‰è£…æ•°æ®åº“é©±åŠ¨ä»¥åŠä½¿ç”¨</h2><ol>
<li><p>å®‰è£…ä¸åŒç±»å‹çš„æ•°æ®åº“é©±åŠ¨ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">luarocks install luasql-sqlite3</span><br><span class="line">luarocks install luasql-postgres</span><br><span class="line">luarocks install luasql-mysql</span><br><span class="line">luarocks install luasql-sqlite</span><br><span class="line">luarocks install luasql-odbc</span><br></pre></td></tr></table></figure>
</li>
<li><p>è¿æ¥mysqlæ•°æ®åº“ï¼š</p>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">#!/usr/<span class="keyword">local</span>/bin/lua</span><br><span class="line"></span><br><span class="line">luasql=<span class="built_in">require</span>(<span class="string">"luasql.mysql"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">--åˆ›å»ºç¯å¢ƒå¯¹è±¡</span></span><br><span class="line">env = luasql.mysql()</span><br><span class="line"></span><br><span class="line"><span class="comment">--è¿æ¥æ•°æ®åº“</span></span><br><span class="line"><span class="comment">--conn = env:connect("æ•°æ®åº“å","ç”¨æˆ·å","å¯†ç ","IPåœ°å€",ç«¯å£)</span></span><br><span class="line">conn = env:connect(<span class="string">"ota"</span>,<span class="string">"root"</span>,<span class="string">"helloworld"</span>,<span class="string">"localhost"</span>,<span class="number">3306</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">--è®¾ç½®æ•°æ®åº“çš„ç¼–ç æ ¼å¼</span></span><br><span class="line">conn:<span class="built_in">execute</span><span class="string">"SET NAMES UTF8"</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--æ‰§è¡Œæ•°æ®åº“æ“ä½œ</span></span><br><span class="line">cur = conn:<span class="built_in">execute</span>(<span class="string">"select * from device_da"</span>)</span><br><span class="line"></span><br><span class="line">row = cur:fetch(&#123;&#125;,<span class="string">"a"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">--æ–‡ä»¶å¯¹è±¡çš„åˆ›å»º</span></span><br><span class="line">file = <span class="built_in">io</span>.<span class="built_in">open</span>(<span class="string">"role.txt"</span>,<span class="string">"w+"</span>);</span><br><span class="line"><span class="keyword">for</span> k,v <span class="keyword">in</span> <span class="built_in">pairs</span>(row) <span class="keyword">do</span></span><br><span class="line">	var = <span class="built_in">string</span>.<span class="built_in">format</span>(<span class="string">"%s %s\n"</span>, k, v)</span><br><span class="line">	<span class="built_in">print</span>(var)</span><br><span class="line">	file:<span class="built_in">write</span>(var)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">file:<span class="built_in">close</span>()  <span class="comment">--å…³é—­æ–‡ä»¶å¯¹è±¡</span></span><br><span class="line">conn:<span class="built_in">close</span>()  <span class="comment">--å…³é—­æ•°æ®åº“è¿æ¥</span></span><br><span class="line">env:<span class="built_in">close</span>()   <span class="comment">--å…³é—­æ•°æ®åº“ç¯å¢ƒ</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>è¾“å‡ºæ–‡ä»¶ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">updated 2020-05-10 01:07:14</span><br><span class="line">city_name åŒ—äº¬å¸‚</span><br><span class="line">province_id 10000</span><br><span class="line">device_package_name DA_12345_display_1.png</span><br><span class="line">province_name åŒ—äº¬å¸‚</span><br><span class="line">device_model 11111</span><br><span class="line">device_name OTT</span><br><span class="line">platform display</span><br><span class="line">device_type DA</span><br><span class="line">created 2020-05-10 01:07:14</span><br><span class="line">city_id 101010100</span><br><span class="line">sn 0000D911377778888203206688770000</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h2 id="cjsonå®‰è£…åŠä½¿ç”¨"><a href="#cjsonå®‰è£…åŠä½¿ç”¨" class="headerlink" title="cjsonå®‰è£…åŠä½¿ç”¨"></a>cjsonå®‰è£…åŠä½¿ç”¨</h2><ol>
<li><p>ä½¿ç”¨luarockså®‰è£…cjsonï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> å¦‚æœä½ æ˜¯lua5.3ä»¥ä¸Š å»é™¤æ—§å®‰è£…çš„</span></span><br><span class="line">luarocks remove lua-cjson</span><br><span class="line">luarocks install lua-cjson 2.1.0-1</span><br></pre></td></tr></table></figure>
</li>
<li><p>å¦‚æœä¸æ¢ç‰ˆæœ¬ï¼Œå¯èƒ½ä¼šå‡ºç°ä¸‹é¢çš„é—®é¢˜ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">error loading module 'cjson' from file '/usr/local/lib/lua/5.3/cjson.so':</span><br><span class="line">    dlopen(/usr/local/lib/lua/5.3/cjson.so, 6): Symbol not found: _lua_objlen</span><br><span class="line">  Referenced from: /usr/local/lib/lua/5.3/cjson.so</span><br><span class="line">  Expected in: flat namespace</span><br><span class="line"> in /usr/local/lib/lua/5.3/cjson.so</span><br><span class="line">stack traceback:</span><br><span class="line">    [C]: in ?</span><br><span class="line">    [C]: in function 'require'</span><br><span class="line">    stdin:1: in main chunk</span><br><span class="line">    [C]: in ?</span><br></pre></td></tr></table></figure>
</li>
<li><p>æµ‹è¯•è„šæœ¬ï¼š</p>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">#!/usr/<span class="keyword">local</span>/bin/lua</span><br><span class="line"><span class="keyword">local</span> cjson = <span class="built_in">require</span> <span class="string">"cjson"</span></span><br><span class="line">json = cjson.new()</span><br><span class="line">json_text = <span class="string">'&#123; "foo": "bar" &#125;'</span></span><br><span class="line">value = json.decode(json_text)</span><br><span class="line"><span class="keyword">for</span> k,v <span class="keyword">in</span> <span class="built_in">pairs</span>(value) <span class="keyword">do</span> </span><br><span class="line">	<span class="built_in">print</span>(<span class="string">"json"</span>, k, v) </span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">--[[</span></span><br><span class="line"><span class="comment">è¾“å‡ºï¼š</span></span><br><span class="line"><span class="comment">json	foo	bar</span></span><br><span class="line"><span class="comment">--]]</span></span><br></pre></td></tr></table></figure>

</li>
</ol>
<hr>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>Luaçš„åŸºç¡€è¯­æ³•å…¥é—¨è¿˜æ˜¯éå¸¸å¿«çš„ï¼Œæ¯•ç«Ÿæ˜¯è½»é‡çº§çš„è„šæœ¬è¯­è¨€ï¼è¿™éƒ¨åˆ†ä¸»è¦æ˜¯è®°å½•ä¸‹åœ¨ä½¿ç”¨Luaè¿‡ç¨‹ä¸­è¸©è¿‡çš„å‘ï¼Œä»¥åŠè§£å†³åŠæ³•ï¼Œåç»­å¦‚æœæœ‰æ·±å‘ï¼Œè¿˜æ˜¯éœ€è¦æŒç»­è®°å½•çš„ï¼æœªå®Œå¾…ç»­â€¦ â€¦</p>
]]></content>
      <categories>
        <category>Lua</category>
      </categories>
  </entry>
  <entry>
    <title>MongoDB Quick Start</title>
    <url>/2020/06/26/MongoDB-Quick-Start/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>MongoDBæ˜¯ä¸€ä¸ªé«˜æ€§èƒ½ã€å¼€æºã€æ— æ¨¡å¼çš„æ–‡æ¡£å‹æ•°æ®åº“ï¼Œæ˜¯å½“å‰NoSQLæ•°æ®åº“äº§å“ä¸­æ¯”è¾ƒçƒ­é—¨çš„ä¸€ç§ã€‚åœ¨è®¸å¤šåœºæ™¯ä¸‹å¯ç”¨äºæ›¿ä»£ä¼ ç»Ÿçš„å…³ç³»å‹æ•°æ®åº“æˆ–é”®/å€¼å­˜å‚¨æ–¹å¼ï¼åº”ç”¨æœ‰æ¨¡å¼è‡ªç”±ã€ç®€æ˜“å¤åˆ¶ã€ç®€å•çš„ APIã€æœ€ç»ˆçš„ä¸€è‡´æ€§ï¼ˆé ACIDï¼‰ã€å¤§å®¹é‡æ•°æ®ç­‰ã€‚NoSQL è¢«æˆ‘ä»¬ç”¨å¾—æœ€å¤šçš„å½“æ•° key-value å­˜å‚¨ï¼Œå½“ç„¶è¿˜æœ‰å…¶ä»–çš„æ–‡æ¡£å‹çš„ã€åˆ—å­˜å‚¨ã€å›¾å‹æ•°æ®åº“ã€xml æ•°æ®åº“ç­‰ã€‚ <strong>æ¨èä¹¦ç±ï¼šã€ŠMongoDBå®æˆ˜ã€‹Â· [ä¸­]  ç‹æ–‡é¾™ è‘—</strong></p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="ä¸ºä»€ä¹ˆéœ€è¦NoSQL"><a href="#ä¸ºä»€ä¹ˆéœ€è¦NoSQL" class="headerlink" title="ä¸ºä»€ä¹ˆéœ€è¦NoSQL"></a>ä¸ºä»€ä¹ˆéœ€è¦NoSQL</h2><ol>
<li>High performance - å¯¹æ•°æ®åº“é«˜å¹¶å‘è¯»å†™çš„éœ€æ±‚</li>
<li>Huge Storage - å¯¹æµ·é‡æ•°æ®çš„é«˜æ•ˆç‡å­˜å‚¨å’Œè®¿é—®çš„éœ€æ±‚</li>
<li>High Scalability &amp;&amp; High Availability - å¯¹æ•°æ®åº“çš„é«˜å¯æ‰©å±•æ€§å’Œé«˜å¯ç”¨æ€§çš„éœ€æ±‚</li>
<li>å…³ç³»æ•°æ®åº“åœ¨è¿™äº›è¶Šæ¥è¶Šå¤šçš„åº”ç”¨åœºæ™¯ä¸‹æ˜¾å¾—ä¸é‚£ä¹ˆåˆé€‚äº†ï¼Œä¸ºäº†è§£å†³è¿™ç±»é—®é¢˜çš„ NoSQL æ•°æ®åº“åº”è¿è€Œç”Ÿ!</li>
<li>NoSQLç‰¹ç‚¹ï¼š<ul>
<li>å¯ä»¥å¤„ç†è¶…å¤§é‡çš„æ•°æ®</li>
<li>è¿è¡Œåœ¨ä¾¿å®œçš„ PC æœåŠ¡å™¨é›†ç¾¤ä¸Š</li>
<li>å‡»ç¢äº†æ€§èƒ½ç“¶é¢ˆ</li>
<li>æ²¡æœ‰è¿‡å¤šçš„æ“ä½œ</li>
<li>æ”¯æŒå®ƒçš„æ”¯æŒè€…æºäºç¤¾åŒºï¼Œå¼€æº</li>
</ul>
</li>
</ol>
<h2 id="MongoDB"><a href="#MongoDB" class="headerlink" title="MongoDB"></a>MongoDB</h2><ol>
<li><p>MongoDB æ˜¯ä¸€ä¸ªä»‹äºå…³ç³»æ•°æ®åº“å’Œéå…³ç³»æ•°æ®åº“ä¹‹é—´çš„äº§å“ï¼Œæ˜¯éå…³ç³»æ•°æ®åº“å½“ä¸­åŠŸèƒ½æœ€ä¸°å¯Œï¼Œæœ€åƒå…³ç³»æ•°æ®åº“çš„éå…³ç³»å‹æ•°æ®åº“ï¼›</p>
</li>
<li><p>æŸ¥è¯¢è¯­æ³•æœ‰ç‚¹ç±»ä¼¼äºé¢å‘å¯¹è±¡çš„æŸ¥è¯¢è¯­è¨€ï¼Œå‡ ä¹å¯ä»¥å®ç°ç±»ä¼¼å…³ç³»æ•°æ®åº“å•è¡¨æŸ¥è¯¢çš„ç»å¤§éƒ¨åˆ†åŠŸèƒ½ï¼Œ è€Œä¸”è¿˜æ”¯æŒå¯¹æ•°æ®å»ºç«‹ç´¢å¼•ï¼›</p>
</li>
<li><p>æ•°æ®è¢«åˆ†ç»„å­˜å‚¨åœ¨æ•°æ®é›†ä¸­ï¼Œ è¢«ç§°ä¸ºä¸€ä¸ªé›†åˆï¼ˆCollenction)ã€‚æ¯ä¸ªé›†åˆåœ¨æ•°æ®åº“ä¸­éƒ½æœ‰ä¸€ä¸ªå”¯ä¸€çš„æ ‡è¯†åï¼Œ å¹¶ä¸”å¯ä»¥åŒ…å«æ— é™æ•°ç›®çš„æ–‡æ¡£ï¼›</p>
</li>
<li><p>MongoDBç‰¹ç‚¹ï¼š</p>
<ul>
<li>é¢å‘é›†åˆå­˜å‚¨ï¼Œæ˜“äºå­˜å‚¨å¯¹è±¡ç±»å‹çš„æ•°æ®</li>
<li>æ¨¡å¼è‡ªç”±</li>
<li>æ”¯æŒåŠ¨æ€æŸ¥è¯¢</li>
<li>æ”¯æŒå®Œå…¨ç´¢å¼•ï¼ŒåŒ…å«å†…éƒ¨å¯¹è±¡</li>
<li>æ”¯æŒæŸ¥è¯¢</li>
<li>æ”¯æŒå¤åˆ¶å’Œæ•…éšœæ¢å¤</li>
<li>ä½¿ç”¨é«˜æ•ˆçš„äºŒè¿›åˆ¶æ•°æ®å­˜å‚¨ï¼ŒåŒ…æ‹¬å¤§å‹å¯¹è±¡ï¼ˆå¦‚è§†é¢‘ç­‰ï¼‰</li>
<li>è‡ªåŠ¨å¤„ç†ç¢ç‰‡ï¼Œä»¥æ”¯æŒäº‘è®¡ç®—å±‚æ¬¡çš„æ‰©å±•æ€§</li>
<li>æ”¯æŒ Pythonï¼ŒPHPï¼ŒRubyï¼ŒJavaï¼ŒCï¼ŒC#ï¼ŒJavascriptï¼ŒPerl åŠ C++è¯­è¨€çš„é©±åŠ¨ç¨‹åº</li>
<li>æ–‡ä»¶å­˜å‚¨æ ¼å¼ä¸º BSONï¼ˆä¸€ç§ JSON çš„æ‰©å±•ï¼‰</li>
<li>å¯é€šè¿‡ç½‘ç»œè®¿é—®</li>
</ul>
</li>
<li><p>MongoDBé€‚åº”åœºæ™¯ï¼š</p>
<ul>
<li>ç½‘ç«™æ•°æ®</li>
<li>ç¼“å­˜</li>
<li>å¤§å°ºå¯¸ï¼Œä½ä»·å€¼çš„æ•°æ®</li>
<li>é«˜ä¼¸ç¼©æ€§çš„åœºæ™¯</li>
<li>ç”¨äºå¯¹è±¡åŠ JSON æ•°æ®çš„å­˜å‚¨</li>
</ul>
</li>
<li><p>MongoDB æ˜¯ä¸€ä¸ªå¯ç§»æ¤çš„æ•°æ®åº“ï¼Œåœ¨æµè¡Œçš„æ¯ä¸€ä¸ªå¹³å°ä¸Šéƒ½å¯ä»¥ä½¿ç”¨ï¼Œå³æ‰€è°“çš„è·¨å¹³å°ç‰¹æ€§ï¼</p>
</li>
<li><p>MongoDBé€»è¾‘ç»“æ„ï¼š</p>
<ul>
<li>MongoDB çš„æ–‡æ¡£ï¼ˆdocumentï¼‰ï¼Œç›¸å½“äºå…³ç³»æ•°æ®åº“ä¸­çš„ä¸€è¡Œè®°å½•</li>
<li>å¤šä¸ªæ–‡æ¡£ç»„æˆä¸€ä¸ªé›†åˆï¼ˆcollectionï¼‰ï¼Œç›¸å½“äºå…³ç³»æ•°æ®åº“çš„è¡¨</li>
<li>å¤šä¸ªé›†åˆï¼ˆcollectionï¼‰ï¼Œé€»è¾‘ä¸Šç»„ç»‡åœ¨ä¸€èµ·ï¼Œå°±æ˜¯æ•°æ®åº“ï¼ˆdatabaseï¼‰</li>
<li>ä¸€ä¸ª MongoDB å®ä¾‹æ”¯æŒå¤šä¸ªæ•°æ®åº“ï¼ˆdatabaseï¼‰</li>
</ul>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/6fe3a7b6d60c95ebc59023ad3e806c87-992252" alt="å…³ç³»å›¾"></p>
</li>
<li><p>MongoDB æ”¯æŒçš„æ•°æ®ç±»å‹ä¸­ï¼Œ_id æ˜¯å…¶è‡ªæœ‰äº§ç‰©ï¼Œå­˜å‚¨åœ¨ MongoDB é›†åˆä¸­çš„æ¯ä¸ªæ–‡æ¡£ï¼ˆdocumentï¼‰éƒ½æœ‰ä¸€ä¸ªé»˜è®¤çš„ä¸»é”®_idï¼Œè¿™ä¸ªä¸»é”®åç§°æ˜¯ å›ºå®šçš„ï¼Œå®ƒå¯ä»¥æ˜¯ MongoDB æ”¯æŒçš„ä»»ä½•æ•°æ®ç±»å‹ï¼Œé»˜è®¤æ˜¯ ObjectIdï¼›</p>
</li>
<li><p>MongoDB shell é¿å…æ¸¸æ ‡å¯èƒ½å¸¦æ¥çš„å¼€é”€, æä¾›ä¸€ä¸ª findOne() å‡½æ•°. è¿™ä¸ªå‡½æ•°å’Œ find() å‡½æ•°ä¸€æ ·, ä¸è¿‡å®ƒè¿”å›çš„æ˜¯æ¸¸æ ‡é‡Œç¬¬ä¸€æ¡æ•°æ®, æˆ–è€…è¿”å› nullï¼Œå³ç©ºæ•°æ®ï¼›</p>
</li>
<li><p>ä½¿ç”¨update()å‡½æ•°æ¥ä¿®æ”¹è®°å½•ï¼›</p>
</li>
<li><p>ä½¿ç”¨remove()å‡½æ•°æ¥åˆ é™¤è®°å½•ï¼›</p>
</li>
<li><p>MongoDBé»˜è®¤åœ¨binç›®å½•ä¸‹æä¾›äº†ä¸€äº›æœ‰ç”¨çš„å·¥å…·ï¼š</p>
<ul>
<li>bsondump: å°† bson æ ¼å¼çš„æ–‡ä»¶è½¬å‚¨ä¸º json æ ¼å¼çš„æ•°æ®</li>
<li>mongo: å®¢æˆ·ç«¯å‘½ä»¤è¡Œå·¥å…·ï¼Œå…¶å®ä¹Ÿæ˜¯ä¸€ä¸ª js è§£é‡Šå™¨ï¼Œæ”¯æŒ js è¯­æ³•</li>
<li>mongod: æ•°æ®åº“æœåŠ¡ç«¯ï¼Œæ¯ä¸ªå®ä¾‹å¯åŠ¨ä¸€ä¸ªè¿›ç¨‹ï¼Œå¯ä»¥ fork ä¸ºåå°è¿è¡Œ</li>
<li>mongodump/ mongorestore: æ•°æ®åº“å¤‡ä»½å’Œæ¢å¤å·¥å…·</li>
<li>mongoexport/ mongoimport: æ•°æ®å¯¼å‡ºå’Œå¯¼å…¥å·¥å…·</li>
<li>mongofiles: GridFS ç®¡ç†å·¥å…·ï¼Œå¯å®ç°äºŒåˆ¶æ–‡ä»¶çš„å­˜å–</li>
<li>mongos: åˆ†ç‰‡è·¯ç”±ï¼Œå¦‚æœä½¿ç”¨äº† sharding åŠŸèƒ½ï¼Œåˆ™åº”ç”¨ç¨‹åºè¿æ¥çš„æ˜¯ mongos è€Œä¸æ˜¯mongod</li>
<li>mongosniff: è¿™ä¸€å·¥å…·çš„ä½œç”¨ç±»ä¼¼äº tcpdumpï¼Œä¸åŒçš„æ˜¯ä»–åªç›‘æ§ MongoDB ç›¸å…³çš„åŒ…è¯·æ±‚ï¼Œå¹¶ä¸”æ˜¯ä»¥æŒ‡å®šçš„å¯è¯»æ€§çš„å½¢å¼è¾“å‡º</li>
<li>mongostat: å®æ—¶æ€§èƒ½ç›‘æ§å·¥å…·</li>
</ul>
</li>
<li><p>å¯è§†åŒ–å®¢æˆ·ç«¯ï¼š</p>
<ul>
<li>MongoVUE</li>
<li>RockMongo</li>
<li>MongoHub</li>
</ul>
</li>
</ol>
<h2 id="MongoDBé«˜çº§æŸ¥è¯¢"><a href="#MongoDBé«˜çº§æŸ¥è¯¢" class="headerlink" title="MongoDBé«˜çº§æŸ¥è¯¢"></a>MongoDBé«˜çº§æŸ¥è¯¢</h2><ol>
<li><p>æ¡ä»¶æ“ä½œç¬¦ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">db.collection.find(&#123; <span class="string">"field"</span> : &#123; <span class="attr">$gt</span>: value &#125; &#125; ); <span class="comment">// å¤§äº: field &gt; value </span></span><br><span class="line">db.collection.find(&#123; <span class="string">"field"</span> : &#123; <span class="attr">$lt</span>: value &#125; &#125; ); <span class="comment">// å°äº: field &lt; value </span></span><br><span class="line">db.collection.find(&#123; <span class="string">"field"</span> : &#123; <span class="attr">$gte</span>: value &#125; &#125; ); <span class="comment">// å¤§äºç­‰äº: field &gt;= value </span></span><br><span class="line">db.collection.find(&#123; <span class="string">"field"</span> : &#123; <span class="attr">$lte</span>: value &#125; &#125; ); <span class="comment">// å°äºç­‰äº: field &lt;= value</span></span><br><span class="line">db.collection.find(&#123; <span class="string">"field"</span> : &#123; <span class="attr">$gt</span>: value1, <span class="attr">$lt</span>: value2 &#125; &#125; ); <span class="comment">// value1 &lt; field &lt; value</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>åŒ¹é…æ‰€æœ‰:</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">db.users.find(&#123;<span class="attr">age</span> : &#123;<span class="attr">$all</span> : [<span class="number">6</span>, <span class="number">8</span>]&#125;&#125;); <span class="comment">// å¿…é¡»æ»¡è¶³[]ä¸­æ‰€æœ‰å€¼</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>åˆ¤æ–­å­—æ®µæ˜¯å¦å­˜åœ¨ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">db.users.find(&#123;<span class="attr">age</span>: &#123;<span class="attr">$exists</span>: <span class="literal">true</span>&#125;&#125;); <span class="comment">//æŸ¥è¯¢æ‰€æœ‰å­˜åœ¨ageå­—æ®µçš„è®°å½•</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>å–æ¨¡è¿ç®—ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">db.student.find( &#123; <span class="attr">age</span>: &#123; <span class="attr">$mod</span> : [ <span class="number">10</span> , <span class="number">1</span> ] &#125; &#125; ) <span class="comment">// æŸ¥è¯¢ age å–æ¨¡ 10 ç­‰äº 1 çš„æ•°æ®</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>ä¸ç­‰äº:</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">db.things.find( &#123; <span class="attr">x</span> : &#123; <span class="attr">$ne</span> : <span class="number">3</span> &#125; &#125; ); <span class="comment">// æŸ¥è¯¢ x çš„å€¼ä¸ç­‰äº 3 çš„æ•°æ®</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>åŒ…å«&amp;ä¸åŒ…å«ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">db.things.find(&#123;<span class="attr">x</span>:&#123;<span class="attr">$in</span>: [<span class="number">2</span>,<span class="number">4</span>,<span class="number">6</span>]&#125;&#125;);<span class="comment">// æŸ¥è¯¢ x çš„å€¼åœ¨ 2,4,6 èŒƒå›´å†…çš„æ•°æ®</span></span><br><span class="line">db.things.find(&#123;<span class="attr">x</span>:&#123;<span class="attr">$nin</span>: [<span class="number">2</span>,<span class="number">4</span>,<span class="number">6</span>]&#125;&#125;); <span class="comment">// æŸ¥è¯¢ x çš„å€¼åœ¨ 2,4,6 èŒƒå›´å¤–çš„æ•°æ®</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>æ•°ç»„å…ƒç´ ä¸ªæ•°ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">db.users.find(&#123;<span class="attr">favorite_number</span>: &#123;<span class="attr">$size</span>: <span class="number">3</span>&#125;&#125;); <span class="comment">// favorite_numberæ•°ç»„é•¿åº¦å¿…é¡»3æ‰åŒ¹é…</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>æ”¯æŒæ­£åˆ™è¡¨è¾¾å¼åŒ¹é…ï¼</p>
</li>
<li><p>MongoDB ç”¨æ¸¸æ ‡æ¥å¾ªç¯å¤„ç†æ¯ä¸€æ¡ç»“æœæ•°æ®ï¼›</p>
</li>
</ol>
<h2 id="Capped-Collection"><a href="#Capped-Collection" class="headerlink" title="Capped Collection"></a>Capped Collection</h2><ol>
<li>capped collections æ˜¯æ€§èƒ½å‡ºè‰²çš„æœ‰ç€å›ºå®šå¤§å°çš„é›†åˆï¼Œä»¥ LRU(Least Recently Used æœ€è¿‘æœ€å°‘ä½¿ç”¨)è§„åˆ™å’Œæ’å…¥é¡ºåºè¿›è¡Œ age-out(è€åŒ–ç§»å‡º)å¤„ç†ï¼Œè‡ªåŠ¨ç»´æŠ¤é›†åˆä¸­å¯¹è±¡çš„æ’å…¥é¡ºåºï¼Œåœ¨åˆ›å»ºæ—¶è¦é¢„å…ˆæŒ‡å®šå¤§å°ï¼</li>
<li>å¯ä»¥æ’å…¥åŠæ›´æ–°ï¼Œä½†æ›´æ–°ä¸èƒ½è¶…å‡º collection çš„å¤§å°ï¼Œå¦åˆ™æ›´æ–°å¤±è´¥ï¼›</li>
<li>ä¸å…è®¸åˆ é™¤ï¼Œä½†æ˜¯å¯ä»¥è°ƒç”¨ drop() åˆ é™¤é›†åˆä¸­çš„æ‰€æœ‰è¡Œï¼Œä½†æ˜¯ drop åéœ€è¦æ˜¾å¼åœ°é‡å»ºé›†åˆï¼›</li>
<li>ç”¨å¤„ï¼š<ul>
<li>loggingâ€”â€”MongoDB ä¸­æ—¥å¿—æœºåˆ¶çš„é¦–é€‰ï¼ŒMongoDB æ²¡æœ‰ä½¿ç”¨æ—¥å¿—æ–‡ä»¶ï¼Œè€Œæ˜¯æŠŠæ—¥å¿—äº‹ä»¶å­˜å‚¨åœ¨æ•°æ®åº“ä¸­</li>
<li>cacheâ€”â€”ç¼“å­˜ä¸€äº›å¯¹è±¡åœ¨æ•°æ®åº“ä¸­ï¼Œæ¯”å¦‚è®¡ç®—å‡ºæ¥çš„ç»Ÿè®¡ä¿¡æ¯</li>
<li>auto archivingâ€”â€”å¯ä»¥åˆ©ç”¨ capped collection çš„ age-out ç‰¹æ€§ï¼Œçœå»äº†å†™ cron è„šæœ¬è¿›è¡Œäººå·¥å½’æ¡£çš„å·¥ä½œ</li>
</ul>
</li>
</ol>
<h2 id="GridFS"><a href="#GridFS" class="headerlink" title="GridFS"></a>GridFS</h2><ol>
<li>GridFS æ˜¯ä¸€ç§å°†å¤§å‹æ–‡ä»¶å­˜å‚¨åœ¨ MongoDB æ•°æ®åº“ä¸­çš„æ–‡ä»¶è§„èŒƒï¼›</li>
<li>å¯ä»¥å°†ä¸€ä¸ªå¤§æ–‡ä»¶åˆ†å‰²æˆä¸ºå¤šä¸ªè¾ƒå°çš„æ–‡æ¡£ï¼Œè¿™æ ·çš„æœºåˆ¶å…è®¸æˆ‘ä»¬æœ‰æ•ˆçš„ä¿å­˜å¤§æ–‡ä»¶å¯¹è±¡ï¼Œç‰¹åˆ«å¯¹äºé‚£äº›å·¨å¤§çš„æ–‡ä»¶ï¼Œæ¯”å¦‚è§†é¢‘ã€é«˜æ¸…å›¾ç‰‡ç­‰ï¼›</li>
<li>GridFS å¯¹ Java, Perl, PHP, Python, Ruby ç­‰ç¨‹åºè¯­è¨€å‡æ”¯æŒï¼Œä¸”æä¾›äº†è‰¯å¥½çš„ API æ¥å£ï¼›</li>
<li>GridFS ä½¿ç”¨ä¸¤ä¸ªè¡¨æ¥å­˜å‚¨æ•°æ®ï¼š<ul>
<li>files åŒ…å«å…ƒæ•°æ®å¯¹è±¡  </li>
<li>chunks åŒ…å«å…¶ä»–ä¸€äº›ç›¸å…³ä¿¡æ¯çš„äºŒè¿›åˆ¶å—</li>
</ul>
</li>
</ol>
<hr>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>åªæœ‰åœ¨å®æˆ˜ä¸­æ‰èƒ½æ„Ÿå—åˆ°MongoDBçš„å¼ºå¤§ï¼Œæµ·é‡æ•°æ®çš„å¤„ç†ä»¥åŠé›†ç¾¤éƒ½æ²¡æœ‰è¿›è¡Œè¯¦ç»†ä»‹ç»ï¼Œåœ¨å®é™…çš„é›†ç¾¤é…ç½®æ—¶å†è®°å½•ï¼</p>
]]></content>
      <categories>
        <category>NoSQL</category>
      </categories>
  </entry>
  <entry>
    <title>Logstash Quick Start</title>
    <url>/2020/05/11/Logstash-Quick-Start/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p><a href="https://www.elastic.co/cn/logstash" target="_blank" rel="noopener">Logstash</a>æ˜¯ä¸€ä¸ªéå¸¸å¼ºå¤§çš„å·¥å…·ï¼Œå¯ä»¥è¿›è¡Œè§£æã€ä¸°å¯Œã€è½¬æ¢ä»¥åŠç¼“å†²æ¥è‡ªå„ç§æ•°æ®æºçš„æ•°æ®ï¼ŒELKæ ˆå°±æ˜¯ä¸€ç§éå¸¸æˆç†Ÿçš„å¼€æºæ—¥å¿—åˆ†ææœç´¢å¼•æ“æŠ€æœ¯æ ˆï¼Œå…¶ä¸­çš„Lå°±æ˜¯Logstashçš„ç¼©å†™ï¼Œå½“ç„¶ç°åœ¨ç”±äºFileBeatsçš„å‡ºç°ï¼Œç°åœ¨çš„æŠ€æœ¯æ ˆç§°ä¸ºELKBï¼ŒLogstashå¯ä»¥å¸®åˆ©ç”¨å®ƒè‡ªå·±çš„Filterå¸®æˆ‘ä»¬å¯¹æ•°æ®è¿›è¡Œè§£æï¼Œä¸°å¯Œï¼Œè½¬æ¢ç­‰ï¼</p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="ç¯å¢ƒè¯´æ˜"><a href="#ç¯å¢ƒè¯´æ˜" class="headerlink" title="ç¯å¢ƒè¯´æ˜"></a>ç¯å¢ƒè¯´æ˜</h2><ol>
<li>ELKç‰ˆæœ¬ï¼š7.6.2</li>
<li>Dockerç‰ˆæœ¬ï¼š19.03.8</li>
<li>æ“ä½œç³»ç»Ÿï¼šmacOS Catalina 10.15.4</li>
<li>å¤„ç†å™¨ï¼š i5 å››æ ¸ 3.3GHz</li>
<li>å†…å­˜ï¼š8G DDR3</li>
</ol>
<h2 id="Logstashæ¨¡å—"><a href="#Logstashæ¨¡å—" class="headerlink" title="Logstashæ¨¡å—"></a>Logstashæ¨¡å—</h2><ol>
<li>Logstash èƒ½å¤ŸåŠ¨æ€åœ°é‡‡é›†ã€è½¬æ¢å’Œä¼ è¾“æ•°æ®ï¼Œä¸å—æ ¼å¼æˆ–å¤æ‚åº¦çš„å½±å“ã€‚åˆ©ç”¨ Grok ä»éç»“æ„åŒ–æ•°æ®ä¸­æ´¾ç”Ÿå‡ºç»“æ„ï¼Œä» IP åœ°å€è§£ç å‡ºåœ°ç†åæ ‡ï¼ŒåŒ¿ååŒ–æˆ–æ’é™¤æ•æ„Ÿå­—æ®µï¼Œå¹¶ç®€åŒ–æ•´ä½“å¤„ç†è¿‡ç¨‹ï¼›</li>
<li><strong>è¾“å…¥ï¼ˆå¿…é¡»ï¼‰</strong>ï¼šæ•°æ®å¾€å¾€ä»¥å„ç§å„æ ·çš„å½¢å¼ï¼Œæˆ–åˆ†æ•£æˆ–é›†ä¸­åœ°å­˜åœ¨äºå¾ˆå¤šç³»ç»Ÿä¸­ï¼Œå¯ä»¥åœ¨åŒä¸€æ—¶é—´ä»ä¼—å¤šå¸¸ç”¨æ¥æºæ•æ‰äº‹ä»¶ã€èƒ½å¤Ÿä»¥è¿ç»­çš„æµå¼ä¼ è¾“æ–¹å¼æ•è·æ—¥å¿—ã€æŒ‡æ ‡ã€Web åº”ç”¨ã€æ•°æ®å­˜å‚¨ä»¥åŠå„ç§ AWS æœåŠ¡é‡‡é›†æ•°æ®ï¼›<ul>
<li><img src="https://images.contentstack.io/v3/assets/bltefdd0b53724fa2ce/blt5939ba2e40ba0790/5d0d59d096d2d1b65a98422c/diagram-logstash-inputs.svg" alt="è¾“å…¥"></li>
<li><a href="https://www.elastic.co/guide/en/logstash/current/input-plugins.html" target="_blank" rel="noopener">è¾“å…¥æºæ ¼å¼</a></li>
</ul>
</li>
<li><strong>è¿‡æ»¤å™¨ï¼ˆå¯é€‰ï¼‰</strong>ï¼šè§£æå„ä¸ªäº‹ä»¶ï¼Œè¯†åˆ«å·²å‘½åçš„å­—æ®µä»¥æ„å»ºç»“æ„ï¼Œå¹¶å°†å®ƒä»¬è½¬æ¢æˆé€šç”¨æ ¼å¼ï¼Œä»¥ä¾¿æ›´è½»æ¾ã€æ›´å¿«é€Ÿåœ°åˆ†æå’Œå®ç°å•†ä¸šä»·å€¼ï¼›<ul>
<li>åˆ©ç”¨ Grok ä»éç»“æ„åŒ–æ•°æ®ä¸­æ´¾ç”Ÿå‡ºç»“æ„</li>
<li>ä» IP åœ°å€ç ´è¯‘å‡ºåœ°ç†åæ ‡</li>
<li>å°† PII æ•°æ®åŒ¿ååŒ–ï¼Œå®Œå…¨æ’é™¤æ•æ„Ÿå­—æ®µ</li>
<li>ç®€åŒ–æ•´ä½“å¤„ç†ï¼Œä¸å—æ•°æ®æºã€æ ¼å¼æˆ–æ¶æ„çš„å½±å“</li>
<li><img src="https://images.contentstack.io/v3/assets/bltefdd0b53724fa2ce/bltd908f368097df15a/5d0d59ed970556dd5800ed8b/diagram-logstash-filters.svg" alt="è¿‡æ»¤å™¨"></li>
<li><a href="https://www.elastic.co/guide/en/logstash/current/filter-plugins.html" target="_blank" rel="noopener">è¿‡æ»¤å™¨åº“æ ¼å¼</a></li>
</ul>
</li>
<li><strong>è¾“å‡ºï¼ˆå¿…é¡»ï¼‰</strong>ï¼šElasticsearch æ˜¯æˆ‘ä»¬çš„é¦–é€‰è¾“å‡ºæ–¹å‘ï¼Œä½†æ˜¯ä¹Ÿå¯ä»¥å¯¼å‡ºç»™å…¶ä»–çš„æœç´¢å¼•æ“ä»¥åŠæ—¥å¿—åˆ†ææ¡†æ¶ï¼›<ul>
<li><img src="https://images.contentstack.io/v3/assets/bltefdd0b53724fa2ce/blt169c0535507b407e/5d0d5a0fb58121dc58ed6a40/diagram-logstash-outputs.svg" alt="è¾“å‡º"></li>
<li><a href="https://www.elastic.co/guide/en/logstash/current/output-plugins.html" target="_blank" rel="noopener">è¾“å‡ºé€‰æ‹©</a></li>
</ul>
</li>
<li>æ’ä»¶ï¼šå¯æ’æ‹”æ¡†æ¶ï¼Œæ‹¥æœ‰ 200 å¤šä¸ªæ’ä»¶ï¼ˆæˆªæ­¢2020-05-11ä¸ºæ­¢ï¼‰ï¼Œå¯ä»¥å°†ä¸åŒçš„è¾“å…¥é€‰æ‹©ã€è¿‡æ»¤å™¨å’Œè¾“å‡ºé€‰æ‹©æ··åˆæ­é…ã€ç²¾å¿ƒå®‰æ’ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥å»æ„å»ºä¸€ä¸ªæ’ä»¶ï¼Œå®˜æ–¹æä¾›äº†ä¸€ä¸ªæå¥½çš„æ’ä»¶å¼€å‘ API å’Œæ’ä»¶ç”Ÿæˆå™¨ï¼›</li>
</ol>
<h2 id="ä¼˜åŠ¿"><a href="#ä¼˜åŠ¿" class="headerlink" title="ä¼˜åŠ¿"></a>ä¼˜åŠ¿</h2><ol>
<li>Logstash å¯ä»¥å¾ˆæ–¹ä¾¿åœ°å’ŒBeatsä¸€èµ·åˆä½œ</li>
<li>Logstash å¯ä»¥å’Œé‚£äº›è‘—åçš„äº‘å‚å•†çš„æœåŠ¡ä¸€èµ·åˆä½œå¤„ç†æ•°æ®</li>
<li>Logstash å¯ä»¥å’Œä¿¡æ¯æ¶ˆæ¯é˜Ÿåˆ—ç±»çš„æ•°æ®åˆ†æä»¥åŠå­˜å‚¨æœåŠ¡ï¼Œæ¯”å¦‚redisæˆ–kafkaä¸€èµ·åä½œ</li>
<li>Logstash å¯ä»¥ä½¿ç”¨JDBCæ¥è®¿é—®RDMSæ•°æ®</li>
<li>Logstash å¯ä»¥å’ŒIoTè®¾å¤‡ä¸€èµ·å¤„ç†å®ƒä»¬çš„æ•°æ®</li>
<li>Logstash å¯ä»¥è¾“å‡ºåˆ°å¾ˆå¤šå…¶ä»–ç›®çš„åœ°</li>
<li>Beatsçš„æ•°æ®å¯ä»¥æœ‰å¦‚ä¸‹çš„ä¸‰ç§æ–¹å¼å¯¼å…¥åˆ°Elasticsearchä¸­ï¼š<ul>
<li>Beats ==&gt; Elasticsearch</li>
<li><strong>Beats ==&gt; Logstash ==&gt; Elasticsearch</strong></li>
<li><strong>Beats ==&gt; Kafka ==&gt; Logstash ==&gt; Elasticsearch</strong></li>
</ul>
</li>
</ol>
<h2 id="å®‰è£…-amp-è¿è¡Œ"><a href="#å®‰è£…-amp-è¿è¡Œ" class="headerlink" title="å®‰è£…&amp;è¿è¡Œ"></a>å®‰è£…&amp;è¿è¡Œ</h2><ol>
<li><p>macOSä¸Šå®‰è£…ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">brew install logstash</span><br></pre></td></tr></table></figure>
</li>
<li><p>dockerä¸‹å®‰è£…ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker pull logstash:7.6.2</span><br></pre></td></tr></table></figure>
</li>
<li><p>åŸºç¡€è¿è¡Œï¼šé»˜è®¤æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬éœ€è¦è·Ÿä¸Šä¸€äº›é€‰é¡¹æ‰å¯ä»¥å¯åŠ¨Logstashï¼Œå¦åˆ™å®ƒä¼šé€€å‡ºï¼ŒLogstashç®¡é“æœ‰ä¸¤ä¸ªå¿…éœ€å…ƒç´ ï¼Œè¾“å…¥å’Œè¾“å‡ºï¼Œä»¥åŠä¸€ä¸ªå¯é€‰å…ƒç´ filterï¼› è¾“å…¥æ’ä»¶ä½¿ç”¨æ¥è‡ªæºçš„æ•°æ®ï¼Œè¿‡æ»¤å™¨æ’ä»¶åœ¨æ‚¨æŒ‡å®šæ—¶ä¿®æ”¹æ•°æ®ï¼Œè¾“å‡ºæ’ä»¶å°†æ•°æ®å†™å…¥ç›®æ ‡ï¼š</p>
<ol>
<li><p><img src="https://img-blog.csdnimg.cn/20190815211442347.png" alt="Logstashå·¥ä½œæµç¨‹"></p>
</li>
<li><p>æµ‹è¯•Logstashçš„ä½¿ç”¨ï¼Œè¿è¡Œæœ€åŸºæœ¬çš„è¾“å…¥è¾“å‡ºç®¡é“ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> ç›´æ¥ä»ç»ˆç«¯è·å–æ•°æ®ï¼Œç„¶åç›´æ¥è¾“å‡º</span></span><br><span class="line">logstash -e 'input &#123; stdin &#123; &#125; &#125; output &#123; stdout &#123;&#125; &#125;'</span><br></pre></td></tr></table></figure>
</li>
<li><p>æµ‹è¯•è¾“å‡ºï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">Sending Logstash logs to /usr/local/Cellar/logstash/7.6.2/libexec/logs which is now configured via log4j2.properties</span><br><span class="line">[2020-05-11T13:49:37,785][WARN ][logstash.config.source.multilocal] Ignoring the 'pipelines.yml' file because modules or command line options are specified</span><br><span class="line">[2020-05-11T13:49:37,899][INFO ][logstash.runner          ] Starting Logstash &#123;"logstash.version"=&gt;"7.6.2"&#125;</span><br><span class="line">[2020-05-11T13:49:39,301][INFO ][org.reflections.Reflections] Reflections took 45 ms to scan 1 urls, producing 20 keys and 40 values</span><br><span class="line">[2020-05-11T13:49:40,552][WARN ][org.logstash.instrument.metrics.gauge.LazyDelegatingGauge][main] A gauge metric of an unknown type (org.jruby.RubyArray) has been created for key: cluster_uuids. This may result in invalid serialization.  It is recommended to log an issue to the responsible developer/development team.</span><br><span class="line">[2020-05-11T13:49:40,576][INFO ][logstash.javapipeline    ][main] Starting pipeline &#123;:pipeline_id=&gt;"main", "pipeline.workers"=&gt;4, "pipeline.batch.size"=&gt;125, "pipeline.batch.delay"=&gt;50, "pipeline.max_inflight"=&gt;500, "pipeline.sources"=&gt;["config string"], :thread=&gt;"#&lt;Thread:0x4378e094 run&gt;"&#125;</span><br><span class="line">[2020-05-11T13:49:41,463][INFO ][logstash.javapipeline    ][main] Pipeline started &#123;"pipeline.id"=&gt;"main"&#125;</span><br><span class="line">The stdin plugin is now waiting for input:</span><br><span class="line">[2020-05-11T13:49:41,517][INFO ][logstash.agent           ] Pipelines running &#123;:count=&gt;1, :running_pipelines=&gt;[:main], :non_running_pipelines=&gt;[]&#125;</span><br><span class="line">[2020-05-11T13:49:41,747][INFO ][logstash.agent           ] Successfully started Logstash API endpoint &#123;:port=&gt;9600&#125;</span><br><span class="line">hello world</span><br><span class="line">/usr/local/Cellar/logstash/7.6.2/libexec/vendor/bundle/jruby/2.5.0/gems/awesome_print-1.7.0/lib/awesome_print/formatters/base_formatter.rb:31: warning: constant ::Fixnum is deprecated</span><br><span class="line">&#123;</span><br><span class="line">      "@version" =&gt; "1",</span><br><span class="line">    "@timestamp" =&gt; 2020-05-11T05:49:46.559Z,</span><br><span class="line">       "message" =&gt; "hello world",</span><br><span class="line">          "host" =&gt; "wanderROSdeiMac.local"</span><br><span class="line">&#125;</span><br><span class="line">This is a test</span><br><span class="line">&#123;</span><br><span class="line">      "@version" =&gt; "1",</span><br><span class="line">    "@timestamp" =&gt; 2020-05-11T05:49:58.031Z,</span><br><span class="line">       "message" =&gt; "This is a test",</span><br><span class="line">          "host" =&gt; "wanderROSdeiMac.local"</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä½¿ç”¨é…ç½®æ–‡ä»¶è¿›è¡Œè¾“å‡ºï¼š</p>
<ol>
<li><p>heartbeat.conf</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="string">input</span> <span class="string">&#123;</span></span><br><span class="line">  <span class="string">heartbeat</span> <span class="string">&#123;</span></span><br><span class="line">    <span class="string">interval</span> <span class="string">=&gt;</span> <span class="number">1</span></span><br><span class="line">    <span class="string">type</span> <span class="string">=&gt;</span> <span class="string">"heartbeat"</span></span><br><span class="line">  <span class="string">&#125;</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="string">output</span> <span class="string">&#123;</span></span><br><span class="line">  <span class="string">stdout</span> <span class="string">&#123;</span></span><br><span class="line">    <span class="string">codec</span> <span class="string">=&gt;</span> <span class="string">rubydebug</span></span><br><span class="line">  <span class="string">&#125;</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>ä½¿ç”¨é…ç½®æ–‡ä»¶ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">logstash -f heartbeat.conf</span><br></pre></td></tr></table></figure>
</li>
<li><p>è¾“å‡ºæ ·å¼ï¼š</p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">          "host" =&gt; "wanderROSdeiMac.local",</span><br><span class="line">      "@version" =&gt; "1",</span><br><span class="line">    "@timestamp" =&gt; 2020-05-11T06:04:23.424Z,</span><br><span class="line">       "message" =&gt; "ok",</span><br><span class="line">          "type" =&gt; "heartbeat"</span><br><span class="line">&#125;</span><br><span class="line">&#123;</span><br><span class="line">          "host" =&gt; "wanderROSdeiMac.local",</span><br><span class="line">      "@version" =&gt; "1",</span><br><span class="line">    "@timestamp" =&gt; 2020-05-11T06:04:24.420Z,</span><br><span class="line">       "message" =&gt; "ok",</span><br><span class="line">          "type" =&gt; "heartbeat"</span><br><span class="line">&#125;</span><br><span class="line">&#123;</span><br><span class="line">          "host" =&gt; "wanderROSdeiMac.local",</span><br><span class="line">      "@version" =&gt; "1",</span><br><span class="line">    "@timestamp" =&gt; 2020-05-11T06:04:25.422Z,</span><br><span class="line">       "message" =&gt; "ok",</span><br><span class="line">          "type" =&gt; "heartbeat"</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
<li><p>TCP input æ—¥å¿—ç›‘å¬ï¼š</p>
<ol>
<li><p>é€‰æ‹©ä¸‹è½½ä¸ªæ—¥å¿—æ–‡ä»¶ï¼Œæ¯”å¦‚<a href="https://ela.st/weblog-sample" target="_blank" rel="noopener">æ—¥å¿—</a>ï¼›</p>
</li>
<li><p>weblog.conf:</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="string">input</span> <span class="string">&#123;</span></span><br><span class="line">  <span class="string">tcp</span> <span class="string">&#123;</span></span><br><span class="line">    <span class="string">port</span> <span class="string">=&gt;</span> <span class="number">9900</span></span><br><span class="line">  <span class="string">&#125;</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="string">output</span> <span class="string">&#123;</span></span><br><span class="line">  <span class="string">stdout</span> <span class="string">&#123;</span> <span class="string">&#125;</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>å¯åŠ¨logstashï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">logstash -f weblog.conf</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä½¿ç”¨ç®¡é“ç­‰å‘½ä»¤ä¼ è¾“æ—¥å¿—ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">cat   apache-daily-access.log |nc localhost 9900</span><br></pre></td></tr></table></figure>
</li>
<li><p>è¾“å‡ºï¼ˆéƒ¨åˆ†ï¼‰ï¼š</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="string">&#123;</span></span><br><span class="line">    <span class="string">"@timestamp"</span> <span class="string">=&gt;</span> <span class="number">2020</span><span class="number">-05</span><span class="string">-11T06:17:10.710Z,</span></span><br><span class="line">          <span class="string">"port"</span> <span class="string">=&gt;</span> <span class="number">54756</span><span class="string">,</span></span><br><span class="line">      <span class="string">"@version"</span> <span class="string">=&gt;</span> <span class="string">"1"</span><span class="string">,</span></span><br><span class="line">          <span class="string">"host"</span> <span class="string">=&gt;</span> <span class="string">"localhost"</span><span class="string">,</span></span><br><span class="line">       <span class="string">"message"</span> <span class="string">=&gt;</span> <span class="string">"192.99.67.25 - - [09/May/2020:23:59:50 +0000] \"GET /item/electronics/2232 HTTP/1.1\" 200 41 \"/search/?c=Electronics\" \"Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/535.11 (KHTML, like Gecko) Chrome/17.0.963.56 Safari/535.11\""</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string">&#123;</span></span><br><span class="line">    <span class="string">"@timestamp"</span> <span class="string">=&gt;</span> <span class="number">2020</span><span class="number">-05</span><span class="string">-11T06:17:10.710Z,</span></span><br><span class="line">          <span class="string">"port"</span> <span class="string">=&gt;</span> <span class="number">54756</span><span class="string">,</span></span><br><span class="line">      <span class="string">"@version"</span> <span class="string">=&gt;</span> <span class="string">"1"</span><span class="string">,</span></span><br><span class="line">          <span class="string">"host"</span> <span class="string">=&gt;</span> <span class="string">"localhost"</span><span class="string">,</span></span><br><span class="line">       <span class="string">"message"</span> <span class="string">=&gt;</span> <span class="string">"44.114.32.84 - - [09/May/2020:23:59:55 +0000] \"GET /category/software HTTP/1.1\" 200 105 \"-\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10.6; rv:9.0.1) Gecko/20100101 Firefox/9.0.1\""</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
<li><p>ä¸Šè¿°éƒ½æ˜¯ç®€å•çš„logstashçš„æ•°æ®è¾“å…¥ä¸è¾“å‡ºï¼Œæƒ³è¦éœ€è¦è¿›è¡Œæ•°æ®æ ¼å¼çš„è½¬æ¢è¿˜éœ€è¦è¿‡æ»¤å™¨è¿›è¡Œå¤„ç†ï¼Œæ¥ä¸‹æ¥éƒ¨åˆ†ä»‹ç»è¿‡æ»¤å™¨ï¼›</p>
</li>
</ol>
<h2 id="è¿‡æ»¤å™¨"><a href="#è¿‡æ»¤å™¨" class="headerlink" title="è¿‡æ»¤å™¨"></a>è¿‡æ»¤å™¨</h2><ol>
<li><p>åœ¨åŸæ¥çš„é…ç½®æ–‡ä»¶ä¸­æ·»åŠ è¿‡æ»¤å™¨ï¼š</p>
<ol>
<li><p>ä¿®æ”¹åŸæ¥çš„weblog.confå†…å®¹ï¼š</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="string">input</span> <span class="string">&#123;</span></span><br><span class="line">  <span class="string">tcp</span> <span class="string">&#123;</span></span><br><span class="line">    <span class="string">port</span> <span class="string">=&gt;</span> <span class="number">9900</span></span><br><span class="line">  <span class="string">&#125;</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"> </span><br><span class="line"><span class="string">filter</span> <span class="string">&#123;</span></span><br><span class="line">  <span class="string">grok</span> <span class="string">&#123;</span></span><br><span class="line">    <span class="string">match</span> <span class="string">=&gt;</span> <span class="string">&#123;</span> <span class="string">"message"</span> <span class="string">=&gt;</span> <span class="string">"<span class="template-variable">%&#123;COMBINEDAPACHELOG&#125;</span>"</span> <span class="string">&#125;</span></span><br><span class="line">  <span class="string">&#125;</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"> </span><br><span class="line"><span class="string">output</span> <span class="string">&#123;</span></span><br><span class="line">  <span class="string">stdout</span> <span class="string">&#123;</span> <span class="string">&#125;</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>ä½¿ç”¨è¯¥é…ç½®æ–‡ä»¶ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">logstash -f weblog.conf</span><br></pre></td></tr></table></figure>
</li>
<li><p>è¾“å‡ºï¼ˆä¸€æ¡ï¼‰ï¼š</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="string">&#123;</span></span><br><span class="line">           <span class="string">"verb"</span> <span class="string">=&gt;</span> <span class="string">"GET"</span><span class="string">,</span></span><br><span class="line">     <span class="string">"@timestamp"</span> <span class="string">=&gt;</span> <span class="number">2020</span><span class="number">-05</span><span class="string">-11T06:28:36.603Z,</span></span><br><span class="line">       <span class="string">"clientip"</span> <span class="string">=&gt;</span> <span class="string">"192.99.67.25"</span><span class="string">,</span></span><br><span class="line">       <span class="string">"response"</span> <span class="string">=&gt;</span> <span class="string">"200"</span><span class="string">,</span></span><br><span class="line">    <span class="string">"httpversion"</span> <span class="string">=&gt;</span> <span class="string">"1.1"</span><span class="string">,</span></span><br><span class="line">          <span class="string">"bytes"</span> <span class="string">=&gt;</span> <span class="string">"41"</span><span class="string">,</span></span><br><span class="line">       <span class="string">"referrer"</span> <span class="string">=&gt;</span> <span class="string">"\"/search/?c=Electronics\""</span><span class="string">,</span></span><br><span class="line">           <span class="string">"host"</span> <span class="string">=&gt;</span> <span class="string">"localhost"</span><span class="string">,</span></span><br><span class="line">       <span class="string">"@version"</span> <span class="string">=&gt;</span> <span class="string">"1"</span><span class="string">,</span></span><br><span class="line">          <span class="string">"ident"</span> <span class="string">=&gt;</span> <span class="string">"-"</span><span class="string">,</span></span><br><span class="line">           <span class="string">"auth"</span> <span class="string">=&gt;</span> <span class="string">"-"</span><span class="string">,</span></span><br><span class="line">        <span class="string">"request"</span> <span class="string">=&gt;</span> <span class="string">"/item/electronics/2232"</span><span class="string">,</span></span><br><span class="line">      <span class="string">"timestamp"</span> <span class="string">=&gt;</span> <span class="string">"09/May/2020:23:59:50 +0000"</span><span class="string">,</span></span><br><span class="line">        <span class="string">"message"</span> <span class="string">=&gt;</span> <span class="string">"192.99.67.25 - - [09/May/2020:23:59:50 +0000] \"GET /item/electronics/2232 HTTP/1.1\" 200 41 \"/search/?c=Electronics\" \"Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/535.11 (KHTML, like Gecko) Chrome/17.0.963.56 Safari/535.11\""</span><span class="string">,</span></span><br><span class="line">          <span class="string">"agent"</span> <span class="string">=&gt;</span> <span class="string">"\"Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/535.11 (KHTML, like Gecko) Chrome/17.0.963.56 Safari/535.11\""</span><span class="string">,</span></span><br><span class="line">           <span class="string">"port"</span> <span class="string">=&gt;</span> <span class="number">55383</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>é€šè¿‡Grokè¿™ä¸ªfilterï¼Œå®ƒé€šè¿‡æ­£åˆ™è¡¨è¾¾å¼è¿›è¡ŒåŒ¹é…ï¼Œå¹¶æŠŠæˆ‘ä»¬çš„è¾“å…¥çš„éç»“æ„åŒ–çš„æ•°æ®å˜ä¸ºä¸€ä¸ªç»“æ„åŒ–çš„æ•°æ®</strong>ï¼Œå¯ä»¥çœ‹åˆ°å„ç§è¢«æå–çš„å­—æ®µï¼Œæ¯”å¦‚clientip, port, hostç­‰ï¼›</p>
</li>
</ol>
</li>
<li><p>è¿›ä¸€æ­¥ä¼˜åŒ–ï¼š</p>
<ol>
<li><p><strong>éœ€æ±‚ï¼š</strong>ä¸Šé¢çš„æ•°æ®ä»éç»“æ„åŒ–å˜ä¸ºç»“æ„åŒ–æ•°æ®æ¯”åŸæ¥çš„éç»“æ„åŒ–çš„æ•°æ®å·²ç»å¥½äº†å¾ˆå¤šï¼Œä½†æ˜¯è¿˜æœ‰å¯ä»¥æ”¹è¿›çš„åœ°æ–¹ï¼Œæ¯”å¦‚clientipï¼Œè¿˜æ˜¯ä¸çŸ¥é“è¿™ä¸ªIPæ˜¯ä»å“ªä¸ªåœ°æ–¹æ¥çš„ï¼Œå…·ä½“æ˜¯å“ªä¸ªå›½å®¶ï¼Œå“ªä¸ªåœ°ç†ä½ç½®</p>
</li>
<li><p><strong>æ”¹è¿›ï¼š</strong>éœ€è¦ä½¿ç”¨geoipè¿‡æ»¤å™¨æ¥å¯¹æ•°æ®è¿›è¡Œä¸°å¯Œï¼Œåœ¨filteréƒ¨åˆ†åŠ å…¥geoipï¼›</p>
</li>
<li><p>é…ç½®æ–‡ä»¶ä¿®æ”¹ï¼ˆweblog.confï¼‰ï¼š</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="string">input</span> <span class="string">&#123;</span></span><br><span class="line">  <span class="string">tcp</span> <span class="string">&#123;</span></span><br><span class="line">    <span class="string">port</span> <span class="string">=&gt;</span> <span class="number">9900</span></span><br><span class="line">  <span class="string">&#125;</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"> </span><br><span class="line"><span class="string">filter</span> <span class="string">&#123;</span></span><br><span class="line">  <span class="string">grok</span> <span class="string">&#123;</span></span><br><span class="line">    <span class="string">match</span> <span class="string">=&gt;</span> <span class="string">&#123;</span> <span class="string">"message"</span> <span class="string">=&gt;</span> <span class="string">"<span class="template-variable">%&#123;COMBINEDAPACHELOG&#125;</span>"</span> <span class="string">&#125;</span></span><br><span class="line">  <span class="string">&#125;</span></span><br><span class="line"> </span><br><span class="line">  <span class="string">geoip</span> <span class="string">&#123;</span></span><br><span class="line">    <span class="string">source</span> <span class="string">=&gt;</span> <span class="string">"clientip"</span></span><br><span class="line">  <span class="string">&#125;</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"> </span><br><span class="line"><span class="string">output</span> <span class="string">&#123;</span></span><br><span class="line">  <span class="string">stdout</span> <span class="string">&#123;</span> <span class="string">&#125;</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>è¿è¡Œå¹¶æŸ¥çœ‹è¾“å‡ºï¼ˆä¸€æ¡ï¼‰ï¼š</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="string">&#123;</span></span><br><span class="line">           <span class="string">"host"</span> <span class="string">=&gt;</span> <span class="string">"localhost"</span><span class="string">,</span></span><br><span class="line">       <span class="string">"clientip"</span> <span class="string">=&gt;</span> <span class="string">"44.114.32.84"</span><span class="string">,</span></span><br><span class="line">           <span class="string">"verb"</span> <span class="string">=&gt;</span> <span class="string">"GET"</span><span class="string">,</span></span><br><span class="line">     <span class="string">"@timestamp"</span> <span class="string">=&gt;</span> <span class="number">2020</span><span class="number">-05</span><span class="string">-11T06:35:27.658Z,</span></span><br><span class="line">          <span class="string">"ident"</span> <span class="string">=&gt;</span> <span class="string">"-"</span><span class="string">,</span></span><br><span class="line">      <span class="string">"timestamp"</span> <span class="string">=&gt;</span> <span class="string">"09/May/2020:23:59:55 +0000"</span><span class="string">,</span></span><br><span class="line">        <span class="string">"request"</span> <span class="string">=&gt;</span> <span class="string">"/category/software"</span><span class="string">,</span></span><br><span class="line">    <span class="string">"httpversion"</span> <span class="string">=&gt;</span> <span class="string">"1.1"</span><span class="string">,</span></span><br><span class="line">        <span class="string">"message"</span> <span class="string">=&gt;</span> <span class="string">"44.114.32.84 - - [09/May/2020:23:59:55 +0000] \"GET /category/software HTTP/1.1\" 200 105 \"-\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10.6; rv:9.0.1) Gecko/20100101 Firefox/9.0.1\""</span><span class="string">,</span></span><br><span class="line">       <span class="string">"@version"</span> <span class="string">=&gt;</span> <span class="string">"1"</span><span class="string">,</span></span><br><span class="line">       <span class="string">"response"</span> <span class="string">=&gt;</span> <span class="string">"200"</span><span class="string">,</span></span><br><span class="line">          <span class="string">"bytes"</span> <span class="string">=&gt;</span> <span class="string">"105"</span><span class="string">,</span></span><br><span class="line">       <span class="string">"referrer"</span> <span class="string">=&gt;</span> <span class="string">"\"-\""</span><span class="string">,</span></span><br><span class="line">           <span class="string">"auth"</span> <span class="string">=&gt;</span> <span class="string">"-"</span><span class="string">,</span></span><br><span class="line">           <span class="string">"port"</span> <span class="string">=&gt;</span> <span class="number">55695</span><span class="string">,</span></span><br><span class="line">          <span class="string">"geoip"</span> <span class="string">=&gt;</span> <span class="string">&#123;</span></span><br><span class="line">             <span class="string">"longitude"</span> <span class="string">=&gt;</span> <span class="number">-97.822</span><span class="string">,</span></span><br><span class="line">         <span class="string">"country_code3"</span> <span class="string">=&gt;</span> <span class="string">"US"</span><span class="string">,</span></span><br><span class="line">         <span class="string">"country_code2"</span> <span class="string">=&gt;</span> <span class="string">"US"</span><span class="string">,</span></span><br><span class="line">              <span class="string">"location"</span> <span class="string">=&gt;</span> <span class="string">&#123;</span></span><br><span class="line">            <span class="string">"lat"</span> <span class="string">=&gt;</span> <span class="number">37.751</span><span class="string">,</span></span><br><span class="line">            <span class="string">"lon"</span> <span class="string">=&gt;</span> <span class="number">-97.822</span></span><br><span class="line">        <span class="string">&#125;,</span></span><br><span class="line">                    <span class="string">"ip"</span> <span class="string">=&gt;</span> <span class="string">"44.114.32.84"</span><span class="string">,</span></span><br><span class="line">          <span class="string">"country_name"</span> <span class="string">=&gt;</span> <span class="string">"United States"</span><span class="string">,</span></span><br><span class="line">              <span class="string">"latitude"</span> <span class="string">=&gt;</span> <span class="number">37.751</span><span class="string">,</span></span><br><span class="line">        <span class="string">"continent_code"</span> <span class="string">=&gt;</span> <span class="string">"NA"</span><span class="string">,</span></span><br><span class="line">              <span class="string">"timezone"</span> <span class="string">=&gt;</span> <span class="string">"America/Chicago"</span></span><br><span class="line">    <span class="string">&#125;,</span></span><br><span class="line">          <span class="string">"agent"</span> <span class="string">=&gt;</span> <span class="string">"\"Mozilla/5.0 (Macintosh; Intel Mac OS X 10.6; rv:9.0.1) Gecko/20100101 Firefox/9.0.1\""</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>å¯ä»¥çœ‹åˆ°é™¤äº†clientipä¿¡æ¯ä¹‹å¤–ï¼Œ æ•°æ®è¿˜å¤šäº†ä¸€ä¸ªæ–°çš„å«åšgeoipçš„å­—æ®µï¼Œå®ƒé‡Œé¢å«æœ‰locationä½ç½®ä¿¡æ¯ï¼Œä¸ºæˆ‘ä»¬åœ¨åœ°å›¾ä¸Šè¿›è¡Œæ˜¾ç¤ºè¿™äº›æ•°æ®æä¾›äº†æ–¹ä¾¿ï¼Œä»è€Œå¯ä»¥åˆ©ç”¨Elasticæ‰€æä¾›çš„åœ°å›¾æ¸…æ¥šåœ°æŸ¥çœ‹åˆ°è¯·æ±‚æ˜¯æ¥è‡ªå“ªé‡Œï¼›</p>
</li>
</ol>
</li>
<li><p>å†è¿›ä¸€æ­¥ä¼˜åŒ–ï¼š</p>
<ol>
<li><p><strong>éœ€æ±‚ï¼š</strong>ä»ä¿¡æ¯ä¸­æ³¨æ„åˆ°agentè¿™ä¸ªå­—æ®µï¼Œéå¸¸é•¿ï¼Œè™½ç„¶å¤§è‡´èƒ½çœ‹åˆ°æµè§ˆå™¨ä»€ä¹ˆçš„ï¼Œä½†æ˜¯ä¸å¤ªç›´è§‚ï¼›</p>
</li>
<li><p><strong>å¤„ç†ï¼š</strong> æ·»åŠ useragentæ¥å¤„ç†ï¼Œé…ç½®æ–‡ä»¶ä¿®æ”¹ï¼ˆweblog.confï¼‰,å½“ç„¶ä¹Ÿå¯ä»¥è¾“å‡ºåˆ°æ–‡ä»¶ï¼Œå¦‚ä¸‹ï¼š</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="string">input</span> <span class="string">&#123;</span></span><br><span class="line">  <span class="string">tcp</span> <span class="string">&#123;</span></span><br><span class="line">    <span class="string">port</span> <span class="string">=&gt;</span> <span class="number">9900</span></span><br><span class="line">  <span class="string">&#125;</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"> </span><br><span class="line"><span class="string">filter</span> <span class="string">&#123;</span></span><br><span class="line">  <span class="string">grok</span> <span class="string">&#123;</span></span><br><span class="line">    <span class="string">match</span> <span class="string">=&gt;</span> <span class="string">&#123;</span> <span class="string">"message"</span> <span class="string">=&gt;</span> <span class="string">"<span class="template-variable">%&#123;COMBINEDAPACHELOG&#125;</span>"</span> <span class="string">&#125;</span></span><br><span class="line">  <span class="string">&#125;</span></span><br><span class="line"> </span><br><span class="line">  <span class="string">geoip</span> <span class="string">&#123;</span></span><br><span class="line">    <span class="string">source</span> <span class="string">=&gt;</span> <span class="string">"clientip"</span></span><br><span class="line">  <span class="string">&#125;</span></span><br><span class="line">  <span class="string">useragent&#123;</span></span><br><span class="line">  	<span class="string">source</span> <span class="string">=&gt;</span> <span class="string">"agent"</span></span><br><span class="line">  	<span class="string">target</span> <span class="string">=&gt;</span> <span class="string">"useragent"</span></span><br><span class="line">  <span class="string">&#125;</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"> </span><br><span class="line"><span class="string">output</span> <span class="string">&#123;</span></span><br><span class="line">  <span class="string">stdout</span> <span class="string">&#123;</span> <span class="string">&#125;</span></span><br><span class="line"> 	<span class="string">file</span> <span class="string">&#123;</span></span><br><span class="line">      <span class="string">path</span> <span class="string">=&gt;</span> <span class="string">"/Users/wander/test/elk/logstash/output.log"</span></span><br><span class="line">   <span class="string">&#125;</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>è¾“å‡º</strong>ï¼ˆä¸€æ¡ï¼‰ï¼š</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="string">&#123;</span></span><br><span class="line">        <span class="string">"message"</span> <span class="string">=&gt;</span> <span class="string">"44.114.32.84 - - [09/May/2020:23:59:55 +0000] \"GET /category/software HTTP/1.1\" 200 105 \"-\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10.6; rv:9.0.1) Gecko/20100101 Firefox/9.0.1\""</span><span class="string">,</span></span><br><span class="line">           <span class="string">"verb"</span> <span class="string">=&gt;</span> <span class="string">"GET"</span><span class="string">,</span></span><br><span class="line">    <span class="string">"httpversion"</span> <span class="string">=&gt;</span> <span class="string">"1.1"</span><span class="string">,</span></span><br><span class="line">       <span class="string">"clientip"</span> <span class="string">=&gt;</span> <span class="string">"44.114.32.84"</span><span class="string">,</span></span><br><span class="line">          <span class="string">"geoip"</span> <span class="string">=&gt;</span> <span class="string">&#123;</span></span><br><span class="line">         <span class="string">"country_code2"</span> <span class="string">=&gt;</span> <span class="string">"US"</span><span class="string">,</span></span><br><span class="line">              <span class="string">"location"</span> <span class="string">=&gt;</span> <span class="string">&#123;</span></span><br><span class="line">            <span class="string">"lat"</span> <span class="string">=&gt;</span> <span class="number">37.751</span><span class="string">,</span></span><br><span class="line">            <span class="string">"lon"</span> <span class="string">=&gt;</span> <span class="number">-97.822</span></span><br><span class="line">        <span class="string">&#125;,</span></span><br><span class="line">                    <span class="string">"ip"</span> <span class="string">=&gt;</span> <span class="string">"44.114.32.84"</span><span class="string">,</span></span><br><span class="line">              <span class="string">"latitude"</span> <span class="string">=&gt;</span> <span class="number">37.751</span><span class="string">,</span></span><br><span class="line">          <span class="string">"country_name"</span> <span class="string">=&gt;</span> <span class="string">"United States"</span><span class="string">,</span></span><br><span class="line">             <span class="string">"longitude"</span> <span class="string">=&gt;</span> <span class="number">-97.822</span><span class="string">,</span></span><br><span class="line">         <span class="string">"country_code3"</span> <span class="string">=&gt;</span> <span class="string">"US"</span><span class="string">,</span></span><br><span class="line">              <span class="string">"timezone"</span> <span class="string">=&gt;</span> <span class="string">"America/Chicago"</span><span class="string">,</span></span><br><span class="line">        <span class="string">"continent_code"</span> <span class="string">=&gt;</span> <span class="string">"NA"</span></span><br><span class="line">    <span class="string">&#125;,</span></span><br><span class="line">     <span class="string">"@timestamp"</span> <span class="string">=&gt;</span> <span class="number">2020</span><span class="number">-05</span><span class="string">-11T06:43:02.194Z,</span></span><br><span class="line">           <span class="string">"auth"</span> <span class="string">=&gt;</span> <span class="string">"-"</span><span class="string">,</span></span><br><span class="line">       <span class="string">"@version"</span> <span class="string">=&gt;</span> <span class="string">"1"</span><span class="string">,</span></span><br><span class="line">       <span class="string">"response"</span> <span class="string">=&gt;</span> <span class="string">"200"</span><span class="string">,</span></span><br><span class="line">      <span class="string">"useragent"</span> <span class="string">=&gt;</span> <span class="string">&#123;</span></span><br><span class="line">           <span class="string">"major"</span> <span class="string">=&gt;</span> <span class="string">"9"</span><span class="string">,</span></span><br><span class="line">              <span class="string">"os"</span> <span class="string">=&gt;</span> <span class="string">"Mac OS X"</span><span class="string">,</span></span><br><span class="line">           <span class="string">"patch"</span> <span class="string">=&gt;</span> <span class="string">"1"</span><span class="string">,</span></span><br><span class="line">        <span class="string">"os_minor"</span> <span class="string">=&gt;</span> <span class="string">"6"</span><span class="string">,</span></span><br><span class="line">            <span class="string">"name"</span> <span class="string">=&gt;</span> <span class="string">"Firefox"</span><span class="string">,</span></span><br><span class="line">         <span class="string">"os_name"</span> <span class="string">=&gt;</span> <span class="string">"Mac OS X"</span><span class="string">,</span></span><br><span class="line">           <span class="string">"minor"</span> <span class="string">=&gt;</span> <span class="string">"0"</span><span class="string">,</span></span><br><span class="line">          <span class="string">"device"</span> <span class="string">=&gt;</span> <span class="string">"Other"</span><span class="string">,</span></span><br><span class="line">           <span class="string">"build"</span> <span class="string">=&gt;</span> <span class="string">""</span><span class="string">,</span></span><br><span class="line">        <span class="string">"os_major"</span> <span class="string">=&gt;</span> <span class="string">"10"</span></span><br><span class="line">    <span class="string">&#125;,</span></span><br><span class="line">        <span class="string">"request"</span> <span class="string">=&gt;</span> <span class="string">"/category/software"</span><span class="string">,</span></span><br><span class="line">           <span class="string">"host"</span> <span class="string">=&gt;</span> <span class="string">"localhost"</span><span class="string">,</span></span><br><span class="line">          <span class="string">"agent"</span> <span class="string">=&gt;</span> <span class="string">"\"Mozilla/5.0 (Macintosh; Intel Mac OS X 10.6; rv:9.0.1) Gecko/20100101 Firefox/9.0.1\""</span><span class="string">,</span></span><br><span class="line">          <span class="string">"bytes"</span> <span class="string">=&gt;</span> <span class="string">"105"</span><span class="string">,</span></span><br><span class="line">          <span class="string">"ident"</span> <span class="string">=&gt;</span> <span class="string">"-"</span><span class="string">,</span></span><br><span class="line">           <span class="string">"port"</span> <span class="string">=&gt;</span> <span class="number">56095</span><span class="string">,</span></span><br><span class="line">      <span class="string">"timestamp"</span> <span class="string">=&gt;</span> <span class="string">"09/May/2020:23:59:55 +0000"</span><span class="string">,</span></span><br><span class="line">       <span class="string">"referrer"</span> <span class="string">=&gt;</span> <span class="string">"\"-\""</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>å¯ä»¥çœ‹åˆ°å¤šäº†ä¸€ä¸ª<strong>useragent</strong>å­—æ®µï¼Œç°åœ¨å…³äºæµè§ˆå™¨çš„ä¿¡æ¯å°±éå¸¸ç›´è§‚äº†ã€‚</p>
</li>
</ol>
</li>
<li><p>è½¬æ¢ï¼š</p>
<ol>
<li><p><strong>éœ€æ±‚ï¼š</strong>å¯ä»¥çœ‹å‡ºæ¥bytesæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²çš„ç±»å‹ï¼Œå’Œæˆ‘ä»¬å®é™…çš„åº”ç”¨å¯èƒ½ä¼šæœ‰æ‰€ä¸åŒï¼›</p>
</li>
<li><p><strong>å¤„ç†ï¼š</strong>å¯ä»¥ä½¿ç”¨mutate:convertè¿‡æ»¤å™¨è¿›è¡Œè½¬æ¢ï¼›</p>
</li>
<li><p>ä¿®æ”¹é…ç½®æ–‡ä»¶weblog.confï¼š</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="string">input</span> <span class="string">&#123;</span></span><br><span class="line">  <span class="string">tcp</span> <span class="string">&#123;</span></span><br><span class="line">    <span class="string">port</span> <span class="string">=&gt;</span> <span class="number">9900</span></span><br><span class="line">  <span class="string">&#125;</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"> </span><br><span class="line"><span class="string">filter</span> <span class="string">&#123;</span></span><br><span class="line">  <span class="string">grok</span> <span class="string">&#123;</span></span><br><span class="line">    <span class="string">match</span> <span class="string">=&gt;</span> <span class="string">&#123;</span> <span class="string">"message"</span> <span class="string">=&gt;</span> <span class="string">"<span class="template-variable">%&#123;COMBINEDAPACHELOG&#125;</span>"</span> <span class="string">&#125;</span></span><br><span class="line">  <span class="string">&#125;</span></span><br><span class="line"> </span><br><span class="line">  <span class="string">mutate</span> <span class="string">&#123;</span></span><br><span class="line">    <span class="string">convert</span> <span class="string">=&gt;</span> <span class="string">&#123;</span></span><br><span class="line">      <span class="string">"bytes"</span> <span class="string">=&gt;</span> <span class="string">"integer"</span></span><br><span class="line">    <span class="string">&#125;</span></span><br><span class="line">  <span class="string">&#125;</span></span><br><span class="line"> </span><br><span class="line">  <span class="string">geoip</span> <span class="string">&#123;</span></span><br><span class="line">    <span class="string">source</span> <span class="string">=&gt;</span> <span class="string">"clientip"</span></span><br><span class="line">  <span class="string">&#125;</span></span><br><span class="line"> </span><br><span class="line">  <span class="string">useragent</span> <span class="string">&#123;</span></span><br><span class="line">    <span class="string">source</span> <span class="string">=&gt;</span> <span class="string">"agent"</span></span><br><span class="line">    <span class="string">target</span> <span class="string">=&gt;</span> <span class="string">"useragent"</span></span><br><span class="line">  <span class="string">&#125;</span></span><br><span class="line"> </span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"> </span><br><span class="line"><span class="string">output</span> <span class="string">&#123;</span></span><br><span class="line">  <span class="string">stdout</span> <span class="string">&#123;</span> <span class="string">&#125;</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>è¾“å‡ºï¼ˆä¸€æ¡ï¼‰ï¼ˆå¯ä»¥çœ‹åˆ°â€bytesâ€å­—æ®µå·²ç»å˜æˆäº†æ•´æ•°å½¢å¼äº†ï¼‰ï¼š</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="string">&#123;</span></span><br><span class="line">          <span class="string">"ident"</span> <span class="string">=&gt;</span> <span class="string">"-"</span><span class="string">,</span></span><br><span class="line">       <span class="string">"clientip"</span> <span class="string">=&gt;</span> <span class="string">"44.210.52.144"</span><span class="string">,</span></span><br><span class="line">           <span class="string">"host"</span> <span class="string">=&gt;</span> <span class="string">"localhost"</span><span class="string">,</span></span><br><span class="line">    <span class="string">"httpversion"</span> <span class="string">=&gt;</span> <span class="string">"1.1"</span><span class="string">,</span></span><br><span class="line">          <span class="string">"bytes"</span> <span class="string">=&gt;</span> <span class="number">79</span><span class="string">,</span></span><br><span class="line">       <span class="string">"referrer"</span> <span class="string">=&gt;</span> <span class="string">"\"-\""</span><span class="string">,</span></span><br><span class="line">          <span class="string">"geoip"</span> <span class="string">=&gt;</span> <span class="string">&#123;</span></span><br><span class="line">             <span class="string">"longitude"</span> <span class="string">=&gt;</span> <span class="number">-77.4728</span><span class="string">,</span></span><br><span class="line">         <span class="string">"country_code2"</span> <span class="string">=&gt;</span> <span class="string">"US"</span><span class="string">,</span></span><br><span class="line">              <span class="string">"timezone"</span> <span class="string">=&gt;</span> <span class="string">"America/New_York"</span><span class="string">,</span></span><br><span class="line">                    <span class="string">"ip"</span> <span class="string">=&gt;</span> <span class="string">"44.210.52.144"</span><span class="string">,</span></span><br><span class="line">              <span class="string">"location"</span> <span class="string">=&gt;</span> <span class="string">&#123;</span></span><br><span class="line">            <span class="string">"lon"</span> <span class="string">=&gt;</span> <span class="number">-77.4728</span><span class="string">,</span></span><br><span class="line">            <span class="string">"lat"</span> <span class="string">=&gt;</span> <span class="number">39.0481</span></span><br><span class="line">        <span class="string">&#125;,</span></span><br><span class="line">           <span class="string">"postal_code"</span> <span class="string">=&gt;</span> <span class="string">"20149"</span><span class="string">,</span></span><br><span class="line">        <span class="string">"continent_code"</span> <span class="string">=&gt;</span> <span class="string">"NA"</span><span class="string">,</span></span><br><span class="line">          <span class="string">"country_name"</span> <span class="string">=&gt;</span> <span class="string">"United States"</span><span class="string">,</span></span><br><span class="line">           <span class="string">"region_name"</span> <span class="string">=&gt;</span> <span class="string">"Virginia"</span><span class="string">,</span></span><br><span class="line">             <span class="string">"city_name"</span> <span class="string">=&gt;</span> <span class="string">"Ashburn"</span><span class="string">,</span></span><br><span class="line">              <span class="string">"latitude"</span> <span class="string">=&gt;</span> <span class="number">39.0481</span><span class="string">,</span></span><br><span class="line">              <span class="string">"dma_code"</span> <span class="string">=&gt;</span> <span class="number">511</span><span class="string">,</span></span><br><span class="line">         <span class="string">"country_code3"</span> <span class="string">=&gt;</span> <span class="string">"US"</span><span class="string">,</span></span><br><span class="line">           <span class="string">"region_code"</span> <span class="string">=&gt;</span> <span class="string">"VA"</span></span><br><span class="line">    <span class="string">&#125;,</span></span><br><span class="line">           <span class="string">"auth"</span> <span class="string">=&gt;</span> <span class="string">"-"</span><span class="string">,</span></span><br><span class="line">        <span class="string">"message"</span> <span class="string">=&gt;</span> <span class="string">"44.210.52.144 - - [09/May/2020:00:00:05 +0000] \"GET /category/software HTTP/1.1\" 200 79 \"-\" \"Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/535.7 (KHTML, like Gecko) Chrome/16.0.912.77 Safari/535.7\""</span><span class="string">,</span></span><br><span class="line">      <span class="string">"useragent"</span> <span class="string">=&gt;</span> <span class="string">&#123;</span></span><br><span class="line">             <span class="string">"os"</span> <span class="string">=&gt;</span> <span class="string">"Windows"</span><span class="string">,</span></span><br><span class="line">          <span class="string">"patch"</span> <span class="string">=&gt;</span> <span class="string">"912"</span><span class="string">,</span></span><br><span class="line">          <span class="string">"build"</span> <span class="string">=&gt;</span> <span class="string">""</span><span class="string">,</span></span><br><span class="line">          <span class="string">"major"</span> <span class="string">=&gt;</span> <span class="string">"16"</span><span class="string">,</span></span><br><span class="line">           <span class="string">"name"</span> <span class="string">=&gt;</span> <span class="string">"Chrome"</span><span class="string">,</span></span><br><span class="line">         <span class="string">"device"</span> <span class="string">=&gt;</span> <span class="string">"Other"</span><span class="string">,</span></span><br><span class="line">          <span class="string">"minor"</span> <span class="string">=&gt;</span> <span class="string">"0"</span><span class="string">,</span></span><br><span class="line">        <span class="string">"os_name"</span> <span class="string">=&gt;</span> <span class="string">"Windows"</span></span><br><span class="line">    <span class="string">&#125;,</span></span><br><span class="line">       <span class="string">"response"</span> <span class="string">=&gt;</span> <span class="string">"200"</span><span class="string">,</span></span><br><span class="line">          <span class="string">"agent"</span> <span class="string">=&gt;</span> <span class="string">"\"Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/535.7 (KHTML, like Gecko) Chrome/16.0.912.77 Safari/535.7\""</span><span class="string">,</span></span><br><span class="line">     <span class="string">"@timestamp"</span> <span class="string">=&gt;</span> <span class="number">2020</span><span class="number">-05</span><span class="string">-11T06:54:58.718Z,</span></span><br><span class="line">           <span class="string">"verb"</span> <span class="string">=&gt;</span> <span class="string">"GET"</span><span class="string">,</span></span><br><span class="line">           <span class="string">"port"</span> <span class="string">=&gt;</span> <span class="number">56680</span><span class="string">,</span></span><br><span class="line">       <span class="string">"@version"</span> <span class="string">=&gt;</span> <span class="string">"1"</span><span class="string">,</span></span><br><span class="line">        <span class="string">"request"</span> <span class="string">=&gt;</span> <span class="string">"/category/software"</span><span class="string">,</span></span><br><span class="line">      <span class="string">"timestamp"</span> <span class="string">=&gt;</span> <span class="string">"09/May/2020:00:00:05 +0000"</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
<li><p>æ—¶é—´å¤„ç†ï¼š</p>
<ol>
<li><p><strong>éœ€æ±‚ï¼š</strong>é»˜è®¤çš„æ—¶é—´æ ¼å¼å¦‚ä¸‹ï¼Œæœ‰ç‚¹ä¸å¤ªç›´è§‚ï¼š</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="string">"@timestamp"</span> <span class="string">=&gt;</span> <span class="number">2020</span><span class="number">-05</span><span class="string">-09T00:00:05.000Z</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>å¤„ç†ï¼š</strong>ä½¿ç”¨dateè¿‡æ»¤å™¨è¿›è¡Œå¤„ç†ï¼Œä¿®æ”¹é…ç½®æ–‡ä»¶å¦‚ä¸‹ï¼š</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="string">input</span> <span class="string">&#123;</span></span><br><span class="line">  <span class="string">tcp</span> <span class="string">&#123;</span></span><br><span class="line">    <span class="string">port</span> <span class="string">=&gt;</span> <span class="number">9900</span></span><br><span class="line">  <span class="string">&#125;</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"> </span><br><span class="line"><span class="string">filter</span> <span class="string">&#123;</span></span><br><span class="line">  <span class="string">grok</span> <span class="string">&#123;</span></span><br><span class="line">    <span class="string">match</span> <span class="string">=&gt;</span> <span class="string">&#123;</span> <span class="string">"message"</span> <span class="string">=&gt;</span> <span class="string">"<span class="template-variable">%&#123;COMBINEDAPACHELOG&#125;</span>"</span> <span class="string">&#125;</span></span><br><span class="line">  <span class="string">&#125;</span></span><br><span class="line"> </span><br><span class="line">  <span class="string">mutate</span> <span class="string">&#123;</span></span><br><span class="line">    <span class="string">convert</span> <span class="string">=&gt;</span> <span class="string">&#123;</span></span><br><span class="line">      <span class="string">"bytes"</span> <span class="string">=&gt;</span> <span class="string">"integer"</span></span><br><span class="line">    <span class="string">&#125;</span></span><br><span class="line">  <span class="string">&#125;</span></span><br><span class="line"> </span><br><span class="line">  <span class="string">geoip</span> <span class="string">&#123;</span></span><br><span class="line">    <span class="string">source</span> <span class="string">=&gt;</span> <span class="string">"clientip"</span></span><br><span class="line">  <span class="string">&#125;</span></span><br><span class="line"> </span><br><span class="line">  <span class="string">useragent</span> <span class="string">&#123;</span></span><br><span class="line">    <span class="string">source</span> <span class="string">=&gt;</span> <span class="string">"agent"</span></span><br><span class="line">    <span class="string">target</span> <span class="string">=&gt;</span> <span class="string">"useragent"</span></span><br><span class="line">  <span class="string">&#125;</span></span><br><span class="line"> <span class="string">date</span> <span class="string">&#123;</span></span><br><span class="line">    <span class="string">match</span> <span class="string">=&gt;</span> <span class="string">["timestamp",</span> <span class="string">"dd/MMM/yyyy:HH:mm:ss Z"</span><span class="string">]</span></span><br><span class="line">  <span class="string">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"> </span><br><span class="line"><span class="string">output</span> <span class="string">&#123;</span></span><br><span class="line">  <span class="string">stdout</span> <span class="string">&#123;</span> <span class="string">&#125;</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>è¾“å‡ºï¼ˆä¸€æ¡ï¼‰ï¼š</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="string">&#123;</span></span><br><span class="line">           <span class="string">"host"</span> <span class="string">=&gt;</span> <span class="string">"localhost"</span><span class="string">,</span></span><br><span class="line">       <span class="string">"response"</span> <span class="string">=&gt;</span> <span class="string">"200"</span><span class="string">,</span></span><br><span class="line">        <span class="string">"request"</span> <span class="string">=&gt;</span> <span class="string">"/category/software"</span><span class="string">,</span></span><br><span class="line">        <span class="string">"message"</span> <span class="string">=&gt;</span> <span class="string">"44.210.52.144 - - [09/May/2020:00:00:05 +0000] \"GET /category/software HTTP/1.1\" 200 79 \"-\" \"Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/535.7 (KHTML, like Gecko) Chrome/16.0.912.77 Safari/535.7\""</span><span class="string">,</span></span><br><span class="line">       <span class="string">"referrer"</span> <span class="string">=&gt;</span> <span class="string">"\"-\""</span><span class="string">,</span></span><br><span class="line">      <span class="string">"timestamp"</span> <span class="string">=&gt;</span> <span class="string">"09/May/2020:00:00:05 +0000"</span><span class="string">,</span></span><br><span class="line">           <span class="string">"auth"</span> <span class="string">=&gt;</span> <span class="string">"-"</span><span class="string">,</span></span><br><span class="line">     <span class="string">"@timestamp"</span> <span class="string">=&gt;</span> <span class="number">2020</span><span class="number">-05</span><span class="string">-11T07:00:49.618Z,</span></span><br><span class="line">       <span class="string">"@version"</span> <span class="string">=&gt;</span> <span class="string">"1"</span><span class="string">,</span></span><br><span class="line">       <span class="string">"clientip"</span> <span class="string">=&gt;</span> <span class="string">"44.210.52.144"</span><span class="string">,</span></span><br><span class="line">           <span class="string">"verb"</span> <span class="string">=&gt;</span> <span class="string">"GET"</span><span class="string">,</span></span><br><span class="line">          <span class="string">"ident"</span> <span class="string">=&gt;</span> <span class="string">"-"</span><span class="string">,</span></span><br><span class="line">           <span class="string">"port"</span> <span class="string">=&gt;</span> <span class="number">57002</span><span class="string">,</span></span><br><span class="line">          <span class="string">"agent"</span> <span class="string">=&gt;</span> <span class="string">"\"Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/535.7 (KHTML, like Gecko) Chrome/16.0.912.77 Safari/535.7\""</span><span class="string">,</span></span><br><span class="line">          <span class="string">"bytes"</span> <span class="string">=&gt;</span> <span class="number">79</span><span class="string">,</span></span><br><span class="line">           <span class="string">"tags"</span> <span class="string">=&gt;</span> <span class="string">[</span></span><br><span class="line">        <span class="string">[0]</span> <span class="string">"_dateparsefailure"</span></span><br><span class="line">    <span class="string">],</span></span><br><span class="line">          <span class="string">"geoip"</span> <span class="string">=&gt;</span> <span class="string">&#123;</span></span><br><span class="line">         <span class="string">"country_code3"</span> <span class="string">=&gt;</span> <span class="string">"US"</span><span class="string">,</span></span><br><span class="line">           <span class="string">"postal_code"</span> <span class="string">=&gt;</span> <span class="string">"20149"</span><span class="string">,</span></span><br><span class="line">              <span class="string">"timezone"</span> <span class="string">=&gt;</span> <span class="string">"America/New_York"</span><span class="string">,</span></span><br><span class="line">             <span class="string">"city_name"</span> <span class="string">=&gt;</span> <span class="string">"Ashburn"</span><span class="string">,</span></span><br><span class="line">         <span class="string">"country_code2"</span> <span class="string">=&gt;</span> <span class="string">"US"</span><span class="string">,</span></span><br><span class="line">              <span class="string">"latitude"</span> <span class="string">=&gt;</span> <span class="number">39.0481</span><span class="string">,</span></span><br><span class="line">           <span class="string">"region_name"</span> <span class="string">=&gt;</span> <span class="string">"Virginia"</span><span class="string">,</span></span><br><span class="line">           <span class="string">"region_code"</span> <span class="string">=&gt;</span> <span class="string">"VA"</span><span class="string">,</span></span><br><span class="line">              <span class="string">"location"</span> <span class="string">=&gt;</span> <span class="string">&#123;</span></span><br><span class="line">            <span class="string">"lon"</span> <span class="string">=&gt;</span> <span class="number">-77.4728</span><span class="string">,</span></span><br><span class="line">            <span class="string">"lat"</span> <span class="string">=&gt;</span> <span class="number">39.0481</span></span><br><span class="line">        <span class="string">&#125;,</span></span><br><span class="line">                    <span class="string">"ip"</span> <span class="string">=&gt;</span> <span class="string">"44.210.52.144"</span><span class="string">,</span></span><br><span class="line">        <span class="string">"continent_code"</span> <span class="string">=&gt;</span> <span class="string">"NA"</span><span class="string">,</span></span><br><span class="line">          <span class="string">"country_name"</span> <span class="string">=&gt;</span> <span class="string">"United States"</span><span class="string">,</span></span><br><span class="line">             <span class="string">"longitude"</span> <span class="string">=&gt;</span> <span class="number">-77.4728</span><span class="string">,</span></span><br><span class="line">              <span class="string">"dma_code"</span> <span class="string">=&gt;</span> <span class="number">511</span></span><br><span class="line">    <span class="string">&#125;,</span></span><br><span class="line">      <span class="string">"useragent"</span> <span class="string">=&gt;</span> <span class="string">&#123;</span></span><br><span class="line">          <span class="string">"major"</span> <span class="string">=&gt;</span> <span class="string">"16"</span><span class="string">,</span></span><br><span class="line">          <span class="string">"minor"</span> <span class="string">=&gt;</span> <span class="string">"0"</span><span class="string">,</span></span><br><span class="line">        <span class="string">"os_name"</span> <span class="string">=&gt;</span> <span class="string">"Windows"</span><span class="string">,</span></span><br><span class="line">          <span class="string">"build"</span> <span class="string">=&gt;</span> <span class="string">""</span><span class="string">,</span></span><br><span class="line">         <span class="string">"device"</span> <span class="string">=&gt;</span> <span class="string">"Other"</span><span class="string">,</span></span><br><span class="line">           <span class="string">"name"</span> <span class="string">=&gt;</span> <span class="string">"Chrome"</span><span class="string">,</span></span><br><span class="line">             <span class="string">"os"</span> <span class="string">=&gt;</span> <span class="string">"Windows"</span><span class="string">,</span></span><br><span class="line">          <span class="string">"patch"</span> <span class="string">=&gt;</span> <span class="string">"912"</span></span><br><span class="line">    <span class="string">&#125;,</span></span><br><span class="line">    <span class="string">"httpversion"</span> <span class="string">=&gt;</span> <span class="string">"1.1"</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>å¯ä»¥çœ‹åˆ°å¤šäº†ä¸€ä¸ªtimestampå­—æ®µï¼›</p>
</li>
</ol>
</li>
</ol>
</li>
</ol>
<h2 id="è¾“å‡ºåˆ°Elasticsearch"><a href="#è¾“å‡ºåˆ°Elasticsearch" class="headerlink" title="è¾“å‡ºåˆ°Elasticsearch"></a>è¾“å‡ºåˆ°Elasticsearch</h2><ol>
<li><p>æŠŠå¤„ç†åçš„æ•°æ®è¾“å‡ºåˆ°Elasticsearchï¼Œåˆ™åœ¨outputçš„éƒ¨åˆ†æ·»åŠ å¦‚ä¸‹çš„Elasticsearchè¾“å‡ºï¼š</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ä»…ä»…å±•ç¤ºè¾“å‡º</span></span><br><span class="line"><span class="string">output</span> <span class="string">&#123;</span></span><br><span class="line">  <span class="string">stdout</span> <span class="string">&#123;</span> <span class="string">&#125;</span></span><br><span class="line"> </span><br><span class="line">  <span class="string">elasticsearch</span> <span class="string">&#123;</span></span><br><span class="line">    <span class="string">hosts</span> <span class="string">=&gt;</span> <span class="string">["localhost:9200"]</span></span><br><span class="line">    <span class="string">user</span> <span class="string">=&gt;</span> <span class="string">"elastic"</span></span><br><span class="line">    <span class="string">password</span> <span class="string">=&gt;</span> <span class="string">"changeme"</span></span><br><span class="line">  <span class="string">&#125;</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>åŒæ—¶ä¿ç•™ä¸¤ä¸ªè¾“å‡ºï¼šstdoutåŠelasticsearchï¼Œäº‹å®ä¸Šï¼Œ<strong>å¯ä»¥å®šä¹‰å¾ˆå¤šä¸ªçš„è¾“å‡º</strong>ï¼Œstdoutè¾“å‡ºå¯¹äºåˆæœŸçš„è°ƒè¯•æ˜¯éå¸¸æœ‰å¸®åŠ©çš„ï¼Œç­‰å®Œå–„äº†æ‰€æœ‰çš„è°ƒè¯•ï¼Œå¯ä»¥æŠŠä¸Šé¢çš„stdoutè¾“å‡ºå…³æ‰ï¼›</p>
</li>
<li><p>ä¸Šé¢çš„é…ç½®æ–‡ä»¶ç›´æ¥æ˜¾ç¤ºäº†é…ç½®æ–‡ä»¶çš„è´¦æˆ·å’Œå¯†ç ï¼Œå¯ä»¥ä½¿ç”¨keystore æ¥ä¿æŠ¤è‡ªå·±çš„å¯†ç ï¼š</p>
<ol>
<li><p>å¯åŠ¨åˆ›å»ºï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">logstash-keystore create</span><br></pre></td></tr></table></figure>
</li>
<li><p>è¾“å…¥è¾“å‡ºåœ°å€ï¼Œæ·»åŠ Elasticsearchçš„åœ°å€ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">logstash-keystore add ES_HOST</span><br></pre></td></tr></table></figure>
</li>
<li><p>åˆ›å»ºè´¦æˆ·ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">logstash-keystore add LS_USER</span><br></pre></td></tr></table></figure>
</li>
<li><p>åˆ›å»ºå¯†ç ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">logstash-keystore add LS_PWD</span><br></pre></td></tr></table></figure>
</li>
<li><p>é…ç½®æ–‡ä»¶ä¿®æ”¹ï¼š</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ä»…ä»…å±•ç¤ºè¾“å‡º</span></span><br><span class="line"><span class="string">output</span> <span class="string">&#123;</span></span><br><span class="line">  <span class="string">stdout</span> <span class="string">&#123;</span> <span class="string">&#125;</span></span><br><span class="line"> </span><br><span class="line">  <span class="string">elasticsearch</span> <span class="string">&#123;</span></span><br><span class="line">    <span class="string">hosts</span> <span class="string">=&gt;</span> <span class="string">["$&#123;ES_HOST&#125;"]</span></span><br><span class="line">    <span class="string">user</span> <span class="string">=&gt;</span> <span class="string">"$&#123;LS_USER&#125;"</span></span><br><span class="line">    <span class="string">password</span> <span class="string">=&gt;</span> <span class="string">"$&#123;LS_PWD&#125;"</span></span><br><span class="line">  <span class="string">&#125;</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure>



</li>
</ol>
</li>
</ol>
<h2 id="Grokå…¥é—¨"><a href="#Grokå…¥é—¨" class="headerlink" title="Grokå…¥é—¨"></a>Grokå…¥é—¨</h2><ol>
<li><p>ä»€ä¹ˆæ˜¯Grokï¼šä»¥ä¸€ç§æ ¼å¼ä¿®æ”¹ä¿¡æ¯å¹¶å°†å…¶æµ¸å…¥å¦ä¸€ç§æ ¼å¼ï¼Œä¸€ç§å°†è¡Œä¸æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…ï¼Œå°†è¡Œçš„ç‰¹å®šéƒ¨åˆ†æ˜ å°„åˆ°ä¸“ç”¨å­—æ®µä¸­ä»¥åŠæ ¹æ®æ­¤æ˜ å°„æ‰§è¡Œæ“ä½œçš„æ–¹æ³•ï¼›</p>
</li>
<li><p>Logstashå†…ç½®äº†è¶…è¿‡200ç§Logstashæ¨¡å¼ï¼Œç”¨äºè¿‡æ»¤AWSï¼ŒBaculaï¼ŒBroï¼ŒLinux-Syslogç­‰ä¸­çš„å•è¯ï¼Œæ•°å­—å’Œæ—¥æœŸç­‰é¡¹ç›®ï¼Œå¦‚æœæ‰¾ä¸åˆ°æ‰€éœ€çš„æ¨¡å¼ï¼Œåˆ™å¯ä»¥ç¼–å†™è‡ªå·±çš„è‡ªå®šä¹‰æ¨¡å¼ï¼Œæœ‰å¤šä¸ªåŒ¹é…æ¨¡å¼çš„é€‰é¡¹ï¼Œå¯ç®€åŒ–è¡¨è¾¾å¼çš„ç¼–å†™ä»¥æ•è·æ—¥å¿—æ•°æ®ï¼›</p>
</li>
<li><p>Grokè°ƒè¯•å™¨ï¼š</p>
<ol>
<li><a href="https://grokdebug.herokuapp.com/" target="_blank" rel="noopener">ä¸“ä¸šç½‘å€</a></li>
<li><a href="http://localhost:5601/app/kibana#/dev_tools/grokdebugger" target="_blank" rel="noopener">Kibanaè‡ªå¸¦</a></li>
</ol>
</li>
<li><p><a href="https://www.elastic.co/guide/en/logstash/current/plugins-filters-grok.html" target="_blank" rel="noopener">å®˜æ–¹è¯´æ˜ç½‘å€</a>,<a href="https://github.com/logstash-plugins/logstash-patterns-core" target="_blank" rel="noopener">GitHubç½‘å€</a></p>
</li>
<li><p>å‚è€ƒé…ç½®æ–‡ä»¶1ï¼š</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="string">input</span> <span class="string">&#123;</span></span><br><span class="line">  <span class="string">file</span> <span class="string">&#123;</span></span><br><span class="line">    <span class="string">path</span> <span class="string">=&gt;</span> <span class="string">["/var/log/apache2/access.log"]</span></span><br><span class="line">    <span class="string">start_position</span> <span class="string">=&gt;</span> <span class="string">"beginning"</span></span><br><span class="line">    <span class="string">sincedb_path</span> <span class="string">=&gt;</span> <span class="string">"/dev/null"</span></span><br><span class="line">    <span class="string">type</span> <span class="string">=&gt;</span> <span class="string">"apache_access"</span></span><br><span class="line">  <span class="string">&#125;</span></span><br><span class="line">  <span class="string">file</span> <span class="string">&#123;</span></span><br><span class="line">    <span class="string">path</span> <span class="string">=&gt;</span> <span class="string">["/var/log/apache2/error.log"]</span></span><br><span class="line">    <span class="string">start_position</span> <span class="string">=&gt;</span> <span class="string">"beginning"</span></span><br><span class="line">    <span class="string">sincedb_path</span> <span class="string">=&gt;</span> <span class="string">"/dev/null"</span></span><br><span class="line">    <span class="string">type</span> <span class="string">=&gt;</span> <span class="string">"apache_error"</span></span><br><span class="line">  <span class="string">&#125;</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string">filter</span> <span class="string">&#123;</span></span><br><span class="line">   <span class="string">if</span> <span class="string">[type]</span> <span class="string">in</span> <span class="string">[</span> <span class="string">"apache"</span> <span class="string">,</span> <span class="string">"apache_access"</span> <span class="string">,</span> <span class="string">"apache-access"</span> <span class="string">]</span>  <span class="string">&#123;</span></span><br><span class="line">      <span class="string">grok</span> <span class="string">&#123;</span></span><br><span class="line">         <span class="string">match</span> <span class="string">=&gt;</span> <span class="string">[</span></span><br><span class="line">         <span class="string">"message"</span> <span class="string">,</span> <span class="string">"<span class="template-variable">%&#123;COMBINEDAPACHELOG&#125;</span>+<span class="template-variable">%&#123;GREEDYDATA:extra_fields&#125;</span>"</span><span class="string">,</span></span><br><span class="line">         <span class="string">"message"</span> <span class="string">,</span> <span class="string">"<span class="template-variable">%&#123;COMMONAPACHELOG&#125;</span>+<span class="template-variable">%&#123;GREEDYDATA:extra_fields&#125;</span>"</span></span><br><span class="line">         <span class="string">]</span></span><br><span class="line">         <span class="string">overwrite</span> <span class="string">=&gt;</span> <span class="string">[</span> <span class="string">"message"</span> <span class="string">]</span></span><br><span class="line">      <span class="string">&#125;</span></span><br><span class="line">      <span class="string">mutate</span> <span class="string">&#123;</span></span><br><span class="line">         <span class="string">convert</span> <span class="string">=&gt;</span> <span class="string">["response",</span> <span class="string">"integer"</span><span class="string">]</span></span><br><span class="line">         <span class="string">convert</span> <span class="string">=&gt;</span> <span class="string">["bytes",</span> <span class="string">"integer"</span><span class="string">]</span></span><br><span class="line">         <span class="string">convert</span> <span class="string">=&gt;</span> <span class="string">["responsetime",</span> <span class="string">"float"</span><span class="string">]</span></span><br><span class="line">      <span class="string">&#125;</span></span><br><span class="line">      <span class="string">geoip</span> <span class="string">&#123;</span></span><br><span class="line">         <span class="string">source</span> <span class="string">=&gt;</span> <span class="string">"clientip"</span></span><br><span class="line">         <span class="string">target</span> <span class="string">=&gt;</span> <span class="string">"geoip"</span></span><br><span class="line">         <span class="string">add_tag</span> <span class="string">=&gt;</span> <span class="string">[</span> <span class="string">"apache-geoip"</span> <span class="string">]</span></span><br><span class="line">      <span class="string">&#125;</span></span><br><span class="line">      <span class="string">date</span> <span class="string">&#123;</span></span><br><span class="line">         <span class="string">match</span> <span class="string">=&gt;</span> <span class="string">[</span> <span class="string">"timestamp"</span> <span class="string">,</span> <span class="string">"dd/MMM/YYYY:HH:mm:ss Z"</span> <span class="string">]</span></span><br><span class="line">         <span class="string">remove_field</span> <span class="string">=&gt;</span> <span class="string">[</span> <span class="string">"timestamp"</span> <span class="string">]</span></span><br><span class="line">      <span class="string">&#125;</span></span><br><span class="line">      <span class="string">useragent</span> <span class="string">&#123;</span></span><br><span class="line">         <span class="string">source</span> <span class="string">=&gt;</span> <span class="string">"agent"</span></span><br><span class="line">      <span class="string">&#125;</span></span><br><span class="line">   <span class="string">&#125;</span></span><br><span class="line">   <span class="string">if</span> <span class="string">[type]</span> <span class="string">in</span> <span class="string">["apache_error","apache-error"]</span> <span class="string">&#123;</span></span><br><span class="line">      <span class="string">grok</span> <span class="string">&#123;</span></span><br><span class="line">         <span class="string">match</span> <span class="string">=&gt;</span> <span class="string">["message",</span> <span class="string">"\[<span class="template-variable">%&#123;WORD:dayname&#125;</span> <span class="template-variable">%&#123;WORD:month&#125;</span> <span class="template-variable">%&#123;DATA:day&#125;</span> <span class="template-variable">%&#123;DATA:hour&#125;</span>:<span class="template-variable">%&#123;DATA:minute&#125;</span>:<span class="template-variable">%&#123;DATA:second&#125;</span> <span class="template-variable">%&#123;YEAR:year&#125;</span>\] \[<span class="template-variable">%&#123;NOTSPACE:loglevel&#125;</span>\] (?:\[client <span class="template-variable">%&#123;IPORHOST:clientip&#125;</span>\] )&#123;0,1&#125;<span class="template-variable">%&#123;GREEDYDATA:message&#125;</span>"</span><span class="string">]</span></span><br><span class="line">         <span class="string">overwrite</span> <span class="string">=&gt;</span> <span class="string">[</span> <span class="string">"message"</span> <span class="string">]</span></span><br><span class="line">      <span class="string">&#125;</span></span><br><span class="line">      <span class="string">mutate</span></span><br><span class="line">      <span class="string">&#123;</span></span><br><span class="line">         <span class="string">add_field</span> <span class="string">=&gt;</span></span><br><span class="line">         <span class="string">&#123;</span></span><br><span class="line">            <span class="string">"time_stamp"</span> <span class="string">=&gt;</span> <span class="string">"<span class="template-variable">%&#123;day&#125;</span>/<span class="template-variable">%&#123;month&#125;</span>/<span class="template-variable">%&#123;year&#125;</span>:<span class="template-variable">%&#123;hour&#125;</span>:<span class="template-variable">%&#123;minute&#125;</span>:<span class="template-variable">%&#123;second&#125;</span>"</span></span><br><span class="line">         <span class="string">&#125;</span></span><br><span class="line">      <span class="string">&#125;</span></span><br><span class="line">      <span class="string">date</span> <span class="string">&#123;</span></span><br><span class="line">         <span class="string">match</span> <span class="string">=&gt;</span> <span class="string">["time_stamp",</span> <span class="string">"dd/MMM/YYYY:HH:mm:ss"</span><span class="string">]</span></span><br><span class="line">         <span class="string">remove_field</span> <span class="string">=&gt;</span> <span class="string">[</span> <span class="string">"time_stamp"</span><span class="string">,"day","dayname","month","hour","minute","second","year"]</span></span><br><span class="line">      <span class="string">&#125;</span></span><br><span class="line">   <span class="string">&#125;</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string">output</span> <span class="string">&#123;</span></span><br><span class="line"> <span class="string">elasticsearch</span> <span class="string">&#123;</span></span><br><span class="line">   <span class="string">hosts</span> <span class="string">=&gt;</span> <span class="string">["http://localhost:9200"]</span></span><br><span class="line">   <span class="string">user</span> <span class="string">=&gt;</span> <span class="string">"YourUserName"</span></span><br><span class="line">   <span class="string">password</span> <span class="string">=&gt;</span> <span class="string">"YourPassword"</span></span><br><span class="line">   <span class="string">index</span> <span class="string">=&gt;</span> <span class="string">"apache-<span class="template-variable">%&#123;+YYYY.MM.dd&#125;</span>"</span></span><br><span class="line"> <span class="string">&#125;</span></span><br><span class="line"> <span class="string">stdout</span> <span class="string">&#123;</span> <span class="string">codec</span> <span class="string">=&gt;</span> <span class="string">rubydebug</span> <span class="string">&#125;</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>å‚è€ƒé…ç½®æ–‡ä»¶2ï¼ˆemailï¼‰ï¼š<a href="https://www.elastic.co/guide/en/logstash/current/plugins-outputs-email.html" target="_blank" rel="noopener">å‚è€ƒå®˜æ–¹</a></p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="string">input</span> <span class="string">&#123;</span> </span><br><span class="line">  <span class="string">stdin</span> <span class="string">&#123;&#125;</span> </span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"> </span><br><span class="line"><span class="string">filter</span> <span class="string">&#123;</span></span><br><span class="line">   <span class="string">if</span> <span class="string">"critical"</span> <span class="string">in</span> <span class="string">[message]</span> <span class="string">&#123;</span></span><br><span class="line">     <span class="string">mutate</span> <span class="string">&#123;</span> <span class="string">add_tag</span> <span class="string">=&gt;</span> <span class="string">"critical"</span> <span class="string">&#125;</span></span><br><span class="line">   <span class="string">&#125;</span></span><br><span class="line">   <span class="string">else</span> <span class="string">if</span> <span class="string">"error"</span> <span class="string">in</span> <span class="string">[message]</span> <span class="string">&#123;</span></span><br><span class="line">     <span class="string">mutate</span> <span class="string">&#123;</span> <span class="string">add_tag</span> <span class="string">=&gt;</span> <span class="string">"error"</span> <span class="string">&#125;</span></span><br><span class="line">   <span class="string">&#125;</span></span><br><span class="line"> <span class="string">&#125;</span></span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="string">output</span> <span class="string">&#123;</span></span><br><span class="line"> </span><br><span class="line">  <span class="string">if</span> <span class="string">"critical"</span> <span class="string">in</span> <span class="string">[tags]</span> <span class="string">or</span> <span class="string">"error"</span> <span class="string">in</span> <span class="string">[tags]</span> <span class="string">&#123;</span></span><br><span class="line">    <span class="string">stdout</span> <span class="string">&#123;</span> <span class="string">codec</span> <span class="string">=&gt;</span>  <span class="string">"rubydebug"</span> <span class="string">&#125;</span> </span><br><span class="line"> </span><br><span class="line">    <span class="string">email</span> <span class="string">&#123;</span></span><br><span class="line">      <span class="string">from</span> <span class="string">=&gt;</span> <span class="string">"liu_xiao_guo@hotmail.com"</span></span><br><span class="line">      <span class="string">subject</span> <span class="string">=&gt;</span> <span class="string">"Ignore (test run)"</span></span><br><span class="line">      <span class="string">body</span> <span class="string">=&gt;</span> <span class="string">"log-message: <span class="template-variable">%&#123;message&#125;</span>"</span></span><br><span class="line">      <span class="string">to</span> <span class="string">=&gt;</span> <span class="string">"YourEmailAccount@yahoo.com"</span></span><br><span class="line">      <span class="string">codec</span> <span class="string">=&gt;</span> <span class="string">"plain"</span></span><br><span class="line">      <span class="string">contenttype</span> <span class="string">=&gt;</span> <span class="string">"text/plain; charset=UTF-8"</span></span><br><span class="line">      <span class="string">address</span> <span class="string">=&gt;</span> <span class="string">"smtp-mail.outlook.com"</span></span><br><span class="line">      <span class="string">port</span> <span class="string">=&gt;</span> <span class="string">"587"</span></span><br><span class="line">      <span class="string">authentication</span> <span class="string">=&gt;</span> <span class="string">"plain"</span></span><br><span class="line">      <span class="string">via</span> <span class="string">=&gt;</span> <span class="string">"sendmail"</span></span><br><span class="line">      <span class="string">username</span> <span class="string">=&gt;</span> <span class="string">"YourMailAccount@hotmail.com"</span></span><br><span class="line">      <span class="string">password</span> <span class="string">=&gt;</span> <span class="string">"YourPassword"</span></span><br><span class="line">      <span class="string">use_tls</span> <span class="string">=&gt;</span> <span class="literal">true</span></span><br><span class="line">      <span class="string">debug</span> <span class="string">=&gt;</span> <span class="literal">true</span></span><br><span class="line">    <span class="string">&#125;</span></span><br><span class="line">  <span class="string">&#125;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>å‚è€ƒé…ç½®æ–‡ä»¶ï¼ˆå¤šè¾“å…¥ï¼‰ï¼š</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="string">input</span> <span class="string">&#123;</span></span><br><span class="line">  <span class="string">file</span> <span class="string">&#123;</span></span><br><span class="line">    <span class="string">path</span> <span class="string">=&gt;</span> <span class="string">"/Users/liuxg/data/multi-input/apache.log"</span></span><br><span class="line">    <span class="string">start_position</span> <span class="string">=&gt;</span> <span class="string">"beginning"</span></span><br><span class="line">    <span class="string">sincedb_path</span> <span class="string">=&gt;</span> <span class="string">"/dev/null"</span></span><br><span class="line">    <span class="comment"># ignore_older =&gt; 100000</span></span><br><span class="line">    <span class="string">type</span> <span class="string">=&gt;</span> <span class="string">"apache"</span></span><br><span class="line">  <span class="string">&#125;</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"> </span><br><span class="line"><span class="string">input</span> <span class="string">&#123;</span></span><br><span class="line">  <span class="string">file</span> <span class="string">&#123;</span></span><br><span class="line">    <span class="string">path</span> <span class="string">=&gt;</span> <span class="string">"/Users/liuxg/data/multi-input/apache-daily-access.log"</span></span><br><span class="line">    <span class="string">start_position</span> <span class="string">=&gt;</span> <span class="string">"beginning"</span></span><br><span class="line">    <span class="string">sincedb_path</span> <span class="string">=&gt;</span> <span class="string">"/dev/null"</span></span><br><span class="line">    <span class="string">type</span> <span class="string">=&gt;</span> <span class="string">"daily"</span></span><br><span class="line">  <span class="string">&#125;</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"> </span><br><span class="line"><span class="string">filter</span> <span class="string">&#123;</span></span><br><span class="line">    <span class="string">grok</span> <span class="string">&#123;</span></span><br><span class="line">      <span class="string">match</span> <span class="string">=&gt;</span> <span class="string">&#123;</span></span><br><span class="line">          <span class="string">"message"</span> <span class="string">=&gt;</span> <span class="string">'<span class="template-variable">%&#123;IPORHOST:clientip&#125;</span> <span class="template-variable">%&#123;USER:ident&#125;</span> <span class="template-variable">%&#123;USER:auth&#125;</span> \[<span class="template-variable">%&#123;HTTPDATE:timestamp&#125;</span>\] "<span class="template-variable">%&#123;WORD:verb&#125;</span> <span class="template-variable">%&#123;DATA:request&#125;</span> HTTP/<span class="template-variable">%&#123;NUMBER:httpversion&#125;</span>" <span class="template-variable">%&#123;NUMBER:response:int&#125;</span> (?:-|<span class="template-variable">%&#123;NUMBER:bytes:int&#125;</span>) <span class="template-variable">%&#123;QS:referrer&#125;</span> <span class="template-variable">%&#123;QS:agent&#125;</span>'</span></span><br><span class="line">      <span class="string">&#125;</span></span><br><span class="line">    <span class="string">&#125;</span></span><br><span class="line"> </span><br><span class="line">  <span class="string">if[type]</span> <span class="string">==</span> <span class="string">"apache"</span> <span class="string">&#123;</span></span><br><span class="line">    <span class="string">mutate</span> <span class="string">&#123;</span></span><br><span class="line">        <span class="string">add_tag</span> <span class="string">=&gt;</span> <span class="string">["apache"]</span></span><br><span class="line">      <span class="string">&#125;</span></span><br><span class="line">  <span class="string">&#125;</span></span><br><span class="line"> </span><br><span class="line">  <span class="string">if</span> <span class="string">[type]</span> <span class="string">==</span> <span class="string">"daily"</span> <span class="string">&#123;</span></span><br><span class="line">    <span class="string">mutate</span> <span class="string">&#123;</span></span><br><span class="line">      <span class="string">add_tag</span> <span class="string">=&gt;</span> <span class="string">["daily"]</span></span><br><span class="line">    <span class="string">&#125;</span></span><br><span class="line">  <span class="string">&#125;</span> </span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="string">output</span> <span class="string">&#123;</span></span><br><span class="line">  <span class="string">stdout</span> <span class="string">&#123;</span></span><br><span class="line">    <span class="string">codec</span> <span class="string">=&gt;</span> <span class="string">rubydebug</span></span><br><span class="line">  <span class="string">&#125;</span></span><br><span class="line"> </span><br><span class="line">  <span class="string">if</span> <span class="string">"apache"</span> <span class="string">in</span> <span class="string">[tags]</span> <span class="string">&#123;</span></span><br><span class="line">      <span class="string">elasticsearch</span> <span class="string">&#123;</span></span><br><span class="line">        <span class="string">index</span> <span class="string">=&gt;</span> <span class="string">"apache_log"</span></span><br><span class="line">        <span class="string">template</span> <span class="string">=&gt;</span> <span class="string">"/Users/liuxg/data/apache_template.json"</span></span><br><span class="line">        <span class="string">template_name</span> <span class="string">=&gt;</span> <span class="string">"apache_elastic_example"</span></span><br><span class="line">        <span class="string">template_overwrite</span> <span class="string">=&gt;</span> <span class="literal">true</span></span><br><span class="line">    <span class="string">&#125;</span> </span><br><span class="line">  <span class="string">&#125;</span></span><br><span class="line"> </span><br><span class="line">  <span class="string">if</span> <span class="string">"daily"</span> <span class="string">in</span> <span class="string">[tags]</span> <span class="string">&#123;</span></span><br><span class="line">      <span class="string">elasticsearch</span> <span class="string">&#123;</span></span><br><span class="line">        <span class="string">index</span> <span class="string">=&gt;</span> <span class="string">"apache_daily"</span></span><br><span class="line">        <span class="string">template</span> <span class="string">=&gt;</span> <span class="string">"/Users/liuxg/data/apache_template.json"</span></span><br><span class="line">        <span class="string">template_name</span> <span class="string">=&gt;</span> <span class="string">"apache_elastic_example"</span></span><br><span class="line">        <span class="string">template_overwrite</span> <span class="string">=&gt;</span> <span class="literal">true</span></span><br><span class="line">    <span class="string">&#125;</span> </span><br><span class="line">  <span class="string">&#125;</span> </span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure>

</li>
</ol>
<h2 id="å†çœ‹æ’ä»¶"><a href="#å†çœ‹æ’ä»¶" class="headerlink" title="å†çœ‹æ’ä»¶"></a>å†çœ‹æ’ä»¶</h2><ol>
<li><p>Logstashé™„å¸¦äº†è®¸å¤šinputï¼Œcodecï¼Œfilterå’Œoutputæ’ä»¶ï¼Œå¯ç”¨äºä»å„ç§åº”ç”¨ç¨‹åºï¼ŒæœåŠ¡å™¨å’Œç½‘ç»œé€šé“ä¸­æ£€ç´¢ï¼Œè½¬æ¢ï¼Œè¿‡æ»¤å’Œå‘é€æ—¥å¿—å’Œäº‹ä»¶ï¼›<a href="http://localhost:9600/_node/plugins?pretty" target="_blank" rel="noopener">æœ¬åœ°logstashçœ‹å®‰è£…çš„æ’ä»¶</a>ï¼Œç›®å‰æä¾›çš„è¶…è¿‡200å¤šä¸ªplugin</p>
</li>
<li><p><strong>inputæ’ä»¶ï¼š</strong></p>
<ol>
<li><p>å‘½ä»¤ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">logstash-plugin list --group input</span><br></pre></td></tr></table></figure>
</li>
<li><p>è¾“å‡ºï¼ˆ2020/05/11ä¹‹å‰é»˜è®¤å®‰è£…ï¼‰ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">logstash-input-azure_event_hubs</span><br><span class="line">logstash-input-beats</span><br><span class="line">logstash-input-couchdb_changes</span><br><span class="line">logstash-input-elasticsearch</span><br><span class="line">logstash-input-exec</span><br><span class="line">logstash-input-file</span><br><span class="line">logstash-input-ganglia</span><br><span class="line">logstash-input-gelf</span><br><span class="line">logstash-input-generator</span><br><span class="line">logstash-input-graphite</span><br><span class="line">logstash-input-heartbeat</span><br><span class="line">logstash-input-http</span><br><span class="line">logstash-input-http_poller</span><br><span class="line">logstash-input-imap</span><br><span class="line">logstash-input-jms</span><br><span class="line">logstash-input-pipe</span><br><span class="line">logstash-input-redis</span><br><span class="line">logstash-input-s3</span><br><span class="line">logstash-input-snmp</span><br><span class="line">logstash-input-snmptrap</span><br><span class="line">logstash-input-sqs</span><br><span class="line">logstash-input-stdin</span><br><span class="line">logstash-input-syslog</span><br><span class="line">logstash-input-tcp</span><br><span class="line">logstash-input-twitter</span><br><span class="line">logstash-input-udp</span><br><span class="line">logstash-input-unix</span><br></pre></td></tr></table></figure>
</li>
<li><p>åœ¨é…ç½®è¾“å…¥æºæ—¶ç›´æ¥ä½¿ç”¨logstash-input-*åé¢çš„*å³å¯ï¼Œæ¯”å¦‚beatsï¼›</p>
</li>
<li><p>é»˜è®¤æ²¡æœ‰å®‰è£…çš„è¾“å…¥æ’ä»¶å¯ä»¥ä½¿ç”¨å‘½ä»¤è¿›è¡Œå®‰è£…ï¼Œæ¯”å¦‚websocketæ’ä»¶ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">logstash-plugin install logstash-input-websocket</span><br></pre></td></tr></table></figure>
</li>
<li><p>æµ‹è¯•ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git clone https://github.com/sitepoint-editors/websocket-demo.git</span><br><span class="line">cd websocket-demo</span><br><span class="line">npm install</span><br><span class="line">npm start</span><br></pre></td></tr></table></figure>

<ul>
<li><p>é…ç½®æ–‡ä»¶ï¼š</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="string">input</span> <span class="string">&#123;</span></span><br><span class="line"> 	<span class="string">websocket</span> <span class="string">&#123;</span></span><br><span class="line"> 		<span class="string">mode</span> <span class="string">=&gt;</span> <span class="string">"client"</span></span><br><span class="line"> 	    <span class="string">url</span> <span class="string">=&gt;</span> <span class="string">"ws://127.0.0.1:8081/"</span></span><br><span class="line"> 	    <span class="string">type</span> <span class="string">=&gt;</span> <span class="string">"string"</span></span><br><span class="line"> 	<span class="string">&#125;</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"> </span><br><span class="line"><span class="string">output</span> <span class="string">&#123;</span></span><br><span class="line">	<span class="string">stdout</span> <span class="string">&#123;</span> </span><br><span class="line">    	<span class="string">codec</span> <span class="string">=&gt;</span> <span class="string">rubydebug</span> </span><br><span class="line">  	<span class="string">&#125;</span> </span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p><a href="https://www.elastic.co/guide/en/logstash/current/input-plugins.html" target="_blank" rel="noopener">å…¶ä»–è¾“å…¥æ’ä»¶</a>ï¼ˆé»˜è®¤æœªå®‰è£…ï¼‰ï¼š</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="string">logstash-input-google_pubsub</span></span><br><span class="line"><span class="string">logstash-input-kafka</span></span><br><span class="line"><span class="string">logstash-input-cloudwatch</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
<li><p><strong>è¿‡æ»¤æ’ä»¶ï¼š</strong></p>
<ol>
<li><p>å‘½ä»¤ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">logstash-plugin list --group filter</span><br></pre></td></tr></table></figure>
</li>
<li><p>è¾“å‡ºï¼ˆ2020/05/11ä¹‹å‰é»˜è®¤å®‰è£…ï¼‰ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">logstash-filter-aggregate</span><br><span class="line">logstash-filter-anonymize</span><br><span class="line">logstash-filter-cidr</span><br><span class="line">logstash-filter-clone</span><br><span class="line">logstash-filter-csv</span><br><span class="line">logstash-filter-date</span><br><span class="line">logstash-filter-de_dot</span><br><span class="line">logstash-filter-dissect</span><br><span class="line">logstash-filter-dns</span><br><span class="line">logstash-filter-drop</span><br><span class="line">logstash-filter-elasticsearch</span><br><span class="line">logstash-filter-fingerprint</span><br><span class="line">logstash-filter-geoip</span><br><span class="line">logstash-filter-grok</span><br><span class="line">logstash-filter-http</span><br><span class="line">logstash-filter-json</span><br><span class="line">logstash-filter-kv</span><br><span class="line">logstash-filter-memcached</span><br><span class="line">logstash-filter-metrics</span><br><span class="line">logstash-filter-mutate</span><br><span class="line">logstash-filter-prune</span><br><span class="line">logstash-filter-ruby</span><br><span class="line">logstash-filter-sleep</span><br><span class="line">logstash-filter-split</span><br><span class="line">logstash-filter-syslog_pri</span><br><span class="line">logstash-filter-throttle</span><br><span class="line">logstash-filter-translate</span><br><span class="line">logstash-filter-truncate</span><br><span class="line">logstash-filter-urldecode</span><br><span class="line">logstash-filter-useragent</span><br><span class="line">logstash-filter-uuid</span><br><span class="line">logstash-filter-xml</span><br></pre></td></tr></table></figure>
</li>
<li><p>åœ¨é…ç½®è¿‡æ»¤æºæ—¶ç›´æ¥ä½¿ç”¨logstash-filter-*åé¢çš„*å³å¯ï¼Œæ¯”å¦‚csvï¼›</p>
</li>
<li><p><a href="https://www.elastic.co/guide/en/logstash/current/filter-plugins.html" target="_blank" rel="noopener">å®˜æ–¹è¿‡æ»¤æ’ä»¶</a></p>
</li>
</ol>
</li>
<li><p><strong>è¾“å‡ºæ’ä»¶ï¼š</strong></p>
<ol>
<li><p>å‘½ä»¤ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">logstash-plugin list --group output</span><br></pre></td></tr></table></figure>
</li>
<li><p>è¾“å‡ºï¼ˆ2020/05/11ä¹‹å‰é»˜è®¤å®‰è£…ï¼‰ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">logstash-output-cloudwatch</span><br><span class="line">logstash-output-csv</span><br><span class="line">logstash-output-elastic_app_search</span><br><span class="line">logstash-output-elasticsearch</span><br><span class="line">logstash-output-email</span><br><span class="line">logstash-output-file</span><br><span class="line">logstash-output-graphite</span><br><span class="line">logstash-output-http</span><br><span class="line">logstash-output-lumberjack</span><br><span class="line">logstash-output-nagios</span><br><span class="line">logstash-output-null</span><br><span class="line">logstash-output-pipe</span><br><span class="line">logstash-output-redis</span><br><span class="line">logstash-output-s3</span><br><span class="line">logstash-output-sns</span><br><span class="line">logstash-output-sqs</span><br><span class="line">logstash-output-stdout</span><br><span class="line">logstash-output-tcp</span><br><span class="line">logstash-output-udp</span><br><span class="line">logstash-output-webhdfs</span><br></pre></td></tr></table></figure>
</li>
<li><p>åœ¨é…ç½®è¿‡æ»¤æºæ—¶ç›´æ¥ä½¿ç”¨logstash-output-*åé¢çš„*å³å¯ï¼Œæ¯”å¦‚csvï¼›</p>
</li>
<li><p><a href="https://www.elastic.co/guide/en/logstash/current/output-plugins.html" target="_blank" rel="noopener">å®˜æ–¹è¾“å‡ºæ’ä»¶</a></p>
</li>
</ol>
</li>
<li><p><strong>Codecæ’ä»¶ï¼š</strong></p>
<ol>
<li><p>å‘½ä»¤ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">logstash-plugin list  --group codec</span><br></pre></td></tr></table></figure>
</li>
<li><p>è¾“å‡ºï¼ˆ2020/05/11ä¹‹å‰é»˜è®¤å®‰è£…ï¼‰ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">logstash-codec-avro</span><br><span class="line">logstash-codec-cef</span><br><span class="line">logstash-codec-collectd</span><br><span class="line">logstash-codec-dots</span><br><span class="line">logstash-codec-edn</span><br><span class="line">logstash-codec-edn_lines</span><br><span class="line">logstash-codec-es_bulk</span><br><span class="line">logstash-codec-fluent</span><br><span class="line">logstash-codec-graphite</span><br><span class="line">logstash-codec-json</span><br><span class="line">logstash-codec-json_lines</span><br><span class="line">logstash-codec-line</span><br><span class="line">logstash-codec-msgpack</span><br><span class="line">logstash-codec-multiline</span><br><span class="line">logstash-codec-netflow</span><br><span class="line">logstash-codec-plain</span><br><span class="line">logstash-codec-rubydebug</span><br></pre></td></tr></table></figure>
</li>
<li><p><a href="https://www.elastic.co/guide/en/logstash/current/codec-plugins.html" target="_blank" rel="noopener">å®˜æ–¹codecæ’ä»¶</a></p>
</li>
<li><p>å¸¸ç”¨codecï¼š</p>
<ol>
<li>lineï¼šä½¿ç”¨â€œmessageâ€ä¸­çš„æ•°æ®å°†æ¯è¡Œè½¬æ¢ä¸ºlogstashäº‹ä»¶</li>
<li>multilineï¼šå…è®¸æ‚¨ä¸ºâ€œmessageâ€æ„æˆä»»æ„è¾¹ç•Œ</li>
<li>json_linesï¼š è§£ææ¢è¡Œç¬¦åˆ†éš”çš„JSONæ•°æ®</li>
<li>jsonï¼šè§£ææ‰€æœ‰JSON</li>
</ol>
</li>
</ol>
</li>
</ol>
<h2 id="Logstashå¤šé…ç½®æ–‡ä»¶"><a href="#Logstashå¤šé…ç½®æ–‡ä»¶" class="headerlink" title="Logstashå¤šé…ç½®æ–‡ä»¶"></a>Logstashå¤šé…ç½®æ–‡ä»¶</h2><ol>
<li><p>ä¸€ä¸ªpipelineå«æœ‰ä¸€ä¸ªé€»è¾‘çš„æ•°æ®æµï¼Œå®ƒä»inputæ¥æ”¶æ•°æ®ï¼Œå¹¶æŠŠå®ƒä»¬ä¼ å…¥åˆ°é˜Ÿåˆ—é‡Œï¼Œç»è¿‡workerçš„å¤„ç†ï¼Œæœ€åè¾“å‡ºåˆ°outputï¼›</p>
</li>
<li><p>logstashä½¿ç”¨pipelineæ¥å¤„ç†å¤šä¸ªé…ç½®æ–‡ä»¶ï¼›</p>
</li>
<li><p>éœ€è¦ä¿®æ”¹å®‰è£…æ–‡ä»¶ä¸‹çš„é…ç½®æ–‡ä»¶pipelines.ymlï¼Œæœ¬æœºæµ‹è¯•ç¯å¢ƒä½¿ç”¨brewè¿›è¡Œå®‰è£…çš„ï¼Œå› æ­¤é…ç½®ç›®å½•ä¸º</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">/usr/local/Cellar/logstash/7.6.2/libexec/config</span><br></pre></td></tr></table></figure>

<ul>
<li><p>æ ·ä¾‹ï¼š</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="bullet">-</span> <span class="attr">pipeline.id:</span> <span class="string">daily</span></span><br><span class="line">   <span class="attr">pipeline.workers:</span> <span class="number">1</span></span><br><span class="line">   <span class="attr">pipeline.batch.size:</span> <span class="number">1</span></span><br><span class="line">   <span class="attr">path.config:</span> <span class="string">"/Users/wander/data/multi-pipeline/daily.conf"</span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">pipeline.id:</span> <span class="string">apache</span></span><br><span class="line">   <span class="attr">queue.type:</span> <span class="string">persisted</span></span><br><span class="line">   <span class="attr">path.config:</span> <span class="string">"/Users/wander/data/multi-pipeline/apache.conf"</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>ä¸Šè¿°æ ·ä¾‹å°±å¯ä»¥è¯»å–daily.confä»¥åŠapache.confä¾›logstashä½¿ç”¨ï¼›</p>
</li>
</ul>
</li>
<li><p>ç›´æ¥å¤„ç†ä¸€ä¸ªæ–‡ä»¶å¤¹ä¸‹çš„é…ç½®æ–‡ä»¶ï¼š</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="bullet">-</span> <span class="attr">pipeline.id:</span> <span class="string">my_logs</span></span><br><span class="line">   <span class="attr">queue.type:</span> <span class="string">persisted</span></span><br><span class="line">   <span class="attr">path.config:</span> <span class="string">"/Users/wander/data/multi-pipeline/*.conf"</span></span><br></pre></td></tr></table></figure>

</li>
</ol>
<h2 id="æµ‹è¯•é‚®ä»¶Logstash"><a href="#æµ‹è¯•é‚®ä»¶Logstash" class="headerlink" title="æµ‹è¯•é‚®ä»¶Logstash"></a>æµ‹è¯•é‚®ä»¶Logstash</h2><ol>
<li><p>é¦–å…ˆç¡®è®¤æ˜¯å¦å®‰è£…äº†logstash-input-imapï¼Œé»˜è®¤æ˜¯å®‰è£…çš„ï¼›ç„¶åé…ç½®è¾“å…¥æ–‡ä»¶ï¼š</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="string">input</span> <span class="string">&#123;</span></span><br><span class="line">	<span class="string">imap</span> <span class="string">&#123;</span></span><br><span class="line">	 	<span class="string">host</span> <span class="string">=&gt;</span> <span class="string">"imap.qq.com"</span></span><br><span class="line">	 	<span class="string">user</span> <span class="string">=&gt;</span> <span class="string">"qqé‚®ç®±@qq.com"</span></span><br><span class="line">	 	<span class="string">password</span> <span class="string">=&gt;</span> <span class="string">"å¯†ç "</span></span><br><span class="line">	 	<span class="string">content_type</span> <span class="string">=&gt;</span> <span class="string">"text/plain"</span></span><br><span class="line">	 	<span class="string">secure</span> <span class="string">=&gt;</span> <span class="literal">true</span></span><br><span class="line">	 	<span class="string">port</span> <span class="string">=&gt;</span> <span class="number">993</span></span><br><span class="line">	 	<span class="string">check_interval</span> <span class="string">=&gt;</span> <span class="number">10</span></span><br><span class="line">	 	<span class="string">folder</span> <span class="string">=&gt;</span> <span class="string">"Inbox"</span></span><br><span class="line">	<span class="string">&#125;</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="string">output</span> <span class="string">&#123;</span></span><br><span class="line">	<span class="string">stdout</span> <span class="string">&#123;</span> <span class="string">codec</span> <span class="string">=&gt;</span> <span class="string">rubydebug</span> <span class="string">&#125;</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>ç„¶åè¿è¡ŒlogstashåŠ è½½é…ç½®æ–‡ä»¶ï¼Œå‘é‚®ç®±å‘é€é‚®ä»¶ï¼›</p>
</li>
<li><p>ç¡®ä¿é‚®ç®±å¼€å¯äº†imapï¼Œå¦åˆ™æ˜¯æ— æ³•è¿›è¡Œè¯»å–é‚®ä»¶çš„ï¼›</p>
</li>
<li><p>è¾“å‡ºï¼š</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="string">&#123;</span></span><br><span class="line">                      <span class="string">"x-bq-mailer"</span> <span class="string">=&gt;</span> <span class="string">"QQMail 2.x"</span><span class="string">,</span></span><br><span class="line">                         <span class="string">"x-qq-mid"</span> <span class="string">=&gt;</span> <span class="string">"mxszc46t1589197905tg6wlfm63"</span><span class="string">,</span></span><br><span class="line">                     <span class="string">"x-cm-transid"</span> <span class="string">=&gt;</span> <span class="string">"KAcSCgBXnwtNPLle9rfbAA--.31638S2"</span><span class="string">,</span></span><br><span class="line">                 <span class="string">"x-originating-ip"</span> <span class="string">=&gt;</span> <span class="string">"[49.94.67.169]"</span><span class="string">,</span></span><br><span class="line">                             <span class="string">"date"</span> <span class="string">=&gt;</span> <span class="string">"Mon, 11 May 2020 19:51:41 +0800"</span><span class="string">,</span></span><br><span class="line">                         <span class="string">"received"</span> <span class="string">=&gt;</span> <span class="string">[</span></span><br><span class="line">        <span class="string">[0]</span> <span class="string">"from 218.13.19.13 (unknown [218.13.19.13]) by newmx36.qq.com (NewMx) with SMTP id for &lt;1194409532@qq.com&gt;; Mon, 11 May 2020 19:51:45 +0800"</span><span class="string">,</span></span><br><span class="line">        <span class="string">[1]</span> <span class="string">"from iPhone (unknown [49.94.67.169]) by nanhaia6 (Coremail) with SMTP id KAcSCgBXnwtNPLle9rfbAA--.31638S2; Mon, 11 May 2020 19:51:43 +0800"</span></span><br><span class="line">    <span class="string">],</span></span><br><span class="line">                   <span class="string">"x-qq-orgsender"</span> <span class="string">=&gt;</span> <span class="string">"wangsp14@midea.com"</span><span class="string">,</span></span><br><span class="line">                        <span class="string">"x-bq-mime"</span> <span class="string">=&gt;</span> <span class="string">"TCMime 1.0 by Tencent"</span><span class="string">,</span></span><br><span class="line">                    <span class="string">"ironport-phdr"</span> <span class="string">=&gt;</span> <span class="string">"9a23:eQWNCBabkxDEQt9aARwe8nD/LSx+4OfEezUN459isYplN5qZr8+/bnLW6fgltlLVR4KTs6sC17OL9fG4Ejdfqb+681k6OKRWUBEEjchE1ycBO+WiTXPBEfjxciYhF95DXlI2t1uyMExSBdqsLwaK+i764jEdAAjwOhRoLerpBIHSk9631+ev8JHPfglEnjWwba5yIRmsqQjdqsYajIVgJ60s1hbHv3xEdvhMy2h1P1yThRH85smx/J5n7Stdvu8q+tBDX6vnYak2VKRUAzs6PW874s3rrgTDQhCU5nQASGUWkwFHDBbD4RrnQ5r+qCr6tu562CmHIc37SK0/VDq+46t3ThLjlSEKPCM7/m7KkMx9lKJVrgy8qRNw34Hab4+bOvl5cKPcZt4aRXFOU9xNWyFbHo+xbY0CBPcBM+ZCqIn9okMDoRWwBAa2AuPvxSRIhmfr0aA1yOkhFADG0xE+EN0UqnjbsNL1NKIcXe2ywqjH1zPDb/xN2Tfl9YTFfQssofSNXb1tb8Xe01MjGB/CjlWVsIHoOS6e2esRvWaB9eVgSf6vhHA9qwF3ujWiycghhpTGiI8bxF7J9zh1zJgoKNC7S0N1bt6pHpVTuiyUK4Z6X8IvTmJmtSskxLMLp4C3cSYUxJg5yBDSZeCLfo6V6RzgTOacOSp0iG5/dL6ihBu+60qtxvfzW8WoyFpHoS5InsPIu30CzRDe68qKRuFg8kqg3TuC0R3Y5PteLkAuj6XbLoYswrs3lpUOr0vOBjT2mEDqjK+OcUUk5/So5/znYrr4op+cMJd5igD4MqQygMywG+I4PRYSX2SB/OS81aDs8lPjT7lQkvI2lazZvIjbJcQduKG5HxdY3ps/5xqlEjur084UkHsdIF9KZB6Ll43pNEvPIPD8A/e/mVOskDJzyvHIJLLhBJrNLmPbkLv8crtw8EtcyAsuwt9B/Z1YEK0OIPX2WkPprtzXEgc5MxCow+bgENhxy54SVGaAD6KWLK/ftV+F6+wxL+SXfY8VoSzxJOQi5/7r3jcFngpXJPD4gcdPOS3jRL4yehzIPSa004paS08Tp0w1S+m823OYVjsGLWm7Wa0n/mhnIIenAYrKAIuqhfbVwy69EYZOPzxuD1GAHH6ufIKBDaRfIBmOK9Nsx2RXHYOqTJUsgEmj"</span><span class="string">,</span></span><br><span class="line">                    <span class="string">"x-ironport-av"</span> <span class="string">=&gt;</span> <span class="string">[</span></span><br><span class="line">        <span class="string">[0]</span> <span class="string">"E=McAfee;i=\"6000,8403,9617\"; a=\"107122629\""</span><span class="string">,</span></span><br><span class="line">        <span class="string">[1]</span> <span class="string">"E=Sophos;i=\"5.73,379,1583164800\"; d=\"scan'208,217\";a=\"107122629\""</span></span><br><span class="line">    <span class="string">],</span></span><br><span class="line">    <span class="string">"x-ironport-anti-spam-filtered"</span> <span class="string">=&gt;</span> <span class="string">"true"</span><span class="string">,</span></span><br><span class="line">                           <span class="string">"x-guid"</span> <span class="string">=&gt;</span> <span class="string">"D4E19ED0-E6A4-D528-5441-737CCCEBCC7A"</span><span class="string">,</span></span><br><span class="line">                        <span class="string">"x-qq-feat"</span> <span class="string">=&gt;</span> <span class="string">"4YfUFR6LTbWPT7g1J7q36dJc1luWQvZZ42LpyavBzJq/+9+kOq8Wl37lBEL9a rIftUJPR8kXgobTJ7k1Km4xH4KqqeFq82PX6IlyuIvqPNMANlXbeKNiNmliRU6clwTfCB4m 2W7So113X8hvY2tO/fK242xWE8bKLsmOAN2STroD5kdsgS4p01CheWFzXcwTK5an1go21Ev mj1zxt6gPfYXlSt0ZZvlxSp83qGLDCkTqOdHkMzkUKaMkYZk7eFawndCWyBa6+Vzgbyw3Kv cicES+e6x1OSAOdkq1LbO1KcjmEl4s2GHRiw=="</span><span class="string">,</span></span><br><span class="line">        <span class="string">"content-transfer-encoding"</span> <span class="string">=&gt;</span> <span class="string">"base64"</span><span class="string">,</span></span><br><span class="line">                             <span class="string">"from"</span> <span class="string">=&gt;</span> <span class="string">"\"wangsp14@midea.com\" &lt;wangsp14@midea.com&gt;"</span><span class="string">,</span></span><br><span class="line">                     <span class="string">"content-type"</span> <span class="string">=&gt;</span> <span class="string">"text/html; charset=utf-8"</span><span class="string">,</span></span><br><span class="line">                   <span class="string">"x-qq-xmailinfo"</span> <span class="string">=&gt;</span> <span class="string">"OKPacIQk4dZohzUdVHaQFxpvV6gUIWeBmViOiZ51jOAIaFX+D5qPmAoXbSQbve UnUj8s7elPv8+69QwDL3Cf1xvUZ8rjHPGVAN/A5flZz3+p2mKp4zgTRTDgymurOUv4bQvZFfgwyi kndyrfPe0xeq4/IbxHhqKWhlmLSS2p5ZfwNXJ4vQCV8ExQbA9UeqL8MfwteM0VoTRoEuLoYqlzfT OvQ/QI6Kk1n22z4YB0nrk66RjU6nGPjqiT4Frm0UacDZ/SvsNAgWPOW4XgAu6BItFltS+gD4RZd3 vjh0hTwSdRZjKt6fHXVOq+2WxqZaxYLOQncDI4IwvgKF10aOhcuK6tYrKyBV4XKijR4MUwP0MzeD ZcfVecwQS2F97Da7gKGn7JCD6qkzWkWkLMkWG7G1ezZtK0twyNAiUEgb8SP03tX+5rjQkZguWgBL h67+BPpg5XQgaFDFRS2g4dCep/kRlzmJQa0j940oLDv+3+kYixV5hTEBb39Rgtl8gKmGX7zX5hdk aoW3805Y8s34lWYwbNONpBVu9ws/7W2P4qYpckBFj3G05GfKvpmFAcfKvr3P5TaLg9PWHbTn30wu ZtUNaJxRK5R9NbvKi9Xg3JP/vQkiDAebom42cfjotOeD2c2+OQd7P0uza0SdVAQ3qSxYg+6HgT2S 9OsA=="</span><span class="string">,</span></span><br><span class="line">                          <span class="string">"subject"</span> <span class="string">=&gt;</span> <span class="string">"ceshi"</span><span class="string">,</span></span><br><span class="line">                    <span class="string">"x-ipas-result"</span> <span class="string">=&gt;</span> <span class="string">"A2Es8AAUO7le/ygHEgpmGgEBAQEBKwEJAQYBAQEBAgIBAQEBAgEBAQEDAQEBAYFeTGgKAgEBAQEBAWKBGykyNoQamx1jhRcKgQ4DgmWHQRILAQEBAQEBAQEBGxkBAgQBAYRAAgIZBy4BCIE6JEsCEAEBBgEBAQEBBQQBAQJphQpYgikSIoQJChEpNAEFAQIHDQImAgQ6DAkEBgIbhhqRdJt5gTKJNySBBYEOKAIBAQEBAQEBAYdVgh+DIYFBiVUlgkczgi0EgUEBAZALiBGZCwEGAQECgjKYXRaCNQGabhFAg0lcqE2COIFWcIFuB3cBAUxPGJ5VTTRzCAQJVQEeCBMKAYxZAYEPAQE"</span><span class="string">,</span></span><br><span class="line">      <span class="string">"x-ironport-anti-spam-result"</span> <span class="string">=&gt;</span> <span class="string">"A2Es8AAUO7le/ygHEgpmGgEBAQEBKwEJAQYBAQEBAgIBAQEBAgEBAQEDAQEBAYFeTGgKAgEBAQEBAWKBGykyNoQamx1jhRcKgQ4DgmWHQRILAQEBAQEBAQEBGxkBAgQBAYRAAgIZBy4BCIE6JEsCEAEBBgEBAQEBBQQBAQJphQpYgikSIoQJChEpNAEFAQIHDQImAgQ6DAkEBgIbhhqRdJt5gTKJNySBBYEOKAIBAQEBAQEBAYdVgh+DIYFBiVUlgkczgi0EgUEBAZALiBGZCwEGAQECgjKYXRaCNQGabhFAg0lcqE2COIFWcIFuB3cBAUxPGJ5VTTRzCAQJVQEeCBMKAYxZAYEPAQE"</span><span class="string">,</span></span><br><span class="line">                          <span class="string">"message"</span> <span class="string">=&gt;</span> <span class="string">"&lt;div style=\"min-height:22px;margin-bottom:8px;\"&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=\"min-height:22px;margin-bottom:8px;\"&gt;dhhhdd&lt;/div&gt;&lt;div id=\"QQMailSignature\" class=\"mail-footer\" aria-hidden=\"true\"&gt;&lt;hr style=\"margin: 0 0 10px 0;border: 0;border-bottom:1px solid #E6E8EB;height:0;line-height:0;font-size:0;padding: 20px 0 0 0;width: 50px;\"&gt;å‘è‡ªæˆ‘çš„iPhone&lt;/div&gt;&lt;div id=\"original-content\"&gt;&lt;/div&gt;"</span><span class="string">,</span></span><br><span class="line">                  <span class="string">"x-cm-senderinfo"</span> <span class="string">=&gt;</span> <span class="string">"5zdqw2rsruqxpqwut01hwozxxghdhulrpou0/"</span><span class="string">,</span></span><br><span class="line">                         <span class="string">"@version"</span> <span class="string">=&gt;</span> <span class="string">"1"</span><span class="string">,</span></span><br><span class="line">                       <span class="string">"@timestamp"</span> <span class="string">=&gt;</span> <span class="number">2020</span><span class="number">-05</span><span class="string">-11T11:51:41.000Z,</span></span><br><span class="line">                       <span class="string">"message-id"</span> <span class="string">=&gt;</span> <span class="string">"&lt;tencent_7B8A0157FA3E8FE6ADB9CFBD@qq.com&gt;"</span><span class="string">,</span></span><br><span class="line">              <span class="string">"x-coremail-antispam"</span> <span class="string">=&gt;</span> <span class="string">"1UD129KBjDUn29KB7ZKAUJUUUUU529EdanIXcx71UUUUU7v73 VFW2AGmfu7bjvjm3AaLaJ3UjIYCTnIWjp_UUUrp7k0a2IF6ryUM7kC6x804xWl1xkIjI8I 6I8E6xAIw20EY4v20xvaj40_Wr0E3s1l1IIY67AEw4v_Jr0_Jr4l8cAvFVAK0II2c7xJM2 8CjxkF64kEwVA0rcxSw2x7M28EF7xvwVC0I7IYx2IY67AKxVWDJVCq3wA2z4x0Y4vE2Ix0 cI8IcVCY1x0267AKxVW0oVCq3wA2z4x0Y4vEx4A2jsIE14v26rxl6s0DM28EF7xvwVC2z2 80aVCY1x0267AKxVW0oVCq3wAa7VA2z4x0Y4vE2Ix0cI8IcVCY1x0267AKxVW0oVCq3VA2 z4x0Y4vE2Ix0cI8IcVAFwI0_tr0E3s0EFcxC0VAqx4xG64AKrs4lnx0E84ACjcxK6xIIjx v20xvEc7CjxVAFwI0_GcCE3s0EFcxC0VAqx4xG64AKrs4lnxkEFVAIw20F6cxK64vIFxWl nxkEFVAqjxCEFcIq020EwIxC4wAS0I0E0xvYzxvE52x082IY62kv0487Mc02F40EFcxC0V AKzVAqx4xG6I80ewAv7VC0I7IYx2IY67AKxVWUJVWUGwAv7VC2z280aVAFwI0_Jr0_Gr1l Ox8S6xCaFVCjc4AY6r1j6r4UM4x0Y48IcxkI7VAKI48JM4xvF2IEb7IF0Fy264kE64k0F2 4lFcxC0VAqx4xG64AKrs4lw4CE7480Y4vE14AKx2xKxVC2ax8xM4kE6xkIj40Ew7xC0wCF 04k20xvY0x0EwIxGrwCF04k20xvE74AGY7Cv6cx26r48WwCFx2IqxVCFs4IE7xkEbVWUJV W8JwC20s026c02F40E14v26r106r1rMI8I3I0E7480Y4vE14v26r1j6r18MI8E67AF67kF 1VAFwI0_Jr0_JrylIxkGc2Ij64vIr41lIxAIcVC0I7IYx2IY67AKxVWUJVWUCwCI42IY6x IIjxv20xvEc7CjxVAFwI0_Jr0_Gr1lIxAIcVCF04k26cxKx2IYs7xG6rW3Jr0E3s1lIxAI cVC2z280aVAFwI0_Jr0_Gr1lIxAIcVC2z280aVCY1x0267AKxVWUJVW8JwCE64xvF2IEb7 IF0Fy7YxBIdaVFxhVjvjDU0xZFpf9x07Una93UUUUU="</span><span class="string">,</span></span><br><span class="line">                               <span class="string">"to"</span> <span class="string">=&gt;</span> <span class="string">"1194409532 &lt;1194409532@qq.com&gt;"</span><span class="string">,</span></span><br><span class="line">                    <span class="string">"x-qq-mailinfo"</span> <span class="string">=&gt;</span> <span class="string">"NbUxUzKtP+7YNW2lRqIrst/oPaUXovn7ftT5zLA6Y5xQ0r1Kbr3Z21V/c It7P3O0ON4RghKM9wG9h+qnsa0Jr/z5TNHI4VPYm9xo7oaYtuVpQm6W9cw52ncO9iRGRGhX WW9FiYo3WocFf8zXV80V7aE="</span><span class="string">,</span></span><br><span class="line">                         <span class="string">"x-mailer"</span> <span class="string">=&gt;</span> <span class="string">"QQMail 2.x"</span><span class="string">,</span></span><br><span class="line">                     <span class="string">"mime-version"</span> <span class="string">=&gt;</span> <span class="string">"1.0"</span><span class="string">,</span></span><br><span class="line">                  <span class="string">"x-outbound-spam"</span> <span class="string">=&gt;</span> <span class="string">"2"</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><a href="https://www.elastic.co/guide/en/logstash/current/plugins-inputs-imap.html" target="_blank" rel="noopener">imapå®˜æ–¹è¯´æ˜</a></p>
</li>
<li><p>æ·»åŠ è¿‡æ»¤ï¼š</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ä»…ä»…è¿‡æ»¤æ¡ä»¶</span></span><br><span class="line"><span class="string">filter</span> <span class="string">&#123;</span></span><br><span class="line">	<span class="string">if</span> <span class="string">"critical"</span> <span class="string">in</span> <span class="string">[subject]</span> <span class="string">&#123;</span></span><br><span class="line">		<span class="string">mutate</span> <span class="string">&#123;</span> <span class="string">add_tag</span> <span class="string">=&gt;</span> <span class="string">"critical"</span> <span class="string">&#125;</span></span><br><span class="line">	<span class="string">&#125;</span></span><br><span class="line">	<span class="string">else</span> <span class="string">if</span> <span class="string">"error"</span> <span class="string">in</span> <span class="string">[subject]</span> <span class="string">&#123;</span></span><br><span class="line">		<span class="string">mutate</span> <span class="string">&#123;</span> <span class="string">add_tag</span> <span class="string">=&gt;</span> <span class="string">"error"</span> <span class="string">&#125;</span></span><br><span class="line">	<span class="string">&#125;</span></span><br><span class="line"> <span class="string">&#125;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>å°†ç”µå­é‚®ä»¶æ·»åŠ åˆ°ELKå †æ ˆä¸­çš„æ•°æ®åˆ†æç®¡é“ä¸­è‚¯å®šæœ‰ä¸€å®šçš„ä»·å€¼å­˜åœ¨çš„ï¼</p>
</li>
</ol>
<h2 id="è¯´æ˜"><a href="#è¯´æ˜" class="headerlink" title="è¯´æ˜"></a>è¯´æ˜</h2><ol>
<li>ä¸ºä»€ä¹ˆæœ‰æ•°æ®æ–¹æ¡ˆï¼šBeats ==&gt; Kafka ==&gt; Logstash ==&gt; Elasticsearchè¿™ç§æµç¨‹å‘¢ï¼Ÿ<ul>
<li>æ—¥å¿—æ˜¯ä¸å¯é¢„æµ‹çš„ï¼Œåœ¨å‘ç”Ÿç”Ÿäº§äº‹ä»¶åï¼Œæ°æ°åœ¨æ‚¨æœ€éœ€è¦å®ƒä»¬æ—¶ï¼Œæ—¥å¿—å¯èƒ½çªç„¶æ¿€å¢å¹¶æ·¹æ²¡æ‚¨çš„æ—¥å¿—è®°å½•åŸºç¡€ç»“æ„</li>
<li><strong>ä¸ºäº†ä¿æŠ¤Logstashå’ŒElasticsearchå…å—æ­¤ç±»æ•°æ®çªå‘æ”»å‡»ï¼Œç”¨æˆ·éƒ¨ç½²äº†ç¼“å†²æœºåˆ¶ä»¥å……å½“æ¶ˆæ¯ä»£ç†</strong></li>
</ul>
</li>
</ol>
<h2 id="å‚è€ƒæ–‡æ¡£"><a href="#å‚è€ƒæ–‡æ¡£" class="headerlink" title="å‚è€ƒæ–‡æ¡£"></a>å‚è€ƒæ–‡æ¡£</h2><ul>
<li><a href="https://www.elastic.co/cn/logstash" target="_blank" rel="noopener">å®˜æ–¹ç½‘ç«™</a></li>
<li><a href="https://www.elastic.co/guide/en/logstash/current/index.html" target="_blank" rel="noopener">å®˜æ–¹æ–‡æ¡£</a></li>
<li><a href="https://www.elastic.co/guide/index.html" target="_blank" rel="noopener">Elasticå®˜æ–¹æŒ‡å¯¼</a></li>
<li><a href="https://www.elastic.co/cn/blog" target="_blank" rel="noopener">å®˜æ–¹åšå®¢</a></li>
<li><a href="https://www.elastic.co/guide/en/logstash/current/plugins-filters-mutate.html#plugins-filters-mutate" target="_blank" rel="noopener">è½¬æ¢æ’ä»¶</a></li>
<li><a href="https://blog.csdn.net/ubuntutouch/category_9335275.html" target="_blank" rel="noopener">CSDNå®˜æ–¹ç¤¾åŒºåšå®¢</a></li>
<li><a href="https://blog.csdn.net/UbuntuTouch/article/details/100606857" target="_blank" rel="noopener">ä¸€ä¸ªç»å…¸æ¡ˆä¾‹</a></li>
<li><a href="https://blog.csdn.net/UbuntuTouch/article/details/104865306" target="_blank" rel="noopener">Geoæœç´¢</a></li>
</ul>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>Logstashæ˜¯ELKBä¸­éå¸¸é‡è¦çš„ç»„ä»¶ï¼Œå…¶ä¸­çš„filteræ’ä»¶åˆä¸ºå…¶æ•°æ®çš„å¤„ç†è´¡çŒ®äº†å¤ªå¤šï¼Œéœ€è¦é•¿æœŸçš„ç§¯ç´¯ï¼Œä»¥åŠå‚è€ƒå®˜æ–¹æ–‡æ¡£æ‰èƒ½é…ç½®å‡ºæ¯”è¾ƒé€‚åˆçš„filterï¼Œè¿™éƒ¨åˆ†éœ€è¦å¤§é‡çš„ç»ƒä¹ ï¼Œæ‰èƒ½ä½¿å¾—åˆ†ææ•°æ®å·¥ä½œå˜å¾—æ›´åŠ è½»æ¾ï¼Œåç»­è¿˜éœ€è¦è¿›è¡Œä¸€äº›filterçš„ç¼–å†™ï¼</p>
]]></content>
      <categories>
        <category>ELK</category>
      </categories>
  </entry>
  <entry>
    <title>MySQL Qucik Start</title>
    <url>/2020/04/30/MySQL-Qucik-Start/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>MySQL æ˜¯ä¸–ç•Œä¸Šæœ€å—æ¬¢è¿çš„æ•°æ®åº“ç®¡ç†ç³»ç»Ÿä¹‹ä¸€ï¼Œä¸è®ºæ˜¯ä»€ä¹ˆç±»å‹çš„é¡¹ç›®ä¸Šéƒ½æˆ–å¤šæˆ–å°‘çš„ä½¿ç”¨äº†MySQLã€‚æ•°æ®åº“æ˜¯ä¸€ä¸ªä»¥æŸç§æœ‰ç»„ç»‡çš„æ–¹å¼å­˜å‚¨çš„æ•°æ®é›†åˆã€‚ <strong>æ¨èä¹¦ç±ï¼šã€ŠMySQL Crash Course MySQLå¿…çŸ¥å¿…ä¼šã€‹Â· [è‹±]  Ben Fortaè‘— åˆ˜æ™“éœ é’Ÿé¸£è¯‘</strong></p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="åŸºç¡€å®šä¹‰"><a href="#åŸºç¡€å®šä¹‰" class="headerlink" title="åŸºç¡€å®šä¹‰"></a>åŸºç¡€å®šä¹‰</h2><ol>
<li><p><strong>æ•°æ®åº“ï¼ˆdatabaseï¼‰</strong>ï¼šä¸€ä¸ªä»¥æŸç§æœ‰ç»„ç»‡çš„æ–¹å¼å­˜å‚¨çš„æ•°æ®é›†åˆï¼›</p>
</li>
<li><p><strong>è¡¨ï¼ˆtableï¼‰</strong>ï¼šä¸€ç§ç»“æ„åŒ–çš„æ–‡ä»¶ï¼Œå¯ç”¨æ¥å­˜å‚¨æŸç§ç‰¹å®šç±»å‹çš„æ•°æ®ï¼Œå¯ä»¥ä¿å­˜é¡¾å®¢æ¸…å•ã€äº§å“ç›®å½•ï¼Œæˆ–è€…å…¶ä»–ä¿¡æ¯æ¸…å•ï¼›æ•°æ®åº“ä¸­çš„æ¯ä¸ªè¡¨éƒ½æœ‰ä¸€ä¸ªåå­—ï¼Œç”¨æ¥æ ‡è¯†è‡ªå·±ï¼Œæ­¤åå­—æ˜¯å”¯ä¸€çš„ï¼›</p>
</li>
<li><p><strong>æ¨¡å¼ï¼ˆschemaï¼‰</strong>ï¼šå…³äºæ•°æ®åº“å’Œè¡¨çš„å¸ƒå±€åŠç‰¹æ€§çš„ä¿¡æ¯ï¼›</p>
</li>
<li><p><strong>åˆ—ï¼ˆcolumnï¼‰</strong>ï¼šè¡¨ä¸­çš„ä¸€ä¸ªå­—æ®µï¼Œæ‰€æœ‰è¡¨éƒ½æ˜¯ç”±ä¸€ä¸ªæˆ–å¤šä¸ªåˆ—ç»„æˆçš„ï¼›</p>
<ul>
<li>æ­£ç¡®åœ°å°†æ•°æ®åˆ†è§£ä¸ºå¤šä¸ªåˆ—æä¸ºé‡è¦</li>
<li>æ ¹æ®å…·ä½“éœ€æ±‚æ¥å†³å®šæŠŠæ•°æ®åˆ†è§£åˆ°ä½•ç§ç¨‹åº¦</li>
</ul>
</li>
<li><p><strong>æ•°æ®ç±»å‹ï¼ˆdatatypeï¼‰</strong>ï¼šæ‰€å®¹è®¸çš„æ•°æ®çš„ç±»å‹ï¼Œæ¯ä¸ªè¡¨åˆ—éƒ½æœ‰ç›¸åº”çš„æ•°æ®ç±»å‹ï¼Œé™åˆ¶ï¼ˆæˆ–å®¹è®¸ï¼‰è¯¥åˆ—ä¸­å­˜å‚¨çš„æ•°æ®ï¼›</p>
</li>
<li><p><strong>è¡Œï¼ˆrowï¼‰</strong>ï¼šè¡¨ä¸­çš„ä¸€ä¸ªè®°å½•ï¼›</p>
</li>
<li><p>ä¸»é”®ï¼ˆprimary keyï¼‰ï¼šä¸€åˆ—ï¼ˆæˆ–ä¸€ç»„åˆ—ï¼‰ï¼Œå…¶å€¼èƒ½å¤Ÿå”¯ä¸€åŒºåˆ†è¡¨ä¸­æ¯ä¸ªè¡Œï¼›è¡¨ä¸­çš„ä»»ä½•åˆ—éƒ½å¯ä»¥ä½œä¸ºä¸»é”®ï¼Œåªè¦å®ƒæ»¡è¶³ä»¥ä¸‹æ¡ä»¶ï¼š</p>
<ul>
<li>ä»»æ„ä¸¤è¡Œéƒ½ä¸å…·æœ‰ç›¸åŒçš„ä¸»é”®å€¼</li>
<li>æ¯ä¸ªè¡Œéƒ½å¿…é¡»å…·æœ‰ä¸€ä¸ªä¸»é”®å€¼</li>
</ul>
</li>
<li><p>åœ¨ä½¿ç”¨å¤šåˆ—ä½œä¸ºä¸»é”®æ—¶ï¼Œä¸Šè¿°æ¡ä»¶å¿…é¡»åº”ç”¨åˆ°æ„æˆä¸»é”®çš„æ‰€æœ‰åˆ—ï¼Œæ‰€æœ‰åˆ—å€¼çš„ç»„åˆå¿…é¡»æ˜¯å”¯ä¸€çš„ï¼ˆä½†å•ä¸ªåˆ—çš„å€¼å¯ä»¥ä¸å”¯ä¸€ï¼‰ï¼›</p>
</li>
<li><p>SQLæ˜¯ç»“æ„åŒ–æŸ¥è¯¢è¯­è¨€ï¼ˆStructured Query Languageï¼‰çš„ç¼©å†™ï¼Œä¸“é—¨ç”¨æ¥ä¸æ•°æ®åº“é€šä¿¡çš„è¯­è¨€ï¼›</p>
</li>
<li><p>MySQLã€Oracleä»¥åŠMicrosoft SQL Serverç­‰æ•°æ®åº“æ˜¯åŸºäºå®¢æˆ·æœºâ€”æœåŠ¡å™¨çš„æ•°æ®åº“ï¼ŒæœåŠ¡å™¨éƒ¨åˆ†æ˜¯è´Ÿè´£æ‰€æœ‰æ•°æ®è®¿é—®å’Œå¤„ç†çš„ä¸€ä¸ªè½¯ä»¶ï¼›</p>
</li>
<li><p><strong>å…³é”®å­—(key word)</strong>ï¼šä½œä¸ºMySQLè¯­è¨€ç»„æˆéƒ¨åˆ†çš„ä¸€ä¸ªä¿ç•™å­—ï¼Œä¸è¦ç”¨å…³é”®å­—å‘½åä¸€ä¸ªè¡¨æˆ–åˆ—ï¼›</p>
</li>
</ol>
<h2 id="ä½¿ç”¨MySQL"><a href="#ä½¿ç”¨MySQL" class="headerlink" title="ä½¿ç”¨MySQL"></a>ä½¿ç”¨MySQL</h2><ol>
<li><p>ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤è¿æ¥æ•°æ®åº“ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">mysql -u root -p</span><br><span class="line"># Enter password:</span><br><span class="line"># Welcome to the MySQL monitor.  Commands end with ; or \g.</span><br><span class="line"># Your MySQL connection id is 9</span><br><span class="line"># Server version: 8.0.19 Homebrew</span><br><span class="line"></span><br><span class="line"># Copyright (c) 2000, 2020, Oracle and&#x2F;or its affiliates. All rights reserved.</span><br><span class="line"></span><br><span class="line"># Oracle is a registered trademark of Oracle Corporation and&#x2F;or its</span><br><span class="line"># affiliates. Other names may be trademarks of their respective</span><br><span class="line"># owners.</span><br><span class="line"></span><br><span class="line"># Type &#39;help;&#39; or &#39;\h&#39; for help. Type &#39;\c&#39; to clear the current input statement.</span><br></pre></td></tr></table></figure>
</li>
<li><p>åˆ›å»ºæ•°æ®åº“crashcourseï¼Œä»¥åéƒ½åœ¨è¿™ä¸ªæ•°æ®åº“é‡Œé¢è¿›è¡Œæ“ä½œï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">CREATE DATABASE crashcourse;</span><br><span class="line"># Query OK, 1 row affected (0.04 sec)</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä½¿ç”¨crashcourseæ•°æ®åº“:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">USE crashcourse</span><br><span class="line"># Database changed &#x3D;&gt;mysqlå‘½ä»¤è¡Œå®ç”¨ç¨‹åºåœ¨æ•°æ®åº“é€‰æ‹©æˆåŠŸåæ˜¾ç¤ºçš„</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ˜¾ç¤ºæ‰€æœ‰çš„æ•°æ®åº“ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">SHOW DATABASES;</span><br><span class="line"># è¿”å›å¯ç”¨æ•°æ®åº“çš„ä¸€ä¸ªåˆ—è¡¨</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä¸ºäº†è·å¾—ä¸€ä¸ªæ•°æ®åº“å†…çš„è¡¨çš„åˆ—è¡¨ï¼Œä½¿ç”¨<strong>SHOW TABLES;</strong> ï¼›</p>
</li>
<li><p>å¯ä»¥ä½¿ç”¨<strong>SHOWå‘½ä»¤æ¥æ˜¾ç¤ºè¡¨çš„åˆ—</strong>ï¼Œæ¯”å¦‚ SHOW COLUMNS FROM customersï¼›</p>
</li>
<li><p>DESCRIBE è¯­å¥ï¼šMySQLæ”¯æŒç”¨ DESCRIBE ä½œä¸º SHOW COLUMNS FROMçš„ä¸€ç§å¿«æ·æ–¹å¼ï¼›</p>
</li>
<li><p>å…¶ä»–SHOWè¯­å¥ï¼š</p>
<ol>
<li>SHOW STATUSï¼Œç”¨äºæ˜¾ç¤ºå¹¿æ³›çš„æœåŠ¡å™¨çŠ¶æ€ä¿¡æ¯</li>
<li>SHOW CREATE DATABASEå’ŒSHOW CREATE TABLEï¼Œåˆ†åˆ«ç”¨æ¥æ˜¾ç¤ºåˆ›å»ºç‰¹å®šæ•°æ®åº“æˆ–è¡¨çš„MySQLè¯­å¥</li>
<li>SHOW GRANTSï¼Œç”¨æ¥æ˜¾ç¤ºæˆäºˆç”¨æˆ·ï¼ˆæ‰€æœ‰ç”¨æˆ·æˆ–ç‰¹å®šç”¨æˆ·ï¼‰çš„å®‰å…¨æƒé™</li>
<li>SHOW ERRORSå’ŒSHOW WARNINGSï¼Œç”¨æ¥æ˜¾ç¤ºæœåŠ¡å™¨é”™è¯¯æˆ–è­¦å‘Šæ¶ˆæ¯</li>
<li>HELP SHOWï¼Œæ˜¾ç¤ºå…è®¸çš„SHOWè¯­å¥</li>
</ol>
</li>
</ol>
<h2 id="æ£€ç´¢æ•°æ®"><a href="#æ£€ç´¢æ•°æ®" class="headerlink" title="æ£€ç´¢æ•°æ®"></a>æ£€ç´¢æ•°æ®</h2><ol>
<li><p><strong>SELECTè¯­å¥</strong>ï¼šä»ä¸€ä¸ªæˆ–å¤šä¸ªè¡¨ä¸­æ£€ç´¢ä¿¡æ¯ï¼›</p>
</li>
<li><p>æ£€ç´¢ä¸€ä¸ªåˆ—,æ‰€éœ€çš„åˆ—ååœ¨SELECTå…³é”®å­—ä¹‹åç»™å‡ºï¼ŒFROMå…³é”®å­—æŒ‡å‡ºä»å…¶ä¸­æ£€ç´¢æ•°æ®çš„è¡¨åï¼Œæ¯”å¦‚ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">SELECT age FROM girl;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>æ³¨æ„ï¼šå³ä½¿ä¸ä¸€å®šéœ€è¦ï¼Œä½†åŠ ä¸Šåˆ†å·è‚¯å®šæ²¡æœ‰åå¤„ï¼›å¯¹æ‰€æœ‰SQLå…³é”®å­—ä½¿ç”¨å¤§å†™ï¼Œè€Œå¯¹æ‰€æœ‰åˆ—å’Œè¡¨åä½¿ç”¨å°å†™ï¼Œè¿™æ ·åšä½¿ä»£ç æ›´æ˜“äºé˜…è¯»å’Œè°ƒè¯•ï¼›</strong></p>
</li>
<li><p>æ£€ç´¢å¤šä¸ªåˆ—ï¼Œå¿…é¡»åœ¨SELECTå…³é”®å­—åç»™å‡ºå¤šä¸ªåˆ—åï¼Œåˆ—åä¹‹é—´å¿…é¡»ä»¥é€—å·åˆ†éš”ï¼›ç”¨æ˜Ÿå·ï¼ˆ*ï¼‰é€šé…ç¬¦æ¥æ£€ç´¢æ‰€æœ‰çš„åˆ—ï¼ˆå»ºè®®ä¸è¦ä½¿ç”¨ï¼Œä¼šé™ä½æ£€ç´¢å’Œåº”ç”¨ç¨‹åºçš„æ€§èƒ½ï¼‰ï¼›</p>
</li>
<li><p>æ³¨é‡Šä½¿ç”¨â€“ ï¼ˆä¸¤ä¸ªè¿å­—ç¬¦ï¼‰åµŒåœ¨è¡Œå†…ï¼Œâ€“ ä¹‹åçš„æ–‡æœ¬å°±æ˜¯æ³¨é‡Šï¼›</p>
</li>
<li><p>ä½¿ç”¨DISTINCTå…³é”®å­—åªè¿”å›ä¸åŒçš„å€¼,<strong><em>DISTINCT å…³é”®å­—åº”ç”¨äºæ‰€æœ‰åˆ—è€Œä¸ä»…æ˜¯å‰ç½®å®ƒçš„åˆ—</em></strong>,æ¯”å¦‚ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">SELECT DISTINCT age as herage FROM girl ;</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä¸ºäº†è¿”å›ç¬¬ä¸€è¡Œæˆ–å‰å‡ è¡Œï¼Œå¯ä½¿ç”¨LIMITå­å¥,ä¸ä¼šå¤šäºæŒ‡å®šçš„è¡Œæ•°ï¼Œä¹Ÿå¯ä»¥æŒ‡å®šæ£€ç´¢çš„èµ·å§‹è¡Œï¼ˆå‡½æ•°ä»0å¼€å§‹ï¼‰ï¼Œæ›¿ä»£è¯­æ³• LIMIT 4 OFFSET 3æ„ä¸ºä»è¡Œ3å¼€å§‹å–4è¡Œï¼Œæ¯”å¦‚ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># æœ€å¤šè¿”å›3è¡Œæ•°æ®</span><br><span class="line">SELECT age FROM girl LIMIT 3;</span><br><span class="line"># ä»ç¬¬äºŒè¡Œå¼€å§‹ï¼Œè¿”å›ä¸‰è¡Œ</span><br><span class="line">SELECT age FROM girl LIMIT 2,3;</span><br><span class="line">SELECT age FROM girl LIMIT 3 OFFSET 2;</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä½¿ç”¨å®Œå…¨é™å®šçš„åå­—æ¥å¼•ç”¨åˆ—ï¼ˆåŒæ—¶ä½¿ç”¨è¡¨åå’Œåˆ—å­—ï¼‰ä¹Ÿæ˜¯ä¸€ç§ä¸é”™çš„é€‰æ‹©ï¼›</p>
</li>
</ol>
<h2 id="æ’åºæ£€ç´¢æ•°æ®"><a href="#æ’åºæ£€ç´¢æ•°æ®" class="headerlink" title="æ’åºæ£€ç´¢æ•°æ®"></a>æ’åºæ£€ç´¢æ•°æ®</h2><ol>
<li><strong>å­å¥ï¼ˆclauseï¼‰</strong>ï¼šSQLè¯­å¥ç”±å­å¥æ„æˆï¼Œæœ‰äº›å­å¥æ˜¯å¿…éœ€çš„ï¼Œè€Œæœ‰çš„æ˜¯å¯é€‰çš„ï¼›</li>
<li>æ’åºç”¨SELECTè¯­å¥æ£€ç´¢å‡ºçš„æ•°æ®ï¼Œå¯ä½¿ç”¨ORDER BYå­å¥ï¼›</li>
<li>ä¸ºäº†æŒ‰å¤šä¸ªåˆ—æ’åºï¼Œåªè¦æŒ‡å®šåˆ—åï¼Œåˆ—åä¹‹é—´ç”¨é€—å·åˆ†å¼€å³å¯,åœ¨æŒ‰å¤šä¸ªåˆ—æ’åºæ—¶ï¼Œæ’åºå®Œå…¨æŒ‰æ‰€è§„å®šçš„é¡ºåºè¿›è¡Œ;</li>
<li>æ•°æ®æ’åºä¸é™äºå‡åºæ’åºï¼ˆé»˜è®¤ï¼‰ï¼Œä¸ºäº†è¿›è¡Œé™åºæ’åºï¼Œå¿…é¡»æŒ‡å®šDESCå…³é”®å­—ï¼Œ<strong>DESCå…³é”®å­—åªåº”ç”¨åˆ°ç›´æ¥ä½äºå…¶å‰é¢çš„åˆ—åï¼›</strong>ä¸DESCç›¸åçš„å…³é”®å­—æ˜¯ASCï¼ˆASCENDINGï¼‰ï¼Œåœ¨å‡åºæ’åºæ—¶å¯ä»¥æŒ‡å®šå®ƒï¼›</li>
<li>æ³¨æ„ï¼š<ul>
<li><strong>åœ¨ç»™å‡ºORDER BYå­å¥æ—¶ï¼Œåº”è¯¥ä¿è¯å®ƒä½äº FROM å­å¥ä¹‹åï¼›</strong></li>
<li><strong>å¦‚æœä½¿ç”¨ LIMITï¼Œå®ƒå¿…é¡»ä½äº ORDER BYä¹‹åï¼›</strong></li>
<li>ä½¿ç”¨å­å¥çš„æ¬¡åºä¸å¯¹å°†äº§ç”Ÿé”™è¯¯æ¶ˆæ¯ã€‚</li>
</ul>
</li>
</ol>
<h2 id="è¿‡æ»¤æ•°æ®"><a href="#è¿‡æ»¤æ•°æ®" class="headerlink" title="è¿‡æ»¤æ•°æ®"></a>è¿‡æ»¤æ•°æ®</h2><ol>
<li>åªæ£€ç´¢æ‰€éœ€æ•°æ®éœ€è¦æŒ‡å®šæœç´¢æ¡ä»¶ï¼ˆsearch criteriaï¼‰ä¹Ÿç§°ä¸ºè¿‡æ»¤æ¡ä»¶ï¼ˆfilter conditionï¼‰ï¼›</li>
<li>åœ¨SELECTè¯­å¥ä¸­ï¼Œæ•°æ®æ ¹æ®WHEREå­å¥ä¸­æŒ‡å®šçš„æœç´¢æ¡ä»¶è¿›è¡Œè¿‡æ»¤ï¼Œ<strong>WHEREå­å¥åœ¨è¡¨åï¼ˆFROMå­å¥ï¼‰ä¹‹åç»™å‡º</strong>ï¼›</li>
<li><strong>åœ¨åŒæ—¶ä½¿ç”¨ORDER BYå’ŒWHEREå­å¥æ—¶ï¼Œåº”è¯¥è®©ORDER BYä½äºWHEREä¹‹åï¼Œå¦åˆ™å°†ä¼šäº§ç”Ÿé”™è¯¯ï¼›</strong></li>
<li>WHEREå­å¥æ“ä½œç¬¦ï¼š</li>
</ol>
<table>
<thead>
<tr>
<th>æ“ä½œç¬¦</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>=</td>
<td>ç­‰äº</td>
</tr>
<tr>
<td>&lt;&gt;</td>
<td>ä¸ç­‰äº</td>
</tr>
<tr>
<td>!=</td>
<td>ä¸ç­‰äº</td>
</tr>
<tr>
<td>&lt;</td>
<td>å°äº</td>
</tr>
<tr>
<td>&lt;=</td>
<td>å°äºç­‰äº</td>
</tr>
<tr>
<td>&gt;</td>
<td>å¤§äº</td>
</tr>
<tr>
<td>&gt;=</td>
<td>å¤§äºç­‰äº</td>
</tr>
<tr>
<td>BETWEEN   AND</td>
<td>åœ¨æŒ‡å®šçš„ä¸¤ä¸ªå€¼ä¹‹é—´</td>
</tr>
</tbody></table>
<ol start="5">
<li><p>SELECTè¯­å¥æœ‰ä¸€ä¸ªç‰¹æ®Šçš„WHEREå­å¥ï¼Œå¯ç”¨æ¥æ£€æŸ¥å…·æœ‰NULLå€¼çš„åˆ—ï¼ŒIS NULLå­å¥ï¼›</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">SELECT prod_name FROM products WHERE prod_price IS NULL;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h2 id="WHEREå­å¥é«˜çº§ç”¨æ³•"><a href="#WHEREå­å¥é«˜çº§ç”¨æ³•" class="headerlink" title="WHEREå­å¥é«˜çº§ç”¨æ³•"></a>WHEREå­å¥é«˜çº§ç”¨æ³•</h2><ol>
<li><p>MySQLå…è®¸ç»™å‡ºå¤šä¸ªWHEREå­å¥ï¼Œå¯ä»¥ä¸¤ç§æ–¹å¼ä½¿ç”¨ï¼šä»¥<strong>ANDå­å¥</strong>çš„æ–¹å¼æˆ–<strong>ORå­å¥</strong>çš„æ–¹å¼ä½¿ç”¨ï¼›</p>
</li>
<li><p><strong>æ“ä½œç¬¦ï¼ˆoperatorï¼‰</strong>ï¼šç”¨æ¥è”ç»“æˆ–æ”¹å˜WHEREå­å¥ä¸­çš„å­å¥çš„å…³é”®å­—ï¼Œä¹Ÿç§°ä¸ºé€»è¾‘æ“ä½œç¬¦ï¼ˆlogical operatorï¼‰ï¼›</p>
</li>
<li><p>å¯ä»¥æ·»åŠ å¤šä¸ªè¿‡æ»¤æ¡ä»¶ï¼Œæ¯æ·»åŠ ä¸€æ¡å°±è¦ä½¿ç”¨ä¸€ä¸ªANDï¼›</p>
</li>
<li><p>ORæ“ä½œç¬¦ä¸ANDæ“ä½œç¬¦ä¸åŒï¼ŒæŒ‡ç¤ºMySQLæ£€ç´¢åŒ¹é…ä»»ä¸€æ¡ä»¶çš„è¡Œï¼›</p>
</li>
<li><p>WHEREå¯åŒ…å«ä»»æ„æ•°ç›®çš„ANDå’ŒORæ“ä½œç¬¦ï¼Œå…è®¸ä¸¤è€…ç»“åˆä»¥è¿›è¡Œå¤æ‚å’Œé«˜çº§çš„è¿‡æ»¤ï¼š</p>
<ol>
<li><strong>SQLåœ¨å¤„ç†ORæ“ä½œç¬¦å‰ï¼Œä¼˜å…ˆå¤„ç†ANDæ“ä½œç¬¦</strong></li>
<li><strong>ä½¿ç”¨åœ†æ‹¬å·æ˜ç¡®åœ°åˆ†ç»„ç›¸åº”çš„æ“ä½œç¬¦</strong></li>
<li><strong>ä»»ä½•æ—¶å€™ä½¿ç”¨å…·æœ‰ANDå’Œ ORæ“ä½œç¬¦çš„WHEREå­å¥ï¼Œéƒ½åº”è¯¥ä½¿ç”¨åœ†æ‹¬å·æ˜ç¡®åœ°åˆ†ç»„æ“ä½œç¬¦</strong></li>
</ol>
</li>
<li><p>INæ“ä½œç¬¦ç”¨æ¥æŒ‡å®šæ¡ä»¶èŒƒå›´ï¼ŒèŒƒå›´ä¸­çš„æ¯ä¸ªæ¡ä»¶éƒ½å¯ä»¥è¿›è¡ŒåŒ¹é…ï¼ŒINå–åˆæ³•å€¼çš„ç”±é€—å·åˆ†éš”çš„æ¸…å•ï¼Œå…¨éƒ½æ‹¬åœ¨åœ†æ‹¬å·ä¸­ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">SELECT DISTINCT age as herage FROM girl WHERE age IN(27,45);</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>INæ“ä½œç¬¦</strong>çš„ä¼˜åŠ¿ï¼š</p>
<ol>
<li>åœ¨ä½¿ç”¨é•¿çš„åˆæ³•é€‰é¡¹æ¸…å•æ—¶ï¼ŒINæ“ä½œç¬¦çš„è¯­æ³•æ›´æ¸…æ¥šä¸”æ›´ç›´è§‚</li>
<li>åœ¨ä½¿ç”¨INæ—¶ï¼Œè®¡ç®—çš„æ¬¡åºæ›´å®¹æ˜“ç®¡ç†</li>
<li>INæ“ä½œç¬¦ä¸€èˆ¬æ¯”ORæ“ä½œç¬¦æ¸…å•æ‰§è¡Œæ›´å¿«</li>
<li>INçš„æœ€å¤§ä¼˜ç‚¹æ˜¯å¯ä»¥åŒ…å«å…¶ä»–SELECTè¯­å¥ï¼Œä½¿å¾—èƒ½å¤Ÿæ›´åŠ¨æ€åœ°å»ºç«‹WHEREå­å¥</li>
</ol>
</li>
<li><p>WHEREå­å¥ä¸­çš„<strong>NOTæ“ä½œç¬¦</strong>æœ‰ä¸”åªæœ‰ä¸€ä¸ªåŠŸèƒ½ï¼Œé‚£å°±æ˜¯å¦å®šå®ƒä¹‹åæ‰€è·Ÿçš„ä»»ä½•æ¡ä»¶ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">SELECT DISTINCT age as herage FROM girl WHERE age NOT IN(27,45);</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h2 id="é€šé…ç¬¦è¿‡æ»¤"><a href="#é€šé…ç¬¦è¿‡æ»¤" class="headerlink" title="é€šé…ç¬¦è¿‡æ»¤"></a>é€šé…ç¬¦è¿‡æ»¤</h2><ol>
<li><p>åˆ©ç”¨é€šé…ç¬¦å¯åˆ›å»ºæ¯”è¾ƒç‰¹å®šæ•°æ®çš„æœç´¢æ¨¡å¼ï¼›</p>
</li>
<li><p><strong>é€šé…ç¬¦ï¼ˆwildcardï¼‰</strong>ï¼šç”¨æ¥åŒ¹é…å€¼çš„ä¸€éƒ¨åˆ†çš„ç‰¹æ®Šå­—ç¬¦ï¼›</p>
</li>
<li><p><strong>æœç´¢æ¨¡å¼ï¼ˆsearch patternï¼‰</strong>ï¼šç”±å­—é¢å€¼ã€é€šé…ç¬¦æˆ–ä¸¤è€…ç»„åˆæ„æˆçš„æœç´¢æ¡ä»¶ï¼›</p>
</li>
<li><p>ä¸ºåœ¨æœç´¢å­å¥ä¸­ä½¿ç”¨é€šé…ç¬¦ï¼Œå¿…é¡»ä½¿ç”¨LIKEæ“ä½œç¬¦ï¼ŒæŒ‡ç¤ºMySQLåè·Ÿçš„æœç´¢æ¨¡å¼åˆ©ç”¨é€šé…ç¬¦åŒ¹é…è€Œä¸æ˜¯ç›´æ¥ç›¸ç­‰åŒ¹é…è¿›è¡Œæ¯”è¾ƒï¼›</p>
</li>
<li><p>é€šé…ç¬¦å¯åœ¨æœç´¢æ¨¡å¼ä¸­ä»»æ„ä½ç½®ä½¿ç”¨ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨å¤šä¸ªé€šé…ç¬¦ï¼›</p>
</li>
<li><p>é€šé…ç¬¦<strong>ç™¾åˆ†å·ï¼ˆ%ï¼‰</strong>ï¼š%è¡¨ç¤ºä»»ä½•å­—ç¬¦å‡ºç°ä»»æ„æ¬¡æ•°ï¼Œé™¤äº†ä¸€ä¸ªæˆ–å¤šä¸ªå­—ç¬¦å¤–ï¼Œ%è¿˜èƒ½åŒ¹é…0ä¸ªå­—ç¬¦ï¼Œä½†æ˜¯ä¸èƒ½åŒ¹é…NULLï¼›</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">SELECT * FROM girl WHERE age LIKE &#39;4%&#39;;</span><br></pre></td></tr></table></figure>
</li>
<li><p>é€šé…ç¬¦<strong>ä¸‹åˆ’çº¿ï¼ˆ_ï¼‰</strong>ï¼šåªåŒ¹é…å•ä¸ªå­—ç¬¦è€Œä¸æ˜¯å¤šä¸ªå­—ç¬¦;</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">SELECT * FROM girl WHERE age LIKE &#39;2_&#39;;</span><br></pre></td></tr></table></figure>
</li>
<li><p>é€šé…ç¬¦ä½¿ç”¨æŠ€å·§ï¼š</p>
<ol>
<li><strong><em>ä¸è¦è¿‡åº¦ä½¿ç”¨é€šé…ç¬¦</em></strong></li>
<li><strong><em>åœ¨ç¡®å®éœ€è¦ä½¿ç”¨é€šé…ç¬¦æ—¶ï¼Œé™¤éç»å¯¹æœ‰å¿…è¦ï¼Œå¦åˆ™ä¸è¦æŠŠå®ƒä»¬ç”¨åœ¨æœç´¢æ¨¡å¼çš„å¼€å§‹å¤„</em></strong></li>
<li><strong><em>ä»”ç»†æ³¨æ„é€šé…ç¬¦çš„ä½ç½®</em></strong></li>
</ol>
</li>
</ol>
<h2 id="æ­£åˆ™è¡¨è¾¾å¼é«˜çº§æœç´¢"><a href="#æ­£åˆ™è¡¨è¾¾å¼é«˜çº§æœç´¢" class="headerlink" title="æ­£åˆ™è¡¨è¾¾å¼é«˜çº§æœç´¢"></a>æ­£åˆ™è¡¨è¾¾å¼é«˜çº§æœç´¢</h2><ol>
<li>MySQLç”¨WHEREå­å¥å¯¹æ­£åˆ™è¡¨è¾¾å¼æä¾›äº†<strong>åˆæ­¥çš„æ”¯æŒ</strong>ï¼Œå…è®¸ä½ æŒ‡å®šæ­£åˆ™è¡¨è¾¾å¼è¿‡æ»¤SELECTæ£€ç´¢å‡ºçš„æ•°æ®ï¼›</li>
<li>å…³é”®å­— LIKE è¢« REGEXPæ›¿ä»£ï¼Œæ¥åŒ¹é…åŸºç¡€æ­£åˆ™è¡¨è¾¾å¼ï¼›</li>
<li>MySQLä¸­çš„æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…ä¸åŒºåˆ†å¤§å°å†™ï¼Œä¸ºåŒºåˆ†å¤§å°å†™ï¼Œ å¯ä½¿ç”¨ BINARY å…³é”®å­—ï¼Œ å¦‚ WHERE prod_name REGEXP BINARY â€˜JetPack .000â€™ï¼›</li>
<li>ä¸ºæœç´¢ä¸¤ä¸ªä¸²ä¹‹ä¸€ï¼ˆæˆ–è€…ä¸ºè¿™ä¸ªä¸²ï¼Œæˆ–è€…ä¸ºå¦ä¸€ä¸ªä¸²ï¼‰ï¼Œä½¿ç”¨|ï¼›</li>
<li>å¦‚æœä½ åªæƒ³åŒ¹é…ç‰¹å®šçš„å­—ç¬¦å¯é€šè¿‡æŒ‡å®šä¸€ç»„ç”¨[å’Œ]æ‹¬èµ·æ¥çš„å­—ç¬¦æ¥å®Œæˆï¼›</li>
<li>é›†åˆå¯ç”¨æ¥å®šä¹‰è¦åŒ¹é…çš„ä¸€ä¸ªæˆ–å¤šä¸ªå­—ç¬¦ï¼Œæ¯”å¦‚ï¼š[0123456789]æˆ–è€…[0-9]åŒ¹é…æ•°å­—0åˆ°9ï¼›</li>
<li>ä¸ºäº†åŒ¹é…ç‰¹æ®Šå­—ç¬¦ï¼Œå¿…é¡»ç”¨\ä¸ºå‰å¯¼,\-è¡¨ç¤ºæŸ¥æ‰¾-ï¼Œ\.è¡¨ç¤ºæŸ¥æ‰¾. ï¼›</li>
<li>å¯ä»¥ä½¿ç”¨é¢„å®šä¹‰çš„å­—ç¬¦é›†ï¼Œ ç§°ä¸ºå­—ç¬¦ç±»ï¼ˆcharacter classï¼‰ï¼š</li>
</ol>
<table>
<thead>
<tr>
<th>å­—ç¬¦ç±»</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>[:alnum:]</td>
<td>ä»»æ„å­—æ¯å’Œæ•°å­—ï¼ˆåŒ[a-zA-Z0-9]ï¼‰</td>
</tr>
<tr>
<td>[:alpha:]</td>
<td>ä»»æ„å­—ç¬¦ï¼ˆåŒ[a-zA-Z]ï¼‰</td>
</tr>
<tr>
<td>[:blank:]</td>
<td>ç©ºæ ¼å’Œåˆ¶è¡¨ï¼ˆåŒ[\t]ï¼‰</td>
</tr>
<tr>
<td>[:cntrl:]</td>
<td>ASCIIæ§åˆ¶å­—ç¬¦ï¼ˆASCII 0åˆ°31å’Œ127ï¼‰</td>
</tr>
<tr>
<td>[:digit:]</td>
<td>ä»»æ„æ•°å­—ï¼ˆåŒ[0-9]ï¼‰</td>
</tr>
<tr>
<td>[:graph:]</td>
<td>ä¸[:print:]ç›¸åŒï¼Œä½†ä¸åŒ…æ‹¬ç©ºæ ¼</td>
</tr>
<tr>
<td>[:lower:]</td>
<td>ä»»æ„å°å†™å­—æ¯ï¼ˆåŒ[a-z]ï¼‰</td>
</tr>
<tr>
<td>[:print:]</td>
<td>ä»»æ„å¯æ‰“å°å­—ç¬¦</td>
</tr>
<tr>
<td>[:punct:]</td>
<td>æ—¢ä¸åœ¨[:alnum:]åˆä¸åœ¨[:cntrl:]ä¸­çš„ä»»æ„å­—ç¬¦</td>
</tr>
<tr>
<td>[:space:]</td>
<td>åŒ…æ‹¬ç©ºæ ¼åœ¨å†…çš„ä»»æ„ç©ºç™½å­—ç¬¦ï¼ˆåŒ[\f\n\r\t\v]ï¼‰</td>
</tr>
<tr>
<td>[:upper:]</td>
<td>ä»»æ„å¤§å†™å­—æ¯ï¼ˆåŒ[A-Z]ï¼‰</td>
</tr>
<tr>
<td>[:xdigit:]</td>
<td>ä»»æ„åå…­è¿›åˆ¶æ•°å­—ï¼ˆåŒ[a-fA-F0-9]ï¼‰</td>
</tr>
</tbody></table>
<ol start="9">
<li>é‡å¤å…ƒå­—ç¬¦åŒ¹é…ï¼š</li>
</ol>
<table>
<thead>
<tr>
<th>å…ƒå­—ç¬¦</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>*</td>
<td>0ä¸ªæˆ–å¤šä¸ªåŒ¹é…</td>
</tr>
<tr>
<td>+</td>
<td>1ä¸ªæˆ–å¤šä¸ªåŒ¹é…ï¼ˆç­‰äº{1,}ï¼‰</td>
</tr>
<tr>
<td>?</td>
<td>0ä¸ªæˆ–1ä¸ªåŒ¹é…ï¼ˆç­‰äº{0,1}ï¼‰</td>
</tr>
<tr>
<td>{n}</td>
<td>æŒ‡å®šæ•°ç›®çš„åŒ¹é…</td>
</tr>
<tr>
<td>{n,}</td>
<td>ä¸å°‘äºæŒ‡å®šæ•°ç›®çš„åŒ¹é…</td>
</tr>
<tr>
<td>{n,m}</td>
<td>åŒ¹é…æ•°ç›®çš„èŒƒå›´ï¼ˆmä¸è¶…è¿‡255ï¼‰</td>
</tr>
</tbody></table>
<ol start="10">
<li>å®šä½ç¬¦ï¼š</li>
</ol>
<table>
<thead>
<tr>
<th>å…ƒå­—ç¬¦</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>^</td>
<td>æ–‡æœ¬çš„å¼€å§‹</td>
</tr>
<tr>
<td>$</td>
<td>æ–‡æœ¬çš„ç»“å°¾</td>
</tr>
<tr>
<td>[[:&lt;:]]</td>
<td>è¯çš„å¼€å§‹</td>
</tr>
<tr>
<td>[[:&gt;:]]</td>
<td>è¯çš„ç»“å°¾</td>
</tr>
</tbody></table>
<h2 id="åˆ›å»ºå’Œæ“ä½œè¡¨"><a href="#åˆ›å»ºå’Œæ“ä½œè¡¨" class="headerlink" title="åˆ›å»ºå’Œæ“ä½œè¡¨"></a>åˆ›å»ºå’Œæ“ä½œè¡¨</h2><ol>
<li><p>ä¸€èˆ¬æœ‰ä¸¤ç§åˆ›å»ºè¡¨çš„æ–¹æ³•ï¼š</p>
<ul>
<li>ä½¿ç”¨å…·æœ‰äº¤äº’å¼åˆ›å»ºå’Œç®¡ç†è¡¨çš„å·¥å…·ï¼ˆå®é™…ä¸Šä¹Ÿæ˜¯ç”¨MySQLè¯­å¥æ“çºµï¼‰</li>
<li>ç›´æ¥ç”¨MySQLè¯­å¥æ“çºµ</li>
</ul>
</li>
<li><p>ä¸ºäº†ç”¨ç¨‹åºåˆ›å»ºè¡¨ï¼Œå¯ä½¿ç”¨SQLçš„CREATE TABLEè¯­å¥ï¼Œå¿…é¡»ç»™å‡ºä¸‹åˆ—ä¿¡æ¯ï¼š</p>
<ul>
<li><strong>ï¼ˆå¿…é¡»ï¼‰</strong>æ–°è¡¨çš„åå­—ï¼Œåœ¨å…³é”®å­—CREATE TABLEä¹‹åç»™å‡º</li>
<li><strong>ï¼ˆå¿…é¡»ï¼‰</strong>è¡¨åˆ—çš„åå­—å’Œå®šä¹‰ï¼Œç”¨é€—å·åˆ†éš”</li>
<li><strong>ï¼ˆå¯é€‰ï¼‰</strong>å¯ä»¥åŒ…æ‹¬å…¶ä»–å…³é”®å­—æˆ–é€‰é¡¹</li>
</ul>
</li>
<li><p>åˆ›å»ºè¡¨å¿…é¡»å…ˆé€‰æ‹©ä¸€ä¸ªæ•°æ®åº“ï¼Œè¿™é‡Œä½¿ç”¨crashcourseæ•°æ®åº“ï¼Œç„¶ååˆ›å»ºè¡¨çš„å‘½ä»¤å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">CREATE TABLE customers( cust_id int NOT NULL AUTO_INCREMENT, cust_name char(50) NOT NULL,cust_address char(50)  NULL,cust_city char(50)  NULL,cust_state char(5)  NULL,cust_zip char(50)  NULL,cust_country char(50)  NULL,cust_contact char(50)  NULL,cust_email char(255)  NULL,PRIMARY KEY (cust_id))ENGINE&#x3D;InnoDB;</span><br></pre></td></tr></table></figure>
</li>
<li><p>åœ¨åˆ›å»ºæ–°è¡¨æ—¶ï¼ŒæŒ‡å®šçš„è¡¨åå¿…é¡»ä¸å­˜åœ¨ï¼Œå¦åˆ™å°†å‡ºé”™ï¼›å¦‚æœä»…æƒ³åœ¨ä¸€ä¸ªè¡¨ä¸å­˜åœ¨æ—¶åˆ›å»ºå®ƒï¼Œåº”è¯¥åœ¨è¡¨åå‰ç»™å‡ºIF NOT EXISTSï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">CREATE TABLE IF NOT EXISTS customers ( cust_id int NOT NULL AUTO_INCREMENT, cust_name char(50) NOT NULL,cust_address char(50)  NULL,cust_city char(50)  NULL,cust_state char(5)  NULL,cust_zip char(50)  NULL,cust_country char(50)  NULL,cust_contact char(50)  NULL,cust_email char(255)  NULL,PRIMARY KEY (cust_id))ENGINE&#x3D;InnoDB;</span><br></pre></td></tr></table></figure>
</li>
<li><p>NULLå€¼å°±æ˜¯æ²¡æœ‰å€¼æˆ–ç¼ºå€¼ï¼Œå…è®¸NULLå€¼çš„åˆ—ä¹Ÿå…è®¸åœ¨æ’å…¥è¡Œæ—¶ä¸ç»™å‡ºè¯¥åˆ—çš„å€¼ï¼Œä¸å…è®¸NULLå€¼çš„åˆ—ä¸æ¥å—è¯¥åˆ—æ²¡æœ‰å€¼çš„è¡Œï¼›</p>
</li>
<li><p>åˆ›å»ºæˆåŠŸåï¼Œå¯ä»¥ä½¿ç”¨DESC customers; æ¥æŸ¥çœ‹è¡¨çš„åˆ—å±æ€§ï¼›</p>
</li>
<li><p>å†æ¬¡å¼ºè°ƒï¼Œ<strong>ä¸»é”®å€¼å¿…é¡»å”¯ä¸€</strong>ï¼›ä¸»é”®å¯ä»¥åœ¨åˆ›å»ºè¡¨æ—¶å®šä¹‰ï¼Œæˆ–è€…åœ¨åˆ›å»ºè¡¨ä¹‹åå®šä¹‰ï¼Œè€Œä¸”åªæœ‰ä¸å…è®¸NULLå€¼çš„åˆ—å¯ä»¥ä½œä¸ºä¸»é”®ï¼›</p>
</li>
<li><p>åœ¨ä½¿ç”¨AUTO_INCREMENTåˆ—æ—¶ï¼Œå¯ä½¿ç”¨last_insert_id()å‡½æ•°è·å¾—è¿™ä¸ªå€¼ï¼›</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">SELECT last_insert_id();</span><br></pre></td></tr></table></figure>
</li>
<li><p>å¦‚æœåœ¨æ’å…¥è¡Œæ—¶æ²¡æœ‰ç»™å‡ºå€¼ï¼ŒMySQLå…è®¸æŒ‡å®šæ­¤æ—¶ä½¿ç”¨çš„é»˜è®¤å€¼,<strong>é»˜è®¤å€¼ç”¨CREATE TABLEè¯­å¥çš„åˆ—å®šä¹‰ä¸­çš„DEFAULTå…³é”®å­—æŒ‡å®š;</strong></p>
</li>
<li><p>MySQLæœ‰ä¸€ä¸ªå…·ä½“ç®¡ç†å’Œå¤„ç†æ•°æ®çš„å†…éƒ¨å¼•æ“ï¼Œæ‰“åŒ…äº†å¤šä¸ªå¼•æ“ï¼Œéœ€è¦äº†è§£çš„å¼•æ“ï¼š</p>
<ul>
<li>InnoDBæ˜¯ä¸€ä¸ªå¯é çš„äº‹åŠ¡å¤„ç†å¼•æ“,ä¸æ”¯æŒå…¨æ–‡æœ¬æœç´¢ï¼›</li>
<li>MEMORYåœ¨åŠŸèƒ½ç­‰åŒäºMyISAMï¼Œç”±äºæ•°æ®å­˜å‚¨åœ¨å†…å­˜ä¸­ï¼Œé€Ÿåº¦å¾ˆå¿«ï¼ˆç‰¹åˆ«é€‚åˆäºä¸´æ—¶è¡¨ï¼‰ï¼›</li>
<li>MyISAMæ˜¯ä¸€ä¸ªæ€§èƒ½æé«˜çš„å¼•æ“ï¼Œå®ƒæ”¯æŒå…¨æ–‡æœ¬æœç´¢ï¼Œä½†ä¸æ”¯æŒäº‹åŠ¡å¤„ç†ï¼›</li>
</ul>
</li>
<li><p><strong>ä¸ºæ›´æ–°è¡¨å®šä¹‰ï¼Œå¯ä½¿ç”¨ALTER TABLEè¯­å¥</strong>ï¼Œå¿…é¡»ç»™å‡ºä¸‹é¢çš„ä¿¡æ¯ï¼š</p>
<ul>
<li>åœ¨ALTER TABLEä¹‹åç»™å‡ºè¦æ›´æ”¹çš„è¡¨å</li>
<li>æ‰€åšæ›´æ”¹çš„åˆ—è¡¨</li>
</ul>
</li>
<li><p>å¤æ‚çš„è¡¨ç»“æ„æ›´æ”¹ä¸€èˆ¬éœ€è¦æ‰‹åŠ¨åˆ é™¤è¿‡ç¨‹ï¼Œæ¶‰åŠä»¥ä¸‹æ­¥éª¤ï¼š</p>
<ul>
<li>ç”¨æ–°çš„åˆ—å¸ƒå±€åˆ›å»ºä¸€ä¸ªæ–°è¡¨</li>
<li>ä½¿ç”¨INSERT SELECTè¯­å¥</li>
<li>æ£€éªŒåŒ…å«æ‰€éœ€æ•°æ®çš„æ–°è¡¨</li>
<li>é‡å‘½åæ—§è¡¨</li>
<li>ç”¨æ—§è¡¨åŸæ¥çš„åå­—é‡å‘½åæ–°è¡¨</li>
<li>æ ¹æ®éœ€è¦ï¼Œé‡æ–°åˆ›å»ºè§¦å‘å™¨ã€å­˜å‚¨è¿‡ç¨‹ã€ç´¢å¼•å’Œå¤–é”®</li>
</ul>
</li>
<li><p><strong><em>æ³¨æ„ï¼šå¿…é¡»ç‰¹åˆ«å°å¿ƒä½¿ç”¨ALTER TABLEï¼</em></strong></p>
</li>
<li><p>åˆ é™¤è¡¨éå¸¸ç®€å•ï¼Œä½¿ç”¨DROP TABLEè¯­å¥å³å¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">DROP TABLE customers2;</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä½¿ç”¨RENAME TABLEè¯­å¥å¯ä»¥é‡å‘½åä¸€ä¸ªè¡¨:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">RENAME TABLE customers2 TO customers;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h2 id="æ’å…¥æ•°æ®"><a href="#æ’å…¥æ•°æ®" class="headerlink" title="æ’å…¥æ•°æ®"></a>æ’å…¥æ•°æ®</h2><ol>
<li><p>INSERTæ˜¯ç”¨æ¥æ’å…¥ï¼ˆæˆ–æ·»åŠ ï¼‰è¡Œåˆ°æ•°æ®åº“è¡¨çš„ï¼Œæ’å…¥å¯ä»¥ç”¨å‡ ç§æ–¹å¼ä½¿ç”¨ï¼š</p>
<ul>
<li>æ’å…¥å®Œæ•´çš„è¡Œ</li>
<li>æ’å…¥è¡Œçš„ä¸€éƒ¨åˆ†</li>
<li>æ’å…¥å¤šè¡Œ</li>
<li>æ’å…¥æŸäº›æŸ¥è¯¢çš„ç»“æœ</li>
</ul>
</li>
<li><p>ä½¿ç”¨åŸºæœ¬çš„INSERTè¯­æ³•æŒ‡å®šè¡¨åå’Œè¢«æ’å…¥åˆ°æ–°è¡Œä¸­çš„å€¼ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">INSERT INTO customers VALUES(NULL, &#39;Pep E. LaPew&#39;,&#39;100 Main Street&#39;,&#39;Los Angles&#39;,&#39;CA&#39;,&#39;90046&#39;,&#39;USA&#39;,NULL,NULL);</span><br></pre></td></tr></table></figure>
</li>
<li><p>ç¼–å†™INSERTè¯­å¥çš„æ›´å®‰å…¨çš„æ–¹æ³•æ˜¯è¯´æ˜æ’å…¥å­—æ®µçš„å†…å®¹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">INSERT INTO customers(cust_name,cust_address,cust_city,cust_state,cust_zip,cust_country,cust_contact,cust_email) VALUES(&#39;Pep E. LaPew&#39;,&#39;100 Main Street&#39;,&#39;Los Angles&#39;,&#39;CA&#39;,&#39;90046&#39;,&#39;USA&#39;,NULL,NULL);</span><br></pre></td></tr></table></figure>
</li>
<li><p>å¦‚æœè¡¨çš„å®šä¹‰å…è®¸ï¼Œåˆ™å¯ä»¥åœ¨INSERTæ“ä½œä¸­çœç•¥æŸäº›åˆ—ï¼Œçœç•¥çš„åˆ—å¿…é¡»æ»¡è¶³ä»¥ä¸‹æŸä¸ªæ¡ä»¶ï¼š</p>
<ul>
<li>è¯¥åˆ—å®šä¹‰ä¸ºå…è®¸NULLå€¼ï¼ˆæ— å€¼æˆ–ç©ºå€¼ï¼‰</li>
<li>åœ¨è¡¨å®šä¹‰ä¸­ç»™å‡ºé»˜è®¤å€¼</li>
</ul>
</li>
<li><p>æ’å…¥å¤šä¸ªè¡Œï¼Œåªè¦æ¯æ¡INSERTè¯­å¥ä¸­çš„åˆ—åï¼ˆå’Œæ¬¡åºï¼‰ç›¸åŒï¼Œå¯ä»¥ç»„åˆå„è¯­å¥ï¼Œåˆ†åˆ«ç”¨é€—å·éš”å¼€ï¼Œæœ€ååŠ åˆ†å·<strong>(å¯ä»¥æé«˜æ•°æ®åº“å¤„ç†çš„æ€§èƒ½)</strong>ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">INSERT INTO customers(cust_name,cust_address,cust_city,cust_state,cust_zip,cust_country,cust_contact,cust_email) VALUES(&#39;Pep E. LaPew&#39;,&#39;100 Main Street&#39;,&#39;Los Angles&#39;,&#39;CA&#39;,&#39;90046&#39;,&#39;USA&#39;,NULL,NULL),(&#39;Polar&#39;,&#39;102 Main Street&#39;,&#39;Los Angles&#39;,&#39;CA&#39;,&#39;90046&#39;,&#39;USA&#39;,NULL,NULL),(&#39;Nice Pew&#39;,&#39;120 Main Street&#39;,&#39;Los Angles&#39;,&#39;CA&#39;,&#39;90046&#39;,&#39;USA&#39;,NULL,NULL);</span><br></pre></td></tr></table></figure>
</li>
<li><p>å¯ä»¥åˆ©ç”¨å®ƒå°†ä¸€æ¡SELECTè¯­å¥çš„ç»“æœæ’å…¥è¡¨ä¸­ï¼›</p>
</li>
<li><p>ä¸è¦ä½¿ç”¨æ²¡æœ‰æ˜ç¡®ç»™å‡ºåˆ—çš„ INSERT è¯­å¥ï¼ç»™å‡ºåˆ—èƒ½ä½¿ SQL ä»£ç ç»§ç»­å‘æŒ¥ä½œç”¨ï¼Œå³ä½¿è¡¨ç»“æ„å‘ç”Ÿäº†å˜åŒ–ï¼›</p>
</li>
<li><p>è¦å°†ä¸€ä¸ªè¡¨çš„å†…å®¹å¤åˆ¶åˆ°ä¸€ä¸ªå…¨ æ–°çš„è¡¨ï¼ˆè¿è¡Œä¸­åˆ›å»ºçš„è¡¨ï¼‰ï¼Œå¯ä»¥ä½¿ç”¨ SELECT INTO è¯­å¥ï¼›</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">INTO</span> CustCopy <span class="keyword">FROM</span> Customers;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h2 id="æ›´æ–°å’Œåˆ é™¤æ•°æ®"><a href="#æ›´æ–°å’Œåˆ é™¤æ•°æ®" class="headerlink" title="æ›´æ–°å’Œåˆ é™¤æ•°æ®"></a>æ›´æ–°å’Œåˆ é™¤æ•°æ®</h2><ol>
<li><p>æ›´æ–°ï¼ˆä¿®æ”¹ï¼‰è¡¨ä¸­çš„æ•°æ®ï¼Œå¯ä½¿ç”¨UPDATEè¯­å¥ï¼š</p>
<ul>
<li>æ›´æ–°è¡¨ä¸­ç‰¹å®šè¡Œ</li>
<li>æ›´æ–°è¡¨ä¸­æ‰€æœ‰è¡Œ</li>
</ul>
</li>
<li><p>åŸºæœ¬çš„UPDATEè¯­å¥ç”±3éƒ¨åˆ†ç»„æˆï¼Œåˆ†åˆ«æ˜¯ï¼š</p>
<ul>
<li>è¦æ›´æ–°çš„è¡¨</li>
<li>åˆ—åå’Œå®ƒä»¬çš„æ–°å€¼</li>
<li>ç¡®å®šè¦æ›´æ–°è¡Œçš„è¿‡æ»¤æ¡ä»¶</li>
</ul>
</li>
<li><p>UPDATE ç¤ºä¾‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">UPDATE customers SET cust_name&#x3D;&#39;Peter&#39;,cust_email&#x3D;&#39;hello@gmail.com&#39; WHERE cust_id&#x3D;1;</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä¸ºå³ä½¿æ˜¯å‘ç”Ÿé”™è¯¯ï¼Œä¹Ÿç»§ç»­è¿›è¡Œæ›´æ–°ï¼Œå¯ä½¿ç”¨IGNOREå…³é”®å­—:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">UPDATE IGNORE customers SET cust_name&#x3D;&#39;Peter&#39;,cust_email&#x3D;&#39;hello@gmail.com&#39; WHERE cust_id&#x3D;1;</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä¸ºäº†ä»ä¸€ä¸ªè¡¨ä¸­åˆ é™¤ï¼ˆå»æ‰ï¼‰æ•°æ®ï¼Œä½¿ç”¨DELETEè¯­å¥:</p>
<ul>
<li>ä»è¡¨ä¸­åˆ é™¤ç‰¹å®šçš„è¡Œ</li>
<li>ä»è¡¨ä¸­åˆ é™¤æ‰€æœ‰è¡Œ</li>
</ul>
</li>
<li><p>DELETE ç¤ºä¾‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">DELETE FROM customers WHERE cust_id&#x3D;1;</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä½¿ç”¨UPDATEæˆ–DELETEæ—¶æ‰€éµå¾ªçš„ä¹ æƒ¯ï¼š</p>
<ul>
<li>é™¤éç¡®å®æ‰“ç®—æ›´æ–°å’Œåˆ é™¤æ¯ä¸€è¡Œï¼Œå¦åˆ™ç»å¯¹ä¸è¦ä½¿ç”¨ä¸å¸¦WHEREå­å¥çš„UPDATEæˆ–DELETEè¯­å¥</li>
<li>ä¿è¯æ¯ä¸ªè¡¨éƒ½æœ‰ä¸»é”®ï¼Œå°½å¯èƒ½åƒWHEREå­å¥é‚£æ ·ä½¿ç”¨å®ƒï¼ˆå¯ä»¥æŒ‡å®šå„ä¸»é”®ã€å¤šä¸ªå€¼æˆ–å€¼çš„èŒƒå›´ï¼‰</li>
<li>åœ¨å¯¹UPDATEæˆ–DELETEè¯­å¥ä½¿ç”¨WHEREå­å¥å‰ï¼Œåº”è¯¥å…ˆç”¨SELECTè¿›è¡Œæµ‹è¯•ï¼Œä¿è¯å®ƒè¿‡æ»¤çš„æ˜¯æ­£ç¡®çš„è®°å½•</li>
<li>ä½¿ç”¨å¼ºåˆ¶å®æ–½å¼•ç”¨å®Œæ•´æ€§çš„æ•°æ®åº“ï¼Œè¿™æ ·MySQLå°†ä¸å…è®¸åˆ é™¤å…·æœ‰ä¸å…¶ä»–è¡¨ç›¸å…³è”çš„æ•°æ®çš„è¡Œ</li>
</ul>
</li>
<li><p>DELETE åˆ é™¤æ•´è¡Œè€Œä¸æ˜¯åˆ é™¤åˆ—ï¼Œè¦åˆ é™¤æŒ‡å®šçš„åˆ—ï¼Œè¯·ä½¿ç”¨ UPDATE è¯­å¥ï¼›DELETE è¯­å¥ä»è¡¨ä¸­åˆ é™¤è¡Œï¼Œç”šè‡³æ˜¯åˆ é™¤è¡¨ä¸­æ‰€æœ‰è¡Œï¼Œä½†DELETEä¸åˆ é™¤è¡¨æœ¬èº«ï¼›</p>
</li>
<li><p>è‹¥æ˜¯ SQL æ²¡æœ‰æ’¤é”€ï¼ˆundoï¼‰æŒ‰é’®ï¼Œåº”è¯¥éå¸¸å°å¿ƒåœ°ä½¿ç”¨ UPDATE å’Œ DELETEï¼Œå¦åˆ™ä½ ä¼šå‘ç°è‡ªå·±æ›´æ–°æˆ–åˆ é™¤äº†é”™è¯¯çš„æ•°æ®ï¼Œè€Œæ— æ³•æ’¤é”€ï¼</p>
</li>
</ol>
<h2 id="å­æŸ¥è¯¢"><a href="#å­æŸ¥è¯¢" class="headerlink" title="å­æŸ¥è¯¢"></a>å­æŸ¥è¯¢</h2><ol>
<li><p>SQL å…è®¸åˆ›å»ºå­æŸ¥è¯¢ï¼ˆsubqueryï¼‰ï¼Œå³<strong>åµŒå¥—åœ¨å…¶ä»–æŸ¥è¯¢ä¸­çš„æŸ¥è¯¢</strong>ï¼›</p>
</li>
<li><p>å¯ä»¥æŠŠä¸€æ¡ SELECT è¯­å¥è¿”å›çš„ç»“æœç”¨äºå¦ä¸€æ¡ SELECT è¯­å¥çš„ WHERE å­å¥ï¼›</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> cust_id <span class="keyword">FROM</span> Orders <span class="keyword">WHERE</span> order_num <span class="keyword">IN</span> (<span class="keyword">SELECT</span> order_num <span class="keyword">FROM</span> OrderItems <span class="keyword">WHERE</span> prod_id = <span class="string">'RGAN01'</span>);</span><br></pre></td></tr></table></figure>
</li>
<li><p>åœ¨ SELECT è¯­å¥ä¸­ï¼Œå­æŸ¥è¯¢æ€»æ˜¯ä»å†…å‘å¤–å¤„ç†ï¼Œè€Œä¸”ä½œä¸ºå­æŸ¥è¯¢çš„ SELECT è¯­å¥åªèƒ½æŸ¥è¯¢å•ä¸ªåˆ—ï¼›</p>
</li>
<li><p><strong>å¯¹äºèƒ½åµŒå¥—çš„å­æŸ¥è¯¢çš„æ•°ç›®æ²¡æœ‰é™åˆ¶ï¼Œä¸è¿‡åœ¨å®é™…ä½¿ç”¨æ—¶ç”±äºæ€§èƒ½çš„é™åˆ¶ï¼Œä¸èƒ½åµŒå¥—å¤ªå¤šçš„å­æŸ¥è¯¢ï¼</strong></p>
</li>
</ol>
<h2 id="SQLå‡½æ•°"><a href="#SQLå‡½æ•°" class="headerlink" title="SQLå‡½æ•°"></a>SQLå‡½æ•°</h2><ol>
<li><p>ä¸ SQL è¯­å¥ä¸ä¸€æ ·ï¼ŒSQL å‡½æ•°ä¸æ˜¯å¯ç§»æ¤çš„ï¼›</p>
</li>
<li><p>å†³å®šä½¿ç”¨å‡½æ•°ï¼Œåº”è¯¥ä¿è¯åšå¥½ä»£ç æ³¨é‡Šï¼Œä»¥ä¾¿ä»¥åä½ ï¼ˆæˆ–å…¶ä»–äººï¼‰èƒ½ç¡®åˆ‡åœ°çŸ¥é“æ‰€ç¼–å†™çš„ SQL ä»£ç çš„å«ä¹‰ï¼›</p>
</li>
<li><p>å¤§å¤šæ•°SQLå®ç°æ”¯æŒçš„å‡½æ•°ç±»å‹ï¼š</p>
<ul>
<li>ç”¨äºå¤„ç†æ–‡æœ¬å­—ç¬¦ä¸²ï¼ˆå¦‚åˆ é™¤æˆ–å¡«å……å€¼ï¼Œè½¬æ¢å€¼ä¸ºå¤§å†™æˆ–å°å†™ï¼‰çš„æ–‡æœ¬å‡½æ•°</li>
<li>ç”¨äºåœ¨æ•°å€¼æ•°æ®ä¸Šè¿›è¡Œç®—æœ¯æ“ä½œï¼ˆå¦‚è¿”å›ç»å¯¹å€¼ï¼Œè¿›è¡Œä»£æ•°è¿ç®—ï¼‰çš„æ•°å€¼å‡½æ•°</li>
<li>ç”¨äºå¤„ç†æ—¥æœŸå’Œæ—¶é—´å€¼å¹¶ä»è¿™äº›å€¼ä¸­æå–ç‰¹å®šæˆåˆ†ï¼ˆå¦‚è¿”å›ä¸¤ä¸ªæ—¥æœŸä¹‹å·®ï¼Œæ£€æŸ¥æ—¥æœŸæœ‰æ•ˆæ€§ï¼‰çš„æ—¥æœŸå’Œæ—¶é—´å‡½æ•°</li>
<li>è¿”å› DBMS æ­£ä½¿ç”¨çš„ç‰¹æ®Šä¿¡æ¯ï¼ˆå¦‚è¿”å›ç”¨æˆ·ç™»å½•ä¿¡æ¯ï¼‰çš„ç³»ç»Ÿå‡½æ•°</li>
</ul>
</li>
<li><p>æ–‡æœ¬å¤„ç†å‡½æ•°ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/4e43e8181babf6697507f6326c32ba97-95140" alt="å¸¸ç”¨çš„æ–‡æœ¬å¤„ç†å‡½æ•°"></p>
</li>
<li><p>æ—¥æœŸå’Œæ—¶é—´å€¼ä»¥ç‰¹æ®Šçš„æ ¼å¼å­˜å‚¨ï¼Œä»¥ä¾¿èƒ½å¿«é€Ÿå’Œæœ‰æ•ˆåœ°æ’åºæˆ–è¿‡æ»¤ï¼Œå¹¶ä¸”èŠ‚çœç‰©ç†å­˜å‚¨ç©ºé—´ï¼Œè€Œä¸”å¯ç§»æ¤æ€§å¾ˆå·®ï¼›</p>
</li>
<li><p>å¤§å¤šæ•° DBMS å…·æœ‰æ¯”è¾ƒæ—¥æœŸã€æ‰§è¡ŒåŸºäºæ—¥æœŸçš„è¿ç®—ã€é€‰æ‹©æ—¥æœŸæ ¼å¼ç­‰çš„å‡½æ•°ï¼Œå¯èƒ½ä¸å°½ç›¸åŒï¼Œéœ€è¦æŸ¥è¯¢ç›¸å…³çš„æ–‡æ¡£ï¼›</p>
</li>
<li><p>æ•°å€¼å¤„ç†å‡½æ•°ä»…å¤„ç†æ•°å€¼æ•°æ®ï¼Œä¸»è¦ç”¨äºä»£æ•°ã€ä¸‰è§’æˆ–å‡  ä½•è¿ç®—ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/12efa107a8a1418fdfd7118cb7bfef36-61842" alt="æ•°å€¼å¤„ç†å‡½æ•°"></p>
</li>
<li><p>SQLç®—æœ¯æ“ä½œç¬¦ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/39cbc9063dea351b645bf22bc1608d34-15817" alt="SQLç®—æœ¯æ“ä½œç¬¦"></p>
</li>
<li><p>èšé›†å‡½æ•°ï¼šå¯¹æŸäº›è¡Œè¿è¡Œçš„å‡½æ•°ï¼Œè®¡ç®—å¹¶è¿”å›ä¸€ä¸ªå€¼</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/ac7e53c1b458a20a046ad0656cf7d92e-45288" alt="SQLèšé›†å‡½æ•°"></p>
<ul>
<li>èšé›†å‡½æ•°ç”¨æ¥æ±‡æ€»æ•°æ®</li>
<li>å¯ä»¥ç”¨å¤šç§æ–¹æ³•ä½¿ç”¨å®ƒä»¬ï¼Œè¿”å›æ‰€éœ€çš„ç»“æœ</li>
</ul>
</li>
</ol>
<h2 id="åˆ†ç»„"><a href="#åˆ†ç»„" class="headerlink" title="åˆ†ç»„"></a>åˆ†ç»„</h2><ol>
<li><p>åˆ†ç»„æ˜¯ä½¿ç”¨ SELECT è¯­å¥çš„ GROUP BY å­å¥å»ºç«‹çš„ï¼›</p>
</li>
<li><p>åˆ†ç»„å­å¥ä½¿ç”¨è§„å®šï¼š</p>
<ul>
<li>GROUP BY å­å¥å¯ä»¥åŒ…å«ä»»æ„æ•°ç›®çš„åˆ—ï¼Œå› è€Œå¯ä»¥å¯¹åˆ†ç»„è¿›è¡ŒåµŒå¥—ï¼Œæ›´ç»†è‡´åœ°è¿›è¡Œæ•°æ®åˆ†ç»„</li>
<li>å¦‚æœåœ¨ GROUP BY å­å¥ä¸­åµŒå¥—äº†åˆ†ç»„ï¼Œæ•°æ®å°†åœ¨æœ€åæŒ‡å®šçš„åˆ†ç»„ä¸Šè¿›è¡Œæ±‡æ€»</li>
<li>GROUP BY å­å¥ä¸­åˆ—å‡ºçš„æ¯ä¸€åˆ—éƒ½å¿…é¡»æ˜¯æ£€ç´¢åˆ—æˆ–æœ‰æ•ˆçš„è¡¨è¾¾å¼</li>
<li>å¤§å¤šæ•° SQL å®ç°ä¸å…è®¸ GROUP BY åˆ—å¸¦æœ‰é•¿åº¦å¯å˜çš„æ•°æ®ç±»å‹</li>
<li>é™¤èšé›†è®¡ç®—è¯­å¥å¤–ï¼Œ SELECT è¯­å¥ä¸­çš„æ¯ä¸€åˆ—éƒ½å¿…é¡»åœ¨ GROUP BY å­å¥ä¸­ç»™å‡º</li>
<li><strong>GROUP BY å­å¥å¿…é¡»å‡ºç°åœ¨ WHERE å­å¥ä¹‹åï¼Œ ORDER BY å­å¥ä¹‹å‰</strong></li>
</ul>
</li>
<li><p>ç›®å‰ä¸ºæ­¢æ‰€å­¦è¿‡çš„æ‰€æœ‰ç±»å‹çš„ WHERE å­å¥éƒ½å¯ä»¥ç”¨ HAVING æ¥æ›¿ä»£ï¼Œå”¯ä¸€çš„å·®åˆ«æ˜¯ï¼ŒWHERE è¿‡æ»¤è¡Œï¼Œè€Œ HAVING è¿‡æ»¤åˆ†ç»„ï¼›</p>
</li>
<li><p>SELECTå­å¥é¡ºåºï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/9541bd58603c9ca26051902722961332-65722" alt="SELECTå­å¥é¡ºåº"></p>
</li>
</ol>
<h2 id="è”ç»“è¡¨"><a href="#è”ç»“è¡¨" class="headerlink" title="è”ç»“è¡¨"></a>è”ç»“è¡¨</h2><ol>
<li><p>å…³ç³»è¡¨çš„è®¾è®¡å°±æ˜¯è¦æŠŠä¿¡æ¯åˆ†è§£æˆå¤šä¸ªè¡¨ï¼Œä¸€ç±»æ•°æ®ä¸€ä¸ªè¡¨ï¼Œå„è¡¨é€šè¿‡æŸäº›å…±åŒçš„å€¼äº’ç›¸å…³è”ï¼›</p>
</li>
<li><p>å…³ç³»æ•°æ®å¯ä»¥æœ‰æ•ˆåœ°å­˜å‚¨ï¼Œæ–¹ä¾¿åœ°å¤„ç†ï¼›</p>
</li>
<li><p>è”ç»“æ˜¯ä¸€ç§æœºåˆ¶ï¼Œç”¨æ¥åœ¨ä¸€æ¡ SELECT è¯­å¥ä¸­å…³è”è¡¨ï¼Œå› æ­¤ç§°ä¸ºè”ç»“ï¼›</p>
</li>
<li><p>åˆ›å»ºè”ç»“éå¸¸ç®€å•ï¼ŒæŒ‡å®šè¦è”ç»“çš„æ‰€æœ‰è¡¨ä»¥åŠå…³è”å®ƒä»¬çš„æ–¹å¼å³å¯ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> vend_name, prod_name, prod_price <span class="keyword">FROM</span> Vendors, Products <span class="keyword">WHERE</span> Vendors.vend_id = Products.vend_id;</span><br></pre></td></tr></table></figure>
</li>
<li><p>è¦ä¿è¯æ‰€æœ‰è”ç»“éƒ½æœ‰ WHERE å­å¥ï¼Œå¦åˆ™ DBMS å°†è¿”å›æ¯”æƒ³è¦çš„æ•°æ®å¤šå¾—å¤šçš„æ•°æ®ï¼›</p>
</li>
<li><p>SQL ä¸é™åˆ¶ä¸€æ¡ SELECT è¯­å¥ä¸­å¯ä»¥è”ç»“çš„è¡¨çš„æ•°ç›®ï¼›</p>
</li>
<li><p>SQLå…è®¸ç»™è¡¨åèµ·åˆ«åï¼š</p>
<ul>
<li>ç¼©çŸ­ SQL è¯­å¥</li>
<li>å…è®¸åœ¨ä¸€æ¡ SELECTè¯­å¥ä¸­å¤šæ¬¡ä½¿ç”¨ç›¸åŒçš„è¡¨</li>
</ul>
</li>
<li><p>åœ¨ä½¿ç”¨ OUTER JOIN è¯­æ³•æ—¶ï¼Œå¿…é¡»ä½¿ç”¨ RIGHT æˆ– LEFT å…³é”®å­—æŒ‡å®šåŒ…æ‹¬å…¶æ‰€æœ‰è¡Œçš„è¡¨ï¼ˆRIGHT æŒ‡å‡ºçš„æ˜¯ OUTER JOIN å³è¾¹çš„è¡¨ï¼Œè€Œ LEFT æŒ‡å‡ºçš„æ˜¯ OUTER JOIN å·¦è¾¹çš„è¡¨ï¼‰ï¼›</p>
</li>
<li><p>ä¸å·¦å¤–è”ç»“æˆ–å³å¤–è”ç»“åŒ…å«ä¸€ä¸ªè¡¨çš„ä¸å…³è”çš„è¡Œä¸åŒï¼Œå…¨å¤–è”ç»“åŒ…å«ä¸¤ä¸ªè¡¨çš„ä¸å…³è”çš„è¡Œï¼›</p>
</li>
<li><p>è”ç»“ä½¿ç”¨è¦ç‚¹ï¼š</p>
<ul>
<li>æ³¨æ„æ‰€ä½¿ç”¨çš„è”ç»“ç±»å‹</li>
<li>å…³äºç¡®åˆ‡çš„è”ç»“è¯­æ³•ï¼Œåº”è¯¥æŸ¥çœ‹å…·ä½“çš„æ–‡æ¡£ï¼Œçœ‹ç›¸åº”çš„ DBMS æ”¯æŒä½•ç§è¯­æ³•</li>
<li>ä¿è¯ä½¿ç”¨æ­£ç¡®çš„è”ç»“æ¡ä»¶ï¼ˆä¸ç®¡é‡‡ç”¨å“ªç§è¯­æ³•ï¼‰ï¼Œå¦åˆ™ä¼šè¿”å›ä¸æ­£ç¡®çš„æ•°æ®</li>
<li>åº”è¯¥æ€»æ˜¯æä¾›è”ç»“æ¡ä»¶ï¼Œå¦åˆ™ä¼šå¾—å‡ºç¬›å¡å„¿ç§¯</li>
<li>åœ¨ä¸€ä¸ªè”ç»“ä¸­å¯ä»¥åŒ…å«å¤šä¸ªè¡¨ï¼Œç”šè‡³å¯ä»¥å¯¹æ¯ä¸ªè”ç»“é‡‡ç”¨ä¸åŒçš„è”ç»“ç±»å‹</li>
</ul>
</li>
</ol>
<h2 id="ç»„åˆæŸ¥è¯¢"><a href="#ç»„åˆæŸ¥è¯¢" class="headerlink" title="ç»„åˆæŸ¥è¯¢"></a>ç»„åˆæŸ¥è¯¢</h2><ol>
<li>æœ‰ä¸¤ç§æƒ…å†µéœ€è¦ä½¿ç”¨ç»„åˆæŸ¥è¯¢ï¼š<ul>
<li>åœ¨ä¸€ä¸ªæŸ¥è¯¢ä¸­ä»ä¸åŒçš„è¡¨è¿”å›ç»“æ„æ•°æ®</li>
<li>å¯¹ä¸€ä¸ªè¡¨æ‰§è¡Œå¤šä¸ªæŸ¥è¯¢ï¼ŒæŒ‰ä¸€ä¸ªæŸ¥è¯¢è¿”å›æ•°æ®</li>
</ul>
</li>
<li>å¯ç”¨ UNION æ“ä½œç¬¦æ¥ç»„åˆæ•°æ¡ SQL æŸ¥è¯¢ï¼Œåªæ˜¯ç»™å‡ºæ¯æ¡ SELECT è¯­å¥ï¼Œåœ¨å„æ¡è¯­å¥ ä¹‹é—´æ”¾ä¸Šå…³é”®å­— UNIONï¼›</li>
<li>UNION å¿…é¡»ç”±ä¸¤æ¡æˆ–ä¸¤æ¡ä»¥ä¸Šçš„ SELECT è¯­å¥ç»„æˆï¼Œè¯­å¥ä¹‹é—´ç”¨å…³é”®å­— UNION åˆ†éš”ï¼›</li>
</ol>
<h2 id="è§†å›¾"><a href="#è§†å›¾" class="headerlink" title="è§†å›¾"></a>è§†å›¾</h2><ol>
<li><p>è§†å›¾æ˜¯è™šæ‹Ÿçš„è¡¨ï¼ŒåªåŒ…å«ä½¿ç”¨æ—¶åŠ¨æ€æ£€ç´¢æ•°æ®çš„æŸ¥è¯¢ï¼›</p>
</li>
<li><p>è§†å›¾çš„åº”ç”¨ï¼š</p>
<ul>
<li>é‡ç”¨SQLè¯­å¥</li>
<li>ç®€åŒ–å¤æ‚çš„ SQL æ“ä½œ</li>
<li>ä½¿ç”¨è¡¨çš„ä¸€éƒ¨åˆ†è€Œä¸æ˜¯æ•´ä¸ªè¡¨</li>
<li>ä¿æŠ¤æ•°æ®ï¼å¯ä»¥æˆäºˆç”¨æˆ·è®¿é—®è¡¨çš„ç‰¹å®šéƒ¨åˆ†çš„æƒé™ï¼Œè€Œä¸æ˜¯æ•´ä¸ªè¡¨çš„è®¿é—®æƒé™</li>
<li>æ›´æ”¹æ•°æ®æ ¼å¼å’Œè¡¨ç¤º</li>
</ul>
</li>
<li><p>åˆ›å»ºè§†å›¾ä¹‹åï¼Œå¯ä»¥ç”¨ä¸è¡¨åŸºæœ¬ç›¸åŒçš„æ–¹å¼ä½¿ç”¨å®ƒä»¬ï¼›</p>
</li>
<li><p>è§†å›¾æœ¬èº«ä¸åŒ…å«æ•°æ®ï¼Œå› æ­¤è¿”å›çš„æ•°æ®æ˜¯ä»å…¶ä»–è¡¨ä¸­æ£€ç´¢å‡ºæ¥çš„ï¼Œåœ¨æ·»åŠ æˆ–æ›´æ”¹è¿™äº›è¡¨ä¸­çš„æ•°æ®æ—¶ï¼Œè§†å›¾å°†è¿”å›æ”¹å˜è¿‡çš„æ•°æ®ï¼›</p>
</li>
<li><p>è§†å›¾ç”¨ CREATE VIEW è¯­å¥æ¥åˆ›å»ºï¼Œåªèƒ½ç”¨äºåˆ›å»ºä¸å­˜åœ¨çš„è§†å›¾ï¼›</p>
</li>
<li><p>åˆ é™¤è§†å›¾ï¼Œå¯ä»¥ä½¿ç”¨ DROP è¯­å¥ï¼Œå…¶è¯­æ³•ä¸º</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">DROP</span> <span class="keyword">VIEW</span> viewname;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h2 id="æ¸¸æ ‡"><a href="#æ¸¸æ ‡" class="headerlink" title="æ¸¸æ ‡"></a>æ¸¸æ ‡</h2><ol>
<li>æ¸¸æ ‡ï¼ˆcursorï¼‰æ˜¯ä¸€ä¸ªå­˜å‚¨åœ¨ DBMS æœåŠ¡å™¨ä¸Šçš„æ•°æ®åº“æŸ¥è¯¢ï¼Œ å®ƒä¸æ˜¯ä¸€æ¡ SELECT è¯­å¥ï¼Œè€Œæ˜¯è¢«è¯¥è¯­å¥æ£€ç´¢å‡ºæ¥çš„ç»“æœé›†ï¼›</li>
<li>åœ¨å­˜å‚¨äº†æ¸¸æ ‡ä¹‹åï¼Œåº”ç”¨ç¨‹åºå¯ä»¥æ ¹æ®éœ€è¦æ»šåŠ¨æˆ–æµè§ˆå…¶ä¸­çš„æ•°æ®ï¼›</li>
<li>æ¸¸æ ‡å¸¸è§çš„ä¸€äº›é€‰é¡¹å’Œç‰¹æ€§ï¼š<ul>
<li>èƒ½å¤Ÿæ ‡è®°æ¸¸æ ‡ä¸ºåªè¯»ï¼Œä½¿æ•°æ®èƒ½è¯»å–ï¼Œä½†ä¸èƒ½æ›´æ–°å’Œåˆ é™¤</li>
<li>èƒ½æ§åˆ¶å¯ä»¥æ‰§è¡Œçš„å®šå‘æ“ä½œï¼ˆå‘å‰ã€å‘åã€ç¬¬ä¸€ã€æœ€åã€ç»å¯¹ä½ç½®ã€ç›¸å¯¹ä½ç½®ç­‰ï¼‰</li>
<li>èƒ½æ ‡è®°æŸäº›åˆ—ä¸ºå¯ç¼–è¾‘çš„ï¼ŒæŸäº›åˆ—ä¸ºä¸å¯ç¼–è¾‘çš„</li>
<li>è§„å®šèŒƒå›´ï¼Œä½¿æ¸¸æ ‡å¯¹åˆ›å»ºå®ƒçš„ç‰¹å®šè¯·æ±‚ï¼ˆå¦‚å­˜å‚¨è¿‡ç¨‹ï¼‰æˆ–å¯¹æ‰€æœ‰è¯·æ±‚å¯è®¿é—®</li>
<li>æŒ‡ç¤º DBMS å¯¹æ£€ç´¢å‡ºçš„æ•°æ®ï¼ˆè€Œä¸æ˜¯æŒ‡å‡ºè¡¨ä¸­æ´»åŠ¨æ•°æ®ï¼‰è¿›è¡Œå¤åˆ¶ï¼Œä½¿æ•°æ®åœ¨æ¸¸æ ‡æ‰“å¼€å’Œè®¿é—®æœŸé—´ä¸å˜åŒ–</li>
</ul>
</li>
</ol>
<h2 id="å­˜å‚¨"><a href="#å­˜å‚¨" class="headerlink" title="å­˜å‚¨"></a>å­˜å‚¨</h2><ol>
<li>å­˜å‚¨è¿‡ç¨‹å°±æ˜¯ä¸ºä»¥åä½¿ç”¨è€Œä¿å­˜çš„ä¸€æ¡æˆ–å¤šæ¡ SQL è¯­å¥ï¼›</li>
<li>ä½¿ç”¨å­˜å‚¨è¿‡ç¨‹æœ‰ä¸‰ä¸ªä¸»è¦çš„å¥½å¤„ï¼Œå³ç®€å•ã€å®‰å…¨ã€é«˜æ€§èƒ½ï¼›</li>
<li>æ‰§è¡Œå­˜å‚¨è¿‡ç¨‹çš„ SQL è¯­å¥å¾ˆç®€å•ï¼Œå³ EXECUTEï¼›</li>
</ol>
<h2 id="äº‹åŠ¡"><a href="#äº‹åŠ¡" class="headerlink" title="äº‹åŠ¡"></a>äº‹åŠ¡</h2><ol>
<li>ä½¿ç”¨äº‹åŠ¡å¤„ç†ï¼ˆtransaction processingï¼‰ï¼Œé€šè¿‡ç¡®ä¿æˆæ‰¹çš„ SQL æ“ä½œè¦ä¹ˆå®Œå…¨æ‰§è¡Œï¼Œè¦ä¹ˆå®Œå…¨ä¸æ‰§è¡Œï¼Œæ¥ç»´æŠ¤æ•°æ®åº“çš„å®Œæ•´æ€§ï¼›</li>
<li>äº‹åŠ¡å¤„ç†æ˜¯ä¸€ç§æœºåˆ¶ï¼Œ ç”¨æ¥ç®¡ç†å¿…é¡»æˆæ‰¹æ‰§è¡Œçš„ SQL æ“ä½œï¼Œä¿è¯æ•°æ®åº“ä¸åŒ…å«ä¸å®Œæ•´çš„æ“ä½œç»“æœï¼›</li>
<li>äº‹åŠ¡ï¼ˆtransactionï¼‰æŒ‡ä¸€ç»„ SQL è¯­å¥ï¼›</li>
<li>å›é€€ï¼ˆrollbackï¼‰æŒ‡æ’¤é”€æŒ‡å®š SQL è¯­å¥çš„è¿‡ç¨‹ï¼›</li>
<li>æäº¤ï¼ˆcommitï¼‰æŒ‡å°†æœªå­˜å‚¨çš„ SQL è¯­å¥ç»“æœå†™å…¥æ•°æ®åº“è¡¨ï¼›</li>
<li>ä¿ç•™ç‚¹ï¼ˆsavepointï¼‰æŒ‡äº‹åŠ¡å¤„ç†ä¸­è®¾ç½®çš„ä¸´æ—¶å ä½ç¬¦ï¼ˆplaceholderï¼‰ï¼Œå¯ä»¥å¯¹å®ƒå‘å¸ƒå›é€€ï¼ˆä¸å›é€€æ•´ä¸ªäº‹åŠ¡å¤„ç†ä¸åŒï¼‰ï¼</li>
</ol>
<hr>
<h1 id="å…¶ä»–"><a href="#å…¶ä»–" class="headerlink" title="å…¶ä»–"></a>å…¶ä»–</h1><ol>
<li>æ•°æ®åº“ç®¡ç†å‘˜é€šå¸¸ä½¿ç”¨å…³ç³»å›¾æ¥è¯´æ˜æ•°æ®åº“è¡¨çš„å…³è”æ–¹å¼;</li>
<li>æ•°æ®ç±»å‹æ˜¯å®šä¹‰åˆ—ä¸­å¯ä»¥å­˜å‚¨ä»€ä¹ˆæ•°æ®ä»¥åŠè¯¥æ•°æ®å®é™…æ€æ ·å­˜å‚¨çš„åŸºæœ¬è§„åˆ™ï¼›</li>
<li>åœ¨è®¾è®¡è¡¨æ—¶ï¼Œåº”è¯¥ç‰¹åˆ«é‡è§†æ‰€ç”¨çš„æ•°æ®ç±»å‹ã€‚ä½¿ç”¨é”™è¯¯çš„æ•°æ®ç±»å‹å¯èƒ½ä¼šä¸¥é‡å½±å“åº”ç”¨ç¨‹åºçš„åŠŸèƒ½å’Œæ€§èƒ½ï¼›</li>
<li>å¤–é”®æ˜¯è¡¨ä¸­çš„ä¸€åˆ—ï¼Œå…¶å€¼å¿…é¡»åˆ—åœ¨å¦ä¸€è¡¨çš„ä¸»é”®ä¸­ï¼Œå¤–é”®æ˜¯ä¿è¯å¼•ç”¨å®Œ æ•´æ€§çš„æå…¶é‡è¦éƒ¨åˆ†ï¼›</li>
<li>ç´¢å¼•ç”¨æ¥æ’åºæ•°æ®ä»¥åŠ å¿«æœç´¢å’Œæ’åºæ“ä½œçš„é€Ÿåº¦ï¼›</li>
<li>ä»»ä½•å®‰å…¨ç³»ç»Ÿçš„åŸºç¡€éƒ½æ˜¯ç”¨æˆ·æˆæƒå’Œèº«ä»½ç¡®è®¤ï¼Œå®‰å…¨æ€§ä½¿ç”¨ SQL çš„ GRANT å’Œ REVOKE è¯­å¥æ¥ç®¡ç†ï¼›</li>
<li>ä¸€èˆ¬æ¥è¯´éœ€è¦ä¿æŠ¤çš„æ“ä½œæœ‰ï¼š<ul>
<li>å¯¹æ•°æ®åº“ç®¡ç†åŠŸèƒ½ï¼ˆåˆ›å»ºè¡¨ã€æ›´æ”¹æˆ–åˆ é™¤å·²å­˜åœ¨çš„è¡¨ç­‰ï¼‰çš„è®¿é—®</li>
<li>å¯¹ç‰¹å®šæ•°æ®åº“æˆ–è¡¨çš„è®¿é—®</li>
<li>è®¿é—®çš„ç±»å‹ï¼ˆåªè¯»ã€å¯¹ç‰¹å®šåˆ—çš„è®¿é—®ç­‰ï¼‰</li>
<li>ä»…é€šè¿‡è§†å›¾æˆ–å­˜å‚¨è¿‡ç¨‹å¯¹è¡¨è¿›è¡Œè®¿é—®</li>
<li>åˆ›å»ºå¤šå±‚æ¬¡çš„å®‰å…¨æªæ–½ï¼Œä»è€Œå…è®¸å¤šç§åŸºäºç™»å½•çš„è®¿é—®å’Œæ§åˆ¶</li>
<li>é™åˆ¶ç®¡ç†ç”¨æˆ·è´¦å·çš„èƒ½åŠ›</li>
</ul>
</li>
</ol>
]]></content>
      <categories>
        <category>MySQL</category>
      </categories>
  </entry>
  <entry>
    <title>MySQLåŸºç¡€å¼ºåŒ–</title>
    <url>/2020/06/22/MySQL%E5%9F%BA%E7%A1%80%E5%BC%BA%E5%8C%96/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p> è¿‘å¹´æ¥ï¼Œå’Œå…¶ä»–ç³»ç»Ÿé¢†åŸŸä¸€æ ·ï¼Œæ•°æ®åº“é¢†åŸŸä¹Ÿå®ç°äº†é£é€Ÿå‘å±•ï¼Œåº”ç”¨èŒƒå›´ä¸æ–­æ‰©å¤§ï¼Œ ä¸ä½†å‡ºç°äº†å…·æœ‰æ–°åŠŸèƒ½çš„æ•°æ®åº“ï¼Œè€Œä¸”æ“ä½œçš„æ•°æ®é‡ä¹Ÿå¤§å¹…å¢é•¿ï¼ä¸ºäº†è¿½æ±‚æ›´é«˜çš„å¤§è§„æ¨¡æ•°æ®å¤„ç†çš„æ€§èƒ½ï¼Œå†…å­˜æ•°æ®åº“å’Œé¢å‘åˆ—æ•°æ®åº“çš„æŠ€æœ¯ä¹Ÿå–å¾—äº†é•¿è¶³çš„è¿›æ­¥ï¼Œå¹¶é€æ¸æŠ•å…¥åˆ°å®é™…åº”ç”¨å½“ä¸­ã€‚ <strong>æ¨èä¹¦ç±ï¼šã€ŠMySQL åŸºç¡€æ•™ç¨‹ï¼ˆç¬¬2ç‰ˆï¼‰Â·èµ„æ·±æ•°æ®åº“å·¥ç¨‹å¸ˆå†™ç»™åˆå­¦è€…çš„å®ç”¨æŒ‡å—ã€‹Â· [æ—¥]  MICK è‘— å­™æ·¼ ç½—å‹‡è¯‘    ã€ŠMySQL è¿›é˜¶æ•™ç¨‹ã€‹Â· [æ—¥]  MICK è‘— å´ç‚æ˜Œ è¯‘     ã€ŠMySQL ä¸MariaDBå­¦ä¹ æŒ‡å—ã€‹Â· [ç¾]  Russel J.T. Dyer è‘— è¢å¿—é¹è¯‘</strong></p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="åŸºç¡€çŸ¥è¯†"><a href="#åŸºç¡€çŸ¥è¯†" class="headerlink" title="åŸºç¡€çŸ¥è¯†"></a>åŸºç¡€çŸ¥è¯†</h2><ol>
<li><p>RDBMSå¸¸è§çš„ç³»ç»Ÿç»“æ„æ˜¯å®¢æˆ·ç«¯/æœåŠ¡å™¨ç±»å‹ï¼ˆC/Sç±»å‹ï¼‰ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/2ede615f0582020a25fbc0fe39b989dc-93303" alt="RDBMSç³»ç»Ÿç»“æ„"></p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/ba332c00c7d39f00e4d5c9e6eb8247f7-87765" alt="å¤šå®¢æˆ·ç«¯ç»“æ„"></p>
</li>
<li><p>æ•°æ®åº“å’Œè¡¨çš„å…³ç³»ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/f0872b4cd3aa9be7999c577792105a47-101767" alt="æ•°æ®åº“å’Œè¡¨çš„å…³ç³»"></p>
</li>
<li><p>SQLè¯­å¥åŠå…¶ç§ç±»ï¼š</p>
<ul>
<li>DDLï¼ˆData Definition Languageï¼Œæ•°æ®å®šä¹‰è¯­è¨€ï¼‰ ç”¨æ¥åˆ›å»ºæˆ–è€…åˆ é™¤å­˜å‚¨æ•°æ®ç”¨çš„æ•°æ®åº“ä»¥åŠæ•°æ®åº“ä¸­çš„è¡¨ç­‰å¯¹è±¡</li>
<li>DMLï¼ˆData Manipulation Languageï¼Œæ•°æ®æ“çºµè¯­è¨€ï¼‰ ç”¨æ¥æŸ¥è¯¢æˆ–è€…å˜æ›´è¡¨ä¸­çš„è®°å½•</li>
<li>DCLï¼ˆData Control Languageï¼Œæ•°æ®æ§åˆ¶è¯­è¨€ï¼‰ ç”¨æ¥ç¡®è®¤æˆ–è€…å–æ¶ˆå¯¹æ•°æ®åº“ä¸­çš„æ•°æ®è¿›è¡Œçš„å˜æ›´</li>
</ul>
</li>
<li><p><strong>åªèƒ½ä½¿ç”¨åŠè§’è‹±æ–‡å­—æ¯ã€æ•°å­—ã€ä¸‹åˆ’çº¿ï¼ˆ_ï¼‰ä½œä¸ºæ•°æ®åº“ã€è¡¨å’Œåˆ—çš„åç§°ï¼›</strong></p>
</li>
<li><p>è¿ç®—ç¬¦ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/51395f70253f4b1d9cec8773ab8c45ee-90369" alt="ANDè¿ç®—ç¬¦"></p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/c73001bb08782e5ca58b43a4e5404fc7-91983" alt="ORè¿ç®—ç¬¦"></p>
</li>
<li><p>ACID ç‰¹æ€§ï¼š</p>
<ul>
<li>åŸå­æ€§ï¼ˆAtomicityï¼‰</li>
<li>ä¸€è‡´æ€§ï¼ˆConsistencyï¼‰</li>
<li>éš”ç¦»æ€§ï¼ˆIsolationï¼‰</li>
<li>æŒä¹…æ€§ï¼ˆDurabilityï¼‰</li>
</ul>
</li>
<li><p>è§†å›¾å’Œè¡¨ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/cf90c7dfb3a58fec35193c90ad64874a-102665" alt="è§†å›¾å’Œè¡¨"></p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/c78696fb958c8412d1a86aa37de7ce6a-74535" alt="è§†å›¾åŸºç¡€ä¸Šåˆ›å»ºè§†å›¾"></p>
<ul>
<li>åœ¨å®é™…çš„ä¸šåŠ¡ä¸­æ•°æ®é‡å¾€å¾€éå¸¸å¤§ï¼Œè¿™æ—¶ä½¿ç”¨è§†å›¾æ‰€èŠ‚çœçš„å®¹é‡å°±ä¼šéå¸¸å¯è§‚äº†</li>
<li>è¡¨ä¸­å­˜å‚¨çš„æ˜¯å®é™…æ•°æ®ï¼Œè€Œè§†å›¾ä¸­ä¿å­˜çš„æ˜¯ä»è¡¨ä¸­å–å‡ºæ•°æ®æ‰€ä½¿ç”¨çš„ SELECT è¯­å¥</li>
</ul>
</li>
<li><p>CASE è¡¨è¾¾å¼çš„è¯­æ³•åˆ†ä¸ºç®€å• CASE è¡¨è¾¾å¼å’Œæœç´¢ CASE è¡¨è¾¾å¼ä¸¤ç§ï¼ˆè¾ƒä¸ºå¤æ‚ï¼‰ï¼š</p>
<ul>
<li><p>è¯­æ³•ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">CASE WHEN &lt; æ±‚å€¼è¡¨è¾¾å¼ &gt; THEN &lt; è¡¨è¾¾å¼ &gt;</span><br><span class="line">		 WHEN &lt; æ±‚å€¼è¡¨è¾¾å¼ &gt; THEN &lt; è¡¨è¾¾å¼ &gt;</span><br><span class="line">     WHEN &lt; æ±‚å€¼è¡¨è¾¾å¼ &gt; THEN &lt; è¡¨è¾¾å¼ &gt;</span><br><span class="line"> 		 ELSE &lt;è¡¨è¾¾å¼ &gt;</span><br><span class="line"><span class="keyword">END</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>æ•°æ®åº“åº”ç”¨ç³»ç»Ÿï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/12148c2c797cab28957d7ff41d60561a-66256" alt="æ•°æ®åº“åº”ç”¨ç³»ç»Ÿ"></p>
</li>
</ol>
<h1 id="å®é™…æ“ä½œ"><a href="#å®é™…æ“ä½œ" class="headerlink" title="å®é™…æ“ä½œ"></a>å®é™…æ“ä½œ</h1><h2 id="çµæ´»çš„CASE"><a href="#çµæ´»çš„CASE" class="headerlink" title="çµæ´»çš„CASE"></a>çµæ´»çš„CASE</h2><ol>
<li><p>CASE è¡¨è¾¾å¼æ˜¯ä¸ä¾èµ–äºå…·ä½“æ•°æ®åº“çš„æŠ€æœ¯ï¼Œå› æ­¤å¯ä»¥æé«˜ SQL ä»£ç çš„å¯ç§»æ¤æ€§ï¼›</p>
</li>
<li><p>CASE è¡¨è¾¾å¼æœ‰ç®€å• CASE è¡¨è¾¾å¼ ï¼ˆsimple case expressionï¼‰ å’Œæœç´¢ CASE è¡¨è¾¾å¼ï¼ˆsearched case expressionï¼‰ ä¸¤ç§å†™æ³•ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- ç®€å• CASE è¡¨è¾¾å¼</span></span><br><span class="line">CASE sex</span><br><span class="line">	WHEN '1' THEN 'ç”·'</span><br><span class="line">	WHEN '2' THEN 'å¥³'</span><br><span class="line">ELSE 'å…¶ä»–' <span class="keyword">END</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- æœç´¢ CASE è¡¨è¾¾å¼</span></span><br><span class="line"><span class="keyword">CASE</span> <span class="keyword">WHEN</span> sex = <span class="string">'1'</span> <span class="keyword">THEN</span> <span class="string">'ç”·'</span></span><br><span class="line">		 <span class="keyword">WHEN</span> sex = <span class="string">'2'</span> <span class="keyword">THEN</span> <span class="string">'å¥³'</span></span><br><span class="line"><span class="keyword">ELSE</span> <span class="string">'å…¶ä»–'</span> <span class="keyword">END</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>ç®€å• CASE è¡¨è¾¾å¼èƒ½å†™çš„æ¡ä»¶ï¼Œæœç´¢ CASE è¡¨è¾¾å¼ä¹Ÿèƒ½å†™ï¼Œå› æ­¤åŸºæœ¬ä¸Šé‡‡ç”¨æœç´¢ CASE è¡¨è¾¾å¼çš„å†™æ³•ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- ç®€å•CASE ä½¿ç”¨</span></span><br><span class="line"><span class="keyword">SELECT</span> Customers.cust_id ,<span class="keyword">CASE</span> Customers.cust_country <span class="keyword">WHEN</span> <span class="string">'USA'</span> <span class="keyword">THEN</span> <span class="string">'ç¾å›½'</span> <span class="keyword">ELSE</span> <span class="string">'å…¶ä»–'</span> <span class="keyword">END</span>  <span class="keyword">AS</span> country <span class="keyword">FROM</span> Customers;</span><br></pre></td></tr></table></figure>

<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/ac9c91c5626686cacb2123310747a3a1-46194" alt="ç®€å•CASEä½¿ç”¨"></p>
<ul>
<li><strong>ä¸ºäº†é¿å…å¼•èµ·ä¸å¿…è¦çš„æ··ä¹±ï¼Œä½¿ç”¨ WHEN å­å¥æ—¶è¦æ³¨æ„æ¡ä»¶çš„æ’ä»–æ€§ï¼</strong></li>
<li>ä½¿ç”¨ CASE è¡¨è¾¾å¼çš„æ—¶å€™ï¼Œæœ€å®¹æ˜“å‡ºç°çš„è¯­æ³•é”™è¯¯æ˜¯å¿˜è®°å†™ END</li>
<li>ä¸å†™ ELSE å­å¥æ—¶ï¼Œ CASE è¡¨è¾¾å¼çš„æ‰§è¡Œç»“æœæ˜¯ NULLï¼Œå› æ­¤å…»æˆå†™ ELSE å­å¥çš„ä¹ æƒ¯</li>
</ul>
</li>
<li><p>ç»å¸¸ä¼šé‡åˆ°å°†å·²æœ‰ç¼–å·æ–¹å¼è½¬æ¢ä¸ºå¦å¤–ä¸€ç§ä¾¿äºåˆ†æçš„æ–¹å¼å¹¶è¿›è¡Œç»Ÿè®¡çš„éœ€æ±‚ï¼Œè¿™ä¸ªæ—¶å€™CASEå°±èƒ½æ´¾ä¸Šç”¨åœºäº†ï¼›</p>
</li>
<li><p>å¿…é¡»åœ¨ SELECT å­å¥å’Œ GROUP BY å­å¥è¿™ ä¸¤å¤„å†™ä¸€æ ·çš„ CASE è¡¨è¾¾å¼ï¼Œè¿™æœ‰ç‚¹å„¿éº»çƒ¦ï¼Œå¯ä»¥ä½¿ç”¨ASæ¥æ”¹å˜ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- æŠŠå¿ç¼–å·è½¬æ¢æˆåœ°åŒºç¼–å· (2) ï¼šå°† CASE è¡¨è¾¾å¼å½’çº³åˆ°ä¸€å¤„</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">CASE</span> pref_name</span><br><span class="line">						<span class="keyword">WHEN</span> <span class="string">'å¾·å²›'</span> <span class="keyword">THEN</span> <span class="string">'å››å›½'</span></span><br><span class="line">						<span class="keyword">WHEN</span> <span class="string">'é¦™å·'</span> <span class="keyword">THEN</span> <span class="string">'å››å›½'</span></span><br><span class="line">						<span class="keyword">WHEN</span> <span class="string">'çˆ±åª›'</span> <span class="keyword">THEN</span> <span class="string">'å››å›½'</span></span><br><span class="line">						<span class="keyword">WHEN</span> <span class="string">'é«˜çŸ¥'</span> <span class="keyword">THEN</span> <span class="string">'å››å›½'</span></span><br><span class="line">						<span class="keyword">WHEN</span> <span class="string">'ç¦å†ˆ'</span> <span class="keyword">THEN</span> <span class="string">'ä¹å·'</span></span><br><span class="line">						<span class="keyword">WHEN</span> <span class="string">'ä½è´º'</span> <span class="keyword">THEN</span> <span class="string">'ä¹å·'</span></span><br><span class="line">						<span class="keyword">WHEN</span> <span class="string">'é•¿å´'</span> <span class="keyword">THEN</span> <span class="string">'ä¹å·'</span></span><br><span class="line">			<span class="keyword">ELSE</span> <span class="string">'å…¶ä»–'</span> <span class="keyword">END</span> <span class="keyword">AS</span> district,</span><br><span class="line">			<span class="keyword">SUM</span>(population)</span><br><span class="line"><span class="keyword">FROM</span> PopTbl</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> district;</span><br></pre></td></tr></table></figure>

<ul>
<li>è™½ç„¶MySQLæ”¯æŒï¼Œä½†æ˜¯ä¸æ¨èä½¿ç”¨ï¼</li>
</ul>
</li>
<li><p><strong>æ–°æ‰‹ç”¨ WHERE å­å¥è¿›è¡Œæ¡ä»¶åˆ†æ”¯ï¼Œ é«˜æ‰‹ç”¨ SELECT å­å¥è¿›è¡Œæ¡ä»¶åˆ†æ”¯</strong></p>
</li>
<li><p>åœ¨ GROUP BY å­å¥é‡Œä½¿ç”¨ CASE è¡¨è¾¾å¼ï¼Œå¯ä»¥çµæ´»åœ°é€‰æ‹©ä½œä¸ºèšåˆçš„å•ä½çš„ç¼–å·æˆ–ç­‰çº§ï¼›</p>
</li>
<li><p>åœ¨èšåˆå‡½æ•°ä¸­ä½¿ç”¨ CASE è¡¨è¾¾å¼ï¼Œå¯ä»¥è½»æ¾åœ°å°†è¡Œç»“æ„çš„æ•°æ®è½¬æ¢æˆåˆ—ç»“æ„çš„æ•°æ®ï¼›</p>
</li>
<li><p>èšåˆå‡½æ•°å¯ä»¥åµŒå¥—è¿› CASE è¡¨è¾¾å¼é‡Œä½¿ç”¨ï¼›</p>
</li>
<li><p>ç›¸æ¯”ä¾èµ–äºå…·ä½“æ•°æ®åº“çš„å‡½æ•°ï¼Œ CASE è¡¨è¾¾å¼æœ‰æ›´å¼ºå¤§çš„è¡¨è¾¾èƒ½åŠ›å’Œæ›´å¥½çš„å¯ç§»æ¤æ€§ï¼›</p>
</li>
</ol>
<h2 id="è‡ªè¿æ¥è¿ç®—"><a href="#è‡ªè¿æ¥è¿ç®—" class="headerlink" title="è‡ªè¿æ¥è¿ç®—"></a>è‡ªè¿æ¥è¿ç®—</h2><ol>
<li><p>SQL çš„è¿æ¥è¿ç®—æ ¹æ®å…¶ç‰¹å¾çš„ä¸åŒï¼Œæœ‰ç€ä¸åŒçš„åç§°ï¼Œå¦‚å†…è¿æ¥ã€å¤–è¿æ¥ã€äº¤å‰è¿æ¥ç­‰ï¼›</p>
</li>
<li><p>é’ˆå¯¹ç›¸åŒçš„è¡¨è¿›è¡Œçš„è¿æ¥è¢«ç§°ä¸ºâ€œè‡ªè¿æ¥â€ï¼ˆself joinï¼‰ï¼›</p>
</li>
<li><p>ç”¨ SQL ç”Ÿæˆæœ‰åºå¯¹éå¸¸ç®€å•ï¼Œåƒä¸‹é¢è¿™æ ·é€šè¿‡äº¤å‰è¿æ¥ç”Ÿæˆç¬›å¡ ç§¯ï¼ˆç›´ç§¯ï¼‰ï¼Œå°±å¯ä»¥å¾—åˆ°æœ‰åºå¯¹ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- ç”¨äºè·å–å¯é‡æ’åˆ—çš„ SQL è¯­å¥</span></span><br><span class="line"><span class="keyword">SELECT</span> P1.name <span class="keyword">AS</span> name_1, P2.name <span class="keyword">AS</span> name_2 <span class="keyword">FROM</span> Products P1, Products P2;</span><br></pre></td></tr></table></figure>
</li>
<li><p>å»é‡ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- ç”¨äºè·å–æ’åˆ—çš„ SQL è¯­å¥</span></span><br><span class="line"><span class="keyword">SELECT</span> P1.name <span class="keyword">AS</span> name_1, P2.name <span class="keyword">AS</span> name_2</span><br><span class="line"><span class="keyword">FROM</span> Products P1, Products P2</span><br><span class="line"><span class="keyword">WHERE</span> P1.name &lt;&gt; P2.name;</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä½¿ç”¨ç­‰å·â€œï¼â€ä»¥å¤–çš„æ¯”è¾ƒè¿ç®—ç¬¦ï¼Œå¦‚â€œ&lt;ã€&gt;ã€&lt;&gt;â€ è¿›è¡Œçš„è¿æ¥ç§°ä¸ºâ€œéç­‰å€¼è¿æ¥â€ï¼Œå°†éç­‰å€¼è¿æ¥ä¸è‡ªè¿æ¥ç»“åˆä½¿ç”¨ï¼Œå°±ç§°ä¸ºâ€œéç­‰å€¼è‡ªè¿æ¥â€ï¼›</p>
</li>
<li><p>ä¸å¤šè¡¨ä¹‹é—´è¿›è¡Œçš„æ™®é€šè¿æ¥ç›¸æ¯”ï¼Œè‡ªè¿æ¥çš„æ€§èƒ½å¼€é”€æ›´å¤§ï¼›</p>
</li>
<li><p>è‡ªè¿æ¥å’Œ GROUP BY ç»“åˆä½¿ç”¨å¯ä»¥ç”Ÿæˆé€’å½’é›†åˆï¼›</p>
</li>
<li><p>å°†è‡ªè¿æ¥çœ‹ä½œä¸åŒè¡¨ä¹‹é—´çš„è¿æ¥æ›´å®¹æ˜“ç†è§£ï¼›</p>
</li>
<li><p>è‡ªè¿æ¥çš„æ€§èƒ½å¼€é”€æ›´å¤§ï¼Œåº”å°½é‡ç»™ç”¨äºè¿æ¥çš„åˆ—å»ºç«‹ç´¢å¼•ï¼</p>
</li>
</ol>
<h2 id="å¤–è¿æ¥"><a href="#å¤–è¿æ¥" class="headerlink" title="å¤–è¿æ¥"></a>å¤–è¿æ¥</h2><ol>
<li><p>æ ‡å‡† SQL é‡Œå®šä¹‰äº†å¤–è¿æ¥çš„ä¸‰ç§ç±»å‹ï¼š</p>
<ul>
<li>å·¦å¤–è¿æ¥ï¼ˆLEFT OUTER JOINï¼‰</li>
<li>å³å¤–è¿æ¥ï¼ˆRIGHT OUTER JOINï¼‰</li>
<li>å…¨å¤–è¿æ¥ï¼ˆFULL OUTER JOINï¼‰</li>
</ul>
</li>
<li><p>å·¦å¤–è¿æ¥å’Œå³å¤–è¿æ¥æ²¡æœ‰åŠŸèƒ½ä¸Šçš„åŒºåˆ«ï¼Œ<strong>ç”¨ä½œä¸»è¡¨çš„è¡¨</strong>å†™åœ¨è¿ç®—ç¬¦å·¦è¾¹æ—¶ç”¨å·¦å¤–è¿æ¥ï¼Œå†™åœ¨è¿ç®—ç¬¦å³è¾¹æ—¶ç”¨å³å¤–è¿æ¥ï¼›</p>
</li>
<li><p>å…¨å¤–è¿æ¥ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- å…¨å¤–è¿æ¥ä¿ç•™å…¨éƒ¨ä¿¡æ¯</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">COALESCE</span>(A.id, B.id) <span class="keyword">AS</span> <span class="keyword">id</span>,A.name <span class="keyword">AS</span> A_name,B.name <span class="keyword">AS</span> B_name</span><br><span class="line"><span class="keyword">FROM</span> Class_A A <span class="keyword">FULL</span> <span class="keyword">OUTER</span> <span class="keyword">JOIN</span> Class_B B <span class="keyword">ON</span> A.id = B.id;</span><br></pre></td></tr></table></figure>
</li>
<li><p>å¦‚æœæ‰€ç”¨çš„æ•°æ®åº“ä¸æ”¯æŒå…¨å¤–è¿æ¥ï¼Œå¯ä»¥åˆ†åˆ«è¿›è¡Œå·¦å¤–è¿æ¥å’Œå³å¤–è¿æ¥ï¼Œå†æŠŠä¸¤ä¸ªç»“æœé€šè¿‡ UNION åˆå¹¶èµ·æ¥ï¼Œä¹Ÿèƒ½è¾¾åˆ°åŒæ ·çš„ç›®çš„ï¼›</p>
</li>
<li><p>å†…å¤–è¿æ¥çš„åŒºåˆ«ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/780293237f69de6764df298d53c5de72-22370" alt="å†…è¿æ¥"></p>
<ul>
<li>å†…è¿æ¥</li>
</ul>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/3d22fd36ff938addc82262e52dfcca17-21760" alt="å¤–è¿æ¥"></p>
<ul>
<li><p>å¤–è¿æ¥</p>
</li>
<li><p>å†…è¿æ¥ç›¸å½“äºæ±‚é›†åˆçš„ç§¯ï¼ˆINTERSECTï¼‰</p>
</li>
<li><p>å¤–è¿æ¥ç›¸å½“äºæ±‚é›†åˆçš„å’Œï¼ˆUNIONï¼‰</p>
</li>
</ul>
</li>
<li><p>SQL æ²¡æœ‰å®šä¹‰æ±‚å¼‚æˆ–é›†çš„è¿ç®—ç¬¦ï¼Œå¦‚æœç”¨é›†åˆè¿ç®—ç¬¦ï¼Œå¯ä»¥æœ‰ä¸¤ç§æ–¹æ³•ï¼š</p>
<ul>
<li>ä¸€ç§æ˜¯ (A UNION B) EXCEPT (A INTERSECT B) </li>
<li>å¦ä¸€ç§æ˜¯ (A EXCEPT B) UNION (B EXCEPT A) </li>
</ul>
</li>
<li><p><strong>å»ºè®®ï¼š</strong></p>
<ul>
<li>OUTER ä¹Ÿæ˜¯å¯ä»¥çœç•¥çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¹Ÿå¯ä»¥å†™æˆ LEFT JOIN å’Œ FULL JOIN ï¼ˆæ ‡å‡† SQL ä¹Ÿæ˜¯å…è®¸çš„ï¼‰ï¼Œä½†æ˜¯ä¸ºäº†åŒºåˆ†æ˜¯å†…è¿æ¥å’Œå¤–è¿æ¥ï¼Œ æœ€å¥½è¿˜æ˜¯å†™ä¸Š</li>
<li>SQL ä¸æ˜¯ç”¨æ¥ç”ŸæˆæŠ¥è¡¨çš„è¯­è¨€ï¼Œå› æ­¤ä¸å»ºè®®ç”¨å®ƒæ¥è¿›è¡Œæ ¼å¼è½¬æ¢</li>
<li>å¿…è¦æ—¶è€ƒè™‘ç”¨å¤–è¿æ¥æˆ– CASE è¡¨è¾¾å¼æ¥è§£å†³é—®é¢˜</li>
<li>å¤–è¿æ¥çš„æ€æƒ³å’Œé›†åˆè¿ç®—å¾ˆåƒï¼Œä½¿ç”¨å¤–è¿æ¥å¯ä»¥å®ç°å„ç§é›†åˆè¿ç®—</li>
</ul>
</li>
</ol>
<h2 id="HAVINGå­å¥"><a href="#HAVINGå­å¥" class="headerlink" title="HAVINGå­å¥"></a>HAVINGå­å¥</h2><ol>
<li><p>å°†è¡¨çœ‹ä½œæŠ½è±¡åº¦è¾ƒé«˜çš„é›†åˆï¼Œä»¥é›†åˆä¸ºå•ä½è¿›è¡Œæ“ä½œï¼›</p>
</li>
<li><p>HAVING å­å¥æ˜¯å¯ä»¥å•ç‹¬ä½¿ç”¨çš„ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- å¦‚æœæœ‰æŸ¥è¯¢ç»“æœï¼Œè¯´æ˜å­˜åœ¨ç¼ºå¤±çš„ç¼–å·</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="string">'å­˜åœ¨ç¼ºå¤±çš„ç¼–å·'</span> <span class="keyword">AS</span> gap</span><br><span class="line">	<span class="keyword">FROM</span> SeqTbl</span><br><span class="line"><span class="keyword">HAVING</span> <span class="keyword">COUNT</span>(*) &lt;&gt; <span class="keyword">MAX</span>(seq);</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ±‚ä¼—æ•°ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- æ±‚ä¼—æ•°çš„ SQL è¯­å¥ (1)ï¼šä½¿ç”¨è°“è¯ </span></span><br><span class="line"><span class="keyword">SELECT</span> income, <span class="keyword">COUNT</span>(*) <span class="keyword">AS</span> cnt <span class="keyword">FROM</span> Graduates <span class="keyword">GROUP</span> <span class="keyword">BY</span> income <span class="keyword">HAVING</span> <span class="keyword">COUNT</span>(*) &gt;= <span class="keyword">ALL</span> ( <span class="keyword">SELECT</span> <span class="keyword">COUNT</span>(*) <span class="keyword">FROM</span> Graduates <span class="keyword">GROUP</span> <span class="keyword">BY</span> income);</span><br></pre></td></tr></table></figure>
</li>
<li><p>è¡¨ä¸æ˜¯æ–‡ä»¶ï¼Œè®°å½•ä¹Ÿæ²¡æœ‰é¡ºåºï¼Œæ‰€ä»¥ SQL ä¸è¿›è¡Œæ’åº;</p>
</li>
<li><p>SQL ä¸åƒé¢å‘è¿‡ç¨‹è¯­è¨€é‚£æ ·é€šè¿‡ç”»æµç¨‹å›¾æ¥æ€è€ƒé—®é¢˜ï¼Œè€Œæ˜¯é€šè¿‡ç”»é›†åˆçš„å…³ç³»å›¾æ¥æ€è€ƒï¼›</p>
</li>
<li><p>GROUP BY å­å¥å¯ä»¥ç”¨æ¥ç”Ÿæˆå­é›†ï¼›</p>
</li>
<li><p>WHERE å­å¥ç”¨æ¥è°ƒæŸ¥é›†åˆå…ƒç´ çš„æ€§è´¨ï¼Œè€Œ HAVING å­å¥ç”¨æ¥è°ƒæŸ¥é›†åˆæœ¬èº«çš„æ€§è´¨ï¼›</p>
</li>
</ol>
<h2 id="SQLæ€§èƒ½ä¼˜åŒ–"><a href="#SQLæ€§èƒ½ä¼˜åŒ–" class="headerlink" title="SQLæ€§èƒ½ä¼˜åŒ–"></a>SQLæ€§èƒ½ä¼˜åŒ–</h2><ol>
<li>SQL çš„æ€§èƒ½ä¼˜åŒ–æ˜¯æ•°æ®åº“å·¥ç¨‹å¸ˆåœ¨å®é™…å·¥ä½œä¸­å¿…é¡»é¢å¯¹çš„é‡è¦è¯¾é¢˜ä¹‹ä¸€ï¼</li>
<li>æŸ¥è¯¢é€Ÿåº¦æ…¢å¹¶ä¸åªæ˜¯å› ä¸º SQL è¯­å¥æœ¬èº«ï¼Œè¿˜å¯èƒ½æ˜¯å› ä¸ºå†…å­˜åˆ†é…ä¸ä½³ã€æ–‡ä»¶ç»“æ„ä¸åˆç†ç­‰å…¶ä»–åŸå› ï¼›</li>
<li>å‚æ•°æ˜¯å­æŸ¥è¯¢æ—¶ï¼Œä½¿ç”¨ EXISTS ä»£æ›¿ INï¼›</li>
<li>å‚æ•°æ˜¯å­æŸ¥è¯¢æ—¶ï¼Œä½¿ç”¨è¿æ¥ä»£æ›¿ INï¼›</li>
<li>å¦‚æœæ²¡æœ‰ç»è¿‡æ·±å…¥æ€è€ƒå°±å®šä¹‰å¤æ‚çš„è§†å›¾ï¼Œå¯èƒ½ä¼šå¸¦æ¥å·¨å¤§çš„æ€§èƒ½é—®é¢˜ï¼›</li>
<li>â€¦ â€¦</li>
</ol>
<h1 id="æ•°æ®åº“ç®¡ç†"><a href="#æ•°æ®åº“ç®¡ç†" class="headerlink" title="æ•°æ®åº“ç®¡ç†"></a>æ•°æ®åº“ç®¡ç†</h1><h2 id="ç”¨æˆ·è´¦å·å’Œæƒé™"><a href="#ç”¨æˆ·è´¦å·å’Œæƒé™" class="headerlink" title="ç”¨æˆ·è´¦å·å’Œæƒé™"></a>ç”¨æˆ·è´¦å·å’Œæƒé™</h2><ol>
<li><p>è®¿é—®å’Œæƒé™åŸºäºç”¨æˆ·å’Œä¸»æœºçš„ç»„åˆï¼Œè¿™ä¸ªç»„åˆä¹Ÿå«ç”¨æˆ·è´¦å·ï¼›</p>
</li>
<li><p>ä½œä¸º root ç”¨æˆ·ï¼Œå¯ä»¥ç”¨ CREATE USER è¯­å¥æ¥åˆ›å»ºç”¨æˆ·è´¦å·ï¼›</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">USER</span> <span class="string">'wanderros'</span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p>æŸ¥çœ‹ç”¨æˆ·æƒé™ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SHOW</span> <span class="keyword">GRANTS</span> <span class="keyword">FOR</span> <span class="string">'wanderros'</span>;</span><br></pre></td></tr></table></figure>

<p><img src="" alt="æŸ¥çœ‹ç”¨æˆ·æƒé™"></p>
<ul>
<li>æˆæƒä½¿ç”¨æ‰€æœ‰æ•°æ®åº“å’Œæ‰€æœ‰è¡¨</li>
</ul>
</li>
<li><p>èµ‹æƒï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">GRANT</span> <span class="keyword">ALL</span> <span class="keyword">ON</span> learnmysql.* <span class="keyword">TO</span> <span class="string">'wanderros'</span>@<span class="string">'%'</span>;</span><br><span class="line"><span class="keyword">GRANT</span> <span class="keyword">SELECT</span>, <span class="keyword">INSERT</span>, <span class="keyword">UPDATE</span> <span class="keyword">ON</span> learnmysql.* <span class="keyword">TO</span> <span class="string">'wanderros'</span>@<span class="string">'%'</span>;</span><br></pre></td></tr></table></figure>

<p><img src="" alt="GRANTä¸REVOKEå¯ä»¥ä½¿ç”¨çš„æƒé™"></p>
</li>
<li><p>æ¢å¤æ•°æ®ï¼š</p>
<ul>
<li>å°†æ•°æ®ä» dump æ–‡ä»¶æ¢å¤åˆ°è¡¨ä¸­æ—¶ï¼Œç”¨æˆ·è´¦å·è‡³å°‘éœ€è¦ INSERT æƒé™</li>
<li>åœ¨æ’å…¥æ•°æ®æ—¶ï¼Œè¿˜éœ€è¦ LOCK TABLES æƒé™æ¥é”ä½è¡¨</li>
<li>éœ€è¦ CREATE å’Œ INDEX æƒé™æ¥åˆ†åˆ«åˆ›å»ºè¡¨å’Œç´¢å¼•</li>
<li>å› ä¸º dump æ–‡ä»¶å¯èƒ½åŒ…å«è®¾ç½®æ ¡å¯¹é›†çš„è¯­å¥ï¼Œæ‰€ä»¥éœ€è¦ ALTER æƒé™</li>
<li>å°†æ•°æ®æ¢å¤åˆ°ä¸´æ—¶è¡¨éœ€è¦ CREATE TEMPORARY TABLES æƒé™</li>
<li>å¦‚æœæ•°æ®åº“æœ‰è§†å›¾æˆ–è§¦å‘å™¨ï¼Œåˆ™éœ€è¦ CREATE VIEW å’Œ TRIGGER æƒé™</li>
</ul>
</li>
<li><p>DROP USER è¯­å¥å¯ç”¨äºåˆ é™¤ç”¨æˆ·è´¦å·ï¼›</p>
</li>
<li><p>ä¿®æ”¹å¯†ç ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SET</span> <span class="keyword">PASSWORD</span> <span class="keyword">FOR</span> <span class="string">'admin_granter'</span>@<span class="string">'localhost'</span>=<span class="string">'new_passwd'</span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p>RENAME USER ç”¨äºä¿®æ”¹ç”¨æˆ·åï¼Œå¯ä»¥ç”¨å®ƒæ¥æ”¹ç”¨æˆ·è´¦å·çš„ç”¨æˆ·åå’Œä¸»æœºï¼›</p>
</li>
</ol>
<h2 id="å¤‡ä»½ä¸æ¢å¤"><a href="#å¤‡ä»½ä¸æ¢å¤" class="headerlink" title="å¤‡ä»½ä¸æ¢å¤"></a>å¤‡ä»½ä¸æ¢å¤</h2><ol>
<li><p>mysqldumpæ˜¯MySQL å’Œ MariaDB ä¸Šæœ€å¥½çš„å¤‡ä»½å·¥å…·ä¹‹ä¸€ï¼Œæ— éœ€å…³é—­æœåŠ¡å™¨å°±èƒ½åšå¤‡ä»½ï¼›</p>
</li>
<li><p>å¤‡ä»½æ‰€æœ‰æ•°æ®åº“ã€æ‰€æœ‰è¡¨ï¼Œä»¥åŠå…¶ä¸­çš„æ•°æ®ï¼Œæ˜¯æœ€ç®€å•çš„ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">mysqldump --user=admin_backup --password --lock-all-tables --all-databases &gt; /data/backups/all-dbs.sql</span><br></pre></td></tr></table></figure>

<ul>
<li>â€“user= admin_backupï¼Œè®© mysqldump ä»¥ admin_backup è´¦å·ä¸ MySQL æœåŠ¡å™¨è¿›è¡Œäº¤äº’</li>
<li>â€“passwordï¼Œè®© mysqldump åœ¨ä¸‹ä¸€è¡Œå¼¹å‡ºè¾“å…¥å¯†ç çš„æç¤ºç¬¦</li>
<li>â€“lock-all-tablesï¼Œåœ¨åšå¤‡ä»½å‰ï¼Œå…ˆè®© MySQL é”ä½æ‰€æœ‰è¡¨ï¼Œç„¶åç›´åˆ°å¤‡ä»½å®Œæˆæ‰è§£é”</li>
<li>â€“all-databasesï¼Œå¯¼å‡ºæ‰€æœ‰æ•°æ®åº“</li>
</ul>
</li>
<li><p>å¤‡ä»½æŒ‡å®šçš„æ•°æ®åº“ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">mysqldump --user=admin_backup --password --lock-tables  --verbose --databases learnmysql &gt; learnmysql.sql</span><br></pre></td></tr></table></figure>
</li>
<li><p>å¤‡ä»½æŒ‡å®šçš„è¡¨:</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">mysqldump --user=admin_backup --password --lock-tables --databases birdwatchers --tables humans &gt; birdwatchers-humans.sql</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ¢å¤æ•°æ®åº“ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">mysql --user=admin_restore --password &lt; learnmysql.sql</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h1 id="å…³ç³»å‹æ•°æ®åº“"><a href="#å…³ç³»å‹æ•°æ®åº“" class="headerlink" title="å…³ç³»å‹æ•°æ®åº“"></a>å…³ç³»å‹æ•°æ®åº“</h1><h2 id="å…³ç³»å‹çš„ç”±æ¥"><a href="#å…³ç³»å‹çš„ç”±æ¥" class="headerlink" title="å…³ç³»å‹çš„ç”±æ¥"></a>å…³ç³»å‹çš„ç”±æ¥</h2><ol>
<li>å…³ç³»æ•°æ®åº“ä»è¯ç”Ÿè‡³ä»Šå·²ç»æœ‰å››åå¤šå¹´ï¼Œç°åœ¨ä¾ç„¶æ‹¥æœ‰ç€å·¨å¤§çš„å¸‚åœºè§„æ¨¡ï¼Œä¸€ç›´ä»¥æ¥éƒ½åœ¨æ—¥å¸¸å·¥ä½œå’Œç”Ÿæ´»ä¸­ä½¿ç”¨ç€ï¼›</li>
<li>å…³ç³»å‹æ•°æ®åº“ä¹‹çˆ¶Coddçš„è´¡çŒ®ï¼š<ul>
<li>å®šä¹‰äº†å…³ç³»è¿ç®—ï¼ˆrelational calculusï¼‰</li>
<li>å®šä¹‰äº†å…³ç³»ä»£æ•°ï¼ˆrelational algebraï¼‰</li>
<li>é‡‡ç”¨è°“è¯é€»è¾‘ä½œä¸ºæ•°æ®åº“æ“ä½œçš„åŸºç¡€</li>
</ul>
</li>
<li>ç”±äºå…³ç³»æ•°æ®åº“ä»¥è°“è¯é€»è¾‘ä½œä¸ºåŸºç¡€ï¼Œé€»è¾‘å­¦çš„ç ”ç©¶æˆæœæ‰å¯ä»¥ç›´æ¥åº”ç”¨äºæ•°æ®ç®¡ç†ç³»ç»Ÿï¼›</li>
</ol>
<h2 id="å…³ç³»æ¨¡å‹"><a href="#å…³ç³»æ¨¡å‹" class="headerlink" title="å…³ç³»æ¨¡å‹"></a>å…³ç³»æ¨¡å‹</h2><ol>
<li>æ•°æ®åº“é‡‡ç”¨äº†å…³ç³»æ¨¡å‹ï¼Œå› æ­¤æ‰è¢«ç§°ä¸ºå…³ç³»æ•°æ®åº“ï¼›</li>
<li>å…³ç³»å’Œè¡¨çš„åŒºåˆ«ï¼š<ul>
<li>å…³ç³»æ˜¯é€šå¸¸è¯´çš„ä¸å…è®¸å­˜åœ¨é‡å¤å…ƒç´ çš„é›†åˆï¼Œ è€Œè¡¨æ˜¯å¤šé‡é›†åˆ</li>
<li>å…³ç³»ä¸­çš„å…ƒç»„æ²¡æœ‰ä»ä¸Šå¾€ä¸‹çš„é¡ºåºï¼Œè€Œè¡¨ä¸­çš„è¡Œæœ‰ä»ä¸Šå¾€ä¸‹çš„é¡ºåº</li>
<li>å…³ç³»ä¸­çš„å±æ€§æ²¡æœ‰ä»å·¦å¾€å³çš„é¡ºåºï¼Œè€Œè¡¨ä¸­çš„åˆ—æœ‰ä»å·¦å¾€å³çš„é¡ºåº</li>
<li>å…³ç³»ä¸­æ‰€æœ‰çš„å±æ€§çš„å€¼éƒ½æ˜¯ä¸å¯åˆ†å‰²çš„ï¼Œè€Œè¡¨ä¸­åˆ—çš„å€¼æ˜¯å¯ä»¥åˆ†å‰²çš„</li>
</ul>
</li>
<li>å…³ç³»æ¨¡å‹æ˜¯ä»¥æ•°å­¦ä¸­çš„é›†åˆè®ºä¸ºåŸºç¡€çš„ï¼Œå› æ­¤æ²¿ç”¨äº†é›†åˆè®ºçš„ä¸€äº›æœ¯è¯­ï¼›</li>
<li>çœŸæ­£çš„å…³ç³»ç³»ç»Ÿå°±æ˜¯æ”¯æŒå…³ç³»å€¼ç­‰å…¨éƒ¨å¤åˆå‹æ•°æ®çš„ç³»ç»Ÿã€‚ä¹Ÿè®¸åå¹´ä»¥åï¼ŒçœŸçš„ä¼šå‡ºç°èƒ½å¤Ÿå®šä¹‰é«˜é˜¶å…³ç³»çš„ DBMSï¼</li>
<li>åœ¨å…³ç³»æ¨¡å‹ä¸­ï¼Œ å…³ç³»å¯¹å…³ç³»è¿ç®—ç¬¦ä¹Ÿæ˜¯å°é—­çš„ï¼›</li>
<li>é›†åˆåˆ†ç±»ï¼š<ul>
<li>ç¾¤ï¼ˆgroupï¼‰ï¼šå¯¹åŠ æ³•å’Œå‡æ³•ï¼ˆæˆ–è€…ä¹˜æ³•å’Œé™¤æ³•ï¼‰å°é—­</li>
<li>ç¯ï¼ˆringï¼‰ï¼šå¯¹åŠ æ³•ã€å‡æ³•ã€ä¹˜æ³•å°é—­</li>
<li>åŸŸï¼ˆfiledï¼‰ï¼šå¯¹åŠ æ³•ã€å‡æ³•ã€ä¹˜æ³•ã€é™¤æ³•å°é—­ï¼Œå³å¯ä»¥è‡ªç”±è¿›è¡Œå››åˆ™è¿ç®—</li>
</ul>
</li>
</ol>
<h2 id="å…¶ä»–"><a href="#å…¶ä»–" class="headerlink" title="å…¶ä»–"></a>å…¶ä»–</h2><ol>
<li><p>æ¶ˆç­ NULLï¼š</p>
<ul>
<li>åœ¨è¿›è¡Œ SQL ç¼–ç æ—¶ï¼Œå¿…é¡»è€ƒè™‘è¿åäººç±»ç›´è§‰çš„ä¸‰å€¼é€»è¾‘</li>
<li>åœ¨æŒ‡å®š IS NULL ã€ IS NOT NULL çš„æ—¶å€™ï¼Œä¸ä¼šç”¨åˆ°ç´¢å¼•ï¼Œå› è€ŒSQL è¯­å¥æ‰§è¡Œèµ·æ¥æ€§èƒ½ä½ä¸‹</li>
<li>å¦‚æœå››åˆ™è¿ç®—ä»¥åŠ SQL å‡½æ•°çš„å‚æ•°ä¸­åŒ…å« NULLï¼Œä¼šå¼•èµ·â€œ NULLçš„ä¼ æ’­â€</li>
<li>åœ¨æ¥æ”¶SQLæŸ¥è¯¢ç»“æœçš„å®¿ä¸»è¯­è¨€ä¸­ï¼ŒNULLçš„å¤„ç†æ–¹æ³•æ²¡æœ‰ç»Ÿä¸€çš„æ ‡å‡†</li>
<li>ä¸ä¸€èˆ¬åˆ—çš„å€¼ä¸åŒï¼Œ NULL æ˜¯é€šè¿‡åœ¨æ•°æ®è¡Œçš„æŸå¤„åŠ ä¸Šå¤šä½™çš„ä½ ï¼ˆbitï¼‰æ¥å®ç°çš„ï¼Œå› ä¸ºå æ®æ›´å¤šçš„å†…å­˜</li>
</ul>
</li>
<li><p>å¦‚æœå››åˆ™è¿ç®—ä¸­åŒ…å« NULL ï¼Œé‚£ä¹ˆè¿ç®—ç»“æœä¹Ÿè‚¯å®šéƒ½æ˜¯ NULLï¼›</p>
</li>
<li><p><strong>NULL æœ€ææ€–çš„åœ°æ–¹å°±åœ¨äºå³ä½¿ä½ è®¤ä¸ºè‡ªå·±å·²ç»å®Œå…¨é©¾é©­å®ƒäº†ï¼Œä½†è¿˜æ˜¯ä¸€ä¸å°å¿ƒå°±ä¼šè¢«å®ƒåœ¨èƒŒåæ…ä¸€åˆ€ï¼</strong></p>
</li>
<li><p>æ¶ˆé™¤NULLçš„æ–¹æ³•ï¼š</p>
<ul>
<li>é¦–å…ˆåˆ†æèƒ½ä¸èƒ½è®¾ç½®é»˜è®¤å€¼</li>
<li>ä»…åœ¨æ— è®ºå¦‚ä½•éƒ½æ— æ³•è®¾ç½®é»˜è®¤å€¼æ—¶å…è®¸ä½¿ç”¨ NULL</li>
</ul>
</li>
<li><p>MariaDB æ¯” MySQL æ›´åŠ éµå®ˆå¼€æºè§„åˆ™ï¼Œæ›´åŠ è´´è¿‘å¤šæ•°äººçš„æƒ³æ³•ï¼Œæ˜¯MySQLçš„å¯é€‰æ›¿ä»£å“ï¼</p>
</li>
<li><p><strong>äº‹å®ä¸Šè¶Šæ˜¯é®é®æ©æ©çš„æ”¿åºœå’Œç»„ç»‡ï¼Œè¶Šåº”è¯¥å–œæ¬¢å¼€æºè½¯ä»¶ï¼Œå› ä¸ºå¼€æºè½¯ä»¶çš„ä»‡å®¶æ¯”å•†ä¸šè½¯ä»¶çš„è¦å°‘ï¼Œæ›´ä¸å®¹æ˜“é­å—æ”»å‡»å’Œç ´è§£ï¼</strong></p>
</li>
<li><p>æ”¹å˜rootå¯†ç çš„æ–¹æ³•æœ‰å¤šç§ã€‚å…¶ä¸­ä¸€ç§æ˜¯ä½¿ç”¨ç®¡ç†å·¥å…· mysqladmin ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">mysqladmin -u root -p flush-privileges password "new_pwd"</span><br></pre></td></tr></table></figure>
</li>
<li><p>åœ¨å»ºè¡¨æ—¶ï¼Œæˆ‘ä»¬éœ€è¦è§„åˆ’å¥½æ–¹æ¡ˆï¼Œå³éœ€è¦å»ºä»€ä¹ˆåŸŸï¼ˆæˆ–åˆ—ï¼‰!</p>
</li>
<li><p>åœ¨æ”¹è¡¨ä¹‹å‰ï¼Œå°¤å…¶æ˜¯æ”¹å«æœ‰æ•°æ®çš„è¡¨ä¹‹å‰ï¼Œåº”è¯¥åšå¥½æ•°æ®å¤‡ä»½ï¼Œä½¿ç”¨ musqldump å·¥å…·æ¥å¤‡ä»½ä½ è¦æ”¹çš„è¡¨ï¼Œ æˆ–å¤‡ä»½æ•´ä¸ªæ•°æ®åº“ã€‚</p>
</li>
</ol>
<hr>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>è¿™ä¸ªä¸–ç•Œæ²¡æœ‰ä¸€å¤©æ˜¯æ— èŠçš„ï¼Œåªä¸è¿‡æ˜¯ä½ æ‡’æƒ°å·²ä¹…çš„æ„Ÿå®˜æ— æ³•å‘ç°çœ¼å‰äº‹ç‰©çš„ä¹è¶£è€Œå·²ï¼<strong>æ²³æ°´æµåŠ¨ç»ä¹…ä¸æ¯ï¼Œç„¶è€Œå·²ç»ä¸æ˜¯åŸæ¥çš„æ°´ã€‚</strong>ç”±äº MySQL ç§°éœ¸å·²ä¹…ï¼Œ æ— æ³•æ’¼åŠ¨ï¼Œ è€Œä¸”äººä»¬æ€»æ˜¯ä¹ æƒ¯ä½¿ç”¨ç†Ÿæ‚‰çš„ä¸œè¥¿ï¼Œ æ‰€ä»¥å°±ç®—æœ‰æ›´å¥½çš„ä¸œè¥¿å‡ºç°ï¼Œ å¯èƒ½ä¹Ÿéš¾ä»¥å–è€Œä»£ä¹‹ï¼è‹¥çœŸè¦å–ä»£ MySQL å¼€æºæ•°æ®åº“çš„éœ¸ä¸»åœ°ä½ï¼Œé™¤äº†è¦æœ‰æ›´å¥½çš„åŠŸèƒ½ï¼Œ è¿˜è¦å…è®¸ç”¨æˆ·è¿ç”¨ç°æœ‰çš„çŸ¥è¯†è½»æ¾åœ°è¿ç§»æ•°æ®ã€‚</p>
]]></content>
      <categories>
        <category>MySQL</category>
      </categories>
  </entry>
  <entry>
    <title>NoSQL Qucik Start</title>
    <url>/2020/06/25/NoSQL-Qucik-Start/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>NoSQLå’Œé«˜æ€§èƒ½ã€åˆ†å¸ƒå¼ã€æµ·é‡æ•°æ®ç­‰çƒ­è¯æœ‰ç€åƒä¸ä¸‡ç¼•çš„è”ç³»ï¼éšç€ç”¨æˆ·å†…å®¹çš„å¢é•¿ï¼Œæ‰€ç”Ÿæˆã€å¤„ç†ã€åˆ†æå’Œå½’æ¡£çš„æ•°æ®çš„è§„æ¨¡å¿«é€Ÿå¢å¤§ï¼Œç±»å‹ä¹Ÿå¿«é€Ÿå¢å¤šï¼Œè¿™äº›å¤§æ•°æ®é›†é€šå¸¸è¢«ç§°ä¸ºå¤§æ•°æ®ã€‚ *<em>æ¨èä¹¦ç±ï¼šã€Šæ·±å…¥NoSQLã€‹Â· [å°] Shashank Tiwariè‘— å·¨æˆ è¯‘ *</em></p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="åŸºç¡€çŸ¥è¯†"><a href="#åŸºç¡€çŸ¥è¯†" class="headerlink" title="åŸºç¡€çŸ¥è¯†"></a>åŸºç¡€çŸ¥è¯†</h2><ol>
<li>NoSQLå¹¶ä¸å•æŒ‡ä¸€ä¸ªäº§å“æˆ–ä¸€ç§æŠ€æœ¯ï¼Œä»£è¡¨ä¸€æ—äº§å“ï¼Œä»¥åŠä¸€ç³»åˆ—ä¸åŒçš„ã€æœ‰æ—¶ç›¸äº’å…³è”çš„ã€æœ‰å…³æ•°æ®å­˜å‚¨ä»¥åŠå¤„ç†çš„æ¦‚å¿µï¼›</li>
<li>é‡‘æ— è¶³èµ¤ï¼ŒSQLè™½å¥½ï¼Œä½†æ˜¯é¢å¯¹å¤§é‡ç¨€ç–æ•°æ®æ—¶å°±å¾ˆé¸¡è‚‹ï¼Œè¿™ä¸ªæ—¶å€™NoSQLå°±å‘æŒ¥ä½œç”¨äº†ï¼</li>
<li>NoSQLç¼“è§£äº†RDBMSå¼•å‘çš„é—®é¢˜å¹¶é™ä½äº†å¤„ç†æµ·é‡ç¨€ç–æ•°æ®çš„éš¾åº¦ï¼Œä½†æ˜¯åè¿‡æ¥ä¹Ÿè¢«å¤ºå»äº†äº‹åŠ¡å®Œæ•´æ€§çš„åŠ›é‡å’Œçµæ´»çš„ç´¢å¼•ä»¥åŠæŸ¥è¯¢èƒ½åŠ›ï¼›</li>
<li>å¯æ‰©å±•æ€§ï¼š<ul>
<li>é…ç½®ä¸€ä¸ªå¤§è€Œå¼ºçš„èµ„æºæ¥æ»¡è¶³é¢å¤–çš„éœ€æ±‚</li>
<li>ä¾é æ™®é€šæœºå™¨ç»„æˆçš„é›†ç¾¤</li>
</ul>
</li>
<li>æ¯ä¸ªæ•°æ®å•å…ƒå¯ä»¥çœ‹ä½œä¸€ç»„é”®/å€¼å¯¹é›†åˆï¼Œå•å…ƒæœ¬èº«é€šè¿‡ä¸»æ ‡è¯†ç¬¦ï¼ˆprimary identifierï¼‰æ ‡è¯†ï¼Œä¸»æ ‡è¯†ç¬¦åˆå«ä¸»é”®ï¼›</li>
<li>æ¯æ¡æ•°æ®ä¸­åªæœ‰åˆæ³•çš„é”®/å€¼å¯¹æ‰ä¼šè¢«å­˜å‚¨ï¼›</li>
<li>å“ˆå¸Œè¡¨æˆ–å…³è”æ•°ç»„æ˜¯å¯ä»¥å®¹çº³é”®å€¼å¯¹çš„æœ€ç®€æ•°æ®ç»“æ„ï¼›</li>
<li>EHCacheæ˜¯ä¸€ä¸ªå¼€æºåˆ†å¸ƒå¼ç¼“å­˜ç³»ç»Ÿå¹¿æ³›åº”ç”¨äºå„ç±»Javaåº”ç”¨ä¸­ï¼›</li>
<li>Memcachedåœ¨Webåº”ç”¨ä¸­éå¸¸æµè¡Œ ï¼Œæ˜¯å¼€æºçš„é«˜æ€§èƒ½å¯¹è±¡ç¼“å­˜ç³»ç»Ÿï¼›</li>
<li>æ–‡æ¡£æ•°æ®åº“ä¸­çš„æ–‡æ¡£ä¸€è¯æ„æŒ‡æ–‡æ¡£ä¸­æ¾æ•£ç»“æ„çš„é”®å€¼å¯¹é›†åˆï¼Œé€šå¸¸æ˜¯JSON,è€Œéä¸€èˆ¬æ„ä¹‰çš„æ–‡æ¡£æˆ–è¡¨æ ¼ï¼›</li>
<li>å½“ä»Šä¸ºæ•°ä¸å¤šçš„å¼€æºæ–‡æ¡£æ•°æ®åº“ä¸­ï¼Œå£°æ˜è¿œæ‰¬çš„æ•°MongoDBå’ŒCouchDBï¼›</li>
<li>å›¾å½¢æ•°æ®åº“å’ŒXMLæ•°æ®å­˜å‚¨ï¼Œä¹Ÿå¯ä»¥ç®—ä½œNoSQLæ•°æ®åº“ï¼Œå›¾å½¢æ•°æ®åº“æœ‰ï¼šNeo4jå’ŒFlockDBï¼</li>
</ol>
<h2 id="å¤§æ•°æ®äº§å“"><a href="#å¤§æ•°æ®äº§å“" class="headerlink" title="å¤§æ•°æ®äº§å“"></a>å¤§æ•°æ®äº§å“</h2><h3 id="HBase"><a href="#HBase" class="headerlink" title="HBase"></a>HBase</h3><ol>
<li>åœ¨çº¿èµ„æºï¼š<a href="http://hbase.apache.org/" target="_blank" rel="noopener">http://hbase.apache.org/</a></li>
<li>å†å²ï¼šåˆ›å»ºäºPowersetï¼Œå¾®è½¯æ”¶è´­Powersetå‰HBaseè¢«æèµ ç»™äº†ApacheåŸºé‡‘ä¼š</li>
<li>æŠ€æœ¯å’Œè¯­è¨€ï¼šJavaå®ç°</li>
<li>è®¿é—®æ–¹æ³•ï¼šJRubyçš„shellæ”¯æŒå‘½ä»¤è¡Œè®¿é—®ï¼Œæœ‰Thriftã€Avroã€RESTå’Œprotobufå®¢æˆ·ç«¯</li>
<li>æŸ¥è¯¢è¯­è¨€ï¼šæ— åŸç”ŸæŸ¥è¯¢è¯­è¨€ï¼Œç”±Hiveæä¾›ç±»SQLæ¥å£</li>
<li>å¼€æºè®¸å¯è¯ï¼šApache Licenseç‰ˆæœ¬2</li>
<li>ä½¿ç”¨è€…ï¼šFacebookã€StumbleUponã€Huluã€Ningã€Mahaloã€Yahooï¼ç­‰</li>
</ol>
<h3 id="Hypertable"><a href="#Hypertable" class="headerlink" title="Hypertable"></a>Hypertable</h3><ol>
<li>åœ¨çº¿èµ„æºï¼š<a href="http://www.hypertable.org" target="_blank" rel="noopener">http://www.hypertable.org</a>  </li>
<li>å†å²ï¼šåˆ›å»ºäºZventsï¼Œç°åœ¨æ˜¯ç‹¬ç«‹å¼€æºé¡¹ç›®</li>
<li>æŠ€æœ¯å’Œè¯­è¨€ï¼šC++å®ç°ï¼Œä½¿ç”¨Google RE2æ­£åˆ™è¡¨è¾¾å¼ç±»åº“</li>
<li>è®¿é—®æ–¹æ³•ï¼šæ”¯æŒå‘½ä»¤è¡Œï¼Œæ”¯æŒThriftæ¥å£</li>
<li>æŸ¥è¯¢è¯­è¨€ï¼šHQLï¼ˆHypertable Query Languageï¼Œ HypertableæŸ¥è¯¢è¯­è¨€ï¼‰æ˜¯ä¸€ç§ç”¨äºæŸ¥è¯¢Hypertableæ•°æ®çš„ç±»SQLæŠ½è±¡</li>
<li>å¼€æºè®¸å¯è¯ï¼šGNU GPLç‰ˆæœ¬2</li>
<li>ä½¿ç”¨è€…ï¼šZventsã€ç™¾åº¦å’ŒRediff</li>
</ol>
<h3 id="Cloudata"><a href="#Cloudata" class="headerlink" title="Cloudata"></a>Cloudata</h3><ol>
<li>åœ¨çº¿èµ„æºï¼š<a href="http://www.cloudata.org" target="_blank" rel="noopener">http://www.cloudata.org</a>  </li>
<li>å†å²ï¼šç”±éŸ©å›½å¼€å‘è€…YK Kwonåˆ›å»ºï¼Œæ²¡æœ‰å¤ªå¤šæœ‰å…³å…¶èµ·æºçš„å…¬å¼€ä¿¡æ¯</li>
<li>æŠ€æœ¯å’Œè¯­è¨€ï¼šJavaå®ç°</li>
<li>è®¿é—®æ–¹æ³•ï¼šæ”¯æŒå‘½ä»¤è¡Œï¼Œæ”¯æŒThriftã€RESTå’ŒJava API</li>
<li>æŸ¥è¯¢è¯­è¨€ï¼šCQLï¼ˆCloudata Query Languageï¼Œ Cloudata æŸ¥è¯¢è¯­è¨€ï¼‰æ˜¯ä¸€ç§ç”¨äºæŸ¥è¯¢Cloudataæ•°æ®çš„ç±»SQLæŠ½è±¡</li>
<li>å¼€æºè®¸å¯è¯ï¼šApache Licenseç‰ˆæœ¬2</li>
<li>ä½¿ç”¨è€…ï¼šä¸è¯¦</li>
</ol>
<h2 id="NoSQLåˆä½“éªŒï¼ˆMongoDBï¼‰"><a href="#NoSQLåˆä½“éªŒï¼ˆMongoDBï¼‰" class="headerlink" title="NoSQLåˆä½“éªŒï¼ˆMongoDBï¼‰"></a>NoSQLåˆä½“éªŒï¼ˆMongoDBï¼‰</h2><ol>
<li><p>å¸‚é¢ä¸Šæœ‰å¾ˆå¤šçš„NoSQLäº§å“ï¼Œè€Œä¸”éƒ½æä¾›äº†å¼•äººæ³¨ç›®çš„åŠŸèƒ½å’Œä¼˜åŠ¿ï¼Œè¦å†³å®šä½¿ç”¨å“ªæ¬¾æˆ–è€…å“ªå‡ æ¬¾äº§å“å¹¶ä¸æ˜¯ä»¶å®¹æ˜“çš„äº‹ï¼</p>
</li>
<li><p>åœ¨MongoDBä¸­åˆ›å»ºæ•°æ®åº“ä»¥åŠé›†åˆçš„æ­¥éª¤å¦‚ä¸‹ï¼š</p>
<ul>
<li>åˆ‡æ¢åˆ°æŒ‡å®šæ•°æ®åº“ï¼Œæ¯”å¦‚prefsï¼›</li>
<li>å®šä¹‰è¦å­˜å‚¨çš„æ•°æ®é›†ï¼›</li>
<li>å°†å®šä¹‰å¥½çš„æ•°æ®é›†ä¿å­˜åˆ°é›†åˆä¸­ï¼Œæ¯”å¦‚é›†åˆlocationã€‚</li>
</ul>
</li>
<li><p><strong>åœ¨MongoDBä¸­ï¼Œæ•°æ®åº“å’Œé›†åˆéƒ½æ˜¯åœ¨æ’å…¥æ•°æ®æ—¶æ‰åˆ›å»ºï¼</strong></p>
</li>
<li><p>åœ¨MongoDBä¸­ObjectId.ObjectIdç”¨æ¥å”¯ä¸€æ ‡è¯†æ¯æ¡è®°å½•æˆ–æ¯ä¸ªæ–‡æ¡£ï¼›</p>
</li>
<li><p>è°ƒç”¨findæ–¹æ³•å¦‚æœä¸å¸¦å‚æ•°åˆ™è¿”å›é›†åˆä¸­çš„æ‰€æœ‰å…ƒç´ ï¼Œä½†æ˜¯æŸäº›æƒ…å†µä¸‹å¯èƒ½åªéœ€è¦é›†åˆçš„éƒ¨åˆ†å­é›†ï¼›</p>
</li>
<li><p>MongoDBæ”¯æŒè®¸å¤šé«˜çº§æŸ¥è¯¢æœºåˆ¶ï¼ŒåŒ…æ‹¬å€ŸåŠ©äº†æ­£åˆ™è¡¨è¾¾å¼çš„æ¨¡å¼ï¼›</p>
</li>
<li><p>MongoDBä¸­ï¼Œé›†åˆæ˜¯å¼±ç»“æ„çš„ï¼Œå› æ­¤å¯ä»¥åœ¨åŒä¸€ä¸ªé›†åˆä¸­å…è®¸å­˜å‚¨ä¸åŒçš„æ–‡æ¡£ç±»å‹ï¼›</p>
</li>
<li><p>MongoDBæ ·ä¾‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; ä½¿ç”¨æ•°æ®åº“</span><br><span class="line">use prefs</span><br><span class="line">&#x2F;&#x2F; è®°å½•</span><br><span class="line">w&#x3D;&#123;name:&quot;wanderros&quot;,zip:10086&#125;;</span><br><span class="line">x&#x3D;&#123;name:&quot;world&quot;,zip:12316&#125;;</span><br><span class="line">&#x2F;&#x2F; å­˜å‚¨è®°å½•</span><br><span class="line">db.location.save(w);</span><br><span class="line">db.location.save(x);</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; å…¨æŸ¥è¯¢</span><br><span class="line">db.location.find()</span><br><span class="line">&#x2F;&#x2F; è¾“å‡º</span><br><span class="line">&#123; &quot;_id&quot; : ObjectId(&quot;5ef593575c8ff3af476fed3b&quot;), &quot;name&quot; : &quot;wanderros&quot;, &quot;zip&quot; : 10086 &#125;</span><br><span class="line">&#123; &quot;_id&quot; : ObjectId(&quot;5ef593645c8ff3af476fed3c&quot;), &quot;name&quot; : &quot;world&quot;, &quot;zip&quot; : 12316 &#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; æŒ‡å®šæŸ¥è¯¢</span><br><span class="line">db.location.find(&#123;zip:12316&#125;)</span><br><span class="line">&#x2F;&#x2F; è¾“å‡º</span><br><span class="line">&#123; &quot;_id&quot; : ObjectId(&quot;5ef593645c8ff3af476fed3c&quot;), &quot;name&quot; : &quot;world&quot;, &quot;zip&quot; : 12316 &#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>è¦æŠŠNoSQLåµŒå…¥åº”ç”¨ç¨‹åºæ ˆé‡Œ,å¿…é¡»ä½¿ç”¨æœ€æµè¡Œçš„è¯­è¨€è®¿é—®å’Œæ“ä½œè¿™äº›å­˜å‚¨ï¼ŒMongoDBå¯ä»¥ä½¿ç”¨Javaã€PHPã€Rubyå’ŒPythonç­‰ä¸»æµè¯­è¨€æ¥å¼€å‘åº”ç”¨;</p>
</li>
<li><p>åœ¨SpringBootä¸­å¯ä»¥å¿«é€Ÿé›†æˆMongoDBï¼Œåªè¦åœ¨é…ç½®çš„æ—¶å€™å‹¾é€‰ä¸Šå¯¹åº”çš„æ’ä»¶å³å¯ï¼›</p>
</li>
<li><p>SpringBootä¸­ä½¿ç”¨</p>
<ul>
<li><p>ä¾èµ–ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mongodb<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mongo-java-driver<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.1.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>æµ‹è¯•ä»£ç ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">MongoClient client = <span class="keyword">new</span> MongoClient(<span class="string">"127.0.0.1"</span>);</span><br><span class="line">client.setWriteConcern(WriteConcern.SAFE);</span><br><span class="line">MongoDatabase mongoDatabase = client.getDatabase(<span class="string">"project"</span>);</span><br><span class="line">MongoCollection&lt;Document&gt; spit = mongoDatabase.getCollection(<span class="string">"location"</span>);</span><br><span class="line"><span class="comment">//è·å–é›†åˆ</span></span><br><span class="line">FindIterable&lt;Document&gt; documents = spit.find();</span><br><span class="line"><span class="comment">//æŸ¥è¯¢è®°å½•è·å–æ–‡æ¡£é›†åˆ</span></span><br><span class="line"><span class="keyword">for</span>(Document document:documents)&#123;</span><br><span class="line">  System.out.println(<span class="string">"å§“åï¼š"</span>+ document.getString(<span class="string">"name"</span>));</span><br><span class="line">  System.out.println(<span class="string">"zip:"</span>+document.getDouble(<span class="string">"zip"</span>));</span><br><span class="line">&#125;</span><br><span class="line">client.close();<span class="comment">//å…³é—­è¿æ¥</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>è¾“å‡ºï¼š</p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">å§“åï¼šwanderros</span><br><span class="line">zip:10086.0</span><br><span class="line">å§“åï¼šworld</span><br><span class="line">zip:12316.0</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>æ’å…¥æ•°æ®åˆ°é›†åˆä¸­ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">MongoClient client = <span class="keyword">new</span> MongoClient(<span class="string">"127.0.0.1"</span>);</span><br><span class="line">client.setWriteConcern(WriteConcern.SAFE);</span><br><span class="line">MongoDatabase mongoDatabase = client.getDatabase(<span class="string">"project"</span>);</span><br><span class="line">MongoCollection&lt;Document&gt; spit = mongoDatabase.getCollection(<span class="string">"location"</span>);</span><br><span class="line">Document documenttest = <span class="keyword">new</span> Document(<span class="string">"title"</span>, <span class="string">"MongoDB"</span>).</span><br><span class="line">        append(<span class="string">"description"</span>, <span class="string">"database"</span>).</span><br><span class="line">        append(<span class="string">"likes"</span>, <span class="number">100</span>).</span><br><span class="line">        append(<span class="string">"by"</span>, <span class="string">"Fly"</span>);</span><br><span class="line">spit.insertOne(documenttest);</span><br></pre></td></tr></table></figure>
</li>
<li><p>Thriftæ˜¯è·¨è¯­è¨€æœåŠ¡å¼€å‘æ¡†æ¶ï¼Œç”±ä¸€å¥—è½¯ä»¶å’Œä¸€ä¸ªä»£ç ç”Ÿæˆå¼•æ“ç»„æˆï¼Œèƒ½æ— ç¼è¿æ¥å¤šç§è¯­è¨€ï¼Œå¯ä»¥åˆ›å»ºè®¸å¤šä¸åŒçš„è¯­è¨€ç»‘å®šï¼›</p>
</li>
</ol>
<h2 id="NoSQLåŒºåˆ†"><a href="#NoSQLåŒºåˆ†" class="headerlink" title="NoSQLåŒºåˆ†"></a>NoSQLåŒºåˆ†</h2><ol>
<li><p>NoSQLåˆ†ç±»ï¼š</p>
<ul>
<li>æ–‡æ¡£å­˜å‚¨â€”â€”MonogoDBå’ŒCouchDB</li>
<li>é”®å€¼å­˜å‚¨â€”â€”Rediså’ŒBerkeleyDB</li>
<li>åˆ—æ—å­˜å‚¨â€”â€”HBaseå’ŒHypertable</li>
<li>æœ€ç»ˆä¸€è‡´çš„é”®å€¼å­˜å‚¨â€”â€”Apache Cassandraå’ŒVoldermot</li>
</ul>
</li>
<li><p>ä½œä¸ºæ–‡æ¡£å­˜å‚¨çš„ä¸€ç§ï¼ŒMongoDBå¯ä»¥å­˜å‚¨ä»»æ„æ•°æ®é›†åˆï¼Œåªè¦æ•°æ®å¯ä»¥ç”¨JSONå¼çš„å¯¹è±¡å±‚æ¬¡ç»“æ„è¡¨ç¤ºå°±å¯ä»¥ï¼›</p>
</li>
<li><p>MongoDBæ”¯æŒçš„ä¸ä»…ä»…æ˜¯JSONï¼Œè¿˜æœ‰BSONï¼ˆäºŒè¿›åˆ¶ç¼–ç åºåˆ—åŒ–JSONç»“æ„ï¼‰ï¼›</p>
</li>
<li><p>Redisæ˜¯æŒä¹…åŒ–é”®å€¼å­˜å‚¨ï¼Œä¸ºäº†ä¿æŒé«˜æ•ˆï¼Œå®ƒæŠŠæ•°æ®åº“æ”¾åœ¨å†…å­˜é‡Œï¼Œç„¶ååˆ©ç”¨å¼‚æ­¥çº¿ç¨‹å°†å…¶å†™å…¥ç£ç›˜ï¼›</p>
</li>
<li><p>HBaseå’Œåˆ—æ•°æ®åº“æŒ‰åˆ—å­˜å‚¨æ•°æ®ï¼Œç©ºå€¼ä¸éœ€è¦å­˜å‚¨ï¼Œå› æ­¤éå¸¸æœ‰åˆ©äºä¿å­˜ç¨€ç–æ•°æ®é›†ï¼›</p>
</li>
<li><p>Apache Thriftæ˜¯å¼€æºçš„è·¨è¯­è¨€çš„æœåŠ¡å¼€å‘æ¡†æ¶ï¼Œæ˜¯ä»£ç ç”Ÿæˆå¼•æ“ï¼Œç”¨æ¥åˆ›å»ºèƒ½å¤Ÿä¸å¤šç§ç¼–ç¨‹è¯­è¨€äº¤äº’çš„æœåŠ¡ï¼Œä½¿ç”¨æ­¥éª¤å¦‚ä¸‹ï¼š</p>
<ol>
<li>ä¸‹è½½Thrift</li>
<li>è§£å‹æºç </li>
<li>æ„å»ºå’Œå®‰è£…Thrift</li>
<li>ç¼–å†™ThriftæœåŠ¡å®šä¹‰ï¼Œè¿™æ˜¯æœ€é‡è¦çš„éƒ¨åˆ†ï¼Œç”¨æ¥ç”Ÿæˆä»£ç çš„åº•å±‚å®šä¹‰</li>
<li>ä½¿ç”¨Thriftç¼–è¯‘å™¨ç”Ÿæˆç‰¹å®šè¯­è¨€çš„ä»£ç </li>
</ol>
</li>
<li><p>HBaseé›†ç¾¤æ¶æ„ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/dfd191a183b19d008f96dbc0c3694c14-549937" alt="HBaseé›†ç¾¤"></p>
</li>
<li><p>HBaseä½¿æ•°æ®çš„ç»“æ„æ‰å¹³åŒ–,åªæœ‰åˆ—æ—å’Œå®ƒåŒ…å«çš„åˆ—ä¹‹é—´æ‰æœ‰å±‚æ¬¡å…³ç³»ï¼›</p>
</li>
<li><p>MonogoDBæŸ¥è¯¢æ–‡æ¡£æ˜¯æ•°æ®ç±»å‹æ•æ„Ÿçš„ï¼›</p>
</li>
<li><p>MapReduceæ˜¯Googleç”³è¯·äº†ä¸“åˆ©çš„è½¯ä»¶æ¡†æ¶ï¼Œæ”¯æŒåœ¨å¤§å‹åˆ†å¸ƒå¼é›†ç¾¤ä¸Šè¿›è¡Œåˆ†å¸ƒå¼è®¡ç®—ï¼›</p>
</li>
<li><p>Googleå’ŒMonogoDBçš„MapReduceåŠŸèƒ½ä¹Ÿä»å‡½æ•°å¼ç¼–ç¨‹ä¸–ç•Œçš„ç±»ä¼¼ç»“æ„ä¸­å¾—åˆ°äº†å¯å‘ï¼›</p>
</li>
<li><p>MapReduceå¯ä»¥å¸®åŠ©æˆ‘ä»¬åœ¨åˆ†å¸ƒå¼çš„æ•°æ®é›†åˆä¸Šæ‰§è¡Œå¤§è§„æ¨¡è®¡ç®—ï¼</p>
</li>
</ol>
<h2 id="Hive-amp-å¤§æ•°æ®"><a href="#Hive-amp-å¤§æ•°æ®" class="headerlink" title="Hive&amp;å¤§æ•°æ®"></a>Hive&amp;å¤§æ•°æ®</h2><ol>
<li>Apache Hiveæ˜¯å»ºç«‹åœ¨HadoopåŸºç¡€ä¸Šçš„æ•°æ®ä»“åº“ï¼ŒApache Pigæ˜¯å¤§æ•°æ®åˆ†æçš„é«˜çº§è¯­è¨€ï¼</li>
<li>Hiveåœ¨Hadoopä¸Šæä¾›äº†ä¼˜é›…çš„ç±»SQLæŸ¥è¯¢æ¡†æ¶ï¼Œæœ‰å¾ˆå¥½çš„æ‰©å±•æ€§ï¼Œèƒ½å¤„ç†æµ·é‡çš„åˆ†å¸ƒå¼æ•°æ®é›†ï¼Œä½†æ˜¯ä¸æ˜¯å®æ—¶æŸ¥è¯¢ç³»ç»Ÿï¼›</li>
<li>Hiveä¸­ä¸å­˜åœ¨æŸ¥è¯¢ç¼“å­˜,å› æ­¤é‡å¤æŸ¥è¯¢è€—æ—¶å’Œç¬¬ä¸€æ¬¡æŸ¥è¯¢ä¸€æ ·!</li>
<li>Hiveæ”¯æŒéå¸¸å…¨é¢çš„è¿‡æ»¤å’ŒèšåˆæŸ¥è¯¢ï¼Œå¯ä»¥ç”¨WHEREå­å¥æ¥è¿‡æ»¤æ•°æ®ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨GROUP BYåˆ†ç»„ï¼›</li>
<li>Hiveæ”¯æŒå†…è¿æ¥ã€å¤–è¿æ¥å’Œå·¦å¤–è¿æ¥ï¼›</li>
<li>HiveåŸºäºHadoopå¹¶åˆ©ç”¨MapReduce,Hiveé‡Œçš„è®¡åˆ’è§£é‡Šå¯ä»¥æ­ç¤ºæŸ¥è¯¢èƒŒåçš„MapReduceï¼</li>
<li>è¡¨åˆ†åŒºå¯ä»¥å°†æ•°æ®åˆ†åˆ°å¤šä¸ªå‘½åç©ºé—´ä¸­å»ï¼Œå¹¶åŸºäºå‘½åç©ºé—´æ ‡è¯†ç¬¦å¯¹æ•°æ®è¿›è¡Œè¿‡æ»¤å’ŒæŸ¥è¯¢ï¼›</li>
<li>Hiveå¼€æºå¹¶ä½œä¸ºHadoopçš„ä¸€ä¸ªå­é¡¹ç›®ï¼Œç°åœ¨å·²ç»æ˜¯é¡¶çº§é¡¹ç›®ï¼Œè€Œä¸”ç»§ç»­å¤„äºå¿«é€Ÿå‘å±•ä¸­ï¼Œå¡«è¡¥ç€SQLå’ŒNoSQLä¹‹é—´çš„ç©ºç™½ï¼</li>
</ol>
<hr>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>ä¸»è¦ä»‹ç»çš„è¿˜æ˜¯MonogoDBï¼NoSQLæ³›æŒ‡éå…³ç³»å‹æ•°æ®åº“ï¼Œä¹‹å‰çœ‹è¿‡ä¹¦ç±ä»‹ç»Redisï¼Œè¿™éƒ¨åˆ†å­¦ä¹ äº†MonogODBä»¥åŠäº†è§£äº†NoSQLç›¸å…³çš„åŸºç¡€çŸ¥è¯†ï¼Œå¤§æ•°æ®ç›¸å…³çš„çŸ¥è¯†ä¹Ÿæœ‰æ‰€ä»‹ç»ï¼Œä½†æ˜¯è¿œè¿œä¸å¤Ÿï¼ä¹‹å‰å¬è¿‡ä¸€æœ¬ä¹¦åã€Šå·¦æ‰‹MonogoDBå³æ‰‹Redisã€‹ï¼Œç°åœ¨æ˜¯æ‘¸ç€ä¸¤ç§æŠ€æœ¯çš„è¾¹äº†ï¼Œåç»­å¯ä»¥ç»§ç»­æ·±å…¥å­¦ä¹ ï¼</p>
]]></content>
      <categories>
        <category>NoSQL</category>
      </categories>
  </entry>
  <entry>
    <title>Nodejs-Express</title>
    <url>/2020/04/28/Nodejs-Express/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>JavaScriptã€Nodeå’ŒExpress çš„ç»„åˆæ˜¯Webå›¢é˜Ÿçš„ç†æƒ³é€‰æ‹©ï¼Œå¯å¿«é€Ÿéƒ¨ç½²çš„æŠ€æœ¯æ ˆå¾—åˆ°äº†å¼€å‘ç¤¾åŒºå’Œå¤§å…¬å¸çš„å¹¿æ³›è®¤å¯ï¼ŒExpress æä¾›äº†è¾ƒä½çš„æ€»ä½“æ‹¥æœ‰æˆæœ¬å’Œè¾ƒå¿«çš„ä¸Šå¸‚æ—¶é—´ï¼Node ç”Ÿæ€ç³»ç»Ÿæä¾›çš„æ¡†æ¶ã€åº“å’Œå·¥å…·æ”¹å˜äº†è¿™ç§çŠ¶å†µï¼Œå®ƒä»¬å¯ä»¥åŠ é€Ÿå¼€å‘ï¼Œé¼“åŠ±è‰¯å¥½çš„ç¼–ç¨‹ä¹ æƒ¯ï¼Expressæ˜¯ç²¾ç®€çš„ã€çµæ´»çš„ Node.js Web ç¨‹åºæ¡†æ¶ï¼Œä¸ºæ„å»ºå•é¡µã€å¤šé¡µåŠæ··åˆçš„ Web ç¨‹åºæä¾›äº†ä¸€ç³»åˆ—å¥å£®çš„åŠŸèƒ½ç‰¹æ€§ï¼<strong><em>æ¨èä¹¦ç±ï¼šã€ŠNodeä¸Expresså¼€å‘ã€‹Â· Ethan Brownè‘— å´æµ·æ˜Ÿ è‹æ–‡è¯‘</em></strong></p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="æ–°æŠ€æœ¯çš„è¡ç”Ÿ"><a href="#æ–°æŠ€æœ¯çš„è¡ç”Ÿ" class="headerlink" title="æ–°æŠ€æœ¯çš„è¡ç”Ÿ"></a>æ–°æŠ€æœ¯çš„è¡ç”Ÿ</h2><ol>
<li>Node å¼€å‘çš„å‡ºç°å¸¦åŠ¨äº†ä¸€ç§æ–°å¼çš„æ•°æ®åº“å­˜å‚¨æ–¹å¼ï¼Œè¿™ç§æ–¹å¼è¢«ç§°ä¸ºâ€œNoSQL æ•°æ®åº“â€ï¼›</li>
<li>æ„å»ºä¸€ä¸ªåŠŸèƒ½æ€§ç½‘ç«™è¦å€ŸåŠ©å¾ˆå¤šç§æŠ€æœ¯ï¼Œå› æ­¤è¡ç”Ÿäº†ä¸€ç§ç”¨æ¥æè¿°ç½‘ç«™æ„å»ºåŸºç¡€â€œæŠ€æœ¯æ ˆâ€çš„ç¼©ç•¥è¯­ï¼›</li>
</ol>
<ul>
<li>Linuxã€Apacheã€MySQL å’Œ PHP è¢«ç§°ä¸º <strong>LAMP</strong> æ ˆ</li>
<li>Mongoã€Expressã€Angular å’ŒNode è¢«ç§°ä¸º <strong>MEAN</strong> æ ˆ</li>
<li>Nodeã€Express å’Œ MongoDB è¢«ç§°ä¸º <strong>JavaScriptæŠ€æœ¯</strong> æ ˆ</li>
</ul>
<h2 id="å¹³å°æ­å»º"><a href="#å¹³å°æ­å»º" class="headerlink" title="å¹³å°æ­å»º"></a>å¹³å°æ­å»º</h2><ol>
<li>Macä¸Šï¼šbrew install nodejs</li>
<li>npm æ˜¯ Node å¼€å‘åŒ…ç®¡ç†å™¨ï¼Œä¸»è¦è´Ÿè´£å®‰è£…å¼€å‘åŒ…å’Œç®¡ç†ä¾èµ–é¡¹ï¼›</li>
</ol>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> å…¨å±€å®‰è£…gruntç¼–è¯‘æ–¹å¼</span></span><br><span class="line">npm install -g grunt-cli</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>Node æ‰€æä¾›çš„èŒƒå¼è·Ÿä¼ ç»Ÿçš„ Web æœåŠ¡å™¨ä¸åŒ,åªæ˜¯æä¾›äº†ä¸€ä¸ªæ„å»º Web æœåŠ¡å™¨çš„æ¡†æ¶;</li>
<li>ç¬¬ä¸€ä¸ªHello Worldç¨‹åºï¼š</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> http=<span class="built_in">require</span>(<span class="string">'http'</span>);</span><br><span class="line"></span><br><span class="line">http.createServer(<span class="function"><span class="keyword">function</span>(<span class="params">req,res</span>)</span>&#123;</span><br><span class="line">	res.writeHead(<span class="number">200</span>,&#123;<span class="string">'Content-Type'</span>:<span class="string">'text/html'</span>&#125;);</span><br><span class="line">	res.write(<span class="string">'&lt;h1&gt;å¤§æ ‡é¢˜&lt;/h1&gt;'</span>);<span class="comment">//ä¼šå‡ºç°ä¹±ç </span></span><br><span class="line">	res.end(<span class="string">'Hello World,NodeJs'</span>);</span><br><span class="line"></span><br><span class="line">&#125;).listen(<span class="number">80</span>);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'Server is listening on localhost:80,press ctrl-c to terminate ... ...'</span>);</span><br></pre></td></tr></table></figure>

<ol start="5">
<li>è·¯ç”±æ˜¯æŒ‡å‘å®¢æˆ·ç«¯æä¾›å®ƒæ‰€å‘å‡ºçš„è¯·æ±‚å†…å®¹çš„æœºåˆ¶ï¼Œå®¢æˆ·ç«¯åœ¨ URL ä¸­æŒ‡æ˜å®ƒæƒ³è¦çš„å†…å®¹ï¼Œ å…·ä½“æ¥è¯´å°±æ˜¯è·¯å¾„å’ŒæŸ¥è¯¢å­—ç¬¦ä¸²ï¼›ä¿®æ”¹æ¡ˆä¾‹,ç”¨ Node æä¾›é™æ€èµ„æºåªé€‚ç”¨äºåˆæœŸçš„å°å‹é¡¹ç›®ï¼ˆé€‚åˆç»ƒä¹ ï¼‰ï¼š</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> http=<span class="built_in">require</span>(<span class="string">'http'</span>);</span><br><span class="line"></span><br><span class="line">http.createServer(<span class="function"><span class="keyword">function</span>(<span class="params">req,res</span>)</span>&#123;</span><br><span class="line">	<span class="keyword">var</span> path=req.url.replace(<span class="regexp">/\/?(?:\?.*)?$/</span>,<span class="string">''</span>).toLowerCase();</span><br><span class="line">	<span class="keyword">switch</span>(path)&#123;</span><br><span class="line">		<span class="keyword">case</span> <span class="string">''</span>:</span><br><span class="line">			res.writeHead(<span class="number">200</span>,&#123;<span class="string">'Conten-Type'</span>:<span class="string">'text/html'</span>&#125;);</span><br><span class="line">			res.end(<span class="string">'HomePage'</span>);</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		<span class="keyword">case</span> <span class="string">'/about'</span>:</span><br><span class="line">			res.writeHead(<span class="number">200</span>,&#123;<span class="string">'Conten-Type'</span>:<span class="string">'text/html'</span>&#125;);</span><br><span class="line">			res.end(<span class="string">'About Page'</span>);</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		<span class="keyword">default</span>:</span><br><span class="line">			res.writeHead(<span class="number">404</span>,&#123;<span class="string">'Conten-Type'</span>:<span class="string">'text/html'</span>&#125;);</span><br><span class="line">			res.end(<span class="string">'Not found!'</span>);</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;).listen(<span class="number">80</span>);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'Server is listening on localhost:80,press ctrl-c to terminate ... ...'</span>);</span><br></pre></td></tr></table></figure>

<ol start="6">
<li>Nodeå¤„ç†Webçš„åŸç†ï¼šå¿…é¡»æ‰“å¼€æ–‡ä»¶ï¼Œè¯»å–å…¶ä¸­çš„å†…å®¹ï¼Œç„¶åå°†è¿™äº›å†…å®¹å‘é€ç»™æµè§ˆå™¨ï¼›</li>
<li>ç®€å•çš„htmlç½‘é¡µè¯»å–ï¼š</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> http=<span class="built_in">require</span>(<span class="string">'http'</span>);</span><br><span class="line"><span class="keyword">var</span> fs=<span class="built_in">require</span>(<span class="string">'fs'</span>);</span><br><span class="line"><span class="comment">// å¼‚æ­¥è¯»å–htmlé¡µé¢å†…å®¹</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">serverStaticFile</span>(<span class="params">res,path,contentType,responseCode</span>)</span>&#123;</span><br><span class="line">	<span class="keyword">if</span>(!responseCode) responseCode=<span class="number">200</span>;</span><br><span class="line">	fs.readFile(__dirname+path,<span class="function"><span class="keyword">function</span>(<span class="params">err,data</span>)</span>&#123;</span><br><span class="line">		<span class="keyword">if</span>(err)</span><br><span class="line">		&#123;</span><br><span class="line">			res.writeHead(<span class="number">500</span>,&#123;<span class="string">'ContentType'</span>:<span class="string">'text/html'</span>&#125;);</span><br><span class="line">			res.end(<span class="string">'&lt;h1&gt;500-Internal Error&lt;/h1&gt;'</span>);</span><br><span class="line">		&#125;<span class="keyword">else</span></span><br><span class="line">		&#123;</span><br><span class="line">			res.writeHead(responseCode,&#123;<span class="string">'ContentType'</span>:<span class="string">'text/html'</span>&#125;);</span><br><span class="line">			res.end(data);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">http.createServer(<span class="function"><span class="keyword">function</span>(<span class="params">req,res</span>)</span>&#123;</span><br><span class="line">	<span class="keyword">var</span> path=req.url.replace(<span class="regexp">/\/?(?:\?.*)?$/</span>,<span class="string">''</span>).toLowerCase();</span><br><span class="line">	<span class="keyword">switch</span>(path)&#123;</span><br><span class="line">		<span class="keyword">case</span> <span class="string">''</span>:</span><br><span class="line">			serverStaticFile(res,<span class="string">'/public/home.html'</span>,<span class="string">'text/html'</span>);</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		<span class="keyword">case</span> <span class="string">'/about'</span>:</span><br><span class="line">			serverStaticFile(res,<span class="string">'/public/about.html'</span>,<span class="string">'text/html'</span>);</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		<span class="keyword">default</span>:</span><br><span class="line">			serverStaticFile(res,<span class="string">'/public/notfound.html'</span>,<span class="string">'text/html'</span>,<span class="number">404</span>);</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;).listen(<span class="number">80</span>);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'Server is listening on localhost:80,press ctrl-c to terminate ... ...'</span>);</span><br></pre></td></tr></table></figure>

<ol start="8">
<li>ä¸Šè¿°çš„å†…å®¹éƒ½æ˜ç™½çš„è¯ï¼Œè¯´æ˜å·²ç»æœ‰äº†åŸºç¡€çš„Nodejså¼€å‘åŸºç¡€äº†ï¼Œé‚£ä¹ˆæ¥ä¸‹æ¥å°±æ˜¯Expresçš„è¡¨ç°äº†ï¼</li>
</ol>
<h2 id="Express"><a href="#Express" class="headerlink" title="Express"></a>Express</h2><ol>
<li>åˆ›å»ºä¸€ä¸ªé€šç”¨çš„é¡¹ç›®éª¨æ¶ï¼Œæ¯æ¬¡å¼€å§‹æ–°é¡¹ç›®æ—¶ï¼Œåªéœ€å¤åˆ¶è¿™ä¸ªéª¨æ¶ï¼Œé‚£ä¹ˆå¼€å‘å°±å¯ä»¥å‡å°‘å¾ˆå¤šé‡å¤æ€§åŠ³åŠ¨ï¼›</li>
<li>åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œç”¨äºå­¦ä¹ expressï¼Œä½¿ç”¨<strong>npm init</strong>å¼•å¯¼ï¼Œç„¶åä¸‹è½½expressåŒ…ï¼Œä½¿ç”¨å‘½ä»¤<strong>npm install â€“save express</strong>ï¼›</li>
<li>ç¤ºä¾‹ä»£ç ï¼š</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> express=<span class="built_in">require</span>(<span class="string">'express'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> app=express();</span><br><span class="line"></span><br><span class="line">app.set(<span class="string">'port'</span>,process.env.PORT||<span class="number">8080</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// å®šåˆ¶åŒ–404</span></span><br><span class="line">app.use(<span class="function"><span class="keyword">function</span>(<span class="params">req,res</span>)</span>&#123;</span><br><span class="line">	res.type(<span class="string">'text/html'</span>);</span><br><span class="line">	res.status(<span class="number">404</span>);</span><br><span class="line">	res.send(<span class="string">'404-Not Found'</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">app.use(<span class="function"><span class="keyword">function</span>(<span class="params">req,res</span>)</span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.error(err.stack);</span><br><span class="line">	res.type(<span class="string">'text/html'</span>);</span><br><span class="line">	res.status(<span class="number">500</span>);</span><br><span class="line">	res.send(<span class="string">'500-Internal Error'</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">app.listen(app.get(<span class="string">'port'</span>),<span class="function"><span class="keyword">function</span>(<span class="params">req,res</span>)</span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(<span class="string">'express started on http://localhost:'</span>+app.get(<span class="string">'port'</span>)+<span class="string">';press ctrl c to terminate... ... '</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<ol start="4">
<li>ä¸å¹¸çš„äº‹å°±æ˜¯è®¿é—®å¯¹åº”çš„portå´æ²¡æœ‰ä»»ä½•è·¯ç”±ä¿¡æ¯ï¼Œå› ä¸ºæ²¡æœ‰æä¾›å¯¹åº”çš„èµ„æºç»™expresså»ç®¡ç†ï¼›</li>
<li>æ·»åŠ è·¯ç”±ï¼š</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// app.get æ˜¯æˆ‘ä»¬æ·»åŠ è·¯ç”±çš„æ–¹æ³• </span></span><br><span class="line"><span class="comment">// åœ¨ Express æ–‡æ¡£ä¸­å†™çš„æ˜¯ app.VERB ; VERB ç”¨æ¥æŒ‡ä»£ HTTP åŠ¨è¯çš„</span></span><br><span class="line"><span class="comment">// å‚æ•°ï¼šä¸€ä¸ªè·¯å¾„å’Œä¸€ä¸ªå‡½æ•°</span></span><br><span class="line">app.get(<span class="string">'/'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">req,res</span>)</span>&#123;</span><br><span class="line">	res.type(<span class="string">'text/html'</span>);</span><br><span class="line">	res.send(<span class="string">'&lt;h1&gt;Home Page&lt;/h1&gt;'</span>);</span><br><span class="line">&#125;);</span><br><span class="line">app.get(<span class="string">'/about'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">req,res</span>)</span>&#123;</span><br><span class="line">	res.type(<span class="string">'text/html'</span>);</span><br><span class="line">	res.send(<span class="string">'&lt;h1&gt;About Page&lt;/h1&gt;'</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<ol start="6">
<li>app.VERB å¸®æˆ‘ä»¬åšäº†å¾ˆå¤šå·¥ä½œï¼šå®ƒé»˜è®¤å¿½ç•¥äº†å¤§å°å†™æˆ–åæ–œæ ï¼Œ å¹¶ä¸”åœ¨è¿›è¡ŒåŒ¹é…æ—¶ä¹Ÿä¸è€ƒè™‘æŸ¥è¯¢å­—ç¬¦ä¸²ï¼Œå› æ­¤å¯¹äº /aboutã€/Aboutã€/about/ã€/about?foo=barã€/about/?foo=bar ç­‰è·¯å¾„éƒ½é€‚ç”¨ï¼›è·¯ç”±åŒ¹é…ä¸Šä¹‹åå°±ä¼šè°ƒç”¨ä½ æä¾›çš„å‡½æ•°ï¼Œ å¹¶æŠŠè¯·æ±‚å’Œå“åº”å¯¹è±¡ä½œä¸ºå‚æ•°ä¼ ç»™è¿™ä¸ªå‡½æ•°ï¼›</li>
<li>Express æä¾›äº†ä¸€ä¸ª res.type æ–¹æ³•ï¼Œ å¯ä»¥æ–¹ä¾¿åœ°è®¾ç½®å“åº”å¤´ Content-Typeï¼Œç”¨res.set å’Œ res.status æ›¿æ¢äº† Node çš„ res.writeHeadï¼Œapp.use æ˜¯ Express æ·»åŠ  <strong>ä¸­é—´ä»¶</strong> çš„ä¸€ç§æ–¹æ³•ï¼›</li>
<li><strong><em>åœ¨ Express ä¸­ï¼Œè·¯ç”±å’Œä¸­é—´ä»¶çš„æ·»åŠ é¡ºåºè‡³å…³é‡è¦</em></strong>ï¼Œå¦‚æœæˆ‘ä»¬æŠŠ404 å¤„ç†å™¨æ”¾åœ¨æ‰€æœ‰è·¯ç”±ä¸Šé¢ï¼Œ é‚£é¦–é¡µå’Œå…³äºé¡µé¢å°±ä¸èƒ½ç”¨äº†ï¼Œ è®¿é—®è¿™äº› URL å¾—åˆ°çš„éƒ½æ˜¯ 404ï¼›</li>
<li>åœ¨ Express ä¸­,<strong>è·¯ç”±æ”¯æŒé€šé…ç¬¦ï¼Œè¿™ä¼šå¯¼è‡´é¡ºåºä¸Šçš„é—®é¢˜,</strong>åœ¨ä½¿ç”¨ä¸Šè¦æ³¨æ„ç‚¹ï¼›</li>
<li>ç†Ÿæ‚‰MVCï¼ˆæ¨¡å‹ - è§†å›¾ - æ§åˆ¶å™¨ï¼‰çš„è¯ï¼Œå°±èƒ½æ›´å¥½ç†è§£Expressä¸­çš„<strong>è§†å›¾å¼•æ“</strong>ï¼ŒExpress æ¯”è¾ƒåå¥½çš„è§†å›¾å¼•æ“æ˜¯ Jadeï¼›Handlebarsï¼ˆåŸºäºä¸è¯­è¨€æ— å…³çš„æµè¡Œæ¨¡æ¿è¯­è¨€Mustacheï¼‰ä¸ä¼šè¯•å›¾å¯¹ HTML è¿›è¡ŒæŠ½è±¡ï¼Œä¸ºäº†æ”¯æŒ Handlebarsï¼Œ è¦ç”¨åˆ° Eric Ferraiuolo çš„ express-handlebars åŒ…ï¼Œæ‰§è¡Œå‘½ä»¤ï¼š</li>
</ol>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">npm install --save express-handlebars</span><br></pre></td></tr></table></figure>

<ol start="11">
<li>åˆ›å»ºæ¨¡æ¿æ–‡ä»¶ï¼šviews/layouts/main.handlebars</li>
</ol>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!doctype <span class="meta-keyword">html</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span> Learn Nodejs <span class="tag">&lt;/<span class="name">title</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">&#123;&#123;&#123;body&#125;&#125;&#125; </span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ol start="12">
<li>åˆ›å»ºè§†å›¾é¡µé¢ï¼š</li>
</ol>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--home.handlebars--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span></span><br><span class="line">Welcome to Learn Nodejs</span><br><span class="line"><span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--about.handlebars--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span></span><br><span class="line">About Learn Nodejs</span><br><span class="line"><span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--404.handlebars--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span></span><br><span class="line">404 - Not Found </span><br><span class="line"><span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--500.handlebars--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span></span><br><span class="line">500 - Server Error</span><br><span class="line"><span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ol start="13">
<li>ä¿®æ”¹è·¯ç”±è®¾ç½®ï¼š</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> express=<span class="built_in">require</span>(<span class="string">'express'</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> app=express();</span><br><span class="line"><span class="keyword">var</span> handlebars=<span class="built_in">require</span>(<span class="string">'express-handlebars'</span>).create(&#123;<span class="attr">defaultLayout</span>:<span class="string">'main'</span>&#125;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">app.set(<span class="string">'port'</span>,process.env.PORT||<span class="number">8080</span>);</span><br><span class="line">app.engine(<span class="string">'handlebars'</span>,handlebars.engine);</span><br><span class="line">app.set(<span class="string">'view engine'</span>,<span class="string">'handlebars'</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">app.get(<span class="string">'/'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">req,res</span>)</span>&#123;</span><br><span class="line">	res.render(<span class="string">'home'</span>);</span><br><span class="line">&#125;);</span><br><span class="line">app.get(<span class="string">'/about*'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">req,res</span>)</span>&#123;</span><br><span class="line">	res.render(<span class="string">'about'</span>);</span><br><span class="line">&#125;);</span><br><span class="line">app.get(<span class="string">'/about/test'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">req,res</span>)</span>&#123;</span><br><span class="line">	res.render(<span class="string">'about'</span>);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// å®šåˆ¶åŒ–404</span></span><br><span class="line">app.use(<span class="function"><span class="keyword">function</span>(<span class="params">req,res</span>)</span>&#123;</span><br><span class="line">	res.status(<span class="number">404</span>);</span><br><span class="line">	res.render(<span class="string">'404'</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">app.use(<span class="function"><span class="keyword">function</span>(<span class="params">req,res</span>)</span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.error(err.stack);</span><br><span class="line">	res.status(<span class="number">500</span>);</span><br><span class="line">	res.render(<span class="string">'500'</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">app.listen(app.get(<span class="string">'port'</span>),<span class="function"><span class="keyword">function</span>(<span class="params">req,res</span>)</span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(<span class="string">'express started on http://localhost:'</span>+app.get(<span class="string">'port'</span>)+<span class="string">';press ctrl c to terminate... ... '</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<ol start="14">
<li>Express é ä¸­é—´ä»¶å¤„ç†é™æ€æ–‡ä»¶å’Œè§†å›¾ï¼Œ<strong>static ä¸­é—´ä»¶å¯ä»¥å°†ä¸€ä¸ªæˆ–å¤šä¸ªç›®å½•æŒ‡æ´¾ä¸ºåŒ…å«é™æ€èµ„æºçš„ç›®å½•ï¼Œå…¶ä¸­çš„èµ„æºä¸ç»è¿‡ä»»ä½•ç‰¹æ®Šå¤„ç†ç›´æ¥å‘é€åˆ°å®¢æˆ·ç«¯</strong>ï¼Œå¯ä»¥åœ¨å…¶ä¸­æ”¾å›¾ç‰‡ã€CSS æ–‡ä»¶ã€å®¢æˆ·ç«¯ JavaScript æ–‡ä»¶ä¹‹ç±»çš„èµ„æºï¼›è¦æŠŠ static ä¸­é—´ä»¶åŠ åœ¨æ‰€æœ‰è·¯ç”±ä¹‹å‰ï¼š</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// staticä¸­é—´ä»¶ç›¸å½“äºç»™ä½ æƒ³è¦å‘é€çš„æ‰€æœ‰é™æ€æ–‡ä»¶åˆ›å»ºäº†ä¸€ä¸ªè·¯ç”±ï¼Œæ¸²æŸ“æ–‡ä»¶å¹¶å‘é€ç»™å®¢æˆ·ç«¯</span></span><br><span class="line">app.use(express.static(__dirname + <span class="string">'/public'</span>));</span><br></pre></td></tr></table></figure>

<ol start="15">
<li>åœ¨ public ä¸‹é¢åˆ›å»ºä¸€ä¸ªå­ç›®å½• imgï¼Œ å¹¶æŠŠ logo.jpg æ–‡ä»¶æ”¾åœ¨å…¶ä¸­ï¼Œç„¶åä¿®æ”¹æ¨¡æ¿æ–‡ä»¶<strong>main.handlebars</strong>å°±å¯ä»¥åšåˆ°åœ¨æ‰€æœ‰é¡µé¢å‡ºç°logoï¼š</li>
</ol>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!doctype <span class="meta-keyword">html</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span> Learn Nodejs <span class="tag">&lt;/<span class="name">title</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">header</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"/img/logo.jpg"</span> <span class="attr">alt</span>=<span class="string">"Learn Nodejs Logo"</span> &gt;</span><span class="tag">&lt;/<span class="name">header</span>&gt;</span></span><br><span class="line">&#123;&#123;&#123;body&#125;&#125;&#125; </span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ol start="16">
<li><p>è§†å›¾çœŸæ­£çš„å¼ºå¤§ä¹‹å¤„åœ¨äºå®ƒå¯ä»¥åŒ…å«åŠ¨æ€ä¿¡æ¯ï¼Œæ¯”å¦‚ä¸‹é¢çš„ç¤ºä¾‹ï¼š</p>
<ol>
<li>åœ¨ about.handlebarsä¸­ä¿®æ”¹å¦‚ä¸‹:</li>
</ol>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>About Learn Nodejs<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span> Your fortune for the day: <span class="tag">&lt;/<span class="name">p</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">blockquote</span>&gt;</span> &#123;&#123;fortune&#125;&#125; <span class="tag">&lt;/<span class="name">blockquote</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ol start="2">
<li>åœ¨index.jsä¸­æ·»åŠ æ•°ç»„fortunesï¼Œä»¥åŠä¿®æ”¹aboutçš„å¤„ç†ï¼š</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> fortunes = [</span><br><span class="line"><span class="string">"Conquer your fears or they will conquer you."</span>, </span><br><span class="line"><span class="string">"Rivers need springs."</span>, </span><br><span class="line"><span class="string">"Do not fear what you don't know."</span>, </span><br><span class="line"><span class="string">"You will have a pleasant surprise."</span>,</span><br><span class="line"><span class="string">"Whenever possible, keep it simple."</span></span><br><span class="line">];</span><br><span class="line"></span><br><span class="line">app.get(<span class="string">'/about'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">req,res</span>)</span>&#123;</span><br><span class="line">	<span class="keyword">var</span> randomFortune=fortunes[<span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random()*fortunes.length)];</span><br><span class="line">	<span class="comment">//console.log('value: ' + randomFortune);</span></span><br><span class="line">	res.render(<span class="string">'about'</span>,&#123;<span class="attr">fortune</span> : randomFortune&#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>ä½¿ç”¨curlå‘½ä»¤ï¼Œcurl <a href="http://localhost:8080/aboutï¼Œå¯ä»¥çœ‹åˆ°æ¯æ¬¡çš„è¿”å›çš„ä¿¡æ¯éƒ½ä¸å¤ªä¸€æ ·ï¼š" target="_blank" rel="noopener">http://localhost:8080/aboutï¼Œå¯ä»¥çœ‹åˆ°æ¯æ¬¡çš„è¿”å›çš„ä¿¡æ¯éƒ½ä¸å¤ªä¸€æ ·ï¼š</a></li>
</ol>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--ä¸€ç§å¯èƒ½çš„è¿”å› --&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="meta">&lt;!doctype <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span> Learn Nodejs <span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">header</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"/img/logo.jpg"</span> <span class="attr">alt</span>=<span class="string">"Learn Nodejs Logo"</span> &gt;</span><span class="tag">&lt;/<span class="name">header</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span></span><br><span class="line"></span><br><span class="line">About Learn Nodejs</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span> Your fortune for the day: <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">blockquote</span>&gt;</span> You will have a pleasant surprise. <span class="tag">&lt;/<span class="name">blockquote</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span>%</span><br></pre></td></tr></table></figure>

<h2 id="Nodeé¡¹ç›®"><a href="#Nodeé¡¹ç›®" class="headerlink" title="Nodeé¡¹ç›®"></a>Nodeé¡¹ç›®</h2><ol>
<li>package.json æ–‡ä»¶ä½œç”¨ä¹‹ä¸€æ˜¯å­˜æ”¾é¡¹ç›®çš„å…ƒæ•°æ®,æ¯”å¦‚é¡¹ç›®åç§°ã€ä½œè€…ã€æˆæƒä¿¡æ¯ç­‰,å¯ä»¥ä½¿ç”¨npm initæ¥åˆ›å»ºpackage.jsonæ–‡ä»¶;</li>
<li>Node æ¨¡å—å’Œ npm åŒ…æ˜¯ä¸¤ä¸ªç›¸äº’å…³è”ä½†åˆå½¼æ­¤ä¸åŒçš„æ¦‚å¿µï¼ŒNode æ¨¡å—æä¾›äº†ä¸€ä¸ªæ¨¡å—åŒ–å’Œå°è£…çš„æœºåˆ¶ï¼Œnpm åŒ…åˆ™æä¾›äº†ä¸€ç§å­˜å‚¨ã€ç‰ˆæœ¬åŒ–å’Œå¼•ç”¨é¡¹ç›®ï¼ˆä¸é™äºæ¨¡å—ï¼‰çš„æ ‡å‡†èŒƒå¼ï¼›</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> express = <span class="built_in">require</span>(<span class="string">'express'</span>);</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>*<em>require *</em>æ˜¯ä¸€ä¸ªç”¨æ¥å¼•å…¥æ¨¡å—çš„Node å‡½æ•°ï¼Œé»˜è®¤ä¼šåœ¨ç›®å½• node_modulesä¸­å¯»æ‰¾è¿™äº›æ¨¡å—ï¼›</li>
<li>åˆ›å»ºä¸€ä¸ªç”¨æ¥ä¿å­˜æ¨¡å—çš„ç›®å½•ï¼Œä¸€èˆ¬ç§°ä¸ºlibï¼Œåœ¨è¿™ä¸ªç›®å½•ä¸‹é¢åˆ›å»ºè‡ªå·±çš„jsæ–‡ä»¶ï¼Œæ¯”å¦‚ï¼š</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// lib/fortune.js</span></span><br><span class="line"><span class="keyword">var</span> fortunes = [</span><br><span class="line"><span class="string">"Conquer your fears or they will conquer you."</span>, </span><br><span class="line"><span class="string">"Rivers need springs."</span>, </span><br><span class="line"><span class="string">"Do not fear what you don't know."</span>, </span><br><span class="line"><span class="string">"You will have a pleasant surprise."</span>,</span><br><span class="line"><span class="string">"Whenever possible, keep it simple."</span></span><br><span class="line">];</span><br><span class="line"></span><br><span class="line">exports.getFortune=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	<span class="keyword">var</span> idx=<span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random()*fortunes.length);</span><br><span class="line">	<span class="keyword">return</span> fortunes[idx];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="5">
<li>å¦‚æœæƒ³è®©ä¸€ä¸ªä¸œè¥¿åœ¨æ¨¡å—å¤–å¯è§ï¼Œå¿…é¡»æŠŠå®ƒåŠ åˆ°exports ä¸Š,ç„¶åä¿®æ”¹index.js</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> express=<span class="built_in">require</span>(<span class="string">'express'</span>);</span><br><span class="line"><span class="comment">// ä¿®æ”¹çš„require</span></span><br><span class="line"><span class="keyword">var</span> fortune=<span class="built_in">require</span>(<span class="string">'./lib/fortune.js'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> app=express();</span><br><span class="line"><span class="keyword">var</span> handlebars=<span class="built_in">require</span>(<span class="string">'express-handlebars'</span>).create(&#123;<span class="attr">defaultLayout</span>:<span class="string">'main'</span>&#125;);</span><br><span class="line"></span><br><span class="line">app.use(express.static(__dirname + <span class="string">'/public'</span>));</span><br><span class="line">app.set(<span class="string">'port'</span>,process.env.PORT||<span class="number">8080</span>);</span><br><span class="line">app.engine(<span class="string">'handlebars'</span>,handlebars.engine);</span><br><span class="line">app.set(<span class="string">'view engine'</span>,<span class="string">'handlebars'</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">app.get(<span class="string">'/'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">req,res</span>)</span>&#123;</span><br><span class="line">	res.render(<span class="string">'home'</span>);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">//ç›´æ¥ä½¿ç”¨å¤–éƒ¨çš„jså‡½æ•°</span></span><br><span class="line">app.get(<span class="string">'/about*'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">req,res</span>)</span>&#123;</span><br><span class="line">	<span class="keyword">var</span> randomFortune=fortune.getFortune();</span><br><span class="line">	res.render(<span class="string">'about'</span>,&#123;<span class="attr">fortune</span> : randomFortune&#125;);</span><br><span class="line">&#125;);</span><br><span class="line">app.get(<span class="string">'/about/test'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">req,res</span>)</span>&#123;</span><br><span class="line">	res.render(<span class="string">'about'</span>);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// å®šåˆ¶åŒ–404</span></span><br><span class="line">app.use(<span class="function"><span class="keyword">function</span>(<span class="params">req,res</span>)</span>&#123;</span><br><span class="line">	res.status(<span class="number">404</span>);</span><br><span class="line">	res.render(<span class="string">'404'</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">app.use(<span class="function"><span class="keyword">function</span>(<span class="params">req,res</span>)</span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.error(err.stack);</span><br><span class="line">	res.status(<span class="number">500</span>);</span><br><span class="line">	res.render(<span class="string">'500'</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">app.listen(app.get(<span class="string">'port'</span>),<span class="function"><span class="keyword">function</span>(<span class="params">req,res</span>)</span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(<span class="string">'express started on http://localhost:'</span>+app.get(<span class="string">'port'</span>)+<span class="string">';press ctrl c to terminate... ... '</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h2 id="è´¨é‡ä¿è¯ï¼ˆQAï¼‰"><a href="#è´¨é‡ä¿è¯ï¼ˆQAï¼‰" class="headerlink" title="è´¨é‡ä¿è¯ï¼ˆQAï¼‰"></a>è´¨é‡ä¿è¯ï¼ˆQAï¼‰</h2><ol>
<li>é¡µé¢æµ‹è¯•ï¼šç”¨æ¥æµ‹è¯•é¡µé¢çš„è¡¨ç¤ºå’Œå‰ç«¯åŠŸèƒ½ï¼Œå¯ä»¥ä½¿ç”¨Mocha è¿›è¡Œé¡µé¢æµ‹è¯•ï¼›</li>
<li>è·¨é¡µæµ‹è¯•ï¼šå¯¹ä»ä¸€ä¸ªé¡µé¢è½¬åˆ°å¦ä¸€ä¸ªé¡µé¢çš„åŠŸèƒ½çš„æµ‹è¯•ï¼Œæµ‹è¯•ç”¨çš„æ˜¯ Zombie.jsã€Seleniumã€PhantomJSï¼›</li>
<li>é€»è¾‘æµ‹è¯•ï¼šæµ‹è¯• JavaScriptï¼Œè·Ÿæ‰€æœ‰è¡¨ç¤ºåŠŸèƒ½åˆ†å¼€ï¼›</li>
<li>å»æ¯›ï¼šæ‰¾å‡ºæ½œåœ¨çš„é”™è¯¯ï¼Œç”¨ JSHint åšå»æ¯›ï¼›</li>
<li>é“¾æ¥æ£€æŸ¥ï¼šç¡®ä¿ä½ çš„ç½‘ç«™ä¸Šæ²¡æœ‰ç ´æŸçš„é“¾æ¥ï¼Œç”¨ LinkChecker åšé“¾æ¥æ£€æŸ¥</li>
</ol>
<h2 id="é¡µé¢æµ‹è¯•"><a href="#é¡µé¢æµ‹è¯•" class="headerlink" title="é¡µé¢æµ‹è¯•"></a>é¡µé¢æµ‹è¯•</h2><ol>
<li>å®‰è£…æµ‹è¯•æ¡†æ¶Mochaï¼š</li>
</ol>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> ç”¨çš„æ˜¯ --save-dev è€Œä¸æ˜¯ --save,è¦æŠŠè¿™ä¸ªåŒ…æ”¾åœ¨å¼€å‘ä¾èµ–é¡¹ä¸­ </span></span><br><span class="line">npm install --save-dev mocha</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>å°†æµ‹è¯•èµ„æºæ”¾åœ¨public/vendorç›®å½•ä¸‹ï¼š</li>
</ol>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> æŠŠç”¨åˆ°çš„ç¬¬ä¸‰æ–¹åº“æ”¾åœ¨ä¸€ä¸ªç‰¹æ®Šçš„ç›®å½•ä¸­,æ¯”è¾ƒå®¹æ˜“åˆ†æ¸…å“ªäº›ä»£ç æ˜¯éœ€è¦è´Ÿè´£æµ‹è¯•å’Œä¿®æ”¹çš„ï¼Œ å“ªäº›ä»£ç ä¸åº”è¯¥è§¦ç¢°</span></span><br><span class="line">mkdir public/vendor </span><br><span class="line">cp node_modules/mocha/mocha.js public/vendor </span><br><span class="line">cp node_modules/mocha/mocha.css public/vendor</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>æµ‹è¯•é€šå¸¸éœ€è¦ä¸€ä¸ª assert ï¼ˆæˆ– expect ï¼‰å‡½æ•°ï¼Œæµè§ˆå™¨ä¸­æ²¡æœ‰ï¼Œå¯ä»¥å®‰è£…Chaiæ–­è¨€åº“ï¼š</li>
</ol>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">npm install --save-dev chai</span><br><span class="line">cp node_modules/chai/chai.js public/vendor</span><br></pre></td></tr></table></figure>

<ol start="4">
<li>åœ¨å®šä¹‰çš„æ‰€æœ‰è·¯ç”±ä¹‹å‰æ·»åŠ ä¸­é—´ä»¶æ£€æµ‹æŸ¥è¯¢å­—ç¬¦ä¸²ä¸­çš„test=1ï¼š</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// å¦‚æœtest=1 å‡ºç°åœ¨ä»»ä½•é¡µé¢çš„æŸ¥è¯¢å­—ç¬¦ä¸²ä¸­ï¼ˆå¹¶ä¸”ä¸æ˜¯è¿è¡Œåœ¨ç”Ÿäº§æœåŠ¡å™¨ä¸Šï¼‰ï¼Œ å±æ€§ res.locals.showTests å°±ä¼šè¢«è®¾ä¸º true</span></span><br><span class="line">app.use(<span class="function"><span class="keyword">function</span> (<span class="params">req, res, next</span>)</span>&#123; </span><br><span class="line">	res.locals.showTests = app.get(<span class="string">'env'</span>) !== <span class="string">'production'</span> &amp;&amp; req.query.test === <span class="string">'1'</span>; </span><br><span class="line">	next();</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<ol start="5">
<li>ä¿®æ”¹æ¨¡æ¿æ–‡ä»¶<strong><em>views/layouts/main.handlebars</em></strong>ï¼Œå¼•å…¥æµ‹è¯•æ¡†æ¶ï¼š</li>
</ol>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!doctype <span class="meta-keyword">html</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span> Learn Nodejs <span class="tag">&lt;/<span class="name">title</span>&gt;</span> </span><br><span class="line">&#123;&#123;#if showTests&#125;&#125; <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"/vendor/mocha.css"</span> &gt;</span> &#123;&#123;/if&#125;&#125;</span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"//code.jquery.com/jquery-2.0.2.min.js"</span> &gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">header</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"/img/logo.jpg"</span> <span class="attr">alt</span>=<span class="string">"Learn Nodejs Logo"</span> &gt;</span><span class="tag">&lt;/<span class="name">header</span>&gt;</span></span><br><span class="line">&#123;&#123;&#123;body&#125;&#125;&#125; </span><br><span class="line"></span><br><span class="line">&#123;&#123;#if showTests&#125;&#125; </span><br><span class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"mocha"</span> &gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span> </span><br><span class="line">	<span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"/vendor/mocha.js"</span> &gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span> </span><br><span class="line">	<span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"/vendor/chai.js"</span> &gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span> </span><br><span class="line">	<span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="actionscript"> mocha.ui(<span class="string">'tdd'</span>); <span class="keyword">var</span> assert = chai.assert; </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span> </span><br><span class="line">	<span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"/qa/tests-global.js"</span> &gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span> </span><br><span class="line">	&#123;&#123;#if pageTestScript&#125;&#125; </span><br><span class="line">	<span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"&#123;&#123;pageTestScript&#125;&#125;"</span> &gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span> </span><br><span class="line">	&#123;&#123;/if&#125;&#125; </span><br><span class="line">	<span class="tag">&lt;<span class="name">script</span>&gt;</span> mocha.run(); <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line">&#123;&#123;/if&#125;&#125;</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ol start="6">
<li>æ·»åŠ ç›®å½• public/qaï¼Œ ç„¶ååœ¨å…¶ä¸­åˆ›å»ºæ–‡ä»¶ tests-global.jsï¼Œtests-about.jsï¼š</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// tests-global.js</span></span><br><span class="line">suite(<span class="string">'Global Tests'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123; </span><br><span class="line">	test(<span class="string">'page has a valid title'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123; </span><br><span class="line">		assert(<span class="built_in">document</span>.title &amp;&amp; <span class="built_in">document</span>.title.match(<span class="regexp">/\S/</span>) &amp;&amp; <span class="built_in">document</span>.title.toUpperCase() !== <span class="string">'TODO'</span>);</span><br><span class="line">	&#125;);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// tests-about.js</span></span><br><span class="line">suite(<span class="string">'"About" Page Tests'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;</span><br><span class="line">	test(<span class="string">'page should contain link to contact page'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">		assert($(<span class="string">'a[href="/contact"]'</span>).length);</span><br><span class="line"></span><br><span class="line">	&#125;);</span><br><span class="line">	 </span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<ol start="7">
<li>ä¿®æ”¹index.jsä¸­aboutè·¯ç”±çš„æµ‹è¯•è„šæœ¬ï¼š</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">app.get(<span class="string">'/about*'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">req,res</span>)</span>&#123;</span><br><span class="line">	<span class="keyword">var</span> randomFortune=fortune.getFortune();</span><br><span class="line"></span><br><span class="line">	res.render(<span class="string">'about'</span>,&#123;<span class="attr">fortune</span> : randomFortune,<span class="attr">pageTestScript</span>: <span class="string">'/qa/tests-about.js'</span>&#125;);</span><br><span class="line"></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<ol start="8">
<li>è®¿é—®<a href="http://localhost:8080/about?test=1ï¼›" target="_blank" rel="noopener">http://localhost:8080/about?test=1ï¼›</a></li>
<li>åˆ›å»ºè·¨é¡µé¢æµ‹è¯•ï¼ˆqa/tests-crosspage.jsï¼‰:</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> Browser = <span class="built_in">require</span>(<span class="string">'zombie'</span>), assert = <span class="built_in">require</span>(<span class="string">'chai'</span>).assert;</span><br><span class="line"><span class="keyword">var</span> browser;</span><br><span class="line"></span><br><span class="line">suite(<span class="string">'Cross-page tests'</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	setup(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">		browser=<span class="keyword">new</span> Browser();</span><br><span class="line">	&#125;);</span><br><span class="line">	test(<span class="string">'require a group'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">done</span>)</span>&#123;</span><br><span class="line">		<span class="keyword">var</span> reffer=<span class="string">'http:localhost:8080'</span>;</span><br><span class="line">		browser.visit(reffer,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">			done();</span><br><span class="line">		&#125;)</span><br><span class="line">	&#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<ol start="10">
<li>ä¾èµ–å…¨å±€mochaï¼Œæ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ï¼š</li>
</ol>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">mocha -u tdd -R spec qa/tests-crosspage.js 2&gt;/dev/null</span><br><span class="line"><span class="meta">#</span><span class="bash"> è¾“å‡ºï¼š</span></span><br><span class="line"><span class="meta">#</span></span><br><span class="line"><span class="meta">#</span></span><br><span class="line"><span class="meta">#</span><span class="bash">  Cross-page tests</span></span><br><span class="line"><span class="meta">#</span><span class="bash">    âœ“ require a group (41ms)</span></span><br><span class="line"><span class="meta">#</span></span><br><span class="line"><span class="meta">#</span></span><br><span class="line"><span class="meta">#</span><span class="bash">  1 passing (46ms)</span></span><br></pre></td></tr></table></figure>

<ol start="11">
<li><p>Mocha å•å…ƒæµ‹è¯•ï¼š</p>
<ol>
<li>åˆ›å»ºqa/tests-unit.js:</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> fortune = <span class="built_in">require</span>(<span class="string">'../lib/fortune.js'</span>);</span><br><span class="line"><span class="keyword">var</span> expect = <span class="built_in">require</span>(<span class="string">'chai'</span>).expect;</span><br><span class="line"></span><br><span class="line">suite(<span class="string">'Fortune cookie tests'</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	test(<span class="string">'getFortune() should return a fortune'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123; </span><br><span class="line">		expect(<span class="keyword">typeof</span> fortune.getFortune() === <span class="string">'string'</span>);</span><br><span class="line">		 &#125;);</span><br><span class="line"></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>è¿è¡Œå‘½ä»¤ï¼š</li>
</ol>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">mocha -u tdd -R spec qa/tests-unit.js</span><br><span class="line"><span class="meta">#</span><span class="bash"> è¾“å‡º</span></span><br><span class="line"><span class="meta">#</span></span><br><span class="line"><span class="meta">#</span><span class="bash">  Fortune cookie tests</span></span><br><span class="line"><span class="meta">#</span><span class="bash">   âœ“ getFortune() should <span class="built_in">return</span> a fortune</span></span><br><span class="line"><span class="meta">#</span></span><br><span class="line"><span class="meta">#</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 1 passing (5ms)</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>gruntå®ç°è¿™äº›ä»»åŠ¡çš„è‡ªåŠ¨åŒ–ï¼š</strong></p>
<ol>
<li>å®‰è£…gruntï¼š</li>
</ol>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">npm install -g grunt-cli</span><br><span class="line">npm install --save-dev grunt</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>æ’ä»¶å®‰è£…ï¼š</li>
</ol>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">npm install --save-dev grunt-cafe-mocha </span><br><span class="line">npm install --save-dev grunt-contrib-jshint </span><br><span class="line">npm install --save-dev grunt-exec</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>åœ¨é¡¹ç›®ä¸‹åˆ›å»ºä¸€ä¸ªGruntfile.js:</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports=<span class="function"><span class="keyword">function</span>(<span class="params">grunt</span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">	[</span><br><span class="line">		<span class="string">'grunt-cafe-mocha'</span>,</span><br><span class="line">		<span class="string">'grunt-contrib-jshint'</span>,</span><br><span class="line">		<span class="string">'grunt-exec'</span></span><br><span class="line">	].forEach(<span class="function"><span class="keyword">function</span>(<span class="params">task</span>)</span>&#123;</span><br><span class="line">		grunt.loadNpmTasks(task);</span><br><span class="line">	&#125;);</span><br><span class="line"></span><br><span class="line">	grunt.initConfig(&#123;<span class="attr">cafemocha</span>:&#123;<span class="attr">all</span>:&#123;<span class="attr">src</span>:<span class="string">'qa/tests-*.js'</span>,<span class="attr">option</span>:&#123;<span class="attr">ui</span>:<span class="string">'tdd'</span>&#125;&#125;&#125;,</span><br><span class="line">		jshint:&#123;</span><br><span class="line">			app: [<span class="string">'index.js'</span>,<span class="string">'public/js/**/*.js'</span>,<span class="string">'lib/**/*.js'</span>],</span><br><span class="line">			qa:[<span class="string">'Gruntfile.js'</span>,<span class="string">'publi/qa/**/*.js'</span>,<span class="string">'qa/**/**.js'</span>],</span><br><span class="line"></span><br><span class="line">		&#125;</span><br><span class="line">&#125;);</span><br><span class="line">	grunt.registerTask(<span class="string">'default'</span>,[<span class="string">'cafemocha'</span>,<span class="string">'jshint'</span>]);</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="4">
<li>é¡¹ç›®é‡Œè¿è¡Œgruntã€‚</li>
</ol>
</li>
</ol>
<h2 id="è¯·æ±‚å’Œå“åº”"><a href="#è¯·æ±‚å’Œå“åº”" class="headerlink" title="è¯·æ±‚å’Œå“åº”"></a>è¯·æ±‚å’Œå“åº”</h2><ol>
<li>URLç»„æˆéƒ¨åˆ†ï¼š<a href="http://localhost:8080/search?test=1#history" target="_blank" rel="noopener">http://localhost:8080/search?test=1#history</a><ol>
<li>åè®®ï¼šç¡®å®šå¦‚ä½•ä¼ è¾“è¯·æ±‚ï¼Œæ¯”å¦‚http</li>
<li>ä¸»æœºåï¼š æ ‡è¯†æœåŠ¡å™¨ï¼Œæ¯”å¦‚æœ¬åœ°æœåŠ¡å™¨localhost</li>
<li>ç«¯å£ï¼š8080</li>
<li>è·¯å¾„ï¼š/search</li>
<li>æŸ¥è¯¢å­—ç¬¦ä¸²ï¼šä¸€ç§é”®å€¼å¯¹é›†åˆï¼Œæ˜¯å¯é€‰çš„ã€‚å®ƒä»¥é—®å·ï¼ˆ?ï¼‰å¼€å¤´ï¼Œé”®å€¼å¯¹åˆ™ä»¥ä¸å·ï¼ˆ&amp;ï¼‰åˆ†éš”å¼€</li>
<li>ä¿¡æ¯ç‰‡æ®µï¼šä¿¡æ¯ç‰‡æ®µ ï¼ˆæˆ– æ•£åˆ— ï¼‰è¢«ä¸¥æ ¼é™åˆ¶åœ¨æµè§ˆå™¨ä¸­ä½¿ç”¨ï¼Œä¸ä¼šä¼ é€’åˆ°æœåŠ¡å™¨ï¼Œå¦‚#history</li>
</ol>
</li>
<li>HTTPåè®®ç¡®å®šäº†å®¢æˆ·ç«¯ä¸æœåŠ¡å™¨é€šä¿¡çš„ <strong>è¯·æ±‚æ–¹æ³•</strong> é›†åˆï¼ˆHTTP verbsï¼‰ï¼›</li>
<li>è¯·æ±‚æŠ¥å¤´ï¼šæœåŠ¡å™¨å› è¯·æ±‚å¾—çŸ¥ä¼˜å…ˆå“åº”å“ªç§è¯­è¨€çš„é¡µé¢ï¼Œæ‰€æœ‰èƒ½å¤Ÿç¡®ä¿ä½ äº†è§£è¯·æ±‚å¯¹è±¡å¤´æ–‡ä»¶å±æ€§çš„ä¿¡æ¯éƒ½å°†ä¼šä½œä¸ºè¯·æ±‚æŠ¥å¤´å‘é€ï¼›</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">app.get(<span class="string">'/header'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">req,res</span>)</span>&#123;</span><br><span class="line">	res.set(<span class="string">'Content-Type'</span>,<span class="string">'text/plain'</span>);</span><br><span class="line">	<span class="keyword">var</span> s=<span class="string">''</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">var</span> name <span class="keyword">in</span> req.headers)&#123;</span><br><span class="line">		s += name + <span class="string">': '</span> + req.headers[name] + <span class="string">'\n'</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	res.send(s);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// æµè§ˆå™¨è®¿é—®è¾“å‡ºï¼š</span></span><br><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment">host: localhost:8080</span></span><br><span class="line"><span class="comment"> connection: keep-alive</span></span><br><span class="line"><span class="comment">upgrade-insecure-requests: 1</span></span><br><span class="line"><span class="comment">user-agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.122 Safari/537.36</span></span><br><span class="line"><span class="comment">...</span></span><br><span class="line"><span class="comment">**/</span></span><br></pre></td></tr></table></figure>

<ol start="4">
<li><p>å“åº”æŠ¥å¤´ï¼šå½“æœåŠ¡å™¨å“åº”æ—¶ï¼Œä¼šå›ä¼ ä¸€äº›æµè§ˆå™¨æ²¡å¿…è¦æ¸²æŸ“å’Œæ˜¾ç¤ºçš„ä¿¡æ¯ï¼Œé€šå¸¸æ˜¯å…ƒæ•°æ®å’ŒæœåŠ¡å™¨ä¿¡æ¯ï¼š</p>
<ol>
<li>å‘Šè¯‰æµè§ˆå™¨æ­£åœ¨è¢«ä¼ è¾“çš„å†…å®¹ç±»å‹ï¼ˆç½‘é¡µã€å›¾ç‰‡ã€æ ·å¼è¡¨ã€å®¢æˆ·ç«¯è„šæœ¬ç­‰ï¼‰</li>
<li>æ ¹æ®å†…å®¹ç±»å‹æŠ¥å¤´å¤„ç†ä¿¡æ¯</li>
<li>æŒ‡å‡ºå“åº”ä¿¡æ¯æ˜¯å¦è¢«å‹ç¼©ï¼Œä»¥åŠä½¿ç”¨çš„æ˜¯å“ªç§ç¼–ç </li>
<li>å¯ä»¥åŒ…å«å…³äºæµè§ˆå™¨å¯¹èµ„æºç¼“å­˜æ—¶é•¿çš„æç¤º</li>
<li>åŒ…å«ä¸€äº›å…³äºæœåŠ¡å™¨çš„ä¿¡æ¯</li>
</ol>
</li>
<li><p>æŸ¥çœ‹æŠ¥å¤´ä¿¡æ¯ï¼š</p>
<ol>
<li>æ‰“å¼€å¼€å‘è€…å·¥å…·</li>
<li>é€‰æ‹©Networkï¼Œç„¶ååˆ·æ–°é¡µé¢</li>
<li>é€‰æ‹©headerå¯ä»¥çœ‹åˆ°æŠ¥å¤´ä¿¡æ¯</li>
</ol>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">host: localhost:8080</span><br><span class="line">connection: keep-alive</span><br><span class="line">cache-control: max-age=0</span><br><span class="line">upgrade-insecure-requests: 1</span><br><span class="line">user-agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.122 Safari/537.36</span><br><span class="line">accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>è¯·æ±‚å¯¹è±¡ï¼Œé€šå¸¸å‘½åä¸º reqï¼š</strong></p>
<ol>
<li>req.paramsï¼šä¸€ä¸ªæ•°ç»„ï¼ŒåŒ…å«å‘½åè¿‡çš„è·¯ç”±å‚æ•°</li>
<li><del>req.param(name)ï¼šè¿”å›å‘½åçš„è·¯ç”±å‚æ•°ï¼Œæˆ–è€… GET è¯·æ±‚æˆ– POST è¯·æ±‚å‚æ•°</del></li>
<li>req.queryï¼šä¸€ä¸ªå¯¹è±¡ï¼ŒåŒ…å«ä»¥é”®å€¼å¯¹å­˜æ”¾çš„æŸ¥è¯¢å­—ç¬¦ä¸²å‚æ•°ï¼ˆè¯·æ±‚ä¸­çš„?åé¢å¸¦çš„å†…å®¹ï¼‰</li>
<li>req.bodyï¼šä¸€ä¸ªå¯¹è±¡ï¼Œ åŒ…å« POST è¯·æ±‚å‚æ•°</li>
<li><strong><em>req.routeï¼šå…³äºå½“å‰åŒ¹é…è·¯ç”±çš„ä¿¡æ¯ï¼Œä¸»è¦ç”¨äºè·¯ç”±è°ƒè¯•</em></strong></li>
<li>req.cookies/req.singnedCookiesï¼šä¸€ä¸ªå¯¹è±¡ï¼ŒåŒ…å«ä»å®¢æˆ·ç«¯ä¼ é€’è¿‡æ¥çš„cookieså€¼</li>
<li>req.headersï¼šä»å®¢æˆ·ç«¯æ¥æ”¶åˆ°çš„è¯·æ±‚æŠ¥å¤´</li>
<li>req.accepts([types])ï¼šä¸€ä¸ªç®€ä¾¿çš„æ–¹æ³•ï¼Œ ç”¨æ¥ç¡®å®šå®¢æˆ·ç«¯æ˜¯å¦æ¥å—ä¸€ä¸ªæˆ–ä¸€ç»„æŒ‡å®šçš„ç±»å‹</li>
<li>req.ipï¼šå®¢æˆ·ç«¯çš„ IP åœ°å€</li>
<li>req.pathï¼šè¯·æ±‚è·¯å¾„ï¼ˆä¸åŒ…å«åè®®ã€ä¸»æœºã€ç«¯å£æˆ–æŸ¥è¯¢å­—ç¬¦ä¸²ï¼‰</li>
<li>req.hostï¼šä¸€ä¸ªç®€ä¾¿çš„æ–¹æ³•ï¼Œç”¨æ¥è¿”å›å®¢æˆ·ç«¯æ‰€æŠ¥å‘Šçš„ä¸»æœºå</li>
<li>req.xhrï¼šä¸€ä¸ªç®€ä¾¿å±æ€§ï¼Œå¦‚æœè¯·æ±‚ç”± Ajax å‘èµ·å°†ä¼šè¿”å›true</li>
<li>req.protocolï¼šç”¨äºæ ‡è¯†è¯·æ±‚çš„åè®®ï¼ˆ http æˆ– httpsï¼‰</li>
<li>req.secureï¼šä¸€ä¸ªç®€ä¾¿å±æ€§ï¼Œå¦‚æœè¿æ¥æ˜¯å®‰å…¨çš„ï¼Œå°†è¿”å› true ã€‚ç­‰åŒäº req.protocol===â€™httpsâ€™</li>
<li>req.url/req.originalUrlï¼šè¿”å›äº†è·¯å¾„å’ŒæŸ¥è¯¢å­—ç¬¦ä¸²</li>
<li>req.acceptedLanguagesï¼šä¸€ä¸ªç®€ä¾¿æ–¹æ³•ï¼Œç”¨æ¥è¿”å›å®¢æˆ·ç«¯é¦–é€‰çš„ä¸€ç»„ï¼ˆäººç±»çš„ï¼‰è¯­è¨€</li>
</ol>
</li>
<li><p><strong>å“åº”å¯¹è±¡ï¼Œé€šå¸¸å‘½åä¸ºresï¼š</strong></p>
<ol>
<li>res.status(code)ï¼šè®¾ç½®HTTPçŠ¶æ€ç ï¼ŒExpress é»˜è®¤ä¸º 200ï¼ˆæˆåŠŸï¼‰</li>
<li>res.set(name,value)ï¼šè®¾ç½®å“åº”å¤´ã€‚è¿™é€šå¸¸ä¸éœ€è¦æ‰‹åŠ¨è®¾ç½®</li>
<li>res.cookieï¼ˆname,vaue,[options]ï¼‰,res.clearCookie(name,[options])ï¼šè®¾ç½®æˆ–æ¸…é™¤å®¢æˆ·ç«¯cookieså€¼ï¼Œéœ€è¦ä¸­é—´ä»¶æ”¯æŒ</li>
<li>res.redirect([status],url)ï¼šé‡å®šå‘æµè§ˆå™¨ã€‚é»˜è®¤é‡å®šå‘ä»£ç æ˜¯ 302 ï¼ˆå»ºç«‹ï¼‰ï¼Œåº”å°½é‡å‡å°‘é‡å®šå‘ï¼Œé™¤éæ°¸ä¹…ç§»åŠ¨ä¸€ä¸ªé¡µé¢ï¼Œè¿™ç§æƒ…å†µåº”å½“ä½¿ç”¨ä»£ç  301 ï¼ˆæ°¸ä¹…ç§»åŠ¨ï¼‰</li>
<li>res.send(body),res.send(status,body)ï¼šå‘å®¢æˆ·ç«¯å‘é€å“åº”åŠå¯é€‰çš„çŠ¶æ€ç </li>
<li>res.json(json),res.json(status,json)ï¼šå‘å®¢æˆ·ç«¯å‘é€ JSON ä»¥åŠå¯é€‰çš„çŠ¶æ€ç </li>
<li>res.jsonp(json),req.jsonp(status,json)ï¼šå‘å®¢æˆ·ç«¯å‘é€ JSONP åŠå¯é€‰çš„çŠ¶æ€ç </li>
<li>res.type(type)ï¼šç”¨äºè®¾ç½® Content-Type å¤´ä¿¡æ¯</li>
<li><strong><em>res.format(object)ï¼šå…è®¸æ ¹æ®æ¥æ”¶è¯·æ±‚æŠ¥å¤´å‘é€ä¸åŒçš„å†…å®¹</em></strong></li>
<li>res.attachment([filename]),res.download(path,[filename],[callback])ï¼šå°†å“åº”æŠ¥å¤´ Content-Disposition è®¾ä¸º attachment ï¼Œ è¿™æ ·æµè§ˆå™¨å°±ä¼šé€‰æ‹©ä¸‹è½½è€Œä¸æ˜¯å±•ç°å†…å®¹</li>
<li>res.sendFile(path,[option],[callback])ï¼šæ ¹æ®è·¯å¾„è¯»å–æŒ‡å®šæ–‡ä»¶å¹¶å°†å†…å®¹å‘é€åˆ°å®¢æˆ·ç«¯</li>
<li>res.links(links)ï¼šè®¾ç½®é“¾æ¥å“åº”æŠ¥å¤´ï¼Œè¿™æ˜¯ä¸€ä¸ªä¸“ç”¨çš„æŠ¥å¤´ï¼Œåœ¨å¤§å¤šæ•°åº”ç”¨ç¨‹åºä¸­å‡ ä¹æ²¡æœ‰ç”¨å¤„</li>
<li>res.locals,res.render(view,[locals],callback)ï¼šres.locals æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œ åŒ…å«ç”¨äºæ¸²æŸ“è§†å›¾çš„ é»˜è®¤ä¸Šä¸‹æ–‡ï¼Œres.renderä½¿ç”¨é…ç½®çš„æ¨¡æ¿å¼•æ“æ¸²æŸ“è§†å›¾</li>
</ol>
</li>
</ol>
<h2 id="Handlebarsæ¨¡æ¿å¼•æ“"><a href="#Handlebarsæ¨¡æ¿å¼•æ“" class="headerlink" title="Handlebarsæ¨¡æ¿å¼•æ“"></a>Handlebarsæ¨¡æ¿å¼•æ“</h2><ol>
<li>æ¨¡æ¿è§£å†³äº†åœ¨ç›®æ ‡è¯­è¨€ä¸­ç¼–å†™ä»£ç çš„é—®é¢˜ï¼Œ åŒæ—¶ä¹Ÿè®©æ’å…¥åŠ¨æ€æ•°æ®æˆä¸ºäº†å¯èƒ½ï¼›</li>
<li>æ¨¡æ¿å¼•æ“çš„é€‰æ‹©æ ‡å‡†ï¼š<ol>
<li>æ€§èƒ½</li>
<li>å®¢æˆ·ç«¯ã€æœåŠ¡ç«¯æˆ–å…¼è€Œæœ‰ä¹‹ï¼Ÿ</li>
<li>æŠ½è±¡</li>
</ol>
</li>
<li>Jade å°±ä»¥æŠ½è±¡ HTML ç»†èŠ‚è€Œå¼•äººæ³¨ç›®ï¼Œä¾èµ–ç¼©è¿›å’Œä¸€äº›å¸¸è¯†æ€§è§„åˆ™ï¼Œ ä»è€Œæ›´å®¹æ˜“è¡¨è¾¾å‡ºè‡ªå·±æƒ³è¦çš„ï¼›</li>
<li>å½“æ¸²æŸ“ä¸€ä¸ªæ¨¡æ¿æ—¶ï¼Œä¾¿ä¼šä¼ é€’ç»™æ¨¡æ¿å¼•æ“ä¸€ä¸ªå¯¹è±¡ï¼Œå«ä½œ ä¸Šä¸‹æ–‡å¯¹è±¡ ï¼Œå®ƒèƒ½è®©æ›¿æ¢æ ‡è¯†è¿è¡Œã€‚<strong>ä½¿ç”¨ä¸‰é‡å¤§æ‹¬å·å…³é—­ HTML è½¬ä¹‰çš„åŠŸèƒ½å…·æœ‰ä¸€äº›é‡è¦ç”¨é€”ï¼›</strong></li>
<li>Handlebars çš„æ³¨é‡Š:</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&#123;&#123;! This comment will not be <span class="keyword">in</span> the output &#125;&#125;</span><br></pre></td></tr></table></figure>



<ol>
<li><strong>å—çº§è¡¨è¾¾å¼æä¾›äº†æµç¨‹æ§åˆ¶ã€æ¡ä»¶æ‰§è¡Œå’Œå¯æ‰©å±•æ€§</strong>,éœ€è¦ä½¿ç”¨ä¸Šä¸‹æ–‡æ¥è§£é‡Šï¼Œç›¸å¯¹æ¥è¯´æ¯”è¾ƒå¤æ‚ï¼›</li>
<li>æœåŠ¡å™¨ç«¯æ¨¡æ¿ä¼šåœ¨ HTML å‘é€åˆ°å®¢æˆ·ç«¯ä¹‹å‰æ¸²æŸ“å®ƒï¼Œé™¤äº†éšè—å®ç°ç»†èŠ‚ï¼Œè¿˜æ”¯æŒæ¨¡æ¿ç¼“å­˜ï¼Œè§†å›¾ç¼“å­˜ä¼šåœ¨å¼€å‘æ¨¡å¼ä¸‹ç¦ç”¨ï¼Œåœ¨ç”Ÿäº§æ¨¡å¼ä¸‹å¯ç”¨ã€‚å¦‚æœæƒ³æ˜¾å¼åœ°å¯ç”¨è§†å›¾ç¼“å­˜ï¼Œapp.set(â€˜view cacheâ€™, true);</li>
<li><strong><em>æ‰©å±•åæ”¹æˆåŒæ ·å¸¸è§çš„ .hbsï¼›</em></strong></li>
</ol>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">require</span>(<span class="string">'express-handlebars'</span>).create(&#123; <span class="attr">extname</span>: <span class="string">'.hbs'</span> &#125;)</span><br></pre></td></tr></table></figure>



<ol start="10">
<li><strong>è§†å›¾</strong> é€šå¸¸è¡¨ç°ä¸ºç½‘ç«™ä¸Šçš„å„ä¸ªé¡µé¢ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œ Express ä¼šåœ¨ views å­ç›®å½•ä¸­æŸ¥æ‰¾è§†å›¾ï¼›</li>
<li>å¸ƒå±€** æ˜¯ä¸€ç§ç‰¹æ®Šçš„è§†å›¾,æ˜¯ä¸€ä¸ªç”¨äºæ¨¡æ¿çš„æ¨¡æ¿,æ¯”å¦‚ä¸Šé¢ä½¿ç”¨çš„views/layouts/main.hadlebarsï¼›<strong><em>æ¨¡æ¿é‡Œçš„ bodyåœ¨å“ªé‡Œæ”¾ç½®å¹¶æ²¡æœ‰é™åˆ¶</em></strong></li>
<li>è§†å›¾é¦–å…ˆè¢«æ¸²æŸ“ï¼Œ ä¹‹åæ˜¯å¸ƒå±€ï¼Œå®ƒå…è®¸è§†å›¾æœ¬èº«è¿›ä¸€æ­¥è‡ªå®šä¹‰å¸ƒå±€ï¼›***</li>
<li>é»˜è®¤æƒ…å†µä¸‹ï¼Œ Express ä¼šåœ¨ views å­ç›®å½•ä¸­æŸ¥æ‰¾è§†å›¾ï¼Œåœ¨ views/layouts ä¸‹æŸ¥æ‰¾å¸ƒå±€ï¼›å½“ç„¶å¯ä»¥åœ¨è§†å›¾ä¸­æŒ‡å®šä½¿ç”¨çš„layoutï¼Œæ¯”å¦‚ä¸ä½¿ç”¨ï¼š</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ä¸ä½¿ç”¨å¸ƒå±€ï¼Œé‚£ä¹ˆå¿…é¡»åœ¨è§†å›¾ä¸­æ‹¥æœ‰æ ·æ¿æ–‡ä»¶</span></span><br><span class="line">app.get(<span class="string">'/foo'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">req, res</span>)</span>&#123;</span><br><span class="line">  res.render(<span class="string">'foo'</span>, &#123; <span class="attr">layout</span>: <span class="literal">null</span>&#125;);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">//æŒ‡å®šå¸ƒå±€,ä¼šä½¿ç”¨å¸ƒå±€views/layouts/another.handlebarsæ¥æ¸²æŸ“è§†å›¾</span></span><br><span class="line">app.get(<span class="string">'/foo'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">req,res</span>)</span>&#123;</span><br><span class="line">  res.render(<span class="string">'foor'</span>,&#123;<span class="attr">layout</span>:<span class="string">'another'</span>&#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<ol start="14">
<li>æœ‰äº›ç»„æˆéƒ¨åˆ†éœ€è¦åœ¨ä¸åŒçš„é¡µé¢é‡å¤ä½¿ç”¨ï¼Œé»˜è®¤æƒ…å†µä¸‹å±€éƒ¨æ–‡ä»¶æ”¾åœ¨views/partialså­ç›®å½•ä¸‹ï¼Œä¸æƒ³è®©ä¸ªåˆ«çš„è§†å›¾å¹²æ‰°æŒ‡å®šçš„ä¸Šä¸‹æ–‡ï¼Œäºæ˜¯å°†æ‰€æœ‰çš„å±€éƒ¨æ–‡ä»¶ä¸Šä¸‹æ–‡éƒ½æ”¾åœ¨ partials å¯¹è±¡ä¸­ï¼›</li>
</ol>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¯­æ³• &#123;&#123;&gt; partial_name&#125;&#125; å¯ä»¥è®©ä½ åœ¨è§†å›¾ä¸­åŒ…å«ä¸€ä¸ªå±€éƒ¨æ–‡ä»¶ï¼Œexpress-handlebars ä¼šåœ¨ views/partials ä¸­å¯»æ‰¾ä¸€ä¸ªå«ä½œ partial_name.handle-bars çš„è§†å›¾ï¼Œæ”¯æŒå­ç›®å½•ï¼Œå¯ä»¥å°†å®ƒä»¬æ”¾åœ¨ views/partials/socialç›®å½•ä¸‹é¢ï¼Œç„¶åä½¿ç”¨ &#123;&#123;&gt; social/partial_name&#125;&#125;ï¼›</span><br></pre></td></tr></table></figure>

<ol start="15">
<li><p>å®ä¾‹åŒ– Handlebars å¯¹è±¡æ—¶ï¼Œ ä¼šæ·»åŠ ä¸€ä¸ªå«ä½œsection çš„è¾…åŠ©æ–¹æ³•ï¼›</p>
</li>
<li><p>æ¨¡æ¿åŠ ä¸»é¢˜å¯ä»¥ä½¿å¾—ç½‘ç«™çš„ä¸€è‡´æ€§ä»¥åŠç¾è§‚æ€§å¤§å¤§æé«˜ï¼Œä½†æ˜¯æ³¨æ„ä¸æ˜¯æ¨¡æ¿è¶Šå¤šè¶Šå¥½ï¼Œéœ€è¦å»æƒè¡¡ï¼</p>
</li>
</ol>
<h2 id="å®‰å…¨"><a href="#å®‰å…¨" class="headerlink" title="å®‰å…¨"></a>å®‰å…¨</h2><ol>
<li><p><strong>HTTPSè®¿é—®ï¼š</strong></p>
<ol>
<li>ç”Ÿæˆè‡ªå·±çš„è¯ä¹¦ï¼šbrew install openssl ï¼ˆå¦‚æœæ²¡æœ‰å®‰è£…çš„è¯ï¼‰</li>
</ol>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">openssl req -x509 -nodes -days 365 -newkey rsa:2048 -keyout meadowlark.pem -out meadowlark.crt</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>å°†ç”Ÿæˆçš„å…¬é’¥å’Œç§é’¥ç§»åŠ¨åˆ°ç›®å½•çš„sslç›®å½•ä¸‹ï¼›</li>
<li>ä¿®æ”¹index.js:</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">//"use strict";</span></span><br><span class="line"><span class="keyword">var</span> express=<span class="built_in">require</span>(<span class="string">'express'</span>);</span><br><span class="line"><span class="keyword">var</span> fortune=<span class="built_in">require</span>(<span class="string">'./lib/fortune.js'</span>);</span><br><span class="line"><span class="keyword">var</span> https = <span class="built_in">require</span>(<span class="string">'https'</span>);</span><br><span class="line"><span class="keyword">var</span> fs=<span class="built_in">require</span>(<span class="string">'fs'</span>);</span><br><span class="line"><span class="keyword">var</span> options = &#123;</span><br><span class="line">	key: fs.readFileSync(__dirname + <span class="string">'/ssl/meadowlark.pem'</span>),</span><br><span class="line">	cert: fs.readFileSync(__dirname + <span class="string">'/ssl/meadowlark.crt'</span>)</span><br><span class="line">&#125;;</span><br><span class="line">app.set(<span class="string">'port'</span>,process.env.PORT||<span class="number">443</span>);</span><br><span class="line"><span class="comment">// çœç•¥å…¶ä»–éƒ¨åˆ†</span></span><br><span class="line">https.createServer(options, app).listen(app.get(<span class="string">'port'</span>), <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"> <span class="built_in">console</span>.log(<span class="string">'Express started in '</span> + app.get(<span class="string">'env'</span>) + <span class="string">' mode on port '</span> + app.get(<span class="string">'port'</span>) + <span class="string">'.'</span>);</span><br><span class="line"> &#125;);</span><br></pre></td></tr></table></figure>

<ol start="4">
<li>ä½¿ç”¨Safariæµè§ˆå™¨è®¿é—®ï¼š<a href="https://localhostï¼›æ³¨æ„è°·æ­Œæµè§ˆå™¨æ˜¯æ²¡æ³•è®©ä½ è®¿é—®çš„ï¼Œå¯ä»¥ç”³è¯·è®¤è¯æœºæ„çš„è¯ä¹¦å»è®¿é—®ï¼Œä½†è¿™é‡Œåªæ˜¯å­¦ä¹ ï¼" target="_blank" rel="noopener">https://localhostï¼›æ³¨æ„è°·æ­Œæµè§ˆå™¨æ˜¯æ²¡æ³•è®©ä½ è®¿é—®çš„ï¼Œå¯ä»¥ç”³è¯·è®¤è¯æœºæ„çš„è¯ä¹¦å»è®¿é—®ï¼Œä½†è¿™é‡Œåªæ˜¯å­¦ä¹ ï¼</a></li>
</ol>
</li>
<li><p><strong>è·¨ç«™è¯·æ±‚ä¼ªé€ ï¼š</strong></p>
<ol>
<li><p>è·¨ç«™è¯·æ±‚ä¼ªé€ ï¼ˆCSRFï¼‰æ”»å‡»åˆ©ç”¨äº†ç”¨æˆ·ä¸€èˆ¬éƒ½ä¼šç›¸ä¿¡æµè§ˆå™¨å¹¶ä¸”åœ¨åŒä¸€ä¸ªä¼šè¯ä¸­è®¿é—®å¤šä¸ªç½‘ç«™è¿™æ ·çš„äº‹å®ï¼›</p>
</li>
<li><p>è¦é˜²èŒƒ CSRF æ”»å‡»ï¼Œ å¿…é¡»æƒ³åŠæ³•ç¡®ä¿è¯·æ±‚åˆæ³•åœ°æ¥è‡ªè‡ªå·±çš„ç½‘ç«™ï¼Œå¯ä»¥ç»™æµè§ˆå™¨ä¼ ä¸€ä¸ªå”¯ä¸€çš„ä»¤ç‰Œï¼›</p>
</li>
<li><p>csurfä¸­é—´ä»¶å¯ä»¥äº§ç”Ÿä»¤ç‰Œä»¥åŠéªŒè¯ä»¤ç‰Œï¼š</p>
<ol>
<li>å®‰è£…ï¼šnpm install â€“save csurf</li>
<li>å¼•å…¥ï¼š</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// è¿™ä¸ªå¿…é¡»æ”¾åœ¨ cookie-parser å’Œ connect-session çš„å¼•å…¥ä¹‹å </span></span><br><span class="line">app.use(<span class="built_in">require</span>(<span class="string">'csurf'</span>)()); </span><br><span class="line">app.use( <span class="function"><span class="keyword">function</span> (<span class="params">req, res, next</span>)</span>&#123;</span><br><span class="line">	res.locals._csrfToken = req.csrfToken();</span><br><span class="line">  next();</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>csurf ä¸­é—´ä»¶æ·»åŠ äº† csurfToken æ–¹æ³•åˆ°è¯·æ±‚å¯¹è±¡ä¸Š,ä¸ä¸€å®šéè¦æŠŠå®ƒèµ‹ç»™ res.locals ï¼Œå¯ä»¥å°† req.csurfToken() ç›´æ¥ä¼ ç»™éœ€è¦å®ƒçš„è§†å›¾ï¼Œä½†è¿™ä¸ªå·¥ä½œé‡ä¸€èˆ¬æ›´å°</li>
<li>å¦‚æœ body ä¸­çš„åŸŸæ²¡æœ‰æœ‰æ•ˆçš„ _csrf åŸŸï¼Œå®ƒä¼šå¼•å‘ä¸€ä¸ªé”™è¯¯ï¼ˆç¡®ä¿ä½ çš„ä¸­é—´ä»¶é‡Œæœ‰é”™è¯¯è·¯ç”±ï¼ï¼‰</li>
</ol>
</li>
<li><p>Passport æ˜¯ä¸º Node/Express åšçš„è®¤è¯æ¨¡å—ï¼Œéå¸¸å¥å£®ï¼›</p>
<ol>
<li>å®‰è£…ï¼šnpm install â€“save passport</li>
<li>ç¬¬ä¸‰æ–¹è®¤è¯ï¼š<strong>TODO</strong></li>
</ol>
</li>
</ol>
</li>
</ol>
<h2 id="Expresså’ŒMVC"><a href="#Expresså’ŒMVC" class="headerlink" title="Expresså’ŒMVC"></a>Expresså’ŒMVC</h2><ol>
<li>æ¨¡å‹ - è§†å›¾ - æ§åˆ¶å™¨ï¼ˆMVCï¼‰æœ€å¤§çš„ä¼˜åŠ¿ä¹‹ä¸€æ˜¯å®ƒå‡å°‘äº†é¡¹ç›®çš„å­¦ä¹ æ—¶é—´ï¼åœ¨ MVC ä¸­ï¼Œ æ¨¡å‹ æ˜¯â€œçº¯ç²¹â€çš„æ•°æ®å’Œé€»è¾‘ï¼Œæ ¹æœ¬ä¸å…³å¿ƒè‡ªå·±è·Ÿç”¨æˆ·ä¹‹é—´çš„äº¤äº’ï¼›è§†å›¾å°†æ¨¡å‹ä¼ é€’ç»™ç”¨æˆ·ï¼Œè€Œæ§åˆ¶å™¨åˆ™æ¥å—ç”¨æˆ·è¾“å…¥ï¼Œå¤„ç†æ¨¡å‹ï¼Œé€‰æ‹©è¦æ˜¾ç¤ºå“ªä¸ªï¼ˆäº›ï¼‰è§†å›¾ï¼›</li>
<li>å˜ä½“ï¼šå¾®è½¯çš„â€œæ¨¡å‹ - è§†å›¾ - è§†å›¾æ¨¡å‹â€ï¼ˆMVVMï¼‰ï¼Œè§†å›¾æ¨¡å‹çš„æƒ³æ³•æ˜¯è¯´å®ƒæ˜¯æ¨¡å‹çš„è½¬åŒ–ï¼Œå¯ä»¥â€œä¿æŠ¤â€æ¨¡å‹ï¼›</li>
<li>æ¨¡å‹ç»å¯¹æ˜¯æœ€æœ€é‡è¦çš„ç»„ä»¶ï¼Œæ¨¡å‹æ˜¯é¡¹ç›®çš„åŸºçŸ³ï¼›æ¨¡å‹ä¸­çš„é€»è¾‘ä¸¥é‡ä¾èµ–äºæŒä¹…æ€§ï¼ŒæŠŠè¿™ä¸¤å±‚åˆ†å¼€å¯èƒ½å¾—ä¸å¿å¤±ï¼›</li>
<li><strong>å»ºè®®åœ¨é¡¹ç›®ä¸­åˆ›å»ºä¸€ä¸ªå« models çš„å­ç›®å½•æ¥å­˜æ”¾æ¨¡å‹ï¼Œåªè¦æœ‰è¦å®ç°çš„é€»è¾‘ï¼Œæˆ–è¦å­˜å‚¨çš„æ•°æ®ï¼Œéƒ½åº”è¯¥åœ¨ models ç›®å½•ä¸‹çš„æ–‡ä»¶é‡Œå®Œæˆï¼›</strong></li>
<li>è§†å›¾æ¨¡å‹æ˜¯ä¿æŒæ¨¡å‹æŠ½è±¡æ€§çš„åŠæ³•ï¼ŒåŒæ—¶è¿˜èƒ½ä¸ºè§†å›¾æä¾›æœ‰æ„ä¹‰çš„æ•°æ®;</li>
<li>æ§åˆ¶å™¨è´Ÿè´£å¤„ç†ç”¨æˆ·äº¤äº’ï¼Œå¹¶æ ¹æ®ç”¨æˆ·äº¤äº’é€‰æ‹©æ°å½“çš„è§†å›¾æ¥æ˜¾ç¤ºï¼Œæ§åˆ¶å™¨å’Œè·¯ç”±å™¨ä¹‹é—´å”¯ä¸€çš„åŒºåˆ«æ˜¯æ§åˆ¶å™¨ä¸€èˆ¬ä¼šæŠŠç›¸å…³åŠŸèƒ½å½’ç»„ï¼›</li>
<li>èƒ½é™åˆ¶é€‰æ‹©çš„åªæœ‰æƒ³è±¡åŠ›äº†ï¼Œå¦‚æœæƒ³æŠŠæ§åˆ¶å™¨ä»è·¯ç”±ä¸­å®Œå…¨å‰¥ç¦»å‡ºæ¥ï¼Œè‚¯å®šå¯ä»¥é‚£ä¹ˆåšï¼</li>
</ol>
<h2 id="ä¿¡æ¯æ”¶é›†"><a href="#ä¿¡æ¯æ”¶é›†" class="headerlink" title="ä¿¡æ¯æ”¶é›†"></a>ä¿¡æ¯æ”¶é›†</h2><ol>
<li>ä»ç”¨æˆ·é‚£é‡Œæ”¶é›†ä¿¡æ¯çš„å¸¸ç”¨æ–¹æ³•å°±æ˜¯ä½¿ç”¨ HTML è¡¨å• ï¼›</li>
<li>å‘æœåŠ¡å™¨å‘é€å®¢æˆ·ç«¯æ•°æ®æœ‰ä¸¤ç§æ–¹å¼ï¼š æŸ¥è¯¢å­—ç¬¦ä¸²å’Œè¯·æ±‚æ­£æ–‡</li>
</ol>
<ul>
<li>ä½¿ç”¨æŸ¥è¯¢å­—ç¬¦ä¸²ï¼Œ å°±å‘èµ·äº†ä¸€ä¸ª GET è¯·æ±‚  </li>
<li>ä½¿ç”¨è¯·æ±‚æ­£æ–‡ï¼Œ å°±å‘èµ·äº†ä¸€ä¸ª POST è¯·æ±‚  </li>
</ul>
<ol start="3">
<li>ä»æœåŠ¡å™¨çš„è§’åº¦æ¥çœ‹ï¼Œ æœ€é‡è¦çš„å±æ€§æ˜¯ <input> åŸŸä¸­çš„ name å±æ€§ï¼Œ è¿™æ ·æœåŠ¡å™¨æ‰èƒ½è¯†åˆ«å­—æ®µï¼›name å±æ€§ä¸ id å±æ€§æ˜¯æˆªç„¶ä¸åŒçš„ï¼Œ åè€…åªé€‚ç”¨äºæ ·å¼å’Œå‰ç«¯åŠŸèƒ½ï¼Œidæ˜¯ä¸ä¼šå‘é€åˆ°æœåŠ¡ç«¯çš„ï¼›    </li>
<li>æ³¨æ„éšè—åŸŸï¼š å®ƒä¸ä¼šå‘ˆç°åœ¨æµè§ˆå™¨ä¸­ã€‚ ä½†æ˜¯ï¼Œ ä½ ä¸èƒ½ä½¿ç”¨å®ƒå­˜æ”¾ç§˜å¯†å’Œæ•æ„Ÿä¿¡æ¯ï¼š ç”¨æˆ·åªè¦æŸ¥çœ‹é¡µé¢æºæ–‡ä»¶ï¼Œ éšè—åŸŸå°±ä¼šæš´éœ²å‡ºæ¥ï¼›   </li>
</ol>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">"/process"</span> <span class="attr">method</span>=<span class="string">"POST"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"hidden"</span> <span class="attr">name</span>=<span class="string">"hush"</span> <span class="attr">val</span>=<span class="string">"hidden, but not secret!"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"fieldColor"</span>&gt;</span>Your favorite color: <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">id</span>=<span class="string">"fieldColor"</span> <span class="attr">name</span>=<span class="string">"color"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">"submit"</span>&gt;</span>Submit<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ol start="5">
<li>HTML å¹¶ä¸ä¼šé™åˆ¶åœ¨åŒä¸€ä¸ªé¡µé¢ä¸Šæœ‰å¤šä¸ªè¡¨å• ,ä¸€ä¸ªè¡¨å•åº”è¯¥åªåŒ…å«ä½ æƒ³è¦æäº¤çš„å­—æ®µï¼›å¦‚æœä¸€ä¸ªé¡µé¢ä¸Šæœ‰ä¸¤ä¸ªä¸åŒçš„ actionï¼Œ è¯·ä½¿ç”¨ä¸¤ä¸ªä¸åŒçš„è¡¨å• ï¼›</li>
<li>å½“è¡¨å•è¢«æäº¤æ—¶ï¼Œ æŸç§ç¨‹åº¦ä¸Šå®ƒå¿…é¡»è¢«ç¼–ç ï¼›å¤„ç†è¡¨å•æ—¶æœ‰ä¸¤ä»¶äº‹éœ€è¦è€ƒè™‘ï¼š   </li>
</ol>
<ul>
<li>å¤„ç†è¡¨å•æ˜¯å“ªä¸ªè·¯å¾„ï¼ˆactionï¼‰  </li>
<li>å‘æµè§ˆå™¨å‘å‡ºæ€æ ·çš„å“åº”  </li>
<li>å¦‚æœä½ çš„è¡¨å•ä½¿ç”¨çš„æ˜¯ method=â€POSTâ€ï¼ˆæ¨èä½¿ç”¨ï¼‰ï¼Œ é‚£ä¹ˆå±•ç°è¡¨å•å’Œå¤„ç†è¡¨å•é€šå¸¸ä½¿ç”¨ç›¸åŒçš„è·¯å¾„ï¼Œé‡‡ç”¨è¿™ç§æ–¹æ³•ï¼Œ å°±å¯ä»¥çœç•¥è¡¨å•ä¸Šçš„ action å±æ€§  ï¼›</li>
<li>ä½¿ç”¨ä¸€ä¸ªå•ç‹¬çš„è·¯å¾„å¤„ç†è¡¨å• ï¼Œåˆ™è¦ä½¿ç”¨è·¯å¾„æ¥å¤„ç†è¡¨å•ï¼›</li>
</ul>
<ol start="7">
<li>å“åº”æµè§ˆå™¨ï¼š</li>
</ol>
<ul>
<li>ç›´æ¥å“åº”HTML  </li>
<li><del>302é‡å®šå‘</del>  </li>
<li>303é‡å®šå‘  ï¼š<ul>
<li>é‡å®šå‘åˆ°ä¸“ç”¨çš„æˆåŠŸ/å¤±è´¥é¡µé¢  </li>
<li>è¿ç”¨flashæ¶ˆæ¯é‡å®šå‘åˆ°åŸä½ç½®  </li>
<li>è¿ç”¨flashæ¶ˆæ¯é‡å®šå‘åˆ°æ–°ä½ç½®  </li>
</ul>
</li>
</ul>
<h2 id="Expressè¡¨å•å¤„ç†"><a href="#Expressè¡¨å•å¤„ç†" class="headerlink" title="Expressè¡¨å•å¤„ç†"></a>Expressè¡¨å•å¤„ç†</h2><ol>
<li>å¦‚æœä½¿ç”¨ GET è¿›è¡Œè¡¨å•å¤„ç†ï¼Œ è¡¨å•åŸŸåœ¨ req.query å¯¹è±¡ä¸­ï¼Œä¾‹å¦‚ï¼Œ å¦‚æœæœ‰ä¸€ä¸ªåç§°å±æ€§ä¸ºemail çš„ HTML è¾“å…¥å­—æ®µï¼Œ å®ƒçš„å€¼ä¼šä»¥ req.query.email çš„å½¢å¼ä¼ é€’åˆ°å¤„ç†ç¨‹åº  ï¼› </li>
<li>å¦‚æœä½¿ç”¨ POSTï¼ˆæ¨èä½¿ç”¨çš„ï¼‰ï¼Œ éœ€è¦å¼•å…¥ä¸­é—´ä»¶æ¥è§£æ URL ç¼–ç ä½“ï¼Œé¦–å…ˆï¼Œ å®‰è£… body-parserä¸­é—´ä»¶ï¼ˆnpm install â€“save body-parserï¼‰ï¼Œ ç„¶åå¼•å…¥ï¼š</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">app.use(<span class="built_in">require</span>(<span class="string">'body-parser'</span>)());</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>ä¸€æ—¦å¼•å…¥äº† body-parserï¼Œ  req.bodyå°†å˜ä¸ºå¯ç”¨ï¼Œ è¿™æ ·æ‰€æœ‰çš„è¡¨å•å­—æ®µå°†å¯ç”¨  </li>
<li>ä¸ºç”¨æˆ·æä¾›çœŸæ­£åˆ«å‡ºå¿ƒè£çš„æ–‡ä»¶ä¸Šä¼ ï¼Œ å¯æ‹–æ‹½ï¼Œ å¯ä»¥çœ‹åˆ°ä¸Šä¼ æ–‡ä»¶ç¼©ç•¥å›¾ï¼Œ å¹¶æŸ¥çœ‹è¿›åº¦æ¡ï¼Œ é‚£æˆ‘å‘ä½ æ¨è Sebastian Tschan çš„ jQuery File Uploadï¼›</li>
<li>è¦æ˜¾ç¤ºæ–‡ä»¶ç¼©ç•¥å›¾ï¼Œ jquery-file-upload-middleware ä½¿ ç”¨ ImageMagickï¼›</li>
<li>å®‰è£… jquery-file-upload-middleware åŒ…ï¼ˆnpm install  â€“save jquery-file-upload-middlewareï¼‰ï¼Œç„¶ååœ¨ä½ çš„åº”ç”¨æ–‡ä»¶ä¸­æ·»åŠ ä»¥ä¸‹ä»£ç ï¼š  </li>
</ol>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> jqupload = <span class="built_in">require</span>(<span class="string">'jquery-file-upload-middleware'</span>);</span><br><span class="line">app.use(<span class="string">'/upload'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">req, res, next</span>)</span>&#123;</span><br><span class="line"><span class="keyword">var</span> now = <span class="built_in">Date</span>.now();</span><br><span class="line">jqupload.fileHandler(&#123;</span><br><span class="line">uploadDir: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="keyword">return</span> __dirname + <span class="string">'/public/uploads/'</span> + now;</span><br><span class="line">&#125;,</span><br><span class="line">uploadUrl: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="string">'/uploads/'</span> + now;</span><br><span class="line">&#125;,</span><br><span class="line">&#125;)(req, res, next);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h2 id="REST"><a href="#REST" class="headerlink" title="REST"></a>REST</h2><ol>
<li>REST è¡¨ç¤ºâ€œè¡¨è¿°æ€§çŠ¶æ€ä¼ è¾“â€ï¼ˆRepresentational State Transferï¼‰ï¼Œæ¥å½¢å®¹æ»¡è¶³ REST åŸåˆ™çš„ Web æœåŠ¡ï¼ŒREST åŸºæœ¬ä¸Šå°±æ˜¯å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯çš„æ— çŠ¶æ€è¿æ¥ï¼›</li>
<li>åœ¨å®ç°RESTä¹‹å‰ï¼Œ éœ€è¦å…ˆæŠŠ API è§„åˆ’å¥½ï¼Œæ¯”å¦‚æ™¯ç‚¹å‹ç½‘ç«™ï¼š</li>
</ol>
<ul>
<li>GET /api/attractions    è·å–æ™¯ç‚¹ ï¼Œä»¥latã€ lng å’Œ radius ä¸ºæŸ¥è¯¢å­—ç¬¦ä¸²å‚æ•°ï¼Œ è¿”å›ä¸€ä¸ªæ™¯ç‚¹åˆ—è¡¨  </li>
<li>GET /api/attraction/:id  æ ¹æ® ID è¿”å›ä¸€å¤„æ™¯ç‚¹  </li>
<li>POST /api/attraction   ä»¥ latã€ lngã€ nameã€ description å’Œ email ä¸ºè¯·æ±‚ä½“æ·»åŠ æ–°çš„æ™¯ç‚¹  </li>
<li>PUT /api/attraction/:id   æ›´æ–°ä¸€å¤„å·²æœ‰çš„æ™¯ç‚¹ ï¼Œ å‚æ•°ä¸ºæ™¯ç‚¹çš„ IDã€ latã€ lngã€ nameã€ description å’Œ email  </li>
<li>DEL /api/attraction/:id   åˆ é™¤æ™¯ç‚¹ï¼Œå‚æ•°ä¸ºæ™¯ç‚¹ IDã€ email å’Œ reason  </li>
</ul>
<ol start="3">
<li>ç”¨ HTTP æ–¹æ³•å’Œè·¯å¾„çš„ç»„åˆæ¥åŒºåˆ† API è°ƒç”¨ï¼Œ å¹¶ç”¨æŸ¥è¯¢å­—ç¬¦ä¸²å’Œè¯·æ±‚ä¸»ä½“å‚æ•°æ··åˆçš„æ–¹å¼ä¼ é€’æ•°æ®ï¼›</li>
<li>è·¨åŸŸèµ„æºå…±äº«ï¼ˆCORSï¼‰é€šè¿‡ Access-Control-Allow-Origin å“åº”å¤´å®ç°ï¼Œåœ¨ Express ç¨‹åºä¸­æœ€å®¹æ˜“çš„å®ç°æ–¹å¼æ˜¯ç”¨ cors åŒ…ï¼ˆnpm install â€“save corsï¼‰ ï¼š</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">app.use(<span class="built_in">require</span>(<span class="string">'cors'</span>)());</span><br></pre></td></tr></table></figure>

<ol start="5">
<li>éœ€è¦ä¸€ç§å®é™…è°ƒç”¨ REST API çš„åŠæ³• ,è¦ç”¨åˆ° Node åŒ… restlerï¼š  </li>
</ol>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">npm install --save-dev restler</span><br></pre></td></tr></table></figure>

<ol start="6">
<li>åœ¨ qa/tests-api.js ä¸­å®ç°å¯¹ API çš„æµ‹è¯•ï¼š  </li>
</ol>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> assert = <span class="built_in">require</span>(<span class="string">'chai'</span>).assert;</span><br><span class="line"><span class="keyword">var</span> http = <span class="built_in">require</span>(<span class="string">'http'</span>);</span><br><span class="line"><span class="keyword">var</span> rest = <span class="built_in">require</span>(<span class="string">'restler'</span>);</span><br><span class="line">suite(<span class="string">'API tests'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="keyword">var</span> attraction = &#123;</span><br><span class="line">lat: <span class="number">45.516011</span>,</span><br><span class="line">lng: <span class="number">-122.682062</span>,</span><br><span class="line">name: <span class="string">'Portland Art Museum'</span>,</span><br><span class="line">description: <span class="string">'Founded in 1892, the Portland Art Museum\'s colleciton '</span> +</span><br><span class="line"><span class="string">'of native art is not to be missed. If modern art is more to your '</span> +</span><br><span class="line"><span class="string">'liking, there are six stories of modern art for your enjoyment.'</span>,</span><br><span class="line">email: <span class="string">'test@meadowlarktravel.com'</span>,</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">var</span> base = <span class="string">'http://localhost:3000'</span>;</span><br><span class="line">test(<span class="string">'should be able to add an attraction'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">done</span>)</span>&#123;</span><br><span class="line">rest.post(base+<span class="string">'/api/attraction'</span>, &#123;<span class="attr">data</span>:attraction&#125;).on(<span class="string">'success'</span>,</span><br><span class="line"><span class="function"><span class="keyword">function</span>(<span class="params">data</span>)</span>&#123;</span><br><span class="line">assert.match(data.id, /\w/, <span class="string">'id must be set'</span>);</span><br><span class="line">done();</span><br><span class="line">&#125;);</span><br><span class="line">&#125;);</span><br><span class="line">test(<span class="string">'should be able to retrieve an attraction'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">done</span>)</span>&#123;</span><br><span class="line">rest.post(base+<span class="string">'/api/attraction'</span>, &#123;<span class="attr">data</span>:attraction&#125;).on(<span class="string">'success'</span>,</span><br><span class="line"><span class="function"><span class="keyword">function</span>(<span class="params">data</span>)</span>&#123;</span><br><span class="line">rest.get(base+<span class="string">'/api/attraction/'</span>+data.id).on(<span class="string">'success'</span>,</span><br><span class="line"><span class="function"><span class="keyword">function</span>(<span class="params">data</span>)</span>&#123;</span><br><span class="line">assert(data.name===attraction.name);</span><br><span class="line">assert(data.description===attraction.description);</span><br><span class="line">done();</span><br><span class="line">&#125;)</span><br><span class="line">&#125;)</span><br><span class="line">&#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<ol start="7">
<li>connect-rest æ¨¡å—ä¼šæ£€æŸ¥æ¯ä¸€ä¸ªè¯·æ±‚ï¼Œ å‘è¯·æ±‚å¯¹è±¡ä¸­æ·»åŠ å±æ€§ï¼Œ è¿˜ä¼šåšé¢å¤–çš„æ—¥å¿—è®°å½•ï¼ˆnpm install â€“save connect-rest  ï¼‰ï¼ˆvar rest = require(â€˜connect-restâ€™);  ï¼‰ï¼›    </li>
</ol>
<h2 id="ä¸­é—´ä»¶"><a href="#ä¸­é—´ä»¶" class="headerlink" title="ä¸­é—´ä»¶"></a>ä¸­é—´ä»¶</h2><ol>
<li><p>ä¸­é—´ä»¶æ˜¯ä¸€ç§åŠŸèƒ½çš„å°è£…æ–¹å¼ï¼Œå°è£…åœ¨ç¨‹åºä¸­å¤„ç† HTTP è¯·æ±‚çš„åŠŸèƒ½ ï¼›</p>
</li>
<li><p>å¦‚æœä¸è°ƒç”¨ next()ï¼Œ è¯·æ±‚å°±åœ¨é‚£ä¸ªä¸­é—´ä»¶ä¸­ç»ˆæ­¢äº†ï¼›</p>
</li>
<li><p>é‡ç‚¹çŸ¥è¯†ï¼š</p>
<ol>
<li>è·¯ç”±å¤„ç†å™¨ï¼ˆapp.getã€ app.post ç­‰ï¼Œ ç»å¸¸è¢«ç»Ÿç§°ä¸º app.VERBï¼‰ å¯ä»¥è¢«çœ‹ä½œåªå¤„ç†ç‰¹å®šHTTP è°“è¯ï¼ˆGETã€ POST ç­‰ï¼‰ çš„ä¸­é—´ä»¶ï¼›</li>
<li>è·¯ç”±å¤„ç†å™¨çš„ç¬¬ä¸€ä¸ªå‚æ•°å¿…é¡»æ˜¯è·¯å¾„ï¼Œå¦‚æœä½ æƒ³è®©æŸä¸ªè·¯ç”±åŒ¹é…æ‰€æœ‰è·¯å¾„ï¼Œ åªéœ€ç”¨ /*ï¼› </li>
<li>è·¯ç”±å¤„ç†å™¨å’Œä¸­é—´ä»¶çš„å‚æ•°ä¸­éƒ½æœ‰å›è°ƒå‡½æ•°ï¼Œ è¿™ä¸ªå‡½æ•°æœ‰ 2 ä¸ªã€ 3 ä¸ªæˆ– 4 ä¸ªå‚æ•°ï¼›   </li>
<li>å¦‚æœä¸è°ƒç”¨ next()ï¼Œ ç®¡é“å°±ä¼šè¢«ç»ˆæ­¢ï¼Œ ä¹Ÿä¸ä¼šå†æœ‰å¤„ç†å™¨æˆ–ä¸­é—´ä»¶åšåç»­å¤„ç†ï¼›</li>
<li>å¦‚æœè°ƒç”¨äº† next()ï¼Œ ä¸€èˆ¬ä¸å®œå†å‘é€å“åº”åˆ°å®¢æˆ·ç«¯ ï¼›  </li>
</ol>
</li>
<li><p>Connecté€šå¸¸æŠŠå®ƒå’Œ Express ä¸€èµ·å®‰è£…ï¼ˆnpm install â€“save connectï¼‰ï¼Œ å¹¶ä½¿å®ƒåœ¨ä½ çš„ç¨‹åºä¸­å¯ä»¥è®¿é—®åˆ°ï¼ˆvar connect = require(connect);ï¼‰</p>
</li>
</ol>
<ul>
<li>basicAuth ï¼ˆapp.use(connect.basicAuth)();ï¼‰  æä¾›åŸºæœ¬çš„è®¿é—®æˆæƒ  </li>
<li>body-parserï¼ˆnpm install â€“save body-parser, app.use(require(body- parser)());ï¼‰  åªè¿å…¥ json å’Œ urlencoded çš„ä¾¿åˆ©ä¸­é—´ä»¶  </li>
<li>jsonï¼ˆå‚è§body-parserï¼‰  è§£æ JSON ç¼–ç çš„è¯·æ±‚ä½“  </li>
<li>urlencodedï¼ˆå‚è§body-parserï¼‰  è§£æäº’è”ç½‘åª’ä½“ç±»å‹ä¸º application/x-www-form-urlencoded çš„è¯·æ±‚ä½“  </li>
<li><del>multipartï¼ˆå·²åºŸå¼ƒï¼‰  è§£æäº’è”ç½‘åª’ä½“ç±»å‹ä¸º multipart/form-data çš„è¯·æ±‚ä½“</del>  </li>
<li>compressï¼ˆapp.use(connect.compress);ï¼‰  ç”¨ gzip å‹ç¼©å“åº”æ•°æ®  </li>
<li>cookie-parserï¼ˆnpm install â€“save cookie-parser, app.use(require(cookie-parser)   æä¾›å¯¹ cookie çš„æ”¯æŒ  </li>
<li>cookie-sessionï¼ˆnpm install â€“save cookie-session, app.use(require(cookiesession)()); ï¼‰  æä¾› cookie å­˜å‚¨çš„ä¼šè¯æ”¯æŒ   </li>
<li>express-sessionï¼ˆnpm install â€“save express-session, app.use(require(expresssession)());ï¼‰  æä¾›ä¼šè¯ IDï¼ˆ å­˜åœ¨ cookie é‡Œï¼‰ çš„ä¼šè¯æ”¯æŒ  </li>
<li>csurfï¼ˆnpm install â€“save csurf, app.use(require(csurf)());ï¼‰   é˜²èŒƒè·¨åŸŸè¯·æ±‚ä¼ªé€ ï¼ˆCSRFï¼‰ æ”»å‡»  </li>
<li>directoryï¼ˆapp.use(connect.directory());ï¼‰  æä¾›é™æ€æ–‡ä»¶çš„ç›®å½•æ¸…å•æ”¯æŒ  </li>
<li>errorhandlerï¼ˆnpm install â€“save errorhandler, app.use(require(errorhandler)());ï¼‰   ä¸ºå®¢æˆ·ç«¯æä¾›æ ˆè¿½è¸ªå’Œé”™è¯¯æ¶ˆæ¯  </li>
<li>static-faviconï¼ˆnpm install â€“save static-favicon, app.use(require(staticfavicon)(path_to_favicon));ï¼‰   æä¾› faviconï¼ˆå‡ºç°åœ¨æµè§ˆå™¨æ ‡é¢˜æ ä¸Šçš„å›¾æ ‡ï¼‰  </li>
<li>morganï¼ˆä¹‹å‰çš„logger, npm install â€“save morgan, app.use(require(morgan)());ï¼‰   æä¾›è‡ªåŠ¨æ—¥å¿—è®°å½•æ”¯æŒï¼š æ‰€æœ‰è¯·æ±‚éƒ½ä¼šè¢«è®°å½•  </li>
<li>method-overrideï¼ˆnpm install â€“save method-override, app.use(require(methodoverride)());ï¼‰   æä¾›å¯¹ x-http-method-override è¯·æ±‚å¤´çš„æ”¯æŒï¼Œ å…è®¸æµè§ˆå™¨â€œå‡è£…â€ ä½¿ç”¨é™¤ GET å’Œ POSTä¹‹å¤–çš„ HTTP æ–¹æ³•  </li>
<li>query      è§£ææŸ¥è¯¢å­—ç¬¦ä¸²ï¼Œ å¹¶å°†å…¶å˜æˆè¯·æ±‚å¯¹è±¡ä¸Šçš„ query å±æ€§  </li>
<li>response-timeï¼ˆnpm install â€“save response-time, app.use(require(response-time)<br>());ï¼‰    å‘å“åº”ä¸­æ·»åŠ  X-Response-Time å¤´ï¼Œ æä¾›ä»¥æ¯«ç§’ä¸ºå•ä½çš„å“åº”æ—¶é—´  </li>
<li>staticï¼ˆapp.use(express.static(path_to_static_files)());ï¼‰  æä¾›å¯¹é™æ€ï¼ˆpublicï¼‰ æ–‡ä»¶çš„æ”¯æŒ  </li>
<li>vhostï¼ˆnpm install â€“save vhost, var vhost = require(vhost);ï¼‰    è™šæ‹Ÿä¸»æœºï¼ˆvhostï¼‰ï¼Œ è¿™ä¸ªæœ¯è¯­æ˜¯ä» Apache å€Ÿæ¥çš„ï¼Œ å®ƒå¯ä½¿å­åŸŸååœ¨ Express ä¸­æ›´å®¹æ˜“ç®¡ç†  </li>
</ul>
<ol start="5">
<li>ç”¨Node æ¨¡å— loadtest åšå‹åŠ›æµ‹è¯•ï¼ˆnpm install â€“save loadtest  ï¼‰ ï¼š</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// qa/tests-stress.js</span></span><br><span class="line"><span class="keyword">var</span> loadtest = <span class="built_in">require</span>(<span class="string">'loadtest'</span>);</span><br><span class="line"><span class="keyword">var</span> expect = <span class="built_in">require</span>(<span class="string">'chai'</span>).expect;</span><br><span class="line">suite(<span class="string">'Stress tests'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">test(<span class="string">'Homepage should handle 100 requests in a second'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">done</span>)</span>&#123;</span><br><span class="line"><span class="keyword">var</span> options = &#123;</span><br><span class="line">url: <span class="string">'http://localhost:3000'</span>,</span><br><span class="line">concurrency: <span class="number">4</span>,</span><br><span class="line">maxRequests: <span class="number">100</span></span><br><span class="line">&#125;;</span><br><span class="line">loadtest.loadTest(options, <span class="function"><span class="keyword">function</span>(<span class="params">err,result</span>)</span>&#123;</span><br><span class="line">expect(!err);</span><br><span class="line">expect(result.totalTimeSeconds &lt; <span class="number">1</span>);</span><br><span class="line">done();</span><br><span class="line">&#125;);</span><br><span class="line">&#125;);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<ol start="6">
<li>é‚®ç®±æ’ä»¶Nodemailerï¼ˆnpm install â€“save nodemailer  ï¼‰</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> nodemailer = <span class="built_in">require</span>(<span class="string">'nodemailer'</span>);</span><br><span class="line"><span class="keyword">var</span> mailTransport = nodemailer.createTransport(<span class="string">'SMTP'</span>,&#123;</span><br><span class="line">service: <span class="string">'Gmail'</span>,</span><br><span class="line">auth: &#123;</span><br><span class="line">user: credentials.gmail.user,</span><br><span class="line">pass: credentials.gmail.password,</span><br><span class="line">&#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// SMTP æœåŠ¡å™¨</span></span><br><span class="line"><span class="keyword">var</span> mailTransport = nodemailer.createTransport(<span class="string">'SMTP'</span>,&#123;</span><br><span class="line">host: <span class="string">'smtp.meadowlarktravel.com'</span>,</span><br><span class="line">secureConnection: <span class="literal">true</span>, <span class="comment">// ç”¨ SSL ç«¯å£ : 465</span></span><br><span class="line">auth: &#123;</span><br><span class="line">user: credentials.meadowlarkSmtp.user,</span><br><span class="line">pass: credentials.meadowlarkSmtp.password,</span><br><span class="line">&#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// å‘é€é‚®ä»¶</span></span><br><span class="line">mailTransport.sendMail(&#123;</span><br><span class="line"><span class="keyword">from</span>: <span class="string">'"Meadowlark Travel" &lt;info@meadowlarktravel.com&gt;'</span>,</span><br><span class="line">to: <span class="string">'joecustomer@gmail.com'</span>,</span><br><span class="line">subject: <span class="string">'Your Meadowlark Travel Tour'</span>,</span><br><span class="line">text: <span class="string">'Thank you for booking your trip with Meadowlark Travel.'</span>+</span><br><span class="line"><span class="string">'We look forward to your visit!'</span>,</span><br><span class="line">&#125;, <span class="function"><span class="keyword">function</span>(<span class="params">err</span>)</span>&#123;</span><br><span class="line"><span class="keyword">if</span>(err) <span class="built_in">console</span>.error( <span class="string">'Unable to send email: '</span> + error );</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<ol start="7">
<li>å°†é‚®ä»¶ä½œä¸ºç½‘ç«™ç›‘æµ‹å·¥å…· ï¼š</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span>(err)&#123;</span><br><span class="line">email.sendError(<span class="string">'the widget broke down!'</span>, __filename);</span><br><span class="line"><span class="comment">// â€¦â€¦ç»™ç”¨æˆ·æ˜¾ç¤ºé”™è¯¯æ¶ˆæ¯</span></span><br><span class="line">&#125; /</span><br><span class="line">/ æˆ–è€…</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line"><span class="comment">// åœ¨è¿™é‡Œåšäº›ä¸ç¡®å®šçš„äº‹æƒ…â€¦â€¦</span></span><br><span class="line">&#125; <span class="keyword">catch</span>(ex) &#123;</span><br><span class="line">email.sendError(<span class="string">'the widget broke down!'</span>, __filename, ex);</span><br><span class="line"><span class="comment">// â€¦â€¦ç»™ç”¨æˆ·æ˜¾ç¤ºé”™è¯¯æ¶ˆæ¯</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Cookieä¸ä¼šè¯"><a href="#Cookieä¸ä¼šè¯" class="headerlink" title="Cookieä¸ä¼šè¯"></a>Cookieä¸ä¼šè¯</h2><ol>
<li>Web å·¥ä½œçš„æ–¹å¼å°±æ˜¯åœ¨æ¯ä¸ª HTTP è¯·æ±‚ä¸­éƒ½è¦åŒ…å«æ‰€æœ‰å¿…è¦çš„ä¿¡æ¯ï¼Œ æœåŠ¡å™¨æ‰èƒ½æ»¡è¶³è¿™ä¸ªè¯·æ±‚ï¼›    </li>
<li>cookieçš„äº†è§£ï¼š</li>
</ol>
<ul>
<li>cookieå¯¹ç”¨æˆ·æ¥è¯´ä¸æ˜¯åŠ å¯†çš„  </li>
<li>ç”¨æˆ·å¯ä»¥åˆ é™¤æˆ–ç¦ç”¨cookie  </li>
<li>ä¸€èˆ¬çš„cookieå¯ä»¥è¢«ç¯¡æ”¹  </li>
<li>cookieå¯ä»¥ç”¨äºæ”»å‡»  </li>
<li>å¦‚æœä½ æ»¥ç”¨cookieï¼Œ ç”¨æˆ·ä¼šæ³¨æ„åˆ°  </li>
<li>å¦‚æœå¯ä»¥é€‰æ‹©ï¼Œ ä¼šè¯è¦ä¼˜äºcookie  </li>
</ul>
<ol start="3">
<li>åœ¨ç¨‹åºä¸­å¼€å§‹è®¾ç½®å’Œè®¿é—® cookie ä¹‹å‰ï¼Œ éœ€è¦å…ˆå¼•å…¥ä¸­é—´ä»¶ cookie-parser<ol>
<li>é¦–å…ˆ npm  install â€“save cookie-parserï¼š</li>
<li>å‡†å¤‡å†™å…¥æ–‡ä»¶å†…å®¹ï¼›</li>
<li>cookieï¼š</li>
</ol>
</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// æ–‡ä»¶credentials.js</span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">	cookieSecret: <span class="string">' æŠŠä½ çš„ cookie ç§˜é’¥æ”¾åœ¨è¿™é‡Œ '</span>,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> credentials = <span class="built_in">require</span>(<span class="string">'./credentials.js'</span>);</span><br><span class="line">app.use(<span class="built_in">require</span>(<span class="string">'cookie-parser'</span>)(credentials.cookieSecret));	</span><br><span class="line"></span><br><span class="line"><span class="comment">//cookie</span></span><br><span class="line">res.cookie(<span class="string">'monster'</span>, <span class="string">'nom nom'</span>);</span><br><span class="line">res.cookie(<span class="string">'signed_monster'</span>, <span class="string">'nom nom'</span>, &#123; <span class="attr">signed</span>: <span class="literal">true</span> &#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">//åˆ é™¤ cookie</span></span><br><span class="line">res.clearCookie(<span class="string">'monster'</span>);</span><br></pre></td></tr></table></figure>

<ol start="4">
<li>cookieé€‰é¡¹ï¼š</li>
</ol>
<ul>
<li>domainï¼šæ§åˆ¶è·Ÿ cookie å…³è”çš„åŸŸåï¼Œå¯ä»¥å°† cookie åˆ†é…ç»™ç‰¹å®šçš„å­åŸŸå  ï¼›</li>
<li>pathï¼šæ§åˆ¶åº”ç”¨è¿™ä¸ª cookie çš„è·¯å¾„ï¼›</li>
<li>maxAgeï¼šæŒ‡å®šå®¢æˆ·ç«¯åº”è¯¥ä¿å­˜ cookie å¤šé•¿æ—¶é—´ï¼Œ å•ä½æ˜¯æ¯«ç§’ ï¼› </li>
<li>secureï¼šæŒ‡å®šè¯¥ cookie åªé€šè¿‡å®‰å…¨ï¼ˆHTTPSï¼‰ è¿æ¥å‘é€ ï¼›  </li>
<li>httpOnly ï¼šå°†è¿™ä¸ªé€‰é¡¹è®¾ä¸º true è¡¨æ˜è¿™ä¸ª cookie åªèƒ½ç”±æœåŠ¡å™¨ä¿®æ”¹ ï¼›</li>
<li>signed ï¼šè®¾ä¸º true ä¼šå¯¹è¿™ä¸ª cookie ç­¾åï¼Œ è¿™æ ·å°±éœ€è¦ç”¨ res.signedCookies è€Œä¸æ˜¯ res.cookiesè®¿é—®å®ƒ  </li>
</ul>
<ol start="5">
<li>ä¼šè¯å®é™…ä¸Šåªæ˜¯æ›´æ–¹ä¾¿çš„çŠ¶æ€ç»´æŠ¤æ–¹æ³•ï¼Œè¦å®ç°ä¼šè¯ï¼Œ å¿…é¡»åœ¨å®¢æˆ·ç«¯å­˜äº›ä¸œè¥¿ ï¼Œé€šå¸¸çš„åšæ³•æ˜¯ç”¨ä¸€ä¸ªåŒ…å«å”¯ä¸€æ ‡è¯†çš„ cookieï¼Œ ç„¶åæœåŠ¡å™¨ç”¨è¿™ä¸ªæ ‡è¯†è·å–ç›¸åº”çš„ä¼šè¯ä¿¡æ¯ï¼›</li>
</ol>
<ul>
<li>å®‰ è£… express-sessionï¼ˆnpm install â€“save express-sessionï¼‰ï¼›</li>
<li>åœ¨ é“¾ å…¥cookie-parser ä¹‹åé“¾å…¥ express-session  ï¼š</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">app.use(<span class="built_in">require</span>(<span class="string">'cookie-parser'</span>)(credentials.cookieSecret));</span><br><span class="line">app.use(<span class="built_in">require</span>(<span class="string">'express-session'</span>)());</span><br></pre></td></tr></table></figure>

<ul>
<li>ä¸­é—´ä»¶ express-session æ¥å—å¸¦æœ‰å¦‚ä¸‹é€‰é¡¹çš„é…ç½®å¯¹è±¡ :<ul>
<li>key     å­˜æ”¾å”¯ä¸€ä¼šè¯æ ‡è¯†çš„ cookie åç§°  </li>
<li>store     ä¼šè¯å­˜å‚¨çš„å®ä¾‹  </li>
<li>cookie     ä¼šè¯ cookie çš„ cookie è®¾ç½®ï¼ˆpathã€ domainã€ secure ç­‰ï¼‰  </li>
</ul>
</li>
</ul>
<h2 id="è·¯ç”±"><a href="#è·¯ç”±" class="headerlink" title="è·¯ç”±"></a>è·¯ç”±</h2><ol>
<li>è·¯ç”±æ˜¯å°†è¯·æ±‚ï¼ˆç”± URL å’Œ HTTP æ–¹æ³•æŒ‡å®šï¼‰ è·¯ç”±åˆ°å¤„ç†å®ƒä»¬çš„ä»£ç å»çš„ä¸€ç§æœºåˆ¶ï¼›</li>
<li>å»ºè®®ï¼š</li>
</ol>
<ul>
<li>ç»ä¸åœ¨ URL ä¸­æš´éœ²æŠ€æœ¯ç»†èŠ‚  </li>
<li>é¿å…åœ¨ URL ä¸­å‡ºç°æ— æ„ä¹‰çš„ä¿¡æ¯  </li>
<li>é¿å…æ— è°“çš„é•¿ URL  </li>
<li>å•è¯åˆ†éš”ç¬¦è¦ä¿æŒä¸€è‡´  </li>
<li>ç»ä¸è¦ç”¨ç©ºæ ¼æˆ–ä¸å¯å½•å…¥çš„å­—ç¬¦  </li>
<li>åœ¨ URL ä¸­ç”¨å°å†™å­—æ¯  </li>
</ul>
<ol start="3">
<li>è·¯ç”±ä¸­æŒ‡å®šçš„è·¯å¾„ï¼ˆæ¯”å¦‚ /fooï¼‰ æœ€ç»ˆä¼šè¢« Express è½¬æ¢æˆä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼ï¼Œ æŸäº›æ­£åˆ™è¡¨è¾¾å¼ä¸­çš„å…ƒå­—ç¬¦å¯ä»¥ç”¨åœ¨è·¯ç”±è·¯å¾„ä¸­ï¼š +ã€ ?ã€ *ã€ ( å’Œ )  </li>
</ol>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> staff = &#123;</span><br><span class="line">portland: &#123;</span><br><span class="line">mitch: &#123; <span class="attr">bio</span>: <span class="string">'Mitch is the man to have at your back.'</span> &#125;,</span><br><span class="line">madeline: &#123; <span class="attr">bio</span>: <span class="string">'Madeline is our Oregon expert.'</span> &#125;,</span><br><span class="line">&#125;,</span><br><span class="line">bend: &#123;</span><br><span class="line">walt: &#123; <span class="attr">bio</span>: <span class="string">'Walt is our Oregon Coast expert.'</span> &#125;,</span><br><span class="line">&#125;,</span><br><span class="line">&#125;;</span><br><span class="line">app.get(<span class="string">'/staff/:city/:name'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">req, res</span>)</span>&#123;</span><br><span class="line"><span class="keyword">var</span> info = staff[req.params.city][req.params.name];</span><br><span class="line"><span class="keyword">if</span>(!info) <span class="keyword">return</span> next(); <span class="comment">// æœ€ç»ˆå°†ä¼šè½å…¥ 404</span></span><br><span class="line">res.render(<span class="string">'staffer'</span>, info);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<ol start="4">
<li>è·¯ç”±çš„æŒ‡å¯¼åŸåˆ™ :  </li>
</ol>
<ul>
<li>ç»™è·¯ç”±å¤„ç†å™¨ç”¨å‘½åå‡½æ•°  </li>
<li>è·¯ç”±ä¸åº”è¯¥ç¥ç§˜  </li>
<li>è·¯ç”±ç»„ç»‡åº”è¯¥æ˜¯å¯æ‰©å±•çš„  </li>
<li>ä¸è¦å¿½è§†è‡ªåŠ¨åŒ–çš„åŸºäºè§†å›¾çš„è·¯ç”±å¤„ç†å™¨  </li>
</ul>
<ol start="5">
<li>æœ€æµè¡Œçš„ä¸¤ç§è·¯ç”±ç»„ç»‡æ–¹å¼æ˜¯å‘½åç©ºé—´è·¯ç”±ï¼ˆnamespaced routingï¼‰ å’Œéšæœºåº”å˜è·¯ç”±ï¼ˆresourceful routingï¼‰;</li>
</ol>
<ul>
<li>éšæœºåº”å˜è·¯ç”±åŸºäºä¸€ä¸ªå¯¹è±¡ä¸­çš„æ–¹æ³•è‡ªåŠ¨æ·»åŠ è·¯ç”±ï¼Œexpress-resource åŒ…æ˜¯å¦‚ä½•å®ç°è¿™ç§è·¯ç”±ç»„ç»‡é£æ ¼çš„èŒƒä¾‹      </li>
</ul>
<h2 id="è°ƒè¯•"><a href="#è°ƒè¯•" class="headerlink" title="è°ƒè¯•"></a>è°ƒè¯•</h2><ol>
<li>Node æœ‰ä¸ªå†…ç½®çš„è°ƒè¯•å™¨ï¼Œå…è®¸ä½ é€æ­¥æ‰§è¡Œç¨‹åºï¼Œåªéœ€è¦åœ¨å¯åŠ¨ç¨‹åºæ—¶åŠ ä¸Š debug å‚æ•°å°±å¯ä»¥å¼€å§‹è°ƒè¯•äº†ï¼Œä¼šå¼€å¯è°ƒè¯•ç«¯å£ï¼›</li>
<li>nodeæ¢æŸ¥å™¨ï¼šnpm install -g node-inspector</li>
<li>åªéœ€è¦ç”¨ â€“debug-brk ä»£æ›¿ â€“debugï¼Œè°ƒè¯•å™¨ä¼šåœ¨ç¨‹åºçš„ç¬¬ä¸€è¡Œåœä½ï¼Œç„¶åä½ å°±å¯ä»¥å•æ­¥æ‰§è¡Œï¼Œæˆ–è€…è®¾ç½®åˆé€‚çš„æ–­ç‚¹ï¼›</li>
<li>è°ƒè¯•æ˜¯ä¸€ä¸ªé€æ¸ç§¯ç´¯çš„è¿‡ç¨‹ï¼Œä¹Ÿæ˜¯è¯„ä¼°ä½ æ˜¯ä¸æ˜¯ä¸ªä¼˜ç§€çš„ç¨‹åºå‘˜çš„é‡ç‚¹ä¹‹ä¸€ï¼Œä¸æ˜¯é‚£ç§äººè‚‰æ‰§è¡Œæœºå™¨ï¼Œé‚£ä½ è¿˜æ˜¯å¥½å¥½çš„è°ƒè¯•ä½ çš„ä»£ç ï¼</li>
</ol>
<h2 id="ç®¡ç†è‡ªå·±çš„npmåº“ï¼ˆç§åº“ï¼‰"><a href="#ç®¡ç†è‡ªå·±çš„npmåº“ï¼ˆç§åº“ï¼‰" class="headerlink" title="ç®¡ç†è‡ªå·±çš„npmåº“ï¼ˆç§åº“ï¼‰"></a>ç®¡ç†è‡ªå·±çš„npmåº“ï¼ˆç§åº“ï¼‰</h2><ol>
<li>å¯¹å…¬å…±åŒ…çš„è¯·æ±‚è½¬å‘åˆ°å…¬ä¼—åº“ï¼Œè€Œç§æœ‰åŒ…ä»å®ƒè‡ªå·±çš„æ•°æ®åº“ä¸­æä¾›ï¼š</li>
</ol>
<ol start="2">
<li><p>Sinopia çš„å®‰è£…æå…¶å®¹æ˜“ï¼Œé™¤äº†æ”¯æŒç§æœ‰åŒ…ï¼Œå®ƒè¿˜ä¸ºä½ çš„ç»„ç»‡æä¾›äº†ä¸€ä¸ªæ–¹ä¾¿çš„ç¼“å­˜ï¼›</p>
</li>
<li><p>npm çš„é…ç½®åªèƒ½æ”¯æŒä¸€ä¸ªå­˜å‚¨åº“ï¼Œä¸€æ—¦â€œåˆ‡æ¢åˆ°â€Sinopiaï¼ˆç”¨ npm set registry å’Œnpm adduserï¼‰ï¼Œåˆ‡æ¢å›npmå…¬åº“ä½¿ç”¨npm set registry <a href="https://registry.npmjs.org/" target="_blank" rel="noopener">https://registry.npmjs.org/</a> ï¼Œæˆ–è€…ç›´æ¥åˆ æ‰ ~/.npmjsï¼›</p>
</li>
</ol>
<h2 id="åˆ›å»ºä¸­é—´ä»¶"><a href="#åˆ›å»ºä¸­é—´ä»¶" class="headerlink" title="åˆ›å»ºä¸­é—´ä»¶"></a>åˆ›å»ºä¸­é—´ä»¶</h2><ol>
<li><p>ç¼–å†™ä¸­é—´ä»¶ä¸æ˜¯ä»€ä¹ˆå·¨å¤§çš„ã€å¯æ€•çš„ã€å¤æ‚çš„äº‹æƒ…ï¼›</p>
</li>
<li><p>æ„é€ æ¨¡å—çš„æ–¹å¼å¯ä»¥åˆ›å»ºç§æœ‰åŠŸèƒ½ï¼Œ è®©è°ƒç”¨è€…æ— æ³•è®¿é—®ï¼›</p>
</li>
<li><p>æ¨¡å—ç›´æ¥è¾“å‡ºä¸­é—´ä»¶å‡½æ•°ï¼š</p>
<ol>
<li>å¦‚æœä¸­é—´ä»¶ä¸éœ€è¦é…ç½®å¯¹è±¡ï¼Œç”¨è¿™ä¸ªæ–¹æ³•ï¼š</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = <span class="function"><span class="keyword">function</span> (<span class="params">req, res, next</span>)</span>&#123; </span><br><span class="line">  <span class="comment">// ä¸­é—´ä»¶åœ¨è¿™é‡Œâ€¦â€¦è®°å¾—è°ƒç”¨ next() æˆ– next('route') </span></span><br><span class="line">  <span class="comment">// é™¤éè¿™ä¸ªä¸­é—´ä»¶æ˜¯ç»ˆç‚¹ </span></span><br><span class="line">  next(); </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>ä½¿ç”¨è¿™ä¸ªä¸­é—´ä»¶ï¼š</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> stuff = <span class="built_in">require</span>(<span class="string">'meadowlark-stuff'</span>);</span><br><span class="line">app.use(stuff);</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ¨¡å—è¾“å‡ºè¿”å›ä¸­é—´ä»¶çš„å‡½æ•°:</p>
<ol>
<li>å¦‚æœä¸­é—´ä»¶éœ€è¦é…ç½®å¯¹è±¡æˆ–è€…å…¶ä»–ä¿¡æ¯ï¼Œç”¨è¿™ä¸ªæ–¹æ³•ï¼š</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = <span class="function"><span class="keyword">function</span> (<span class="params">config</span>)</span>&#123; </span><br><span class="line">  <span class="comment">// å¦‚æœæ²¡æœ‰ä¼ å…¥é…ç½®å¯¹è±¡ </span></span><br><span class="line">  <span class="comment">// ä¸€èˆ¬ä¼šåˆ›å»ºä¸€ä¸ªï¼š </span></span><br><span class="line">  <span class="keyword">if</span> (!config) config = &#123;&#125;;</span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params">req, res, next</span>)</span>&#123; </span><br><span class="line">    <span class="comment">// ä¸­é—´ä»¶åœ¨è¿™é‡Œâ€¦â€¦è®°å¾—è°ƒç”¨ next() æˆ– next('route')</span></span><br><span class="line">    <span class="comment">// é™¤éè¿™ä¸ªä¸­é—´ä»¶æ˜¯ç»ˆç‚¹ </span></span><br><span class="line">    next();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>ä½¿ç”¨è¿™ä¸ªä¸­é—´ä»¶ï¼š</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> stuff = <span class="built_in">require</span>(<span class="string">'meadowlark-stuff'</span>)(&#123; <span class="attr">option</span>: <span class="string">'my choice'</span> &#125;);</span><br><span class="line">app.use(stuff);</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ¨¡å—è¾“å‡ºåŒ…å«ä¸­é—´ä»¶çš„å¯¹è±¡:</p>
<ol>
<li>å¦‚æœè¦è¾“å‡ºå¤šä¸ªç›¸äº’å…³è”çš„ä¸­é—´ä»¶ï¼Œç”¨è¿™ä¸ªåŠæ³•ï¼š</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = <span class="function"><span class="keyword">function</span> (<span class="params">config</span>)</span>&#123; </span><br><span class="line">  <span class="comment">// å¦‚æœæ²¡æœ‰ä¼ å…¥é…ç½®å¯¹è±¡ </span></span><br><span class="line">  <span class="comment">// ä¸€èˆ¬ä¼šåˆ›å»ºä¸€ä¸ªï¼š </span></span><br><span class="line">  <span class="keyword">if</span> (!config) config = &#123;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> &#123;</span><br><span class="line">  m1: <span class="function"><span class="keyword">function</span> (<span class="params">req, res, next</span>)</span>&#123; </span><br><span class="line">    <span class="comment">// ä¸­é—´ä»¶åœ¨è¿™é‡Œâ€¦â€¦è®°å¾—è°ƒç”¨ next() æˆ– next('route')</span></span><br><span class="line">    <span class="comment">// é™¤éè¿™ä¸ªä¸­é—´ä»¶æ˜¯ç»ˆç‚¹</span></span><br><span class="line">    next(); &#125;, </span><br><span class="line">  m2: <span class="function"><span class="keyword">function</span> (<span class="params">req, res, next</span>)</span>&#123;</span><br><span class="line">		next(); &#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>ä½¿ç”¨è¿™ä¸ªä¸­é—´ä»¶ï¼š</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> stuff = <span class="built_in">require</span>(<span class="string">'meadowlark-stuff'</span>)(&#123; <span class="attr">option</span>: <span class="string">'my choice'</span> &#125;);</span><br><span class="line">app.use(stuff.m1); </span><br><span class="line">app.use(stuff.m2);</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ¨¡å—è¾“å‡ºå¯¹è±¡æ„é€ å™¨:</p>
<ol>
<li>å¦‚æœä¸­é—´ä»¶éå¸¸é€‚åˆç”¨é¢å‘å¯¹è±¡çš„æ–¹å¼å®ç°ï¼Œè¿™ä¸ªæ–¹æ³•å°±æ¯”è¾ƒå¥½ç”¨:</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="title">Stuff</span>(<span class="params">config</span>)</span>&#123; <span class="keyword">this</span> .config = config || &#123;&#125;;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Stuff.prototype.m1 = <span class="function"><span class="keyword">function</span> (<span class="params">req, res, next</span>)</span>&#123;</span><br><span class="line">  <span class="comment">// æ³¨æ„ï¼š'this' ä¸æ˜¯ä½ æƒ³è¦çš„å®ä¾‹ï¼›ä¸è¦ç”¨å®ƒ</span></span><br><span class="line">  next();</span><br><span class="line"></span><br><span class="line">&#125;; Stuff.prototype.m2 = <span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æˆ‘ä»¬ç”¨ Function.prototype.bind å°†è¿™ä¸ªå®ä¾‹</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å…³è”åˆ° 'this' å±æ€§ä¸Š</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> (<span class="function"><span class="keyword">function</span> (<span class="params">req, res, next</span>)</span>&#123;</span><br><span class="line">  <span class="comment">// ç°åœ¨ 'this' æ˜¯ Stuff å®ä¾‹äº† </span></span><br><span class="line">  next();</span><br><span class="line">&#125;).bind( <span class="keyword">this</span> ); );</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = Stuff;</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>ä½¿ç”¨è¿™ä¸ªä¸­é—´ä»¶ï¼š</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> Stuff = <span class="built_in">require</span>(<span class="string">'meadowlark-stuff'</span>); </span><br><span class="line"><span class="keyword">var</span> stuff = <span class="keyword">new</span> Stuff(&#123; <span class="attr">option</span>: <span class="string">'my choice'</span> &#125;);</span><br><span class="line">app.use(stuff.m1); </span><br><span class="line">app.use(stuff.m2());</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>å¯ä»¥ç›´æ¥åœ¨ä¸­é—´ä»¶ m1 ä¸­é“¾æ¥ï¼Œä½†æˆ‘ä»¬å¿…é¡»è°ƒç”¨ m2;</li>
</ol>
</li>
</ol>
<h2 id="XaaS"><a href="#XaaS" class="headerlink" title="XaaS"></a>XaaS</h2><ol>
<li>è½¯ä»¶å³æœåŠ¡ï¼ˆ SaaS ï¼‰ï¼šç”¨æ¥æè¿°æä¾›ç»™ä½ çš„è½¯ä»¶ï¼ˆç½‘ç«™ã€åº”ç”¨ï¼‰;</li>
<li>å¹³å°å³æœåŠ¡ï¼ˆ PaaS ï¼‰ï¼šæä¾›äº†æ‰€æœ‰çš„åŸºç¡€è®¾æ–½ï¼ˆæ“ä½œç³»ç»Ÿã€ç½‘ç»œï¼Œæ‰€æœ‰éƒ½å¼„å¥½äº†ï¼‰,åªéœ€è¦ç¼–å†™åº”ç”¨ç¨‹åºï¼›</li>
<li>æ¶æ„å³æœåŠ¡ï¼ˆ IaaS ï¼‰ï¼šåªæ˜¯æä¾›è™šæ‹Ÿæœºå’ŒåŸºæœ¬çš„ç½‘ç»œè¿æ¥ï¼Œéœ€è¦å®‰è£…å’Œç»´æŠ¤æ“ä½œç³»ç»Ÿã€æ•°æ®åº“å’Œç½‘ç»œç­–ç•¥ï¼›</li>
</ol>
<hr>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p><strong>ä¸šç•Œæœ‰ä¸€ç§å°† QAï¼ˆè´¨é‡ä¿è¯ï¼‰ å’Œå¼€å‘å²—ä½èåˆçš„è¶‹åŠ¿ï¼Œè®©å¼€å‘äººå‘˜è´Ÿè´£ QAã€‚ åœ¨è¿™ç§èŒƒå¼ä¸‹ï¼Œç”±æ“…é•¿ QA çš„è½¯ä»¶å·¥ç¨‹å¸ˆæ‹…ä»»å¼€å‘äººå‘˜çš„é¡¾é—®ï¼Œå¸®ä»–ä»¬å°† QA æ¤å…¥åˆ°å¼€å‘æµç¨‹ä¸­ï¼</strong></p>
]]></content>
      <categories>
        <category>Nodejs</category>
      </categories>
  </entry>
  <entry>
    <title>Nodejs Web</title>
    <url>/2020/04/27/Nodejs-Web/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>å¼€å‘ä¸€ä¸ªå¯ç»´æŠ¤çš„åº”ç”¨åˆ™éœ€è¦è§„åˆ’ï¼Œè¦çŸ¥é“æ€ä¹ˆæŠŠè„‘æµ·ä¸­è®¾æƒ³çš„åŠŸèƒ½ç»„ç»‡åœ¨ä¸€èµ·ï¼Œç”šè‡³è¿˜è¦è€ƒè™‘åˆ°ä¸ä¹…ä¹‹åå¯èƒ½ä¼šæ·»åŠ çš„åŠŸèƒ½!åç«¯æœåŠ¡é€šå¸¸éƒ½æœ‰ä¸“é—¨çš„æ¶æ„ï¼Œä¸“é—¨ç”¨äºè§„åˆ’ã€è®¾è®¡å’Œæ¦‚è§ˆè¿™äº›æœåŠ¡,å‰ç«¯å¼€å‘åŒæ ·éœ€è¦è§„åˆ’æ¶æ„ï¼Œåƒåç«¯å¼€å‘ä¸€æ ·å»è®¾è®¡åº”ç”¨!è®¾è®¡åº”ç”¨æ—¶å¦‚æœä¸è€ƒè™‘å¯ç»´æŠ¤æ€§ï¼Œéšç€åŠŸèƒ½çš„ä¸æ–­å¢åŠ ï¼Œåº”ç”¨å°±ä¼šåƒå å ä¹æ­å‡ºçš„ç§¯æœ¨å¡”ä¸€æ ·æ…¢æ…¢å€¾æ–œã€‚è¡¡é‡ä»£ç çš„è´¨é‡æ˜¯å‘ç¼–å†™ç»“æ„è‰¯å¥½çš„åº”ç”¨è¿ˆå‡ºçš„ç¬¬ä¸€æ­¥ã€‚<strong><em>æ¨èä¹¦ç±ï¼šã€Šå…¨ç«¯Webå¼€å‘ã€‹Â· [ç¾] Casimir Saternosè‘— ç‹ç¾¤é”‹ æœæ¬¢è¯‘ ã€ŠJavaScript Webåº”ç”¨å¼€å‘ã€‹Â· [é˜¿æ ¹å»·] Nicolas Bevacquaè‘— å®‰é“ è¯‘</em></strong></p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="è‡ªåŠ¨åŒ–æ„å»ºGrunt"><a href="#è‡ªåŠ¨åŒ–æ„å»ºGrunt" class="headerlink" title="è‡ªåŠ¨åŒ–æ„å»ºGrunt"></a>è‡ªåŠ¨åŒ–æ„å»ºGrunt</h2><ol>
<li><strong>Grunt</strong>æ˜¯ä¸€ç§å·¥å…·ï¼Œä½¿ç”¨å®ƒèƒ½è½»æ˜“å®ç°æ„å»ºè¿‡ç¨‹ï¼Œ<strong>lint</strong>ç¨‹åºæ˜¯æ£€æŸ¥ä»£ç è´¨é‡çš„å·¥å…·ï¼Œç‰¹åˆ«é€‚åˆç”¨æ¥æ£€æŸ¥ä½¿ç”¨è§£é‡Šå‹è¯­è¨€ç¼–å†™çš„ç¨‹åºï¼›</li>
<li>npm install -g jshint å®‰è£…jshintï¼Œå¦‚æœæƒ³ä½¿ç”¨JSHintæ£€æŸ¥ä»£ç ï¼Œå¯ä»¥ä½¿ç”¨cdå‘½ä»¤è¿›å…¥é¡¹ç›®çš„æ ¹ç›®å½•ï¼Œç„¶åè¾“å…¥jshint .åŠ ä¸Šâ€“exclude node_modulesé€‰é¡¹å¿½ç•¥é€šè¿‡npm installå®‰è£…çš„ç¬¬ä¸‰æ–¹ä»£ç ï¼›</li>
<li>å¯¹JavaScriptæ¥è¯´ï¼ŒGruntæ˜¯æœ€å—æ¬¢è¿çš„æ„å»ºå·¥å…·ä¹‹ä¸€ï¼›</li>
<li>Gruntæ˜¯ä¸€ä¸ªä»»åŠ¡è¿è¡Œç¨‹åºï¼Œèƒ½æ‰§è¡Œå‘½ä»¤ã€è¿è¡ŒJavaScriptä»£ç ï¼Œè¿˜èƒ½ä½¿ç”¨å®Œå…¨ç”±JavaScriptç¼–å†™çš„ä»£ç é…ç½®å„ä¸ªä»»åŠ¡ã€‚</li>
<li>å®‰è£…gruntçš„cliï¼šnpm install -g grunt-cliï¼›</li>
</ol>
<h2 id="åŸºç¡€çŸ¥è¯†"><a href="#åŸºç¡€çŸ¥è¯†" class="headerlink" title="åŸºç¡€çŸ¥è¯†"></a>åŸºç¡€çŸ¥è¯†</h2><ol>
<li>ç§»åŠ¨åº”ç”¨çš„è¡Œä¸ºåŠ¨ä½œä¸æ™®é€šç½‘ç«™ç›¸åŒï¼Œåªä¸è¿‡åŸç”Ÿåº”ç”¨å–ä»£äº†æµè§ˆå™¨;</li>
<li>HTML æ˜¯ä¸€ç»„ç”¨æ¥æè¿°å†…å®¹ç»“æ„å’Œæ ¼å¼çš„æ ‡è®°,HTML æ ‡ç­¾ç”±ä¸€å¯¹å°–æ‹¬å·ä»¥åŠæ‹¬å·å†…çš„æ ‡ç­¾åç»„æˆ;</li>
<li>HTMLå±æ€§:<ol>
<li>classï¼šå®šä¹‰äº†ä¸€ä¸ªç±»ï¼Œä»¥ä¾¿äºä½¿ç”¨ CSS ç»™å…ƒç´ æ·»åŠ æ ·å¼æˆ–è€…è¿›è¡Œ DOM æ“ä½œ</li>
<li>idï¼šå®šä¹‰äº†å…ƒç´ çš„ IDï¼Œä½œç”¨æœ‰ç‚¹åƒ classï¼Œä½†æ˜¯å¿…é¡»æ˜¯å”¯ä¸€çš„</li>
<li>style ï¼šå®šä¹‰äº†ä¸€ä¸ªå…ƒç´ çš„å†…è” CSS</li>
<li>title ï¼šä¸ºå…ƒç´ æŒ‡å®šäº†ä¸€äº›é¢å¤–ä¿¡æ¯ï¼Œåœ¨å¤§å¤šæ•°æµè§ˆå™¨é‡Œè¿™äº›ä¿¡æ¯å‡æ˜¯ä»¥å°æç¤ºæ¡çš„å½¢å¼å‘ˆç°çš„</li>
<li>data-name ï¼šå¯ä»¥ç”¨æ¥åœ¨ DOM ä¸­å­˜å‚¨ä¸€äº›å…ƒæ•°æ®</li>
<li>onclick ï¼šåœ¨ç‚¹å‡»äº‹ä»¶å‘ç”Ÿæ—¶ï¼Œå†…è”çš„ JavaScript ä»£ç å°†è¿è¡Œ</li>
<li>onmouseoverï¼šç”±é¼ æ ‡æ‚¬åœäº‹ä»¶è§¦å‘ï¼Œå†…è”çš„ JavaScript ä»£ç å°†è¿è¡Œ</li>
<li>onfocusï¼šå½“æµè§ˆå™¨çš„ç„¦ç‚¹èšé›†åœ¨æŸä¸ªå…ƒç´ ä¸Šæ—¶è§¦å‘</li>
<li>onblurï¼šå½“æµè§ˆå™¨çš„ç„¦ç‚¹ç¦»å¼€ä¸€ä¸ªå…ƒç´ æ—¶è§¦å‘</li>
<li>onkeydownï¼šç”¨æˆ·æŒ‰ä¸‹é”®ç›˜ä¸Šçš„é”®æ—¶è§¦å‘</li>
<li>ondblclickï¼šç”¨æˆ·åŒå‡»é¼ æ ‡æ—¶è§¦å‘</li>
<li>onmousedownï¼šç”¨æˆ·æŒ‰ä¸‹é¼ æ ‡æ—¶è§¦å‘</li>
<li>onmouseupï¼šç”¨æˆ·é‡Šæ”¾é¼ æ ‡æ—¶è§¦å‘</li>
<li>onmouseoutï¼šç”¨æˆ·å°†é¼ æ ‡ç§»å¼€å…ƒç´ åŒºåŸŸæ—¶è§¦å‘</li>
<li>oncontextmenuï¼šç”¨æˆ·ç‚¹å‡»é¼ æ ‡å³é”®æ—¶è§¦å‘</li>
</ol>
</li>
<li>CSS æ˜¯ä¸€ç§æ§åˆ¶å†…å®¹å‘ˆç°å’Œæ ¼å¼çš„æ–¹å¼ï¼ŒHTML æ–‡æ¡£å¯ä»¥é€šè¿‡ä¸€ä¸ª link æ ‡ç­¾å¼•å…¥å¤–éƒ¨çš„CSS æ–‡ä»¶ï¼Œä¹Ÿå¯ä»¥ç›´æ¥é€šè¿‡ style æ ‡ç­¾å†…è” CSS ä»£ç ï¼›</li>
<li>æŠŠ JS ä»£ç æ”¾è¿› HTML æ–‡æ¡£çš„ script æ ‡ç­¾é‡Œæ˜¯ä½¿ç”¨ JavaScript çš„æœ€ç®€å•æ–¹å¼ï¼›</li>
<li>ç»“å¯¹ç¼–ç¨‹æ˜¯ä¸¤ä¸ªå¼€å‘è€…åœ¨åŒä¸€ä¸ªç¯å¢ƒé‡Œä¸€èµ·å·¥ä½œçš„æŠ€æœ¯ï¼›</li>
<li>ECMAScript 5ä¸­çš„ä¸¥æ ¼æ¨¡å¼ï¼ˆstrict modeï¼‰èƒ½å¤Ÿäº§ç”Ÿæ›´æ¸…æ™°çš„ä»£ç ï¼Œè¯¥æ¨¡å¼å‡å°‘äº†ä¸€äº›ä¸å®‰å…¨çš„ç‰¹æ€§ï¼Œå¢åŠ äº†æ›´å¤šçš„è­¦å‘Šä¿¡æ¯ï¼Œä»£ç è¡Œä¸ºä¹Ÿæ›´ç¬¦åˆé€»è¾‘ï¼›</li>
<li>åªæœ‰å½“ API æ»¡è¶³ç›¸åº”ç¨‹åº¦çš„çº¦æŸæ—¶æ‰å¯ç§°ä¸º RESTå¼ã€‚ REST å°†å®¢æˆ·ç«¯ - æœåŠ¡å™¨ç«¯æ¶æ„ã€åŠ¨è¯çš„ä½¿ç”¨å’Œ URL çš„å‘½åè§„èŒƒä¹Ÿä½œä¸ºå…¶çº¦æŸï¼›</li>
<li>Ajax æ˜¯â€œasynchronous JavaScript and XMLâ€çš„ç¼©å†™ï¼Œ ä½†æ˜¯å¯¹å„ç§ Web é¡µé¢å’ŒæœåŠ¡å™¨è¿›è¡Œé€šä¿¡çš„æŠ€æœ¯ä¹Ÿéƒ½é€‚ç”¨ï¼›</li>
</ol>
<h2 id="LESS"><a href="#LESS" class="headerlink" title="LESS"></a>LESS</h2><ol>
<li>LESS æ˜¯åŠ¨æ€æ ·å¼è¯­è¨€ï¼Œæµè§ˆå™¨å¹¶ä¸ä¼šç›´æ¥è§£æ LESS è¯­æ³•ï¼ŒLESS æºä»£ç å¿…é¡»ç¼–è¯‘æˆ CSS ä»£ç ï¼š<ol>
<li>åœ¨æµè§ˆå™¨é‡Œä½¿ç”¨ LESS JavaScript library</li>
<li>åœ¨æœåŠ¡å™¨ç«¯ä½¿ç”¨ç‰¹å®šçš„åº“</li>
<li>åœ¨ä½ è‡ªå·±çš„ç”µè„‘ä¸Šä½¿ç”¨è¯¸å¦‚ LESS Appã€SimpLESSæˆ–è€…ç±»ä¼¼çš„åº”ç”¨</li>
</ol>
</li>
<li>LESSæœ‰è‡ªå·±çš„è¯­æ³•è§„åˆ™ï¼›</li>
</ol>
<h2 id="JavaScripté«˜çº§ç‰¹æ€§"><a href="#JavaScripté«˜çº§ç‰¹æ€§" class="headerlink" title="JavaScripté«˜çº§ç‰¹æ€§"></a>JavaScripté«˜çº§ç‰¹æ€§</h2><ol>
<li>å‡½æ•°ï¼š<ol>
<li>é€šè¿‡å­—é¢å½¢å¼åˆ›å»º</li>
<li>å¯ä»¥èµ‹å€¼ç»™å˜é‡ã€æ•°ç»„å…ƒç´ ä»¥åŠå…¶ä»–å¯¹è±¡çš„å±æ€§</li>
<li>å¯ä»¥ä½œä¸ºå‡½æ•°å‚æ•°ä¼ é€’</li>
<li>å¯ä»¥ä½œä¸ºå‡½æ•°å€¼è¿”å›</li>
<li>å¯ä»¥æ‹¥æœ‰èƒ½åŠ¨æ€åˆ›å»ºå’Œèµ‹å€¼çš„å±æ€§</li>
</ol>
</li>
<li>JavaScriptå‡½æ•°å¯ä»¥ä½¿ç”¨å‡½æ•°çš„å­—é¢å½¢å¼æ¥å£°æ˜ï¼Œç”±å››éƒ¨åˆ†ç»„æˆï¼š</li>
</ol>
<ul>
<li>functionå…³é”®å­—</li>
<li>å¯é€‰çš„å‡½æ•°åç§°ï¼Œå¦‚æœæŒ‡å®šçš„è¯ï¼Œè¿™ä¸ªåç§°å¿…é¡»æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„JavaScriptæ ‡è¯†ç¬¦</li>
<li>æ”¾åœ¨æ‹¬å·ä¸­çš„å‚æ•°ååˆ—è¡¨ã€‚å°±ç®—æ²¡æœ‰å‚æ•°ï¼Œä¹Ÿå¾—ç»™å‡ºä¸€ä¸ªç©ºæ‹¬å·</li>
<li>å‡½æ•°ä½“æ˜¯åŒ…å«åœ¨å¤§æ‹¬å·ä¸­çš„ä¸€ç³»åˆ—JavaScriptè¯­å¥</li>
</ul>
<ol start="3">
<li>å¯ä»¥åˆ©ç”¨å‡½æ•°è¡¨è¾¾å¼ï¼ˆfunction expressionï¼‰æ¥å£°æ˜å‡½æ•°ï¼Œ<strong>åœ¨JavaScriptä¸­ï¼Œå‡½æ•°å¯ä»¥èµ‹ç»™å˜é‡ï¼Œå˜é‡è¢«è§†ä¸ºæ•°æ®ï¼›</strong></li>
<li>åœ¨JavaScriptä¸­ï¼Œä½œç”¨åŸŸæŒ‡çš„æ˜¯ä»£ç å½“å‰çš„ä¸Šä¸‹æ–‡ï¼Œä¸€ä¸ªå˜é‡çš„ä½œç”¨åŸŸå°±æ˜¯è¯¥å˜é‡æ‰€åœ¨çš„ä¸Šä¸‹æ–‡ï¼›</li>
<li>åœ¨JavaScriptä¸­ï¼Œå£°æ˜çš„æ‰€æœ‰å˜é‡é»˜è®¤éƒ½æ˜¯å®šä¹‰åœ¨å…¨å±€ä½œç”¨åŸŸä¸­ï¼Œä¼šé€ æˆå¹²æ‰°å¹¶æœ‰å¯èƒ½å¯¼è‡´ç¨‹åºè¿è¡Œå¤±è´¥ï¼Œè¢«ç§°ä¸ºå‘½åç©ºé—´å†²çªï¼ˆnamespace clashï¼‰ï¼›</li>
<li>åœ¨å‡½æ•°ä¸­å£°æ˜çš„å˜é‡æ˜¯å±€éƒ¨å˜é‡ï¼Œåªèƒ½å¤Ÿåœ¨è¯¥å‡½æ•°ä¸­æˆ–æ˜¯ç”±è¯¥å‡½æ•°ä¸­çš„å‡½æ•°æ¥è®¿é—®ï¼›</li>
<li><strong>(function foo(){ /* ä»£ç  */ })();</strong>è¿™ç§æ¨¡å¼å¾ˆå¸¸è§ï¼Œå«ä½œ<strong>IIFEï¼ˆImmediately Invoked Function Expressionï¼Œç«‹å³è°ƒç”¨çš„å‡½æ•°è¡¨è¾¾å¼ï¼‰ï¼›</strong></li>
<li>é—­åŒ…æ˜¯åœ¨å‡½æ•°å£°æ˜æ—¶æ‰€åˆ›å»ºçš„ä½œç”¨åŸŸï¼Œå®ƒä½¿å¾—å‡½æ•°èƒ½å¤Ÿè®¿é—®å¹¶å¤„ç†å‡½æ•°çš„å¤–éƒ¨å˜é‡ã€‚æ¢å¥è¯è¯´ï¼Œé—­åŒ…å¯ä»¥è®©å‡½æ•°è®¿é—®åˆ°åœ¨å‡½æ•°å£°æ˜æ—¶å¤„äºä½œç”¨åŸŸä¸­çš„æ‰€æœ‰å˜é‡ä»¥åŠå…¶ä»–å‡½æ•°ï¼›</li>
<li>mapæ˜¯ä¸€ä¸ªç®€å•çš„é”®å€¼æ˜ å°„ï¼Œå¯ä»¥ä¾æ®å…ƒç´ çš„æ’å…¥é¡ºåºè¿›è¡Œè¿­ä»£ï¼›</li>
<li>setæ˜¯å€¼çš„é›†åˆï¼Œå¯ä»¥ä¾æ®å…¶æ’å…¥é¡ºåºè¿›è¡Œè¿­ä»£ï¼›</li>
<li>æ ¸å¿ƒ JavaScript è¯­è¨€éœ€è¦ç»“åˆä¸¤ä¸ªä¸åŒçš„ API æ¥ç†è§£ï¼š æµè§ˆå™¨å¯¹è±¡æ¨¡å‹ ï¼ˆBOMï¼‰å’Œæ–‡æ¡£å¯¹è±¡æ¨¡å‹ ï¼ˆDOMï¼‰ï¼š<ol>
<li>æµè§ˆå™¨å¯¹è±¡æ¨¡å‹åŒ…å« window å¯¹è±¡åŠå…¶å­å¯¹è±¡ï¼š navigator ã€ history ã€screen ã€ location å’Œ document ï¼›</li>
<li>document å¯¹è±¡æ˜¯æ–‡æ¡£å¯¹è±¡æ¨¡å‹çš„æ ¹èŠ‚ç‚¹ï¼Œæ˜¯é¡µé¢å†…å®¹ç»“æ„çš„ä¸€ä¸ªæ ‘çŠ¶è¡¨ç¤ºã€‚</li>
</ol>
</li>
<li><strong>ä¸€ä¸ªå‡½æ•°è¿”å›ä¸€ä¸ªå†…éƒ¨å‡½æ•°æ—¶ï¼Œå°±å½¢æˆäº† é—­åŒ… ã€‚è¿”å›çš„å¯¹è±¡æ—¢åŒ…å«äº†å‡½æ•°æœ¬èº«ï¼Œä¹ŸåŒ…å«åˆ›å»ºå‡½æ•°æ—¶çš„ç¯å¢ƒï¼›</strong></li>
<li>å¯ä»¥åœ¨å‡½æ•°ä¸­å®šä¹‰å…¶ä»–å‡½æ•°ï¼Œå†…éƒ¨çš„å‡½æ•°å¯ä»¥è®¿é—®å¤–éƒ¨å‡½æ•°çš„å˜é‡ï¼›</li>
<li><strong>ç«‹å³æ‰§è¡Œå‡½æ•° ï¼ˆimmediate functionï¼‰å°†ä»£ç é™å®šåœ¨å‡½æ•°çš„å±€éƒ¨ä½œç”¨åŸŸå†…ï¼Œé¿å…äº†æ±¡æŸ“å…¨å±€ä½œç”¨åŸŸï¼›</strong></li>
</ol>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">outer</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	<span class="keyword">var</span> val=<span class="string">"I'm in outer space"</span>;</span><br><span class="line">	<span class="function"><span class="keyword">function</span> <span class="title">inner</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">		<span class="keyword">return</span> val;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> inner;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> alien=outer();</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> alien);</span><br><span class="line"><span class="built_in">console</span>.log(alien());</span><br><span class="line"></span><br><span class="line">( <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;<span class="built_in">console</span>.log(<span class="string">'in an immediate function'</span>)&#125;());</span><br></pre></td></tr></table></figure>

<ol start="15">
<li><p>è°ƒç”¨å‡½æ•°çš„æ–¹æ³•ï¼š</p>
<ol>
<li>å‡½æ•°      åœ¨éä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œ thisæŒ‡å…¨å±€ä¸Šä¸‹æ–‡ï¼›åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œè¿”å› undefined æˆ–è€…åœ¨æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­å¾—åˆ°çš„å€¼</li>
<li>æ–¹æ³•     è°ƒç”¨å’Œå¯¹è±¡å…³è”çš„å‡½æ•°</li>
<li>æ„é€ å‡½æ•°    è°ƒç”¨æ„é€ å‡½æ•°ä¼šåˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡</li>
<li>ä½¿ç”¨ call() æˆ– apply()    å…è®¸åœ¨è°ƒç”¨ä¸€ä¸ªå‡½æ•°æ—¶ï¼Œæ˜¾å¼æŒ‡å®šä¸Šä¸‹æ–‡</li>
</ol>
</li>
<li><p>æœ‰ä¸€ä¸ªç‰¹æ®Šçš„å˜é‡ arguments ï¼Œå®ƒä¿å­˜äº†æ‰€æœ‰ä¼ å…¥å‡½æ•°çš„å‚æ•°ï¼Œä¸ç®¡æ˜¯æœ‰åçš„è¿˜æ˜¯æ²¡åçš„ï¼Œå‡½æ•°é€šè¿‡ç­¾åä¸­å£°æ˜çš„å‘½åå‚æ•°æ¥æ”¶å‚æ•°ï¼š</p>
</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params"></span>)</span>&#123; </span><br><span class="line">	<span class="keyword">var</span> sum=<span class="number">0</span>; </span><br><span class="line">	<span class="comment">//console.log(arguments);</span></span><br><span class="line">	<span class="keyword">for</span> (i=<span class="number">0</span>; i&lt; <span class="built_in">arguments</span>.length; i++)&#123; </span><br><span class="line">		sum+=<span class="built_in">arguments</span>[i];  </span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> sum; </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(add(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>));</span><br><span class="line"><span class="built_in">console</span>.log(add.apply( <span class="literal">null</span> , [<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]));</span><br><span class="line"><span class="built_in">console</span>.log(add.call( <span class="literal">null</span> ,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>));</span><br></pre></td></tr></table></figure>

<ol start="17">
<li>æ³¨æ„ä¸Šé¢çš„å¦‚æœæœ‰ä¸€ä¸ªå¸¦æœ‰å‚æ•°ï¼Œé‚£ä¹ˆé»˜è®¤ä½¿ç”¨å¸¦æœ‰å‚æ•°çš„å‡½æ•°ï¼Œç„¶åï¼Œé»˜è®¤å‚æ•°å¯ä»¥æ·»åŠ é»˜è®¤å€¼ï¼›</li>
<li>å¦‚æœåœ¨å…¨å±€ä½œç”¨åŸŸï¼Œå…³é”®å­— var å¹¶ä¸æ˜¯å¿…éœ€çš„ï¼Œå»æ‰å®ƒç¨‹åºè¡Œä¸ºæ²¡æœ‰ä»»ä½•ä¸åŒï¼Œå¦‚æœæ˜¯åœ¨ä¸€ä¸ªå‡½æ•°é‡Œè°ƒç”¨ï¼Œ var ä¼šåˆ›å»ºä¸€ä¸ªå±€éƒ¨å˜é‡ï¼›</li>
<li>javascriptå…è®¸ä½¿ç”¨prototypeè¿›è¡Œç»§æ‰¿æ“ä½œï¼Œå…·ä½“æ“ä½œçœ‹ä¸‹é¢çš„ä»£ç å°±å¯ä»¥ç†è§£äº†ï¼š</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">//Catç»§æ‰¿è‡ªAnimal</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Animal</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(<span class="string">'call animal constructor'</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Animal.prototype.constructor=Animal;</span><br><span class="line">Animal.prototype.speak=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="string">'Animal is speaking!'</span>;</span><br><span class="line">&#125;;</span><br><span class="line">Animal.prototype.run=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="string">'animal is running'</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Cat</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(<span class="string">'call cat constructor'</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// å¾ˆå…³é”®çš„åœ°æ–¹</span></span><br><span class="line">Cat.prototype=<span class="keyword">new</span> Animal();</span><br><span class="line">Cat.prototype.speak=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="string">'cat is speaking'</span>;</span><br><span class="line">&#125;;</span><br><span class="line">Cat.prototype.constructor=Cat;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> cat=<span class="keyword">new</span> Cat();</span><br><span class="line"><span class="built_in">console</span>.log(cat.speak);</span><br><span class="line"><span class="built_in">console</span>.log(cat.run());</span><br></pre></td></tr></table></figure>

<ol start="20">
<li>å¯ä»¥å®‰è£…doccoæ¥ä¸ºjavascriptäº§ç”Ÿæ–‡æ¡£ï¼ˆnpm install -g doccoï¼‰ï¼Œç„¶åè¿è¡Œdocco *.jså³å¯ç”Ÿæˆå¯¹åº”çš„htmlæ–‡ä»¶ï¼Œå¯¹äºä»£ç ç‰¹åˆ«æœ‰ç”¨ï¼›</li>
</ol>
<h2 id="å®¢æˆ·ç«¯æ¡†æ¶"><a href="#å®¢æˆ·ç«¯æ¡†æ¶" class="headerlink" title="å®¢æˆ·ç«¯æ¡†æ¶"></a>å®¢æˆ·ç«¯æ¡†æ¶</h2><ol>
<li>æµè§ˆå™¨å…¼å®¹æ€§ï¼š</li>
</ol>
<table>
<thead>
<tr>
<th>åº“</th>
<th>åŠŸèƒ½</th>
</tr>
</thead>
<tbody><tr>
<td>jQuery</td>
<td>DOMéå†å’Œæ“ä½œ</td>
</tr>
<tr>
<td>Modernizr</td>
<td>æµè§ˆå™¨ç‰¹å¾æ£€æµ‹</td>
</tr>
<tr>
<td>Underscore</td>
<td>åŒ…æ‹¬äº†å¯¹è±¡å’Œæ•°ç»„æ“ä½œçš„å·¥å…·å‡½æ•°</td>
</tr>
</tbody></table>
<ol start="2">
<li><p>MVCå˜ä½“ï¼šæ¨¡å‹ - è§†å›¾ã€è¡¨ç°å™¨ï¼ˆModel-View Presenterï¼ŒMVPï¼‰ã€æ¨¡å‹è§†å›¾ã€è§†å›¾æ¨¡å‹ï¼ˆModel-View View Modelï¼ŒMVVMï¼‰ç­‰ï¼›</p>
</li>
<li><p><strong>Githubä»“åº“æœ‰åçš„ä»£ç ï¼š</strong></p>
<ol>
<li>å“åº”å¼è®¾è®¡èµ„æºï¼š</li>
</ol>
<ul>
<li>Modernizrï¼ˆ<a href="https://github.com/Modernizr/Modernizrï¼‰" target="_blank" rel="noopener">https://github.com/Modernizr/Modernizrï¼‰</a></li>
<li>Normalize CSSï¼ˆ<a href="https://github.com/necolas/normalize.cssï¼‰" target="_blank" rel="noopener">https://github.com/necolas/normalize.cssï¼‰</a></li>
</ul>
<ol start="2">
<li>èµ·å§‹é¡¹ç›®ï¼š</li>
</ol>
<ul>
<li>Bootstrapï¼ˆ<a href="https://github.com/twbs/bootstrapï¼‰" target="_blank" rel="noopener">https://github.com/twbs/bootstrapï¼‰</a></li>
<li>HTML5 Boilerplateï¼ˆ<a href="https://github.com/h5bp/html5-boilerplateï¼‰" target="_blank" rel="noopener">https://github.com/h5bp/html5-boilerplateï¼‰</a></li>
</ul>
<ol start="3">
<li>JavaScript åº“ï¼š</li>
</ol>
<ul>
<li>jQueryï¼ˆ<a href="https://github.com/jquery/jqueryï¼‰" target="_blank" rel="noopener">https://github.com/jquery/jqueryï¼‰</a></li>
<li>Backboneï¼ˆ<a href="https://github.com/documentcloud/backboneï¼‰" target="_blank" rel="noopener">https://github.com/documentcloud/backboneï¼‰</a></li>
<li>Foundationï¼ˆ<a href="https://github.com/zurb/foundationï¼‰" target="_blank" rel="noopener">https://github.com/zurb/foundationï¼‰</a></li>
<li>Angularï¼ˆ<a href="https://github.com/angular/angular.jsï¼‰" target="_blank" rel="noopener">https://github.com/angular/angular.jsï¼‰</a></li>
<li>Underscoreï¼ˆ<a href="https://github.com/jashkenas/underscoreï¼‰" target="_blank" rel="noopener">https://github.com/jashkenas/underscoreï¼‰</a></li>
<li>Emberï¼ˆ<a href="https://github.com/emberjs/ember.jsï¼‰" target="_blank" rel="noopener">https://github.com/emberjs/ember.jsï¼‰</a></li>
<li>jQuery UIï¼ˆ<a href="https://github.com/jquery/jquery-uiï¼‰" target="_blank" rel="noopener">https://github.com/jquery/jquery-uiï¼‰</a></li>
<li>Knockoutï¼ˆ<a href="https://github.com/knockout/knockoutï¼‰" target="_blank" rel="noopener">https://github.com/knockout/knockoutï¼‰</a></li>
</ul>
</li>
</ol>
<h2 id="HTTP-1-1-è¯·æ±‚æ–¹æ³•"><a href="#HTTP-1-1-è¯·æ±‚æ–¹æ³•" class="headerlink" title="HTTP 1.1 è¯·æ±‚æ–¹æ³•"></a>HTTP 1.1 è¯·æ±‚æ–¹æ³•</h2><table>
<thead>
<tr>
<th>HTTPåŠ¨è¯</th>
<th>å¯¹èµ„æºé‡‡å–çš„åŠ¨ä½œ</th>
<th>RESTåŠ¨ä½œ</th>
</tr>
</thead>
<tbody><tr>
<td>GET</td>
<td>æ£€ç´¢</td>
<td>ç±»ä¼¼ SQL SELECT</td>
</tr>
<tr>
<td>HEAD</td>
<td>ä¸å¸¦å“åº”ä½“çš„æ£€ç´¢</td>
<td>ç±»ä¼¼ SQL SELECT 1</td>
</tr>
<tr>
<td>POST</td>
<td>åˆ›å»ºæˆ–è€…è¿½åŠ </td>
<td>ç±»ä¼¼ SQL INSERT</td>
</tr>
<tr>
<td>PUT</td>
<td>æ›´æ–°æˆ–è€…åˆ›å»ºå®Œæ•´èµ„æº</td>
<td>ç±»ä¼¼ SQL UPDATE ï¼ˆæˆ–ä¸å­˜åœ¨æ—¶çš„ INSERT ï¼‰</td>
</tr>
<tr>
<td>PATCH</td>
<td>éƒ¨åˆ†æ›´æ–°</td>
<td>ç±»ä¼¼ SQL UPDATEï¼ˆéƒ¨åˆ†èµ„æºï¼‰</td>
</tr>
<tr>
<td>DELETE</td>
<td>åˆ é™¤</td>
<td>ç±»ä¼¼ SQL DELETE</td>
</tr>
<tr>
<td>TRACE</td>
<td>Echoè¯·æ±‚</td>
<td>ç¡®å®šä¸­é—´æœåŠ¡å™¨ä¿®æ”¹çš„è¯Šæ–­</td>
</tr>
<tr>
<td>OPTION</td>
<td>è¿”å›æ”¯æŒçš„æ–¹æ³•</td>
<td>ç¡®å®šèµ„æºå…è®¸çš„ HTTP æ–¹æ³•</td>
</tr>
<tr>
<td>CONNECT</td>
<td>æ”¯æŒHTTPéš§é“</td>
<td>æ”¯æŒHTTPéš§é“æŠ€æœ¯</td>
</tr>
</tbody></table>
<h2 id="HTTP-1-1-å“åº”ç "><a href="#HTTP-1-1-å“åº”ç " class="headerlink" title="HTTP 1.1 å“åº”ç "></a>HTTP 1.1 å“åº”ç </h2><ol>
<li>ä¿¡æ¯ç±»çŠ¶æ€ç 1xxï¼š</li>
</ol>
<table>
<thead>
<tr>
<th>çŠ¶æ€ç </th>
<th>æ„ä¹‰</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td>100</td>
<td>ç»§ç»­</td>
<td>æŒ‡ç¤ºè¯·æ±‚å·²ç»æ”¶åˆ°ï¼ˆè€Œä¸”æ²¡æœ‰è¢«æœåŠ¡å™¨æ‹’ç»ï¼‰æœŸé—´çš„ä¸­é—´å“åº”</td>
</tr>
<tr>
<td>101</td>
<td>åˆ‡æ¢åè®®</td>
<td>æœåŠ¡å™¨åˆ‡æ¢åˆ°ç”±UPgradeè¯·æ±‚å¤´å®šä¹‰çš„åè®®</td>
</tr>
</tbody></table>
<ol start="2">
<li>æˆåŠŸçŠ¶æ€ç 2xxï¼š</li>
</ol>
<table>
<thead>
<tr>
<th>çŠ¶æ€ç </th>
<th>æ„ä¹‰</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td>200</td>
<td>OK</td>
<td>è¢«æ¥å—</td>
</tr>
<tr>
<td>201</td>
<td>è¢«åˆ›å»º</td>
<td>æ­£åœ¨åˆ›å»ºä¸€ä¸ªæ–°çš„èµ„æº</td>
</tr>
<tr>
<td>202</td>
<td>è¢«æ¥å—</td>
<td>å·²æ¥å—ï¼Œä½†æ˜¯å¤„ç†è¿˜æœªå®Œæˆ</td>
</tr>
<tr>
<td>203</td>
<td>éæƒå¨ä¿¡æ¯</td>
<td>å®ä½“å¤´è¿”å›å…ƒæ•°æ®çš„å­é›†æˆ–è¶…é›†</td>
</tr>
<tr>
<td>204</td>
<td>æ— å†…å®¹</td>
<td>ä¸åŒ…å«å“åº”ä½“</td>
</tr>
<tr>
<td>205</td>
<td>é‡ç½®å†…å®¹</td>
<td>å®¢æˆ·ç«¯åº”è¯¥å‘èµ·ä¸€ä¸ªè¯·æ±‚æ¥æŸ¥çœ‹ä¸åˆå§‹è¯·æ±‚ç›¸å…³è”çš„èµ„æº</td>
</tr>
<tr>
<td>206</td>
<td>éƒ¨åˆ†å†…å®¹</td>
<td>ä¸€ä¸ªåŒ…å«äº†ä¸€ä¸ª range è¯·æ±‚å¤´çš„å“åº”</td>
</tr>
</tbody></table>
<ol start="3">
<li>é‡å®šå‘çŠ¶æ€ç 3xxï¼š</li>
</ol>
<table>
<thead>
<tr>
<th>çŠ¶æ€ç </th>
<th>æ„ä¹‰</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td>300</td>
<td>å¤šä¸ªé€‰é¡¹</td>
<td>èµ„æºåœ¨ä¸åŒä½ç½®æœ‰å¤šç§å±•ç°</td>
</tr>
<tr>
<td>301</td>
<td>æ°¸ä¹…ç§»åŠ¨</td>
<td>èµ„æºå·²ç»åˆ†é…äº†ä¸€ä¸ªæ–°çš„æ°¸ä¹… URI</td>
</tr>
<tr>
<td>302</td>
<td>æ‰¾åˆ°</td>
<td>èµ„æºå·²ç»åˆ†é…äº†ä¸€ä¸ªæ–°çš„ä¸´æ—¶ URI</td>
</tr>
<tr>
<td>303</td>
<td>å‚è€ƒå…¶ä»–</td>
<td>è¯·æ±‚çš„å“åº”åœ¨ä¸€ä¸ªä¸åŒçš„ URI ä¸‹å¯ç”¨</td>
</tr>
<tr>
<td>304</td>
<td>æœªä¿®æ”¹</td>
<td>æ–‡æ¡£æœªä¿®æ”¹çš„æ¡ä»¶è¯·æ±‚çš„å“åº”</td>
</tr>
<tr>
<td>305</td>
<td>ä½¿ç”¨ä»£ç†</td>
<td>è¯·æ±‚çš„èµ„æºå¯ä»¥é€šè¿‡è¿”å›çš„ä»£ç† URI è®¿é—®</td>
</tr>
<tr>
<td>306</td>
<td>ï¼ˆæœªä½¿ç”¨ï¼‰</td>
<td></td>
</tr>
<tr>
<td>307</td>
<td>ä¸´æ—¶é‡å®šå‘</td>
<td>è¯·æ±‚çš„èµ„æºä¸´æ—¶å­˜åœ¨äºä¸€ä¸ªä¸åŒçš„ URI ä¸‹</td>
</tr>
</tbody></table>
<ol start="4">
<li>å®¢æˆ·ç«¯é”™è¯¯çŠ¶æ€ç 4xxï¼š</li>
</ol>
<table>
<thead>
<tr>
<th>çŠ¶æ€ç </th>
<th>æ„ä¹‰</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td>400</td>
<td>åè¯·æ±‚</td>
<td>è¯·æ±‚æ— æ³•ç†è§£</td>
</tr>
<tr>
<td>401</td>
<td>æœªæˆæƒ</td>
<td>è¯·æ±‚æ²¡æœ‰æˆæƒ</td>
</tr>
<tr>
<td>402</td>
<td>éœ€è¦æ”¯ä»˜</td>
<td>ä¿ç•™ä»¥åä½¿ç”¨</td>
</tr>
<tr>
<td>403</td>
<td>ç¦æ­¢</td>
<td>è¯·æ±‚ä¸å…è®¸ï¼ˆå³ä½¿æœ‰é™„åŠ æˆæƒï¼‰</td>
</tr>
<tr>
<td>404</td>
<td>æœªæ‰¾åˆ°</td>
<td>èµ„æºæœªæ‰¾åˆ°</td>
</tr>
<tr>
<td>405</td>
<td>æ–¹æ³•ä¸å…è®¸</td>
<td>æŒ‡å®š URL çš„ HTTP æ–¹æ³•æ— æ•ˆ</td>
</tr>
<tr>
<td>406</td>
<td>ä¸å¯æ¥å—</td>
<td>å¯ä»¥ä½¿ç”¨acceptè¯·æ±‚å¤´ä¸­çš„å†…å®¹æ¥ç”Ÿæˆèµ„æº</td>
</tr>
<tr>
<td>407</td>
<td>éœ€è¦ä»£ç†éªŒè¯</td>
<td>è¯·æ±‚æœªéªŒè¯ï¼ˆéœ€è¦é€šè¿‡ä»£ç†æˆæƒï¼‰</td>
</tr>
<tr>
<td>408</td>
<td>è¯·æ±‚è¶…æ—¶</td>
<td>å®¢æˆ·ç«¯æ²¡æœ‰åœ¨æœåŠ¡å™¨æŒ‡å®šçš„æ—¶é—´é‡Œå‘é€è¯·æ±‚</td>
</tr>
<tr>
<td>409</td>
<td>å†²çª</td>
<td>å› ä¸ºå½“å‰èµ„æºçš„çŠ¶æ€æ— æ³•å®Œæˆè¯·æ±‚</td>
</tr>
<tr>
<td>410</td>
<td>ä¸¢å¤±</td>
<td>èµ„æºä¸å¯ç”¨</td>
</tr>
<tr>
<td>411</td>
<td>éœ€è¦é•¿åº¦</td>
<td>éœ€è¦å†…å®¹é•¿åº¦å¤´éƒ¨</td>
</tr>
<tr>
<td>412</td>
<td>å‰ç½®æ¡ä»¶å¤±è´¥</td>
<td>è¯·æ±‚å¤´éƒ¨çš„å‰ç½®æ¡ä»¶å€¼ä¸º false</td>
</tr>
<tr>
<td>413</td>
<td>è¯·æ±‚å®ä½“å¤ªå¤§</td>
<td>è¯·æ±‚å®ä½“æ¯”æœåŠ¡å™¨æŒ‡å®šçš„é˜ˆå€¼å¤§</td>
</tr>
<tr>
<td>414</td>
<td>è¯·æ±‚ URI è¿‡é•¿</td>
<td>è¯·æ±‚ URI æ¯”æœåŠ¡å™¨æŒ‡å®šçš„é˜ˆå€¼é•¿</td>
</tr>
<tr>
<td>415</td>
<td>ä¸æ”¯æŒçš„åª’ä½“ç±»å‹</td>
<td>æ ¼å¼ä¸æ”¯æŒ</td>
</tr>
<tr>
<td>416</td>
<td>è¯·æ±‚èŒƒå›´ä¸æ»¡è¶³</td>
<td>å¤´éƒ¨æŒ‡å®šçš„å†…å®¹èŒƒå›´æ— æ³•å¤„ç†</td>
</tr>
<tr>
<td>417</td>
<td>æœŸæœ›å¤±è´¥</td>
<td>è¯·æ±‚å¤´éƒ¨åŸŸçš„æœŸæœ›ä¸æ»¡è¶³</td>
</tr>
</tbody></table>
<ol start="5">
<li>æœåŠ¡å™¨ç«¯é”™è¯¯çŠ¶æ€ç 5xxï¼š</li>
</ol>
<table>
<thead>
<tr>
<th>çŠ¶æ€ç </th>
<th>æ„ä¹‰</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td>500</td>
<td>æœåŠ¡å™¨å†…éƒ¨é”™è¯¯</td>
<td>æœåŠ¡å™¨æœªé¢„æœŸçš„é”™è¯¯æƒ…å†µ</td>
</tr>
<tr>
<td>501</td>
<td>æœªå®ç°</td>
<td></td>
</tr>
<tr>
<td>502</td>
<td>åç½‘å…³</td>
<td>ä½œä¸ºä»£ç†çš„æœåŠ¡å™¨æ”¶åˆ°äº†æ¥è‡ªä¸Šæ¸¸æœåŠ¡å™¨çš„æ— æ•ˆå“åº”</td>
</tr>
<tr>
<td>503</td>
<td>æœåŠ¡ä¸å¯ç”¨</td>
<td>æœåŠ¡å™¨ä¸´æ—¶ä¸å¯ç”¨</td>
</tr>
<tr>
<td>504</td>
<td>ç½‘å…³è¶…æ—¶</td>
<td>ä»£ç†æœåŠ¡å™¨æœªæ”¶åˆ°ä¸Šæ¸¸æœåŠ¡å™¨çš„åŠæ—¶å“åº”</td>
</tr>
<tr>
<td>505</td>
<td>HTTP ç‰ˆæœ¬ä¸æ”¯æŒ</td>
<td>è¯·æ±‚ä¿¡æ¯ä¸­çš„ HTTP åè®®ç‰ˆæœ¬ä¸æ”¯æŒ</td>
</tr>
</tbody></table>
<h2 id="Curlå®ç”¨é€‰é¡¹"><a href="#Curlå®ç”¨é€‰é¡¹" class="headerlink" title="Curlå®ç”¨é€‰é¡¹"></a>Curlå®ç”¨é€‰é¡¹</h2><table>
<thead>
<tr>
<th>é€‰é¡¹</th>
<th>åç§°</th>
<th>åŠŸèƒ½</th>
</tr>
</thead>
<tbody><tr>
<td>-H</td>
<td>å¤´éƒ¨</td>
<td>æŒ‡å®šä¸€ä¸ªHTTPå¤´éƒ¨</td>
</tr>
<tr>
<td>-d</td>
<td>æ•°æ®</td>
<td>å‘é€æŒ‡å®šçš„å­—ç¬¦ä¸²æ•°æ®åˆ°æœåŠ¡å™¨</td>
</tr>
<tr>
<td>-s</td>
<td>é™é»˜é€‰é¡¹</td>
<td>ä¸æ˜¾ç¤ºè¿›åº¦è¡¨å’Œé”™è¯¯ä¿¡æ¯</td>
</tr>
<tr>
<td>-L</td>
<td>ä½ç½®</td>
<td>å¦‚æœæœåŠ¡å™¨å“åº”å¸¦æœ‰ä½ç½®å¤´éƒ¨å’Œ 3xx å“åº”çŠ¶æ€ç ï¼Œåˆ™åœ¨æ–°ä½ç½®ä¸Šé‡æ–°å‘é€è¯·æ±‚</td>
</tr>
<tr>
<td>-X</td>
<td>æ‰§è¡Œé€‰é¡¹</td>
<td>æŒ‡å®š HTTP è¯·æ±‚æ–¹æ³•</td>
</tr>
<tr>
<td>-A</td>
<td>ä»£ç†</td>
<td>æŒ‡å®šç”¨æˆ·ä»£ç†</td>
</tr>
<tr>
<td>-b</td>
<td>Cookie</td>
<td>æŒ‡å®šcookieï¼ˆâ€“cookie æ¯” -b æ›´å®¹æ˜“è®°å¿†ï¼‰</td>
</tr>
<tr>
<td>-o</td>
<td>è¾“å‡º</td>
<td>è¾“å‡ºåˆ°ä¸€ä¸ªæ–‡ä»¶</td>
</tr>
</tbody></table>
<ul>
<li>ç¤ºä¾‹ï¼š</li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"> curl -s -H "Accept: application/json" \</span><br><span class="line">-H "Content-Type: application/json" http://localhost:443/about \</span><br><span class="line">-X PUT -d '&#123;"hello": "world"&#125;'</span><br></pre></td></tr></table></figure>

<hr>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>Webé‡Œçš„çŸ¥è¯†çœŸçš„éå¸¸çš„å¤šï¼Œèƒ½å¤Ÿæä¾›WebæœåŠ¡çš„åŠŸèƒ½ä¹Ÿç‰¹åˆ«å¤šï¼Œè¿˜éœ€è¦æ·±å…¥å­¦ä¹ ï¼</p>
]]></content>
      <categories>
        <category>Nodejs</category>
      </categories>
  </entry>
  <entry>
    <title>OMV Quick Start</title>
    <url>/2020/05/14/OMV-Quick-Start/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>OpenMediaVaultæ˜¯åŸºäºDebian GNU/Linuxçš„ç½‘ç»œè¿æ¥å­˜å‚¨ï¼ˆNASï¼‰è§£å†³æ–¹æ¡ˆï¼ŒåŒ…å«SSHã€(S)FTPã€SMB/CIFSã€DAAPåª’ä½“æœåŠ¡å™¨ã€rsyncã€ BitTorrentç­‰å¾ˆå¤šç§æœåŠ¡ï¼Œå¯ä»¥é€šè¿‡æ’ä»¶æ¥æ‰©å±•ã€‚OpenMediaVaultä¸»è¦è¢«è®¾è®¡ç”¨äºå®¶ç”¨ç¯å¢ƒæˆ–å°å‹å®¶åº­åŠå…¬å®¤ï¼Œ ä½†å´ä¸å±€é™äºæ­¤ç±»ï¼Œå®ƒæ˜¯ä¸€ä»½ç®€å•å’Œæ˜“äºä½¿ç”¨çš„ã€å¼€ç®±å³ç”¨çš„è§£å†³æ–¹æ¡ˆï¼Œèƒ½è®©æ‰€æœ‰äººæ— éœ€å¾ˆæ·±çš„çŸ¥è¯†å°±èƒ½å®‰è£…å¹¶ç®¡ç†ä¸€å¥—ç½‘ç»œè¿æ¥å­˜å‚¨ï¼</p>
<p><img src="http://static.oschina.net/uploads/space/2013/0826/075803_2srd_12.png" alt=""></p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><ol>
<li>odroid xu4æ”¯æŒopenmediavaultï¼Œéå¸¸æ–¹ä¾¿æ•°æ®å­˜å‚¨ï¼Œåœ¨<a href="http://sourceforge.mirrorservice.org/o/op/openmediavault/" target="_blank" rel="noopener">sourceforge</a>ä¸­ä¸‹è½½é•œåƒï¼Œç„¶åçƒ§å½•åˆ°sdå¡å°±å¯ä»¥äº†ï¼Œå¯ä»¥ä½¿ç”¨hdmiæŸ¥çœ‹ipåœ°å€ï¼Œç„¶åhtppè®¿é—®80ç«¯å£çš„æœåŠ¡ï¼Œè´¦æˆ·å’Œå¯†ç å¦‚ä¸‹ï¼š</li>
</ol>
<p><img src="https://img2020.cnblogs.com/blog/1591904/202003/1591904-20200326205324727-165103639.png" alt=""></p>
<ol start="2">
<li>è¿›å…¥çš„é¡µé¢å¦‚ä¸‹ï¼š</li>
</ol>
<p><img src="https://img2020.cnblogs.com/blog/1591904/202003/1591904-20200326205806868-55263505.png" alt=""></p>
<ol start="3">
<li><p><a href="https://openmediavault.readthedocs.io/en/latest/installation/index.html" target="_blank" rel="noopener">å®˜æ–¹å®‰è£…è¯´æ˜</a></p>
</li>
<li><p>ä¿®æ”¹webç®¡ç†å‘˜å¯†ç ï¼šç‚¹å‡»ä¾§è¾¹æ  <strong>â€œç³»ç»Ÿ -&gt; å¸¸è§„è®¾ç½® -&gt; Web ç®¡ç†å‘˜å¯†ç â€</strong> ï¼Œä¿®æ”¹ç®¡ç†å‘˜å¯†ç ï¼Œ<strong>â€œä¿å­˜ -&gt; åº”ç”¨â€</strong></p>
<p><img src="https://img2020.cnblogs.com/blog/1591904/202003/1591904-20200327160127331-985996990.png" alt=""></p>
</li>
</ol>
<h2 id="é…ç½®E-mailé€šå‘Š"><a href="#é…ç½®E-mailé€šå‘Š" class="headerlink" title="é…ç½®E-mailé€šå‘Š"></a>é…ç½®E-mailé€šå‘Š</h2><ol>
<li><p>ç‚¹å‡»ä¾§è¾¹æ  <strong>â€œç³»ç»Ÿ -&gt; é€šå‘Š -&gt; è®¾ç½®â€</strong>ï¼Œè¿›è¡Œå‘é€ E-mail é‚®ä»¶è®¾ç½®ã€‚</p>
<ol>
<li><p>å¸¸è§„è®¾ç½® -&gt; å¯ç”¨</p>
</li>
<li><p>SMTP è®¾ç½®ï¼Œä»¥ QQ é‚®ç®±ä¸ºä¾‹ï¼š</p>
<p><img src="https://img2020.cnblogs.com/blog/1591904/202003/1591904-20200327160208672-1841234006.png" alt=""></p>
</li>
</ol>
</li>
<li><p>ç‚¹å‡»ä¾§è¾¹æ  â€œç³»ç»Ÿ -&gt; é€šå‘Š -&gt; é€šå‘Šâ€ ï¼Œå¯é€‰æ‹©è¦é€šå‘Šçš„é¡¹ç›®ï¼Œâ€œä¿å­˜ -&gt; åº”ç”¨â€ï¼›</p>
</li>
<li><p>å¯ä»¥å‘é€æµ‹è¯•é‚®ä»¶ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯å¯†ç æ˜¯ç”³è¯·çš„æˆæƒç ï¼Œä¸æ˜¯é‚®ç®±ç™»é™†å¯†ç ï¼›</p>
</li>
<li><p>è¿™ä¸ªå‘é€ä¸æ¥æ”¶æœ‰ç‚¹ç¼“æ…¢ï¼Œé…ç½®äº†å¾ˆä¹…ä¹‹åæ‰å¯ä»¥æ¥æ”¶åˆ°æµ‹è¯•é‚®ä»¶çš„é€šçŸ¥ã€‚</p>
</li>
</ol>
<h2 id="ç¡¬ç›˜æŒ‚è½½"><a href="#ç¡¬ç›˜æŒ‚è½½" class="headerlink" title="ç¡¬ç›˜æŒ‚è½½"></a>ç¡¬ç›˜æŒ‚è½½</h2><ol>
<li><p>æ’å…¥ç¡¬ç›˜</p>
</li>
<li><p>ç‚¹å‡»ä¾§è¾¹æ  â€œå­˜å‚¨å™¨ -&gt; ç¡¬ç›˜ -&gt; æ‰«æâ€ ï¼Œå¯ä»¥çœ‹åˆ°å·²ç»è¿æ¥çš„ç¡¬ç›˜</p>
</li>
<li><p>é€šè¿‡ å‹å·ã€åºå·ã€ä¾›åº”å•†ã€å®¹é‡ç­‰ å¯ä»¥åˆ¤æ–­å‡ºè¦åˆå§‹åŒ–çš„ç¡¬ç›˜</p>
</li>
<li><p>é€‰ä¸­è¦åˆå§‹åŒ–çš„ç¡¬ç›˜ï¼Œä½¿å…¶é«˜äº®ï¼Œç‚¹å‡» â€œæ“¦é™¤â€</p>
</li>
<li><p>é€‰æ‹© â€œå¿«é€Ÿâ€ æ“¦é™¤å³å¯ï¼š</p>
<p><img src="https://img2020.cnblogs.com/blog/1591904/202003/1591904-20200328000345990-1898730751.png" alt=""></p>
</li>
<li><p>ç­‰å¾…æ“¦é™¤å®Œæˆåï¼Œå…³é—­å³å¯ï¼š</p>
<p><img src="https://img2020.cnblogs.com/blog/1591904/202003/1591904-20200328000348026-482769181.png" alt=""></p>
</li>
<li><p>ç‚¹å‡»ä¾§è¾¹æ  â€œå­˜å‚¨å™¨ -&gt; æ–‡ä»¶ç³»ç»Ÿ -&gt; åˆ›å»ºâ€ï¼Œåˆ›å»ºæ–‡ä»¶ç³»ç»Ÿï¼Œé€‰æ‹©ext4æ ¼å¼ï¼Œæ”¯æŒæ¯”è¾ƒå¥½ï¼›</p>
</li>
<li><p>ç­‰å¾…æ–‡ä»¶ç³»ç»Ÿåˆ›å»ºæˆåŠŸï¼Œå…³é—­å³å¯ï¼š</p>
<p><img src="https://img2020.cnblogs.com/blog/1591904/202003/1591904-20200328000417871-2003691499.png" alt=""></p>
</li>
<li><p>åœ¨ä¾§è¾¹æ  â€œå­˜å‚¨å™¨ -&gt; æ–‡ä»¶ç³»ç»Ÿâ€ ä¸­ï¼Œé€‰ä¸­è¦æŒ‚è½½çš„ç¡¬ç›˜ ä½¿ä¹‹é«˜äº®ï¼Œç‚¹å‡» â€œæŒ‚è½½â€å°±å¯ä»¥æŒ‚è½½æˆåŠŸã€‚</p>
</li>
</ol>
<h2 id="æ ¸å¿ƒ"><a href="#æ ¸å¿ƒ" class="headerlink" title="æ ¸å¿ƒ"></a>æ ¸å¿ƒ</h2><ol>
<li>Debian Linux(Squeeze)ç³»ç»Ÿ(i386 or x64)</li>
<li>åŸºäºWebæ–¹å¼çš„ç³»ç»Ÿç®¡ç†</li>
<li>é€šè¿‡Debianè½¯ä»¶åŒ…ç®€å•çš„ç³»ç»Ÿå‡çº§</li>
<li>ç”¨æˆ·ç®¡ç†</li>
<li>è®¡åˆ’ä»»åŠ¡</li>
<li>å¤šè¯­è¨€æ”¯æŒï¼ˆ0.4.18ç‰ˆæ”¯æŒç¹ä½“ä¸­æ–‡ï¼‰</li>
<li>åŸºäºDNS-SD(Appleâ€™s protocol)çš„æœåŠ¡å…¬å‘Š</li>
<li>æ’ä»¶ç³»ç»Ÿ</li>
</ol>
<h2 id="OMVé…ç½®Kodi"><a href="#OMVé…ç½®Kodi" class="headerlink" title="OMVé…ç½®Kodi"></a>OMVé…ç½®Kodi</h2><ol>
<li><p>OMVå¯ä»¥é…ç½®Kodiï¼Œç›´æ¥è§†é¢‘æ’­æ”¾ï¼Œå¯ä»¥ä½¿ç”¨Xshellè¿›å…¥Debianç³»ç»Ÿè¿›è¡Œå®‰è£…å„ç±»ä¸œè¥¿ï¼ŒKodiåª’ä½“ä¸­å¿ƒæ˜¯ä¸€ä¸ªå±¡è·æ®Šè£çš„è‡ªç”±å’Œå¼€æºçš„è·¨å¹³å°åª’ä½“æ’­æ”¾å™¨å’Œç”¨äºHTPCï¼ˆHome theater PCï¼Œå®¶åº­å½±é™¢PCï¼‰çš„æ•°å­—åª’ä½“å¨±ä¹ä¸­å¿ƒè½¯ä»¶ï¼ŒKodiçš„å›¾å½¢ç”¨æˆ·ç•Œé¢è®©ç”¨æˆ·è½»æŒ‰é¥æ§ï¼Œå°±èƒ½æ–¹ä¾¿åœ°ä»ç¡¬ç›˜ã€å…‰ç›˜ã€å±€åŸŸç½‘å’Œäº’è”ç½‘æµè§ˆå’Œè§‚çœ‹è§†é¢‘ã€å›¾ç‰‡ï¼Œæ”¶å¬å¹¿æ’­å’ŒéŸ³ä¹ã€‚</p>
<p><img src="http://www.kodiplayer.cn/UploadFiles/2017-11/2017111915094623408.png" alt=""></p>
</li>
<li><p>é¦–å…ˆå®‰è£…å¯è§†åŒ–æ¡Œé¢Xfce4ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo apt-get install xorg xinit xfce4 lightdm</span><br><span class="line"><span class="meta">#</span><span class="bash"> å…¶ä¸­lightdmæ˜¯ç™»å½•ç®¡ç†ï¼Œä¹‹åéœ€è¦ç”¨lightdmæ¥æ§åˆ¶è´¦å·è‡ªåŠ¨ç™»å½•</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>æ¥ä¸‹æ¥å®‰è£…Kodiï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo apt-get install kodi</span><br></pre></td></tr></table></figure>
</li>
<li><p>é‡å¯å¹¶æ·»åŠ Kodiç”¨æˆ·ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">reboot</span><br><span class="line">useradd â€“m â€“s /bin/bash kodi</span><br></pre></td></tr></table></figure>
</li>
<li><p>æµè§ˆå™¨æ‰“å¼€OMVç½‘å€ï¼Œåœ¨æœ€å³ä¸Šæ–¹é€‰æ‹©é»˜è®¤ç™»å½•å¸ƒå±€ä¸ºKodiï¼Œå…ˆè¾“å…¥è´¦å·å¯†ç å†é€‰æ‹©å¸ƒå±€:</p>
<p><img src="http://www.kodiplayer.cn/UploadFiles/2020-02/2020020911454915821.png" alt=""></p>
</li>
<li><p>ä¿®æ”¹lightdm.conf:</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">vim /etc/lightdm/lightdm.conf</span><br></pre></td></tr></table></figure>
</li>
<li><p>å±è”½/etc/pam.d/gdm-autologinä¸­çš„é…ç½®é€‰é¡¹ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">auth   required        pam_succeed_if.so user != root quiet_success</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>Kodiéœ€è¦ä¸€ä¸ª3D GPUå›¾å½¢ç¡¬ä»¶æ§åˆ¶å™¨æ¥æ”¯æŒæ¸²æŸ“ï¼Œæ­¤ç±»3D GPUèŠ¯ç‰‡ç°åœ¨å·²æ˜¯è®¡ç®—æœºçš„æ ‡é…ï¼Œå¾ˆå¤šæœºé¡¶ç›’ä¹Ÿéƒ½é…æœ‰ï¼ŒKodièƒ½å¤Ÿåœ¨OpenGL 1.3ï¼ˆå…·å¤‡GLSLæ”¯æŒï¼‰ã€OpenGL ES 2.0æˆ–Direct3D (DirectX) 9.0å…¼å®¹çš„IA-32/x86ã€x86-64æˆ–åŸºäºARM CPUçš„ç³»ç»Ÿä¸Šè‰¯å¥½è¿è¡Œã€‚</p>
</li>
<li><p>å®é™…æµ‹è¯•ï¼Œåœ¨odroidä¸Šè¿è¡ŒIOMVä»¥åŠKodiä¹‹åï¼ŒKodiéå¸¸çš„å¡é¡¿ï¼Œå¯èƒ½æ˜¯æ²¡æœ‰ä½¿ç”¨EMMCï¼Œç›´æ¥ä½¿ç”¨SDå¡çš„åŸå› ï¼Œå…·ä½“æœ‰å¾…ç ”ç©¶ï¼</p>
</li>
</ol>
<h2 id="é…ç½®OMVæ—¥æœŸå’Œæ—¶é—´"><a href="#é…ç½®OMVæ—¥æœŸå’Œæ—¶é—´" class="headerlink" title="é…ç½®OMVæ—¥æœŸå’Œæ—¶é—´"></a>é…ç½®OMVæ—¥æœŸå’Œæ—¶é—´</h2><ol>
<li><p>ç™»é™†OMVçš„httpä¸»é¡µï¼Œç„¶åæ‰“å¼€ç³»ç»Ÿçš„æ—¥æœŸå’Œæ—¶é—´ï¼›</p>
</li>
<li><p>é…ç½®æ—¶åŒºä¸ºäºšæ´²/ä¸Šæµ·ï¼ˆAsia/Shanghaiï¼‰;</p>
</li>
<li><p>ä¿®æ”¹NTPæœåŠ¡å™¨åœ°å€ï¼Œé»˜è®¤çš„æ²¡æ³•ä½¿ç”¨ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">ntp1.aliyun.com</span><br><span class="line">ntp2.aliyun.com</span><br><span class="line">ntp3.aliyun.com</span><br><span class="line">ntp4.aliyun.com</span><br><span class="line">ntp5.aliyun.com</span><br><span class="line">ntp6.aliyun.com</span><br><span class="line">ntp7.aliyun.com</span><br></pre></td></tr></table></figure>
</li>
<li><p>ç„¶åä¿å­˜å³å¯ã€‚</p>
</li>
</ol>
<h2 id="é…ç½®ç”¨æˆ·å’Œç”¨æˆ·ç»„"><a href="#é…ç½®ç”¨æˆ·å’Œç”¨æˆ·ç»„" class="headerlink" title="é…ç½®ç”¨æˆ·å’Œç”¨æˆ·ç»„"></a>é…ç½®ç”¨æˆ·å’Œç”¨æˆ·ç»„</h2><ol>
<li>åœ¨è®¿é—®æƒé™é‡Œå¯ä»¥æ·»åŠ ç”¨æˆ·å’Œç”¨æˆ·ç»„ï¼Œä¸»è¦ç”¨äºæƒé™ç®¡ç†ï¼Œç„¶åå…±äº«æ–‡ä»¶å¤¹ä¸»è¦ç”¨äºæœåŠ¡é‡Œçš„æ–‡ä»¶å…±äº«ï¼›</li>
<li>å¯ä»¥åœ¨ç”¨æˆ·é‡Œæ·»åŠ ç”¨æˆ·ï¼Œé…ç½®ç”¨æˆ·çš„ç”¨æˆ·ç»„ï¼Œåªæœ‰é…ç½®äº†ç”¨æˆ·çš„ç”¨æˆ·ç»„æ‰èƒ½å®ç°è®¿é—®ï¼Œæ¯”å¦‚åªæœ‰sudoç”¨æˆ·ç»„æ‰å¯ä»¥è¿›è¡Œsudoå‘½ä»¤ï¼›</li>
<li>å…±äº«æ–‡ä»¶å¤¹å¯ä»¥é€‰ä¸­åˆ†äº«çš„æ–‡ä»¶å¤¹ï¼Œç„¶åå¯ä»¥é…ç½®ç‰¹æƒä»¥åŠACLé™åˆ¶ç”¨æˆ·çš„è¯»å†™æƒé™ï¼›</li>
<li>åœ¨å­˜å‚¨å™¨ä¸­çš„æ–‡ä»¶ç³»ç»Ÿä¸­å¯ä»¥å¯¹ç”¨æˆ·è¿›è¡Œé…é¢ã€‚</li>
</ol>
<h2 id="OMVçš„æœ¬è´¨"><a href="#OMVçš„æœ¬è´¨" class="headerlink" title="OMVçš„æœ¬è´¨"></a>OMVçš„æœ¬è´¨</h2><ol>
<li><p>OMVçš„æœ¬è´¨ï¼Œå°±æ˜¯å»ºæ„åœ¨Nginxã€PHPã€Pythonç­‰åº•å±‚ç³»ç»Ÿåº”ç”¨ä¸Šçš„å¤§å‹WebæœåŠ¡ç¨‹åºï¼Œç±»ä¼¼äºé«˜çŸ¥ååº¦çš„å®å¡”å¹³å°ï¼›</p>
</li>
<li><p>åªè¦ç›®æ ‡æ¶æ„æ”¯æŒDebianã€Dpkgï¼Œä»¥åŠOMVçš„ä¾èµ–ç¨‹åºï¼ŒOMVå°±èƒ½åœ¨ä»»æ„æ¶æ„ä¸Šçš„æ“ä½œç³»ç»Ÿè¿è¡Œï¼›</p>
</li>
<li><p>OMVåŸºäºDebianè€Œæ„å»ºï¼Œå®ƒçš„æºä»£ç ç¼–è¯‘åç”Ÿæˆçš„æ˜¯è·¨å¹³å°ã€æ— æ¶æ„ï¼ˆnoarchï¼‰çš„Debç¨‹åºåŒ…ï¼Œæ•´ä¸ªç¼–è¯‘è¿‡ç¨‹å¹¶ä¸ä¼šè°ƒç”¨ç¼–è¯‘å™¨ç”Ÿæˆå¹³å°ä¸“ç”¨çš„äºŒè¿›åˆ¶æ–‡ä»¶ï¼›</p>
<p><img src="https://cdn.jsdelivr.net/gh/plumlis/plumzme/static/loading.gif" alt=""></p>
</li>
</ol>
<hr>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>OMVæ˜¯å®¶åº­å‹å¼€æºçš„NASå­˜å‚¨è§£å†³æ–¹æ¡ˆï¼Œå¯ä»¥ç”¨äºè¿œç¨‹ä¸‹è½½ç­‰æ“ä½œï¼Œå½“ç„¶å¯ä»¥ä½¿ç”¨ä¸€äº›å¼€å‘æŠ€æœ¯ï¼Œè¿›è¡Œæ›´é«˜çº§çš„æ“ä½œï¼Œè¿˜æœ‰åå‘ä»£ç†å°†OMVæŒ‚è½½åœ¨å¤–ç½‘ï¼Œè¿œç¨‹è®¿é—®å­˜å‚¨ï¼Œä¿å­˜æ–‡ä»¶ï¼è¿™éƒ¨åˆ†åªèƒ½ç®—æ˜¯OMVçš„åŸºç¡€ï¼Œè¿˜éœ€è¦æ·±å…¥å­¦ä¹ ï¼åç»­å†è¡¥<del>~</del></p>
]]></content>
      <categories>
        <category>OMV</category>
      </categories>
  </entry>
  <entry>
    <title>OTA è°ƒç ”</title>
    <url>/2020/05/26/OTA-%E8%B0%83%E7%A0%94/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>å…¬å¸è®¾å¤‡éœ€è¦è®¾å¤‡çš„OTAå‡çº§åŠŸèƒ½ï¼Œè€Œè¿™éƒ¨åˆ†ä¹‹å‰è™½ç„¶æœ‰è¿‡äº†è§£ï¼Œåšè‡ªå·±çš„å‡çº§ç­–ç•¥è¿˜æ˜¯éœ€è¦å‚è€ƒä¸‹å„ä¸ªå…¬å¸å¤§å‚çš„å‡çº§æ–¹æ¡ˆï¼Œç„¶åæ€»ç»“å‡ºå…¬å¸å¹³å°çš„OTAå‡çº§åº”è¯¥æ€ä¹ˆå¹²ï¼Œå…·å¤‡ä»€ä¹ˆåŠŸèƒ½ï¼Œä»¥åŠèƒ½å¤Ÿæ¯”å…¶ä»–çš„å¤§å‚èƒ½åšçš„æ›´å¥½çš„åœ°æ–¹ï¼</p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="ç™¾åº¦OTA"><a href="#ç™¾åº¦OTA" class="headerlink" title="ç™¾åº¦OTA"></a>ç™¾åº¦OTA</h2><ol>
<li>é’ˆå¯¹çš„ç—›ç‚¹ï¼šOTAæœåŠ¡å±¡è¢«çˆ†å‡ºå®‰å…¨é—®é¢˜ï¼Œå¯å¼•å‘å½±å“è®¾å¤‡ä½¿ç”¨ã€æ³„éœ²éšç§ã€ç”šè‡³å±å®³ç”¨æˆ·ç”Ÿå‘½è´¢äº§å®‰å…¨ç­‰ä¸€ç³»åˆ—é—®é¢˜ï¼</li>
<li>å®£ä¼ ç‚¹ï¼šä¿éšœOTAçš„å®‰å…¨æ€§ï¼Œæå‡ºå®‰å…¨OTA,ä¸ºæ™ºèƒ½è®¾å¤‡æä¾›å®‰å…¨ã€ç¨³å®šçš„OTAæœåŠ¡ã€‚</li>
<li>æä¾›çš„åŠŸèƒ½ï¼š<ul>
<li><strong>é€‚é…ä¸»æµç³»ç»ŸåŠèŠ¯ç‰‡ï¼Œæ”¯æŒå…¨è®¾å¤‡æ¥å…¥ï¼ˆè¿™éƒ¨åˆ†å¹çš„å‰å®³ï¼‰</strong></li>
<li><strong>åŒæ­¥æ”¯æŒç³»ç»Ÿå‡çº§ã€åº”ç”¨å‡çº§ã€æ•°æ®åŠé…ç½®æ›´æ–°</strong></li>
<li><strong>è‡ªç ”åœ¨çº¿å·®åˆ†æŠ€æœ¯ï¼ˆåœ¨çº¿åˆ¶ä½œå·®åˆ†åŒ…å¯å¤§å¹…å‹ç¼©æºæ–‡ä»¶ä½“ç§¯ï¼Œå‡å°‘æµé‡æˆæœ¬æ¶ˆè€—åŠå‡çº§è€—æ—¶ï¼‰</strong></li>
<li><strong>çµæ´»çš„ç­–ç•¥é…ç½®ï¼ˆå¯å¯¹å‡çº§æ—¶é—´ã€å‡çº§èŒƒå›´ã€å‡çº§ç‰ˆæœ¬ã€å‡çº§åœ°åŸŸã€å‡çº§æ¸ é“ç­‰äºŒåä½™é¡¹ä¸‹å‘å‡çº§é…ç½®è¿›è¡Œç²¾ç»†ç»„åˆï¼‰</strong></li>
<li><strong>å®æ—¶æ•°æ®åˆ†æï¼ˆè®¾å¤‡çº§çš„ç²¾ç»†åŒ–å‡çº§çŠ¶æ€è¿½è¸ªï¼Œè¿˜åŸè®¾å¤‡ç¾¤åŠç”¨æˆ·æ—¥å¸¸è¡Œä¸ºæ¨¡å¼ï¼‰</strong></li>
</ul>
</li>
<li>å¯èƒ½çš„ä¼˜åŠ¿ï¼š<ul>
<li><strong>ä¾¿æ·æ€§ï¼šæ¥å…¥ç®€å•ï¼Œå®ç°å…¨æµç¨‹å¯è§†åŒ–ç®€æ˜“æ“ä½œ</strong></li>
<li><strong>å®‰å…¨æ€§ï¼šä»äº‘åˆ°ç«¯ï¼Œå…¨æ–¹ä½å®ˆæŠ¤è®¾å¤‡å®‰å…¨</strong></li>
<li><strong>å…¨æ–¹ä½å®‰å…¨èƒ½åŠ›å®ˆæŠ¤ï¼ˆè®¾å¤‡è®¤è¯ã€é˜²åŠ«æŒã€é˜²ç ´è§£ã€é˜²ç¯¡æ”¹ï¼Œäº‘ç«¯åŠè®¾å¤‡åŒå‘èº«ä»½è®¤è¯ï¼Œä¿è¯è®¾å¤‡å”¯ä¸€æ€§ä¸å—ç¯¡æ”¹ï¼Œå…¨é¢æœç»ä¼ªé€ è®¾å¤‡å‘é€è¯·æ±‚ï¼‰</strong></li>
<li><strong>ç¨³å®šæ€§ï¼šæ»´æ°´ä¸æ¼ï¼Œå…¨é“¾è·¯ä¿éšœå‡çº§ä»»åŠ¡ï¼ˆæ–­ç‚¹ç»­ä¼ ã€ä½ç”µé‡ä¿æŠ¤ã€é˜²é™çº§ç­‰å‡çº§é˜²æŠ¤æœºåˆ¶ï¼Œæ¯å°è®¾å¤‡å‡å¯è¿½æº¯å‡çº§å†å²ï¼Œæ¼å‡é”™å‡é›¶å®¹å¿ï¼Œé«˜é€ŸCDNæœåŠ¡ï¼Œæä¾›å¤šçº¿ç¨‹ã€é«˜å¹¶å‘çš„å‡çº§åŒ…åˆ†å‘èƒ½åŠ›ï¼Œä¿è¯ç‰ˆæœ¬å¿«é€Ÿæ”¶æ•›ï¼Œå®‰å…¨æ¼æ´æé€Ÿä¿®å¤ï¼‰</strong></li>
</ul>
</li>
<li><strong><em>ç™¾åº¦çš„å‡çº§ç­–ç•¥ä¸­æœ‰ä¸ªä»»åŠ¡ä¼˜å…ˆçº§ï¼Œå¯ä»¥è€ƒè™‘åº”ç”¨åœºæ™¯ï¼å‡çº§ç±»å‹é€‰æ‹©ä¹Ÿæ˜¯ä¸€ç§æ¯”è¾ƒå¥½çš„ç­–ç•¥ï¼Œçº¿ä¸Šæ¨¡å¼æµ‹è¯•åˆ†ç»„å‡çº§ç­–ç•¥ï¼Œå‡çº§è®¡åˆ’æ·»åŠ åˆ†ç»„ï¼Œå‡çº§æ—¶é—´ä¹Ÿå¯ä»¥è¿›è¡Œé…ç½®ï¼ˆç«‹å³ç”Ÿæ•ˆï¼Œå»¶è¿Ÿç”Ÿæ•ˆï¼‰ã€å‡çº§å®Œæˆåçš„é™„åŠ æ“ä½œã€æµé‡ä¿æŠ¤ï¼ˆå¯ä»¥é€‰æ‹©ä»»æ„ç½‘ç»œï¼Œæˆ–è€…ä»…wifiï¼Œä¿¡å·å¼ºåº¦ç­‰ï¼ˆideaï¼‰ï¼‰å›æ»šé…ç½®ï¼ˆå‡çº§å¤±è´¥ä¹‹åè¿›å…¥å›æ»šä»»åŠ¡ï¼‰ã€çº¿ä¸Šå‡çº§ç°åº¦æµ‹è¯•ï¼ˆéšæœºé€‰æ‹©ä¸€éƒ¨åˆ†æœºå‹è¿›è¡Œå‡çº§æµ‹è¯•ï¼Œé˜²æ­¢å‡çº§åŒ…é—®é¢˜å¯¼è‡´å…¨é‡å‡çº§åçš„å”®ååˆ·å›ºä»¶é—®é¢˜ï¼‰</em></strong></li>
<li>æ•°æ®åˆ†ææä¾›æ´»è·ƒè®¾å¤‡ç»Ÿè®¡ã€ç‰ˆæœ¬åˆ†å¸ƒåŠåœ°åŸŸåˆ†å¸ƒç­‰æ•°æ®æŸ¥è¯¢æ¨¡å¼ã€‚å…¶ä¸­æ´»è·ƒè®¾å¤‡ç»Ÿè®¡æä¾›ç´¯è®¡æ´»è·ƒè®¾å¤‡æ•°ã€æ—¥æ–°å¢è®¾å¤‡æ•°ã€æ—¥æ´»è·ƒè®¾å¤‡æ•°åŠæœˆæ´»è·ƒè®¾å¤‡æ•°å››ç§æ•°æ®å±•ç¤ºï¼Œæ‚¨å¯ä»¥æŒ‰éœ€æ±‚é€‰æ‹©å¯¹åº”çš„æ•°æ®è¿›è¡Œåˆ†æã€‚æ‚¨ä¹Ÿå¯ç‚¹å‡»ç•Œé¢å·¦ä¸Šè§’â€œä¸‹è½½æ¿€æ´»è®¾å¤‡åˆ—è¡¨â€ï¼Œä¸‹è½½äº§å“çº¿ä¸‹æ‰€æœ‰æ¿€æ´»è®¾å¤‡IDè¯¦æƒ…ï¼›</li>
<li>ç™¾åº¦OTA<a href="https://ota.baidu.com/platform/document" target="_blank" rel="noopener">å®˜æ–¹æ–‡æ¡£</a></li>
</ol>
<h2 id="OneNET-ä¸­å›½ç§»åŠ¨"><a href="#OneNET-ä¸­å›½ç§»åŠ¨" class="headerlink" title="OneNET(ä¸­å›½ç§»åŠ¨)"></a>OneNET(ä¸­å›½ç§»åŠ¨)</h2><ol>
<li><p>åŠŸèƒ½ï¼šOneNETå¹³å°çš„é€šç”¨OTAæœåŠ¡æä¾›å‡çº§åŒ…ç‰ˆæœ¬ç®¡ç†å’Œå·®åˆ†ç”Ÿæˆã€è®¾å¤‡åˆ†ç»„ç®¡ç†ã€å‡çº§åŒ…ä»»åŠ¡ç­–ç•¥é…ç½®ã€å‡çº§ä»»åŠ¡çŠ¶æ€ä¿®æ”¹ã€è®¾å¤‡å‡çº§çŠ¶æ€æŸ¥çœ‹ç­‰åŠŸèƒ½</p>
</li>
<li><p>ä¼˜åŠ¿ï¼š</p>
<ul>
<li><strong>ç®€å•ä¾¿æ·çš„æ ‡å‡†åŒ–ä½¿ç”¨æµç¨‹</strong></li>
<li><strong>å¢å¼ºçš„å®‰å…¨èƒ½åŠ›ï¼ˆæä¾›å¢å¼ºç­¾åç®—æ³•ã€å‡çº§tokenè¿‡æœŸã€é˜²ç¯¡æ”¹ç­‰å…¨æ–¹ä½å®‰å…¨å‡çº§èƒ½åŠ›ï¼‰</strong></li>
<li><strong>æœåŠ¡ç¨³å®šå¯è¿½æº¯ï¼ˆæä¾›æ–­ç‚¹ç»­ä¼ ã€ä½ç”µé‡ä¿æŠ¤ã€é˜²é™çº§ç­‰å‡çº§é˜²æŠ¤æœºåˆ¶ï¼Œå¯æŸ¥çœ‹æ¯å°è®¾å¤‡å‡çº§è¯¦æƒ…ï¼‰</strong></li>
<li><strong>æµ·é‡è®¾å¤‡åŒæ—¶å‡çº§ï¼ˆæä¾›å¤šçº¿ç¨‹ã€é«˜å¹¶å‘çš„å‡çº§åŒ…åˆ†å‘èƒ½ åŠ›ï¼Œè½»æ¾å®Œæˆç™¾ä¸‡è®¾å¤‡å‡çº§ï¼Œä¿è¯ç‰ˆ æœ¬å‡çº§å¿«é€Ÿå®Œæˆï¼Œå®‰å…¨æ¼æ´æé€Ÿä¿®å¤ï¼‰</strong></li>
</ul>
</li>
<li><p>å‡çº§æµç¨‹ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/728c27496f2af3f5146391ef76fc5af8-68492" alt="OneNETå‡çº§æµç¨‹"></p>
</li>
<li><p>å‡çº§ç­–ç•¥ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/c908f6de85f9ea0095e201f9b12e7607-17822" alt="OneNETå‡çº§ç­–ç•¥"></p>
</li>
<li><p>å‡çº§ä»»åŠ¡æ¨é€æµç¨‹ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/33a220f9ae82d48f5f969dbc73aba117-49179" alt="å‡çº§ä»»åŠ¡æ¨é€"></p>
</li>
<li><p>ä¸ŠæŠ¥çŠ¶æ€ç å®šä¹‰ï¼š</p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">101:å‡çº§åŒ…ä¸‹è½½æˆåŠŸ</span><br><span class="line">102:ä¸‹è½½å¤±è´¥,ç©ºé—´ä¸è¶³</span><br><span class="line">103:ä¸‹è½½å¤±è´¥,å†…å­˜æº¢å‡º</span><br><span class="line">104:ä¸‹è½½å¤±è´¥,ä¸‹è½½è¯·æ±‚è¶…æ—¶</span><br><span class="line">105:ä¸‹è½½å¤±è´¥,ç”µé‡ä¸è¶³</span><br><span class="line">106:ä¸‹è½½å¤±è´¥,ä¿¡å·ä¸è‰¯</span><br><span class="line">107:ä¸‹è½½å¤±è´¥,æœªçŸ¥å¼‚å¸¸</span><br><span class="line">201:å‡çº§æˆåŠŸ</span><br><span class="line">202:å‡çº§å¤±è´¥,ç”µé‡ä¸è¶³</span><br><span class="line">203:å‡çº§å¤±è´¥,å†…å­˜æº¢å‡º</span><br><span class="line">204:å‡çº§å¤±è´¥,ç‰ˆæœ¬ä¸ä¸€è‡´</span><br><span class="line">205:å‡çº§å¤±è´¥,md5æ ¡éªŒå¤±è´¥</span><br><span class="line">206:å‡çº§å¤±è´¥,æœªçŸ¥å¼‚å¸¸</span><br></pre></td></tr></table></figure>
</li>
<li><p>å‡çº§å‚æ•°å®šä¹‰ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">default_device_idï¼ˆè®¾å¤‡IDï¼‰</span><br><span class="line">default_manufï¼ˆè®¾å¤‡æ¨¡ç»„å‚å•†ç¼–å·ï¼‰</span><br><span class="line">default_modelï¼ˆè®¾å¤‡æ¨¡ç»„ç¼–å·ï¼‰</span><br><span class="line">default_typeï¼ˆå‡çº§ç±»å‹ï¼‰</span><br><span class="line">default_fota_versionï¼ˆè®¾å¤‡å›ºä»¶ç‰ˆæœ¬å·ï¼‰</span><br><span class="line">default_sota_versionï¼ˆè®¾å¤‡åº”ç”¨ç¨‹åºç‰ˆæœ¬å·ï¼‰</span><br><span class="line">default_resï¼ˆèµ„æºåŠèµ„æºå®ä½“IDï¼‰</span><br><span class="line">default_access_keyï¼ˆäº§å“access_keyï¼‰</span><br></pre></td></tr></table></figure>
</li>
<li><p>å®˜æ–¹<a href="https://open.iot.10086.cn/doc/ota/" target="_blank" rel="noopener">OTAæ–‡æ¡£</a></p>
</li>
</ol>
<h2 id="ç±³å®¶"><a href="#ç±³å®¶" class="headerlink" title="ç±³å®¶"></a>ç±³å®¶</h2><ol>
<li><p>å¼€å‘è€…<a href="https://iot.mi.com/new/doc/introduction/main.html" target="_blank" rel="noopener">æ–‡æ¡£</a></p>
</li>
<li><p>å‡çº§æ¨¡å¼ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/d01487daf0556676f64bff5ab69d5087-108039" alt="IOTè®¾å¤‡å‡çº§æµç¨‹"></p>
</li>
<li><p>è¯´æ˜ï¼šå¹³å°é¢å‘å·²æ¥å…¥å°ç±³IoTçš„æ™ºèƒ½è®¾å¤‡å¼€æ”¾è®¾å¤‡å‡çº§èƒ½åŠ›ï¼Œä¾›å¼€å‘è€…å¯¹å·²å”®è®¾å¤‡è¿›è¡Œè¿œç¨‹å‡çº§ã€‚ç”¨æˆ·åœ¨ç±³å®¶APPä¸Šæ§åˆ¶å…¶æ‰€è´­ä¹°çš„è®¾å¤‡æ˜¯å¦å¼€å§‹å‡çº§ï¼Œå¹¶å¯åœ¨ç±³å®¶APPä¸Šçœ‹åˆ°è®¾å¤‡çš„å‡çº§è¿›ç¨‹å’ŒçŠ¶æ€ã€‚</p>
</li>
<li><p>OTAçš„è¯¦ç»†è¯´æ˜å¹¶æœªåœ¨å¼€å‘è€…æ–‡æ¡£ä¸­ä½“ç°</p>
</li>
<li><p><strong>å°ç±³IoTå¼€å‘è€…å¹³å°ç°é˜¶æ®µæš‚ä»…é¢å‘æ™ºèƒ½å®¶å±…ã€æ™ºèƒ½å®¶ç”µã€å¥åº·å¯ç©¿æˆ´ã€å‡ºè¡Œè½¦è½½ç­‰é¢†åŸŸçš„ä¼ä¸šå¼€æ”¾ï¼ˆè€Œä¸”éœ€è¦ä¼ä¸šè®¤è¯ï¼‰</strong></p>
</li>
</ol>
<h2 id="AliOS-Things"><a href="#AliOS-Things" class="headerlink" title="AliOS Things"></a>AliOS Things</h2><ol>
<li><p>OTAå‡çº§è½¯ä»¶æ¡†æ¶ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/297227769e7b6178c8cc2320d0d084dd-61181" alt="OTAå‡çº§æ¡†æ¶"></p>
</li>
<li><p>AliOS Thingså®˜æ–¹<a href="https://github.com/alibaba/AliOS-Things/wiki/OTA-Tutorial.zh" target="_blank" rel="noopener">OTAè¯´æ˜æ–‡æ¡£</a></p>
</li>
<li><p>é˜¿é‡Œå‡çº§äº‘ç«¯å›ºä»¶ç›¸å…³å‚æ•°ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/4f28789c5bb932b58949534b3c3b539b-10086" alt="äº‘ç«¯å›ºä»¶å‚æ•°"></p>
</li>
<li><p>é˜¿é‡Œå‡çº§ç­–ç•¥å‚æ•°ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/b5ac8aa0dc0803a4e945607dd656e662-49881" alt="é˜¿é‡Œå‡çº§å‚æ•°"></p>
</li>
<li><p>ç”Ÿæ´»ç‰©è”ç½‘å¹³å°<a href="https://living.aliyun.com/doc#fxvw5z.html" target="_blank" rel="noopener">OTAå®˜æ–¹æ–‡æ¡£</a></p>
</li>
<li><p>é˜¿é‡Œäº‘è®¾å¤‡OTAå‡çº§æµç¨‹ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/c373473b7733e9c286bff6578b54d7ff-31488" alt="è®¾å¤‡OTAå‡çº§æµç¨‹"></p>
</li>
<li><p>äº‘ç«¯ä¸€ä½“åŒ–ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/f58695fb8ba4423bdc81ec4c880e4c20-92284" alt="äº‘ç«¯ä¸€ä½“åŒ–"></p>
</li>
<li><p>å·®åˆ†å‡çº§ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/cc0c048ce37812b59f2a53ae452e2716-41695" alt="æµç¨‹"></p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/5706744c9d81970546105dbc113e5c6e-28705" alt="è¿‡ç¨‹"></p>
</li>
<li><p>å‹ç¼©å‡çº§ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/8975ec7c7b42d6efc9c7ea944bafecb8-35461" alt="è¿‡ç¨‹"></p>
</li>
<li><p>ç‰©è”ç½‘å¹³å°<a href="https://help.aliyun.com/document_detail/58328.html?spm=a2c4g.11186623.6.724.72774422Y17ISH" target="_blank" rel="noopener">OTAå®˜æ–¹æ–‡æ¡£</a></p>
</li>
</ol>
<h2 id="äº¬ä¸œï¼ˆå°äº¬é±¼ï¼‰"><a href="#äº¬ä¸œï¼ˆå°äº¬é±¼ï¼‰" class="headerlink" title="äº¬ä¸œï¼ˆå°äº¬é±¼ï¼‰"></a>äº¬ä¸œï¼ˆå°äº¬é±¼ï¼‰</h2><ol>
<li><p>å‡çº§æ–¹å¼ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/44da6b913941f2a3b3b09a2fda30e1d1-18526" alt="äº¬ä¸œOTA"></p>
</li>
<li><p>å‡çº§ç­–ç•¥ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/c1c386fa89be5b5cb79d6268e6c4ba22-35024" alt="å‡çº§ç­–ç•¥"></p>
</li>
<li><p>äº¬ä¸œç‰©è”ç½‘<a href="https://docs.jdcloud.com/cn/iot-core/ota" target="_blank" rel="noopener">OTAå®˜æ–¹æ–‡æ¡£</a></p>
</li>
</ol>
<h2 id="è…¾è®¯"><a href="#è…¾è®¯" class="headerlink" title="è…¾è®¯"></a>è…¾è®¯</h2><ol>
<li><p>QQç‰©è”æ™ºèƒ½ç¡¬ä»¶å¼€å‘ï¼ˆ<a href="https://iot.open.qq.com/introduction" target="_blank" rel="noopener">å›ºä»¶OTAå‡çº§èƒ½åŠ›æš‚æ—¶ç¼ºå¤±</a>ï¼‰</p>
</li>
<li><p>ç‰©è”ç½‘æ™ºèƒ½è§†é¢‘æœåŠ¡OTAå‡çº§ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/602ce4190e37b6a856f6212cff495af2-30811" alt="æ™ºèƒ½è§†é¢‘OTA"></p>
</li>
<li><p><a href="https://cloud.tencent.com/document/product/1131/42402" target="_blank" rel="noopener">OTAå›ºä»¶ç®¡ç†æ¥å£å‚è€ƒæ–‡æ¡£</a></p>
</li>
</ol>
<h2 id="è‰¾æ‹‰æ¯”"><a href="#è‰¾æ‹‰æ¯”" class="headerlink" title="è‰¾æ‹‰æ¯”"></a>è‰¾æ‹‰æ¯”</h2><ol>
<li><p>ç‰©è”ç½‘OTAæ–¹æ¡ˆï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/e252845175d50b02534ac7593abe7afb-174837" alt="ç‰©è”ç½‘OTA"></p>
</li>
<li><p>ä¼˜åŠ¿ï¼š</p>
<ul>
<li>ä¼˜å¼‚çš„å·®åˆ†ç®—æ³•ï¼Œæœ€å¤§å·®åˆ†æ•ˆç‡å¯ä»¥å®ç°å·®åˆ†åŒ…ä»…ä¸ºæ•´åŒ…çš„1%</li>
<li>å…¨è‡ªåŠ¨çš„æ‰“åŒ…ã€åšåŒ…ã€ç­¾åã€ä¸Šä¼ ã€ä¸‹è½½ã€è¿˜åŸã€å‡çº§çš„è¿‡ç¨‹ï¼Œæœ€å¤§ç¨‹åº¦çš„æå‡äº†æ•ˆç‡</li>
<li>ä¸°å¯Œçš„å¹³å°é€‚é…ï¼Œç²¾å‡†çš„ç¼–è¯‘é“¾ï¼Œè®©å®¢æˆ·ä½¿ç”¨æ›´å®‰å¿ƒã€æ›´ä¾¿æ·</li>
<li>å¤šç­–ç•¥çš„é…ç½®ç®¡ç†ï¼Œå…è®¸å®¢æˆ·å¯ä»¥æ ¹æ®ä¸åŒçš„åˆ†ç»„ã€æ—¶é—´ã€åœ°ç‚¹ã€è®¾å¤‡å·å’Œå‡çº§æ–¹å¼æ¥å®ç°é’ˆå¯¹æ€§å‡çº§é…ç½®</li>
<li>é¢å¯¹å·¨é‡è®¾å¤‡å‡çº§æ—¶ï¼Œå…·å¤‡æ™ºèƒ½çº é”™èƒ½åŠ›ã€æ–­ç‚¹ç»­ä¼ å’Œé˜²å˜ç –æœºåˆ¶</li>
</ul>
</li>
<li><p>è®¾å¤‡èƒ½åŠ›ï¼šç½‘ç»œè¿æ¥ã€æœ€æ–°ç‰ˆæœ¬æ£€æµ‹ã€å‡çº§åŒ…ä¸‹è½½ã€å®‰å…¨æ ¡éªŒã€<strong>å·®åˆ†è¿˜åŸ</strong>ã€å†™å…¥å‡çº§</p>
</li>
<li><p><a href="http://www.abupdate.com/" target="_blank" rel="noopener">å…¬å¸ç½‘å€</a></p>
</li>
</ol>
<h2 id="å…¶ä»–å‚å•†"><a href="#å…¶ä»–å‚å•†" class="headerlink" title="å…¶ä»–å‚å•†"></a>å…¶ä»–å‚å•†</h2><ol>
<li><a href="http://docs.gizwits.com/zh-cn/UserManual/OTA.html" target="_blank" rel="noopener">æœºæ™ºäº‘OTA</a></li>
<li>ç­‰å¾…æŒç»­æ›´æ–°åŠ å…¥â€¦ â€¦</li>
</ol>
]]></content>
      <categories>
        <category>Work</category>
      </categories>
  </entry>
  <entry>
    <title>OpenResty Quick Start</title>
    <url>/2020/08/12/OpenResty-Quick-Start/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>Nginxå’ŒLuaèƒ½å¤Ÿç»“åˆä½¿ç”¨ï¼Œæ‰æ·±æœ‰ä½“ä¼šNginxçš„å¼ºå¤§ã€‚ä»¥å‰åªçŸ¥é“Nginxæ˜¯ä¸€ä¸ªå¼€æºçš„è½»é‡çº§çš„WebæœåŠ¡è½¯ä»¶ï¼ŒçœŸçš„æ˜¯äº•åº•ä¹‹è›™ï¼æœç´¢ä¹‹åæ‰çŸ¥é“è¿˜æœ‰OpenRestyï¼Œè¿™éƒ¨åˆ†ä¸»è¦è®°å½•åœ¨Macä¸Šçš„ç¯å¢ƒé…ç½®ä»¥åŠç®€å•æµ‹è¯•ï¼Œé¡¹ç›®ä¸­æ€ä¹ˆç”¨æ…¢æ…¢æ¢ç´¢å§ï¼</p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="åŸºç¡€çŸ¥è¯†"><a href="#åŸºç¡€çŸ¥è¯†" class="headerlink" title="åŸºç¡€çŸ¥è¯†"></a>åŸºç¡€çŸ¥è¯†</h2><ol>
<li>OpenRestyÂ® æ˜¯ä¸€ä¸ªåŸºäº Nginx ä¸ Lua çš„é«˜æ€§èƒ½ Web å¹³å°ï¼Œå…¶å†…éƒ¨é›†æˆäº†å¤§é‡ç²¾è‰¯çš„ Lua åº“ã€ç¬¬ä¸‰æ–¹æ¨¡å—ä»¥åŠå¤§å¤šæ•°çš„ä¾èµ–é¡¹ï¼›</li>
<li>åŠŸèƒ½ï¼šç”¨äºæ–¹ä¾¿åœ°æ­å»ºèƒ½å¤Ÿå¤„ç†è¶…é«˜å¹¶å‘ã€æ‰©å±•æ€§æé«˜çš„åŠ¨æ€ Web åº”ç”¨ã€Web æœåŠ¡å’ŒåŠ¨æ€ç½‘å…³ï¼›</li>
<li>æ•ˆæœï¼šWeb å¼€å‘äººå‘˜å’Œç³»ç»Ÿå·¥ç¨‹å¸ˆå¯ä»¥ä½¿ç”¨ Lua è„šæœ¬è¯­è¨€è°ƒåŠ¨ Nginx æ”¯æŒçš„å„ç§ C ä»¥åŠ Lua æ¨¡å—ï¼Œå¿«é€Ÿæ„é€ å‡ºè¶³ä»¥èƒœä»» 10K ä¹ƒè‡³ 1000K ä»¥ä¸Šå•æœºå¹¶å‘è¿æ¥çš„é«˜æ€§èƒ½ Web åº”ç”¨ç³»ç»Ÿï¼›</li>
<li>å®˜æ–¹æ•™ç¨‹ï¼š<a href="http://openresty.org/cn/" target="_blank" rel="noopener">http://openresty.org/cn/</a></li>
<li>Nginxè§£å†³çš„æ˜¯<strong>é«˜å¹¶å‘</strong>çš„ç—›ç‚¹ï¼Œå¤„ç†å‡ ä¸‡çš„è¯·æ±‚å¾ˆè½»æ¾ï¼Œå†…å­˜å ç”¨ä¹Ÿä¸é«˜ã€‚OpenRestyçš„å‡ºç°è§£å†³äº†äº«å—Nginxé«˜å¹¶å‘ä¼˜åŠ¿çš„æ‹¦è·¯è™ï¼Œå¯ä»¥ç”¨ä¼ ç»Ÿçš„åŒæ­¥ç¼–ç¨‹æ€æƒ³ä¸Šï¼Œåœ¨Nginxè¯·æ±‚æ¥è¿›æ¥åä½¿ç”¨Luaå¤„ç†ç¨å¤æ‚çš„é€»è¾‘ï¼›</li>
<li>Nginx æ˜¯ä¿„ç½—æ–¯äººå‘æ˜çš„ï¼Œ Lua æ˜¯å·´è¥¿å‡ ä¸ªæ•™æˆå‘æ˜çš„ï¼Œä¸­å›½äººç« äº¦æ˜¥æŠŠ LuaJIT VM åµŒå…¥åˆ° Nginx ä¸­ï¼Œå®ç°äº† OpenResty è¿™ä¸ªé«˜æ€§èƒ½æœåŠ¡ç«¯è§£å†³æ–¹æ¡ˆï¼›</li>
<li>åœ¨è¯·æ±‚çœŸæ­£åˆ°è¾¾ä¸Šæ¸¸æœåŠ¡ä¹‹å‰ï¼š<ul>
<li>Lua å¯ä»¥éšå¿ƒæ‰€æ¬²çš„åšå¤æ‚çš„è®¿é—®æ§åˆ¶å’Œå®‰å…¨æ£€æµ‹</li>
<li>Lua å¯ä»¥éšå¿ƒæ‰€æ¬²çš„æ“æ§å“åº”å¤´é‡Œé¢çš„ä¿¡æ¯</li>
<li>Lua å¯ä»¥ä»å¤–éƒ¨å­˜å‚¨æœåŠ¡ï¼ˆæ¯”å¦‚ Redisï¼ŒMemcachedï¼ŒMySQLï¼ŒPostgresï¼‰ä¸­è·å–åç«¯ä¿¡æ¯ï¼Œå¹¶ç”¨è¿™äº›ä¿¡æ¯æ¥å®æ—¶é€‰æ‹©å“ªä¸€ä¸ªåç«¯æ¥å®Œæˆä¸šåŠ¡è®¿é—®</li>
</ul>
</li>
<li>nginScriptæ˜¯Nginx å®˜æ–¹æ¨å‡ºçš„ä¸€ä¸ªæ–°çš„é…ç½®è¯­è¨€ï¼ŒæŠŠ JavaScript VM åµŒå…¥åˆ° nginx ä¸­ï¼Œæä¾›ç®€å•çš„ nginx é…ç½®åŠŸèƒ½ã€‚æŠ€æœ¯æ˜¯ä¸æ–­è¿­ä»£çš„ï¼ŒnginScript åªæ˜¯æƒ³æä¾›ä¸€ç§æ›´æ–¹ä¾¿é…ç½® nginx çš„æ–¹æ³•ï¼Œå¹¶ä¸æƒ³å–ä»£ ngx_luaï¼›</li>
<li>OpenRestyÂ®è§£å†³äº†é«˜å¹¶å‘é—®é¢˜ï¼Œä½†æ˜¯å¹¶ä¸æ˜¯ç‰¹æ•ˆè¯ï¼Œè¿˜æ˜¯éœ€è¦ç»“åˆæ•´ä½“å»åˆ†æï¼Œå»å–èˆï¼</li>
</ol>
<h2 id="Macå®‰è£…å¹¶æµ‹è¯•ï¼ˆbrewï¼‰"><a href="#Macå®‰è£…å¹¶æµ‹è¯•ï¼ˆbrewï¼‰" class="headerlink" title="Macå®‰è£…å¹¶æµ‹è¯•ï¼ˆbrewï¼‰"></a>Macå®‰è£…å¹¶æµ‹è¯•ï¼ˆbrewï¼‰</h2><ol>
<li><p>ä½¿ç”¨å‘½ä»¤å®‰è£…OpenRestyÂ®ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">brew install openresty/brew/openresty</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ·»åŠ zshè·¯å¾„(~/.zshrc)ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">PATH=/usr/local/Cellar/openresty/1.17.8.2_1/nginx/sbin:$PATH</span><br><span class="line">export PATH</span><br></pre></td></tr></table></figure>
</li>
<li><p>æŸ¥çœ‹ç‰ˆæœ¬ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">openresty -v</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> nginx version: openresty/1.17.8.2</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>å®‰è£…Lua5.1ï¼ˆå¦‚æœç‰ˆæœ¬ä¸€è‡´åˆ™å®‰è£…è¿™ä¸ªLuaç‰ˆæœ¬ï¼‰</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">brew install lua@5.1</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä¸‹è½½luarocksæºç ï¼Œç½‘å€ï¼š<a href="http://luarocks.org/releases/luarocks-3.3.1.tar.gzï¼Œç„¶åå¸¦OpenRestyÂ®çš„Luaç¯å¢ƒåœ°å€ç¼–è¯‘ï¼Œå®‰è£…ï¼š" target="_blank" rel="noopener">http://luarocks.org/releases/luarocks-3.3.1.tar.gzï¼Œç„¶åå¸¦OpenRestyÂ®çš„Luaç¯å¢ƒåœ°å€ç¼–è¯‘ï¼Œå®‰è£…ï¼š</a></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">tar -zvxf luarocks-3.3.1.tar.gz</span><br><span class="line">cd luarocks-3.3.1</span><br><span class="line">./configure --with-lua-include=/usr/local/Cellar/openresty/1.17.8.2_1/luajit/include/luajit-2.1/</span><br><span class="line">make</span><br><span class="line">sudo make install</span><br></pre></td></tr></table></figure>
</li>
<li><p>å®‰è£…å®Œæˆluarockså°±å¯ä½¿ç”¨luarockså®‰è£…æ¨¡å—ï¼Œç„¶ååœ¨OpenRestyÂ®ä¸Šä½¿ç”¨ï¼Œæ–°å»ºä¸€ä¸ªå·¥ä½œç›®å½•workï¼Œåœ¨å·¥ä½œç›®å½•ä¸‹åˆ›å»ºlogsã€confç›®å½•ï¼Œå¹¶æ·»åŠ å¦‚ä¸‹é…ç½®æ–‡ä»¶ï¼š</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="string">worker_processes</span>  <span class="number">1</span><span class="string">;</span></span><br><span class="line"><span class="string">error_log</span> <span class="string">logs/error.log;</span></span><br><span class="line"></span><br><span class="line"><span class="string">events</span> <span class="string">&#123;</span></span><br><span class="line">    <span class="string">worker_connections</span> <span class="number">1024</span><span class="string">;</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string">http</span> <span class="string">&#123;</span></span><br><span class="line">    <span class="string">lua_code_cache</span> <span class="string">off;</span></span><br><span class="line">  <span class="comment">#  lua_package_path 'conf/?.lua;;';</span></span><br><span class="line">    <span class="string">access_log</span> <span class="string">logs/access.log;</span></span><br><span class="line">    <span class="string">server</span> <span class="string">&#123;</span></span><br><span class="line">        <span class="string">listen</span> <span class="number">8080</span><span class="string">;</span></span><br><span class="line">        <span class="string">location</span> <span class="string">/</span> <span class="string">&#123;</span></span><br><span class="line">            <span class="string">default_type</span> <span class="string">text/html;</span></span><br><span class="line">            <span class="string">content_by_lua_block</span> <span class="string">&#123;</span></span><br><span class="line">                <span class="string">ngx.say("&lt;p&gt;hello,</span> <span class="string">world&lt;/p&gt;")</span></span><br><span class="line">            <span class="string">&#125;</span></span><br><span class="line">        <span class="string">&#125;</span></span><br><span class="line">        <span class="string">location</span> <span class="string">/luarocks</span> <span class="string">&#123;</span></span><br><span class="line">            <span class="string">default_type</span> <span class="string">"text/html"</span><span class="string">;</span></span><br><span class="line">            <span class="string">content_by_lua_file</span> <span class="string">conf/staticitem.lua;</span></span><br><span class="line">        <span class="string">&#125;</span></span><br><span class="line">    <span class="string">&#125;</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>lua_code_cache off;æ˜¯å…³é—­luaç¼“å­˜ï¼Œè¿™æ ·ä¿®æ”¹luaæ–‡ä»¶å°±èƒ½å®æ—¶åˆ·æ–°äº†ï¼Œä½†æ˜¯ä¼šå½±å“æ€§èƒ½ï¼Œæ­£å¼ç¯å¢ƒéœ€è¦å…³é—­</li>
</ul>
</li>
<li><p>åœ¨confç›®å½•ä¸‹åˆ›å»ºstaticitem.luaï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">ngx.say(<span class="string">"&lt;h1&gt;staticitem.lua.loaded&lt;/h1&gt;"</span>)</span><br><span class="line"><span class="keyword">local</span> bar= <span class="built_in">require</span> <span class="string">"conf/bar"</span></span><br><span class="line">bar.say(<span class="string">"hello"</span>)</span><br><span class="line"><span class="keyword">local</span> cjson = <span class="built_in">require</span> <span class="string">"cjson"</span></span><br><span class="line"><span class="keyword">local</span> json = cjson.encode(&#123;</span><br><span class="line">    foo = <span class="string">"bar"</span>,</span><br><span class="line">    some_object = &#123;&#125;,</span><br><span class="line">    some_array = cjson.empty_array</span><br><span class="line">&#125;)</span><br><span class="line">ngx.say(json)</span><br></pre></td></tr></table></figure>
</li>
<li><p>åœ¨confç›®å½•ä¸‹åˆ›å»ºbar.luaï¼š</p>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- conf/bar.lua</span></span><br><span class="line">_M=&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">local</span> rocks = <span class="built_in">require</span> <span class="string">"luarocks.loader"</span></span><br><span class="line"><span class="keyword">local</span> md5 = <span class="built_in">require</span> <span class="string">"md5"</span></span><br><span class="line"></span><br><span class="line">ngx.say(<span class="string">"rocks and md5 loaded"</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">_M.say</span> <span class="params">(a)</span></span></span><br><span class="line">    ngx.say(md5.sumhexa(a))</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> _M</span><br></pre></td></tr></table></figure>

<ul>
<li><p>è¿™é‡ŒåŠ è½½äº†md5æ¨¡å—ï¼Œéœ€è¦ä½¿ç”¨å‘½ä»¤å®‰è£…md5æ¨¡å—ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo luarocks install md5</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ¨èä½¿ç”¨bar.luaè¿™ç§æ–¹å¼ä¹¦å†™è‡ªå®šä¹‰æ¨¡å—</p>
</li>
</ul>
</li>
<li><p>åœ¨workç›®å½•ä¸‹å¯åŠ¨æœåŠ¡ï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo nginx -p `pwd`/ -c conf/nginx.conf</span><br></pre></td></tr></table></figure>

<ul>
<li><p>ä¿®æ”¹äº†é…ç½®å¯ä»¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤è¿›è¡Œé‡å¯ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo nginx -s reload</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>è®¿é—®ç½‘å€ï¼š<a href="http://localhost:8080/luarocksï¼Œè¿›è¡Œæµ‹è¯•" target="_blank" rel="noopener">http://localhost:8080/luarocksï¼Œè¿›è¡Œæµ‹è¯•</a></p>
</li>
<li><p>å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤è¿›è¡Œæ€§èƒ½æµ‹è¯•ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">ab -c10 -n10000 http://127.0.0.1:8080/luarocks</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h2 id="é€‚ç”¨çš„åœºæ™¯"><a href="#é€‚ç”¨çš„åœºæ™¯" class="headerlink" title="é€‚ç”¨çš„åœºæ™¯"></a>é€‚ç”¨çš„åœºæ™¯</h2><ol>
<li>é«˜è®¿é—®ä¸‹çš„åº”ç”¨åŠå®˜ç½‘çš„ä¸»é¡µ</li>
<li>å•†åŸç±»çš„ç§’æ€åŠŸèƒ½</li>
<li>ipé™æµ</li>
<li>APPç°åº¦å‡çº§å‘å¸ƒ</li>
<li>â€¦ â€¦</li>
</ol>
<hr>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>OpenRestyÂ®çš„ç¯å¢ƒè¿˜æ˜¯å¾ˆå¥½æ­å»ºçš„ï¼Œä¸»è¦è¿˜æ˜¯åº”ç”¨åœºæ™¯ä»¥åŠè®¾è®¡æ–¹æ¡ˆï¼Œè¿™ä¸ªéœ€è¦å¥½å¥½å»ç ”ç©¶äº†ï¼</p>
]]></content>
      <categories>
        <category>Nginx</category>
      </categories>
  </entry>
  <entry>
    <title>Python Data Analysis</title>
    <url>/2020/05/22/Python-Data-Analysis/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>NumPyï¼ˆNumeric Pythonï¼‰æ˜¯ä¸€ä¸ªä¼˜ç§€çš„å¼€æºç§‘å­¦è®¡ç®—åº“ï¼Œå¹¶å·²ç»æˆä¸ºPythonç§‘å­¦è®¡ç®—ç”Ÿæ€ç³»ç»Ÿçš„é‡è¦ç»„æˆéƒ¨åˆ†ã€‚NumPyä¸SciPyã€Matplotlibã€SciKitsç­‰å…¶ä»–ä¼—å¤šPythonç§‘å­¦è®¡ç®—åº“å¾ˆå¥½åœ°ç»“åˆåœ¨ä¸€èµ·ï¼Œå…±åŒæ„å»ºäº†ä¸€ä¸ªå®Œæ•´çš„ç§‘å­¦è®¡ç®—ç”Ÿæ€ç³»ç»Ÿï¼ä½¿ç”¨NumPyï¼Œå°±å¯ä»¥å¾ˆè‡ªç„¶åœ°ä½¿ç”¨æ•°ç»„å’ŒçŸ©é˜µã€‚<strong>æ¨èä¹¦ç±ï¼šã€ŠPythonæ•°æ®åˆ†æåŸºç¡€æ•™ç¨‹ NumPyå­¦ä¹ æŒ‡å—ï¼ˆç¬¬2ç‰ˆï¼‰ã€‹Â· [å°å°¼] Ivan Idris è‘— å¼ é©­å®‡ è¯‘</strong></p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="åŸºç¡€çŸ¥è¯†"><a href="#åŸºç¡€çŸ¥è¯†" class="headerlink" title="åŸºç¡€çŸ¥è¯†"></a>åŸºç¡€çŸ¥è¯†</h2><ol>
<li>NumPyåŒ…å«å¾ˆå¤šå®ç”¨çš„æ•°å­¦å‡½æ•°ï¼Œæ¶µç›–çº¿æ€§ä»£æ•°è¿ç®—ã€å‚…é‡Œå¶å˜æ¢å’Œéšæœºæ•°ç”Ÿæˆç­‰åŠŸèƒ½ï¼›</li>
<li>NumPyèƒ½å¤Ÿç›´æ¥å¯¹æ•°ç»„å’ŒçŸ©é˜µè¿›è¡Œæ“ä½œï¼Œå¯ä»¥çœç•¥å¾ˆå¤šå¾ªç¯è¯­å¥ï¼Œå…¶ä¼—å¤šçš„æ•°å­¦å‡½æ•°ä¹Ÿä¼šè®©ç¼–å†™ä»£ç çš„å·¥ä½œè½»æ¾è®¸å¤šï¼›</li>
<li>NumPyä¸­æ•°ç»„çš„å­˜å‚¨æ•ˆç‡å’Œè¾“å…¥è¾“å‡ºæ€§èƒ½å‡è¿œè¿œä¼˜äºPythonä¸­ç­‰ä»·çš„åŸºæœ¬æ•°æ®ç»“æ„ï¼›</li>
<li>NumPyæ˜¯å¼€æºçš„ï¼Œè¿™æ„å‘³ç€ä½¿ç”¨NumPyå¯ä»¥äº«å—åˆ°å¼€æºå¸¦æ¥çš„æ‰€æœ‰ç›Šå¤„ï¼›</li>
</ol>
<h2 id="NumPyåŸºç¡€"><a href="#NumPyåŸºç¡€" class="headerlink" title="NumPyåŸºç¡€"></a>NumPyåŸºç¡€</h2><ol>
<li></li>
</ol>
<hr>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1>]]></content>
      <categories>
        <category>Python</category>
      </categories>
  </entry>
  <entry>
    <title>Python Network Quick Start</title>
    <url>/2020/05/17/Python-Network-Quick-Start/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>PythonåŠŸèƒ½å¼ºå¤§ä¸”å…·äº¤äº’æ€§ï¼Œç”¨å®ƒæ¥å¼€å‘è§£å†³å®é™…é—®é¢˜çš„è„šæœ¬æ˜¯ä¸€ç§äº«å—ï¼Œæ¯”å¦‚å¤„ç†ç½‘ç»œå’Œç³»ç»Ÿç®¡ç†æ“ä½œã€å¼€å‘Webåº”ç”¨ã€ä¸æœ¬åœ°å’Œè¿œç¨‹ç½‘ç»œäº¤äº’ã€æ•è·å¹¶åˆ†æä½å±‚ç½‘ç»œæ•°æ®åŒ…ï¼Œç­‰ç­‰ã€‚<strong>æ¨èä¹¦ç±ï¼šã€ŠPython ç½‘ç»œç¼–ç¨‹æ”»ç•¥ã€‹Â· [è‹±] Dr. M. O. Faruque Sarker è‘— å®‰é“ è¯‘</strong></p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="å¥—æ¥å­—"><a href="#å¥—æ¥å­—" class="headerlink" title="å¥—æ¥å­—"></a>å¥—æ¥å­—</h2><ol>
<li><p>Pythonçš„socketæ¨¡å—æä¾›äº†ç±»æ–¹æ³•å’Œå®ä¾‹æ–¹æ³•ï¼ŒäºŒè€…çš„åŒºåˆ«åœ¨äºä½¿ç”¨ç±»æ–¹æ³•æ—¶ä¸éœ€è¦åˆ›å»ºå¥—æ¥å­—å¯¹è±¡å®ä¾‹ï¼›</p>
</li>
<li><p>æ¨èæ–‡ä»¶ä¸­ä½¿ç”¨__name__:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python3</span></span><br><span class="line"><span class="comment"># ...</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    print(<span class="string">"Self run!"</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p>import socket è¯­å¥å¯¼å…¥Pythonæä¾›çš„ä¸€ä¸ªæ ¸å¿ƒç½‘ç»œåº“ï¼›</p>
</li>
<li><p>è°ƒç”¨socketåº“æä¾›çš„gethostname()æ–¹æ³•ï¼ŒæŠŠç»“æœä¿å­˜åœ¨ä¸€ä¸ªå˜é‡ä¸­,å¯ä»¥è·å–åˆ°ä¸»æœºåï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python3</span></span><br><span class="line"><span class="keyword">import</span> socket</span><br><span class="line"></span><br><span class="line">hostname=socket.gethostname()</span><br><span class="line">print(hostname)</span><br></pre></td></tr></table></figure>
</li>
<li><p><a href="https://docs.python.org/3/library/socket.html" target="_blank" rel="noopener">å®˜æ–¹å¸®åŠ©æ–‡æ¡£</a></p>
</li>
<li><p>Pythonçš„socketåº“æä¾›äº†å¾ˆå¤šç”¨æ¥å¤„ç†ä¸åŒIPåœ°å€æ ¼å¼çš„å‡½æ•°,inet_aton()å’Œinet_ntoa()æ˜¯å…¶ä¸­å¸¸ç”¨çš„ä¸¤ä¸ªï¼›</p>
</li>
<li><p>å¦‚æœçŸ¥é“ç½‘ç»œæœåŠ¡ä½¿ç”¨çš„ç«¯å£ï¼Œå¯ä»¥è°ƒç”¨socketåº“ä¸­çš„getservbyport()å‡½æ•°æ¥è·å–æœåŠ¡çš„åå­—ï¼›</p>
</li>
<li><p>Pythonçš„socketåº“æä¾›äº†å°†æ•°æ®åœ¨ç½‘ç»œå­—èŠ‚åºå’Œä¸»æœºå­—èŠ‚åºä¹‹é—´ç›¸äº’è½¬æ¢çš„å‡½æ•°ï¼Œä¾‹å¦‚ntohl()å’Œhtonl()ï¼Œå‡½æ•°åä¸­çš„nè¡¨ç¤ºç½‘ç»œï¼›hè¡¨ç¤ºä¸»æœºï¼›lè¡¨ç¤ºé•¿æ•´å½¢ï¼›sè¡¨ç¤ºçŸ­æ•´å½¢ï¼Œå³16ä½ï¼›</p>
</li>
<li><p>å¯ä»¥åˆ›å»ºä¸€ä¸ªå¥—æ¥å­—å¯¹è±¡å®ä¾‹ï¼Œ è°ƒç”¨ gettimeout() æ–¹æ³•è·å–é»˜è®¤çš„è¶…æ—¶æ—¶é—´ï¼Œ è°ƒç”¨settimeout()æ–¹æ³•è®¾å®šä¸€ä¸ªè¶…æ—¶æ—¶é—´ï¼›</p>
</li>
<li><p>Pythonçš„socketåº“æä¾›äº†ä¸€ä¸ªæ–¹æ³•ï¼Œèƒ½é€šè¿‡socket.errorå¼‚å¸¸ä¼˜é›…åœ°å¤„ç†å¥—æ¥å­—é”™è¯¯ï¼›</p>
</li>
<li><p>åœ¨Pythonä¸­ï¼Œå¥—æ¥å­—å¯ä»¥è¢«è®¾ç½®ä¸ºé˜»å¡æ¨¡å¼æˆ–è€…éé˜»å¡æ¨¡å¼ï¼Œè°ƒç”¨setblocking(1)æŠŠå¥—æ¥å­—è®¾ä¸ºé˜»å¡æ¨¡å¼ï¼Œæˆ–è€…è°ƒç”¨setblocking(0)æŠŠå¥—æ¥å­—è®¾ä¸ºéé˜»å¡æ¨¡å¼ï¼›</p>
</li>
<li><p>åˆ›å»ºå¥—æ¥å­—å¯¹è±¡ä¹‹åï¼Œ æˆ‘ä»¬å¯ä»¥æŸ¥è¯¢åœ°å€é‡ç”¨çš„çŠ¶æ€ï¼Œè°ƒç”¨ setsockopt()æ–¹æ³•ï¼Œä¿®æ”¹åœ°å€é‡ç”¨çŠ¶æ€çš„å€¼</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Enable the SO_REUSEADDR option </span></span><br><span class="line">sock.setsockopt( socket.SOL_SOCKET, socket.SO_REUSEADDR, <span class="number">1</span> ) new_state = sock.getsockopt( socket.SOL_SOCKET, socket.SO_REUSEADDR )</span><br></pre></td></tr></table></figure>
</li>
<li><p>é€šè¿‡â€œç½‘ç»œæ—¶é—´åè®®â€ï¼ˆNetwork Time Protocolï¼Œç®€ç§°NTPï¼‰å¤„ç†å®¢æˆ·ç«¯ å’ŒæœåŠ¡å™¨ä¹‹é—´çš„é€šä¿¡,ä½¿ç”¨ntplibåº“è¿›è¡Œä¸ç½‘ç»œæ—¶é—´æœåŠ¡å™¨åŒæ­¥çš„æ“ä½œï¼›</p>
</li>
</ol>
<h2 id="å¤šè·¯å¤ç”¨"><a href="#å¤šè·¯å¤ç”¨" class="headerlink" title="å¤šè·¯å¤ç”¨"></a>å¤šè·¯å¤ç”¨</h2><ol>
<li>å¦‚æœæŸä¸ªå®¢æˆ·ç«¯æ¥æ”¶æˆ–å¤„ç†æ•°æ®æ—¶èŠ±äº†å¾ˆé•¿æ—¶é—´ï¼ŒæœåŠ¡å™¨æ— éœ€ç­‰å¾…å¤„ç†å®Œæˆï¼Œå¯ä»¥ä½¿ç”¨å¦å¤–çš„çº¿ç¨‹æˆ–è¿›ç¨‹å’Œå…¶ä»–å®¢æˆ·ç«¯é€šä¿¡ï¼›</li>
<li>Pythonçš„selectæ¨¡å—ä¸­æœ‰å¾ˆå¤šé’ˆå¯¹ç‰¹å®šå¹³å°çš„ç½‘ç»œäº‹ä»¶ç®¡ç†å‡½æ•°ï¼Œåœ¨Linuxè®¾å¤‡ä¸­å¯ä»¥ä½¿ç”¨epollï¼›</li>
</ol>
<h2 id="é«˜çº§ç½‘ç»œç¼–ç¨‹"><a href="#é«˜çº§ç½‘ç»œç¼–ç¨‹" class="headerlink" title="é«˜çº§ç½‘ç»œç¼–ç¨‹"></a>é«˜çº§ç½‘ç»œç¼–ç¨‹</h2><ol>
<li>æœ‰æ—¶éœ€è¦åˆ›å»ºä¸€ä¸ªæœ¬åœ°ç«¯å£è½¬å‘å™¨ï¼ŒæŠŠæœ¬åœ°ç«¯å£å‘é€çš„æµé‡å…¨éƒ¨é‡å®šå‘åˆ°ç‰¹å®šçš„è¿œç¨‹ä¸»æœºä¸Šï¼Œåˆ©ç”¨è¿™ä¸ªåŠŸèƒ½ï¼Œå¯ä»¥è®©ç”¨æˆ·åªèƒ½è®¿é—®ç‰¹å®šçš„ç½‘ç«™ï¼Œè€Œä¸èƒ½è®¿é—®å…¶ä»–ç½‘ç«™ï¼›</li>
<li>ä»¥ä¸€ç§æ›´å‹å¥½ã€æ›´ç®€æ´çš„æ–¹å¼å¤„ç†HTTPè¯·æ±‚çš„requestsåº“åœ¨Pythonä¸­è¢«é¢‘ç¹ä½¿ç”¨ï¼Œæ¯”å¦‚ä½¿ç”¨POSTè¯·æ±‚æäº¤ç½‘é¡µè¡¨å•ã€å¤„ç†é¦–éƒ¨ä¿¡æ¯å’Œä½¿ç”¨å‹ç¼©ç­‰ï¼Œè¯¥æ¨¡å—æä¾›äº†ä¾¿åˆ©çš„åŒ…è£…æ–¹æ³•get()å’Œpost()ï¼Œèƒ½æ­£ç¡®ç¼–ç URLä¸­çš„æ•°æ®å¹¶æäº¤è¡¨å•ï¼›</li>
<li>æƒ³åœ¨ä¸ä¸‹è½½HTMLå†…å®¹çš„å‰æä¸‹æ£€æŸ¥ç½‘é¡µæ˜¯å¦å­˜åœ¨,è¦ä½¿ç”¨æµè§ˆå™¨å®¢æˆ·ç«¯å‘é€GET HEADè¯·æ±‚ï¼›</li>
<li>åœ¨Pythonä»£ç ä¸­ï¼Œå¯èƒ½æƒ³å‡è£…æˆåœ¨ä½¿ç”¨Mozilla Firefoxè®¿é—®WebæœåŠ¡å™¨ï¼Œå¯ä»¥åœ¨HTTPè¯·æ±‚é¦–éƒ¨ä¸­å‘é€è‡ªå·±å®šåˆ¶çš„ç”¨æˆ·ä»£ç†å€¼ï¼›</li>
<li>å‹ç¼©HTTPæ•°æ®èƒ½æå‡ä¼ºæœç½‘é¡µå†…å®¹çš„é€Ÿåº¦ï¼›</li>
<li>Pythonå†…ç½®çš„telnetlibç½‘ç»œåº“åˆ›å»ºtelnetä¼šè¯,ä¸ºäº†åˆ›å»ºtelnetä¼šè¯ï¼Œéœ€è¦å®ä¾‹åŒ–Telnetç±»ï¼Œåˆå§‹åŒ–æ—¶è¦æŒ‡å®šä¸»æœºåå‚æ•°;</li>
<li>éœ€è¦é€šè¿‡SSHåœ¨è¿œç¨‹è®¾å¤‡ä¸­è¿è¡Œä¸€ä¸ªç®€å•çš„å‘½ä»¤,ä¾‹å¦‚ï¼ŒæŸ¥è¯¢è¿œç¨‹è®¾å¤‡çš„CPUæˆ–RAMä¿¡æ¯ï¼Œå¯ä»¥ä½¿ç”¨paramikoç¬¬ä¸‰æ–¹åº“ï¼›</li>
<li>XML-RPCä½¿ç”¨HTTPä½œä¸ºä¼ è¾“åª’ä»‹ï¼Œä½¿ç”¨XMLæ ¼å¼çš„å†…å®¹é€šä¿¡ï¼›</li>
<li>Supervisorå¹¿æ³›ç”¨äºå¯åŠ¨å’Œç®¡ç†å¯æ‰§è¡Œç¨‹åºï¼ŒSupervisorå¯ä»¥ä½œä¸ºåå°å®ˆæŠ¤è¿›ç¨‹è¿è¡Œï¼Œèƒ½ç›‘æ§å­è¿›ç¨‹ï¼Œä¸”å­è¿›ç¨‹æ„å¤–é€€å‡ºåèƒ½é‡å¯å­è¿›ç¨‹ï¼›</li>
<li>pcapï¼ˆpacket captureï¼Œæ•°æ®åŒ…æ•è·ï¼‰æ˜¯ä¿å­˜ç½‘ç»œæ•°æ®å¸¸ç”¨çš„ä¸€ç§æ–‡ä»¶æ ¼å¼ï¼ŒScapyåº“ä¸­çš„å®ç”¨å‡½æ•°sniff()å’Œwrpacp()æ•è·æ‰€æœ‰ç½‘ç»œæ•°æ®åŒ…ï¼</li>
</ol>
<hr>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>è¿™éƒ¨åˆ†åªæ˜¯ç½‘ç»œç›¸å…³çš„åŸºç¡€çŸ¥è¯†ï¼Œéœ€è¦å®æˆ˜æ¥æ·»åŠ è‡ªå·±åœ¨Pythonä¸­ä½¿ç”¨ç¬¬ä¸‰æ–¹åº“çš„åŸºç¡€èƒ½åŠ›ï¼</p>
]]></content>
      <categories>
        <category>Python</category>
      </categories>
  </entry>
  <entry>
    <title>Python Quick Start</title>
    <url>/2020/05/08/Python-Quick-Start/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>ä¹‹å‰å­¦ä¹ è¿‡Pythonçš„ç¼–ç¨‹ï¼Œç»å†è¿‡Pythonä»2åˆ°3çš„å‡çº§è¿‡ç¨‹ï¼Œç»å†è¿‡Python2åœæ­¢ç»´æŠ¤çš„æ—¶åˆ»ï¼Œæœ€å¼€å§‹çš„æ—¶å€™æ¥å—ï¼Œç„¶åæ’æ–¥ï¼Œå†åˆ°ç°åœ¨çš„å‡¡æ˜¯èƒ½è§£å†³é—®é¢˜çš„ç¼–ç¨‹è¯­è¨€éƒ½å¯ä»¥å»å­¦ä¹ çš„è¿‡ç¨‹ï¼Œæ˜¯æ€æƒ³è½¬å˜çš„è¿‡ç¨‹ï¼ä¹Ÿæ˜¯æˆ‘çš„æ„è¯†æµç¼–ç¨‹çš„å¼€å§‹ï¼Now is better than never!æœ‰ä¸€å¤©ä¹Ÿè®¸ä¼šæœ‰äººç«™åœ¨ä½ åé¢æƒŠå‘¼ï¼šâ€œå“‡ï¼Œä»£ç ç¼–å†™å¾—çœŸæ˜¯æ¼‚äº®ï¼â€ <strong><em>æ¨èä¹¦ç±ï¼šã€ŠPythonç¼–ç¨‹ ä»å…¥é—¨åˆ°å®è·µã€‹Â· [ç¾] Eric Maththesè‘— è¢å›½å¿  è¯‘ ã€ŠPythonç¨‹åºè®¾è®¡ï¼ˆç¬¬3ç‰ˆï¼‰ã€‹Â· [ç¾] John Zelle è‘— ç‹æµ·é¹ è¯‘</em></strong></p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="åŸºç¡€çŸ¥è¯†"><a href="#åŸºç¡€çŸ¥è¯†" class="headerlink" title="åŸºç¡€çŸ¥è¯†"></a>åŸºç¡€çŸ¥è¯†</h2><ol>
<li><p>Macä¸Šå®‰è£…Python3ï¼ˆå®‰è£…çš„æ—¶å€™ç‰ˆæœ¬å·²ç»æ˜¯3.7.7äº†ï¼‰ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">brew install python</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä½¿ç”¨çš„æ—¶å€™å¯ä»¥åœ¨ç»ˆç«¯ä¸­è¾“å…¥python3è¿›å…¥å‘½ä»¤è¡Œç¯å¢ƒï¼›</p>
</li>
<li><p>Pythonè§£é‡Šå™¨è¯»å–æ•´ä¸ªç¨‹åºï¼Œç¡®å®šå…¶ä¸­æ¯ä¸ªå•è¯çš„å«ä¹‰ï¼Œç¨‹åºå­˜åœ¨ä¸¥é‡çš„é”™è¯¯æ—¶ï¼ŒPythonå°†æ˜¾ç¤ºtracebackï¼›</p>
</li>
<li><p>å˜é‡å­˜å‚¨äº†ä¸€ä¸ªä¸å˜é‡ç›¸å…³è”çš„ä¿¡æ¯ï¼Œåœ¨ç¨‹åºä¸­å¯éšæ—¶ä¿®æ”¹å˜é‡çš„å€¼ï¼Œè€ŒPythonå°†å§‹ç»ˆè®°å½•å˜é‡çš„æœ€æ–°å€¼ï¼›</p>
<ul>
<li>å˜é‡ååªèƒ½åŒ…å«å­—æ¯ã€æ•°å­—å’Œä¸‹åˆ’çº¿</li>
<li>å˜é‡åä¸èƒ½åŒ…å«ç©ºæ ¼ï¼Œä½†å¯ä½¿ç”¨ä¸‹åˆ’çº¿æ¥åˆ†éš”å…¶ä¸­çš„å•è¯</li>
<li>ä¸è¦å°†Pythonå…³é”®å­—å’Œå‡½æ•°åç”¨ä½œå˜é‡å</li>
<li>å˜é‡ååº”æ—¢ç®€çŸ­åˆå…·æœ‰æè¿°æ€§</li>
<li>æ…ç”¨å°å†™å­—æ¯lå’Œå¤§å†™å­—æ¯Oï¼Œå› ä¸ºå®ƒä»¬å¯èƒ½è¢«äººé”™çœ‹æˆæ•°å­—1å’Œ0</li>
</ul>
</li>
<li><p>åœ¨Pythonä¸­ï¼Œç”¨å¼•å·æ‹¬èµ·çš„éƒ½æ˜¯å­—ç¬¦ä¸²ï¼Œå…¶ä¸­çš„å¼•å·å¯ä»¥æ˜¯å•å¼•å·ï¼Œä¹Ÿå¯ä»¥æ˜¯åŒå¼•å·ï¼›</p>
</li>
<li><p>æ–¹æ³•æ˜¯Pythonå¯å¯¹æ•°æ®æ‰§è¡Œçš„æ“ä½œ,æ¯ä¸ªæ–¹æ³•åé¢éƒ½è·Ÿç€ä¸€å¯¹æ‹¬å·,å› ä¸ºæ–¹æ³•é€šå¸¸éœ€è¦é¢å¤–çš„ä¿¡æ¯æ¥å®Œæˆå…¶å·¥ä½œ;</p>
</li>
<li><p>Pythonä½¿ç”¨åŠ å·ï¼ˆ+ï¼‰æ¥åˆå¹¶å­—ç¬¦ä¸²,ç§°ä¸ºæ‹¼æ¥ï¼Œå¯ä½¿ç”¨å­˜å‚¨åœ¨å˜é‡ä¸­çš„ä¿¡æ¯æ¥åˆ›å»ºå®Œæ•´çš„æ¶ˆæ¯ï¼›</p>
</li>
<li><p>ç©ºç™½æ³›æŒ‡ä»»ä½•éæ‰“å°å­—ç¬¦ï¼Œå¦‚ç©ºæ ¼ã€åˆ¶è¡¨ç¬¦å’Œæ¢è¡Œç¬¦ï¼›</p>
</li>
<li><p>Pythonèƒ½å¤Ÿæ‰¾å‡ºå­—ç¬¦ä¸²å¼€å¤´å’Œæœ«å°¾å¤šä½™çš„ç©ºç™½ï¼Œè¦ç¡®ä¿å­—ç¬¦ä¸²æœ«å°¾æ²¡æœ‰ç©ºç™½ï¼Œå¯ä½¿ç”¨æ–¹æ³•rstrip()ï¼Œè¿˜å¯ä»¥å‰”é™¤å­—ç¬¦ä¸²å¼€å¤´çš„ç©ºç™½ï¼Œæˆ–åŒæ—¶å‰”é™¤å­—ç¬¦ä¸²ä¸¤ç«¯çš„ç©ºç™½ï¼Œåˆ†åˆ«ä½¿ç”¨æ–¹æ³•lstrip()å’Œstrip()ï¼Œè¦æ°¸ä¹…åˆ é™¤è¿™ä¸ªå­—ç¬¦ä¸²ä¸­çš„ç©ºç™½ï¼Œå¿…é¡»å°†åˆ é™¤æ“ä½œçš„ç»“æœå­˜å›åˆ°å˜é‡ä¸­ï¼›</p>
</li>
<li><p>å¦‚æœéœ€è¦åœ¨ä¸€ä¸ªå‡½æ•°å†…ä¿®æ”¹å…¨å±€å˜é‡ï¼Œå°±ä½¿ç”¨ global è¯­å¥</p>
</li>
<li><p>åœ¨Pythonä¸­ï¼Œå¯å¯¹<strong>æ•´æ•°</strong>æ‰§è¡ŒåŠ ï¼ˆ+ï¼‰å‡ï¼ˆ-ï¼‰ä¹˜ï¼ˆ<em>ï¼‰é™¤ï¼ˆ/ï¼‰è¿ç®—ï¼Œå°†å¸¦å°æ•°ç‚¹çš„æ•°å­—éƒ½ç§°ä¸º*</em>æµ®ç‚¹æ•°**ï¼Œè°ƒç”¨å‡½æ•°str()å°†éå­—ç¬¦ä¸²å€¼è¡¨ç¤ºä¸ºå­—ç¬¦ä¸²ï¼›</p>
</li>
<li><p>åœ¨Pythonä¸­ï¼Œæ³¨é‡Šç”¨äº•å·ï¼ˆ#ï¼‰æ ‡è¯†ï¼Œäº•å·åé¢çš„å†…å®¹éƒ½ä¼šè¢«Pythonè§£é‡Šå™¨å¿½ç•¥ï¼›</p>
</li>
<li><p>åˆ—è¡¨ç”±ä¸€ç³»åˆ—æŒ‰ç‰¹å®šé¡ºåºæ’åˆ—çš„å…ƒç´ ç»„æˆï¼Œåœ¨Pythonä¸­ï¼Œç”¨æ–¹æ‹¬å·ï¼ˆ[]ï¼‰æ¥è¡¨ç¤ºåˆ—è¡¨ï¼Œå¹¶ç”¨é€—å·æ¥åˆ†éš”å…¶ä¸­çš„å…ƒç´ ï¼Œåˆ—è¡¨æ˜¯æœ‰åºé›†åˆï¼Œå› æ­¤è¦è®¿é—®åˆ—è¡¨çš„ä»»ä½•å…ƒç´ ï¼Œåªéœ€å°†è¯¥å…ƒç´ çš„ä½ç½®æˆ–ç´¢å¼•å‘Šè¯‰Pythonå³å¯ï¼Œ<strong>é€šè¿‡å°†ç´¢å¼•æŒ‡å®šä¸º-1ï¼Œå¯è®©Pythonè¿”å›æœ€åä¸€ä¸ªåˆ—è¡¨å…ƒç´ ï¼Œä¹Ÿé€‚ç”¨äºå…¶ä»–è´Ÿæ•°ç´¢å¼•ï¼Œä¾‹å¦‚ï¼Œç´¢å¼•-2è¿”å›å€’æ•°ç¬¬äºŒä¸ªåˆ—è¡¨å…ƒç´ </strong>ï¼›</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">bicycle = [<span class="string">"trek"</span>, <span class="string">'cannondale'</span>, <span class="string">'redline'</span>, <span class="string">'specialized'</span>]</span><br><span class="line">print(bicycle[<span class="number">0</span>])</span><br></pre></td></tr></table></figure>

<ol>
<li><p>æ–¹æ³•append()å°†å…ƒç´ æ·»åŠ åˆ°äº†åˆ—è¡¨æœ«å°¾ï¼Œè€Œä¸å½±å“åˆ—è¡¨ä¸­çš„å…¶ä»–æ‰€æœ‰å…ƒç´ </p>
</li>
<li><p>æ–¹æ³•insert()å¯åœ¨åˆ—è¡¨çš„ä»»ä½•ä½ç½®æ·»åŠ æ–°å…ƒç´ ï¼Œéœ€è¦æŒ‡å®šæ–°å…ƒç´ çš„ç´¢å¼•å’Œå€¼</p>
</li>
<li><p>çŸ¥é“è¦åˆ é™¤çš„å…ƒç´ åœ¨åˆ—è¡¨ä¸­çš„ä½ç½®ï¼Œå¯ä½¿ç”¨delè¯­å¥åˆ é™¤å…ƒç´ </p>
</li>
<li><p>æ–¹æ³•pop()å¯åˆ é™¤åˆ—è¡¨æœ«å°¾çš„å…ƒç´ ï¼Œå¹¶è®©ä½ èƒ½å¤Ÿæ¥ç€ä½¿ç”¨å®ƒï¼Œå¯ä»¥ä½¿ç”¨pop()æ¥åˆ é™¤åˆ—è¡¨ä¸­ä»»ä½•ä½ç½®çš„å…ƒç´ ï¼Œåªéœ€åœ¨æ‹¬å·ä¸­æŒ‡å®šè¦åˆ é™¤çš„å…ƒç´ çš„ç´¢å¼•å³å¯</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">bicycle = [<span class="string">"trek"</span>, <span class="string">'cannondale'</span>, <span class="string">'redline'</span>, <span class="string">'specialized'</span>]</span><br><span class="line">bicycle.insert(<span class="number">0</span>,<span class="string">'hello'</span>)</span><br><span class="line">bicycle.append(<span class="number">2</span>)</span><br><span class="line">bicycle.append(<span class="number">3</span>)</span><br><span class="line"><span class="keyword">del</span> bicycle[<span class="number">1</span>]</span><br><span class="line">bicycle.pop()</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ–¹æ³•remove()å¯ä»¥åªçŸ¥é“è¦åˆ é™¤çš„å…ƒç´ çš„å€¼ä¾¿å¯åˆ é™¤å…ƒç´ ï¼Œåªåˆ é™¤ç¬¬ä¸€ä¸ªæŒ‡å®šçš„å€¼</p>
</li>
</ol>
</li>
<li><p>Pythonæ–¹æ³•sort()è®©ä½ èƒ½å¤Ÿè¾ƒä¸ºè½»æ¾åœ°å¯¹åˆ—è¡¨è¿›è¡Œæ°¸ä¹…æ€§æ’åºï¼Œå¯ä»¥æŒ‰ä¸å­—æ¯é¡ºåºç›¸åçš„é¡ºåºæ’åˆ—åˆ—è¡¨å…ƒç´ ï¼Œåªéœ€å‘ sort() æ–¹æ³•ä¼ é€’å‚æ•°reverse=Trueï¼›</p>
</li>
<li><p>è¦ä¿ç•™åˆ—è¡¨å…ƒç´ åŸæ¥çš„æ’åˆ—é¡ºåºï¼ŒåŒæ—¶ä»¥ç‰¹å®šçš„é¡ºåºå‘ˆç°å®ƒä»¬ï¼Œå¯ä½¿ç”¨å‡½æ•°sorted()ï¼Œä¹Ÿå¯å‘å‡½æ•°sorted()ä¼ é€’å‚æ•°reverse=Trueï¼›</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">bicycle.sort()</span><br><span class="line">print(sorted(bicycle))</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ–¹æ³•reverse()åè½¬åˆ—è¡¨å…ƒç´ çš„æ’åˆ—é¡ºåº,æ³¨æ„ä¹Ÿæ˜¯æ°¸ä¹…æ€§çš„ä¿®æ”¹åˆ—è¡¨ä¸­å…ƒç´ çš„æ’åˆ—é¡ºåºï¼Œæƒ³è¦æ¢å¤å†æ¬¡reverse()ï¼›</p>
</li>
<li><p>ä½¿ç”¨å‡½æ•°len()å¯å¿«é€Ÿè·æ‚‰åˆ—è¡¨çš„é•¿åº¦ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">len(bicycle)</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä½¿ç”¨forå¾ªç¯å¤„ç†æ•°æ®æ˜¯ä¸€ç§å¯¹æ•°æ®é›†æ‰§è¡Œæ•´ä½“æ“ä½œçš„ä¸é”™çš„æ–¹å¼ï¼ŒPythonæ ¹æ®ç¼©è¿›æ¥åˆ¤æ–­ä»£ç è¡Œä¸å‰ä¸€ä¸ªä»£ç è¡Œçš„å…³ç³»ï¼Œforè¯­å¥æœ«å°¾çš„å†’å·å‘Šè¯‰Pythonï¼Œä¸‹ä¸€è¡Œæ˜¯å¾ªç¯çš„ç¬¬ä¸€è¡Œï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">magicians = [<span class="string">'alice'</span>, <span class="string">'david'</span>, <span class="string">'carolina'</span>]</span><br><span class="line"><span class="keyword">for</span> magician <span class="keyword">in</span> magicians:</span><br><span class="line">    print(magician)</span><br></pre></td></tr></table></figure>
</li>
<li><p>Pythonå‡½æ•° range() è®©ä½ èƒ½å¤Ÿè½»æ¾åœ°ç”Ÿæˆä¸€ç³»åˆ—çš„æ•°å­—ï¼Œä»æŒ‡å®šçš„ç¬¬ä¸€ä¸ªå€¼å¼€å§‹æ•°ï¼Œå¹¶åœ¨åˆ°è¾¾ä½ æŒ‡å®šçš„ç¬¬äºŒä¸ªå€¼ååœæ­¢ç”Ÿæˆæ•°å­—åˆ—è¡¨ï¼Œå¯ä½¿ç”¨å‡½æ•°list()å°†range()çš„ç»“æœç›´æ¥è½¬æ¢ä¸ºåˆ—è¡¨ï¼Œå…è®¸æŒ‡å®šæ­¥é•¿ï¼Œé»˜è®¤æ˜¯1ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">arr = list(range(<span class="number">1</span>,<span class="number">6</span>))</span><br><span class="line">print(arr)</span><br><span class="line"><span class="keyword">for</span> num <span class="keyword">in</span> range(<span class="number">1</span>,<span class="number">6</span>):</span><br><span class="line">    print(num)</span><br><span class="line">    </span><br><span class="line"><span class="comment"># æŒ‡å®šæ­¥é•¿</span></span><br><span class="line">arr = list(range(<span class="number">1</span>,<span class="number">11</span>,<span class="number">2</span>))</span><br><span class="line">print(arr)</span><br></pre></td></tr></table></figure>
</li>
<li><p>åœ¨Pythonä¸­ï¼Œä¸¤ä¸ªæ˜Ÿå·ï¼ˆ**ï¼‰è¡¨ç¤ºä¹˜æ–¹è¿ç®—:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> num <span class="keyword">in</span> range(<span class="number">1</span>,<span class="number">11</span>,<span class="number">2</span>):</span><br><span class="line">    print(num**<span class="number">2</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p>å¯ä»¥è½»æ¾åœ°æ‰¾å‡ºæ•°å­—åˆ—è¡¨çš„æœ€å¤§å€¼ã€æœ€å°å€¼å’Œæ€»å’Œï¼Œåˆ†åˆ«ä½¿ç”¨maxã€minã€sumå‡½æ•°ï¼›</p>
</li>
<li><p><strong>åˆ—è¡¨è§£æ</strong>å°†forå¾ªç¯å’Œåˆ›å»ºæ–°å…ƒç´ çš„ä»£ç åˆå¹¶æˆä¸€è¡Œï¼Œå¹¶è‡ªåŠ¨é™„åŠ æ–°å…ƒç´ ï¼Œè¦ä½¿ç”¨è¿™ç§è¯­æ³•ï¼Œé¦–å…ˆæŒ‡å®šä¸€ä¸ªæè¿°æ€§çš„åˆ—è¡¨åï¼Œå¦‚squaresï¼›ç„¶åï¼ŒæŒ‡å®šä¸€ä¸ªå·¦æ–¹æ‹¬å·ï¼Œå¹¶å®šä¹‰ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œç”¨äºç”Ÿæˆä½ è¦å­˜å‚¨åˆ°åˆ—è¡¨ä¸­çš„å€¼ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">squares = [ value**<span class="number">2</span> <span class="keyword">for</span> value <span class="keyword">in</span> range(<span class="number">1</span>,<span class="number">11</span>) ]</span><br><span class="line">print(squares)</span><br></pre></td></tr></table></figure>
</li>
<li><p>å¤„ç†åˆ—è¡¨çš„éƒ¨åˆ†å…ƒç´ â€”â€”Pythonç§°ä¹‹ä¸º<strong>åˆ‡ç‰‡</strong>ï¼Œè¦åˆ›å»ºåˆ‡ç‰‡ï¼Œå¯æŒ‡å®šè¦ä½¿ç”¨çš„ç¬¬ä¸€ä¸ªå…ƒç´ å’Œæœ€åä¸€ä¸ªå…ƒç´ çš„ç´¢å¼•ï¼Œæ³¨æ„æŒ‡å®šçš„æ˜¯ç¬¬å‡ ä¸ªå…ƒç´ å¼€å§‹ï¼Œç´¢å¼•ç»“æŸä¹‹å‰çš„å…ƒç´ ä¸ºæ­¢ï¼Œæ²¡æœ‰æŒ‡å®šç¬¬ä¸€ä¸ªç´¢å¼•ï¼ŒPythonå°†è‡ªåŠ¨ä»åˆ—è¡¨å¼€å¤´å¼€å§‹ï¼Œè¦è®©åˆ‡ç‰‡ç»ˆæ­¢äºåˆ—è¡¨æœ«å°¾ï¼Œä¹Ÿå¯ä½¿ç”¨ç±»ä¼¼çš„è¯­æ³•ï¼Œçœç•¥ç»ˆæ­¢ç´¢å¼•ï¼Œéƒ½ä¸æŒ‡å®šç±»ä¼¼äºä¸ä½¿ç”¨[]ï¼Œè´Ÿæ•°ç´¢å¼•è¿”å›ç¦»åˆ—è¡¨æœ«å°¾ç›¸åº”è·ç¦»çš„å…ƒç´ ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">arr=list(range(<span class="number">1</span>,<span class="number">20</span>,<span class="number">2</span>))</span><br><span class="line">print(arr)</span><br><span class="line">print(arr[<span class="number">1</span>:<span class="number">3</span>])</span><br><span class="line"><span class="comment"># [3, 5]</span></span><br><span class="line">print(arr[:])</span><br><span class="line"><span class="comment"># ç­‰åŒäºprint(arr)</span></span><br><span class="line">print(arr[<span class="number">-3</span>:])</span><br></pre></td></tr></table></figure>
</li>
<li><p>è¦<strong>å¤åˆ¶åˆ—è¡¨</strong>ï¼Œå¯åˆ›å»ºä¸€ä¸ªåŒ…å«æ•´ä¸ªåˆ—è¡¨çš„åˆ‡ç‰‡ï¼Œæ–¹æ³•æ˜¯åŒæ—¶çœç•¥èµ·å§‹ç´¢å¼•å’Œç»ˆæ­¢ç´¢å¼•ï¼ˆ[:]ï¼‰ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">arr=list(range(<span class="number">1</span>,<span class="number">20</span>,<span class="number">2</span>))</span><br><span class="line">print(arr)</span><br><span class="line">print(arr[:])</span><br><span class="line"><span class="comment"># å’Œarr2=arræ˜¯ä¸åŒçš„</span></span><br><span class="line">arr2=arr[:]</span><br><span class="line">arr2[<span class="number">0</span>]=<span class="number">4</span></span><br><span class="line">print(arr)</span><br><span class="line">print(arr2)</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h2 id="å…ƒç»„"><a href="#å…ƒç»„" class="headerlink" title="å…ƒç»„"></a>å…ƒç»„</h2><ol>
<li>Pythonå°†ä¸èƒ½ä¿®æ”¹çš„å€¼ç§°ä¸ºä¸å¯å˜çš„ï¼Œè€Œä¸å¯å˜çš„åˆ—è¡¨è¢«ç§°ä¸º<strong>å…ƒç»„</strong>ï¼›</li>
<li>å…ƒç»„çœ‹èµ·æ¥çŠ¹å¦‚åˆ—è¡¨ï¼Œä½†ä½¿ç”¨åœ†æ‹¬å·è€Œä¸æ˜¯æ–¹æ‹¬å·æ¥æ ‡è¯†ï¼Œå¯ä»¥ä½¿ç”¨ç´¢å¼•æ¥è®¿é—®å…¶å…ƒç´ ï¼Œå°±åƒè®¿é—®åˆ—è¡¨å…ƒç´ ä¸€æ ·ï¼›</li>
<li>åƒåˆ—è¡¨ä¸€æ ·ï¼Œå¯ä»¥ä½¿ç”¨forå¾ªç¯æ¥éå†å…ƒç»„ä¸­çš„æ‰€æœ‰å€¼ï¼›</li>
<li>è™½ç„¶ä¸èƒ½ä¿®æ”¹å…ƒç»„çš„å…ƒç´ ï¼Œä½†å¯ä»¥ç»™å­˜å‚¨å…ƒç»„çš„å˜é‡èµ‹å€¼ï¼›</li>
<li>ä¸ºä»€ä¹ˆå•ç‹¬åˆ—å‡ºå…ƒç»„ï¼Œå› ä¸ºå…ƒç»„å¯ä»¥ä½œä¸ºå‡½æ•°çš„è¿”å›å€¼ï¼</li>
</ol>
<h2 id="åˆ¤æ–­"><a href="#åˆ¤æ–­" class="headerlink" title="åˆ¤æ–­"></a>åˆ¤æ–­</h2><ol>
<li><p>ifè¯­å¥è®©ä½ èƒ½å¤Ÿæ£€æŸ¥ç¨‹åºçš„å½“å‰çŠ¶æ€ï¼Œå¹¶æ®æ­¤é‡‡å–ç›¸åº”çš„æªæ–½ï¼›</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">cars = [<span class="string">'audi'</span>, <span class="string">'bmw'</span>, <span class="string">'subaru'</span>, <span class="string">'toyota'</span>]</span><br><span class="line"><span class="keyword">for</span> car <span class="keyword">in</span> cars:</span><br><span class="line">    <span class="keyword">if</span> car == <span class="string">'bmw'</span>:</span><br><span class="line">        print(car.upper())</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        print(car.title())</span><br></pre></td></tr></table></figure>
</li>
<li><p>åœ¨Pythonä¸­æ£€æŸ¥æ˜¯å¦ç›¸ç­‰æ—¶åŒºåˆ†å¤§å°å†™ï¼Œå¦‚æœå¤§å°å†™æ— å…³ç´§è¦ï¼Œè€Œåªæƒ³æ£€æŸ¥å˜é‡çš„å€¼ï¼Œå¯å°†å˜é‡çš„å€¼è½¬æ¢ä¸ºå°å†™ï¼Œå†è¿›è¡Œæ¯”è¾ƒï¼›</p>
</li>
<li><p>è¦åˆ¤æ–­ä¸¤ä¸ªå€¼æ˜¯å¦ä¸ç­‰ï¼Œå¯ç»“åˆä½¿ç”¨æƒŠå¹å·å’Œç­‰å·ï¼ˆ!=ï¼‰ï¼Œå…¶ä¸­çš„æƒŠå¹å·è¡¨ç¤ºä¸ï¼Œä½¿ç”¨ä¸¤ä¸ªç­‰å·ï¼ˆ==ï¼‰åˆ¤æ–­ä¸¤ä¸ªå€¼æ˜¯å¦ç›¸ç­‰ï¼›</p>
</li>
<li><p>ä½¿ç”¨andæ£€æŸ¥å¤šä¸ªæ¡ä»¶ï¼Œä½¿ç”¨oræ£€æŸ¥å¤šä¸ªæ¡ä»¶ï¼Œå‰è€…å¿…é¡»å…¨éƒ¨éƒ½ç¬¦åˆï¼Œåè€…åªéœ€è¦æœ‰ä¸€ä¸ªé€šè¿‡å°±ç¬¦åˆï¼›</p>
</li>
<li><p>å…³é”®å­— in åˆ¤æ–­ç‰¹å®šçš„å€¼æ˜¯å¦å·²åŒ…å«åœ¨åˆ—è¡¨ä¸­ï¼Œå…³é”®å­—not in åˆ¤æ–­æ˜¯å¦ä¸åœ¨åˆ—è¡¨ä¸­ï¼›</p>
</li>
<li><p>Pythonåªæ‰§è¡Œif-elif-elseç»“æ„ä¸­çš„ä¸€ä¸ªä»£ç å—ï¼Œå®ƒä¾æ¬¡æ£€æŸ¥æ¯ä¸ªæ¡ä»¶æµ‹è¯•ï¼Œç›´åˆ°é‡åˆ°é€šè¿‡äº†çš„æ¡ä»¶æµ‹è¯•ï¼›</p>
</li>
</ol>
<h2 id="å­—å…¸"><a href="#å­—å…¸" class="headerlink" title="å­—å…¸"></a>å­—å…¸</h2><ol>
<li><p>åœ¨Pythonä¸­ï¼Œå­—å…¸æ˜¯ä¸€ç³»åˆ—é”®â€”å€¼å¯¹ï¼Œæ¯ä¸ªé”®éƒ½ä¸ä¸€ä¸ªå€¼ç›¸å…³è”ï¼Œå¯ä»¥ä½¿ç”¨é”®æ¥è®¿é—®ä¸ä¹‹ç›¸å…³è”çš„å€¼ï¼Œå­—å…¸ç”¨æ”¾åœ¨èŠ±æ‹¬å·{}ä¸­çš„ä¸€ç³»åˆ—é”®â€”å€¼å¯¹è¡¨ç¤ºï¼Œé”®å’Œå€¼ä¹‹é—´ç”¨å†’å·åˆ†éš”ï¼Œè€Œé”®â€”å€¼å¯¹ä¹‹é—´ç”¨é€—å·åˆ†éš”ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å­—å…¸</span></span><br><span class="line">alien_0 = &#123;<span class="string">'color'</span>: <span class="string">'green'</span>, <span class="string">'points'</span>: <span class="number">5</span>&#125;</span><br><span class="line">print(alien_0[<span class="string">'color'</span>])</span><br><span class="line">print(alien_0[<span class="string">'points'</span>])</span><br></pre></td></tr></table></figure>
</li>
<li><p>å­—å…¸æ˜¯ä¸€ç§åŠ¨æ€ç»“æ„ï¼Œå¯éšæ—¶åœ¨å…¶ä¸­æ·»åŠ é”®â€”å€¼å¯¹ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">alien_0 = &#123;<span class="string">'color'</span>: <span class="string">'green'</span>, <span class="string">'points'</span>: <span class="number">5</span>&#125;</span><br><span class="line">alien_0[<span class="string">'x'</span>]=<span class="number">123</span>;</span><br><span class="line">alien_0[<span class="string">'y'</span>]=<span class="number">234</span>;</span><br><span class="line">print(alien_0)</span><br></pre></td></tr></table></figure>
</li>
<li><p>åœ¨ç©ºå­—å…¸ä¸­æ·»åŠ é”®â€”å€¼å¯¹æ˜¯ä¸ºäº†æ–¹ä¾¿,ç›´æ¥ä½¿ç”¨{}å¯ä»¥åˆ›å»ºç©ºå­—å…¸ï¼›</p>
</li>
<li><p>å­—å…¸ä¸­ä¸å†éœ€è¦çš„ä¿¡æ¯ï¼Œå¯ä½¿ç”¨delè¯­å¥å°†ç›¸åº”çš„é”®â€”å€¼å¯¹å½»åº•åˆ é™¤ï¼Œä½¿ç”¨delè¯­å¥æ—¶ï¼Œå¿…é¡»æŒ‡å®šå­—å…¸åå’Œè¦åˆ é™¤çš„é”®ï¼›</p>
</li>
<li><p>ç”¨äºéå†å­—å…¸çš„forå¾ªç¯ï¼Œå¯å£°æ˜ä¸¤ä¸ªå˜é‡ï¼Œç”¨äºå­˜å‚¨é”®â€”å€¼å¯¹ä¸­çš„é”®å’Œå€¼ï¼Œå¯¹äºè¿™ä¸¤ä¸ªå˜é‡ï¼Œå¯ä½¿ç”¨ä»»ä½•åç§°ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">alien_0 = &#123;<span class="string">'color'</span>: <span class="string">'green'</span>, <span class="string">'points'</span>: <span class="number">5</span>&#125;</span><br><span class="line"><span class="keyword">for</span> key,value <span class="keyword">in</span> alien_0.items():</span><br><span class="line">    print(key+<span class="string">" : "</span>+str(value))</span><br></pre></td></tr></table></figure>
</li>
<li><p>Pythonä¸å…³å¿ƒé”®â€”å€¼å¯¹çš„å­˜å‚¨é¡ºåºï¼Œè€Œåªè·Ÿè¸ªé”®å’Œå€¼ä¹‹é—´çš„å…³è”å…³ç³»ï¼›</p>
</li>
<li><p>æ–¹æ³•keys()è¿”å›å­—å…¸ä¸­çš„æ‰€æœ‰é”®ï¼›</p>
</li>
<li><p>æ–¹æ³•values()è¿”å›ä¸€ä¸ªå€¼åˆ—è¡¨ï¼›</p>
</li>
<li><p>å°†ä¸€ç³»åˆ—å­—å…¸å­˜å‚¨åœ¨åˆ—è¡¨ä¸­ï¼Œæˆ–å°†åˆ—è¡¨ä½œä¸ºå€¼å­˜å‚¨åœ¨å­—å…¸ä¸­ï¼Œè¿™ç§°ä¸º<strong>åµŒå¥—</strong>ï¼›</p>
</li>
</ol>
<h2 id="ç”¨æˆ·è¾“å…¥"><a href="#ç”¨æˆ·è¾“å…¥" class="headerlink" title="ç”¨æˆ·è¾“å…¥"></a>ç”¨æˆ·è¾“å…¥</h2><ol>
<li><p>å‡½æ•°input()è®©ç¨‹åºæš‚åœè¿è¡Œï¼Œç­‰å¾…ç”¨æˆ·è¾“å…¥ä¸€äº›æ–‡æœ¬ï¼Œè·å–ç”¨æˆ·è¾“å…¥åï¼ŒPythonå°†å…¶å­˜å‚¨åœ¨ä¸€ä¸ªå˜é‡ä¸­,ä½¿ç”¨å‡½æ•°input()æ—¶ï¼ŒPythonå°†ç”¨æˆ·è¾“å…¥è§£è¯»ä¸ºå­—ç¬¦ä¸²ï¼›</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">message = input(<span class="string">"Tell me something, and I will repeat it back to you: "</span>)</span><br><span class="line">print(message)</span><br></pre></td></tr></table></figure>
</li>
<li><p>å‡½æ•°int()å°†æ•°å­—çš„å­—ç¬¦ä¸²è¡¨ç¤ºè½¬æ¢ä¸ºæ•°å€¼è¡¨ç¤º;</p>
</li>
<li><p>æ±‚æ¨¡è¿ç®—ç¬¦ï¼ˆ%ï¼‰å°†ä¸¤ä¸ªæ•°ç›¸é™¤å¹¶è¿”å›ä½™æ•°;</p>
</li>
</ol>
<h2 id="whileå¾ªç¯"><a href="#whileå¾ªç¯" class="headerlink" title="whileå¾ªç¯"></a>whileå¾ªç¯</h2><ol>
<li><p>whileå¾ªç¯ä¸æ–­åœ°è¿è¡Œï¼Œç›´åˆ°æŒ‡å®šçš„æ¡ä»¶ä¸æ»¡è¶³ä¸ºæ­¢:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">current_number = <span class="number">1</span></span><br><span class="line"><span class="keyword">while</span> current_number &lt;= <span class="number">5</span>:</span><br><span class="line">    print(current_number)</span><br><span class="line">    current_number += <span class="number">1</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>breakè¯­å¥ç”¨äºæ§åˆ¶ç¨‹åºæµç¨‹ï¼Œå¯ä½¿ç”¨å®ƒæ¥æ§åˆ¶å“ªäº›ä»£ç è¡Œå°†æ‰§è¡Œï¼Œå“ªäº›ä»£ç è¡Œä¸æ‰§è¡Œï¼Œä»è€Œè®©ç¨‹åºæŒ‰ä½ çš„è¦æ±‚æ‰§è¡Œä½ è¦æ‰§è¡Œçš„ä»£ç ;</p>
</li>
<li><p>continueçš„ä½œç”¨å­¦è¿‡Cè¯­è¨€çš„çŸ¥é“ä»€ä¹ˆæ„æ€ï¼›</p>
</li>
</ol>
<h2 id="å‡½æ•°"><a href="#å‡½æ•°" class="headerlink" title="å‡½æ•°"></a>å‡½æ•°</h2><ol>
<li><p>å‡½æ•°æ˜¯å¸¦åå­—çš„ä»£ç å—ï¼Œç”¨äºå®Œæˆå…·ä½“çš„å·¥ä½œï¼›</p>
</li>
<li><p>ä½¿ç”¨å…³é”®å­—defæ¥å‘Šè¯‰Pythonä½ è¦å®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼›</p>
</li>
<li><p>æ–‡æ¡£å­—ç¬¦ä¸²ç”¨ä¸‰å¼•å·æ‹¬èµ·ï¼ŒPythonä½¿ç”¨å®ƒä»¬æ¥ç”Ÿæˆæœ‰å…³ç¨‹åºä¸­å‡½æ•°çš„æ–‡æ¡£ï¼›</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">describe_pet</span><span class="params">(animal_type, pet_name)</span>:</span></span><br><span class="line">    <span class="string">"""æ˜¾ç¤ºå® ç‰©çš„ä¿¡æ¯"""</span></span><br><span class="line">    print(<span class="string">"\nI have a "</span> + animal_type + <span class="string">"."</span>)</span><br><span class="line">    print(<span class="string">"My "</span> + animal_type + <span class="string">"'s name is "</span> + pet_name.title() + <span class="string">"."</span>)</span><br><span class="line"></span><br><span class="line">describe_pet(<span class="string">'hamster'</span>, <span class="string">'harry'</span>)</span><br><span class="line">describe_pet(animal_type=<span class="string">'hamster'</span>, pet_name=<span class="string">'harry'</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p>å…³é”®å­—å®å‚æ˜¯ä¼ é€’ç»™å‡½æ•°çš„åç§°â€”å€¼å¯¹,å‘å‡½æ•°ä¼ é€’å®å‚æ—¶ä¸ä¼šæ··æ·†ï¼›</p>
</li>
<li><p>ç¼–å†™å‡½æ•°æ—¶ï¼Œå¯ç»™æ¯ä¸ªå½¢å‚æŒ‡å®šé»˜è®¤å€¼ã€‚åœ¨è°ƒç”¨å‡½æ•°ä¸­ç»™å½¢å‚æä¾›äº†å®å‚æ—¶ï¼ŒPythonå°†ä½¿ç”¨æŒ‡å®šçš„å®å‚å€¼ï¼Œå¦åˆ™ï¼Œå°†ä½¿ç”¨å½¢å‚çš„é»˜è®¤å€¼</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">describe_pet</span><span class="params">(animal_type=<span class="string">'dk'</span>, pet_name=<span class="string">'ds'</span>)</span>:</span></span><br><span class="line">    <span class="string">"""æ˜¾ç¤ºå® ç‰©çš„ä¿¡æ¯"""</span></span><br><span class="line">    print(<span class="string">"\nI have a "</span> + animal_type + <span class="string">"."</span>)</span><br><span class="line">    print(<span class="string">"My "</span> + animal_type + <span class="string">"'s name is "</span> + pet_name.title() + <span class="string">"."</span>)</span><br><span class="line"></span><br><span class="line">describe_pet(<span class="string">'hamster'</span>, <span class="string">'harry'</span>)</span><br><span class="line">describe_pet()</span><br></pre></td></tr></table></figure>
</li>
<li><p>åœ¨å‡½æ•°ä¸­ï¼Œå¯ä½¿ç”¨returnè¯­å¥å°†å€¼è¿”å›åˆ°è°ƒç”¨å‡½æ•°çš„ä»£ç è¡Œ:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">describe_pet</span><span class="params">(animal_type=<span class="string">'dk'</span>, pet_name=<span class="string">'ds'</span>)</span>:</span></span><br><span class="line">    <span class="string">"""æ˜¾ç¤ºå® ç‰©çš„ä¿¡æ¯"""</span></span><br><span class="line">    print(<span class="string">"\nI have a "</span> + animal_type + <span class="string">"."</span>)</span><br><span class="line">    print(<span class="string">"My "</span> + animal_type + <span class="string">"'s name is "</span> + pet_name.title() + <span class="string">"."</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"Hello"</span></span><br><span class="line"></span><br><span class="line">message=describe_pet()</span><br><span class="line">print(message)</span><br></pre></td></tr></table></figure>
</li>
<li><p>è¦å°†åˆ—è¡¨çš„å‰¯æœ¬ä¼ é€’ç»™å‡½æ•°ï¼Œå¯ä»¥åƒä¸‹é¢è¿™æ ·åš:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">function_name(list_name[:])</span><br></pre></td></tr></table></figure>
</li>
<li><p>Pythonå…è®¸å‡½æ•°ä»è°ƒç”¨è¯­å¥ä¸­æ”¶é›†ä»»æ„æ•°é‡çš„å®å‚ï¼Œåœ¨å®šä¹‰å‡½æ•°çš„å‚æ•°çš„æ—¶å€™æ·»åŠ *ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å½¢å‚å*toppingsä¸­çš„æ˜Ÿå·è®©Pythonåˆ›å»ºä¸€ä¸ªåä¸ºtoppingsçš„ç©ºå…ƒç»„ï¼Œå¹¶å°†æ”¶åˆ°çš„æ‰€æœ‰å€¼éƒ½å°è£…åˆ°è¿™ä¸ªå…ƒç»„ä¸­</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">make_pizza</span><span class="params">(*toppings)</span>:</span></span><br><span class="line">  <span class="string">"""æ‰“å°é¡¾å®¢ç‚¹çš„æ‰€æœ‰é…æ–™"""</span></span><br><span class="line">  print(toppings)</span><br><span class="line">make_pizza(<span class="string">'mushrooms'</span>, <span class="string">'green peppers'</span>, <span class="string">'extra cheese'</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p>å¯å°†å‡½æ•°ç¼–å†™æˆèƒ½å¤Ÿæ¥å—ä»»æ„æ•°é‡çš„é”®â€”å€¼å¯¹,å˜é‡ä½¿ç”¨**å¼€å¤´ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">build_profile</span><span class="params">(first, last, **user_info)</span>:</span></span><br><span class="line">    <span class="string">"""åˆ›å»ºä¸€ä¸ªå­—å…¸ï¼Œå…¶ä¸­åŒ…å«æˆ‘ä»¬çŸ¥é“çš„æœ‰å…³ç”¨æˆ·çš„ä¸€åˆ‡"""</span></span><br><span class="line">    profile = &#123;&#125;</span><br><span class="line">    profile[<span class="string">'first_name'</span>] = first</span><br><span class="line">    profile[<span class="string">'last_name'</span>] = last</span><br><span class="line">    <span class="keyword">for</span> key, value <span class="keyword">in</span> user_info.items():</span><br><span class="line">        profile[key] = value</span><br><span class="line">    <span class="keyword">return</span> profile</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">user_profile = build_profile(<span class="string">'albert'</span>, <span class="string">'einstein'</span>, location=<span class="string">'princeton'</span>, field=<span class="string">'physics'</span>)</span><br><span class="line">print(user_profile)</span><br></pre></td></tr></table></figure>
</li>
<li><p>å¯ä»¥å°†å‡½æ•°å­˜å‚¨åœ¨è¢«ç§°ä¸ºæ¨¡å—çš„ç‹¬ç«‹æ–‡ä»¶ä¸­ï¼Œå†å°†æ¨¡å—å¯¼å…¥åˆ°ä¸»ç¨‹åºä¸­ï¼Œimportè¯­å¥å…è®¸åœ¨å½“å‰è¿è¡Œçš„ç¨‹åºæ–‡ä»¶ä¸­ä½¿ç”¨æ¨¡å—ä¸­çš„ä»£ç ï¼›</p>
</li>
<li><p>ä½¿ç”¨è¿™ç§importè¯­å¥å¯¼å…¥äº†åä¸ºmodule_name.pyçš„æ•´ä¸ªæ¨¡å—ï¼Œå°±å¯ä½¿ç”¨ä¸‹é¢çš„è¯­æ³•æ¥ä½¿ç”¨å…¶ä¸­ä»»ä½•ä¸€ä¸ªå‡½æ•°ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">module_name.function_name()</span><br><span class="line"><span class="comment"># å¯¼å…¥æ¨¡å—ä¸­çš„ç‰¹å®šå‡½æ•°</span></span><br><span class="line"><span class="keyword">from</span> module_name <span class="keyword">import</span> function_name</span><br><span class="line"><span class="comment"># é€šè¿‡ç”¨é€—å·åˆ†éš”å‡½æ•°åï¼Œå¯æ ¹æ®éœ€è¦ä»æ¨¡å—ä¸­å¯¼å…¥ä»»æ„æ•°é‡çš„å‡½æ•°</span></span><br><span class="line"><span class="keyword">from</span> module_name <span class="keyword">import</span> function_0, function_1, function_2</span><br></pre></td></tr></table></figure>
</li>
<li><p>å¯¼å…¥çš„å‡½æ•°çš„åç§°å¯èƒ½ä¸ç¨‹åºä¸­ç°æœ‰çš„åç§°å†²çªï¼Œæˆ–è€…å‡½æ•°çš„åç§°å¤ªé•¿ï¼Œå¯æŒ‡å®šç®€çŸ­è€Œç‹¬ä¸€æ— äºŒçš„åˆ«å,å¯ä»¥ä½¿ç”¨asæ¥åšåˆ°ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> module_name <span class="keyword">import</span> function_name <span class="keyword">as</span> new_name</span><br><span class="line"><span class="comment"># ç»™æ¨¡å—èµ·ä¸ªåˆ«å</span></span><br><span class="line"><span class="keyword">import</span> module_name <span class="keyword">as</span> mn</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä½¿ç”¨æ˜Ÿå·ï¼ˆ*ï¼‰è¿ç®—ç¬¦å¯è®©Pythonå¯¼å…¥æ¨¡å—ä¸­çš„æ‰€æœ‰å‡½æ•°ï¼›</p>
</li>
</ol>
<h2 id="ç±»"><a href="#ç±»" class="headerlink" title="ç±»"></a>ç±»</h2><ol>
<li><p>åœ¨Pythonä¸­ï¼Œé¦–å­—æ¯å¤§å†™çš„åç§°æŒ‡çš„æ˜¯ç±»ï¼ˆçº¦å®šï¼‰ï¼›</p>
</li>
<li><p>æ–¹æ³•<strong>init</strong>()æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„æ–¹æ³•  ï¼Œæ¯å½“ä½ æ ¹æ®ç±»ååˆ›å»ºæ–°å®ä¾‹æ—¶ï¼Œ Pythonéƒ½ä¼šè‡ªåŠ¨è¿è¡Œå®ƒ ï¼Œåœ¨è¿™ä¸ªæ–¹æ³•çš„åç§°ä¸­ï¼Œå¼€å¤´å’Œæœ«å°¾å„æœ‰ä¸¤ä¸ªä¸‹åˆ’çº¿ï¼Œè‡ªåŠ¨ä¼ å…¥å®å‚self ï¼Œæ¯ä¸ªä¸ç±»ç›¸å…³è”çš„æ–¹æ³•è°ƒç”¨éƒ½è‡ªåŠ¨ä¼ é€’å®å‚selfï¼Œå®ƒæ˜¯ä¸€ä¸ªæŒ‡å‘å®ä¾‹æœ¬èº«çš„å¼•ç”¨ï¼Œè®©å®ä¾‹èƒ½å¤Ÿè®¿é—®ç±»ä¸­çš„å±æ€§å’Œæ–¹æ³•ï¼›</p>
</li>
<li><p>æ ¹æ®ç±»ååˆ›å»ºå®ä¾‹åï¼Œå°±å¯ä»¥ä½¿ç”¨å¥ç‚¹è¡¨ç¤ºæ³•æ¥è°ƒç”¨ç±»ä¸­å®šä¹‰çš„ä»»ä½•æ–¹æ³•ï¼›  </p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self,name)</span>:</span></span><br><span class="line">        print(<span class="string">"é»˜è®¤åˆ›å»ºå°±è‡ªå¯åŠ¨"</span>)</span><br><span class="line">        self.name=name</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">printHello</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(self.name +<span class="string">",Hello!"</span>)</span><br><span class="line">        </span><br><span class="line">dog=Dog(<span class="string">'Tidy'</span>)</span><br><span class="line">dog.printHello()</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä¸€ä¸ªç±»ç»§æ‰¿å¦ä¸€ä¸ªç±»æ—¶ï¼Œå®ƒå°†è‡ªåŠ¨è·å¾—å¦ä¸€ä¸ªç±»çš„æ‰€æœ‰å±æ€§å’Œæ–¹æ³•ï¼›åŸæœ‰çš„ç±»ç§°ä¸ºçˆ¶ç±»ï¼Œè€Œæ–°ç±»ç§°ä¸ºå­ç±» ;</p>
</li>
<li><p>å­ç±»ç»§æ‰¿äº†å…¶çˆ¶ç±»çš„æ‰€æœ‰å±æ€§å’Œæ–¹æ³•ï¼ŒåŒæ—¶è¿˜å¯ä»¥å®šä¹‰è‡ªå·±çš„å±æ€§å’Œæ–¹æ³• ;</p>
</li>
<li><p>åˆ›å»ºå­ç±»çš„å®ä¾‹æ—¶ï¼Œ Pythoné¦–å…ˆéœ€è¦å®Œæˆçš„ä»»åŠ¡æ˜¯ç»™çˆ¶ç±»çš„æ‰€æœ‰å±æ€§èµ‹å€¼ï¼Œå­ç±»çš„æ–¹æ³•<strong>init</strong>()éœ€è¦çˆ¶ç±»æ–½ä»¥æ´æ‰‹ï¼›</p>
</li>
<li><p>super()æ˜¯ä¸€ä¸ªç‰¹æ®Šå‡½æ•°ï¼Œå¸®åŠ©Pythonå°†çˆ¶ç±»å’Œå­ç±»å…³è”èµ·æ¥ï¼Œçˆ¶ç±»ä¹Ÿç§°ä¸ºè¶…ç±»ï¼ˆ superclassï¼‰ï¼Œåç§°superå› æ­¤è€Œå¾—å ï¼›   </p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Animal</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, name)</span>:</span></span><br><span class="line">        self.name = name</span><br><span class="line">        print(<span class="string">'This is execute by create instance!'</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">SayHello</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(self.name + <span class="string">",Hello !"</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">Eat</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">'Animal Eat'</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span><span class="params">(Animal)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, name)</span>:</span></span><br><span class="line">        super().__init__(name)</span><br><span class="line">        print(<span class="string">'Dog __init__'</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">Eat</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(self.name + <span class="string">"Eat meat!"</span>)</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cat</span><span class="params">(Animal)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self,name)</span>:</span></span><br><span class="line">        super().__init__(name)</span><br><span class="line"></span><br><span class="line">        </span><br><span class="line">dog=Dog(<span class="string">'Tidy'</span>)</span><br><span class="line">dog.SayHello();</span><br><span class="line">dog.Eat();</span><br><span class="line">cat=Cat(<span class="string">'Kitty'</span>)</span><br><span class="line">cat.Eat()</span><br></pre></td></tr></table></figure>

<p>â€‹     </p>
</li>
<li><p>é€šè¿‡å°†ç±»ç§»åˆ°ä¸€ä¸ªæ¨¡å—ä¸­ï¼Œå¹¶å¯¼å…¥è¯¥æ¨¡å—ï¼Œä½ ä¾ç„¶å¯ä»¥ä½¿ç”¨å…¶æ‰€æœ‰åŠŸèƒ½ï¼›    </p>
</li>
<li><p>è¦å¯¼å…¥æ¨¡å—ä¸­çš„æ¯ä¸ªç±» ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ä¸æ¨èä½¿ç”¨</span></span><br><span class="line"><span class="keyword">from</span> module_name <span class="keyword">import</span> *</span><br></pre></td></tr></table></figure>
</li>
<li><p>Pythonæ ‡å‡†åº“æ˜¯ä¸€ç»„æ¨¡å—ï¼Œå®‰è£…çš„Pythonéƒ½åŒ…å«å®ƒ ï¼›</p>
</li>
</ol>
<h2 id="æ–‡ä»¶å’Œå¼‚å¸¸"><a href="#æ–‡ä»¶å’Œå¼‚å¸¸" class="headerlink" title="æ–‡ä»¶å’Œå¼‚å¸¸"></a>æ–‡ä»¶å’Œå¼‚å¸¸</h2><ol>
<li><p>å‡½æ•°open()æ¥å—ä¸€ä¸ªå‚æ•°ï¼Œè¦æ‰“å¼€çš„æ–‡ä»¶çš„åç§°ï¼ŒPythonåœ¨å½“å‰æ‰§è¡Œçš„æ–‡ä»¶æ‰€åœ¨çš„ç›®å½•ä¸­æŸ¥æ‰¾æŒ‡å®šçš„æ–‡ä»¶ ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">with</span> open(<span class="string">'pi_digits.txt'</span>) <span class="keyword">as</span> file_object:</span><br><span class="line">    contents = file_object.read()</span><br><span class="line">    print(contents)</span><br></pre></td></tr></table></figure>
</li>
<li><p>å…³é”®å­—withåœ¨ä¸å†éœ€è¦è®¿é—®æ–‡ä»¶åå°†å…¶å…³é—­ï¼Œåªç®¡æ‰“å¼€æ–‡ä»¶ï¼Œå¹¶åœ¨éœ€è¦æ—¶ä½¿ç”¨å®ƒï¼Œ Pythonè‡ªä¼šåœ¨åˆé€‚çš„æ—¶å€™è‡ªåŠ¨å°†å…¶å…³é—­ ;</p>
</li>
<li><p>å†™å…¥æ–‡ä»¶å†…å®¹ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">filename = <span class="string">'programming.txt'</span></span><br><span class="line"><span class="keyword">with</span> open(filename, <span class="string">'w'</span>) <span class="keyword">as</span> file_object:</span><br><span class="line">    file_object.write(<span class="string">"I love programming."</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p>Pythonä½¿ç”¨è¢«ç§°ä¸ºå¼‚å¸¸çš„ç‰¹æ®Šå¯¹è±¡æ¥ç®¡ç†ç¨‹åºæ‰§è¡ŒæœŸé—´å‘ç”Ÿçš„é”™è¯¯ï¼Œæ¯å½“å‘ç”Ÿè®©Pythonä¸çŸ¥æ‰€æªçš„é”™è¯¯æ—¶ï¼Œå®ƒéƒ½ä¼šåˆ›å»ºä¸€ä¸ªå¼‚å¸¸å¯¹è±¡ï¼›</p>
</li>
<li><p>try-exceptä»£ç å—è®©Pythonæ‰§è¡ŒæŒ‡å®šçš„æ“ä½œï¼ŒåŒæ—¶å‘Šè¯‰Pythonå‘ç”Ÿå¼‚å¸¸æ—¶æ€ä¹ˆåŠ ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    print(<span class="number">5</span>/<span class="number">0</span>)</span><br><span class="line"><span class="keyword">except</span> ZeroDivisionError:</span><br><span class="line">    print(<span class="string">"You can't divide by zero!"</span>)</span><br><span class="line"><span class="keyword">else</span>ï¼š</span><br><span class="line">	print(<span class="string">'always execute'</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p>å‘ç”Ÿé”™è¯¯æ—¶ï¼Œå¦‚æœç¨‹åºè¿˜æœ‰å·¥ä½œæ²¡æœ‰å®Œæˆï¼Œå¦¥å–„åœ°å¤„ç†é”™è¯¯å°±å°¤å…¶é‡è¦ï¼Œé€šè¿‡å°†å¯èƒ½å¼•å‘é”™è¯¯çš„ä»£ç æ”¾åœ¨try-exceptä»£ç å—ä¸­ï¼Œå¯æé«˜è¿™ä¸ªç¨‹åºæŠµå¾¡é”™è¯¯çš„èƒ½åŠ›ï¼Œä¾èµ–äºtryä»£ç å—æˆåŠŸæ‰§è¡Œçš„ä»£ç éƒ½åº”æ”¾åˆ°elseä»£ç å—ä¸­ ï¼›   </p>
</li>
<li><p>Pythonæœ‰ä¸€ä¸ªpassè¯­å¥ï¼Œå¯åœ¨ä»£ç å—ä¸­ä½¿ç”¨å®ƒæ¥è®©Pythonä»€ä¹ˆéƒ½ä¸è¦åš ;</p>
</li>
</ol>
<h2 id="æµ‹è¯•ä»£ç "><a href="#æµ‹è¯•ä»£ç " class="headerlink" title="æµ‹è¯•ä»£ç "></a>æµ‹è¯•ä»£ç </h2><ol>
<li><p>Pythonæ ‡å‡†åº“ä¸­çš„æ¨¡å—unittestæä¾›äº†ä»£ç æµ‹è¯•å·¥å…·ï¼›</p>
</li>
<li><p>å•å…ƒæµ‹è¯•ç”¨äºæ ¸å®å‡½æ•°çš„æŸä¸ªæ–¹é¢æ²¡æœ‰é—®é¢˜ï¼› æµ‹è¯•ç”¨ä¾‹æ˜¯ä¸€ç»„å•å…ƒæµ‹è¯•ï¼Œè¿™äº›å•å…ƒæµ‹è¯•ä¸€èµ·æ ¸å®å‡½æ•°åœ¨å„ç§æƒ…å½¢ä¸‹çš„è¡Œä¸ºéƒ½ç¬¦åˆè¦æ±‚ï¼› </p>
</li>
<li><p>è¦ä¸ºå‡½æ•°ç¼–å†™æµ‹è¯•ç”¨ä¾‹ï¼Œå¯å…ˆå¯¼å…¥æ¨¡å—unittestä»¥åŠè¦æµ‹è¯•çš„å‡½æ•°ï¼Œå†åˆ›å»ºä¸€ä¸ªç»§æ‰¿unittest.TestCaseçš„ç±»ï¼Œå¹¶ç¼–å†™ä¸€ç³»åˆ—æ–¹æ³•å¯¹å‡½æ•°è¡Œä¸ºçš„ä¸åŒæ–¹é¢è¿›è¡Œæµ‹è¯• ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> unittest</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">NamesTestCase</span><span class="params">(unittest.TestCase)</span>:</span></span><br><span class="line">    <span class="string">"""æµ‹è¯•name_function.py"""</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">test_first_last_name</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">'test case'</span>)</span><br><span class="line">        self.assertEqual(<span class="string">'Janis Joplin'</span>, <span class="string">'Janis Joplin'</span>)</span><br><span class="line">       </span><br><span class="line"><span class="comment"># ä»£ç è¡Œunittest.main()è®©Pythonè¿è¡Œè¿™ä¸ªæ–‡ä»¶ä¸­çš„æµ‹è¯•</span></span><br><span class="line">unittest.main()</span><br></pre></td></tr></table></figure>
</li>
<li><p>Pythonåœ¨unittest.TestCaseç±»ä¸­æä¾›äº†å¾ˆå¤šæ–­è¨€æ–¹æ³• ; </p>
</li>
<li><p>å‚ä¸å·¥ä½œé‡è¾ƒå¤§çš„é¡¹ç›®æ—¶ï¼Œåº”å¯¹è‡ªå·±ç¼–å†™çš„å‡½æ•°å’Œç±»çš„é‡è¦è¡Œä¸ºè¿›è¡Œæµ‹è¯•!  </p>
</li>
</ol>
<hr>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>Pythonè¯­è¨€çš„åŸºç¡€éƒ¨åˆ†åŸºæœ¬ä¸Šå°±èƒ½è®©æˆ‘ä»¬å¯ä»¥ç¼–å†™Pythonä»£ç äº†ï¼Œä½†æ˜¯Pythonçš„é«˜çº§ç‰¹æ€§è¿˜æ²¡æœ‰ä»‹ç»ï¼Œä»¥åŠä¸€äº›æœºå™¨å­¦ä¹ ç®—æ³•ç»“åˆPythonç¼–ç¨‹è¯­è¨€çš„å­¦ä¹ ï¼Œæƒ³è¦æ·±å…¥Pythonè¿˜æœ‰å¾ˆé•¿çš„ä¸€æ®µè·¯è¦èµ°ï¼éœ€è¦åŠ æ²¹å­¦ä¹ ï¼</p>
]]></content>
      <categories>
        <category>Python</category>
      </categories>
  </entry>
  <entry>
    <title>Python æµ‹è¯•é©±åŠ¨å¼€å‘</title>
    <url>/2020/05/15/Python-%E6%B5%8B%E8%AF%95%E9%A9%B1%E5%8A%A8%E5%BC%80%E5%8F%91/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>ä¸ç®¡ä»äº‹ä»€ä¹ˆå·¥ä½œï¼Œéƒ½è¦å†ç»ä»æ–°æ‰‹åˆ°ç†Ÿæ‰‹çš„è¿‡ç¨‹ï¼Œæœ€ç»ˆæœ‰å¯èƒ½æˆä¸ºå¤§å¸ˆï¼æµ‹è¯•é©±åŠ¨å¼€å‘ï¼ˆTest-Driven Developmentï¼ŒTDDï¼‰æ˜¯ä¸€ä¸ªéå¸¸åˆç†çš„æ–¹æ¡ˆï¼Œ ä¸€ä¸ªéœ€è¦å…»æˆçš„éå¸¸å¥½çš„ä¹ æƒ¯ã€‚é¡¹ç›®ä¸æ–­å˜å¤§ï¼Œç³»ç»Ÿçš„ä¸åŒéƒ¨åˆ†ä¹‹é—´è¦å¼€å§‹ç›¸äº’ä¾èµ–ï¼Œä»£ç å°±å˜å¾—åƒä¸€å›¢éº»ï¼Œä¸‘é™‹ä¸å ªï¼Œå¼€å‘æ–°åŠŸèƒ½å˜å¾—å¾ˆç—›è‹¦ï¼åŠŸèƒ½æµ‹è¯•èƒ½æ­ç¤ºæˆ‘ä»¬å¯èƒ½æ°¸è¿œéƒ½æ— æ³•é¢„æµ‹çš„å›å½’ï¼Œå•å…ƒæµ‹è¯•èƒ½è®©æˆ‘é¿å…çŠ¯å¾ˆæ„šè ¢çš„é€»è¾‘é”™è¯¯ï¼<strong><em>æ¨èä¹¦ç±ï¼šã€ŠPythonæµ‹è¯•é©±åŠ¨å¼€å‘ ä½¿ç”¨Djangoã€Seleniumå’ŒjavaScriptè¿›è¡ŒWebç¼–ç¨‹ã€‹Â· [è‹±] å“ˆåˆ©Â·J.W. å¸•è¥¿ç“¦å°” è‘— å®‰é“ è¯‘</em></strong></p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="ç¯å¢ƒä»‹ç»"><a href="#ç¯å¢ƒä»‹ç»" class="headerlink" title="ç¯å¢ƒä»‹ç»"></a>ç¯å¢ƒä»‹ç»</h2><ol>
<li>OSï¼šMacOS 10.15.4</li>
<li>å†…å­˜ï¼š8G DDR3</li>
<li>Pythonç‰ˆæœ¬ï¼š3.7.7</li>
</ol>
<h2 id="åŸºç¡€çŸ¥è¯†"><a href="#åŸºç¡€çŸ¥è¯†" class="headerlink" title="åŸºç¡€çŸ¥è¯†"></a>åŸºç¡€çŸ¥è¯†</h2><ol>
<li><p>Pythonä½¿ç”¨seleniumä»¥åŠgeckodriverã€chromedriverå¯ä»¥è¿›è¡ŒFirefoxã€è°·æ­Œæµè§ˆå™¨çš„æ¨¡æ‹Ÿï¼Œè¿›è¡Œè‡ªåŠ¨åŒ–æµ‹è¯•å·¥ä½œï¼›åœ¨Macä¸Šå®‰è£…åªè¦ä½¿ç”¨å¦‚ä¸‹çš„å‘½ä»¤å³å¯</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">brew install geckodriver</span><br><span class="line">geckodriver --version</span><br><span class="line"><span class="meta">#</span><span class="bash"> geckodriver 0.26.0</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> The <span class="built_in">source</span> code of this program is available from</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> testing/geckodriver <span class="keyword">in</span> https://hg.mozilla.org/mozilla-central.</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> This program is subject to the terms of the Mozilla Public License 2.0.</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> You can obtain a copy of the license at https://mozilla.org/MPL/2.0/.</span></span><br><span class="line"></span><br><span class="line">brew cask reinstall chromedriver</span><br><span class="line">chromedriver --version</span><br><span class="line"><span class="meta">#</span><span class="bash"> ChromeDriver 81.0.4044.138 (8c6c7ba89cc9453625af54f11fd83179e23450fa-refs/branch-heads/4044@&#123;<span class="comment">#999&#125;)</span></span></span><br></pre></td></tr></table></figure>
</li>
<li><p>å®‰è£…Pythonæ¨¡å—</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">pip3 install django</span><br><span class="line">pip3 install selenium</span><br></pre></td></tr></table></figure>
</li>
<li><p>Djangoï¼ˆæˆ–è®¸ï¼‰æ˜¯ Python é¢†åŸŸä¹‹ä¸­æœ€å—æ¬¢è¿çš„ Web æ¡†æ¶;</p>
</li>
<li><p><strong>éµä»æµ‹è¯•å±±ç¾Šçš„æ•™è¯² ï¼Œ æ²¡æœ‰æµ‹è¯•ä»€ä¹ˆä¹Ÿåˆ«åš!</strong>åƒå±±ç¾Šä¸€æ ·ä¸“æ³¨ï¼Œå’©å’©åœ°å«ç€ï¼šâ€œå…ˆæµ‹è¯•ï¼Œå…ˆæµ‹è¯•ï¼â€</p>
</li>
<li><p>åŠŸèƒ½æµ‹è¯• ï¼ˆFunctional Testï¼ŒFTï¼‰ï¼šè·Ÿè¸ªç”¨æˆ·æ•…äº‹ ï¼ˆUser Storyï¼‰ ï¼Œæ¨¡æ‹Ÿç”¨æˆ·ä½¿ç”¨æŸä¸ªåŠŸèƒ½çš„è¿‡ç¨‹ï¼Œä»¥åŠåº”ç”¨åº”è¯¥å¦‚ä½•å“åº”ç”¨æˆ·çš„æ“ä½œï¼ˆåŠŸèƒ½æµ‹è¯•=éªŒæ”¶æµ‹è¯•=ç«¯åˆ°ç«¯æµ‹è¯•ï¼‰ï¼›</p>
</li>
<li><p>ç¼–å†™æ–°åŠŸèƒ½æµ‹è¯•æ—¶ï¼Œå¯ä»¥å…ˆå†™æ³¨é‡Šï¼Œå‹¾å‹’å‡ºç”¨æˆ·æ•…äº‹çš„é‡ç‚¹ï¼Œè¿™æ ·å†™å‡ºçš„æµ‹è¯•äººç±»å¯è¯»ï¼Œç”šè‡³å¯ä»¥ä½œä¸ºä¸€ç§è®¨è®ºåº”ç”¨éœ€æ±‚å’ŒåŠŸèƒ½çš„æ–¹å¼åˆ†äº«ç»™éç¨‹åºå‘˜çœ‹ï¼›</p>
</li>
<li><p>ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ ï¼ˆVersion Control Systemï¼ŒVCSï¼‰</p>
</li>
<li><p>åŠŸèƒ½æµ‹è¯•ç«™åœ¨ç”¨æˆ·çš„è§’åº¦ä»å¤–éƒ¨æµ‹è¯•åº”ç”¨ï¼Œå•å…ƒæµ‹è¯•åˆ™ç«™åœ¨ç¨‹åºå‘˜çš„è§’åº¦ä»å†…éƒ¨æµ‹è¯•åº”ç”¨ï¼›</p>
</li>
<li><p>Seleniumçš„æ ¸å¿ƒSelenium CoreåŸºäºJsUnitï¼Œå®Œå…¨ç”±JavaScriptç¼–å†™ï¼Œå› æ­¤å¯ä»¥ç”¨äºä»»ä½•æ”¯æŒJavaScriptçš„æµè§ˆå™¨ä¸Šã€‚seleniumå¯ä»¥æ¨¡æ‹ŸçœŸå®æµè§ˆå™¨ï¼Œè‡ªåŠ¨åŒ–æµ‹è¯•å·¥å…·ï¼Œæ”¯æŒå¤šç§æµè§ˆå™¨ï¼›</p>
</li>
<li><p>pythonå®‰è£…seleniumï¼š<a href="https://selenium-python.readthedocs.io/installation.html" target="_blank" rel="noopener">https://selenium-python.readthedocs.io/installation.html</a></p>
</li>
</ol>
<h2 id="Django-amp-Seleniumèµ·æ­¥"><a href="#Django-amp-Seleniumèµ·æ­¥" class="headerlink" title="Django&amp;Seleniumèµ·æ­¥"></a>Django&amp;Seleniumèµ·æ­¥</h2><ol>
<li><p>åœ¨å®‰è£…äº†djangoä»¥åŠseleniumçš„åŸºç¡€ä¸Šï¼Œä½¿ç”¨å¦‚ä¸‹å‘½ä»¤åˆ›å»ºä¸€ä¸ªdjangoé¡¹ç›®:</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> django-admin.py startproject é¡¹ç›®åç§°</span></span><br><span class="line">django-admin.py startproject superlists</span><br><span class="line"><span class="meta">#</span><span class="bash"> è¿™ä¸ªå‘½ä»¤ä¼šåˆ›å»ºä¸€ä¸ªåä¸º superlists çš„æ–‡ä»¶å¤¹ï¼Œå¹¶åœ¨å…¶ä¸­åˆ›å»ºä¸€äº›æ–‡ä»¶å’Œå­æ–‡ä»¶å¤¹,å®é™…ä¸Šæ˜¯åˆ›å»ºä¸€ä¸ªdjangoé¡¹ç›®</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>è¿›è¡Œé¡¹ç›®æ–‡ä»¶å¤¹ä¸­ï¼Œå¯åŠ¨é¡¹ç›®ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">python manage.py runserver</span><br><span class="line"><span class="meta">#</span><span class="bash"> Watching <span class="keyword">for</span> file changes with StatReloader</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Performing system checks...</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> System check identified no issues (0 silenced).</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> You have 17 unapplied migration(s). Your project may not work properly until you apply the migrations <span class="keyword">for</span> app(s): admin, auth, contenttypes, sessions.</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Run <span class="string">'python manage.py migrate'</span> to apply them.</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> May 15, 2020 - 09:56:08</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Django version 3.0.6, using settings <span class="string">'superlists.settings'</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Starting development server at http://127.0.0.1:8000/</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Quit the server with CONTROL-C.</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>ç¼–å†™åŠŸèƒ½æµ‹è¯•è„šæœ¬(django.py)ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#!/usr/local/bin/python3</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line">browser=webdriver.Chrome()</span><br><span class="line"><span class="comment"># æœ€å¤§åŒ–çª—å£</span></span><br><span class="line">browser.maximize_window()</span><br><span class="line"><span class="comment"># ç­‰å¾…3ç§’</span></span><br><span class="line">browser.implicitly_wait(<span class="number">3</span>)</span><br><span class="line"><span class="comment"># è¯·æ±‚é¡µé¢</span></span><br><span class="line">browser.get(<span class="string">"http://localhost:8000"</span>)</span><br><span class="line"><span class="keyword">assert</span> <span class="string">'Django'</span> <span class="keyword">in</span> browser.title</span><br><span class="line"><span class="comment"># å…³é—­æµè§ˆå™¨</span></span><br><span class="line">browser.quit()</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ‰§è¡ŒåŠŸèƒ½æµ‹è¯•è„šæœ¬ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">./django.py</span><br></pre></td></tr></table></figure>
</li>
<li><p>Djangoå¸¸ç”¨çš„å‘½ä»¤ï¼š</p>
<ol>
<li><p>å¯åŠ¨ Django çš„å¼€å‘æœåŠ¡å™¨ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">python manage.py runserver</span><br></pre></td></tr></table></figure>
</li>
<li><p>è¿è¡Œå•å…ƒæµ‹è¯•:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">python manage.py test</span><br></pre></td></tr></table></figure>

</li>
</ol>
</li>
</ol>
<h2 id="Djangoå•å…ƒæµ‹è¯•"><a href="#Djangoå•å…ƒæµ‹è¯•" class="headerlink" title="Djangoå•å…ƒæµ‹è¯•"></a>Djangoå•å…ƒæµ‹è¯•</h2><ol>
<li><p>é¦–å…ˆåœ¨åˆ›å»ºçš„é¡¹ç›®ä¸‹åˆ›å»ºä¸€ä¸ªåº”ç”¨ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">python3 manage.py startapp lists</span><br><span class="line"><span class="comment"># å‘½ä»¤ä¼šåœ¨ superlists æ–‡ä»¶å¤¹ä¸­åˆ›å»ºå­æ–‡ä»¶å¤¹ lists,åˆ›å»ºä¸€äº›å ä½æ–‡ä»¶ï¼Œç”¨æ¥ä¿å­˜æ¨¡å‹ã€è§†å›¾ä»¥åŠç›®å‰æœ€å…³æ³¨çš„æµ‹è¯•</span></span><br><span class="line"><span class="comment"># lists</span></span><br><span class="line"><span class="comment"># â”œâ”€â”€ __init__.py</span></span><br><span class="line"><span class="comment"># â”œâ”€â”€ admin.py</span></span><br><span class="line"><span class="comment"># â”œâ”€â”€ apps.py</span></span><br><span class="line"><span class="comment"># â”œâ”€â”€ migrations</span></span><br><span class="line"><span class="comment"># â”‚Â Â  â””â”€â”€ __init__.py</span></span><br><span class="line"><span class="comment"># â”œâ”€â”€ models.py</span></span><br><span class="line"><span class="comment"># â”œâ”€â”€ tests.py</span></span><br><span class="line"><span class="comment"># â””â”€â”€ views.py</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>åœ¨æ–‡ä»¶ä¸‹æœ‰ä¸€ä¸ªtests.pyæ–‡ä»¶ï¼Œå¯ä»¥è¿›è¡Œunittest.TestCaseå¢å¼ºå‹çš„æµ‹è¯•ï¼Œæ·»åŠ äº†Djangoä¸“ç”¨çš„åŠŸèƒ½ï¼›</p>
</li>
<li><p>å¯ä»¥åœ¨listsæ–‡ä»¶ä¸‹ç¼–è¾‘tests.pyï¼Œæ·»åŠ ä¸€ä¸ªé”™è¯¯çš„æµ‹è¯•æ¡ˆä¾‹ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> django.test <span class="keyword">import</span> TestCase</span><br><span class="line"></span><br><span class="line"><span class="comment"># Create your tests here.</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SmokeTest</span><span class="params">(TestCase)</span>:</span></span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">test_bad_math</span><span class="params">(self)</span>:</span></span><br><span class="line">        self.assertEqual(<span class="number">1</span>+<span class="number">1</span>,<span class="number">3</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p>Seleniumæä¾›äº†å‡ ä¸ªç”¨æ¥æŸ¥æ‰¾ç½‘é¡µå†…å®¹çš„æ–¹æ³•ï¼šfind_element_by_tag_nameã€find_element_by_id å’Œ find_element s _by_tag_nameï¼Œsend_keysæ˜¯ Selenium åœ¨è¾“å…¥æ¡†ä¸­è¾“å…¥å†…å®¹çš„æ–¹æ³•</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> selenium.webdriver.common.keys <span class="keyword">import</span> Keys</span><br><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line">browser=webdriver.Chrome()</span><br><span class="line">browser.find_element_by_tag_name(<span class="string">'h1'</span>).text</span><br><span class="line">inputbox = self.browser.find_element_by_id(<span class="string">'id_new_item'</span>)</span><br><span class="line">inputbox.send_keys(Keys.ENTER)</span><br></pre></td></tr></table></figure>
</li>
<li><p>å•å…ƒæµ‹è¯•çš„è§„åˆ™ä¹‹ä¸€æ˜¯<strong>ä¸æµ‹è¯•å¸¸é‡</strong>,å•å…ƒæµ‹è¯•è¦æµ‹è¯•çš„å…¶å®æ˜¯é€»è¾‘ã€æµç¨‹æ§åˆ¶å’Œé…ç½®;</p>
</li>
<li><p>é‡æ„çš„é¦–è¦åŸåˆ™æ˜¯ä¸èƒ½æ²¡æœ‰æµ‹è¯•!é‡æ„æ—¶ï¼Œä¿®æ”¹ä»£ç æˆ–è€…æµ‹è¯•ï¼Œä½†ä¸èƒ½åŒæ—¶ä¿®æ”¹ï¼›</p>
</li>
<li><p>Django ä¸­çš„ render å‡½æ•°ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯è¯·æ±‚å¯¹è±¡,ç¬¬äºŒä¸ªå‚æ•°æ˜¯æ¸²æŸ“çš„æ¨¡æ¿å,ä¼šè‡ªåŠ¨åœ¨æ‰€æœ‰çš„åº”ç”¨ç›®å½•ä¸­æœç´¢åä¸º templates çš„æ–‡ä»¶å¤¹ï¼Œ ç„¶åæ ¹æ®æ¨¡æ¿ä¸­çš„å†…å®¹æ„å»ºä¸€ä¸ªHttpResponse å¯¹è±¡ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> django.shortcuts <span class="keyword">import</span> render</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">home_page</span><span class="params">(request)</span>:</span></span><br><span class="line">  <span class="keyword">return</span> render(request, <span class="string">'home.html'</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ‰§è¡Œ startapp å‘½ä»¤ä»¥åŠåœ¨é¡¹ç›®æ–‡ä»¶å¤¹ä¸­å­˜æ”¾ä¸€ä¸ªåº”ç”¨è¿˜ä¸å¤Ÿï¼Œè¿˜è¦å‘Šè¯‰ Django ç¡®å® è¦å¼€å‘ä¸€ä¸ªåº”ç”¨ï¼Œ å¹¶æŠŠè¿™ä¸ªåº”ç”¨æ·»åŠ åˆ°æ–‡ä»¶settings.py ä¸­ï¼›</p>
</li>
</ol>
<h2 id="æµ‹è¯•æ•°æ®åº“"><a href="#æµ‹è¯•æ•°æ®åº“" class="headerlink" title="æµ‹è¯•æ•°æ®åº“"></a>æµ‹è¯•æ•°æ®åº“</h2><ol>
<li>å¯¹è±¡å…³ç³»æ˜ å°„å™¨ï¼ˆObject-Relational Mapperï¼Œ ORMï¼‰æ˜¯ä¸€ä¸ªæ•°æ®æŠ½è±¡å±‚ï¼Œæè¿°å­˜å‚¨åœ¨æ•°æ®åº“ä¸­çš„è¡¨ã€è¡Œå’Œåˆ—ï¼Œå¤„ç†æ•°æ®åº“æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ç†Ÿæ‚‰çš„é¢å‘å¯¹è±¡æ–¹å¼ï¼Œå†™å‡ºæ›´å¥½çš„ä»£ç ï¼Œç±»å¯¹åº”æ•°æ®åº“ä¸­çš„è¡¨ï¼Œå±æ€§å¯¹åº”åˆ—ï¼Œç±»çš„å•ä¸ªå®ä¾‹è¡¨ç¤ºæ•°æ®åº“ä¸­çš„ä¸€è¡Œæ•°æ®ï¼›      </li>
<li>è‰¯å¥½çš„å•å…ƒæµ‹è¯•å®è·µæ–¹æ³•è¦æ±‚ï¼Œä¸€ä¸ªæµ‹è¯•åªèƒ½æµ‹è¯•ä¸€ä»¶äº‹ï¼Œä¸€ä¸ªæµ‹è¯•ä¸­æœ‰å¤šä¸ªæ–­è¨€ï¼Œä¸€æ—¦å‰é¢çš„æ–­è¨€å¯¼è‡´æµ‹è¯•å¤±è´¥ï¼Œå°±æ— æ³•å¾—çŸ¥åé¢çš„æ–­è¨€æƒ…å†µå¦‚ä½•ï¼›   </li>
<li>ä¸ºäº†ä¿æŒæ–‡ä»¶ç»“æ„æ¸…æ™°ï¼Œè¦æ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ä¿å­˜åŠŸèƒ½æµ‹è¯•ï¼Œè®©å®ƒçœ‹èµ·æ¥å°±åƒä¸€ä¸ªåº”ç”¨ï¼›</li>
<li>åªè¦å‘ç°åŠŸèƒ½æµ‹è¯•é‡åˆ°å¥‡æ€ªçš„é—®é¢˜ï¼Œå°±å¯ä»¥å‡çº§ Selenium è¯•è¯• ï¼›</li>
</ol>
<h2 id="æœ¯è¯­"><a href="#æœ¯è¯­" class="headerlink" title="æœ¯è¯­"></a>æœ¯è¯­</h2><ol>
<li>éš”ç¦»æµ‹è¯•ï¼ˆçº¯ç²¹çš„å•å…ƒæµ‹è¯•ï¼‰ä¸æ•´åˆæµ‹è¯•ï¼š<ul>
<li>å•å…ƒæµ‹è¯•çš„ä¸»è¦ä½œç”¨åº”è¯¥æ˜¯éªŒè¯åº”ç”¨çš„é€»è¾‘æ˜¯å¦æ­£ç¡®  </li>
<li>éš”ç¦»æµ‹è¯•åªèƒ½æµ‹è¯•ä¸€éƒ¨åˆ†ä»£ç ï¼Œæµ‹è¯•æ˜¯å¦é€šè¿‡ä¸å…¶ä»–ä»»ä½•å¤–éƒ¨ä»£ç éƒ½æ²¡æœ‰å…³ç³»  </li>
</ul>
</li>
<li>é›†æˆæµ‹è¯• ï¼šç”¨äºæ£€æŸ¥è¢«ä½ æ§åˆ¶çš„ä»£ç æ˜¯å¦èƒ½å’Œä½ æ— æ³•æ§åˆ¶çš„å¤–éƒ¨ç³»ç»Ÿå®Œå¥½é›†æˆï¼›</li>
<li>ç³»ç»Ÿæµ‹è¯•ï¼šæ£€æŸ¥åº”ç”¨å†…éƒ¨å¤šä¸ªç³»ç»Ÿä¹‹é—´çš„é›†æˆæƒ…å†µï¼›</li>
<li>åŠŸèƒ½æµ‹è¯•å’ŒéªŒæ”¶æµ‹è¯•ï¼šéªŒæ”¶æµ‹è¯•çš„ä½œç”¨æ˜¯ä»ç”¨æˆ·çš„è§’åº¦æ£€æŸ¥ç³»ç»Ÿæ˜¯å¦èƒ½æ­£å¸¸è¿è¡Œï¼  </li>
</ol>
<h2 id="æ²¡ä»€ä¹ˆç”¨å¤„çš„æµ‹è¯•è„šæœ¬"><a href="#æ²¡ä»€ä¹ˆç”¨å¤„çš„æµ‹è¯•è„šæœ¬" class="headerlink" title="æ²¡ä»€ä¹ˆç”¨å¤„çš„æµ‹è¯•è„šæœ¬"></a>æ²¡ä»€ä¹ˆç”¨å¤„çš„æµ‹è¯•è„šæœ¬</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#!/usr/local/bin/python3</span></span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.common.keys <span class="keyword">import</span> Keys</span><br><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line">browser=webdriver.Chrome()</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="comment"># æœ€å¤§åŒ–çª—å£</span></span><br><span class="line">browser.maximize_window()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># è¯·æ±‚é¡µé¢</span></span><br><span class="line">browser.get(<span class="string">"http://test2.zhinengxiyifang.cn:3050/#/login?msg=notLogin"</span>)</span><br><span class="line"><span class="comment"># ç­‰å¾…3ç§’</span></span><br><span class="line">browser.implicitly_wait(<span class="number">3</span>)</span><br><span class="line">username= browser.find_elements_by_class_name(<span class="string">'el-input__inner'</span>)</span><br><span class="line"><span class="comment">#print(username)</span></span><br><span class="line">username[<span class="number">0</span>].send_keys(<span class="string">'littleswan'</span>)</span><br><span class="line">username[<span class="number">1</span>].send_keys(<span class="string">'123456'</span>)</span><br><span class="line">button=browser.find_element_by_tag_name(<span class="string">"button"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#print(button)</span></span><br><span class="line">button.send_keys(Keys.ENTER)</span><br><span class="line"><span class="comment"># ç­‰å¾…3ç§’</span></span><br><span class="line">time.sleep(<span class="number">3</span>)</span><br><span class="line"><span class="comment"># å…³é—­æµè§ˆå™¨</span></span><br><span class="line">browser.quit()</span><br></pre></td></tr></table></figure>





<hr>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>åœ¨ä¸å—å½±å“çš„å¯æ§ç¯å¢ƒä¸­æ‰èƒ½è®©æŠ€èƒ½å˜æˆè‚Œè‚‰è®°å¿†ï¼å…ˆä¸ºç®€å•çš„å‡½æ•°å†™å¥½æµ‹è¯•ï¼Œå½“å‡½æ•°å˜å¤æ‚åï¼Œè¿™é“å¿ƒç†éšœç¢å°±å®¹æ˜“è¿ˆè¿‡å»ã€‚</p>
]]></content>
      <categories>
        <category>Python</category>
      </categories>
  </entry>
  <entry>
    <title>Python æ·±å…¥å­¦ä¹ ç¬¬ä¸€é˜¶æ®µ</title>
    <url>/2020/05/09/Python-%E6%B7%B1%E5%85%A5%E5%AD%A6%E4%B9%A0%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>å½“ä»Šä¸–ç•Œä¸­å­˜åœ¨ç€å‡ ç™¾ç§ç¼–ç¨‹è¯­è¨€ï¼Œæ²¡æœ‰å“ªä¸€é—¨è¯­è¨€æ˜¯æœ€å¥½çš„ï¼Œæœ¯ä¸šæœ‰ä¸“æ”»ï¼Œæ¯ç§è¯­è¨€éƒ½æœ‰è‡ªå·±çš„ç”¨æ­¦ä¹‹åœ°ï¼ <strong><em>æ¨èä¹¦ç±ï¼šã€ŠPythonç¼–ç¨‹å¯¼è®ºï¼ˆç¬¬2ç‰ˆï¼‰ã€‹Â· [ç¾] Jhon V. Guttag è‘— é™ˆå…‰æ¬£ è¯‘ ã€ŠPythonåŸºç¡€æ•™ç¨‹ï¼ˆç¬¬3ç‰ˆï¼‰ã€‹Â· [æŒª] Magnus Lie Hetland è‘— è¢å›½å¿  è¯‘   ã€ŠPythoné«˜æ€§èƒ½ç¼–ç¨‹ã€‹Â· [ç¾] Micha Gorelick Ian Ozsvaldè‘— èƒ¡ä¸–æ° å¾æ—­å½¬ è¯‘</em></strong></p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="åŸºç¡€çŸ¥è¯†"><a href="#åŸºç¡€çŸ¥è¯†" class="headerlink" title="åŸºç¡€çŸ¥è¯†"></a>åŸºç¡€çŸ¥è¯†</h2><ol>
<li><p>å¸Œæœ›èƒ½å¤Ÿåƒæ‰§è¡Œå…¶ä»–ç¨‹åºä¸€æ ·æ‰§è¡ŒPythonè„šæœ¬ï¼Œè€Œæ— éœ€æ˜¾å¼åœ°ä½¿ç”¨Pythonè§£é‡Šå™¨ï¼Œè®©è„šæœ¬çš„ç¬¬ä¸€è¡Œä»¥å­—ç¬¦åºåˆ—#!ï¼ˆç§°ä¸ºpound bangæˆ–shebangï¼‰å¼€å§‹ï¼Œå¹¶åœ¨å®ƒåé¢æŒ‡å®šç”¨äºå¯¹è„šæœ¬è¿›è¡Œè§£é‡Šçš„ç¨‹åºçš„ç»å¯¹è·¯å¾„ï¼›</p>
</li>
<li><p>è¦è¡¨ç¤ºå¾ˆé•¿çš„å­—ç¬¦ä¸²ï¼ˆè·¨è¶Šå¤šè¡Œçš„å­—ç¬¦ä¸²ï¼‰ï¼Œå¯ä½¿ç”¨ä¸‰å¼•å·ï¼ˆè€Œä¸æ˜¯æ™®é€šå¼•å·ï¼‰ï¼›  </p>
</li>
<li><p>åŸå§‹å­—ç¬¦ä¸²è®©å­—ç¬¦ä¸²åŒ…å«çš„æ¯ä¸ªå­—ç¬¦éƒ½ä¿æŒåŸæ ·ï¼ŒåŸå§‹å­—ç¬¦ä¸²ç”¨å‰ç¼€rè¡¨ç¤ºï¼ŒåŸå§‹å­—ç¬¦ä¸²ä¸èƒ½ä»¥å•ä¸ªåæ–œæ ç»“å°¾ï¼›                       </p>
</li>
<li><p>ä½¿ç”¨å‡½æ•°dict ä»å…¶ä»–æ˜ å°„ï¼ˆå¦‚å…¶ä»–å­—å…¸ï¼‰æˆ–é”®-å€¼å¯¹åºåˆ—åˆ›å»ºå­—å…¸ï¼›</p>
</li>
<li><p>åºåˆ—è§£åŒ…ï¼ˆæˆ–å¯è¿­ä»£å¯¹è±¡è§£åŒ…ï¼‰åœ¨ä½¿ç”¨è¿”å›å…ƒç»„ï¼ˆæˆ–å…¶ä»–åºåˆ—æˆ–å¯è¿­ä»£å¯¹è±¡ï¼‰çš„å‡½æ•°æˆ–æ–¹æ³•æ—¶å¾ˆæœ‰ç”¨ï¼›</p>
</li>
<li><p>evalæ˜¯ä¸€ä¸ªç±»ä¼¼äºexecçš„å†…ç½®å‡½æ•°ã€‚ execæ‰§è¡Œä¸€ç³»åˆ—Pythonè¯­å¥ï¼Œè€Œevalè®¡ç®—ç”¨å­—ç¬¦ä¸²è¡¨ç¤ºçš„Pythonè¡¨è¾¾å¼çš„å€¼ï¼Œå¹¶è¿”å›ç»“æœï¼›</p>
</li>
<li><p>åœ¨å®šä¹‰å’Œè°ƒç”¨å‡½æ•°æ—¶éƒ½ä½¿ç”¨*æˆ–**ï¼Œå°†åªä¼ é€’å…ƒç»„æˆ–å­—å…¸ï¼›</p>
</li>
<li><p>Pythonå‡½æ•°å¯ä»¥åµŒå¥—ï¼Œå³å¯å°†ä¸€ä¸ªå‡½æ•°æ”¾åœ¨å¦ä¸€ä¸ªå‡½æ•°å†…;  </p>
</li>
<li><p><strong>è¦è®©æ–¹æ³•æˆ–å±æ€§æˆä¸ºç§æœ‰çš„ï¼ˆä¸èƒ½ä»å¤–éƒ¨è®¿é—®ï¼‰ï¼Œåªéœ€è®©å…¶åç§°ä»¥ä¸¤ä¸ªä¸‹åˆ’çº¿æ‰“å¤´å³å¯;</strong>     </p>
</li>
<li><p>è¦ç¡®å®šä¸€ä¸ªç±»æ˜¯å¦æ˜¯å¦ä¸€ä¸ªç±»çš„å­ç±»ï¼Œå¯ä½¿ç”¨å†…ç½®æ–¹æ³•issubclassï¼Œå¦‚æœä½ æœ‰ä¸€ä¸ªç±»ï¼Œå¹¶æƒ³çŸ¥é“å®ƒçš„åŸºç±»ï¼Œå¯è®¿é—®å…¶ç‰¹æ®Šå±æ€§__bases__ï¼Œè¦ç¡®å®šå¯¹è±¡æ˜¯å¦æ˜¯ç‰¹å®šç±»çš„å®ä¾‹ï¼Œå¯ä½¿ç”¨isinstanceï¼Œå¦‚æœä½ è¦è·æ‚‰å¯¹è±¡å±äºå“ªä¸ªç±»ï¼Œå¯ä½¿ç”¨å±æ€§__class__ï¼› </p>
</li>
<li><p>Pythonæ”¯æŒå¤šé‡ç»§æ‰¿ï¼Œé™¤éä¸‡ä¸å¾—å·²ï¼Œå¦åˆ™åº”é¿å…ä½¿ç”¨å¤šé‡ç»§æ‰¿ï¼Œå¦‚æœå¤šä¸ªè¶…ç±»ä»¥ä¸åŒçš„æ–¹å¼å®ç°äº†åŒä¸€ä¸ªæ–¹æ³•ï¼Œå¿…é¡»åœ¨classè¯­å¥ä¸­å°å¿ƒæ’åˆ—è¿™äº›è¶…ç±» ï¼Œå› ä¸ºä¼šå‡ºç°è¦†ç›–é—®é¢˜ï¼›</p>
</li>
<li><p>Pythoné€šè¿‡å¼•å…¥æ¨¡å—abcæä¾›äº†å®˜æ–¹è§£å†³æ–¹æ¡ˆï¼Œè¿™ä¸ªæ¨¡å—ä¸ºæ‰€è°“çš„æŠ½è±¡åŸºç±»æä¾›äº†æ”¯æŒï¼›</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> abc <span class="keyword">import</span> ABC, abstractmethod</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Talker</span><span class="params">(ABC)</span>:</span></span><br><span class="line"><span class="meta">	@abstractmethod</span></span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">talk</span><span class="params">(self)</span>:</span></span><br><span class="line">		<span class="keyword">pass</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>ç±»ç›¸å…³çš„å¸¸ç”¨å‡½æ•°ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">callable(object)     åˆ¤æ–­å¯¹è±¡æ˜¯å¦æ˜¯å¯è°ƒç”¨çš„ï¼ˆå¦‚æ˜¯å¦æ˜¯å‡½æ•°æˆ–æ–¹æ³•ï¼‰</span><br><span class="line">getattr(object,name[,default])    è·å–å±æ€§çš„å€¼ï¼Œè¿˜å¯æä¾›é»˜è®¤å€¼</span><br><span class="line">hasattr(object, name)     ç¡®å®šå¯¹è±¡æ˜¯å¦æœ‰æŒ‡å®šçš„å±æ€§</span><br><span class="line">isinstance(object, <span class="class"><span class="keyword">class</span>)     ç¡®å®šå¯¹è±¡æ˜¯å¦æ˜¯æŒ‡å®šç±»çš„å®ä¾‹</span></span><br><span class="line"><span class="class"><span class="title">issubclass</span><span class="params">(A, B)</span>     ç¡®å®š<span class="title">A</span>æ˜¯å¦æ˜¯<span class="title">B</span>çš„å­ç±»</span></span><br><span class="line"><span class="class"><span class="title">random</span>.<span class="title">choice</span><span class="params">(sequence)</span>     ä»ä¸€ä¸ªéç©ºåºåˆ—ä¸­éšæœºåœ°é€‰æ‹©ä¸€ä¸ªå…ƒç´ </span></span><br><span class="line"><span class="class"><span class="title">setattr</span><span class="params">(object, name, value)</span>     å°†å¯¹è±¡çš„æŒ‡å®šå±æ€§è®¾ç½®ä¸ºæŒ‡å®šçš„å€¼</span></span><br><span class="line"><span class="class"><span class="title">type</span><span class="params">(object)</span>     è¿”å›å¯¹è±¡çš„ç±»å‹</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>åœ¨Pythonä¸­ï¼Œæœ‰äº›åç§°å¾ˆç‰¹åˆ«ï¼Œå¼€å¤´å’Œç»“å°¾éƒ½æ˜¯ä¸¤ä¸ªä¸‹åˆ’çº¿ï¼Œå¾ˆå¤§ä¸€éƒ¨åˆ†éƒ½æ˜¯é­”æ³•æ–¹æ³•çš„åç§°ï¼Œåœ¨Pythonä¸­ï¼Œåˆ›å»ºæ„é€ å‡½æ•°å¾ˆå®¹æ˜“ï¼Œåªéœ€å°†æ–¹æ³•initçš„åç§°ä»æ™®é€šçš„initæ”¹ä¸ºé­”æ³•ç‰ˆ__init__å³å¯ï¼ŒPythonæä¾›äº†é­”æ³•æ–¹æ³•__del__ï¼Œä¹Ÿç§°ä½œææ„å‡½æ•°ï¼ˆ destructorï¼‰ï¼Œåœ¨å¯¹è±¡è¢«é”€æ¯å‰è¢«è°ƒç”¨ï¼Œå°½é‡ä¸ä½¿ç”¨ï¼› </p>
</li>
<li><p>åºåˆ—å’Œæ˜ å°„åŸºæœ¬ä¸Šæ˜¯å…ƒç´ ï¼ˆ itemï¼‰çš„é›†åˆï¼Œè¦å®ç°å®ƒä»¬çš„åŸºæœ¬è¡Œä¸ºï¼ˆåè®®ï¼‰ï¼Œä¸å¯å˜å¯¹è±¡éœ€è¦å®ç°2ä¸ªæ–¹æ³•ï¼Œè€Œå¯å˜å¯¹è±¡éœ€è¦å®ç°4ä¸ªï¼š</p>
<ul>
<li>__len__(self)ï¼šè¿™ä¸ªæ–¹æ³•åº”è¿”å›é›†åˆåŒ…å«çš„é¡¹æ•°ï¼Œå¯¹åºåˆ—æ¥è¯´ä¸ºå…ƒç´ ä¸ªæ•°ï¼Œå¯¹æ˜ å°„æ¥è¯´ä¸ºé”®-å€¼å¯¹æ•°</li>
<li>__getitem__(self, key)ï¼šè¿™ä¸ªæ–¹æ³•åº”è¿”å›ä¸æŒ‡å®šé”®ç›¸å…³è”çš„å€¼        </li>
<li>__setitem__(self, key, value)ï¼šè¿™ä¸ªæ–¹æ³•åº”ä»¥ä¸é”®ç›¸å…³è”çš„æ–¹å¼å­˜å‚¨å€¼ï¼Œä»¥ä¾¿ä»¥åèƒ½å¤Ÿä½¿ç”¨__getitem__(self, key)æ¥è·å–</li>
<li>__delitem__(self, key)ï¼šè¿™ä¸ªæ–¹æ³•åœ¨å¯¹å¯¹è±¡çš„ç»„æˆéƒ¨åˆ†ä½¿ç”¨__del__è¯­å¥æ—¶è¢«è°ƒç”¨ï¼Œåº”åˆ é™¤ä¸keyç›¸å…³è”çš„å€¼  </li>
</ul>
</li>
<li><p>è¦åœ¨å±æ€§è¢«è®¿é—®æ—¶æ‰§è¡Œä¸€æ®µä»£ç ï¼Œå¿…é¡»ä½¿ç”¨ä¸€äº›é­”æ³•æ–¹æ³•:</p>
<ul>
<li>__getattribute__(self, name)ï¼šåœ¨å±æ€§è¢«è®¿é—®æ—¶è‡ªåŠ¨è°ƒç”¨ï¼ˆåªé€‚ç”¨äºæ–°å¼ç±»ï¼‰  </li>
<li>__getattr__(self, name)ï¼šåœ¨å±æ€§è¢«è®¿é—®è€Œå¯¹è±¡æ²¡æœ‰è¿™æ ·çš„å±æ€§æ—¶è‡ªåŠ¨è°ƒç”¨    </li>
<li>__setattr__(self, name, value)ï¼šè¯•å›¾ç»™å±æ€§èµ‹å€¼æ—¶è‡ªåŠ¨è°ƒç”¨  </li>
<li>__delattr__(self, name)ï¼šè¯•å›¾åˆ é™¤å±æ€§æ—¶è‡ªåŠ¨è°ƒç”¨  </li>
</ul>
</li>
<li><p>æ–¹æ³•__iter__è¿”å›ä¸€ä¸ªè¿­ä»£å™¨ï¼Œå®ƒæ˜¯åŒ…å«æ–¹æ³•__next__çš„å¯¹è±¡ï¼Œè€Œè°ƒç”¨è¿™ä¸ªæ–¹æ³•æ—¶å¯ä¸æä¾›ä»»ä½•å‚æ•°ï¼Œå½“ä½ è°ƒç”¨æ–¹æ³•__next__æ—¶ï¼Œè¿­ä»£å™¨åº”è¿”å›å…¶ä¸‹ä¸€ä¸ªå€¼ï¼› </p>
</li>
<li><p><strong>TODOï¼š</strong>åŒ…å«yieldè¯­å¥çš„å‡½æ•°éƒ½è¢«ç§°ä¸º<strong>ç”Ÿæˆå™¨</strong> ï¼Œç”Ÿæˆå™¨ä¸æ˜¯ä½¿ç”¨returnè¿”å›ä¸€ä¸ªå€¼ï¼Œè€Œæ˜¯å¯ä»¥ç”Ÿæˆå¤šä¸ªå€¼ï¼Œæ¯æ¬¡ä¸€ä¸ªï¼Œæ¯æ¬¡ä½¿ç”¨yieldç”Ÿæˆä¸€ä¸ªå€¼åï¼Œå‡½æ•°éƒ½å°†å†»ç»“ï¼Œå³åœ¨æ­¤åœæ­¢æ‰§è¡Œï¼Œç­‰å¾…è¢«é‡æ–°å”¤é†’ï¼Œè¢«é‡æ–°å”¤é†’åï¼Œå‡½æ•°å°†ä»åœæ­¢çš„åœ°æ–¹å¼€å§‹ç»§ç»­æ‰§è¡Œï¼›</p>
</li>
<li><p>ä¸ºç»„ç»‡æ¨¡å—ï¼Œå¯å°†å…¶ç¼–ç»„ä¸º<strong>åŒ…ï¼ˆ packageï¼‰</strong>ï¼ŒåŒ…å…¶å®å°±æ˜¯å¦ä¸€ç§æ¨¡å—ï¼Œä½†æœ‰è¶£çš„æ˜¯å®ƒä»¬å¯åŒ…å«å…¶ä»–æ¨¡å—ï¼Œè¦è¢«Pythonè§†ä¸ºåŒ…ï¼Œç›®å½•å¿…é¡»åŒ…å«æ–‡ä»¶__init__.pyï¼Œè¦å°†æ¨¡å—åŠ å…¥åŒ…ä¸­ï¼Œåªéœ€å°†æ¨¡å—æ–‡ä»¶æ”¾åœ¨åŒ…ç›®å½•ä¸­å³å¯ï¼›</p>
</li>
<li><p>Python 3ä¸­çš„ä¿ç•™å­—åŒ…æ‹¬ and ã€ as ã€ assert ã€ break ã€ class ã€continueã€defã€delã€elifã€elseã€exceptã€Falseã€finallyã€forã€fromã€globalã€ifã€importã€inã€isã€lambdaã€nonlocalã€Noneã€notã€orã€passã€raiseã€returnã€Trueã€tryã€whileã€withå’Œ yield</p>
</li>
<li><p>ç³»ç»Ÿè‡ªå¸¦æ¨¡å—ï¼š</p>
<ul>
<li>æ¨¡å—sysè®©ä½ èƒ½å¤Ÿè®¿é—®ä¸Pythonè§£é‡Šå™¨ç´§å¯†ç›¸å…³çš„å˜é‡å’Œå‡½æ•°  </li>
<li>æ¨¡å—osè®©ä½ èƒ½å¤Ÿè®¿é—®å¤šä¸ªæ“ä½œç³»ç»ŸæœåŠ¡</li>
<li>æ¨¡å—fileinputè®©ä½ èƒ½å¤Ÿè½»æ¾åœ°è¿­ä»£ä¸€ç³»åˆ—æ–‡æœ¬æ–‡ä»¶ä¸­çš„æ‰€æœ‰è¡Œ  </li>
<li>Pythonæ”¯æŒä¸€äº›è¾ƒå¸¸ç”¨çš„ï¼Œå…¶ä¸­çš„å­—å…¸ï¼ˆæ•£åˆ—è¡¨ï¼‰å’Œåˆ—è¡¨ï¼ˆåŠ¨æ€æ•°ç»„ï¼‰æ˜¯Pythonè¯­è¨€çš„æœ‰æœºç»„æˆéƒ¨åˆ†  </li>
<li>æ¨¡å—timeåŒ…å«ç”¨äºè·å–å½“å‰æ—¶é—´ã€æ“ä½œæ—¶é—´å’Œæ—¥æœŸã€ä»å­—ç¬¦ä¸²ä¸­è¯»å–æ—¥æœŸã€å°†æ—¥æœŸæ ¼å¼åŒ–ä¸ºå­—ç¬¦ä¸²çš„å‡½æ•°  </li>
<li>æ¨¡å—randomåŒ…å«ç”Ÿæˆä¼ªéšæœºæ•°çš„å‡½æ•°ï¼Œæœ‰åŠ©äºç¼–å†™æ¨¡æ‹Ÿç¨‹åºæˆ–ç”Ÿæˆéšæœºè¾“å‡ºçš„ç¨‹åº  </li>
<li>æ¨¡å—shelveå¯ä»¥è¿›è¡Œç®€å•çš„æ•°æ®åº“æ“ä½œ</li>
<li>æ¨¡å—reæä¾›äº†å¯¹æ­£åˆ™è¡¨è¾¾å¼çš„æ”¯æŒ  </li>
<li>æ¨¡å—cmdèƒ½å¤Ÿç¼–å†™ç±»ä¼¼äºPythonäº¤äº’å¼è§£é‡Šå™¨çš„å‘½ä»¤è¡Œè§£é‡Šå™¨   </li>
<li>æ¨¡å—csvè®©ä½ èƒ½å¤Ÿè½»æ¾åœ°è¯»å†™CSVæ–‡ä»¶ï¼Œå®ƒè¿˜ä»¥éå¸¸é€æ˜çš„æ–¹å¼å¤„ç†CSVæ ¼å¼çš„ä¸€äº›æ£˜æ‰‹éƒ¨åˆ†        </li>
<li>æ¨¡å—datetimeæ”¯æŒç‰¹æ®Šçš„æ—¥æœŸå’Œæ—¶é—´å¯¹è±¡ï¼Œå¹¶è®©ä½ èƒ½å¤Ÿä»¥å„ç§æ–¹å¼åˆ›å»ºå’Œåˆå¹¶è¿™äº›å¯¹è±¡  </li>
<li>æ¨¡å—difflib  è®©ä½ èƒ½å¤Ÿç¡®å®šä¸¤ä¸ªåºåˆ—çš„ç›¸ä¼¼ç¨‹åº¦ï¼Œè¿˜è®©ä½ èƒ½å¤Ÿä»å¾ˆå¤šåºåˆ—ä¸­æ‰¾å‡ºä¸æŒ‡å®šåºåˆ—æœ€ä¸ºç›¸ä¼¼çš„åºåˆ—  </li>
<li>æ¨¡å—enum ä½¿å¾—Pythonæ”¯æŒæšä¸¾ç±»å‹</li>
<li>æ¨¡å—functools èƒ½å¤Ÿåœ¨è°ƒç”¨å‡½æ•°æ—¶åªæä¾›éƒ¨åˆ†å‚æ•°ï¼Œä»¥åå†å¡«å……å…¶ä»–çš„å‚æ•°  </li>
<li>æ¨¡å—hashlib  å¯è®¡ç®—å­—ç¬¦ä¸²çš„å°å‹â€œç­¾åâ€    </li>
<li>æ¨¡å—itertools  åŒ…å«å¤§é‡ç”¨äºåˆ›å»ºå’Œåˆå¹¶è¿­ä»£å™¨      </li>
<li>æ¨¡å—timeitï¼ˆå’Œé…å¥—çš„å‘½ä»¤è¡Œè„šæœ¬ï¼‰æ˜¯ä¸€ä¸ªæµ‹é‡ä»£ç æ®µæ‰§è¡Œæ—¶é—´çš„å·¥å…·  </li>
</ul>
</li>
</ol>
<h2 id="ç½‘ç»œ"><a href="#ç½‘ç»œ" class="headerlink" title="ç½‘ç»œ"></a>ç½‘ç»œ</h2><ol>
<li><p>ç½‘ç»œç¼–ç¨‹ä¸­çš„ä¸€ä¸ªåŸºæœ¬ç»„ä»¶æ˜¯å¥—æ¥å­—ï¼ˆ socketï¼‰ï¼Œå¥—æ¥å­—åˆ†ä¸ºä¸¤ç±»ï¼šæœåŠ¡å™¨å¥—æ¥å­—å’Œå®¢æˆ·ç«¯å¥—æ¥å­—ï¼›</p>
</li>
<li><p>ä¸ºä¼ è¾“æ•°æ®ï¼Œå¥—æ¥å­—æä¾›äº†ä¸¤ä¸ªæ–¹æ³•ï¼š sendå’Œrecvï¼ˆè¡¨ç¤ºreceiveï¼‰ï¼›</p>
</li>
<li><p>ç®€å•æœåŠ¡å™¨ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> socket</span><br><span class="line">s = socket.socket()</span><br><span class="line"></span><br><span class="line">host = socket.gethostname()</span><br><span class="line">port = <span class="number">1234</span></span><br><span class="line">s.bind((host, port))</span><br><span class="line">s.listen(<span class="number">5</span>)</span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">	c, addr = s.accept()</span><br><span class="line">	print(<span class="string">'Got connection from'</span>, addr)</span><br><span class="line">	c.send(<span class="string">'Thank you for connecting'</span>)</span><br><span class="line">	c.close()</span><br></pre></td></tr></table></figure>
</li>
<li><p>ç®€å•å®¢æˆ·ç«¯ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> socket</span><br><span class="line">s = socket.socket()</span><br><span class="line">host = socket.gethostname()</span><br><span class="line">port = <span class="number">1234</span></span><br><span class="line">s.connect((host, port))</span><br><span class="line">print(s.recv(<span class="number">1024</span>))</span><br></pre></td></tr></table></figure>
</li>
<li><p>ç½‘ç»œåº“urllibå’Œurllib2è®©ä½ èƒ½å¤Ÿé€šè¿‡ç½‘ç»œè®¿é—®æ–‡ä»¶ï¼Œå°±åƒè¿™äº›æ–‡ä»¶ä½äºä½ çš„è®¡ç®—æœºä¸­ä¸€æ ·,urlopenè¿”å›çš„ç±»ä¼¼äºæ–‡ä»¶çš„å¯¹è±¡æ”¯æŒæ–¹æ³•closeã€ readã€ readlineå’Œreadlinesï¼Œè¿˜æ”¯æŒè¿­ä»£ç­‰  ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> urllib.request <span class="keyword">import</span> urlopen</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line">webpage = urlopen(<span class="string">'http://www.python.org'</span>)</span><br><span class="line">text = webpage.read()</span><br><span class="line">m = re.search(<span class="string">b'&lt;a href="([^"]+)" .*?&gt;about&lt;/a&gt;'</span>, text, re.IGNORECASE)</span><br><span class="line">m.group(<span class="number">1</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p>å‡½æ•°urlretrieve ä¸‹è½½æ–‡ä»¶å¹¶å°†å…¶å‰¯æœ¬å­˜å‚¨åœ¨ä¸€ä¸ªæœ¬åœ°æ–‡ä»¶ä¸­ï¼Œè¿”å›ä¸€ä¸ªæ ¼å¼ä¸º(filename, headers)çš„å…ƒç»„ï¼Œå…¶ä¸­filenameæ˜¯æœ¬åœ°æ–‡ä»¶çš„åç§°ï¼ŒheadersåŒ…å«ä¸€äº›æœ‰å…³è¿œç¨‹æ–‡ä»¶çš„ä¿¡æ¯ï¼›</p>
</li>
<li><p>å¤„ç†å¤šä¸ªè¿æ¥çš„ä¸»è¦æ–¹å¼æœ‰ä¸‰ç§ï¼šåˆ†å‰ï¼ˆ forkingï¼‰ã€çº¿ç¨‹åŒ–å’Œå¼‚æ­¥I/O ï¼›</p>
</li>
</ol>
<h2 id="åŠŸèƒ½æ€§ä»‹ç»"><a href="#åŠŸèƒ½æ€§ä»‹ç»" class="headerlink" title="åŠŸèƒ½æ€§ä»‹ç»"></a>åŠŸèƒ½æ€§ä»‹ç»</h2><ol>
<li><p>åœ¨ç¨‹åºçš„ç¬¬ä¸€è¡Œæˆ–ç¬¬äºŒè¡Œæ’å…¥ä¸€æ¡æ³¨é‡Šå‘Šè¯‰Pythonä½¿ç”¨ä½•ç§ç¼–ç æ–¹å¼,å¤šæ•°Pythonå®ç°ä¼šé»˜è®¤ä½¿ç”¨UTF-8ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># -*- coding: encoding name -*-</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>æ— è®ºä½•æ—¶å¯¼å…¥æ¨¡å—ï¼Œ Python éƒ½ä¼šåœ¨è¯¥æ¨¡å—å†…éƒ¨åˆ›å»ºä¸€ä¸ªç‰¹æ®Šçš„å˜é‡__name__ï¼Œå¹¶ä¸ºå…¶åˆ†é…ä¸€ä¸ªè¡¨ç¤ºæ¨¡å—åç§°çš„å­—ç¬¦ä¸²ï¼Œå¦‚æœç›´æ¥è¿è¡Œ Python ä»£ç ï¼ˆä¸å¯¼å…¥ï¼‰ï¼Œ Python ä¼šå°†__name__çš„å€¼è®¾ç½®ä¸ºâ€™__main__â€˜ ï¼Œå¯ä»¥æ”¹å˜ç¨‹åºçš„æœ€åä¸€è¡Œ,ä¿è¯åœ¨ç›´æ¥è°ƒç”¨ç¨‹åºæ—¶è‡ªåŠ¨è¿è¡Œ mainï¼Œä½†å¦‚æœå¯¼å…¥æ¨¡å—ï¼Œå°±ä¸ä¼šè¿è¡Œ : </p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> __name__ == â€™__main__â€™:</span><br><span class="line">	å‡½æ•°ä½“</span><br></pre></td></tr></table></figure>
</li>
<li><p>è™½ç„¶ Python ç®€å•åœ°å¿½ç•¥äº†å¸¸è§„æ³¨é‡Šï¼Œä½†æ–‡æ¡£å­—ç¬¦ä¸²å®é™…åœ¨æ‰§è¡Œæ—¶è¢«æ”¾åœ¨ä¸€ä¸ªç‰¹æ®Šå±æ€§ä¸­ï¼Œåä¸º__doc__   </p>
</li>
</ol>
<h2 id="å¤–éƒ¨åº“"><a href="#å¤–éƒ¨åº“" class="headerlink" title="å¤–éƒ¨åº“"></a>å¤–éƒ¨åº“</h2><ol>
<li>numpyï¼šä¸€ä¸ª Python æ•°å­—åº“ï¼ˆçŸ©é˜µè¿ç®—çš„åŸºçŸ³åº“ï¼‰</li>
<li>scipyï¼šå¤§é‡å¯ä¿¡çš„ç§‘å­¦åº“çš„é›†åˆï¼Œé€šå¸¸åŒ…å«äº†å¹¿å—å°Šé‡çš„Cå’ŒFortranåº“</li>
<li>pandasï¼šä¸€ä¸ªæ•°æ®åˆ†æåº“ï¼Œç±»ä¼¼äºRè¯­è¨€çš„æ•°æ®æ¡†æˆ–Excelè¡¨æ ¼ï¼ŒåŸºäº scipy å’Œ numpy</li>
<li>scikit-learnï¼šæ­£åœ¨å¿«é€Ÿæˆä¸ºé»˜è®¤çš„æœºå™¨å­¦ä¹ åº“ï¼ŒåŸºäºscipy</li>
<li>biopythonï¼šä¸€ä¸ªç”Ÿç‰©ä¿¡æ¯å­¦åº“ï¼Œç±»ä¼¼äº bioperl</li>
<li>tornadoï¼šä¸€ä¸ªæä¾›äº†å¹¶å‘æœºåˆ¶çš„åº“</li>
<li>å„ç±»æ•°æ®åº“å°è£…ï¼šä¸ºäº†è·ŸåŸºæœ¬ä¸Šæ‰€æœ‰çš„æ•°æ®åº“é€šä¿¡ï¼ŒåŒ…æ‹¬ Redisã€MongoDBã€HDF5ä»¥åŠSQL</li>
<li>å„ç±»ç½‘ç«™å¼€å‘æ¡†æ¶ï¼šç”¨äºåˆ›å»ºç½‘ç«™çš„å„ç§é«˜æ€§èƒ½ç³»ç»Ÿï¼Œå¦‚ djangoã€pyramidã€flaskå’Œtornado</li>
<li>OpenCVï¼šè®¡ç®—æœºè§†è§‰çš„å°è£…</li>
</ol>
<h2 id="çŸ©é˜µå’ŒçŸ¢é‡è®¡ç®—"><a href="#çŸ©é˜µå’ŒçŸ¢é‡è®¡ç®—" class="headerlink" title="çŸ©é˜µå’ŒçŸ¢é‡è®¡ç®—"></a>çŸ©é˜µå’ŒçŸ¢é‡è®¡ç®—</h2><ol>
<li>çŸ¢é‡è®¡ç®—æ˜¯è®¡ç®—æœºå·¥ä½œåŸç†ä¸å¯æˆ–ç¼ºçš„éƒ¨åˆ†ï¼Œä¹Ÿæ˜¯åœ¨èŠ¯ç‰‡å±‚æ¬¡ä¸Šå¯¹ç¨‹åºè¿è¡Œæ—¶é—´è¿›è¡ŒåŠ é€Ÿæ‰€å¿…é¡»äº†è§£çš„å†…å®¹ï¼›</li>
<li>ç°ä»£è®¡ç®—æœºæ‰€ä½¿ç”¨çš„å±‚æ¬¡åŒ–çš„å†…å­˜æ¶æ„ä¼šå¯¼è‡´ CPU å’Œå†…å­˜ä¹‹é—´çš„å¸¦å®½å—åˆ°é™åˆ¶ï¼Œç§°ä¹‹ä¸ºâ€œå†¯è¯ºä¾æ›¼ç“¶é¢ˆâ€ï¼›</li>
<li>ä»»ä½•æˆ‘ä»¬å¯¹ numpy æ•°ç»„çš„æ•°å­¦æ“ä½œéƒ½èƒ½è‡ªåŠ¨çŸ¢é‡åŒ–è€Œæ— é¡»æˆ‘ä»¬æ˜¾å¼éå†æ¯ä¸€ä¸ªå…ƒç´ ï¼Œä½¿å¾—çŸ©é˜µè®¡ç®—æ›´ç®€å•ï¼Œè€Œä¸”ä¹Ÿæ›´å¿«ï¼›</li>
<li>ç”±äº CPU å¿…é¡»ç­‰å¾…ä»è¾ƒæ…¢çš„å†…å­˜ä¸­è¯»å–æ•°æ®è€Œä¸æ˜¯ä»ç¼“å­˜ä¸­ç›´æ¥ä½¿ç”¨ï¼Œ ç¼“å­˜å¤±æ•ˆé™ä½äº†è®¡ç®—é€Ÿåº¦ï¼Œå†…å­˜é—®é¢˜æ‰æ˜¯ä»£ç æ•ˆç‡ä½ä¸‹çš„å†³å®šæ€§å› ç´ ï¼›  </li>
<li>numexpr æ¨¡å—å¯ä»¥å°†æ•´ä¸ªçŸ¢é‡è¡¨è¾¾å¼ç¼–è¯‘æˆéå¸¸é«˜æ•ˆçš„ä»£ç ï¼Œå¯ä»¥å°†ç¼“å­˜å¤±æ•ˆä»¥åŠä¸´æ—¶å˜é‡çš„æ•°é‡æœ€å°åŒ–ï¼Œè¿˜èƒ½åˆ©ç”¨å¤šä¸ª CPU æ ¸å¿ƒä»¥åŠ Intel èŠ¯ç‰‡ä¸“ç”¨çš„æŒ‡ä»¤é›†æ¥å°†é€Ÿåº¦æœ€å¤§åŒ–ï¼›</li>
<li>ä¼˜åŒ–ä½¿ç”¨çš„ä¸¤ç§æ–¹æ³•ï¼šå‡å°‘ CPU è·å¾—æ•°æ®çš„æ—¶é—´å’Œå‡å°‘ CPU éœ€è¦å¹²çš„å·¥ä½œï¼›</li>
<li>ç†è§£äº†ç¼“å­˜çš„å·¥ä½œæ–¹å¼å¾ˆé‡è¦ï¼</li>
</ol>
<h2 id="ç¼–è¯‘æˆC"><a href="#ç¼–è¯‘æˆC" class="headerlink" title="ç¼–è¯‘æˆC"></a>ç¼–è¯‘æˆC</h2><ol>
<li>Cython æ˜¯ä¸€ä¸ªèƒ½æŠŠç±»å‹æ³¨è§£çš„ Python è½¬æ¢ä¸ºä¸€ä¸ªæ‰©å±•ç¼–è¯‘æ¨¡å—çš„ç¼–è¯‘å™¨ï¼›</li>
<li>èƒ½å¤Ÿåƒä¸€ä¸ªå¸¸è§„ Python æ¨¡å—é‚£æ ·ä½¿ç”¨ import æ¥å¯¼å…¥æ‰©å±•æ¨¡å—ï¼›</li>
<li>Cython æœ‰ä¸€ä¸ªæ³¨è§£é€‰é¡¹èƒ½è¾“å‡ºä¸€ä¸ªå¯ä»¥è®©æˆ‘ä»¬åœ¨æµè§ˆå™¨ä¸ŠæŸ¥çœ‹çš„ HTML æ–‡ä»¶ï¼›</li>
<li>OpenMPï¼ˆOpen Multi-Processingï¼‰æ˜¯ä¸€ä¸ªå®šä¹‰è‰¯å¥½çš„è·¨å¹³å° APIï¼Œ æ”¯æŒå¹¶è¡Œæ‰§è¡Œï¼Œ ä»¥åŠä¸ Cã€C++å’Œ Fortran çš„å†…å­˜å…±äº«ï¼›</li>
<li>Pythran æ˜¯ä¸€ä¸ªæŠŠ Python è½¬æ¢æˆ C++çš„ç¼–è¯‘å™¨ï¼Œ ä½œç”¨äºåŒ…å«å¯¹éƒ¨åˆ† numpy æ”¯æŒçš„ Python å­é›†ï¼</li>
</ol>
<h2 id="å¹¶å‘"><a href="#å¹¶å‘" class="headerlink" title="å¹¶å‘"></a>å¹¶å‘</h2><ol>
<li>å¹¶å‘å…è®¸æˆ‘ä»¬åœ¨ç­‰å¾…ä¸€ä¸ª I/O æ“ä½œå®Œæˆçš„æ—¶å€™æ‰§è¡Œå…¶ä»–æ“ä½œï¼Œä»è€Œå¸®åŠ©æˆ‘ä»¬æŠŠè¿™ä¸ªæµªè´¹çš„æ—¶é—´åˆ©ç”¨èµ·æ¥ï¼›</li>
<li>ä½¿ç”¨äº‹ä»¶å¾ªç¯ç¼–ç¨‹èƒ½é‡‡å–ä¸¤ç§æ–¹å¼ï¼šå›è°ƒæˆ–è€… futureï¼›</li>
<li>åœ¨å›è°ƒæ¨¡å¼ä¸­ï¼Œä½¿ç”¨ä¸€ä¸ªé€š å¸¸ç§°ä¹‹ä¸ºå›è°ƒçš„å‡½æ•°ä½œä¸ºè¾“å…¥å‚æ•°æ¥è°ƒç”¨å‡½æ•°ã€‚å®ƒä¼šä½¿ç”¨å€¼æ¥è°ƒç”¨å›è°ƒå‡½æ•°ï¼Œè€Œä¸æ˜¯æŠŠå€¼è¿”å›å‡ºå»ï¼</li>
</ol>
<h2 id="multiprocessing-æ¨¡å—"><a href="#multiprocessing-æ¨¡å—" class="headerlink" title="multiprocessing æ¨¡å—"></a>multiprocessing æ¨¡å—</h2><ol>
<li>multiprocessing æ¨¡å—æœ‰ä¸€äº›å…¸å‹çš„å·¥ä½œï¼š<ul>
<li>ç”¨è¿›ç¨‹æˆ–æ± å¯¹è±¡æ¥å¹¶è¡ŒåŒ–ä¸€ä¸ª CPU å¯†é›†å‹ä»»åŠ¡</li>
<li>ç”¨å“‘å…ƒæ¨¡å—ï¼ˆå¥‡æ€ªçš„ç§°å‘¼ï¼‰åœ¨çº¿ç¨‹æ± ä¸­å¹¶è¡ŒåŒ–ä¸€ä¸ªI/Oå¯†é›†å‹ä»»åŠ¡</li>
<li>ç”±é˜Ÿåˆ—æ¥å…±äº«æå¸¦çš„å·¥ä½œ</li>
<li>åœ¨å¹¶è¡Œå·¥ä½œè€…ä¹‹é—´å…±äº«çŠ¶æ€ï¼ŒåŒ…æ‹¬å­—èŠ‚ã€åŸç”Ÿæ•°æ®ç±»å‹ã€å­—å…¸å’Œåˆ—è¡¨</li>
</ul>
</li>
<li>é€šè¿‡ä½¿ç”¨è¿›ç¨‹ï¼Œæˆ‘ä»¬å¹¶è¡Œè¿è¡Œäº†ä¸€å®šæ•°é‡çš„ Python è§£é‡Šå™¨ï¼Œæ¯ä¸€ä¸ªè¿›ç¨‹éƒ½æœ‰ç§æœ‰çš„å†…å­˜ç©ºé—´ï¼Œæœ‰è‡ªå·±çš„ GILï¼Œ å¹¶ä¸”æ¯ä¸€ä¸ªéƒ½ä¸²è¡Œè¿è¡Œï¼›</li>
<li>multiprocessing æ¨¡å—åœ¨ Python 2.6 ä¸­è¢«å¼•å…¥ï¼Œé€šè¿‡é‡‡ç”¨å·²ç»å­˜åœ¨çš„å—ï¼ŒæŠŠå®ƒåˆå…¥ Python çš„å†…ç½®åº“é›†åˆä¸­ï¼</li>
</ol>
]]></content>
      <categories>
        <category>Python</category>
      </categories>
  </entry>
  <entry>
    <title>Python æ·±å…¥å­¦ä¹ ç¬¬äºŒé˜¶æ®µ</title>
    <url>/2020/05/11/Python-%E6%B7%B1%E5%85%A5%E5%AD%A6%E4%B9%A0%E7%AC%AC%E4%BA%8C%E9%98%B6%E6%AE%B5/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p> è¿™éƒ¨åˆ†æ˜¯Pythonçš„è¿›é˜¶å­¦ä¹ ç¬¬äºŒé˜¶æ®µï¼Œä¸»è¦æ˜¯ä¸€äº›æ·±å…¥çš„PythonæŠ€å·§ï¼Œè¿˜æœ‰ä¸€äº›ä¹‹å‰æ²¡æœ‰ä»‹ç»çš„åº“ã€‚å­¦ä¹ è¿™éƒ¨åˆ†èƒ½å¸¦æ¥ä»€ä¹ˆï¼Œçœ‹å®Œå°±çŸ¥é“äº†ï¼*<em>æ¨èä¹¦ç±ï¼šã€ŠPython æ ¸å¿ƒç¼–ç¨‹ï¼ˆç¬¬3ç‰ˆï¼‰ã€‹Â· [ç¾] Wesley Chun è‘— å­™æ³¢ç¿” ææ–Œ ææ™— è¯‘ *</em></p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="æ­£åˆ™è¡¨è¾¾å¼"><a href="#æ­£åˆ™è¡¨è¾¾å¼" class="headerlink" title="æ­£åˆ™è¡¨è¾¾å¼"></a>æ­£åˆ™è¡¨è¾¾å¼</h2><ol>
<li><p>æ“ä½œæ–‡æœ¬æˆ–è€…æ•°æ®æ˜¯éå¸¸é¢‘ç‡é«˜çš„è¿‡ç¨‹ï¼Œæ¯”å¦‚æ–‡å­—å¤„ç†ã€ç½‘é¡µè¡¨å•çš„å¡«å†™ã€æ¥è‡ªæ•°æ®åº“è½¬å‚¨çš„ä¿¡æ¯æµã€è‚¡ç¥¨æŠ¥ä»·ä¿¡æ¯ã€æ–°é—»æºï¼Œè€Œä¸”è¿™ä¸ªæ¸…å•è¿˜ä¼šä¸æ–­å¢é•¿ï¼›</p>
</li>
<li><p>æ­£åˆ™è¡¨è¾¾å¼ä¸ºé«˜çº§çš„æ–‡æœ¬æ¨¡å¼åŒ¹é…ã€æŠ½å–ã€ä¸/æˆ–æ–‡æœ¬å½¢å¼çš„æœç´¢å’Œæ›¿æ¢åŠŸèƒ½æä¾›äº†åŸºç¡€ï¼›</p>
</li>
<li><p>Python é€šè¿‡æ ‡å‡†åº“ä¸­çš„ re æ¨¡å—æ¥æ”¯æŒæ­£åˆ™è¡¨è¾¾å¼ï¼Œå»ºè®®é˜…è¯»ä¸€äº›å®˜æ–¹å¸®åŠ©æ–‡æ¡£å’Œä¸æ­¤ä¸»é¢˜ç›¸å…³çš„æ–‡æ¡£ï¼š</p>
<ul>
<li>â€œæœç´¢â€ï¼ˆsearchingï¼‰ï¼Œå³åœ¨å­—ç¬¦ä¸²ä»»æ„éƒ¨åˆ†ä¸­æœç´¢åŒ¹é…çš„æ¨¡å¼</li>
<li>â€œåŒ¹é…â€ï¼ˆmatchingï¼‰æ˜¯æŒ‡åˆ¤æ–­éƒ¨åˆ†åœ°åŒ¹é…æŸä¸ªæ¨¡å¼</li>
</ul>
</li>
<li><p>æ­£åˆ™è¡¨è¾¾å¼æ˜¯åŒ…å«æ–‡æœ¬å’Œç‰¹æ®Šå­—ç¬¦çš„å­—ç¬¦ä¸²ï¼Œè¯¥å­—ç¬¦ä¸²æè¿°ä¸€ä¸ªå¯ä»¥è¯†åˆ«å„ç§å­—ç¬¦ä¸²çš„æ¨¡å¼ï¼›</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/da8be6e815e95e66f2b1ede9c9711c9a-108643" alt="æ­£åˆ™è¡¨è¾¾å¼ç‰¹æ®Šå­—ç¬¦1"></p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/92388579014a70f811c4cfd87956cbcb-166935" alt="æ­£åˆ™è¡¨è¾¾å¼ç‰¹æ®Šå­—ç¬¦2"></p>
</li>
<li><p>è¡¨ç¤ºæ‹©ä¸€åŒ¹é…çš„ç®¡é“ç¬¦å·ï¼ˆ|ï¼‰ï¼Œä¹Ÿå°±æ˜¯é”®ç›˜ä¸Šçš„ç«–çº¿ï¼Œè¡¨ç¤ºä¸€ä¸ªâ€œä»å¤šä¸ªæ¨¡å¼ä¸­é€‰æ‹©å…¶ä¸€â€çš„æ“ä½œï¼Œæ‹©ä¸€åŒ¹é…æœ‰æ—¶å€™ä¹Ÿç§°ä½œå¹¶ï¼ˆunionï¼‰æˆ–è€…é€»è¾‘æˆ–ï¼ˆlogical ORï¼‰ï¼›</p>
</li>
<li><p>ç‚¹å·æˆ–è€…å¥ç‚¹ï¼ˆ.ï¼‰ç¬¦å·åŒ¹é…é™¤äº†æ¢è¡Œç¬¦\n ä»¥å¤–çš„ä»»ä½•å­—ç¬¦ï¼›</p>
</li>
<li><p>å¦‚æœè¦åŒ¹é…å­—ç¬¦ä¸²çš„å¼€å§‹ä½ç½®ï¼Œå°±å¿…é¡»ä½¿ç”¨è„±å­—ç¬¦ï¼ˆ^ï¼‰æˆ–è€…ç‰¹æ®Šå­—ç¬¦\Aï¼ˆåæ–œçº¿å’Œå¤§å†™å­—æ¯Aï¼‰ï¼›</p>
</li>
<li><p>ç¾å…ƒç¬¦å·ï¼ˆ$ï¼‰æˆ–è€…\Z å°†ç”¨äºåŒ¹é…å­—ç¬¦ä¸²çš„æœ«å°¾ä½ç½®ï¼›</p>
</li>
<li><p>æ–¹æ‹¬å·ä¸­ä¸¤ä¸ªç¬¦å·ä¸­é—´ç”¨è¿å­—ç¬¦ï¼ˆ-ï¼‰è¿æ¥ï¼Œç”¨äºæŒ‡å®šä¸€ä¸ªå­—ç¬¦çš„èŒƒå›´ï¼Œå¦‚æœè„±å­—ç¬¦ï¼ˆ^ï¼‰ç´§è·Ÿåœ¨å·¦æ–¹æ‹¬å·åé¢ï¼Œè¿™ä¸ªç¬¦å·å°±è¡¨ç¤ºä¸åŒ¹é…ç»™å®šå­—ç¬¦é›†ä¸­çš„ä»»ä½•ä¸€ä¸ªå­—ç¬¦ï¼›</p>
</li>
<li><p>æ˜Ÿå·æˆ–è€…æ˜Ÿå·æ“ä½œç¬¦ï¼ˆ*ï¼‰å°†åŒ¹é…å…¶å·¦è¾¹çš„æ­£åˆ™è¡¨è¾¾å¼å‡ºç°é›¶æ¬¡æˆ–è€…å¤šæ¬¡çš„æƒ…å†µï¼›</p>
</li>
<li><p>åŠ å·ï¼ˆ+ï¼‰æ“ä½œç¬¦å°†åŒ¹é…ä¸€æ¬¡æˆ–è€…å¤šæ¬¡å‡ºç°çš„æ­£åˆ™è¡¨è¾¾å¼ï¼Œé—®å·ï¼ˆï¼Ÿï¼‰æ“ä½œç¬¦å°†åŒ¹é…é›¶æ¬¡æˆ–è€…ä¸€æ¬¡å‡ºç°çš„æ­£åˆ™è¡¨è¾¾å¼ï¼›</p>
</li>
<li><p>å¤§æ‹¬å·æ“ä½œç¬¦ï¼ˆ{}ï¼‰ï¼Œé‡Œé¢æˆ–è€…æ˜¯å•ä¸ªå€¼æˆ–è€…æ˜¯ä¸€å¯¹ç”±é€—å·åˆ†éš”çš„å€¼ï¼Œæœ€ç»ˆç²¾ç¡®åœ°åŒ¹é…å‰é¢çš„æ­£åˆ™è¡¨è¾¾å¼ N æ¬¡ï¼ˆå¦‚æœæ˜¯{N}ï¼‰æˆ–è€…ä¸€å®šèŒƒå›´çš„æ¬¡æ•°ï¼›</p>
</li>
<li><p>re æ¨¡å—æ”¯æŒæ›´å¼ºå¤§è€Œä¸”æ›´é€šç”¨çš„ Perl é£æ ¼ï¼ˆPerl 5 é£æ ¼ï¼‰çš„æ­£åˆ™è¡¨è¾¾å¼ï¼Œè¯¥æ¨¡å—å…è®¸å¤šä¸ªçº¿ç¨‹å…±äº«åŒä¸€ä¸ªå·²ç¼–è¯‘çš„æ­£åˆ™è¡¨è¾¾å¼å¯¹è±¡ï¼Œä¹Ÿæ”¯æŒå‘½åå­ç»„ï¼›</p>
</li>
</ol>
<h2 id="ç½‘ç»œç¼–ç¨‹"><a href="#ç½‘ç»œç¼–ç¨‹" class="headerlink" title="ç½‘ç»œç¼–ç¨‹"></a>ç½‘ç»œç¼–ç¨‹</h2><ol>
<li><p>æœåŠ¡å™¨å°±æ˜¯ä¸€ç³»åˆ—ç¡¬ä»¶æˆ–è½¯ä»¶ï¼Œä¸ºä¸€ä¸ªæˆ–å¤šä¸ªå®¢æˆ·ç«¯ï¼ˆæœåŠ¡çš„ç”¨æˆ·ï¼‰æä¾›æ‰€éœ€çš„â€œæœåŠ¡â€ï¼Œç›®çš„å°±æ˜¯ç­‰å¾…å®¢æˆ·ç«¯çš„è¯·æ±‚ï¼Œå¹¶å“åº”å®ƒä»¬ï¼ˆæä¾›æœåŠ¡ï¼‰ï¼Œç„¶åç­‰å¾…æ›´å¤šè¯·æ±‚ï¼›</p>
</li>
<li><p>å®¢æˆ·ç«¯å› ç‰¹å®šçš„è¯·æ±‚è€Œè”ç³»æœåŠ¡å™¨ï¼Œå¹¶å‘é€å¿…è¦çš„æ•°æ®ï¼Œç„¶åç­‰å¾…æœåŠ¡å™¨çš„å›åº”ï¼Œæœ€åå®Œæˆè¯·æ±‚æˆ–ç»™å‡ºæ•…éšœçš„åŸå› ï¼›</p>
</li>
<li><p>å¥—æ¥å­—æ˜¯è®¡ç®—æœºç½‘ç»œæ•°æ®ç»“æ„ï¼Œåœ¨ä»»ä½•ç±»å‹çš„é€šä¿¡å¼€å§‹ä¹‹å‰ï¼Œç½‘ç»œåº”ç”¨ç¨‹åºå¿…é¡»åˆ›å»ºå¥—æ¥å­—ï¼›</p>
</li>
<li><p>æœ‰ä¸¤ç§ç±»å‹çš„å¥—æ¥å­—ï¼šåŸºäºæ–‡ä»¶çš„å’Œé¢å‘ç½‘ç»œçš„</p>
<ul>
<li>AF_UNIXã€AF_LOCALï¼Œè¡¨ç¤ºåœ°å€å®¶æ—ï¼ˆaddress familyï¼‰ï¼šUNIX</li>
<li>AF_INETï¼Œæˆ–è€…åœ°å€å®¶æ—ï¼š å› ç‰¹ç½‘</li>
</ul>
</li>
<li><p>Python åª(ç›®å‰)æ”¯æŒ AF_UNIXã€AF_NETLINKã€AF_TIPC å’Œ AF_INET å®¶æ—ï¼›</p>
</li>
<li><p>é¢å‘è¿æ¥çš„é€šä¿¡æä¾›åºåˆ—åŒ–çš„ã€å¯é çš„å’Œä¸é‡å¤çš„æ•°æ®äº¤ä»˜ï¼Œè€Œæ²¡æœ‰è®°å½•è¾¹ç•Œï¼Œå®ç°è¿™ç§è¿æ¥ç±»å‹çš„ä¸»è¦åè®®æ˜¯ä¼ è¾“æ§åˆ¶åè®®ï¼ˆTCPï¼‰ï¼›</p>
</li>
<li><p>æ•°æ®æŠ¥ç±»å‹çš„å¥—æ¥å­—æ˜¯ä¸€ç§æ— è¿æ¥çš„å¥—æ¥å­—ï¼Œåœ¨é€šä¿¡å¼€å§‹ä¹‹å‰å¹¶ä¸éœ€è¦å»ºç«‹è¿æ¥ï¼Œå®ç°è¿™ç§è¿æ¥ç±»å‹çš„ä¸»è¦åè®®æ˜¯ç”¨æˆ·æ•°æ®æŠ¥åè®®ï¼ˆUDPï¼‰ï¼›</p>
</li>
<li><p>Pythonä¸­æä¾›äº†ç½‘ç»œé€šä¿¡æ¨¡å—socketï¼Œåœ¨è¿™ä¸ªæ¨¡å—ä¸­å¯ä»¥æ‰¾åˆ° socket()å‡½æ•°ï¼Œè¯¥å‡½æ•°ç”¨äºåˆ›å»ºå¥—æ¥å­—å¯¹è±¡ï¼›</p>
</li>
<li><p>ä¸ºäº†åˆ›å»º TCP/IP å¥—æ¥å­—ä»¥åŠUDPå¥—æ¥å­—ï¼Œå¯ä»¥ç”¨ä¸‹é¢çš„æ–¹å¼è°ƒç”¨ socket.socket()ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">tcpSock = socket.socket(socket.AF_INET, socket.SOCK_STREAM)</span><br><span class="line">udpSock = socket.socket(socket.AF_INET, socket.SOCK_DGRAM)</span><br></pre></td></tr></table></figure>
</li>
<li><p>å¥—æ¥å­—å¸¸ç”¨å±æ€§å’Œæ–¹æ³•ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/e1a5d7f143d82ca00bf3721e26481a71-57377" alt="å¸¸è§å±æ€§å’Œæ–¹æ³•1"></p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/70276f51afe3295dea6b6f6a0d602917-110375" alt="å¸¸è§å±æ€§å’Œæ–¹æ³•2"></p>
</li>
<li><p>åˆ›å»ºTCPæœåŠ¡å™¨ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">ss = socket()            <span class="comment"># åˆ›å»ºæœåŠ¡å™¨å¥—æ¥å­—</span></span><br><span class="line">ss.bind()                <span class="comment"># å¥—æ¥å­—ä¸åœ°å€ç»‘å®š</span></span><br><span class="line">ss.listen()              <span class="comment"># ç›‘å¬è¿æ¥</span></span><br><span class="line">inf_loop:                <span class="comment"># æœåŠ¡å™¨æ— é™å¾ªç¯</span></span><br><span class="line">	cs = ss.accept()       <span class="comment"># æ¥å—å®¢æˆ·ç«¯è¿æ¥</span></span><br><span class="line">	comm_loop:             <span class="comment"># é€šä¿¡å¾ªç¯</span></span><br><span class="line">		cs.recv()/cs.send()  <span class="comment"># å¯¹è¯ï¼ˆæ¥æ”¶/å‘é€ï¼‰</span></span><br><span class="line">	cs.close()             <span class="comment"># å…³é—­å®¢æˆ·ç«¯å¥—æ¥å­—</span></span><br><span class="line">ss.close()               <span class="comment"># å…³é—­æœåŠ¡å™¨å¥—æ¥å­—#ï¼ˆå¯é€‰ï¼‰</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>UDP æœåŠ¡å™¨ä¸éœ€è¦ TCP æœåŠ¡å™¨é‚£ä¹ˆå¤šçš„è®¾ç½®ï¼Œå› ä¸ºå®ƒä»¬ä¸æ˜¯é¢å‘è¿æ¥çš„:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">ss = socket()                       <span class="comment"># åˆ›å»ºæœåŠ¡å™¨å¥—æ¥å­—</span></span><br><span class="line">ss.bind()                           <span class="comment"># ç»‘å®šæœåŠ¡å™¨å¥—æ¥å­—</span></span><br><span class="line">inf_loop:                           <span class="comment"># æœåŠ¡å™¨æ— é™å¾ªç¯</span></span><br><span class="line">	cs = ss.recvfrom()/ss.sendto()    <span class="comment"># å…³é—­ï¼ˆæ¥æ”¶/å‘é€ï¼‰</span></span><br><span class="line">ss.close()                          <span class="comment"># å…³é—­æœåŠ¡å™¨å¥—æ¥å­—</span></span><br></pre></td></tr></table></figure>

</li>
</ol>
<h2 id="å®¢æˆ·ç«¯ç¼–ç¨‹"><a href="#å®¢æˆ·ç«¯ç¼–ç¨‹" class="headerlink" title="å®¢æˆ·ç«¯ç¼–ç¨‹"></a>å®¢æˆ·ç«¯ç¼–ç¨‹</h2><ol>
<li>ç½‘ç»œåè®®å¸¸ç”¨äºæ–‡ä»¶ä¼ è¾“ï¼ˆFTPã€SCP ç­‰ï¼‰ã€é˜…è¯» Usenetæ–°é—»ç»„ï¼ˆNNTPï¼‰ã€å‘é€ç”µå­é‚®ä»¶ï¼ˆSMTPï¼‰ã€ä»æœåŠ¡å™¨ä¸Šä¸‹è½½ç”µå­é‚®ä»¶ï¼ˆPOP3ã€IMAPï¼‰ç­‰ï¼›</li>
<li>æ–‡ä»¶ä¼ è¾“åè®®ï¼ˆFile Transfer Protocolï¼ŒFTPï¼‰ç”±å·²æ•…çš„ Jon Postel å’Œ Joyce Reynolds å¼€å‘ï¼Œè®°å½•åœ¨ RFCï¼ˆRequest for Commentï¼‰959 å·æ–‡æ¡£ä¸­ï¼Œäº 1985 å¹´ 10 æœˆå‘å¸ƒï¼›</li>
<li>ç”¨æˆ·ä½¿ç”¨ç½‘ç»œæ–°é—»ä¼ è¾“åè®®ï¼ˆNNTPï¼‰åœ¨æ–°é—»ç»„ä¸­ä¸‹è½½æˆ–å‘è¡¨å¸–å­ï¼›</li>
</ol>
]]></content>
      <categories>
        <category>Python</category>
      </categories>
  </entry>
  <entry>
    <title>Python ç½‘ç»œæ•°æ®</title>
    <url>/2020/05/20/Python-%E7%BD%91%E7%BB%9C%E6%95%B0%E6%8D%AE/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>æ¯æ—¶æ¯åˆ»ï¼Œæœç´¢å¼•æ“å’Œç½‘ç«™éƒ½åœ¨é‡‡é›†å¤§é‡ä¿¡æ¯ï¼ŒéåŸåˆ›å³é‡‡é›†ï¼Œé‡‡é›†ä¿¡æ¯çš„ç¨‹åºè¢«ç§°ä¸ºç½‘ç»œçˆ¬è™«ï¼ˆWeb crawlerï¼‰ ã€ç½‘ç»œé“²ã€ç½‘ç»œèœ˜è››ï¼ˆWeb spiderï¼‰ã€‚ç½‘ç»œæ•°æ®é‡‡é›†æ˜¯ä¸€ç§é€šè¿‡å¤šç§æ‰‹æ®µæ”¶é›†ç½‘ç»œæ•°æ®çš„æ–¹å¼ï¼Œä¸å…‰æ˜¯é€šè¿‡ä¸ API äº¤äº’çš„æ–¹å¼ã€‚<strong>æ¨èä¹¦ç±ï¼šã€ŠPython ç½‘ç»œæ•°æ®é‡‡é›†ã€‹Â· [è‹±] Ryan Mitchell è‘— é™¶ä¿Šæ° é™ˆå°è‰ è¯‘</strong></p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="éœ€æ±‚"><a href="#éœ€æ±‚" class="headerlink" title="éœ€æ±‚"></a>éœ€æ±‚</h2><ol>
<li>æ•°æ®æ”¶é›†çš„éš¾ç‚¹ï¼š<ol>
<li>è¦æ”¶é›†çš„æ•°æ®æ¥è‡ªä¸åŒçš„ç½‘ç«™ï¼Œæ²¡æœ‰ä¸€ä¸ªç»¼åˆå¤šä¸ªç½‘ç«™æ•°æ®çš„API</li>
<li>æƒ³è¦çš„æ•°æ®éå¸¸å°ä¼—ï¼Œç½‘ç«™ä¸ä¼šä¸ºä½ å•ç‹¬åšä¸€ä¸ªAPI</li>
<li>ä¸€äº›ç½‘ç«™æ²¡æœ‰åŸºç¡€è®¾æ–½æˆ–æŠ€æœ¯èƒ½åŠ›å»å»ºç«‹API</li>
</ol>
</li>
<li>å³ä½¿ API å·²ç»å­˜åœ¨ï¼Œå¯èƒ½è¿˜ä¼šæœ‰è¯·æ±‚å†…å®¹å’Œæ¬¡æ•°é™åˆ¶ï¼ŒAPIèƒ½å¤Ÿæä¾›çš„æ•°æ®ç±»å‹æˆ–è€…æ•°æ®æ ¼å¼å¯èƒ½ä¹Ÿæ— æ³•æ»¡è¶³ä½ çš„éœ€æ±‚!</li>
<li>æ•°æ®åº”ç”¨åœºæ™¯ï¼š<ul>
<li>å¸‚åœºé¢„æµ‹</li>
<li>æœºå™¨è¯­è¨€ç¿»è¯‘</li>
<li>åŒ»ç–—è¯Šæ–­é¢†åŸŸ</li>
<li>è‰ºæœ¯é¢†åŸŸ</li>
<li>â€¦ â€¦</li>
</ul>
</li>
</ol>
<h2 id="çˆ¬è™«åˆè¯†"><a href="#çˆ¬è™«åˆè¯†" class="headerlink" title="çˆ¬è™«åˆè¯†"></a>çˆ¬è™«åˆè¯†</h2><ol>
<li><p>ä¸€èˆ¬äººï¼ˆä¹ŸåŒ…æ‹¬æŠ€æœ¯è¾¾äººï¼‰åœ¨æ€è€ƒâ€œç½‘ç»œçˆ¬è™«â€æ—¶é€šå¸¸çš„æƒ³æ³•ï¼š  </p>
<ul>
<li>é€šè¿‡ç½‘ç«™åŸŸåè·å– HTML æ•°æ®  </li>
<li>æ ¹æ®ç›®æ ‡ä¿¡æ¯è§£ææ•°æ®  </li>
<li>å­˜å‚¨ç›®æ ‡ä¿¡æ¯  </li>
<li>å¦‚æœæœ‰å¿…è¦ï¼Œç§»åŠ¨åˆ°å¦ä¸€ä¸ªç½‘é¡µé‡å¤è¿™ä¸ªè¿‡ç¨‹  </li>
</ul>
</li>
<li><p>ç½‘ç»œæ•°æ®é‡‡é›†éœ€è¦æŠ›å¼€ä¸€äº›æ¥å£çš„é®æŒ¡ï¼Œä¸ä»…æ˜¯åœ¨æµè§ˆå™¨å±‚ï¼Œæœ‰æ—¶ä¹ŸåŒ…æ‹¬ç½‘ç»œè¿æ¥å±‚ï¼›</p>
</li>
<li><p><a href="https://docs.python.org/3/library/urllib.html" target="_blank" rel="noopener">urllib</a> æ˜¯ Python çš„æ ‡å‡†åº“ï¼ŒåŒ…å«äº†ä»ç½‘ç»œè¯·æ±‚æ•°æ®ï¼Œ å¤„ç† cookieï¼Œç”šè‡³æ”¹å˜åƒè¯·æ±‚å¤´å’Œç”¨æˆ·ä»£ç†è¿™äº›å…ƒæ•°æ®çš„å‡½æ•°ï¼›</p>
</li>
<li><p><a href="https://www.crummy.com/software/BeautifulSoup/bs4/doc.zh/" target="_blank" rel="noopener">BeautifulSoup</a>é€šè¿‡å®šä½ HTML æ ‡ç­¾æ¥æ ¼å¼åŒ–å’Œç»„ç»‡å¤æ‚çš„ç½‘ç»œä¿¡æ¯ï¼Œç”¨ç®€å•æ˜“ç”¨çš„ Python å¯¹è±¡ä¸ºæˆ‘ä»¬å±•ç° XML ç»“æ„ä¿¡æ¯,éœ€è¦ç‹¬ç«‹å®‰è£…ï¼›</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">pip3 install beautifulsoup4</span><br></pre></td></tr></table></figure>
</li>
<li><p>urllibå’ŒBeautifulSoupç®€å•çš„æ ·ä¾‹</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> urllib.request <span class="keyword">import</span> urlopen</span><br><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup</span><br><span class="line">html = urlopen(<span class="string">"http://www.pythonscraping.com/pages/page1.html"</span>)</span><br><span class="line">bsObj = BeautifulSoup(html.read())</span><br><span class="line">print(bsObj.h1)</span><br></pre></td></tr></table></figure>

<ul>
<li>ä»»ä½• HTMLæ–‡ä»¶çš„ä»»æ„èŠ‚ç‚¹ä¿¡æ¯éƒ½å¯ä»¥è¢«æå–å‡ºæ¥ï¼Œåªè¦ç›®æ ‡ä¿¡æ¯çš„æ—è¾¹æˆ–é™„è¿‘æœ‰æ ‡è®°å°±è¡Œ    </li>
</ul>
</li>
<li><p>å¤„ç†å¼‚å¸¸</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ç½‘ç»œè¿æ¥å¼‚å¸¸</span></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">	html = urlopen(<span class="string">"http://www.pythonscraping.com/pages/page1.html"</span>)</span><br><span class="line"><span class="keyword">except</span> HTTPError <span class="keyword">as</span> e:</span><br><span class="line">	print(e)</span><br><span class="line">	<span class="comment"># è¿”å›ç©ºå€¼ï¼Œä¸­æ–­ç¨‹åºï¼Œ æˆ–è€…æ‰§è¡Œå¦ä¸€ä¸ªæ–¹æ¡ˆ</span></span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">	<span class="comment"># ç¨‹åºç»§ç»­ã€‚æ³¨æ„ï¼š å¦‚æœä½ å·²ç»åœ¨ä¸Šé¢å¼‚å¸¸æ•æ‰é‚£ä¸€æ®µä»£ç é‡Œè¿”å›æˆ–ä¸­æ–­ï¼ˆbreakï¼‰ï¼Œ</span></span><br><span class="line">	<span class="comment"># é‚£ä¹ˆå°±ä¸éœ€è¦ä½¿ç”¨elseè¯­å¥äº†ï¼Œè¿™æ®µä»£ç ä¹Ÿä¸ä¼šæ‰§è¡Œ</span></span><br><span class="line">    </span><br><span class="line"><span class="comment"># å†…å®¹å¼‚å¸¸    </span></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">	badContent = bsObj.nonExistingTag.anotherTag</span><br><span class="line"><span class="keyword">except</span> AttributeError <span class="keyword">as</span> e:</span><br><span class="line">	print(<span class="string">"Tag was not found"</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">	<span class="keyword">if</span> badContent == <span class="literal">None</span>:</span><br><span class="line">		<span class="keyword">print</span> (<span class="string">"Tag was not found"</span>)</span><br><span class="line">	<span class="keyword">else</span>:</span><br><span class="line">		print(badContent)</span><br></pre></td></tr></table></figure>
</li>
<li><p>åœ¨å†™çˆ¬è™«çš„æ—¶å€™ï¼Œ æ€è€ƒä»£ç çš„æ€»ä½“æ ¼å±€ï¼Œè®©ä»£ç æ—¢å¯ä»¥æ•æ‰å¼‚å¸¸åˆå®¹æ˜“é˜…è¯»ï¼Œå¦‚æœè¿˜å¸Œæœ›èƒ½å¤Ÿå¾ˆå¤§ç¨‹åº¦åœ°é‡ç”¨ä»£ç ï¼Œ é‚£ä¹ˆæ‹¥æœ‰åƒ getSiteHTML å’Œ getTitle è¿™æ ·çš„é€šç”¨å‡½æ•°ï¼ˆå…·æœ‰å‘¨å¯†çš„å¼‚å¸¸å¤„ç†åŠŸèƒ½ï¼‰ä¼šè®©å¿«é€Ÿç¨³å®šåœ°ç½‘ç»œæ•°æ®é‡‡é›†å˜å¾—ç®€å•æ˜“è¡Œï¼›    </p>
</li>
<li><p>åœ¨æ‰¾åˆ°ç›®æ ‡ä¿¡æ¯ä¹‹å‰ï¼Œéœ€è¦å¾ˆå¤šæŠ€å·§å¸®å¿™â€œæ•²æ‰â€ç½‘é¡µä¸Šé‚£äº›ä¸éœ€è¦çš„ä¿¡æ¯ï¼š</p>
<ul>
<li>å¯»æ‰¾â€œæ‰“å°æ­¤é¡µâ€çš„é“¾æ¥ï¼Œçœ‹çœ‹ç½‘ç«™æœ‰æ²¡æœ‰ HTML æ ·å¼æ›´å‹å¥½çš„ç§»åŠ¨ç‰ˆ  </li>
<li>å¯»æ‰¾éšè—åœ¨ JavaScript æ–‡ä»¶é‡Œçš„ä¿¡æ¯  </li>
<li>å¦‚æœå­˜åœ¨å…¶ä»–æ•°æ®æºï¼Œå¯ä»¥æ‰¾æ‰¾å…¶ä»–æ•°æ®æº</li>
</ul>
</li>
<li><p>CSS çš„å‘æ˜æ˜¯ç½‘ç»œçˆ¬è™«çš„ç¦éŸ³ï¼Œ ç½‘ç»œçˆ¬è™«å¯ä»¥é€šè¿‡ class å±æ€§çš„å€¼ï¼Œè½»æ¾åœ°åŒºåˆ†å‡ºä¸¤ç§ä¸åŒçš„æ ‡ç­¾ï¼Œå¤§å¤šæ•°æ–°å¼ç½‘ç«™ä¸Šçš„ class å’Œ id å±æ€§èµ„æºéƒ½éå¸¸ä¸°å¯Œ ï¼›</p>
</li>
<li><p>é€šè¿‡ BeautifulSoup å¯¹è±¡ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ findAll å‡½æ•°æŠ½å–åªåŒ…å«åœ¨ &lt;span class=â€greenâ€&gt;&lt;/span&gt; æ ‡ç­¾é‡Œçš„æ–‡å­—ï¼Œè¿™æ ·å°±ä¼šå¾—åˆ°ä¸€ä¸ªäººç‰©åç§°çš„ Python åˆ—è¡¨</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">nameList = bsObj.findAll(<span class="string">"span"</span>, &#123;<span class="string">"class"</span>:<span class="string">"green"</span>&#125;)</span><br><span class="line"><span class="keyword">for</span> name <span class="keyword">in</span> nameList:</span><br><span class="line">	print(name.get_text())</span><br></pre></td></tr></table></figure>
</li>
<li><p>BeautifulSoupåº“é‡Œçš„å¯¹è±¡ :</p>
<ul>
<li>BeautifulSoup å¯¹è±¡  </li>
<li>æ ‡ç­¾ Tag å¯¹è±¡  </li>
<li>NavigableString å¯¹è±¡  </li>
<li>Comment å¯¹è±¡  </li>
</ul>
</li>
<li><p>å…¶ä»–ç±»ä¼¼BeautifulSoupçš„åº“ï¼š</p>
<ul>
<li>lxml  </li>
<li>HTML parser  </li>
</ul>
</li>
</ol>
<h2 id="é‡‡é›†æ•°æ®"><a href="#é‡‡é›†æ•°æ®" class="headerlink" title="é‡‡é›†æ•°æ®"></a>é‡‡é›†æ•°æ®</h2><ol>
<li>ç½‘ç»œçˆ¬è™«ï¼ˆWeb crawlerï¼‰å¯ä»¥æ²¿ç€ç½‘ç»œçˆ¬è¡Œï¼Œæœ¬è´¨æ˜¯ä¸€ç§é€’å½’æ–¹å¼ã€‚ä¸ºäº†æ‰¾åˆ° URL é“¾æ¥ï¼Œå®ƒä»¬å¿…é¡»é¦–å…ˆè·å–ç½‘é¡µå†…å®¹ï¼Œæ£€æŸ¥è¿™ä¸ªé¡µé¢çš„å†…å®¹ï¼Œå†å¯»æ‰¾å¦ä¸€ä¸ª URLï¼Œ ç„¶åè·å– URL å¯¹åº”çš„ç½‘é¡µå†…å®¹ï¼Œä¸æ–­å¾ªç¯è¿™ä¸€è¿‡ç¨‹ï¼</li>
<li>éå†æ•´ä¸ªç½‘ç«™çš„ç½‘ç»œæ•°æ®é‡‡é›†æœ‰è®¸å¤šå¥½å¤„ï¼š<ul>
<li>ç”Ÿæˆç½‘ç«™åœ°å›¾</li>
<li>æ”¶é›†æ•°æ®</li>
</ul>
</li>
<li>ä¸ºäº†é¿å…ä¸€ä¸ªé¡µé¢è¢«é‡‡é›†ä¸¤æ¬¡ï¼Œé“¾æ¥å»é‡æ˜¯éå¸¸é‡è¦çš„ï¼</li>
<li>Scrapy æ˜¯ä¸€ä¸ªå¸®ä½ å¤§å¹…åº¦é™ä½ç½‘é¡µé“¾æ¥æŸ¥æ‰¾å’Œè¯†åˆ«å·¥ä½œå¤æ‚åº¦çš„ Python åº“ï¼Œ å®ƒå¯ä»¥è®©ä½ è½»æ¾åœ°é‡‡é›†ä¸€ä¸ªæˆ–å¤šä¸ªåŸŸåçš„ä¿¡æ¯ï¼›</li>
<li>Scrapy æ”¯æŒç”¨ä¸åŒçš„è¾“å‡ºæ ¼å¼æ¥ä¿å­˜è¿™äº›ä¿¡æ¯ï¼Œæ¯”å¦‚ CSVã€JSON æˆ– XML æ–‡ä»¶æ ¼å¼ï¼›</li>
<li>CSVï¼ˆComma-Separated Valuesï¼Œ é€—å·åˆ†éš”å€¼ï¼‰æ˜¯å­˜å‚¨è¡¨æ ¼æ•°æ®çš„å¸¸ç”¨æ–‡ä»¶æ ¼å¼ï¼›</li>
<li>å¾ˆå¤šå¼€æºçš„åº“å¯ä»¥ç”¨æ¥ä¸ MySQL åšäº¤äº’ï¼Œæœ€æœ‰åçš„ä¸€ä¸ªåº“å°±æ˜¯ PyMySQLï¼›</li>
<li>Python æœ‰ä¸¤ä¸ªåŒ…å¯ä»¥å‘é€é‚®ä»¶ï¼šsmtplibå’Œemailï¼›smtplib æ¨¡å—ç”¨æ¥è®¾ç½®æœåŠ¡å™¨è¿æ¥çš„ç›¸å…³ä¿¡æ¯ï¼›</li>
</ol>
<h2 id="é«˜çº§æ•°æ®é‡‡é›†"><a href="#é«˜çº§æ•°æ®é‡‡é›†" class="headerlink" title="é«˜çº§æ•°æ®é‡‡é›†"></a>é«˜çº§æ•°æ®é‡‡é›†</h2><ol>
<li>ç”±äºé”™è¯¯çš„æ ‡ç‚¹ç¬¦å·ã€å¤§å°å†™å­—æ¯ä¸ä¸€è‡´ã€æ–­è¡Œå’Œæ‹¼å†™é”™è¯¯ç­‰é—®é¢˜ï¼Œ é›¶ä¹±çš„æ•°æ®ï¼ˆdirty dataï¼‰æ˜¯ç½‘ç»œä¸­çš„å¤§é—®é¢˜ï¼›</li>
<li>OpenReï¬neè™½ç„¶å®ƒçš„ç•Œé¢æ˜¯ä¸€ä¸ªæµè§ˆå™¨ï¼Œ ä½†å®é™…ä¸Šæ˜¯ä¸€ä¸ªæ¡Œé¢åº”ç”¨ï¼Œ å¿…é¡»ä¸‹è½½å¹¶å®‰è£…ï¼›</li>
<li>åªæœ‰å½“æ•°æ®ä¸€å¼€å§‹å°±æ¯”è¾ƒå¹²å‡€æ—¶ï¼Œæ•°æ®ç­›é€‰æ‰å¯ä»¥ç›´æ¥å¿«é€Ÿåœ°å®Œæˆï¼›</li>
<li>è‡ªç„¶è¯­è¨€å·¥å…·åŒ…ï¼ˆNatural Language Toolkitï¼ŒNLTKï¼‰ç”¨äºè¯†åˆ«å’Œæ ‡è®°è‹±è¯­æ–‡æœ¬ä¸­å„ä¸ªè¯çš„è¯æ€§ï¼ˆparts of speechï¼‰ï¼›</li>
<li>NLTKå¾ˆæ“…é•¿ç”Ÿæˆä¸€äº›ç»Ÿè®¡ä¿¡æ¯ï¼ŒåŒ…æ‹¬å¯¹ä¸€æ®µæ–‡å­—çš„å•è¯æ•°é‡ã€å•è¯é¢‘ç‡å’Œå•è¯è¯æ€§çš„ç»Ÿè®¡ï¼›</li>
<li>è‡ªç„¶è¯­è¨€ä¸­çš„è®¸å¤šæ­§ä¹‰é—®é¢˜éƒ½å¯ä»¥ç”¨ NLTK çš„ pos_tag è§£å†³ï¼Œ ä¸åªæ˜¯æœç´¢ç›®æ ‡å•è¯æˆ–çŸ­è¯­ï¼Œè€Œæ˜¯æœç´¢å¸¦æ ‡è®°çš„ç›®æ ‡å•è¯æˆ–çŸ­è¯­ï¼Œè¿™æ ·å¯ä»¥å¤§å¤§æé«˜çˆ¬è™«æœç´¢çš„å‡†ç¡®ç‡å’Œæ•ˆç‡ï¼›</li>
<li>Requestsåº“ï¼ˆ<a href="http://www.python-requests.org/ï¼‰æ˜¯ä¸€ä¸ªæ“…é•¿å¤„ç†é‚£äº›å¤æ‚çš„" target="_blank" rel="noopener">http://www.python-requests.org/ï¼‰æ˜¯ä¸€ä¸ªæ“…é•¿å¤„ç†é‚£äº›å¤æ‚çš„</a> HTTP è¯·æ±‚ã€cookieã€headerï¼ˆå“åº”å¤´å’Œè¯·æ±‚å¤´ï¼‰ç­‰å†…å®¹çš„ Python ç¬¬ä¸‰æ–¹åº“ï¼›</li>
<li>è¡¨å•æ˜¯ç½‘ç»œæ¶æ„æœºå™¨äººï¼ˆmalicious botsï¼‰é…·çˆ±çš„ç½‘ç«™åˆ‡å…¥ç‚¹ã€‚ å½“ç„¶ä¸å¸Œæœ›æœºå™¨äººåˆ›å»ºåƒåœ¾è´¦å·ï¼Œå ç”¨æ˜‚è´µçš„æœåŠ¡å™¨èµ„æºï¼Œæˆ–è€…åœ¨åšå®¢ä¸Šæäº¤åƒåœ¾è¯„è®ºã€‚å› æ­¤ï¼Œæ–°å¼çš„ç½‘ç«™ç»å¸¸åœ¨HTML ä¸­ä½¿ç”¨å¾ˆå¤šå®‰å…¨æªæ–½ï¼Œè®©è¡¨å•ä¸èƒ½è¢«å¿«é€Ÿç©¿è¶Šï¼›</li>
<li>åˆ°ç›®å‰ä¸ºæ­¢ï¼Œ JavaScript æ˜¯ç½‘ç»œä¸Šæœ€å¸¸ç”¨ä¹Ÿæ˜¯æ”¯æŒè€…æœ€å¤šçš„å®¢æˆ·ç«¯è„šæœ¬è¯­è¨€ï¼›</li>
<li>å°†å›¾åƒç¿»è¯‘æˆæ–‡å­—ä¸€èˆ¬è¢«ç§°ä¸º å…‰å­¦æ–‡å­—è¯†åˆ« ï¼ˆOptical Character Recognitionï¼ŒOCRï¼‰ï¼›</li>
<li>ç”¨ Pillow å®Œæˆå›¾ç‰‡çš„é¢„å¤„ç†ï¼Œ è®©æœºå™¨å¯ä»¥æ›´æ–¹ä¾¿åœ°è¯»å–å›¾ç‰‡ï¼ŒTesseract æ˜¯ä¸€ä¸ª OCR åº“ï¼›</li>
<li>æ´‹è‘±è·¯ç”±ï¼ˆThe Onion Routerï¼‰ç½‘ç»œï¼Œå¸¸ç”¨ç¼©å†™ä¸º Torï¼Œ æ˜¯ä¸€ç§ IP åœ°å€åŒ¿åæ‰‹æ®µï¼Œç”±ç½‘ç»œå¿—æ„¿è€…æœåŠ¡å™¨æ„å»ºçš„æ´‹è‘±è·¯ç”±å™¨ç½‘ç»œï¼Œé€šè¿‡ä¸åŒæœåŠ¡å™¨æ„æˆå¤šä¸ªå±‚ï¼ˆå°±åƒæ´‹è‘±ï¼‰æŠŠå®¢æˆ·ç«¯åŒ… åœ¨æœ€é‡Œé¢ï¼›</li>
<li>PySocks æ˜¯ä¸€ä¸ªéå¸¸ç®€å•çš„ Python ä»£ç†æœåŠ¡å™¨é€šä¿¡æ¨¡å—ï¼Œå®ƒå¯ä»¥å’Œ Tor é…åˆä½¿ç”¨ï¼</li>
</ol>
<hr>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>ç½‘ç»œæ•°æ®é‡‡é›†ä½¿ç”¨Pythonçˆ¬è™«è¿˜éœ€è¦å®æˆ˜æ‰èƒ½è¯´ä¼šäº†ï¼Œè€Œä¸”åªæœ‰å®é™…æ“ä½œæ‰ä¼šå‡ºç°å„ç§é—®é¢˜ï¼Œç¼–ç¨‹èƒ½åŠ›éƒ½æ˜¯åœ¨å‡ºç°é—®é¢˜ä¹‹åé€æ¸è§£å†³é—®é¢˜æˆé•¿çš„ï¼Œç½‘ç»œçˆ¬è™«è¿˜æ˜¯éœ€è¦ç‚¹HTMLä»¥åŠJavaScriptçŸ¥è¯†çš„ï¼Œä¸èƒ½çœ‹ä¸ªæ•™ç¨‹æ–‡æ¡£å°±è¯´è‡ªå·±ä¼šäº†ï¼Œå½“å‡ºç°éœ€æ±‚æ—¶èƒ½ç‹¬ç«‹ä½¿ç”¨ç½‘ç»œçˆ¬è™«æŠ€æœ¯è§£å†³é—®é¢˜æ‰ç®—ä¼šäº†ï¼ç®€è€Œè¨€ä¹‹å°±æ˜¯å®æˆ˜ï¼</p>
]]></content>
      <categories>
        <category>Python</category>
      </categories>
  </entry>
  <entry>
    <title>Python ç¹çäº‹åŠ¡è‡ªåŠ¨åŒ–</title>
    <url>/2020/05/09/Python-%E7%B9%81%E7%90%90%E4%BA%8B%E5%8A%A1%E8%87%AA%E5%8A%A8%E5%8C%96/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>å‰é¢çš„éƒ¨åˆ†å·²ç»ä»‹ç»äº†Pythonçš„åŸºç¡€è¯­æ³•äº†ï¼Œè¿™ä¸€éƒ¨åˆ†æ³¨é‡å®é™…æ“ä½œï¼Œå¸Œæœ›é€šè¿‡Pythonè§£å†³ä¸€äº›å®é™…é—®é¢˜ï¼Œå½“ç„¶ä¹Ÿä¼šå»è®°å½•ä¸€äº›ä¹‹å‰æ²¡æœ‰è®°å½•çš„çŸ¥è¯†ç‚¹ï¼<strong><em>æ¨èä¹¦ç±ï¼šã€ŠPythonç¼–ç¨‹å¿«é€Ÿä¸Šæ‰‹â€“è®©ç¹çå·¥ä½œè‡ªåŠ¨åŒ–ã€‹Â· [ç¾] AI Sweigart è‘— ç‹æµ·é¹ è¯‘</em></strong></p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="æ¨¡å¼åŒ¹é…å’Œæ­£åˆ™è¡¨è¾¾å¼"><a href="#æ¨¡å¼åŒ¹é…å’Œæ­£åˆ™è¡¨è¾¾å¼" class="headerlink" title="æ¨¡å¼åŒ¹é…å’Œæ­£åˆ™è¡¨è¾¾å¼"></a>æ¨¡å¼åŒ¹é…å’Œæ­£åˆ™è¡¨è¾¾å¼</h2><ol>
<li><p>Python ä¸­æ‰€æœ‰æ­£åˆ™è¡¨è¾¾å¼çš„å‡½æ•°éƒ½åœ¨ re æ¨¡å—ä¸­ï¼Œåœ¨ä½¿ç”¨çš„æ—¶å€™éœ€è¦å¯¼å…¥æ¨¡å—ï¼›</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br></pre></td></tr></table></figure>
</li>
<li><p>å‘ re.compile()ä¼ å…¥ä¸€ä¸ªå­—ç¬¦ä¸²å€¼ï¼Œè¡¨ç¤ºæ­£åˆ™è¡¨è¾¾å¼ï¼Œå°†è¿”å›ä¸€ä¸ªRegexæ¨¡å¼å¯¹è±¡ï¼›</p>
</li>
<li><p>Regex å¯¹è±¡çš„ search()æ–¹æ³•æŸ¥æ‰¾ä¼ å…¥çš„å­—ç¬¦ä¸²ï¼Œå¯»æ‰¾è¯¥æ­£åˆ™è¡¨è¾¾å¼çš„æ‰€æœ‰åŒ¹é…ï¼š</p>
<ul>
<li>æ²¡æœ‰æ‰¾åˆ°åŒ¹é…è¯¥æ­£åˆ™è¡¨è¾¾å¼æ—¶è¿”å›Noneï¼›</li>
<li>æ‰¾åˆ°äº†åˆ™è¿”å›ä¸€ä¸ªMatchå¯¹è±¡ï¼ŒMatchå¯¹è±¡æœ‰ä¸€ä¸ªgroup()æ–¹æ³•ï¼Œè¿”å›è¢«æŸ¥æ‰¾å­—ç¬¦ä¸²ä¸­å®é™…åŒ¹é…çš„æ–‡æœ¬ï¼›</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line">phoneNumRegex = re.compile(<span class="string">r'\d\d\d-\d\d\d-\d\d\d\d'</span>)</span><br><span class="line">mo = phoneNumRegex.search(<span class="string">'My number is 415-555-4242.'</span>)</span><br><span class="line">print(<span class="string">'Phone number found: '</span> + mo.group())</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ·»åŠ æ‹¬å·å°†åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­åˆ›å»ºâ€œåˆ†ç»„â€,æƒ³è¦ä¸€æ¬¡å°±è·å–æ‰€æœ‰çš„åˆ†ç»„ï¼Œè¯·ä½¿ç”¨ groups()æ–¹æ³•ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line">phoneNumRegex = re.compile(<span class="string">r'(\d\d\d)-(\d\d\d-\d\d\d\d)'</span>)</span><br><span class="line">mo = phoneNumRegex.search(<span class="string">'My number is 415-555-4242.'</span>)</span><br><span class="line">print(<span class="string">'Phone number found: '</span> + mo.group(<span class="number">1</span>))</span><br></pre></td></tr></table></figure>
</li>
<li><p>å­—ç¬¦|ç§°ä¸ºâ€œç®¡é“â€ï¼Œå¸Œæœ›åŒ¹é…è®¸å¤šè¡¨è¾¾å¼ä¸­çš„ä¸€ä¸ªæ—¶ï¼Œå°±å¯ä»¥ä½¿ç”¨å®ƒï¼›</p>
</li>
<li><p>å­—ç¬¦?è¡¨æ˜å®ƒå‰é¢çš„åˆ†ç»„åœ¨è¿™ä¸ªæ¨¡å¼ä¸­æ˜¯å¯é€‰çš„ï¼Œå³å¯ä»¥å‡ºç°é›¶æ¬¡æˆ–è€…ä¸€æ¬¡ï¼›</p>
</li>
<li><p>*ï¼ˆç§°ä¸ºæ˜Ÿå·ï¼‰æ„å‘³ç€â€œåŒ¹é…é›¶æ¬¡æˆ–å¤šæ¬¡â€ï¼Œå³æ˜Ÿå·ä¹‹å‰çš„åˆ†ç»„ï¼Œå¯ä»¥åœ¨æ–‡æœ¬ä¸­å‡ºç°ä»»æ„æ¬¡ï¼›</p>
</li>
<li><p>+ï¼ˆåŠ å·ï¼‰æ„å‘³ç€â€œåŒ¹é…ä¸€æ¬¡æˆ–å¤šæ¬¡â€ï¼›</p>
</li>
<li><p>å¦‚æœæƒ³è¦ä¸€ä¸ªåˆ†ç»„é‡å¤ç‰¹å®šæ¬¡æ•°ï¼Œå°±åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­è¯¥åˆ†ç»„çš„åé¢ï¼Œè·Ÿä¸ŠèŠ±æ‹¬å·åŒ…å›´çš„æ•°å­—ï¼Œæ¯”å¦‚(Ha){3,5}ï¼›</p>
</li>
<li><p>Python çš„æ­£åˆ™è¡¨è¾¾å¼é»˜è®¤æ˜¯â€œè´ªå¿ƒâ€çš„ï¼Œè¿™è¡¨ç¤ºåœ¨æœ‰äºŒä¹‰çš„æƒ…å†µä¸‹ï¼Œä¼šå°½å¯èƒ½åŒ¹é…æœ€é•¿çš„å­—ç¬¦ä¸²ï¼›</p>
</li>
<li><p>å¸¸ç”¨å­—ç¬¦åˆ†ç±»çš„ç¼©å†™ä»£ç ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">\d              <span class="number">0</span> åˆ° <span class="number">9</span> çš„ä»»ä½•æ•°å­—</span><br><span class="line">\D              é™¤ <span class="number">0</span> åˆ° <span class="number">9</span> çš„æ•°å­—ä»¥å¤–çš„ä»»ä½•å­—ç¬¦</span><br><span class="line">\w              ä»»ä½•å­—æ¯ã€æ•°å­—æˆ–ä¸‹åˆ’çº¿å­—ç¬¦ï¼ˆå¯ä»¥è®¤ä¸ºæ˜¯åŒ¹é…â€œå•è¯â€å­—ç¬¦ï¼‰</span><br><span class="line">\W              é™¤å­—æ¯ã€æ•°å­—å’Œä¸‹åˆ’çº¿ä»¥å¤–çš„ä»»ä½•å­—ç¬¦</span><br><span class="line">\s              ç©ºæ ¼ã€åˆ¶è¡¨ç¬¦æˆ–æ¢è¡Œç¬¦ï¼ˆå¯ä»¥è®¤ä¸ºæ˜¯åŒ¹é…â€œç©ºç™½â€å­—ç¬¦ï¼‰</span><br><span class="line">\S              é™¤ç©ºæ ¼ã€åˆ¶è¡¨ç¬¦å’Œæ¢è¡Œç¬¦ä»¥å¤–çš„ä»»ä½•å­—ç¬¦</span><br></pre></td></tr></table></figure>
</li>
<li><p>é€šè¿‡åœ¨å­—ç¬¦åˆ†ç±»çš„å·¦æ–¹æ‹¬å·ååŠ ä¸Šä¸€ä¸ªæ’å…¥å­—ç¬¦ï¼ˆ^ï¼‰ï¼Œå°±å¯ä»¥å¾—åˆ°â€œéå­—ç¬¦ç±»â€;</p>
</li>
<li><p>åœ¨æ­£åˆ™è¡¨è¾¾å¼çš„å¼€å§‹å¤„ä½¿ç”¨æ’å…¥ç¬¦å·ï¼ˆ^ï¼‰ï¼Œè¡¨æ˜åŒ¹é…å¿…é¡»å‘ç”Ÿåœ¨è¢«æŸ¥æ‰¾æ–‡æœ¬å¼€å§‹å¤„ï¼Œåœ¨æ­£åˆ™è¡¨è¾¾å¼çš„æœ«å°¾åŠ ä¸Šç¾å…ƒç¬¦å·ï¼ˆ$ï¼‰ï¼Œè¡¨ç¤ºè¯¥å­—ç¬¦ä¸²å¿…é¡»ä»¥è¿™ä¸ªæ­£åˆ™è¡¨è¾¾å¼çš„æ¨¡å¼ç»“æŸï¼›</p>
</li>
<li><p>åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­ï¼Œ.ï¼ˆå¥ç‚¹ï¼‰å­—ç¬¦ç§°ä¸ºâ€œé€šé…ç¬¦â€ï¼ŒåŒ¹é…é™¤äº†æ¢è¡Œä¹‹å¤–çš„æ‰€æœ‰å­—ç¬¦ï¼›</p>
</li>
<li><p>ç”¨ç‚¹-æ˜Ÿï¼ˆ.*ï¼‰è¡¨ç¤ºâ€œä»»æ„æ–‡æœ¬â€ï¼›</p>
</li>
<li><p>æ€»è§ˆï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">? åŒ¹é…é›¶æ¬¡æˆ–ä¸€æ¬¡å‰é¢çš„åˆ†ç»„ã€‚</span><br><span class="line">* åŒ¹é…é›¶æ¬¡æˆ–å¤šæ¬¡å‰é¢çš„åˆ†ç»„ã€‚</span><br><span class="line">+ åŒ¹é…ä¸€æ¬¡æˆ–å¤šæ¬¡å‰é¢çš„åˆ†ç»„ã€‚</span><br><span class="line">&#123;n&#125; åŒ¹é… n æ¬¡å‰é¢çš„åˆ†ç»„ã€‚</span><br><span class="line">&#123;n,&#125; åŒ¹é… n æ¬¡æˆ–æ›´å¤šå‰é¢çš„åˆ†ç»„ã€‚</span><br><span class="line">&#123;,m&#125; åŒ¹é…é›¶æ¬¡åˆ° m æ¬¡å‰é¢çš„åˆ†ç»„ã€‚</span><br><span class="line">&#123;n,m&#125; åŒ¹é…è‡³å°‘ n æ¬¡ã€è‡³å¤š m æ¬¡å‰é¢çš„åˆ†ç»„ã€‚</span><br><span class="line">&#123;n,m&#125;?æˆ–*?æˆ–+?å¯¹å‰é¢çš„åˆ†ç»„è¿›è¡Œéè´ªå¿ƒåŒ¹é…ã€‚</span><br><span class="line">^spam  æ„å‘³ç€å­—ç¬¦ä¸²å¿…é¡»ä»¥ spam å¼€å§‹ã€‚</span><br><span class="line">spam$ æ„å‘³ç€å­—ç¬¦ä¸²å¿…é¡»ä»¥ spam ç»“æŸã€‚</span><br><span class="line">. åŒ¹é…æ‰€æœ‰å­—ç¬¦ï¼Œæ¢è¡Œç¬¦é™¤å¤–ã€‚</span><br><span class="line">\dã€\w å’Œ\s åˆ†åˆ«åŒ¹é…æ•°å­—ã€å•è¯å’Œç©ºæ ¼ã€‚</span><br><span class="line">\Dã€\W å’Œ\S åˆ†åˆ«åŒ¹é…å‡ºæ•°å­—ã€å•è¯å’Œç©ºæ ¼å¤–çš„æ‰€æœ‰å­—ç¬¦ã€‚</span><br><span class="line">[abc] åŒ¹é…æ–¹æ‹¬å·å†…çš„ä»»æ„å­—ç¬¦ï¼ˆè¯¸å¦‚ aã€b æˆ– cï¼‰ã€‚</span><br><span class="line">[^abc] åŒ¹é…ä¸åœ¨æ–¹æ‹¬å·å†…çš„ä»»æ„å­—ç¬¦ã€‚</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h2 id="æ–‡ä»¶"><a href="#æ–‡ä»¶" class="headerlink" title="æ–‡ä»¶"></a>æ–‡ä»¶</h2><ol>
<li>æ¯ä¸ªè¿è¡Œåœ¨è®¡ç®—æœºä¸Šçš„ç¨‹åºï¼Œéƒ½æœ‰ä¸€ä¸ªâ€œå½“å‰å·¥ä½œç›®å½•â€ï¼Œæˆ– cwdï¼Œå¯¼å…¥osï¼Œä½¿ç”¨os.getcwd()å‡½æ•°å¯ä»¥å–å¾—å½“å‰å·¥ä½œè·¯å¾„çš„å­—ç¬¦ä¸²ï¼Œå¹¶å¯ä»¥åˆ©ç”¨ os.chdir()æ”¹å˜å®ƒï¼›</li>
<li>ç”¨ os.makedirs()å‡½æ•°åˆ›å»ºæ–°æ–‡ä»¶å¤¹ï¼ˆç›®å½•ï¼‰ï¼›</li>
<li>os.path æ¨¡å—åŒ…å«äº†è®¸å¤šä¸æ–‡ä»¶åå’Œæ–‡ä»¶è·¯å¾„ç›¸å…³çš„æœ‰ç”¨å‡½æ•°ï¼š<ul>
<li>è°ƒç”¨ os.path.abspath(path)å°†è¿”å›å‚æ•°çš„ç»å¯¹è·¯å¾„çš„å­—ç¬¦ä¸²</li>
<li>è°ƒç”¨ os.path.isabs(path)ï¼Œå¦‚æœå‚æ•°æ˜¯ä¸€ä¸ªç»å¯¹è·¯å¾„ï¼Œå°±è¿”å› Trueï¼Œå¦åˆ™è¿”å›False</li>
<li>è°ƒç”¨ os.path.relpath(path, start)å°†è¿”å›ä» start è·¯å¾„åˆ° path çš„ç›¸å¯¹è·¯å¾„çš„å­—ç¬¦ä¸²</li>
<li>è°ƒç”¨ os.path.split()è·å¾—ä¸€ä¸ªè·¯å¾„çš„ç›®å½•åç§°å’ŒåŸºæœ¬åç§°çš„å…ƒç»„</li>
<li>å¯ä»¥è°ƒç”¨ os.path.dirname()å’Œ os.path.basename()è·å–ä¸€ä¸ªè·¯å¾„çš„ç›®å½•åç§°å’ŒåŸºæœ¬åç§°</li>
<li>è°ƒç”¨ os.path.getsize(path)å°†è¿”å› path å‚æ•°ä¸­æ–‡ä»¶çš„å­—èŠ‚æ•°</li>
<li>è°ƒç”¨ os.listdir(path)å°†è¿”å›æ–‡ä»¶åå­—ç¬¦ä¸²çš„åˆ—è¡¨ï¼ŒåŒ…å« path å‚æ•°ä¸­çš„æ¯ä¸ªæ–‡ä»¶</li>
<li>å¦‚æœ path å‚æ•°æ‰€æŒ‡çš„æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹å­˜åœ¨ï¼Œè°ƒç”¨ os.path.exists(path)å°†è¿”å› True</li>
<li>å¦‚æœ path å‚æ•°å­˜åœ¨ï¼Œå¹¶ä¸”æ˜¯ä¸€ä¸ªæ–‡ä»¶ï¼Œè°ƒç”¨ os.path.isfile(path)å°†è¿”å› True</li>
<li>å¦‚æœ path å‚æ•°å­˜åœ¨ï¼Œå¹¶ä¸”æ˜¯ä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œè°ƒç”¨ os.path.isdir(path)å°†è¿”å› True</li>
</ul>
</li>
<li>shutilï¼ˆæˆ–ç§°ä¸º shell å·¥å…·ï¼‰æ¨¡å—ä¸­åŒ…å«ä¸€äº›å‡½æ•°ï¼Œè®©ä½ åœ¨ Python ç¨‹åºä¸­å¤åˆ¶ã€ç§»åŠ¨ã€æ”¹åå’Œåˆ é™¤æ–‡ä»¶ã€‚è¦ä½¿ç”¨ shutil çš„å‡½æ•°ï¼Œé¦–å…ˆéœ€è¦ import shutilï¼›</li>
<li>è°ƒç”¨ shutil.copy(source, destination)ï¼Œå°†è·¯å¾„ source å¤„çš„æ–‡ä»¶å¤åˆ¶åˆ°è·¯å¾„ destinationå¤„çš„æ–‡ä»¶å¤¹ï¼ˆsource å’Œ destination éƒ½æ˜¯å­—ç¬¦ä¸²ï¼‰ï¼›</li>
<li>è°ƒç”¨ shutil.move(source, destination)ï¼Œ å°†è·¯å¾„ source å¤„çš„æ–‡ä»¶å¤¹ç§»åŠ¨åˆ°è·¯å¾„ destinationï¼Œå¹¶è¿”å›æ–°ä½ç½®çš„ç»å¯¹è·¯å¾„çš„å­—ç¬¦ä¸²ï¼›</li>
<li>ç”¨ os.unlink(path)å°†åˆ é™¤ path å¤„çš„æ–‡ä»¶ï¼Œè°ƒç”¨ os.rmdir(path)å°†åˆ é™¤ path å¤„çš„æ–‡ä»¶å¤¹ï¼Œè¦æ±‚æ–‡ä»¶å¤¹å¿…é¡»ä¸ºç©ºï¼›</li>
<li>è°ƒç”¨ shutil.rmtree(path)å°†åˆ é™¤ path å¤„çš„æ–‡ä»¶å¤¹ï¼Œå®ƒåŒ…å«çš„æ‰€æœ‰æ–‡ä»¶å’Œæ–‡ä»¶å¤¹éƒ½ä¼šè¢«åˆ é™¤ï¼›</li>
<li>os.walk()å‡½æ•°è¢«ä¼ å…¥ä¸€ä¸ªå­—ç¬¦ä¸²å€¼ï¼Œå³ä¸€ä¸ªæ–‡ä»¶å¤¹çš„è·¯å¾„ï¼Œå¯ä»¥åœ¨ä¸€ä¸ª forå¾ªç¯è¯­å¥ä¸­ä½¿ç”¨ os.walk()å‡½æ•°ï¼Œéå†ç›®å½•æ ‘ï¼›</li>
<li>zipfile æ¨¡å—æä¾›äº†ä¸€ç§æ–¹æ³•ï¼Œç”¨ Python å‹ç¼©å’Œè§£å‹ ZIP å½’æ¡£æ–‡ä»¶</li>
</ol>
<h2 id="Python-amp-Excel"><a href="#Python-amp-Excel" class="headerlink" title="Python&amp;Excel"></a>Python&amp;Excel</h2><ol>
<li>openpyxl æ¨¡å—è®© Python ç¨‹åºèƒ½è¯»å–å’Œä¿®æ”¹ Excel ç”µå­è¡¨æ ¼æ–‡ä»¶ï¼Œè¦æƒ³åœ¨Pythonä¸­ä½¿ç”¨openpyxlï¼Œéœ€è¦å®‰è£…å¹¶å¯¼å…¥æ¨¡å—ï¼Œä½¿ç”¨å‘½ä»¤import openpyxl</li>
<li>ä½¿ç”¨ openpyxl.load_workbook()å‡½æ•°æ¥å—æ–‡ä»¶åï¼Œè¿”å›ä¸€ä¸ª workbook æ•°æ®ç±»å‹çš„å€¼ï¼›</li>
<li>è°ƒç”¨ get_sheet_names()æ–¹æ³•å¯ä»¥å–å¾—å·¥ä½œç°¿ä¸­æ‰€æœ‰è¡¨åçš„åˆ—è¡¨ ï¼›</li>
<li>è°ƒç”¨ Workbook å¯¹è±¡çš„ get_active_sheet()æ–¹æ³•ï¼Œå–å¾—å·¥ä½œç°¿çš„æ´»åŠ¨è¡¨ï¼›</li>
<li>è°ƒç”¨ openpyxl.cell.column_index_from_string()å‡½æ•°ä»å­—æ¯è½¬æ¢åˆ°æ•°å­—ï¼Œè¦ä»æ•°å­—è½¬æ¢åˆ°å­—æ¯åˆ™è°ƒç”¨openpyxl.cell.get_column_letter()å‡½æ•°ï¼›</li>
<li>è°ƒç”¨ openpyxl.charts.BarChart()ï¼Œåˆ›å»ºä¸€ä¸ªæ¡å½¢å›¾ï¼Œè°ƒç”¨openpyxl.charts.LineChart()ã€ openpyxl.charts.ScatterChart()å’Œ openpyxl.charts.PieChart()ï¼Œ åˆ›å»ºæŠ˜çº¿å›¾ã€æ•£ç‚¹å›¾å’Œé¥¼å›¾ï¼›                          </li>
</ol>
<h2 id="PDFä»¥åŠWordå¤„ç†"><a href="#PDFä»¥åŠWordå¤„ç†" class="headerlink" title="PDFä»¥åŠWordå¤„ç†"></a>PDFä»¥åŠWordå¤„ç†</h2><ol>
<li>ç”¨äºå¤„ç†PDFçš„æ¨¡å—æ˜¯PyPDF2ï¼Œä½¿ç”¨éœ€è¦å®‰è£…æ¨¡å—ï¼Œç„¶åå¯¼å…¥import   PyPDF2<ol>
<li>å¯¼å…¥ PyPDF2 æ¨¡å—  :  import   PyPDF2</li>
<li>ä»¥è¯»äºŒè¿›åˆ¶æ¨¡å¼æ‰“å¼€ name.pdf,ä¿å­˜åœ¨ pdfFileObj ä¸­    </li>
<li>è°ƒç”¨ PyPDF2 .PdfFileReader()å¹¶å‘å®ƒä¼ å…¥ pdfFileObj ï¼Œä¿å­˜è¿”å›å¯¹è±¡åœ¨ pdfReader ä¸­  </li>
</ol>
</li>
<li>è°ƒç”¨ PdfFileReader å¯¹è±¡çš„ getPage()æ–¹æ³•ï¼Œä¼ å…¥æ„Ÿå…´è¶£çš„é¡µç ï¼Œä»è€Œå–å¾— Page å¯¹è±¡ï¼›</li>
<li>å–å¾— Page å¯¹è±¡åï¼Œè°ƒç”¨å®ƒçš„ extractText()æ–¹æ³•ï¼Œè¿”å›è¯¥é¡µæ–‡æœ¬çš„å­—ç¬¦ä¸²ï¼›</li>
<li>æ‰€æœ‰ PdfFileReader å¯¹è±¡éƒ½æœ‰ä¸€ä¸ª isEncrypted å±æ€§ï¼Œå¦‚æœ PDF æ˜¯åŠ å¯†çš„ï¼Œå®ƒå°±æ˜¯ Trueï¼›</li>
<li>è¦è¯»å–åŠ å¯†çš„ PDFï¼Œå°±è°ƒç”¨ decrypt()å‡½æ•°ï¼Œä¼ å…¥å£ä»¤å­—ç¬¦ä¸²ï¼›</li>
<li>*<em>PyPDF2 å†™å…¥ PDF çš„èƒ½åŠ›ï¼Œä»…é™äºä»å…¶ä»– PDF ä¸­æ‹·è´é¡µé¢ã€æ—‹è½¬é¡µé¢ã€é‡å é¡µé¢å’ŒåŠ å¯†æ–‡ä»¶  *</em>   </li>
<li>è°ƒç”¨PdfFileWriter å¯¹è±¡çš„write()æ–¹æ³•ä¼šå®é™…ç”Ÿæˆæ–‡ä»¶ï¼›</li>
<li>åˆ©ç”¨ rotateClockwise()å’Œ rotateCounterClockwise()æ–¹æ³•ï¼Œ PDF æ–‡æ¡£çš„é¡µé¢ä¹Ÿå¯ä»¥æ—‹è½¬ 90 åº¦çš„æ•´æ•°å€ï¼Œå‘è¿™äº›æ–¹æ³•ä¼ å…¥æ•´æ•° 90ã€ 180 æˆ– 270 å°±å¯ä»¥äº†ï¼›</li>
<li>ç”¨ python-docx æ¨¡å—ï¼Œåœ¨ Python ä¸­æ‰“å¼€äº†ä¸€ä¸ª.docx æ–‡ä»¶ï¼Œè°ƒç”¨ docx.Document() ï¼›</li>
</ol>
<h2 id="CSVå’ŒJSONæ•°æ®"><a href="#CSVå’ŒJSONæ•°æ®" class="headerlink" title="CSVå’ŒJSONæ•°æ®"></a>CSVå’ŒJSONæ•°æ®</h2><ol>
<li>æƒ³è¦å¤„ç†CSVæ–‡ä»¶ï¼Œéœ€è¦å¯¼å…¥csvæ¨¡å—ï¼Œimport csv</li>
<li>è¦ç”¨ csv æ¨¡å—ä» CSV æ–‡ä»¶ä¸­è¯»å–æ•°æ®ï¼Œéœ€è¦åˆ›å»ºä¸€ä¸ª Reader å¯¹è±¡ï¼Œ Reader å¯¹è±¡å¯ä»¥éå†CSVä¸­çš„æ¯ä¸€è¡Œï¼›<ol>
<li>ç”¨ open()å‡½æ•°æ‰“å¼€å®ƒ  </li>
<li>å°†å®ƒä¼ é€’ç»™ csv.reader()å‡½æ•°ï¼Œè¿”å›ä¸€ä¸ª Reader å¯¹è±¡</li>
<li>è¦è®¿é—® Reader å¯¹è±¡ä¸­çš„å€¼ï¼Œæœ€ç›´æ¥çš„æ–¹æ³•ï¼Œå°±æ˜¯å°†å®ƒè½¬æ¢æˆä¸€ä¸ªæ™®é€š Python åˆ—è¡¨ï¼Œ å³å°†å®ƒä¼ é€’ç»™ list()  </li>
</ol>
</li>
<li>Writer å¯¹è±¡å¯ä»¥å°†æ•°æ®å†™å…¥ CSV æ–‡ä»¶ï¼Œä½¿ç”¨csv.writer()å‡½æ•°åˆ›å»ºæ”¹å¯¹è±¡ï¼›<ol>
<li>è°ƒç”¨ open()å¹¶ä¼ å…¥â€™wâ€™ï¼Œä»¥å†™æ¨¡å¼æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶  </li>
<li>å°†å®ƒä¼ é€’ç»™ csv.writer() ï¼Œåˆ›å»ºä¸€ä¸ª Writer å¯¹è±¡   </li>
</ol>
</li>
<li>Writer å¯¹è±¡çš„ writerow()æ–¹æ³•æ¥å—ä¸€ä¸ªåˆ—è¡¨å‚æ•° ï¼Œåˆ—è¡¨ä¸­çš„æ¯ä¸ªè¯ï¼Œæ”¾åœ¨è¾“å‡ºçš„CSV æ–‡ä»¶ä¸­çš„ä¸€ä¸ªå•å…ƒæ ¼ä¸­ï¼›</li>
<li>JSONå¤„ç†éœ€è¦å¯¼å…¥æ¨¡å—ï¼Œimport jsonï¼Œè¦å°†åŒ…å« JSON æ•°æ®çš„å­—ç¬¦ä¸²è½¬æ¢ä¸º Python çš„å€¼ï¼Œå°±å°†å®ƒä¼ é€’ç»™ json.loads()å‡½æ•°ï¼Œjson.dumps()å‡½æ•°å°†ä¸€ä¸ª Python å€¼è½¬æ¢æˆ JSON æ ¼å¼çš„æ•°æ®å­—ç¬¦ä¸²ï¼›                 </li>
</ol>
<h2 id="å›¾å½¢å¤„ç†"><a href="#å›¾å½¢å¤„ç†" class="headerlink" title="å›¾å½¢å¤„ç†"></a>å›¾å½¢å¤„ç†</h2><ol>
<li><p>Pillow æ˜¯ä¸€ä¸ªç¬¬ä¸‰æ–¹ Python æ¨¡å—ï¼Œ ç”¨äºå¤„ç†å›¾åƒæ–‡ä»¶ï¼Œè¯¥æ¨¡å—åŒ…å«ä¸€äº›å‡½æ•°ï¼Œå¯ä»¥å¾ˆå®¹æ˜“åœ°è£å‰ªå›¾åƒã€è°ƒæ•´å›¾åƒå¤§å°ï¼Œä»¥åŠç¼–è¾‘å›¾åƒçš„å†…å®¹ï¼›</p>
</li>
<li><p>è®¡ç®—æœºç¨‹åºé€šå¸¸å°†å›¾åƒä¸­çš„é¢œè‰²è¡¨ç¤ºä¸º RGBA å€¼ï¼ŒæŒ‡å®šé¡”è‰²ä¸­çš„çº¢ã€ç»¿ã€è“å’Œ alphaï¼ˆé€æ˜åº¦ï¼‰çš„å€¼ï¼›</p>
</li>
<li><p>åƒç´ æ˜¯è®¡ç®—æœºå±å¹•ä¸Šèƒ½æ˜¾ç¤ºä¸€ç§é¡”è‰²çš„æœ€å°ç‚¹ï¼Œåƒç´ çš„ RGB è®¾ç½®å‡†ç¡®åœ°å‘Šè¯‰å®ƒåº”è¯¥æ˜¾ç¤ºå“ªç§é¢œè‰²çš„è‰²å½©ï¼›</p>
</li>
<li><p>Pillow æä¾› ImageColor.getcolor()å‡½æ•°ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> PIL <span class="keyword">import</span> ImageColor</span><br><span class="line">ImageColor.getcolor(<span class="string">'red'</span>, <span class="string">'RGBA'</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p>è®¸å¤š Pillow å‡½æ•°å’Œæ–¹æ³•éœ€è¦ä¸€ä¸ªçŸ©å½¢å…ƒç»„å‚æ•°ï¼›</p>
</li>
<li><p>è¦åŠ è½½å›¾åƒï¼Œå°±ä» Pillow å¯¼å…¥ Image æ¨¡å—ï¼Œå¹¶è°ƒç”¨ Image.open()ï¼Œä¼ å…¥å›¾åƒçš„æ–‡ä»¶åï¼Œè¿”å›å€¼æ˜¯ Image å¯¹è±¡æ•°æ®ç±»å‹ï¼Œé€šè¿‡ save()æ–¹æ³•ï¼Œå¯¹ Image å¯¹è±¡çš„æ‰€æœ‰æ›´æ”¹éƒ½å¯ä»¥ä¿å­˜åˆ°å›¾åƒæ–‡ä»¶ä¸­ï¼ˆä¹Ÿæ˜¯ä»»ä½•æ ¼å¼ï¼‰ï¼›</p>
</li>
<li><p>æ‰€æœ‰çš„æ—‹è½¬ã€è°ƒæ•´å¤§å°ã€è£å‰ªã€ç»˜ç”»å’Œå…¶ä»–å›¾åƒæ“ä½œï¼Œéƒ½é€šè¿‡è¿™ä¸ª Image å¯¹è±¡ä¸Šçš„æ–¹æ³•è°ƒç”¨æ¥å®Œæˆï¼›</p>
</li>
<li><p>Image.new()è¿”å›çš„å¯¹è±¡è¡¨ç¤ºç©ºç™½çš„å›¾åƒï¼ŒImage.new()çš„å‚æ•°å¦‚ä¸‹ï¼š</p>
<ul>
<li>å­—ç¬¦ä¸²â€™RGBAâ€™ï¼Œå°†é¢œè‰²æ¨¡å¼è®¾ç½®ä¸º RGBA</li>
<li>å›¾åƒå¼€å§‹é‡‡ç”¨çš„èƒŒæ™¯é¢œè‰²ï¼Œæ˜¯ä¸€ä¸ªè¡¨ç¤º RGBA å€¼çš„å››æ•´æ•°å…ƒç»„</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> PIL <span class="keyword">import</span> Image</span><br><span class="line">im = Image.new(<span class="string">'RGBA'</span>, (<span class="number">100</span>, <span class="number">200</span>), <span class="string">'purple'</span>)</span><br><span class="line">im.save(<span class="string">'purpleImage.png'</span>)</span><br><span class="line">im2 = Image.new(<span class="string">'RGBA'</span>, (<span class="number">20</span>, <span class="number">20</span>))</span><br><span class="line">im2.save(<span class="string">'transparentImage.png'</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p>Image å¯¹è±¡çš„ crop()æ–¹æ³•æ¥å—ä¸€ä¸ªçŸ©å½¢å…ƒç»„ï¼Œè¿”å›ä¸€ä¸ª Image å¯¹è±¡ï¼Œè¡¨ç¤ºè£å‰ªåçš„å›¾åƒï¼Œè£å‰ªä¸æ˜¯åœ¨åŸå›¾ä¸Šå‘ç”Ÿçš„ï¼›</p>
</li>
<li><p>copy()æ–¹æ³•è¿”å›ä¸€ä¸ªæ–°çš„ Image å¯¹è±¡ï¼Œå®ƒå’ŒåŸæ¥çš„ Image å¯¹è±¡å…·æœ‰ä¸€æ ·çš„å›¾åƒï¼›</p>
</li>
<li><p>paste()æ–¹æ³•åœ¨ Image å¯¹è±¡è°ƒç”¨ï¼Œå°†å¦ä¸€ä¸ªå›¾åƒç²˜è´´åœ¨å®ƒä¸Šé¢ï¼›</p>
</li>
<li><p>resize()æ–¹æ³•åœ¨ Image å¯¹è±¡ä¸Šè°ƒç”¨ï¼Œè¿”å›æŒ‡å®šå®½åº¦å’Œé«˜åº¦çš„ä¸€ä¸ªæ–° Image å¯¹è±¡ï¼Œresize()æ–¹æ³•ä¸ä¼šåœ¨åŸå›¾ä¸Šä¿®æ”¹ Image å¯¹è±¡ï¼Œè€Œæ˜¯è¿”å›ä¸€ä¸ªæ–°çš„ Image å¯¹è±¡ï¼›</p>
</li>
<li><p>rotate()æ–¹æ³•æ—‹è½¬ï¼Œè¯¥æ–¹æ³•è¿”å›æ—‹è½¬åçš„æ–° Image å¯¹è±¡ï¼Œå¹¶ä¿æŒåŸå§‹Image å¯¹è±¡ä¸å˜ã€‚rotate()çš„å‚æ•°æ˜¯ä¸€ä¸ªæ•´æ•°æˆ–æµ®ç‚¹æ•°ï¼Œè¡¨ç¤ºå›¾åƒé€†æ—¶é’ˆæ—‹è½¬çš„åº¦æ•°ï¼›</p>
</li>
<li><p>transpose()æ–¹æ³•ï¼Œè¿˜å¯ä»¥å¾—åˆ°å›¾åƒçš„â€œé•œåƒç¿»è½¬â€ï¼Œå¿…é¡»å‘ transpose()æ–¹æ³•ä¼ å…¥ Image.FLIP_LEFT_RIGHT æˆ– Image.FLIP_TOP_BOTTOMï¼›</p>
</li>
<li><p>å•ä¸ªåƒç´ çš„é¢œè‰²å¯ä»¥é€šè¿‡ getpixel()å’Œ putpixel()æ–¹æ³•å–å¾—å’Œè®¾ç½®ï¼›</p>
</li>
<li><p>ImageDraw å¯¹è±¡ï¼š</p>
<ol>
<li>text()æ–¹æ³•ï¼Œç”¨äºåœ¨å›¾åƒä¸Šç»˜åˆ¶æ–‡æœ¬</li>
<li>point(xy, fill)æ–¹æ³•ç»˜åˆ¶å•ä¸ªåƒç´ ã€‚xy å‚æ•°è¡¨ç¤ºè¦ç”»çš„ç‚¹çš„åˆ—è¡¨ï¼›</li>
<li>line(xy, fill, width)æ–¹æ³•ç»˜åˆ¶ä¸€æ¡çº¿æˆ–ä¸€ç³»åˆ—çš„çº¿ï¼›</li>
<li>rectangle(xy, fill, outline)æ–¹æ³•ç»˜åˆ¶ä¸€ä¸ªçŸ©å½¢ï¼›</li>
<li>ellipse(xy, fill, outline)æ–¹æ³•ç»˜åˆ¶ä¸€ä¸ªæ¤­åœ†ï¼›</li>
<li>polygon(xy, fill, outline)æ–¹æ³•ç»˜åˆ¶ä»»æ„çš„å¤šè¾¹å½¢ï¼›</li>
</ol>
</li>
</ol>
<h2 id="æ—¶é—´ã€è®¡åˆ’ä»»åŠ¡"><a href="#æ—¶é—´ã€è®¡åˆ’ä»»åŠ¡" class="headerlink" title="æ—¶é—´ã€è®¡åˆ’ä»»åŠ¡"></a>æ—¶é—´ã€è®¡åˆ’ä»»åŠ¡</h2><ol>
<li>å†…ç½®çš„ time æ¨¡å—è®© Pythonç¨‹åºèƒ½è¯»å–ç³»ç»Ÿæ—¶é’Ÿçš„å½“å‰æ—¶é—´ï¼Œåœ¨ time æ¨¡å—ä¸­ï¼Œ time.time()å’Œ time.sleep()å‡½æ•°æ˜¯æœ€æœ‰ç”¨çš„æ¨¡å—ï¼Œä½¿ç”¨æ¨¡å—æ—¶å¯¼å…¥import timeï¼›  </li>
<li>éœ€è¦è®©ç¨‹åºæš‚åœä¸€ä¸‹ï¼Œå°±è°ƒç”¨ time.sleep()å‡½æ•°ï¼Œå¹¶ä¼ å…¥å¸Œæœ›ç¨‹åºæš‚åœçš„ç§’æ•°ï¼›</li>
<li>datetime æ¨¡å—æœ‰è‡ªå·±çš„ datetime æ•°æ®ç±»å‹ï¼›</li>
<li>datetime æ¨¡å—è¿˜æä¾›äº† timedelta æ•°æ®ç±»å‹ï¼Œå®ƒè¡¨ç¤ºä¸€æ®µæ—¶é—´ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªæ—¶åˆ»ï¼›</li>
<li>åˆ©ç”¨å†…å»ºçš„ subprocess æ¨¡å—ä¸­çš„ Popen()å‡½æ•°ï¼Œ Python ç¨‹åºå¯ä»¥å¯åŠ¨è®¡ç®—æœºä¸­çš„å…¶ä»–ç¨‹åºï¼›</li>
<li>å¦‚æœæƒ³åœ¨ Python è„šæœ¬ä¸­å¯åŠ¨ä¸€ä¸ªå¤–éƒ¨ç¨‹åºï¼Œå°±å°†è¯¥ç¨‹åºçš„æ–‡ä»¶åä¼ é€’ç»™subprocess.Popen() ï¼›        </li>
</ol>
<h2 id="GUIæ¨¡æ‹Ÿé¼ æ ‡é”®ç›˜"><a href="#GUIæ¨¡æ‹Ÿé¼ æ ‡é”®ç›˜" class="headerlink" title="GUIæ¨¡æ‹Ÿé¼ æ ‡é”®ç›˜"></a>GUIæ¨¡æ‹Ÿé¼ æ ‡é”®ç›˜</h2><ol>
<li>pyautogui æ¨¡å—åŒ…å«äº†ä¸€äº›å‡½æ•°ï¼Œå¯ä»¥æ¨¡æ‹Ÿé¼ æ ‡ç§»åŠ¨ã€æŒ‰é”®å’Œæ»šåŠ¨é¼ æ ‡æ»šè½®ï¼›</li>
<li>pyautogui çš„é¼ æ ‡å‡½æ•°ä½¿ç”¨ xã€ y åæ ‡ï¼Œpyautogui.size() å‡½æ•°è¿”å›ä¸¤ä¸ªæ•´æ•°çš„å…ƒç»„ï¼ŒåŒ…å«å±å¹•çš„å®½å’Œé«˜çš„åƒç´ æ•° ï¼›    </li>
<li>pyautogui.moveTo() å‡½æ•°å°†é¼ æ ‡ç«‹å³ç§»åŠ¨åˆ°å±å¹•çš„æŒ‡å®šä½ç½®ï¼›</li>
<li>pyautogui.moveRel() å‡½æ•°ç›¸å¯¹äºå½“å‰çš„ä½ç½®ç§»åŠ¨é¼ æ ‡æ¥å— 3 ä¸ªå‚æ•°ï¼šå‘å³æ°´å¹³ç§»åŠ¨å¤šå°‘ä¸ªåƒç´ ï¼Œå‘ä¸‹å‚ç›´ç§»åŠ¨å¤šå°‘ä¸ªåƒç´ ï¼Œä»¥åŠï¼ˆå¯é€‰çš„ï¼‰èŠ±å¤šå°‘æ—¶é—´å®Œæˆç§»åŠ¨ï¼›</li>
<li>è°ƒç”¨ pyautogui.position() å‡½æ•°ï¼Œå¯ä»¥ç¡®å®šé¼ æ ‡å½“å‰çš„ä½ç½®ï¼Œè¿”å›å‡½æ•°è°ƒç”¨æ—¶ï¼Œé¼ æ ‡ xã€ y åæ ‡çš„å…ƒç»„ï¼›</li>
<li>è¦å‘è®¡ç®—æœºå‘é€è™šæ‹Ÿçš„é¼ æ ‡ç‚¹å‡»ï¼Œå°±è°ƒç”¨ pyautogui.click() æ–¹æ³•ï¼Œpyautogui.clickï¼ˆ100ï¼Œ 150ï¼Œ button=â€™leftâ€™ï¼‰ï¼›</li>
<li>pyautogui.doubleClick() å‡½æ•°åªæ‰§è¡ŒåŒå‡»é¼ æ ‡å·¦é”®ï¼Œpyautogui.rightClick() å’Œ pyautogui.middleClick() å‡½æ•°å°†åˆ†åˆ«æ‰§è¡ŒåŒå‡»å³é”®å’ŒåŒå‡»ä¸­é”®ï¼›</li>
<li>PyAutoGUI æä¾›äº† pyautogui.dragTo() å’Œ pyautogui.dragRel() å‡½æ•°ï¼Œå°†é¼ æ ‡æ‹–åŠ¨åˆ°ä¸€ä¸ªæ–°çš„ä½ç½®ï¼Œæˆ–ç›¸å¯¹å½“å‰ä½ç½®çš„ä½ç½®ã€‚ dragTo() å’Œ dragRel() çš„å‚æ•°ä¸moveTo() å’Œ moveRel() ç›¸åŒï¼›    </li>
<li>scroll()æ˜¯æ»šåŠ¨é¼ æ ‡å‡½æ•°ï¼Œå•ä½çš„æ„ä¹‰åœ¨æ¯ä¸ªæ“ä½œç³»ç»Ÿå’Œåº”ç”¨ä¸Šä¸ä¸€æ ·ï¼›</li>
<li>pyautogui æ‹¥æœ‰å±å¹•å¿«ç…§çš„åŠŸèƒ½ï¼Œå¯ä»¥æ ¹æ®å½“å‰å±å¹•çš„å†…å®¹åˆ›å»ºå›¾å½¢æ–‡ä»¶ï¼Œè°ƒç”¨ pyautogui.screenshot() å‡½æ•°                                è·å–å±å¹•å¿«ç…§ï¼›</li>
<li>pyautogui.typewrite() å‡½æ•°å‘è®¡ç®—æœºå‘é€è™šæ‹ŸæŒ‰é”®ï¼ŒæŒ‰é”®äº§ç”Ÿä»€ä¹ˆæ•ˆæœï¼Œå–å†³äºå½“å‰è·å¾—ç„¦ç‚¹çš„çª—å£å’Œæ–‡æœ¬è¾“å…¥æ¡†ï¼›</li>
<li>pyautogui.keyDown() å’Œ pyautogui.keyUp() å°†å‘è®¡ç®—å‘é€è™šæ‹Ÿçš„æŒ‰é”®å’Œé‡Šæ”¾ï¼Œpyautogui æä¾›äº†pyautogui.press() å‡½æ•°ï¼Œå®ƒè°ƒç”¨è¿™ä¸¤ä¸ªå‡½æ•°ï¼Œæ¨¡æ‹Ÿå®Œæ•´çš„å‡»é”®ï¼›</li>
<li>pyautogui.hotkey() å‡½æ•°ï¼Œå®ƒæ¥å—å¤šä¸ªé”®å­—ç¬¦ä¸²å‚æ•°ï¼ŒæŒ‰é¡ºåºæŒ‰ä¸‹ï¼Œå†æŒ‰ç›¸åçš„é¡ºåºé‡Šæ”¾ï¼›  </li>
</ol>
<h2 id="Webç›¸å…³"><a href="#Webç›¸å…³" class="headerlink" title="Webç›¸å…³"></a>Webç›¸å…³</h2><ol>
<li><p>webbrowserï¼šæ˜¯ Python è‡ªå¸¦çš„ï¼Œæ‰“å¼€æµè§ˆå™¨è·å–æŒ‡å®šé¡µé¢</p>
</li>
<li><p>requestsï¼šä»å› ç‰¹ç½‘ä¸Šä¸‹è½½æ–‡ä»¶å’Œç½‘é¡µ  </p>
</li>
<li><p>Beautiful Soupï¼šè§£æ HTMLï¼Œå³ç½‘é¡µç¼–å†™çš„æ ¼å¼  </p>
</li>
<li><p>seleniumï¼šå¯åŠ¨å¹¶æ§åˆ¶ä¸€ä¸ª Web æµè§ˆå™¨ï¼Œselenium èƒ½å¤Ÿå¡«å†™è¡¨å•ï¼Œå¹¶æ¨¡æ‹Ÿé¼ æ ‡åœ¨è¿™ä¸ªæµè§ˆå™¨ä¸­ç‚¹å‡»        </p>
</li>
<li><p>webbrowser æ¨¡å—çš„ open()å‡½æ•°å¯ä»¥å¯åŠ¨ä¸€ä¸ªæ–°æµè§ˆå™¨ï¼Œæ‰“å¼€æŒ‡å®šçš„ URL ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> webbrowser</span><br><span class="line">webbrowser.open(<span class="string">'https://www.hao123.com'</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p>requests æ¨¡å—è®©ä½ å¾ˆå®¹æ˜“ä» Web ä¸‹è½½æ–‡ä»¶ï¼Œä¸å¿…æ‹…å¿ƒä¸€äº›å¤æ‚çš„é—®é¢˜ï¼Œè¯¸å¦‚ç½‘ç»œé”™è¯¯ã€è¿æ¥é—®é¢˜å’Œæ•°æ®å‹ç¼©ï¼Œéœ€è¦å®‰è£…ï¼Œç„¶åå¯¼å…¥import requestsï¼›</p>
</li>
<li><p>requests.get()å‡½æ•°æ¥å—ä¸€ä¸ªè¦ä¸‹è½½çš„ URL å­—ç¬¦ä¸² ï¼Œé€šè¿‡åœ¨ requests.get()çš„è¿”å›å€¼ä¸Šè°ƒç”¨ type()ï¼Œè¿”å›ä¸€ä¸ª Response å¯¹è±¡ï¼Œå…¶ä¸­åŒ…å«äº† Web æœåŠ¡å™¨å¯¹ä½ çš„è¯·æ±‚åšå‡ºçš„å“åº”ï¼›</p>
</li>
<li><p>ä¸‹è½½å¹¶ä¿å­˜åˆ°æ–‡ä»¶çš„å®Œæ•´è¿‡ç¨‹å¦‚ä¸‹ ï¼š</p>
<ol>
<li>è°ƒç”¨ requests.get()ä¸‹è½½è¯¥æ–‡ä»¶</li>
<li>ç”¨â€™wbâ€™è°ƒç”¨ open()ï¼Œä»¥å†™äºŒè¿›åˆ¶çš„æ–¹å¼æ‰“å¼€ä¸€ä¸ªæ–°æ–‡ä»¶  </li>
<li>åˆ©ç”¨ Respose å¯¹è±¡çš„ iter_content()æ–¹æ³•åšå¾ªç¯</li>
<li>åœ¨æ¯æ¬¡è¿­ä»£ä¸­è°ƒç”¨ write()ï¼Œå°†å†…å®¹å†™å…¥è¯¥æ–‡ä»¶  </li>
<li>è°ƒç”¨ close()å…³é—­è¯¥æ–‡ä»¶  </li>
</ol>
</li>
<li><p>Beautiful Soup æ˜¯ä¸€ä¸ªæ¨¡å—ï¼Œç”¨äºä» HTML é¡µé¢ä¸­æå–ä¿¡æ¯ï¼Œæ¨¡å—çš„åç§°æ˜¯ bs4ï¼Œå¯¼å…¥ import bs4  </p>
</li>
<li><p>bs4.BeautifulSoup()å‡½æ•°è°ƒç”¨æ—¶éœ€è¦ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå…¶ä¸­åŒ…å«å°†è¦è§£æçš„ HTMLï¼Œè¿”å›ä¸€ä¸ª BeautifulSoup å¯¹è±¡ ï¼›</p>
</li>
<li><p>å¸¸ç”¨ CSS é€‰æ‹©å™¨çš„æ¨¡å¼ ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">soup.select('div')                æ‰€æœ‰åä¸º<span class="tag">&lt;<span class="name">div</span>&gt;</span>çš„å…ƒç´ </span><br><span class="line">soup.select('#author')            å¸¦æœ‰ id å±æ€§ä¸º author çš„å…ƒç´ </span><br><span class="line">soup.select('.notice')            æ‰€æœ‰ä½¿ç”¨ CSS class å±æ€§åä¸º notice çš„å…ƒç´ </span><br><span class="line">soup.select('div span')           æ‰€æœ‰åœ¨<span class="tag">&lt;<span class="name">div</span>&gt;</span>å…ƒç´ ä¹‹å†…çš„<span class="tag">&lt;<span class="name">span</span>&gt;</span>å…ƒç´   </span><br><span class="line">soup.select('div &gt; span')         æ‰€æœ‰ç›´æ¥åœ¨<span class="tag">&lt;<span class="name">div</span>&gt;</span>å…ƒç´ ä¹‹å†…çš„<span class="tag">&lt;<span class="name">span</span>&gt;</span>å…ƒç´ ï¼Œ ä¸­é—´æ²¡æœ‰å…¶ä»–å…ƒç´ </span><br><span class="line">soup.select('input[name]')        æ‰€æœ‰åä¸º<span class="tag">&lt;<span class="name">input</span>&gt;</span>ï¼Œå¹¶æœ‰ä¸€ä¸ª name å±æ€§ï¼Œå…¶å€¼æ— æ‰€è°“çš„å…ƒç´     </span><br><span class="line">soup.select('input[type="button"]') æ‰€æœ‰åä¸º<span class="tag">&lt;<span class="name">input</span>&gt;</span>ï¼Œå¹¶æœ‰ä¸€ä¸ª type å±æ€§ï¼Œå…¶å€¼ä¸º button çš„å…ƒç´ </span><br></pre></td></tr></table></figure>
</li>
<li><p>selenium æ¨¡å—è®© Python ç›´æ¥æ§åˆ¶æµè§ˆå™¨ï¼Œå®é™…ç‚¹å‡»é“¾æ¥ï¼Œå¡«å†™ç™»å½•ä¿¡æ¯ï¼Œå‡ ä¹å°±åƒæ˜¯æœ‰ä¸€ä¸ªäººç±»ç”¨æˆ·åœ¨ä¸é¡µé¢äº¤äº’ï¼›from selenium  import webdriver  </p>
</li>
<li><p>elenium çš„ WebDriver æ–¹æ³•ï¼Œç”¨äºå¯»æ‰¾å…ƒç´  ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">browser.find_element_by_class_name(name)</span><br><span class="line">browser.find_elements_by_class_name(name)         ä½¿ç”¨ CSS ç±» name çš„å…ƒç´ </span><br><span class="line"></span><br><span class="line">browser.find_element_by_css_selector(selector)</span><br><span class="line">browser.find_elements_by_css_selector(selector)   åŒ¹é… CSS selector çš„å…ƒç´ </span><br><span class="line"></span><br><span class="line">browser.find_element_by_id(id)</span><br><span class="line">browser.find_elements_by_id(id)                   åŒ¹é… id å±æ€§å€¼çš„å…ƒç´ </span><br><span class="line"></span><br><span class="line">browser.find_element_by_link_text(text)</span><br><span class="line">browser.find_elements_by_link_text(text)          å®Œå…¨åŒ¹é…æä¾›çš„ text çš„<span class="tag">&lt;<span class="name">a</span>&gt;</span>å…ƒç´ </span><br><span class="line">    </span><br><span class="line">browser.find_element_by_partial_link_text(text)</span><br><span class="line">browser.find_elements_by_partial_link_text(text)  åŒ…å«æä¾›çš„ text çš„<span class="tag">&lt;<span class="name">a</span>&gt;</span>å…ƒç´ </span><br><span class="line">    </span><br><span class="line">browser.find_element_by_name(name)</span><br><span class="line">browser.find_elements_by_name(name)               åŒ¹é… name å±æ€§å€¼çš„å…ƒç´ </span><br><span class="line">    </span><br><span class="line">browser.find_element_by_tag_name(name)            åŒ¹é…æ ‡ç­¾ name çš„å…ƒç´ </span><br><span class="line">browser.find_elements_by_tag_name(name)           (å¤§å°å†™æ— å…³ï¼Œ <span class="tag">&lt;<span class="name">a</span>&gt;</span>å…ƒç´ åŒ¹é…'a'å’Œ'A')</span><br></pre></td></tr></table></figure>
</li>
<li><p>find_element_<em>å’Œ find_elements_</em>æ–¹æ³•è¿”å›çš„ WebElement å¯¹è±¡æœ‰ä¸€ä¸ª click()æ–¹æ³•ï¼Œæ¨¡æ‹Ÿé¼ æ ‡åœ¨è¯¥å…ƒç´ ä¸Šç‚¹å‡»ï¼Œå¯ä»¥ç”¨äºé“¾æ¥è·³è½¬ï¼Œé€‰æ‹©å•é€‰æŒ‰é’®ï¼Œç‚¹å‡»æäº¤æŒ‰é’®ï¼Œæˆ–è€…è§¦å‘è¯¥å…ƒç´ è¢«é¼ æ ‡ç‚¹å‡»æ—¶å‘ç”Ÿçš„ä»»ä½•äº‹æƒ…ï¼›</p>
</li>
<li><p>å‘ Web é¡µé¢çš„æ–‡æœ¬å­—æ®µå‘é€å‡»é”®ï¼Œåªè¦æ‰¾åˆ°é‚£ä¸ªæ–‡æœ¬å­—æ®µçš„&lt;input&gt;æˆ–&lt;textarea&gt;å…ƒç´ ï¼Œç„¶åè°ƒç”¨ send_keys()æ–¹æ³•ï¼›</p>
</li>
<li><p>selenium å¯ä»¥æ¨¡æ‹Ÿç‚¹å‡»å„ç§æµè§ˆå™¨æŒ‰é’®ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">browser.back()       ç‚¹å‡»â€œè¿”å›â€æŒ‰é’®</span><br><span class="line">browser.forward()    ç‚¹å‡»â€œå‰è¿›â€æŒ‰é’®</span><br><span class="line">browser.refresh()    ç‚¹å‡»â€œåˆ·æ–°â€æŒ‰é’®</span><br><span class="line">browser.quit()       ç‚¹å‡»â€œå…³é—­çª—å£â€æŒ‰é’®</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h2 id="ç¬¬ä¸‰æ–¹æ¨¡å—ï¼ˆå¯è£…ï¼‰"><a href="#ç¬¬ä¸‰æ–¹æ¨¡å—ï¼ˆå¯è£…ï¼‰" class="headerlink" title="ç¬¬ä¸‰æ–¹æ¨¡å—ï¼ˆå¯è£…ï¼‰"></a>ç¬¬ä¸‰æ–¹æ¨¡å—ï¼ˆå¯è£…ï¼‰</h2><ol>
<li><p>ä½¿ç”¨pip3è¿›è¡Œå®‰è£…ç¬¬ä¸‰æ–¹æ¨¡å—ï¼›</p>
</li>
<li><p>ç¬¬ä¸‰æ–¹æ¨¡å—åç§°ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">pip3 install send2trash</span><br><span class="line">pip3 install requests</span><br><span class="line">pip3 install beautifulsoup4</span><br><span class="line">pip3 install selenium</span><br><span class="line">pip3 install openpyxl</span><br><span class="line">pip3 install PyPDF2</span><br><span class="line">pip3 install pillow</span><br><span class="line">pip3 install pyobjc-core</span><br><span class="line">pip3 install pyobjc</span><br></pre></td></tr></table></figure>


</li>
</ol>
<hr>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>Pythonç¬¬ä¸‰æ–¹æ¨¡å—èƒ½å¤Ÿå¸®åŠ©å¹²å¾ˆå¤šäº‹ï¼Œä½†æ˜¯è¿™éƒ¨åˆ†éœ€è¦å¤šå¤šç»ƒä¹ ï¼Œæ ¹æ®éœ€æ±‚ç¼–å†™è„šæœ¬ï¼Œå®Œæˆæ—¥å¸¸çš„å·¥ä½œã€‚</p>
]]></content>
      <categories>
        <category>Python</category>
      </categories>
  </entry>
  <entry>
    <title>Rediså¿«é€Ÿå…¥é—¨</title>
    <url>/2020/04/22/Redis%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>Redisåœ¨Webå¼€å‘ç¤¾åŒºä¸­æ˜¯æœ€ç«çƒ­çš„å†…å­˜æ•°æ®åº“ä¹‹ä¸€ï¼Œåœ¨åˆåˆ›ä¼ä¸šä¹ƒè‡³æ–°æµªå¾®åšè¿™æ ·çš„å¤§å…¬å¸éƒ½èƒ½çœ‹åˆ°Redisçš„ä½¿ç”¨ï¼Œè¶³ä»¥çœ‹åˆ°Redisçš„ç«çƒ­ã€‚Redisæ˜¯ä¸€ä¸ªå¼€æºçš„ã€é«˜æ€§èƒ½çš„ã€åŸºäºé”®å€¼å¯¹çš„ç¼“å­˜ä¸å­˜å‚¨ç³»ç»Ÿï¼Œé€šè¿‡æä¾›å¤šç§é”®å€¼æ•°æ®ç±»å‹æ¥é€‚åº”ä¸åŒåœºæ™¯ä¸‹çš„ç¼“å­˜ä¸å­˜å‚¨éœ€æ±‚ã€‚Redisè¿˜å¯ä»¥èƒœä»»æ¶ˆæ¯é˜Ÿåˆ—ã€ä»»åŠ¡é˜Ÿåˆ—ç­‰ä¸åŒçš„è§’è‰²ã€‚æ¥ä¸‹æ¥å¼€å§‹å­¦ä¹ Rediså§ï¼</p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="åŸºç¡€ä»‹ç»"><a href="#åŸºç¡€ä»‹ç»" class="headerlink" title="åŸºç¡€ä»‹ç»"></a>åŸºç¡€ä»‹ç»</h2><ol>
<li>å­—å…¸ï¼ˆæ˜ å°„ã€å…³è”æ•°ç»„ï¼‰ï¼šä¸€ç§æ•°æ®ç»“æ„ï¼Œåœ¨å­—å…¸ä¸­å¯ä»¥è·å–æˆ–è®¾ç½®é”®åå¯¹åº”çš„é”®å€¼ï¼Œä¹Ÿå¯ä»¥åˆ é™¤ä¸€ä¸ªé”®å€¼å¯¹ï¼›</li>
<li>Redisæ˜¯REmote DIctionary Serverï¼ˆè¿œç¨‹å­—å…¸æœåŠ¡å™¨ï¼‰çš„ç¼©å†™ï¼Œä»¥å­—å…¸ç»“æ„å­˜å‚¨æ•°æ®ï¼Œå¹¶å…è®¸å…¶ä»–åº”ç”¨é€šè¿‡TCPåè®®è¯»å†™å­—å…¸ä¸­çš„å†…å®¹ï¼›</li>
<li>æ”¯æŒçš„é”®å€¼æ•°æ®ç±»å‹ï¼š<ol>
<li>å­—ç¬¦ä¸²ç±»å‹</li>
<li>æ•£åˆ—ç±»å‹</li>
<li>åˆ—è¡¨ç±»å‹</li>
<li>é›†åˆç±»å‹</li>
<li>æœ‰åºé›†åˆç±»å‹</li>
</ol>
</li>
<li>Rediså­—å…¸ç»“æ„çš„å­˜å‚¨æ–¹å¼å’Œå¯¹å¤šç§é”®å€¼ç±»å‹çš„æ”¯æŒä½¿å¾—å¼€å‘è€…å¯ä»¥å°†ç¨‹åºä¸­çš„æ•°æ®ç›´æ¥æ˜ å°„åˆ°Redisä¸­ï¼Œæ•°æ®åœ¨Redisä¸­çš„å­˜å‚¨å½¢å¼å’Œå…¶åœ¨ç¨‹åºä¸­çš„å­˜å‚¨æ–¹å¼éå¸¸æ¥è¿‘ï¼›</li>
<li>ä¼˜åŠ¿ï¼šRedisä¸ºä¸åŒæ•°æ®ç±»å‹çš„é”®å€¼æä¾›äº†éå¸¸æ–¹ä¾¿åœ°æ“ä½œæ–¹å¼ï¼Œæ¯”å¦‚é›†åˆç±»å‹æä¾›äº†äº¤é›† ã€å¹¶é›†çš„é›†åˆè¿ç®—æ“ä½œï¼›</li>
<li><strong>Redisæ•°æ®åº“ä¸­çš„æ‰€æœ‰æ•°æ®éƒ½å­˜å‚¨åœ¨å†…å­˜ä¸­ï¼Œå› æ­¤æ¯”è¾ƒå¿«ï¼</strong>Redisé˜²æ­¢å†…å­˜ä¸­æ•°æ®ä¸¢å¤±ï¼Œæä¾›äº†æŒä¹…åŒ–æ”¯æŒï¼›</li>
<li><strong>Rediså¯ä»¥ä¸ºæ¯ä¸ªé”®è®¾ç½®ç”Ÿå­˜æ—¶é—´ï¼ˆTime to Liveï¼ŒTTLï¼‰ï¼Œç”Ÿå­˜æ—¶é—´åˆ°æœŸåä¼šè‡ªåŠ¨åˆ é™¤é”®å€¼å¯¹ï¼Œå¯ä»¥å……å½“ç¼“å­˜ç³»ç»Ÿæ¥ä½¿ç”¨ï¼›</strong></li>
<li>Redisçš„åˆ—è¡¨ç±»å‹é”®å¯ä»¥ç”¨æ¥å®ç°é˜Ÿåˆ—ï¼Œè€Œä¸”æ”¯æŒé˜»å¡å¼è¯»å–ï¼Œå› è€Œå¾ˆå®¹æ˜“å®ç°ä¸€ä¸ª<strong><em>é«˜æ€§èƒ½çš„ä¼˜å…ˆé˜Ÿåˆ—</em></strong>ï¼›</li>
<li>Redisæä¾›äº†100å¤šä¸ªå‘½ä»¤ï¼Œå®é™…ä¸Šå¸¸ç”¨çš„å°±åå‡ ä¸ªï¼Œå› è€Œä½¿ç”¨ç›¸å¯¹ç®€å•ï¼›</li>
</ol>
<h2 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h2><ol>
<li>Macä¸Šå®‰è£…:</li>
</ol>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">brew install redis</span><br></pre></td></tr></table></figure>

<ol start="2">
<li><p>Redisç›¸å…³çš„å¯åŠ¨å‘½ä»¤ï¼š</p>
<ol>
<li><strong>redis-serverï¼šRedisæœåŠ¡å™¨ï¼›</strong></li>
<li><strong>redis-cliï¼šRediså‘½ä»¤è¡Œå®¢æˆ·ç«¯ï¼›</strong></li>
<li>redis-benchmarkï¼šRedisæ€§èƒ½æµ‹è¯•å·¥å…·ï¼›</li>
<li>redis-check-aofï¼šAOFæ–‡ä»¶ä¿®å¤å·¥å…·ï¼›</li>
<li>redis-check-dumpï¼šRDBæ–‡ä»¶æ£€æŸ¥å·¥å…·ï¼›</li>
<li>redis-sentinelï¼šSentinelæœåŠ¡å™¨ï¼›</li>
</ol>
</li>
<li><p>å¯åŠ¨RedisæœåŠ¡å™¨ä½¿ç”¨å‘½ä»¤redis-serverå°±å¯ä»¥äº†ï¼Œå¯ä»¥ä¿®æ”¹ç«¯å£ï¼Œæ·»åŠ  â€“port portnum ;</p>
</li>
<li><p>å…³é—­redisï¼šredis-cli SHUTDOWN ï¼›</p>
</li>
<li><p>redis-cliï¼ˆRedis Command Line Interfaceï¼‰æ˜¯Redisè‡ªå¸¦çš„åŸºäºå‘½ä»¤è¡Œçš„Rediså®¢æˆ·ç«¯,åœ¨è¿™é‡Œä¸»è¦ç”¨æ¥å­¦ä¹ Redisï¼›</p>
</li>
</ol>
<h2 id="å‘½ä»¤è¿”å›å€¼"><a href="#å‘½ä»¤è¿”å›å€¼" class="headerlink" title="å‘½ä»¤è¿”å›å€¼"></a>å‘½ä»¤è¿”å›å€¼</h2><ol>
<li>çŠ¶æ€å›å¤ï¼ˆstatus replyï¼‰ï¼šçŠ¶æ€å›å¤ç›´æ¥æ˜¾ç¤ºçŠ¶æ€ä¿¡æ¯ï¼Œæ¯”å¦‚PING è¿”å›PONGï¼›</li>
<li>é”™è¯¯å›å¤ï¼ˆerror replyï¼‰ï¼šé”™è¯¯å›å¤ä»¥(error)å¼€å¤´ï¼Œå¹¶åœ¨åé¢è·Ÿä¸Šé”™è¯¯ä¿¡æ¯ï¼›</li>
<li>æ•´æ•°å›å¤ï¼ˆinteger replyï¼‰:é€’å¢é”®å€¼çš„INCRå‘½ä»¤ä¼šä»¥æ•´æ•°å½¢å¼è¿”å›é€’å¢åçš„é”®å€¼ï¼Œè¿˜æœ‰ä¸€äº›å…¶ä»–å‘½ä»¤å¦‚è·å–å½“å‰æ•°æ®åº“ä¸­é”®çš„æ•°é‡çš„DBSIZEå‘½ä»¤ï¼Œä»¥ï¼ˆintegerï¼‰å¼€å¤´ï¼Œå¹¶åœ¨åé¢è·Ÿä¸Šæ•´æ•°æ•°æ®ï¼›</li>
<li>å­—ç¬¦ä¸²å›å¤ï¼ˆbulk replyï¼‰ï¼šå½“è¯·æ±‚ä¸€ä¸ªå­—ç¬¦ä¸²ç±»å‹é”®çš„é”®å€¼æˆ–è€…ä¸€ä¸ªå…¶ä»–ç±»å‹é”®ä¸­çš„æŸä¸ªå…ƒç´ æ—¶å°±ä¼šå¾—åˆ°ä¸€ä¸ªå­—ç¬¦ä¸²å›å¤ï¼Œä»¥åŒå¼•å·åŒ…è£¹ï¼›</li>
<li>å¤šè¡Œå­—ç¬¦ä¸²å›å¤ï¼ˆmulti-bulk replyï¼‰ï¼šè¯·æ±‚ä¸€ä¸ªéå­—ç¬¦ä¸²ç±»å‹é”®çš„å…ƒç´ åˆ—è¡¨æ—¶å°±ä¼šæ”¶åˆ°å¤šè¡Œå­—ç¬¦ä¸²å›å¤ï¼Œæ¯è¡Œå­—ç¬¦ä¸²éƒ½ä»¥ä¸€ä¸ªåºå·å¼€å¤´ï¼›æ¯”å¦‚KEYS å‘½ä»¤å¯ä»¥è·å–æ•°æ®åº“ä¸­ç¬¦åˆæŒ‡å®šè§„åˆ™çš„é”®åâ€“KEYS *ï¼›</li>
</ol>
<h2 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h2><ol>
<li>Redisæ”¯æŒé€šè¿‡é…ç½®æ–‡ä»¶æ¥è®¾ç½®é€‰é¡¹ï¼Œå¯ä»¥é€šè¿‡å¯åŠ¨å‚æ•°ä¼ é€’åŒåçš„é…ç½®é€‰é¡¹ä¼šè¦†ç›–é…ç½®æ–‡ä»¶ä¸­çš„ç›¸åº”å‚æ•°ï¼›</li>
<li>åœ¨redis-cliä¸­å¯ä»¥åŠ¨æ€ä¿®æ”¹é…ç½®ï¼Œå¦‚CONFIG SET loglevel warning ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨CONFIG GETå‘½ä»¤è·å¾—Rediså½“å‰çš„é…ç½®æƒ…å†µï¼š</li>
</ol>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">CONFIG GET loglevel</span><br><span class="line"><span class="meta">#</span><span class="bash"> å›å¤</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 1) <span class="string">"loglevel"</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 2) <span class="string">"warning"</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> ç¬¬ä¸€è¡Œæ˜¯é€‰é¡¹åï¼›</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> ç¬¬äºŒè¡Œæ˜¯é€‰é¡¹å€¼ï¼›</span></span><br></pre></td></tr></table></figure>

<ol start="3">
<li>ä¸€ä¸ªRediså®ä¾‹æä¾›äº†å¤šä¸ªç”¨æ¥å­˜å‚¨æ•°æ®çš„å­—å…¸,å®¢æˆ·ç«¯å¯ä»¥æŒ‡å®šæ•°æ®å­˜å‚¨åœ¨å“ªä¸ªå­—å…¸ä¸­,æ¯ä¸ªå­—å…¸å¯¹å¤–éƒ½æ˜¯ä»¥ä¸€ä¸ªä»0å¼€å§‹é€’å¢æ•°å­—å‘½å,é»˜è®¤æ”¯æŒ16ä¸ªå­—å…¸ï¼Œå¯ä»¥é€šè¿‡é…ç½®å‚æ•°databasesæ¥ä¿®æ”¹è¿™ä¸€ä¸ªæ•°å­—ï¼Œé»˜è®¤è¿æ¥0å·å­—å…¸ï¼Œå¯ä»¥éšæ—¶ä½¿ç”¨SELECTå‘½ä»¤æ›´æ¢æ•°æ®åº“ï¼›</li>
</ol>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta"> #</span><span class="bash"> è·å–é»˜è®¤çš„å­—å…¸æ•°é‡</span></span><br><span class="line"> CONFIG GET databases</span><br><span class="line"><span class="meta">#</span><span class="bash"> 1) <span class="string">"databases"</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 2) <span class="string">"16"</span></span></span><br><span class="line">SELECT 1</span><br><span class="line"><span class="meta">#</span><span class="bash"> OK</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 127.0.0.1:6379[1]&gt;</span></span><br></pre></td></tr></table></figure>

<ol start="4">
<li>ä¸€ä¸ªå®¢æˆ·ç«¯è¦ä¹ˆå¯ä»¥è®¿é—®å…¨éƒ¨æ•°æ®åº“ï¼Œè¦ä¹ˆå°±æ²¡æœ‰ä»»ä½•ä¸€ä¸ªæ•°æ®åº“çš„è®¿é—®æƒé™ï¼›</li>
<li>redisçš„æ•°æ®åº“ä¹‹é—´ä¸æ˜¯å®Œå…¨éš”ç¦»çš„ï¼Œæ¯”å¦‚FLUSHALLå‘½ä»¤å¯ä»¥æ¸…ç©ºä¸€ä¸ªRediså®ä¾‹ä¸­æ‰€æœ‰æ•°æ®åº“ä¸­çš„æ•°æ®;</li>
<li><strong>ä¸åŒçš„åº”ç”¨åº”è¯¥ä½¿ç”¨ä¸åŒçš„Rediså®ä¾‹å­˜å‚¨æ•°æ®ï¼›</strong></li>
</ol>
<h2 id="Rediså‘½ä»¤å±æ€§"><a href="#Rediså‘½ä»¤å±æ€§" class="headerlink" title="Rediså‘½ä»¤å±æ€§"></a>Rediså‘½ä»¤å±æ€§</h2><ol>
<li>Redisä¸åŒå‘½ä»¤æ‹¥æœ‰ä¸åŒçš„å±æ€§ï¼Œä¸€ä¸ªå‘½ä»¤å¯ä»¥æ‹¥æœ‰å¤šä¸ªå±æ€§ï¼›</li>
<li>REDIS_CMD_WRITEï¼šå¯ä»¥ä¿®æ”¹Redisæ•°æ®åº“çš„æ•°æ®ï¼›</li>
<li>REDIS_CMD_DENYOOMï¼šæœ‰å¯èƒ½å¢åŠ Rediså ç”¨çš„å­˜å‚¨ç©ºé—´ï¼Œè¶…è¿‡ç©ºé—´å ç”¨é™åˆ¶æ—¶ï¼Œä¼šæ‹’ç»æ‰§è¡Œæ‹¥æœ‰è¯¥å±æ€§çš„å‘½ä»¤ï¼›</li>
<li>REDIS_CMD_NOSCRIPT:æ‹¥æœ‰è¯¥å±æ€§çš„å‘½ä»¤æ— æ³•åœ¨Redisè„šæœ¬ä¸­æ‰§è¡Œï¼›</li>
<li>REDIS_CMD_RANDOMï¼šæ‰§è¡Œè¯¥å±æ€§çš„å‘½ä»¤ä¹‹åï¼Œå°±ä¸èƒ½æ‰§è¡Œæ‹¥æœ‰REDIS_CMD_WRITEå±æ€§çš„å‘½ä»¤ï¼›</li>
<li>REDIS_CMD_SORT_FOR_SCRIPTï¼šæ‹¥æœ‰è¯¥å±æ€§çš„å‘½ä»¤ä¼šäº§ç”Ÿéšæœºç»“æœï¼Œåœ¨è„šæœ¬ä¸­è°ƒç”¨æ‹¥æœ‰è¯¥å±æ€§çš„å‘½ä»¤ä¼šå¯¹ç»“æœè¿›è¡Œæ’åºï¼›</li>
<li>REDIS_CMD_LOADINGï¼šRediså¯åŠ¨æ—¶ï¼Œä¼šåªæ‰§è¡Œæ‹¥æœ‰è¯¥å±æ€§çš„å‘½ä»¤ï¼›</li>
</ol>
<h2 id="å¸¸è§é”®å€¼å­˜å‚¨ç³»ç»Ÿ"><a href="#å¸¸è§é”®å€¼å­˜å‚¨ç³»ç»Ÿ" class="headerlink" title="å¸¸è§é”®å€¼å­˜å‚¨ç³»ç»Ÿ"></a>å¸¸è§é”®å€¼å­˜å‚¨ç³»ç»Ÿ</h2><ol>
<li>Voldemort</li>
<li>Dynamo</li>
<li>Memcachedb</li>
<li>Cassandra</li>
<li>Memcached</li>
<li>Hypertable</li>
</ol>
<h2 id="ä¸ºä»€ä¹ˆéœ€è¦Redis"><a href="#ä¸ºä»€ä¹ˆéœ€è¦Redis" class="headerlink" title="ä¸ºä»€ä¹ˆéœ€è¦Redis"></a>ä¸ºä»€ä¹ˆéœ€è¦Redis</h2><ol>
<li>æ–°çš„åœºæ™¯mysqlçš„åº”ç”¨æˆäº†ç“¶é¢ˆï¼š<ol>
<li>çº¿ç¨‹é˜»å¡ï¼Œè®¿é—®å¡é¡¿ï¼›</li>
<li>Listç±»å‹ä¸šåŠ¡ä¸é€‚åˆmysqlï¼›</li>
</ol>
</li>
<li>æ–°çš„å…³ç³»è®¡ç®—éœ€æ±‚å®ç°å›°éš¾ï¼Œå¤§é‡çš„å…³ç³»è®¡ç®—ï¼›</li>
</ol>
<h2 id="ä¼˜åŒ–ä½¿ç”¨Redis"><a href="#ä¼˜åŒ–ä½¿ç”¨Redis" class="headerlink" title="ä¼˜åŒ–ä½¿ç”¨Redis"></a>ä¼˜åŒ–ä½¿ç”¨Redis</h2><ol>
<li>å®¹é‡è§„åˆ’ï¼š<ol>
<li>æå‰é¢„ä¼°å®¹é‡ï¼Œä¸Šçº¿å‰é¢„æ‹†è¶³å¤Ÿçš„æ•°æ®åˆ†ç‰‡ï¼›</li>
<li>é€‰æ‹©åˆé€‚çš„æ•°æ®ç±»å‹ï¼Œæ…ç”¨zsetï¼›</li>
<li>ä¸šåŠ¡ç‹¬ç«‹å­˜å‚¨ï¼Œæ‹’ç»æ··æ”¾ï¼›</li>
</ol>
</li>
<li>æé«˜å¯ç”¨æ€§ï¼š<ol>
<li>æ‰€æœ‰Rediså…¨éƒ¨å¢åŠ Slaveï¼›</li>
<li>MasteræŒ‚è½½slaveä¸è¶…è¿‡2ä¸ªé‡‡ç”¨M-S-Sæ–¹å¼æŒ‚è½½ï¼›</li>
<li>å¤šIDCå•Master,å¤åˆ¶åŒæ­¥;</li>
</ol>
</li>
<li>å‡Œæ™¨ä½å³°å‡çº§,è®¿é—®IP-&gt;åŸŸåï¼š<ol>
<li>å‡ºç°é—®é¢˜â€”â€”&gt;é”™å³°å‡çº§</li>
<li>åŠæ—¶æ¸…ç†pagecacheï¼Œå‡å°‘å¯¹æ­£å¸¸ä¸šåŠ¡çš„å½±å“ï¼›</li>
<li>AOFå»æ‰rewriteï¼Œæ”¹ç”¨rotateï¼›</li>
<li>æ”¯æŒçƒ­å‡çº§ï¼Œé¿å…é‡å¯ï¼Œæé«˜å¯è¿ç»´æ€§ï¼›</li>
<li>è´Ÿè½½å‡è¡¡ï¼›</li>
</ol>
</li>
<li>èµ„æºæœåŠ¡åŒ–ï¼š<ol>
<li>configserverç”¨äºæœåŠ¡çš„å‘å¸ƒä¸è®¢é˜…ï¼›</li>
<li>cacheServiceç”¨äºé›†ç¾¤ç®¡ç†ï¼š<ol>
<li>æ•°æ®è·¯ç”±</li>
<li>è´Ÿè½½å‡è¡¡</li>
<li>æ•°æ®åœ¨çº¿è¿ç§»</li>
<li>æœåŠ¡æ²»ç†</li>
</ol>
</li>
<li>è¿ç»´æ ‡å‡†åŒ–ã€è‡ªåŠ¨åŒ–</li>
</ol>
</li>
</ol>
<h2 id="æ“ä½œStringç±»å‹"><a href="#æ“ä½œStringç±»å‹" class="headerlink" title="æ“ä½œStringç±»å‹"></a>æ“ä½œStringç±»å‹</h2><ol>
<li>SET key valueï¼šè®¾ç½®é”®å€¼å¯¹ï¼›</li>
<li>GET key: è¯»å–é”®å€¼ï¼›</li>
<li>GETSET key valueï¼šé‡æ–°è®¾ç½®é”®çš„é”®å€¼ï¼Œè¿”å›æ—§çš„é”®å€¼ï¼›</li>
<li>MGET key1 key2 â€¦ keyNï¼šè¿”å›å¤šä¸ªé”®å€¼ï¼›</li>
<li>SETNX key valueï¼šé”®å€¼ä¸å­˜åœ¨æ—¶è®¾ç½®é”®å€¼ï¼›</li>
<li>SETEX key time valueï¼šè¶…æ—¶è‡ªåŠ¨åˆ é™¤é”®å€¼ï¼›</li>
<li>MSET key1 value1 key2 value2 â€¦ keyN valueNï¼šè®¾ç½®å¤šä¸ªé”®å€¼å¯¹ï¼›</li>
<li>MSETNX  key1 value1 key2 value2 â€¦ keyN valueNï¼šè®¾ç½®å¤šä¸ªé”®å€¼å¯¹ï¼Œé”®å€¼ä¸å­˜åœ¨æ—¶è®¾ç½®é”®å€¼ï¼›</li>
<li>INCR keyï¼šå¢åŠ æ•´æ•°é”®å€¼çš„å€¼ï¼›</li>
<li>INCRBY key integerï¼šå¢åŠ æŒ‡å®šå¢é•¿å€¼ï¼›</li>
<li>DECR keyï¼šå‡å°‘æ•´æ•°é”®å€¼çš„å€¼ï¼›</li>
<li>DECRBY key integerï¼šå‡å°‘æ•´æ•°é”®å€¼çš„æŒ‡å®šå€¼ï¼›</li>
<li>APPEND key valueï¼šè¿½åŠ æŒ‡å®šé”®çš„é”®å€¼ï¼›</li>
<li>SUBSTR key start endï¼šè¿”å›æŒ‡å®šé”®çš„é”®å€¼çš„å­ä¸²ï¼›</li>
</ol>
<h2 id="æ“ä½œåˆ—è¡¨ç±»å‹"><a href="#æ“ä½œåˆ—è¡¨ç±»å‹" class="headerlink" title="æ“ä½œåˆ—è¡¨ç±»å‹"></a>æ“ä½œåˆ—è¡¨ç±»å‹</h2><ol>
<li>RPUSH key valueï¼šåœ¨åˆ—è¡¨çš„å³ä¾§æ·»åŠ é”®å€¼ï¼Œå¯ä»¥å¤šä¸ªï¼›</li>
<li>LPUSH key valueï¼šåœ¨åˆ—è¡¨çš„å·¦ä¾§æ·»åŠ é”®å€¼ï¼Œå¯ä»¥å¤šä¸ªï¼›</li>
<li>LLEN keyï¼šè¿”å›æŒ‡å®šåˆ—è¡¨ç±»å‹é”®çš„é•¿åº¦ï¼›</li>
<li>LRANGE key start endï¼šè¿”å›åˆ—è¡¨æŒ‡å®šèŒƒå›´çš„é”®å€¼ï¼›</li>
<li>LTRIM key start endï¼šåˆ é™¤è¶…å‡ºæŒ‡å®šèŒƒå›´çš„æ•°æ®ï¼›</li>
<li>LINDEX key indexï¼šè¿”å›åˆ—è¡¨ä¸­æŒ‡å®šä½ç½®çš„é”®å€¼ï¼›</li>
<li>LSET key index valueï¼šè®¾ç½®æŒ‡å®šé”®çš„æŒ‡å®šä½ç½®çš„é”®å€¼ï¼›</li>
<li>LREM key count valueï¼šä»å·¦ä¾§åˆ é™¤åŒ¹é…çš„å…ƒç´ å¤šä¸ªï¼›</li>
<li>LPOP keyï¼šä»åˆ—è¡¨å·¦ä¾§åˆ é™¤å…ƒç´ ï¼Œå¹¶è¿”å›åˆ é™¤çš„é”®å€¼ï¼›</li>
<li>RPOP keyï¼šä»åˆ—è¡¨å³ä¾§åˆ é™¤å…ƒç´ ï¼Œå¹¶è¿”å›åˆ é™¤çš„é”®å€¼ï¼›</li>
<li>BLPOP key1 key2 â€¦ keyN timeoutï¼šè¶…æ—¶å·¦ä¾§å¼¹å‡ºé”®å€¼ï¼›</li>
<li>BRPOP key1 key2 â€¦ keyN timeoutï¼šè¶…æ—¶å³ä¾§å¼¹å‡ºé”®å€¼ï¼›</li>
<li>RPOPLPUSH srckey dstkeyï¼šä»srckeyçš„å³ä¾§å¼¹å‡ºç„¶åä»å·¦ä¾§å‹å…¥dstkeyä¸­ï¼›</li>
</ol>
<h2 id="æ“ä½œé›†åˆç±»å‹"><a href="#æ“ä½œé›†åˆç±»å‹" class="headerlink" title="æ“ä½œé›†åˆç±»å‹"></a>æ“ä½œé›†åˆç±»å‹</h2><ol>
<li>SADD key memberï¼šæ·»åŠ æŒ‡å®šçš„æˆå‘˜åˆ°æŒ‡å®šçš„é›†åˆä¸­ï¼›</li>
<li>SREM key memberï¼šåˆ é™¤æŒ‡å®šçš„æˆå‘˜åˆ°æŒ‡å®šçš„é›†åˆä¸­ï¼›</li>
<li>SPOP key [count]ï¼šä»æŒ‡å®šé›†åˆä¸­éšæœºåˆ é™¤æŒ‡å®šä¸ªé”®å€¼ï¼›</li>
<li>SMOVE srckey dstkey memberï¼šè½¬ç§»æŒ‡å®šé”®å€¼åˆ°æŒ‡å®šçš„é”®ä¸­ï¼›</li>
<li>SCARD keyï¼šè¿”å›æŒ‡å®šé›†åˆçš„å…ƒç´ æ•°é‡ï¼›</li>
<li>SISMEMBER key memberï¼šæ£€æŸ¥æŒ‡å®šå…ƒç´ æ˜¯å¦æ˜¯é›†åˆä¸­çš„å…ƒç´ ï¼›</li>
<li>SINTER key1 key2 â€¦ keyNï¼šè¿”å›é›†åˆçš„äº¤é›†ï¼›</li>
<li>SINTERSTORE dstkey key1 key2 â€¦ keyNï¼šå°†é›†åˆä¹‹é—´çš„äº¤é›†ä¿å­˜åˆ°dstkeyä¸­ï¼›</li>
<li>SUNION key1 key2 â€¦ keyNï¼šè¿”å›é›†åˆçš„å¹¶é›†ï¼›</li>
<li>SUNIONSTORE dstkey key1 â€¦ keyNï¼šå°†é›†åˆä¹‹é—´çš„å¹¶é›†ä¿å­˜åˆ°dstkeyä¸­ï¼›</li>
<li>SDIFF key1 key2 â€¦ keyNï¼šè¿”å›é›†åˆçš„å·®é›†ï¼›</li>
<li>SDIFFSTORE dstkey key1 â€¦ keyNï¼šå°†é›†åˆä¹‹é—´çš„å·®é›†ä¿å­˜åˆ°dstkeyä¸­ï¼›</li>
<li>SMEMBERS keyï¼šè¿”å›é›†åˆçš„æ‰€æœ‰å…ƒç´ ï¼›</li>
<li>SRANDMEMBER keyï¼šéšæœºè¿”å›é›†åˆä¸­çš„ä¸€ä¸ªå…ƒç´ ï¼›</li>
</ol>
<h2 id="æ“ä½œæœ‰åºé›†åˆç±»å‹"><a href="#æ“ä½œæœ‰åºé›†åˆç±»å‹" class="headerlink" title="æ“ä½œæœ‰åºé›†åˆç±»å‹"></a>æ“ä½œæœ‰åºé›†åˆç±»å‹</h2><ol>
<li>ZADD key score memberï¼šé€šè¿‡ç»™å®šçš„åˆ†æ•°æ’å…¥æˆå‘˜å€¼åˆ°æŒ‡å®šçš„keyçš„æœ‰åºé›†åˆä¸­ï¼Œå­˜åœ¨åˆ™æ’å…¥å¤±è´¥ï¼›</li>
<li>ZREM key memberï¼šä»ç»™å®šçš„keyä¸­åˆ é™¤æŒ‡å®šçš„æˆå‘˜ï¼›</li>
<li>ZINCRBY key increment memberï¼šç»™æŒ‡å®šçš„keyçš„æˆå‘˜ç§¯åˆ†é€’å¢æŒ‡å®šå€¼ï¼›</li>
<li>ZRANK key memberï¼šè¿”å›æŒ‡å®šæœ‰åºé›†åˆä¸­çš„æˆå‘˜çš„æ’åï¼Œä»0å¼€å§‹è®¡æ•°ï¼›</li>
<li>ZREVRANK key memberï¼šè¿”å›æŒ‡å®šæœ‰åºé›†åˆä¸­çš„æˆå‘˜çš„æ’åï¼Œä»0å¼€å§‹è®¡æ•°ï¼Œå€’åºï¼›</li>
<li>ZRANGE key start endï¼šé€šè¿‡å¼€å§‹å€¼å’Œç»“æŸå€¼æ¥å–æœ‰åºé›†åˆä¸­çš„å…ƒç´ ï¼›</li>
<li>ZREVRANGE key start endï¼šé€šè¿‡å¼€å§‹å€¼å’Œç»“æŸå€¼æ¥å–æœ‰åºé›†åˆä¸­çš„å…ƒç´ ï¼Œé€†åºï¼›</li>
<li>ZRANGEBYSCORE key min maxï¼šé€šè¿‡åˆ†æ•°èŒƒå›´è¿”å›æŒ‡å®šæœ‰åºé›†åˆä¸­çš„å…ƒç´ ï¼›</li>
<li>ZCOUNT key min maxï¼šè¿”å›æŒ‡å®šåˆ†æ•°èŒƒå›´çš„æœ‰åºé›†åˆä¸­çš„å…ƒç´ æ•°ç›®ï¼›</li>
<li>ZCARD keyï¼šè·å–æŒ‡å®šæœ‰åºé›†åˆçš„æˆå‘˜åŸºæ•°ï¼›</li>
<li>ZSCORE key elementï¼šè¿”å›æŒ‡å®šé›†åˆçš„å…ƒç´ çš„åˆ†æ•°ï¼›</li>
<li>ZREMRANGEBYRANK key min max:åˆ é™¤æŒ‡å®šçš„æœ‰åºé›†åˆä¸­æŒ‡å®šæ’åèŒƒå›´çš„æˆå‘˜ï¼›</li>
<li>ZREMRANGEBYSCORE key min max:åˆ é™¤æŒ‡å®šçš„æœ‰åºé›†åˆä¸­æŒ‡å®šåˆ†æ•°èŒƒå›´çš„æˆå‘˜ï¼›</li>
<li><strong>zinterstore/zunionstore</strong> storeKey keyNum key [key â€¦] [weights weight [weightâ€¦]] [aggregate sum|min|max]ã€€:é€šè¿‡æŒ‡å®šçš„keysåšäº¤é›†æˆ–è€…å¹¶é›†å¹¶ä¿å­˜åˆ°æŒ‡å®šçš„é›†åˆä¸­ï¼›</li>
</ol>
<h2 id="æ“ä½œæ•£åˆ—ç±»å‹"><a href="#æ“ä½œæ•£åˆ—ç±»å‹" class="headerlink" title="æ“ä½œæ•£åˆ—ç±»å‹"></a>æ“ä½œæ•£åˆ—ç±»å‹</h2><ol>
<li>HSET key field valueï¼šè®¾ç½®hashçš„å­—æ®µåŠå€¼ï¼›</li>
<li>HGET key fieldï¼šè·å–hashçš„æŒ‡å®šå­—æ®µçš„å€¼ï¼›</li>
<li>HMGET key field1 â€¦ fieldNï¼šè¿”å›æŒ‡å®šçš„hashçš„å¤šä¸ªå­—æ®µçš„å€¼ï¼›</li>
<li>HMSET key field1 value1 â€¦ fieldN valueNï¼šæ’å…¥æŒ‡å®šçš„hashå¤šä¸ªå­—æ®µåŠå€¼ï¼›</li>
<li>HINCRBY key field integerï¼šå¯¹æŒ‡å®šçš„hashå­—æ®µçš„å€¼è¿›è¡Œé€’å¢æ“ä½œ</li>
<li>HEXISTS key fieldï¼šæ£€æŸ¥æŒ‡å®šçš„hashå­—æ®µæ˜¯å¦å­˜åœ¨ï¼›</li>
<li>HDEL key fieldï¼šé€šè¿‡æŒ‡å®šçš„hashå­—æ®µåˆ é™¤hashå€¼ï¼›</li>
<li>HLEN keyï¼šè¿”å›hashçš„é•¿åº¦ï¼›</li>
<li>HKEYS keyï¼šè¿”å›æ‰€æœ‰hashçš„æ‰€æœ‰keysï¼›</li>
<li>HVALS keyï¼šè¿”å›æŒ‡å®šhashçš„æ‰€æœ‰valueï¼›</li>
<li>HGETALL keyï¼šè¿”å›æŒ‡å®šçš„hashæ‰€æœ‰å­—æ®µåŠå…³è”çš„å€¼ï¼›</li>
</ol>
<h2 id="é”®å€¼ç›¸å…³å‘½ä»¤"><a href="#é”®å€¼ç›¸å…³å‘½ä»¤" class="headerlink" title="é”®å€¼ç›¸å…³å‘½ä»¤"></a>é”®å€¼ç›¸å…³å‘½ä»¤</h2><ol>
<li>keys patternï¼šè¿”å›æ»¡è¶³ç»™å®šæ¨¡å¼çš„æ‰€æœ‰keyï¼›</li>
<li>exists keyï¼šç¡®å®šä¸€ä¸ªkeyæ˜¯å¦å­˜åœ¨ï¼›</li>
<li>del keyï¼šåˆ é™¤ä¸€ä¸ªkeyï¼›</li>
<li>expire key timeï¼šè®¾ç½®ä¸€ä¸ªkeyçš„è¿‡æœŸæ—¶é—´ï¼ˆå•ä½ï¼šç§’ï¼‰ï¼›</li>
<li>moveï¼šå°†å½“å‰æ•°æ®åº“ä¸­çš„keyè½¬ç§»åˆ°å…¶ä»–æ•°æ®åº“ä¸­ï¼›</li>
<li>persist keyï¼šç§»é™¤ç»™å®škeyçš„è¿‡æœŸæ—¶é—´ï¼›</li>
<li>randomkeyï¼šéšæœºè¿”å›ä¸€ä¸ªkeyï¼›</li>
<li>renameï¼šé‡å‘½åkeyï¼›</li>
<li>type keyï¼šè¿”å›keyçš„ç±»å‹ï¼›</li>
<li>ttl keyï¼šæ˜¾ç¤ºkeyçš„è¶…æœŸæ—¶é—´ï¼›</li>
<li>flushallï¼šæ¸…é™¤æ‰€æœ‰çš„keyï¼›</li>
</ol>
<hr>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>RedisçœŸçš„ç”¨çš„éå¸¸å¹¿æ³›ï¼Œè¿˜éœ€è¦å­¦ä¹ å¦‚ä½•åœ¨è‡ªå·±çš„é¡¹ç›®ä¸­ä½¿ç”¨Redisï¼Œè¿™éƒ¨åˆ†ä¸»è¦ä»‹ç»ä¸€ä¸‹åŸºç¡€çš„RedisçŸ¥è¯†ã€‚</p>
]]></content>
      <categories>
        <category>Redis</category>
      </categories>
  </entry>
  <entry>
    <title>Shell File Command</title>
    <url>/2020/04/23/Shell-File-Command/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>Unixä¸ºæ‰€æœ‰çš„è®¾å¤‡å’Œç³»ç»ŸåŠŸèƒ½æä¾›äº†æ–‡ä»¶å½¢å¼çš„æ¥å£ï¼Œå¯ä»¥é€šè¿‡å†™å…¥ç‰¹å®šç»ˆç«¯æ‰€å¯¹åº”çš„è®¾å¤‡æ–‡ä»¶æ¥å®ç°å‘ç»ˆç«¯å†™å…¥ä¿¡æ¯ã€‚å¯ä»¥é€šè¿‡Shellè®¿é—®ç›®å½•ã€æ™®é€šæ–‡ä»¶ã€å—è®¾å¤‡ã€å­—ç¬¦è®¾å¤‡ã€ç¬¦å·é“¾æ¥ã€å¥—æ¥å­—å’Œå‘½åç®¡é“ç­‰ã€‚æ–‡ä»¶åã€å¤§å°ã€æ–‡ä»¶ç±»å‹ã€æ–‡ä»¶å†…å®¹ä¿®æ”¹æ—¶é—´ã€æ–‡ä»¶è®¿é—®æ—¶é—´ã€æ–‡ä»¶å±æ€§æ›´æ”¹æ—¶é—´ã€ièŠ‚ç‚¹ã€é“¾æ¥ä»¥åŠæ–‡ä»¶æ‰€åœ¨çš„æ–‡ä»¶ç³»ç»Ÿç­‰éƒ½æ˜¯æ–‡ä»¶çš„å±æ€§ã€‚</p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="ç”Ÿæˆæµ‹è¯•æ–‡ä»¶"><a href="#ç”Ÿæˆæµ‹è¯•æ–‡ä»¶" class="headerlink" title="ç”Ÿæˆæµ‹è¯•æ–‡ä»¶"></a>ç”Ÿæˆæµ‹è¯•æ–‡ä»¶</h2><ol>
<li>ddå‘½ä»¤ä¼šå…‹éš†ç»™å®šçš„è¾“å…¥å†…å®¹ï¼Œç„¶åå°†ä¸€æ¨¡ä¸€æ ·çš„ä¸€ä»½å‰¯æœ¬å†™å…¥åˆ°è¾“å‡ºï¼›</li>
</ol>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> åˆ›å»ºä¸€ä¸ªå†…å®¹å…¨éƒ¨ä¸ºé›¶çš„1Må¤§å°çš„åä¸ºjunk.dataçš„æ–‡ä»¶</span></span><br><span class="line">dd if=/dev/zero of=junk.data bs=1m count=1</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>ddå‚æ•°ä»‹ç»ï¼š<ol>
<li>ifè¡¨ç¤ºè¾“å…¥æ–‡ä»¶ï¼ˆinput fileï¼‰ï¼›</li>
<li>ofè¡¨ç¤ºè¾“å‡ºæ–‡ä»¶ï¼ˆoutput fileï¼‰ï¼›</li>
<li>bsæŒ‡å®šäº†ä»¥å­—èŠ‚ä¸ºå•ä½çš„å—å¤§å°ï¼ˆblock sizeï¼‰ï¼›</li>
<li>countè¡¨ç¤ºéœ€è¦è¢«å¤åˆ¶çš„å—æ•°ã€‚</li>
</ol>
</li>
<li><strong>ä¸€å®šè¦åå¤æ£€æŸ¥ddå‘½ä»¤æ‰€ç”¨ çš„è¯­æ³•æ˜¯å¦æ­£ç¡®ï¼Œå°¤å…¶æ˜¯å‚æ•°of=ï¼›</strong></li>
<li>commå‘½ä»¤å¯ç”¨äºæ¯”è¾ƒä¸¤ä¸ªå·²æ’åºçš„æ–‡ä»¶,å¯ä»¥æ˜¾ç¤ºå‡ºç¬¬ä¸€ä¸ªæ–‡ä»¶å’Œç¬¬äºŒä¸ªæ–‡ä»¶æ‰€ç‹¬æœ‰çš„è¡Œä»¥åŠè¿™ä¸¤ä¸ªæ–‡ä»¶æ‰€å…±æœ‰çš„è¡Œ;</li>
</ol>
<h2 id="æ–‡ä»¶æ“ä½œ"><a href="#æ–‡ä»¶æ“ä½œ" class="headerlink" title="æ–‡ä»¶æ“ä½œ"></a>æ–‡ä»¶æ“ä½œ</h2><ol>
<li>æ–‡ä»¶æƒé™å’Œæ‰€æœ‰æƒæ˜¯Unix/Linuxæ–‡ä»¶ç³»ç»Ÿçš„æ˜¾è‘—ç‰¹æ€§ä¹‹ä¸€ï¼›</li>
<li>ç›®å½•æœ‰ä¸€ä¸ªå«ä½œç²˜æ»ä½ï¼ˆsticky bitï¼‰çš„ç‰¹æ®Šæƒé™ï¼Œå¦‚æœç›®å½•è®¾ç½®äº†ç²˜æ»ä½ï¼Œåªæœ‰åˆ›å»ºè¯¥ç›®å½•çš„ç”¨æˆ·æ‰èƒ½åˆ é™¤ç›®å½•ä¸­çš„æ–‡ä»¶ï¼Œå°±ç®—ç”¨æˆ·ç»„å’Œå…¶ä»–ç”¨æˆ·ä¹Ÿæœ‰å†™æƒé™ï¼Œä»æ— èƒ½æ— åŠ›ï¼›</li>
<li>å¯ä½¿ç”¨chmodå‘½ä»¤è®¾ç½®æ–‡ä»¶æƒé™ï¼›</li>
<li>å¯ä»¥ä½¿ç”¨chownå‘½ä»¤æ›´æ”¹æ–‡ä»¶æˆ–ç›®å½•çš„æ‰€æœ‰æƒï¼šchown user:group filenameï¼›</li>
<li><strong>å¯ä»¥ä½¿ç”¨chmodçš„+té€‰é¡¹è®¾ç½®ç²˜æ»ä½ï¼Œ</strong>åªæœ‰ç›®å½•çš„æ‰€æœ‰è€…æ‰èƒ½å¤Ÿåˆ é™¤ç›®å½•ä¸­çš„æ–‡ä»¶ï¼›</li>
<li>chmodçš„-Ré€‰é¡¹èƒ½å¤Ÿä»¥é€’å½’çš„æ–¹å¼ä¿®æ”¹å½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶å’Œå­ç›®å½•çš„æƒé™ï¼›</li>
<li>setuidåªèƒ½åº”ç”¨åœ¨Linux ELFæ ¼å¼çš„äºŒè¿›åˆ¶æ–‡ä»¶ä¸Šï¼Œå…è®¸å…¶ä»–ç”¨æˆ·ä»¥æ–‡ä»¶æ‰€æœ‰è€…çš„èº«ä»½æ¥æ‰§è¡Œæ–‡ä»¶ï¼›</li>
<li>chattrå‘½ä»¤å¯ç”¨äºæ›´æ”¹æ‰©å±•å±æ€§ï¼›</li>
<li>touchå‘½ä»¤å¯ä»¥ç”¨æ¥ç”Ÿæˆç©ºç™½æ–‡ä»¶æˆ–æ˜¯ä¿®æ”¹å·²æœ‰æ–‡ä»¶çš„æ—¶é—´æˆ³ï¼›<ol>
<li>touch -a åªæ›´æ”¹æ–‡ä»¶è®¿é—®æ—¶é—´ï¼›</li>
<li>touch -m åªæ›´æ”¹æ–‡ä»¶ä¿®æ”¹æ—¶é—´ã€‚</li>
</ol>
</li>
<li>ç¬¦å·é“¾æ¥æ˜¯æŒ‡å‘å…¶ä»–æ–‡ä»¶æˆ–ç›®å½•çš„æŒ‡é’ˆï¼Œå‘½ä»¤lnï¼›</li>
<li>diffå‘½ä»¤å¯ä»¥ç”Ÿæˆä¸¤ä¸ªæ–‡ä»¶ä¹‹é—´çš„å·®å¼‚å¯¹æ¯”ï¼›</li>
<li>headå’Œtailå‘½ä»¤å¯ä»¥å¸®åŠ©æˆ‘ä»¬æŸ¥çœ‹æ–‡ä»¶çš„ä¸€å°éƒ¨åˆ†å†…å®¹;</li>
<li><strong>wcæ˜¯ä¸€ä¸ªç”¨äºç»Ÿè®¡è¡Œã€å•è¯å’Œå­—ç¬¦æ•°é‡çš„å®ç”¨å·¥å…·:</strong><ol>
<li>ç»Ÿè®¡è¡Œæ•°ï¼šwc -l file</li>
<li>ç»Ÿè®¡å•è¯æ•°ï¼šwc -w file</li>
<li>ç»Ÿè®¡å­—ç¬¦æ•°ï¼šwc -c file</li>
<li>ä½¿ç”¨-Lé€‰é¡¹æ‰“å°å‡ºæ–‡ä»¶ä¸­æœ€é•¿ä¸€è¡Œçš„é•¿åº¦ï¼šwc file -L</li>
</ol>
</li>
<li>treeå‘½ä»¤èƒ½å¤Ÿä»¥å›¾å½¢åŒ–çš„æ ‘çŠ¶ç»“æ„æ‰“å°æ–‡ä»¶å’Œç›®å½•;</li>
</ol>
<hr>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>æ–‡ä»¶æ“ä½œæ˜¯æœ€åŸºç¡€çš„ï¼Œè¿™ä¹ˆå¤šå‘½ä»¤ï¼Œç†Ÿèƒ½ç”Ÿå·§ï¼Œä»‹ç»äº†Linuxä¸‰å‰‘å®¢ä¹‹åï¼ŒçœŸæ­£çš„å¼€å¯äº†Shellç»ˆç«¯ç¼–ç¨‹ï¼Œè„šæœ¬å°å­ä¹‹è·¯ï¼</p>
]]></content>
      <categories>
        <category>Shell</category>
      </categories>
  </entry>
  <entry>
    <title>Shell Learn</title>
    <url>/2020/04/22/Shell-Learn/</url>
    <content><![CDATA[<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="åŸºæœ¬å‘½ä»¤"><a href="#åŸºæœ¬å‘½ä»¤" class="headerlink" title="åŸºæœ¬å‘½ä»¤"></a>åŸºæœ¬å‘½ä»¤</h2><ol>
<li>echoæ˜¯ç”¨äºç»ˆç«¯æ‰“å°çš„æœ€åŸºæœ¬å‘½ä»¤ï¼Œechoåœ¨æ¯æ¬¡è°ƒç”¨åä¼šæ·»åŠ ä¸€ä¸ªæ¢è¡Œç¬¦ï¼›</li>
<li>printfå‘½ä»¤ä¹Ÿå¯ç”¨äºç»ˆç«¯æ‰“å°ï¼Œä½¿ç”¨çš„å‚æ•°å’ŒCè¯­è¨€ä¸­çš„printfå‡½æ•°ä¸€æ ·ï¼›</li>
<li><strong>æ³¨æ„ï¼šä½¿ç”¨echoå’Œprintfçš„å‘½ä»¤é€‰é¡¹æ—¶ï¼Œè¦ç¡®ä¿é€‰é¡¹å‡ºç°åœ¨å‘½ä»¤ä¸­çš„æ‰€æœ‰å­—ç¬¦ä¸²ä¹‹å‰ï¼›</strong>å¯ä»¥ä½¿ç”¨è½¬ä¹‰åºåˆ—åœ¨ç»ˆç«¯ä¸­ç”Ÿæˆå½©è‰²æ–‡æœ¬;</li>
</ol>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">echo -e "\e[1;42m \e[1;33m Green Background \e[0m"</span><br></pre></td></tr></table></figure>

<ol start="4">
<li>envæˆ–printenvå‘½ä»¤æŸ¥çœ‹å½“å‰shell ä¸­æ‰€å®šä¹‰çš„å…¨éƒ¨ç¯å¢ƒå˜é‡;</li>
<li>exportå‘½ä»¤å£°æ˜äº†å°†ç”±å­è¿›ç¨‹æ‰€ç»§æ‰¿çš„ä¸€ä¸ªæˆ–å¤šä¸ªå˜é‡;</li>
<li>Bash shellä½¿ç”¨letã€(( ))å’Œ[ ]æ‰§è¡ŒåŸºæœ¬çš„ç®—æœ¯æ“ä½œ;</li>
<li>sleepå‘½ä»¤å¯ä»¥å»¶è¿Ÿè„šæœ¬æ‰§è¡Œä¸€æ®µæ—¶é—´ï¼ˆä»¥ç§’ä¸ºå•ä½ï¼‰;</li>
<li>å‡½æ•°å®šä¹‰ function fname(){}</li>
<li>pwdå‘½ä»¤å¯ä»¥æ‰“å°å‡ºå·¥ä½œç›®å½•çš„è·¯å¾„;</li>
<li>cdå‘½ä»¤å¯ä»¥å°†å½“å‰ç›®å½•ä¿®æ”¹æˆæŒ‡å®šçš„ç›®å½•;</li>
<li>readèƒ½å¤Ÿä»é”®ç›˜æˆ–æ ‡å‡†è¾“å…¥ä¸­è¯»å–æ–‡æœ¬;</li>
<li>é¢å‘åˆ—è¡¨çš„forå¾ªç¯ for var in list; do commands; done</li>
</ol>
<h2 id="æŸ¥æ‰¾å‘½ä»¤find"><a href="#æŸ¥æ‰¾å‘½ä»¤find" class="headerlink" title="æŸ¥æ‰¾å‘½ä»¤find"></a>æŸ¥æ‰¾å‘½ä»¤find</h2><ol>
<li>findå‘½ä»¤èƒ½å¤ŸåŸºäºé€šé…ç¬¦æˆ–æ­£åˆ™è¡¨è¾¾å¼ã€ç›®å½•æ ‘æ·±åº¦ã€æ–‡ä»¶æ—¥æœŸã€æ–‡ä»¶ç±»å‹ç­‰æ¡ä»¶æŸ¥æ‰¾æ–‡ä»¶;</li>
<li>-printé€‰é¡¹ä½¿ç”¨\nï¼ˆæ¢è¡Œç¬¦ï¼‰åˆ†éš”è¾“å‡ºçš„æ¯ä¸ªæ–‡ä»¶æˆ–ç›®å½•å</li>
<li>-name é€‰é¡¹æŒ‡å®šäº†å¾…æŸ¥æ‰¾æ–‡ä»¶åçš„æ¨¡å¼ï¼›æ¯”å¦‚æŸ¥æ‰¾â€<em>.txtâ€èƒ½åŒ¹é…æ‰€æœ‰åå­—ä»¥.txtç»“å°¾çš„æ–‡ä»¶æˆ–ç›®å½•ï¼ˆå•å¼•å·èƒ½å¤Ÿé˜»æ­¢shellæ‰©å±•</em>.txtï¼‰ï¼›</li>
</ol>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">find . -name '*.txt' -print</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>-inameï¼ˆå¿½ç•¥å­—æ¯å¤§å°å†™ï¼‰ï¼Œè¯¥é€‰é¡¹çš„ä½œç”¨å’Œ-nameç±»ä¼¼ï¼Œåªä¸è¿‡åœ¨åŒ¹é…åå­—æ—¶ä¼šå¿½ç•¥å¤§å°å†™ï¼›</li>
<li>æ”¯æŒé€»è¾‘æ“ä½œç¬¦ã€‚-aå’Œ-andé€‰é¡¹å¯ä»¥æ‰§è¡Œé€»è¾‘ä¸ï¼ˆANDï¼‰æ“ä½œï¼Œ-oå’Œ-oré€‰é¡¹å¯ ä»¥æ‰§è¡Œé€»è¾‘æˆ–ï¼ˆORï¼‰æ“ä½œï¼›</li>
</ol>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">find . -name '*.md' -o -name 'S*' -print</span><br></pre></td></tr></table></figure>

<ol start="5">
<li>-path é€‰é¡¹å¯ä»¥é™åˆ¶æ‰€åŒ¹é…æ–‡ä»¶çš„è·¯å¾„åŠåç§°;</li>
<li>-regexé€‰é¡¹å’Œ-pathç±»ä¼¼ï¼Œåªä¸è¿‡å‰è€…æ˜¯åŸºäºæ­£åˆ™è¡¨è¾¾å¼æ¥åŒ¹é…æ–‡ä»¶è·¯å¾„çš„;</li>
<li>-iregexé€‰é¡¹å¯ä»¥è®©æ­£åˆ™è¡¨è¾¾å¼åœ¨åŒ¹é…æ—¶å¿½ç•¥å¤§å°å†™;</li>
<li>ç”¨!æ’é™¤åŒ¹é…åˆ°çš„æ¨¡å¼;</li>
</ol>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">find . ! -name '*.md' -a  ! -name 'S*'</span><br></pre></td></tr></table></figure>

<ol start="9">
<li>-maxdepthå’Œâ€“mindepthé€‰é¡¹å¯ä»¥é™åˆ¶findå‘½ä»¤éå†çš„ç›®å½•æ·±åº¦,å¯ä»¥é¿å…å‡ºç°æ­»å¾ªç¯å¼çš„æŸ¥æ‰¾ï¼Œ-mindepthé€‰é¡¹è®¾ç½®çš„æ˜¯findå¼€å§‹è¿›è¡ŒæŸ¥æ‰¾çš„æœ€å°ç›®å½•æ·±åº¦ï¼›</li>
<li>-typeé€‰é¡¹å¯¹æ–‡ä»¶æœç´¢è¿›è¡Œè¿‡æ»¤ï¼›</li>
<li><strong>æ ¹æ®æ–‡ä»¶çš„æ—¶é—´æˆ³è¿›è¡Œæœç´¢:</strong><ol>
<li>è®¿é—®æ—¶é—´ï¼ˆ-atimeï¼‰ï¼šç”¨æˆ·æœ€è¿‘ä¸€æ¬¡è®¿é—®æ–‡ä»¶çš„æ—¶é—´;</li>
<li>ä¿®æ”¹æ—¶é—´ï¼ˆ-mtimeï¼‰ï¼šæ–‡ä»¶å†…å®¹æœ€åä¸€æ¬¡è¢«ä¿®æ”¹çš„æ—¶é—´;</li>
<li>å˜åŒ–æ—¶é—´ï¼ˆ-ctimeï¼‰ï¼šæ–‡ä»¶å…ƒæ•°æ®ï¼ˆä¾‹å¦‚æƒé™æˆ–æ‰€æœ‰æƒï¼‰æœ€åä¸€æ¬¡æ”¹å˜çš„æ—¶é—´;</li>
<li>-atimeã€-mtimeå’Œ-ctimeå¯ä½œä¸ºfindçš„æ—¶é—´é€‰é¡¹,å¯ä»¥ç”¨æ•´æ•°å€¼æ¥æŒ‡å®šå¤©æ•°,è¿™äº›æ•°å­—å‰é¢å¯ä»¥åŠ ä¸Š-æˆ–+,-è¡¨ç¤ºå°äºï¼Œ+è¡¨ç¤ºå¤§äº;</li>
<li>-aminï¼ˆè®¿é—®æ—¶é—´ï¼‰ï¼›</li>
<li>-mminï¼ˆä¿®æ”¹æ—¶é—´ï¼‰ï¼›</li>
<li>-cminï¼ˆå˜åŒ–æ—¶é—´ï¼‰;</li>
</ol>
</li>
<li>â€“neweré€‰é¡¹å¯ä»¥æŒ‡å®šä¸€ä¸ªç”¨äºæ¯”è¾ƒä¿®æ”¹æ—¶é—´çš„å‚è€ƒæ–‡ä»¶ï¼Œç„¶åæ‰¾å‡ºæ¯”å‚è€ƒæ–‡ä»¶æ›´æ–°çš„æ‰€æœ‰æ–‡ä»¶;</li>
<li><strong>åŸºäºæ–‡ä»¶å¤§å°çš„æœç´¢:</strong><ol>
<li>bï¼šå—ï¼ˆ512å­—èŠ‚ï¼‰;</li>
<li>cï¼šå­—èŠ‚;</li>
<li>wï¼šå­—ï¼ˆ2å­—èŠ‚ï¼‰;</li>
<li>kï¼šåƒå­—èŠ‚ï¼ˆ1024å­—èŠ‚ï¼‰;</li>
<li>Mï¼šå…†å­—èŠ‚ï¼ˆ1024Kå­—èŠ‚ï¼‰;</li>
<li>Gï¼šå‰å­—èŠ‚ï¼ˆ1024Må­—èŠ‚ï¼‰;</li>
</ol>
</li>
</ol>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> å¤§äº2KBçš„æ–‡ä»¶</span></span><br><span class="line">find . -type f -size +2k</span><br><span class="line"><span class="meta">#</span><span class="bash"> å°äº2KBçš„æ–‡ä»¶</span></span><br><span class="line">find . -type f -size -2k</span><br><span class="line"><span class="meta">#</span><span class="bash"> å¤§å°ç­‰äº2KBçš„æ–‡ä»¶</span></span><br><span class="line">find . -type f -size 2k</span><br></pre></td></tr></table></figure>

<ol start="14">
<li><p><strong>åŸºäºæ–‡ä»¶æƒé™å’Œæ‰€æœ‰æƒçš„åŒ¹é…:</strong>-permé€‰é¡¹æŒ‡æ˜findåº”è¯¥åªåŒ¹é…å…·æœ‰ç‰¹å®šæƒé™å€¼çš„æ–‡ä»¶;</p>
</li>
<li><p>-user USERå°±èƒ½å¤Ÿæ‰¾å‡ºç”±æŸä¸ªç‰¹å®šç”¨æˆ·æ‰€æ‹¥æœ‰çš„æ–‡ä»¶;</p>
</li>
<li><p><strong><em>æ‰§è¡Œæ“ä½œï¼š</em></strong></p>
<ol>
<li>-deleteé€‰é¡¹å¯ä»¥åˆ é™¤æ‰€åŒ¹é…åˆ°çš„æ–‡ä»¶ï¼›</li>
<li>-execé€‰é¡¹ï¼Œfindå‘½ä»¤å¯ä»¥ç»“åˆå…¶ä»–å‘½ä»¤ä½¿ç”¨ï¼›</li>
<li>findå‘½ä»¤ä½¿ç”¨ä¸€å¯¹èŠ±æ‹¬å·{}ä»£è¡¨æ–‡ä»¶å,å¯¹äºæ¯ä¸€ä¸ªåŒ¹é…çš„æ–‡ä»¶ä¼šå°†{}æ›¿æ¢æˆç›¸åº”çš„æ–‡ä»¶å,å¹¶è¿›è¡Œç›¸åº”çš„æ“ä½œï¼›</li>
<li>æ³¨æ„è¯¥å‘½ä»¤ç»“å°¾çš„;ï¼Œå¿…é¡»å¯¹åˆ†å·è¿›è¡Œè½¬ä¹‰ï¼Œå¦åˆ™shellä¼šå°†å…¶è§†ä¸ºfindå‘½ä»¤çš„ç»“æŸï¼›</li>
</ol>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> æŸ¥æ‰¾æ–‡ä»¶å¤§å°ä¸º2kçš„æ‰€æœ‰æ–‡ä»¶ï¼Œç„¶åå¯¹æ‰€æœ‰æ‰¾åˆ°ç¬¦åˆæ¡ä»¶çš„æ–‡ä»¶è¿›è¡Œcatè¯»å–ï¼›</span></span><br><span class="line">find . -type f -size 2k -exec cat &#123;&#125; \;</span><br><span class="line"><span class="meta">#</span><span class="bash"> å¯ä»¥å°†10å¤©å‰çš„ .txtæ–‡ä»¶å¤åˆ¶åˆ°OLDç›®å½•ä¸­</span></span><br><span class="line">find . -type f -mtime +10 -name "*.txt" -exec cp &#123;&#125; OLD \;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong><em>findè·³è¿‡ç‰¹å®šçš„ç›®å½•:</em></strong></p>
<ol>
<li>åœ¨findçš„æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œè·³è¿‡æŸäº›å­ç›®å½•èƒ½å¤Ÿæå‡æ€§èƒ½;</li>
<li>-pruneé€‰é¡¹æ’é™¤æŸäº›ç¬¦åˆæ¡ä»¶çš„æ–‡ä»¶;</li>
<li>æ ·ä¾‹ï¼š</li>
</ol>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> -name <span class="string">".git"</span> â€“pruneæ˜¯å‘½ä»¤ä¸­è´Ÿè´£è¿›è¡Œä¿®å‰ªçš„éƒ¨åˆ†ï¼Œå®ƒæŒ‡æ˜äº†.gitç›®å½•åº”è¯¥è¢«æ’é™¤åœ¨å¤–</span></span><br><span class="line">find . -name '.git' -prune -o -type f -print</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h2 id="å‘½ä»¤xargs"><a href="#å‘½ä»¤xargs" class="headerlink" title="å‘½ä»¤xargs"></a>å‘½ä»¤xargs</h2><ol>
<li>xargså‘½ä»¤ä»stdinå¤„è¯»å–ä¸€ç³»åˆ—å‚æ•°ï¼Œç„¶åä½¿ç”¨è¿™äº›å‚æ•°æ¥æ‰§è¡ŒæŒ‡å®šå‘½ä»¤ï¼›</li>
<li>èƒ½å°†å•è¡Œæˆ–å¤šè¡Œè¾“å…¥æ–‡æœ¬è½¬æ¢æˆå…¶ä»–æ ¼å¼ï¼Œä¾‹å¦‚å•è¡Œå˜å¤šè¡Œæˆ–æ˜¯å¤šè¡Œå˜å•è¡Œï¼›</li>
<li>xargså‘½ä»¤åº”è¯¥ç´§è·Ÿåœ¨ç®¡é“æ“ä½œç¬¦ä¹‹åï¼›</li>
<li>zargså‘½ä»¤é‡æ–°æ ¼å¼åŒ–stdinæ¥æ”¶åˆ°çš„æ•°æ®ï¼Œå†å°†å…¶ä½œä¸ºå‚æ•°æä¾›ç»™æŒ‡å®šå‘½ä»¤ï¼Œxargsé»˜è®¤ä¼šæ‰§è¡Œechoå‘½ä»¤,ç”¨æ¥å°†å¤šè¡Œè¾“å…¥è½¬æ¢æˆå•è¡Œè¾“å‡º;</li>
<li>xargsçš„-né€‰é¡¹å¯ä»¥é™åˆ¶æ¯æ¬¡è°ƒç”¨å‘½ä»¤æ—¶ç”¨åˆ°çš„å‚æ•°ä¸ªæ•°;</li>
<li>-dé€‰é¡¹å¯ä»¥ä¸ºè¾“å…¥æ•°æ®æŒ‡å®šè‡ªå®šä¹‰çš„åˆ†éš”ç¬¦;</li>
<li><strong>xargså‘½ä»¤å¯ä»¥åŒfindå‘½ä»¤å¾ˆå¥½åœ°ç»“åˆåœ¨ä¸€èµ·,findçš„è¾“å‡ºå¯ä»¥é€šè¿‡ç®¡é“ä¼ ç»™xargsï¼Œç”±åè€…æ‰§è¡Œ-execé€‰é¡¹æ‰€æ— æ³•å¤„ç†çš„å¤æ‚æ“ä½œ;</strong></li>
<li>-Ié€‰é¡¹ç”¨äºæŒ‡å®šæ›¿æ¢å­—ç¬¦ä¸²ï¼Œè¿™ä¸ªå­—ç¬¦ä¸²ä¼šåœ¨xargsè§£æè¾“å…¥æ—¶è¢«å‚æ•°æ›¿æ¢æ‰ï¼Œ{}ä¼šåœ¨æ¯æ¬¡æ‰§è¡Œä¸­è¢«æ›¿æ¢ä¸ºç›¸åº”çš„å‚æ•°ï¼›</li>
</ol>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> å°†ç¬¦åˆæ¡ä»¶çš„æ–‡ä»¶ä¿®æ”¹åç¼€åŠ ä¸Š.bak</span></span><br><span class="line">ls test |xargs -I &#123;&#125; mv &#123;&#125; &#123;&#125;.bak</span><br></pre></td></tr></table></figure>

<ol start="9">
<li>éœ€è¦æ³¨æ„findå‘½ä»¤å’Œxargså‘½ä»¤ä¹‹é—´çš„è”åˆä½¿ç”¨çš„å±é™©æ€§ï¼›</li>
<li><strong>xargs -0è¡¨ç¤ºxargsç”¨NULLæ¥ä½œä¸ºåˆ†éš”ç¬¦;</strong></li>
<li>ç»Ÿè®¡æºä»£ç ç›®å½•ä¸­æ‰€æœ‰ç¨‹åºæ–‡ä»¶çš„è¡Œæ•°:</li>
</ol>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">find . -type f -print0 |xargs -0 wc -l</span><br></pre></td></tr></table></figure>

<h2 id="å‘½ä»¤tr"><a href="#å‘½ä»¤tr" class="headerlink" title="å‘½ä»¤tr"></a>å‘½ä»¤tr</h2><ol>
<li>å¯¹æ¥è‡ªæ ‡å‡†è¾“å…¥çš„å†…å®¹è¿›è¡Œå­—ç¬¦æ›¿æ¢ã€å­—ç¬¦åˆ é™¤ä»¥åŠé‡å¤å­—ç¬¦å‹ç¼©ï¼›</li>
<li>å°†è¾“å…¥ä¸­çš„å­—ç¬¦ç”±å¤§å†™è½¬æ¢æˆå°å†™ï¼š</li>
</ol>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> <span class="string">'A-Z'</span>å’Œ<span class="string">'a-z'</span>éƒ½æ˜¯å­—ç¬¦ç»„</span></span><br><span class="line">echo "HELLO WHO IS THIS" | tr 'A-Z' 'a-z'</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>trä¸­åˆ©ç”¨é›†åˆçš„æ¦‚å¿µï¼Œå¯ä»¥è½»æ¾åœ°å°†å­—ç¬¦ä»ä¸€ä¸ªé›†åˆæ˜ å°„åˆ°å¦ä¸€ä¸ªé›†åˆä¸­;</li>
<li>trå‘½ä»¤å¯ä»¥ç”¨æ¥åŠ å¯†,ROT13æ˜¯ä¸€ä¸ªè‘—åçš„åŠ å¯†ç®—æ³•,åœ¨ROT13ç®—æ³•ä¸­ï¼Œå­—ç¬¦ä¼šè¢«ç§»åŠ¨13 ä¸ªä½ç½®ï¼Œå› æ­¤æ–‡æœ¬åŠ å¯†å’Œè§£å¯†éƒ½ä½¿ç”¨åŒä¸€ä¸ªå‡½æ•°;</li>
</ol>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">echo wanderros | tr 'a-zA-Z' 'n-za-mN-ZA-M'</span><br><span class="line"><span class="meta">#</span><span class="bash"> è¾“å‡ºåŠ å¯†ä¸²ï¼šjnaqreebf</span></span><br><span class="line">echo jnaqreebf | tr 'a-zA-Z' 'n-za-mN-ZA-M'</span><br><span class="line"><span class="meta">#</span><span class="bash"> è¾“å‡ºwanderros</span></span><br></pre></td></tr></table></figure>

<ol start="5">
<li>trè¿˜å¯ä»¥å°†åˆ¶è¡¨ç¬¦è½¬æ¢æˆå•ä¸ªç©ºæ ¼ï¼›</li>
<li>-dé€‰é¡¹å¯ä»¥é€šè¿‡æŒ‡å®šéœ€è¦è¢«åˆ é™¤çš„å­—ç¬¦é›†åˆå°†ç‰¹å®šå­—ç¬¦æ¸…é™¤æ‰ï¼›</li>
<li>-cé€‰é¡¹æ¥ä½¿ç”¨é›†åˆçš„è¡¥é›†,ä¸€èˆ¬é…åˆ-dé€‰é¡¹ä½¿ç”¨ï¼›</li>
<li>trå‘½ä»¤èƒ½å¤Ÿå®Œæˆå¾ˆå¤šæ–‡æœ¬å¤„ç†ä»»åŠ¡ï¼Œå®ƒå¯ä»¥åˆ é™¤å­—ç¬¦ä¸²ä¸­é‡å¤å‡ºç°çš„å­—ç¬¦ï¼Œæ¯”å¦‚ç©ºæ ¼ç­‰ï¼Œä½¿ç”¨-sé€‰é¡¹ï¼›</li>
<li>trå¯ä»¥å°†ä¸åŒçš„å­—ç¬¦ç±»ä½œä¸ºé›†åˆä½¿ç”¨(ä½¿ç”¨æ ¼å¼tr [:class:] [:class:]):<ol>
<li>alnumï¼šå­—æ¯å’Œæ•°å­—;</li>
<li>alphaï¼šå­—æ¯;</li>
<li>cntrlï¼šæ§åˆ¶ï¼ˆéæ‰“å°ï¼‰å­—ç¬¦;</li>
<li>digitï¼šæ•°å­—;</li>
<li>graphï¼šå›¾å½¢å­—ç¬¦;</li>
<li>lowerï¼šå°å†™å­—æ¯;</li>
<li>printï¼šå¯æ‰“å°å­—ç¬¦;</li>
<li>punctï¼šæ ‡ç‚¹ç¬¦å·;</li>
<li>spaceï¼šç©ºç™½å­—ç¬¦;</li>
<li>upperï¼šå¤§å†™å­—æ¯;</li>
<li>xdigitï¼šåå…­è¿›åˆ¶å­—ç¬¦</li>
</ol>
</li>
</ol>
<h2 id="æ ¡éªŒå‘½ä»¤"><a href="#æ ¡éªŒå‘½ä»¤" class="headerlink" title="æ ¡éªŒå‘½ä»¤"></a>æ ¡éªŒå‘½ä»¤</h2><ol>
<li>æ ¡éªŒå’Œï¼ˆchecksumï¼‰ç¨‹åºç”¨æ¥ä»æ–‡ä»¶ä¸­ç”Ÿæˆç›¸å¯¹è¾ƒå°çš„å”¯ä¸€å¯†é’¥ï¼Œç»å¤§å¤šæ•°è½¯ä»¶å‘è¡Œç‰ˆéƒ½åŒ…å«äº†ä¸€ä¸ªæ ¡éªŒå’Œæ–‡ä»¶ï¼›</li>
<li>å¼ºå¥æ€§æœ€å¥½ä¸”ä½¿ç”¨æœ€ä¸ºå¹¿æ³›çš„æ ¡éªŒå’Œç®—æ³•æ˜¯MD5å’ŒSHA-1ï¼›</li>
<li>md5å’Œshasumå‘½ä»¤å¯ä»¥åˆ†åˆ«ç”Ÿæˆæ–‡ä»¶çš„md5å€¼å’Œshaå€¼ï¼›</li>
<li>æ ¡éªŒå’Œæœ‰åŠ©äºæ ¸å®ä¸‹è½½æ–‡ä»¶çš„å®Œæ•´æ€§ï¼›</li>
<li>md5deepæˆ–sha1deepå‘½ä»¤å¯ä»¥éå†ç›®å½•æ ‘ï¼Œè®¡ç®—å…¶ä¸­æ‰€æœ‰æ–‡ä»¶çš„æ ¡éªŒå’Œ,-ré€‰é¡¹å…è®¸md5deepé€’å½’éå†å­ç›®å½•,-lé€‰é¡¹å…è®¸æ˜¾ç¤ºç›¸å¯¹è·¯å¾„;</li>
</ol>
<h2 id="è¡Œæ’åºå‘½ä»¤"><a href="#è¡Œæ’åºå‘½ä»¤" class="headerlink" title="è¡Œæ’åºå‘½ä»¤"></a>è¡Œæ’åºå‘½ä»¤</h2><ol>
<li>sortå‘½ä»¤èƒ½å¤Ÿå¯¹æ–‡æœ¬æ–‡ä»¶å’Œstdinè¿›è¡Œæ’åº;</li>
<li>uniqç»å¸¸ä¸sortä¸€åŒä½¿ç”¨ï¼Œæå–ä¸é‡å¤ï¼ˆæˆ–é‡å¤ï¼‰çš„è¡Œ;</li>
<li>sortå‘½ä»¤åŒ…å«å¤§é‡çš„é€‰é¡¹ï¼Œèƒ½å¤Ÿå¯¹æ–‡ä»¶æ•°æ®è¿›è¡Œå„ç§æ’åº;</li>
<li><strong>ä½¿ç”¨uniqå‘½ä»¤è¦æ±‚è¾“å…¥æ•°æ®å¿…é¡»ç»è¿‡æ’åº;</strong></li>
<li>å¦‚æœæ–‡ä»¶å·²ç»æ’åºï¼Œsortä¼šè¿”å›ä¸º0çš„é€€å‡ºç ($?),å¦åˆ™è¿”å›é0ï¼›</li>
<li>sortæ¼”ç¤ºï¼š</li>
</ol>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> æ’åºè¾“å…¥ç„¶åè¾“å‡ºåˆ°æ–‡ä»¶ï¼š</span></span><br><span class="line">ls |sort &gt;sort.text</span><br><span class="line">ls |sort -o sort.text</span><br><span class="line"><span class="meta">#</span><span class="bash"> æŒ‰ç…§æ•°å­—æ’åºï¼š</span></span><br><span class="line">echo "1 \n 2\n 3\n 6\n 4"|sort -n</span><br><span class="line"><span class="meta">#</span><span class="bash"> æŒ‰ç…§é€†åºæ’åº:</span></span><br><span class="line">echo "1 \n 2\n 3\n 6\n 4"|sort -r</span><br><span class="line"><span class="meta">#</span><span class="bash"> åˆå¹¶ä¸¤ä¸ªå·²æ’åºè¿‡çš„æ–‡ä»¶ï¼š</span></span><br><span class="line">sort -m sorted1 sorted2</span><br><span class="line"><span class="meta">#</span><span class="bash"> æ‰¾å‡ºå·²æ’åºæ–‡ä»¶ä¸­ä¸é‡å¤çš„è¡Œï¼š</span></span><br><span class="line">echo "1\n2\n3\n1\n2\n"|sort|uniq</span><br><span class="line"><span class="meta">#</span><span class="bash"> æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å·²ç»æ’åºè¿‡ï¼š</span></span><br><span class="line">sort -C filename</span><br></pre></td></tr></table></figure>

<ol start="7">
<li><strong>sortçš„-kæŒ‡å®šäº†æ’åºæ‰€ä¾æ®çš„å­—ç¬¦ï¼Œå¦‚æœæ˜¯å•ä¸ªæ•°å­—ï¼Œåˆ™æŒ‡çš„æ˜¯åˆ—å·ï¼Œåˆ—ä¸åˆ—ä¹‹é—´ç”±ç©ºæ ¼åˆ†éš”ï¼Œä»1å¼€å§‹ï¼›</strong></li>
<li>å¯ä»¥ä½¿ç”¨-ké€‰é¡¹æŒ‡å®šé”®å€¼å®šä¹‰å­—ç¬¦ä½ç½®(å¼€å§‹ä½ç½®,ç»“æŸä½ç½®)ï¼Œå¦‚ä¸‹ï¼š</li>
</ol>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">cat totalcode.txt|tr -d ' '|sort -nk 1,3</span><br></pre></td></tr></table></figure>

<ol start="9">
<li><strong>-zé€‰é¡¹ä½¿sortçš„è¾“å‡ºä¸ä»¥\0ä½œä¸ºç»ˆæ­¢ç¬¦çš„xargså‘½ä»¤ç›¸å…¼å®¹ï¼›</strong></li>
<li>-bé€‰é¡¹ç”¨äºå¿½ç•¥æ–‡ä»¶ä¸­çš„å‰å¯¼ç©ºç™½è¡Œï¼Œé€‰é¡¹-dç”¨äºæŒ‡æ˜ä»¥å­—å…¸åºè¿›è¡Œæ’åºï¼›</li>
<li>uniqå‘½ä»¤å¯ä»¥ä»ç»™å®šè¾“å…¥ä¸­æ‰¾å‡ºå”¯ä¸€çš„è¡Œï¼ŒæŠ¥å‘Šæˆ–åˆ é™¤é‚£äº›é‡å¤çš„è¡Œï¼›</li>
<li><strong>uniqå‘½ä»¤çš„-c é€‰é¡¹å¯ä»¥ç»Ÿè®¡å„è¡Œåœ¨æ–‡ä»¶ä¸­å‡ºç°çš„æ¬¡æ•°ï¼›</strong></li>
<li><strong>uniqå‘½ä»¤çš„-sæŒ‡å®šè·³è¿‡å‰Nä¸ªå­—ç¬¦ï¼›</strong></li>
<li>-zé€‰é¡¹å¯ä»¥ç”Ÿæˆç”±0å€¼å­—èŠ‚ç»ˆæ­¢çš„è¾“å‡º;</li>
</ol>
<h2 id="ä¸´æ—¶æ–‡ä»¶å‘½å"><a href="#ä¸´æ—¶æ–‡ä»¶å‘½å" class="headerlink" title="ä¸´æ—¶æ–‡ä»¶å‘½å"></a>ä¸´æ—¶æ–‡ä»¶å‘½å</h2><ol>
<li>shellè„šæœ¬ç»å¸¸éœ€è¦å­˜å‚¨ä¸´æ—¶æ•°æ®ï¼Œæœ€é€‚åˆå­˜å‚¨ä¸´æ—¶æ•°æ®çš„ä½ç½®æ˜¯ /tmpï¼›</li>
<li>mktempå‘½ä»¤å¯ä»¥ä¸ºä¸´æ—¶æ–‡ä»¶æˆ–ç›®å½•åˆ›å»ºå”¯ä¸€çš„åå­—ï¼›</li>
<li>-dé€‰é¡¹å¯ä»¥åˆ›å»ºä¸€ä¸ªä¸´æ—¶ç›®å½•ï¼›</li>
<li>-ué€‰é¡¹ä»…ä»…ç”Ÿæˆåå­—ï¼Œä¸äº§ç”Ÿæ–‡ä»¶æˆ–è€…ç›®å½•ï¼›</li>
<li>åŸºäºæ¨¡æ¿åˆ›å»ºä¸´æ—¶æ–‡ä»¶å,<strong>mktempæ­£å¸¸å·¥ä½œçš„å‰ææ˜¯ä¿è¯æ¨¡æ¿ä¸­è‡³å°‘è¦æœ‰3ä¸ªX</strong>,æ¯”å¦‚ï¼š</li>
</ol>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">mktemp test.XXX</span><br></pre></td></tr></table></figure>

<h2 id="åˆ†å‰²æ–‡ä»¶å’Œæ•°æ®"><a href="#åˆ†å‰²æ–‡ä»¶å’Œæ•°æ®" class="headerlink" title="åˆ†å‰²æ–‡ä»¶å’Œæ•°æ®"></a>åˆ†å‰²æ–‡ä»¶å’Œæ•°æ®</h2><ol>
<li>splitå‘½ä»¤å¯ä»¥ç”¨æ¥åˆ†å‰²æ–‡ä»¶ï¼›</li>
<li>-bé€‰é¡¹å¯ä»¥æŒ‡å®šåˆ†å‰²å¤§å°ï¼Œå¯ä»¥æŒ‡å®škï¼ˆKBï¼‰ã€Mï¼ˆMBï¼‰ã€Gï¼ˆGBï¼‰ï¼›</li>
<li>ä¸ºåˆ†å‰²åçš„æ–‡ä»¶æŒ‡å®šæ–‡ä»¶åå‰ç¼€:</li>
</ol>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> ä½¿ç”¨split_fileä½œä¸ºæ–‡ä»¶åå‰ç¼€</span></span><br><span class="line">split -b 100  -a 3 test.bak split_file</span><br></pre></td></tr></table></figure>

<ol start="4">
<li>csplitå®ç”¨å·¥å…·èƒ½å¤ŸåŸºäºä¸Šä¸‹æ–‡æ¥åˆ†éš”æ–‡ä»¶,ä¾æ®çš„æ˜¯è¡Œè®¡æ•°æˆ–æ­£åˆ™è¡¨è¾¾å¼,å¯¹äºæ—¥å¿—æ–‡ä»¶åˆ†å‰²å°¤ä¸ºæœ‰ç”¨;</li>
</ol>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">csplit server.log /SERVER/ -n 2 -s &#123;*&#125; -f server -b "%02d.log"</span><br><span class="line"><span class="meta">#</span><span class="bash"> /SERVER/ ç”¨æ¥åŒ¹é…ç‰¹å®šè¡Œï¼Œåˆ†å‰²è¿‡ç¨‹å³ä»æ­¤å¤„å¼€å§‹</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> /[REGEX]/ ç”¨äºæè¿°æ–‡æœ¬æ¨¡å¼ã€‚å®ƒä»å½“å‰è¡Œï¼ˆç¬¬ä¸€è¡Œï¼‰ä¸€ç›´å¤åˆ¶åˆ°ï¼ˆä½†ä¸åŒ…æ‹¬ï¼‰åŒ…å«SERVERçš„åŒ¹é…è¡Œã€‚</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> &#123;*&#125; è¡¨ç¤ºæ ¹æ®åŒ¹é…é‡å¤æ‰§è¡Œåˆ†å‰²æ“ä½œï¼Œç›´åˆ°æ–‡ä»¶æœ«å°¾ä¸ºæ­¢ã€‚å¯ä»¥ç”¨&#123;æ•´æ•°&#125;çš„å½¢å¼æ¥æŒ‡å®šåˆ†å‰²æ‰§è¡Œçš„æ¬¡æ•°ã€‚</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> -s ä½¿å‘½ä»¤è¿›å…¥é™é»˜æ¨¡å¼ï¼Œä¸æ‰“å°å…¶ä»–ä¿¡æ¯ã€‚</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> -n æŒ‡å®šåˆ†å‰²åçš„æ–‡ä»¶ååç¼€çš„æ•°å­—ä¸ªæ•°ï¼Œä¾‹å¦‚01ã€02ã€03ç­‰ã€‚</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> -f æŒ‡å®šåˆ†å‰²åçš„æ–‡ä»¶åå‰ç¼€ï¼ˆåœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œserverå°±æ˜¯å‰ç¼€ï¼‰ã€‚</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> -b æŒ‡å®šåç¼€æ ¼å¼ã€‚ä¾‹å¦‚%02d.logï¼Œç±»ä¼¼äºCè¯­è¨€ä¸­<span class="built_in">printf</span>çš„å‚æ•°æ ¼å¼,æ–‡ä»¶å = å‰ç¼€ + åç¼€ï¼Œä¹Ÿå°±æ˜¯server + %02d.log</span></span><br></pre></td></tr></table></figure>

<h2 id="åˆ‡å‰²æ–‡ä»¶å"><a href="#åˆ‡å‰²æ–‡ä»¶å" class="headerlink" title="åˆ‡å‰²æ–‡ä»¶å"></a>åˆ‡å‰²æ–‡ä»¶å</h2><ol>
<li>å€ŸåŠ© % æ“ä½œç¬¦å¯ä»¥ä»name.extensionè¿™ç§æ ¼å¼ä¸­æå–nameéƒ¨åˆ†ï¼ˆæ–‡ä»¶åï¼‰ï¼Œä¾‹å¦‚ï¼š</li>
</ol>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">file_jpg="sample.jpg" </span><br><span class="line">name=$&#123;file_jpg%.*&#125; </span><br><span class="line">echo File name is: $name</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>#æ“ä½œç¬¦å¯ä»¥æå–å‡ºæ‰©å±•åï¼Œä¾‹å¦‚ï¼š</li>
</ol>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">file_jpg="sample.jpg" </span><br><span class="line">extension=$&#123;file_jpg#*.&#125;</span><br><span class="line">echo Extension name is: $extension</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>${VAR%.*} çš„å«ä¹‰ï¼š<ol>
<li>ä» $VARä¸­åˆ é™¤ä½äº%å³ä¾§çš„é€šé…ç¬¦ï¼ˆåœ¨ä¸Šä¾‹ä¸­æ˜¯.*ï¼‰æ‰€åŒ¹é…çš„å­—ç¬¦ä¸²ï¼Œé€šé…ç¬¦ä»å³å‘å·¦è¿›è¡ŒåŒ¹é…ï¼›</li>
<li>ç»™VARèµ‹å€¼ï¼Œå³VAR=sample.jpgã€‚é€šé…ç¬¦ä»å³å‘å·¦åŒ¹é…åˆ°çš„å†…å®¹æ˜¯.jpgï¼Œå› æ­¤ä»$VARä¸­åˆ é™¤åŒ¹é…ç»“æœï¼Œå¾—åˆ°è¾“å‡ºsampleï¼›</li>
<li>%å±äºéè´ªå©ªï¼ˆnon-greedyï¼‰æ“ä½œï¼Œå³å‘å·¦æ‰¾å‡ºåŒ¹é…é€šé…ç¬¦çš„æœ€çŸ­ç»“æœï¼›</li>
<li>%%ï¼Œå®ƒä¸%ç›¸ä¼¼ï¼Œä½†è¡Œä¸ºæ¨¡å¼å´æ˜¯è´ªå©ªçš„ï¼Œè¿™æ„å‘³ç€å®ƒä¼šåŒ¹é…ç¬¦åˆé€šé…ç¬¦çš„æœ€é•¿ç»“æœã€‚</li>
</ol>
</li>
<li>#æ“ä½œç¬¦å¯ä»¥ä»æ–‡ä»¶åä¸­æå–æ‰©å±•åï¼Œè¿™ä¸ªæ“ä½œç¬¦ä¸%ç±»ä¼¼ï¼Œä¸è¿‡æ±‚å€¼æ–¹å‘æ˜¯ä»å·¦å‘å³ï¼›</li>
<li>##ä»å·¦å‘å³è¿›è¡Œè´ªå©ªåŒ¹é…ï¼Œå¹¶ä»æŒ‡å®šå˜é‡ä¸­åˆ é™¤åŒ¹é…ç»“æœï¼›</li>
</ol>
<h2 id="æ–‡ä»¶é‡å‘½åå’Œç§»åŠ¨"><a href="#æ–‡ä»¶é‡å‘½åå’Œç§»åŠ¨" class="headerlink" title="æ–‡ä»¶é‡å‘½åå’Œç§»åŠ¨"></a>æ–‡ä»¶é‡å‘½åå’Œç§»åŠ¨</h2><ol>
<li>ç³»ç»Ÿç®¡ç†å‘˜ç»å¸¸éœ€è¦å°†æœ‰ç›¸åŒå‰ç¼€æˆ–ç›¸åŒç±»å‹çš„æ–‡ä»¶ç§»åŠ¨åˆ°æ–°çš„ç›®å½•ä¸­ï¼›</li>
<li>renameå‘½ä»¤åˆ©ç”¨Perlæ­£åˆ™è¡¨è¾¾å¼ä¿®æ”¹æ–‡ä»¶åï¼Œç»„åˆfindã€renameå’Œmvå‘½ä»¤ï¼Œæˆ‘ä»¬èƒ½åšåˆ°çš„å°±å¯ä»¥å¾ˆå¤šäº†ï¼›</li>
<li>ç»¼åˆæ ·ä¾‹ï¼š</li>
</ol>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash </span></span><br><span class="line"><span class="meta">#</span><span class="bash"> æ–‡ä»¶å: rename.sh</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> ç”¨é€”: é‡å‘½å .jpg å’Œ .png æ–‡ä»¶</span></span><br><span class="line"></span><br><span class="line">count=1; for img in `find . -iname '*.png' -o -iname '*.jpg' -type f -maxdepth 1`</span><br><span class="line">do </span><br><span class="line">	new=image-$count.$&#123;img##*.&#125;</span><br><span class="line">	echo "Renaming $img to $new" </span><br><span class="line">	mv "$img" "$new" </span><br><span class="line">	let count++</span><br><span class="line">done</span><br></pre></td></tr></table></figure>

<ol start="4">
<li>å°† *.JPGæ›´åä¸º *.jpgï¼š rename *.JPG *.jpg</li>
<li>å°†æ–‡ä»¶åä¸­çš„ç©ºæ ¼æ›¿æ¢æˆå­—ç¬¦ â€œ_â€œï¼šrename â€˜s/ /_/gâ€™ *</li>
<li>è½¬æ¢æ–‡ä»¶åçš„å¤§å°å†™: rename â€˜y/A-Z/a-z/â€˜ *</li>
<li>å°†æ‰€æœ‰çš„.mp3æ–‡ä»¶ç§»å…¥ç»™å®šçš„ç›®å½•ï¼š</li>
</ol>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">find path -type f -name "*.mp3" -exec mv &#123;&#125; target_dir \;</span><br></pre></td></tr></table></figure>

<ol start="8">
<li>ä»¥é€’å½’çš„æ–¹å¼å°†æ‰€æœ‰æ–‡ä»¶åä¸­çš„ç©ºæ ¼æ›¿æ¢ä¸ºå­—ç¬¦â€_â€ï¼š</li>
</ol>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">find path -type f -exec rename 's/ /_/g' &#123;&#125; \;</span><br></pre></td></tr></table></figure>

<h2 id="äº¤äº’å¼è¾“å…¥"><a href="#äº¤äº’å¼è¾“å…¥" class="headerlink" title="äº¤äº’å¼è¾“å…¥"></a>äº¤äº’å¼è¾“å…¥</h2><ol>
<li>echoå‘½ä»¤å’Œé‡å®šå‘å¯ä»¥å®ç°äº¤äº’å¼è¾“å…¥çš„è‡ªåŠ¨åŒ–ï¼›</li>
<li><strong>è¦å®æ–½æ”»å‡»ï¼Œæˆ‘ä»¬éœ€è¦å°†åå…­è¿›åˆ¶å½¢å¼çš„shellcodeï¼ˆä¾‹å¦‚\xeb\x1a\x5e\x31\xc0\x88\x46ï¼‰è¿›è¡Œé‡å®šå‘ï¼›</strong></li>
<li><strong>expectç¨‹åºèƒ½å¤Ÿæ‰§è¡Œå¤æ‚çš„äº¤äº’æ“ä½œå¹¶é€‚åº”ç›®æ ‡åº”ç”¨çš„å˜åŒ–</strong>,è¢«ç”¨äºæ§åˆ¶ç¡¬ä»¶æµ‹è¯•ã€éªŒè¯è½¯ä»¶æ„å»ºã€æŸ¥è¯¢è·¯ç”±å™¨ç»Ÿè®¡ä¿¡æ¯ç­‰ï¼›<ol>
<li>spawnï¼š è¿è¡Œæ–°çš„ç›®æ ‡åº”ç”¨ï¼›</li>
<li>expectï¼š å…³æ³¨ç›®æ ‡åº”ç”¨å‘é€çš„æ¨¡å¼ï¼›</li>
<li>sendï¼šå‘ç›®æ ‡åº”ç”¨å‘é€å­—ç¬¦ä¸²</li>
</ol>
</li>
<li>spawnå‘½ä»¤çš„å‚æ•°æ˜¯éœ€è¦è‡ªåŠ¨åŒ–è¿è¡Œçš„åº”ç”¨ç¨‹åºåŠå…¶å‚æ•°ï¼Œexpectå‘½ä»¤æ¥å—ä¸€ç»„æ¨¡å¼ä»¥åŠåŒ¹é…æ¨¡å¼æ—¶è¦æ‰§è¡Œçš„æ“ä½œï¼Œsendå‘½ä»¤æ˜¯è¦å‘é€çš„ä¿¡æ¯ã€‚</li>
</ol>
<hr>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>è¿™éƒ¨åˆ†ä¸»è¦ä»‹ç»ä¸€äº›å¸¸è§çš„shellå‘½ä»¤ï¼Œç†Ÿç»ƒä½¿ç”¨è¿™äº›å‘½ä»¤çš„è¯ï¼Œèƒ½å¤Ÿä½¿å¾—æˆ‘ä»¬èƒ½å¤Ÿå†™å‡ºé«˜æ•ˆçš„shellè„šæœ¬å¸®åŠ©æˆ‘ä»¬é«˜æ•ˆå®Œæˆæ—¥å¸¸çš„åŠå…¬ï¼ŒçœŸçš„æ˜¯åˆ«äººä¸€å¤©çš„å·¥ä½œå¯èƒ½å°±æ˜¯ä½ ä¸€ä¸ªå‘½ä»¤çš„äº‹ï¼Œæ‰€æœ‰shellè¿˜æ˜¯å¥½å¥½å­¦ä¹ å§ï¼</p>
]]></content>
      <categories>
        <category>Linux</category>
      </categories>
  </entry>
  <entry>
    <title>Shell Manage Command</title>
    <url>/2020/04/23/Shell-Manage-Command/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>æƒ³è¦ä½¿ç”¨å¥½è‡ªå·±çš„æ“ä½œç³»ç»Ÿï¼Œé‚£ä¹ˆä½œä¸ºè‡ªå·±çš„ç³»ç»Ÿä½¿ç”¨è€…ï¼Œéœ€è¦ç›‘è§†æ•´ä¸ªç³»ç»Ÿï¼Œä¿è¯æ‰€æœ‰ä¸€åˆ‡éƒ½äº•ç„¶æœ‰åºï¼è¿™éƒ¨åˆ†å¼€å§‹å­¦ä¹ å¦‚ä½•ä½¿ç”¨ç»ˆç«¯è¿›è¡Œç³»ç»Ÿçš„ç®¡ç†ä»»åŠ¡ã€‚</p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="åŸºç¡€çŸ¥è¯†"><a href="#åŸºç¡€çŸ¥è¯†" class="headerlink" title="åŸºç¡€çŸ¥è¯†"></a>åŸºç¡€çŸ¥è¯†</h2><ol>
<li>è¿›ç¨‹æ˜¯ç¨‹åºçš„è¿è¡Œå®ä¾‹ï¼ˆrunning instanceï¼‰ï¼Œè¿è¡Œåœ¨è®¡ç®—æœºä¸­çš„å¤šä¸ªè¿›ç¨‹éƒ½è¢«åˆ†é…äº†ä¸€ä¸ªç§°ä¸ºè¿›ç¨‹IDï¼ˆPIDï¼‰çš„å”¯ä¸€æ ‡è¯†æ•°å­—ï¼›</li>
<li>è¿›ç¨‹å±æ€§åŒ…æ‹¬æ‹¥æœ‰è¯¥è¿›ç¨‹çš„ç”¨æˆ·ã€è¿›ç¨‹ä½¿ç”¨çš„å†…å­˜æ•°é‡ã€è¿›ç¨‹å ç”¨çš„CPUæ—¶é—´ç­‰ï¼›</li>
<li>è¿›ç¨‹ç®¡ç†ç›¸å…³çš„é‡è¦å‘½ä»¤æ˜¯topã€pså’Œpgrepï¼›</li>
<li>pså¯ä»¥æŠ¥å‘Šæ´»è·ƒè¿›ç¨‹çš„ç›¸å…³ä¿¡æ¯ï¼šæ‹¥æœ‰è¿›ç¨‹çš„ç”¨æˆ·ã€è¿›ç¨‹çš„èµ·å§‹æ—¶é—´ã€è¿›ç¨‹å¯¹åº”çš„å‘½ä»¤è·¯å¾„ã€PIDã€è¿›ç¨‹æ‰€å±çš„ç»ˆç«¯ï¼ˆTTYï¼‰ã€è¿›ç¨‹ä½¿ç”¨çš„å†…å­˜ã€è¿›ç¨‹å ç”¨çš„CPUç­‰ï¼›</li>
<li>å‘½ä»¤ps -eã€ps -efã€ps -axä»¥åŠps -axféƒ½èƒ½å¤Ÿç”ŸæˆåŒ…å«æ‰€æœ‰è¿›ç¨‹çš„æŠ¥å‘Šï¼Œæä¾›æ¯”psæ›´å¤šçš„ä¿¡æ¯;</li>
<li>pgrepå‘½ä»¤ä¹Ÿå¯ä»¥åˆ—å‡ºå‘½ä»¤çš„è¿›ç¨‹IDåˆ—è¡¨;</li>
<li><strong>uptimeå’Œtopå‘½ä»¤éƒ½å¯ä»¥æ˜¾ç¤ºå¹³å‡è´Ÿè½½,å¹³å‡è´Ÿè½½ç”±3ä¸ªå€¼æ¥æŒ‡å®šï¼Œç¬¬1ä¸ªå€¼æŒ‡æ˜äº†1åˆ†é’Ÿå†…çš„å¹³å‡å€¼ï¼Œç¬¬2ä¸ªå€¼æŒ‡æ˜äº†5åˆ†é’Ÿå†…çš„å¹³å‡å€¼ï¼Œç¬¬3ä¸ªå€¼æŒ‡æ˜äº†15åˆ†é’Ÿå†…çš„å¹³å‡å€¼ï¼›</strong></li>
<li>topå‘½ä»¤ä¼šåˆ—å‡ºCPUå ç”¨æœ€é«˜çš„è¿›ç¨‹åˆ—è¡¨ä»¥åŠåŸºæœ¬çš„ç³»ç»Ÿç»Ÿè®¡ä¿¡æ¯ï¼Œå…¶ä¸­åŒ…æ‹¬æ€»çš„ä»»åŠ¡æ•°ã€CPUæ ¸å¿ƒæ•°ä»¥åŠå†…å­˜å ç”¨æƒ…å†µï¼›</li>
<li>whichå‘½ä»¤ç”¨æ¥æ‰¾å‡ºæŸä¸ªå‘½ä»¤çš„ä½ç½®ï¼›</li>
<li>whereisä¸whichå‘½ä»¤ç±»ä¼¼ï¼Œå®ƒä¸ä»…ä¼šè¿”å›å‘½ä»¤çš„è·¯å¾„ï¼Œè¿˜èƒ½å¤Ÿæ‰“å°å‡ºå…¶å¯¹åº”çš„å‘½ä»¤æ‰‹å†Œä»¥åŠæºä»£ç çš„è·¯å¾„ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰ï¼›</li>
<li>whatisä¼šè¾“å‡ºæŒ‡å®šå‘½ä»¤çš„ä¸€è¡Œç®€çŸ­æè¿°ï¼›</li>
<li>fileå‘½ä»¤å¯ä»¥ç”¨æ¥ç¡®å®šæ–‡ä»¶çš„ç±»å‹ï¼›</li>
<li>åœ¨å‘½ä»¤è¡Œä¸­æ˜¯é€šè¿‡killå‘½ä»¤æ¥å‘å‡ºä¿¡å·ï¼Œtrapå‘½ä»¤å¯ä»¥åœ¨è„šæœ¬ä¸­ç”¨æ¥å¤„ç†æ‰€æ¥æ”¶çš„ä¿¡å·ï¼›</li>
<li>writeå‘½ä»¤å¯ä»¥å‘ä¸€ä¸ªç”¨æˆ·å‘é€æ¶ˆæ¯ï¼Œtalkå‘½ä»¤å¯ä»¥è®©ä¸¤ä¸ªç”¨æˆ·å±•å¼€ä¼šè¯ï¼Œwallå‘½ä»¤å¯ä»¥å‘æ‰€æœ‰ç”¨æˆ·å‘é€æ¶ˆæ¯;</li>
</ol>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> å°†messageå‘é€ç»™æ‰€æœ‰ç”¨æˆ·ä»¥åŠç»ˆç«¯</span></span><br><span class="line">cat message | wall</span><br></pre></td></tr></table></figure>

<h2 id="procæ–‡ä»¶ç³»ç»Ÿ"><a href="#procæ–‡ä»¶ç³»ç»Ÿ" class="headerlink" title="/procæ–‡ä»¶ç³»ç»Ÿ"></a>/procæ–‡ä»¶ç³»ç»Ÿ</h2><ol>
<li>/procæ˜¯ä¸€ç§å­˜åœ¨äºå†…å­˜ä¸­çš„ä¼ªæ–‡ä»¶ç³»ç»Ÿï¼ˆpseudo filesystemï¼‰ï¼Œå®ƒçš„å¼•å…¥æ˜¯ä¸ºäº†å¯ä»¥ä»ç”¨æˆ·ç©ºé—´ä¸­è¯»å–Linuxå†…æ ¸çš„å†…éƒ¨æ•°æ®ç»“æ„ï¼›</li>
<li>/procç›®å½•ä¸­åŒ…å«äº†å¤šä¸ªæ–‡ä»¶å’Œç›®å½•ã€‚å…¶ä¸­å¤§å¤šæ•°æ–‡ä»¶å¯ä»¥ä½¿ç”¨catã€lessæˆ–moreå‘½ä»¤æ¥æŸ¥çœ‹ï¼Œå…¶å†…å®¹éƒ½æ˜¯çº¯æ–‡æœ¬æ ¼å¼ï¼›</li>
<li>ç³»ç»Ÿä¸­æ¯ä¸€ä¸ªè¿è¡Œçš„è¿›ç¨‹åœ¨/procä¸­éƒ½æœ‰ä¸€ä¸ªå¯¹åº”çš„ç›®å½•ï¼Œç›®å½•åå’Œè¿›ç¨‹IDç›¸åŒï¼›</li>
<li>hostnameå’Œunameå¯ä»¥è¾“å‡ºå½“å‰ç³»ç»Ÿçš„ä¸»æœºåï¼›</li>
<li>cronå¤šç”¨äºè°ƒåº¦ç³»ç»Ÿç»´æŠ¤ä»»åŠ¡,æœ‰ä¸“é—¨çš„æ–‡æ¡£è®°å½•å¦‚ä½•ä½¿ç”¨cronè¿›è¡Œä»»åŠ¡è°ƒåº¦ï¼›</li>
<li>screenå·¥å…·å¯ä»¥åœ¨å•ä¸ªç»ˆç«¯ä¼šè¯ä¸­åˆ›å»ºå¤šä¸ªè™šæ‹Ÿå±å¹•,åœ¨ä¸€ä¸ªè™šæ‹Ÿå±å¹•ä¸­å¯åŠ¨çš„ä»»åŠ¡å¯ä»¥åœ¨è¯¥å±å¹•éšè—çš„æƒ…å†µä¸‹ç»§ç»­è¿è¡Œ;<ol>
<li>ä»shellä¸­è¿è¡Œscreenå‘½ä»¤å°±å¯ä»¥åˆ›å»ºä¸€ä¸ªæ–°çš„å±å¹•;</li>
<li>æŒ‰ä¸‹Ctrl+Aå’ŒCtrl+Nå¯ä»¥åˆ‡æ¢åˆ°ä¸‹ä¸€ä¸ªçª—å£;</li>
<li>ä½¿ç”¨Ctrl+Aå’ŒCtrl+Då¯ä»¥è„±ç¦»å½“å‰screenä¼šè¯;</li>
</ol>
</li>
</ol>
<hr>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>å› ä¸ºå¤§éƒ¨åˆ†çš„å®éªŒéƒ½æ˜¯åœ¨Macä¸Šå®æ–½çš„,å› æ­¤æœ‰äº›å‘½ä»¤éƒ½æ²¡æœ‰å»è®°å½•,ä½†æ˜¯è®°å½•çš„éƒ½æ˜¯ç»Ÿä¸€çš„,å”¯ä¸€å¯èƒ½å‚æ•°ä¸å¤ªç›¸åŒ,å¯ä»¥ä½¿ç”¨manå‘½ä»¤æ¥æŸ¥çœ‹å…·ä½“çš„å‚æ•°!</p>
]]></content>
      <categories>
        <category>Shell</category>
      </categories>
  </entry>
  <entry>
    <title>Shell Network Command</title>
    <url>/2020/04/23/Shell-Network-Command/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>shellè„šæœ¬å¯ç”¨äºé…ç½®ç½‘ç»œèŠ‚ç‚¹ã€æµ‹è¯•ä¸»æœºæ˜¯å¦å¯ç”¨ã€è‡ªåŠ¨æ‰§è¡Œè¿œç¨‹ä¸»æœºå‘½ä»¤ï¼Œè€Œè¿™äº›è„šæœ¬çš„åº•å±‚ä¾èµ–æ˜¯å„ç§å„æ ·çš„ç½‘ç»œå‘½ä»¤ï¼Œè¿™éƒ¨åˆ†å­¦ä¹ çš„æ˜¯å¸¸ç”¨çš„ç½‘ç»œå‘½ä»¤ï¼</p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="åŸºç¡€ç½‘ç»œçŸ¥è¯†"><a href="#åŸºç¡€ç½‘ç»œçŸ¥è¯†" class="headerlink" title="åŸºç¡€ç½‘ç»œçŸ¥è¯†"></a>åŸºç¡€ç½‘ç»œçŸ¥è¯†</h2><ol>
<li>ç½‘ç»œæ¥å£ç”¨äºå°†ä¸»æœºä»¥æœ‰çº¿æˆ–æ— çº¿çš„å½¢å¼è¿æ¥åˆ°ç½‘ç»œï¼›</li>
<li>ifconfigå‘½ä»¤ç”¨äºé…ç½®åŠæ˜¾ç¤ºç½‘ç»œæ¥å£ã€å­ç½‘æ©ç ç­‰ç»†èŠ‚ä¿¡æ¯ï¼›</li>
<li>å‘½ä»¤ç¤ºä¾‹ï¼š</li>
</ol>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> è®¾ç½®ç½‘è·¯æ¥å£wlan0çš„ipä»¥åŠå­ç½‘æ©ç </span></span><br><span class="line">ifconfig wlan0 192.168.0.80 netmask 255.255.252.0</span><br></pre></td></tr></table></figure>

<ol start="4">
<li>macåœ°å€æ¬ºéª—ï¼š</li>
</ol>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">ifconfig eth0 hw ether 00:1c:bf:87:25:d5</span><br></pre></td></tr></table></figure>

<ol start="5">
<li>è¿‡æ»¤å‡ºæœ¬æœºipï¼š</li>
</ol>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">ifconfig |egrep -o "inet [^ ]*"|tr -d "a-z"</span><br></pre></td></tr></table></figure>

<ol start="6">
<li><p>hostå’Œnslookupæ˜¯åŸºäºå‘½ä»¤è¡Œçš„DNSæŸ¥æ‰¾å·¥å…·éƒ½å¯ä»¥å®ç°åå­—ä¸IPåœ°å€çš„è§£æï¼›</p>
</li>
<li><p>pingæ˜¯ä¸€ä¸ªåŸºç¡€çš„ç½‘ç»œå‘½ä»¤ï¼Œç”¨äºæ£€éªŒç½‘ç»œä¸Šä¸»æœºä¹‹é—´çš„è¿é€šæ€§ï¼Œæ‰¾å‡ºæ´»åŠ¨ä¸»æœº;</p>
</li>
<li><p><strong>pingå‘½ä»¤å¦‚æœæ‰§è¡Œé¡ºåˆ©ï¼Œä¼šè¿”å›é€€å‡ºçŠ¶æ€0ï¼›å¦åˆ™ï¼Œè¿”å›é0;</strong></p>
</li>
<li><p>netstatå‘½ä»¤ç”¨äºæ˜¾ç¤ºå„ç§ç½‘ç»œç›¸å…³ä¿¡æ¯ï¼Œå¦‚ç½‘ç»œè¿æ¥ã€è·¯ç”±è¡¨ã€æ¥å£çŠ¶æ€ã€masqueradeè¿æ¥ã€å¤šæ’­æˆå‘˜ç­‰ç­‰ï¼›</p>
</li>
<li><p>routeå‘½ä»¤ç”¨äºæ˜¾ç¤ºå’Œæ“ä½œè·¯ç”±è¡¨ï¼Œè¦å®ç°ä¸¤ä¸ªä¸åŒçš„å­ç½‘ä¹‹é—´çš„é€šä¿¡ï¼Œéœ€è¦ä¸€å°è¿æ¥ä¸¤ä¸ªç½‘ç»œçš„è·¯ç”±å™¨ï¼Œæˆ–è€…åŒæ—¶ä½äºä¸¤ä¸ªç½‘ç»œçš„ç½‘å…³æ¥å®ç°ï¼›</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">route add default gw 192.168.3.1 netmask 255.255.255.0</span><br><span class="line">netstat -nr # æŸ¥çœ‹è·¯ç”±è¡¨</span><br></pre></td></tr></table></figure>
</li>
<li><p>tracerouteå‘½ä»¤å¯ä»¥æ˜¾ç¤ºåˆ†ç»„é€”å¾„çš„æ‰€æœ‰ç½‘å…³çš„åœ°å€,è¿™äº›ä¿¡æ¯å¯ä»¥å¸®åŠ©æˆ‘ä»¬ææ˜ç™½åˆ†ç»„åˆ°è¾¾ç›®çš„åœ°éœ€è¦ç»è¿‡å¤šå°‘è·³;</p>
</li>
<li><p>curlå‘½ä»¤æ˜¯ä¸€ä¸ªåˆ©ç”¨URLè§„åˆ™åœ¨å‘½ä»¤è¡Œä¸‹å·¥ä½œçš„æ–‡ä»¶ä¼ è¾“å·¥å…·ï¼Œæ”¯æŒæ–‡ä»¶çš„ä¸Šä¼ å’Œä¸‹è½½ï¼Œæ‰€ä»¥æ˜¯ç»¼åˆä¼ è¾“å·¥å…·ã€‚ä½†æŒ‰ä¼ ç»Ÿï¼Œä¹ æƒ¯ç§°curlä¸ºä¸‹è½½å·¥å…·ï¼Œä½œä¸ºä¸€æ¬¾å¼ºåŠ›å·¥å…·ï¼Œcurlæ”¯æŒåŒ…æ‹¬HTTPã€HTTPSã€FTPç­‰ä¼—å¤šåè®®ï¼Œè¿˜æ”¯æŒPOSTã€cookiesã€è®¤è¯ã€ä»æŒ‡å®šåç§»å¤„ä¸‹è½½éƒ¨åˆ†æ–‡ä»¶ã€ç”¨æˆ·ä»£ç†å­—ç¬¦ä¸²ã€é™é€Ÿã€æ–‡ä»¶å¤§å°ã€è¿›åº¦æ¡ç­‰ç‰¹å¾ï¼›</p>
</li>
<li><p>fpingå‘½ä»¤å¯ä»¥ä¸ºå¤šä¸ªIPåœ°å€ç”ŸæˆICMPåˆ†ç»„ï¼Œç„¶åç­‰å¾…å›åº”:</p>
<ol>
<li>-aæŒ‡å®šæ˜¾ç¤ºå‡ºæ‰€æœ‰æ´»åŠ¨ä¸»æœºçš„IPåœ°å€;</li>
<li>-uæŒ‡å®šæ˜¾ç¤ºå‡ºæ‰€æœ‰ä¸å¯è¾¾çš„ä¸»æœº;</li>
<li>-gæŒ‡å®šä»â€œIPåœ°å€/å­ç½‘æ©ç â€è®°æ³•æˆ–è€…â€œIPåœ°å€èŒƒå›´â€è®°æ³•ä¸­ç”Ÿæˆä¸€ç»„IPåœ°å€;</li>
</ol>
</li>
</ol>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> æ‰¾å‡º192.168.3.1ç½‘æ®µçš„æ‰€æœ‰æ´»ç€çš„ä¸»æœº</span></span><br><span class="line">fping -a 192.168.3.1/24 -g</span><br><span class="line"><span class="meta">#</span><span class="bash"> ä¸‹é¢çš„ä¹Ÿå¯ä»¥</span></span><br><span class="line">fping -a 192.168.3.1 192.168.3.255 -g</span><br></pre></td></tr></table></figure>

<h2 id="é«˜çº§ç½‘ç»œçŸ¥è¯†"><a href="#é«˜çº§ç½‘ç»œçŸ¥è¯†" class="headerlink" title="é«˜çº§ç½‘ç»œçŸ¥è¯†"></a>é«˜çº§ç½‘ç»œçŸ¥è¯†</h2><ol>
<li>SSHä»£è¡¨çš„æ˜¯Secure Shellï¼ˆå®‰å…¨shellï¼‰ï¼Œä½¿ç”¨åŠ å¯†éš§é“è¿æ¥ä¸¤å°è®¡ç®—æœºï¼Œèƒ½å¤Ÿè®©ä½ è®¿é—®è¿œç¨‹è®¡ç®—æœºä¸Šçš„shellï¼›</li>
<li>SSHæ‰§è¡ŒæŒ‡çº¹æ ¸å¯¹ï¼ˆfingerprint verificationï¼‰æ¥ç¡®ä¿ç”¨æˆ·è¿æ¥åˆ°æ­£ç¡®çš„è¿œç¨‹ä¸»æœºï¼›</li>
<li>è¿æ¥è¿è¡Œåœ¨ç«¯å£422ä¹‹ä¸Šçš„SSHæœåŠ¡å™¨: ssh user@locahost -p 422</li>
<li><strong>è¦æƒ³åœ¨è¿œç¨‹ä¸»æœºä¸­æ‰§è¡Œå‘½ä»¤ï¼Œåœ¨æœ¬åœ°shellä¸­æ˜¾ç¤ºå‘½ä»¤è¾“å‡º:ssh user@host â€˜COMMANDSâ€™,å¤šæ¡å‘½ä»¤ï¼Œå‘½ä»¤ä¹‹é—´ç”¨åˆ†å·åˆ†éš”:ssh user@host â€œcommand1 ; command2 ; command3â€;</strong></li>
<li>ç”¨sshå‘½ä»¤çš„é€‰é¡¹-Cå¯ç”¨å¯¹æ•°æ®è¿›è¡Œå‹ç¼©ä¼ è¾“;</li>
<li>å¯ä»¥ä½¿ç”¨ssh-copy-idå‘½ä»¤å°†ç§˜é’¥æ–‡ä»¶æ‹·è´åˆ°è¦è®¿é—®çš„æœåŠ¡å™¨ä¸­ï¼Œç„¶åå°±å¯ä»¥å…å¯†ç™»å½•äº†ï¼›</li>
<li>æ–‡ä»¶ä¼ è¾“åè®®ï¼ˆFile Transfer Protocolï¼ŒFTPï¼‰æ˜¯ä¸€ä¸ªå¤è€çš„åè®®ï¼Œåœ¨å¾ˆå¤šå…¬å…±ç«™ç‚¹ä¸Šç”¨äºæ–‡ä»¶å…±äº«;</li>
<li>SFTPæ˜¯ä¸€ä¸ªè¿è¡Œåœ¨SSHè¿æ¥ä¹‹ä¸Šå¹¶æ¨¡æ‹Ÿäº†FTPæ¥å£çš„æ–‡ä»¶ä¼ è¾“ç³»ç»Ÿ;</li>
<li>SCPæ˜¯ä¸€ä¸ªå®‰å…¨çš„æ–‡ä»¶å¤åˆ¶å‘½ä»¤ï¼Œå’Œæ—§å¼çš„ã€ä¸å®‰å…¨çš„è¿œç¨‹å¤åˆ¶å‘½ä»¤rcpç±»ä¼¼,æ–‡ä»¶å‡é€šè¿‡SSHåŠ å¯†é€šé“è¿›è¡Œä¼ è¾“;</li>
</ol>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> å°†è¿œç¨‹ä¸»æœºä¸­çš„æ–‡ä»¶å¤åˆ¶åˆ°å½“å‰ç›®å½•å¹¶ä½¿ç”¨ç»™å®šçš„æ–‡ä»¶å</span></span><br><span class="line">scp user@remotehost:/home/path/filename filename</span><br><span class="line"><span class="meta">#</span><span class="bash"> å°†ç›®å½•/home/usernameé€’å½’å¤åˆ¶åˆ°è¿œç¨‹ä¸»æœºä¸­</span></span><br><span class="line">scp -r /home/usernameuser@remotehost:/home/backups</span><br></pre></td></tr></table></figure>

<ol start="9">
<li>scpçš„é€‰é¡¹-pèƒ½å¤Ÿåœ¨å¤åˆ¶æ–‡ä»¶çš„åŒæ—¶ä¿ç•™æ–‡ä»¶çš„æƒé™å’Œæ¨¡å¼;</li>
<li>sshfsåˆ©ç”¨SSHå®ç°äº†åœ¨æœ¬åœ°æŒ‚è½½ç‚¹ä¸ŠæŒ‚è½½è¿œç¨‹æ–‡ä»¶ç³»ç»Ÿï¼›</li>
</ol>
<h2 id="è¿æ¥æ— çº¿ç½‘ç»œ"><a href="#è¿æ¥æ— çº¿ç½‘ç»œ" class="headerlink" title="è¿æ¥æ— çº¿ç½‘ç»œ"></a>è¿æ¥æ— çº¿ç½‘ç»œ</h2><ol>
<li>æ— çº¿ç½‘ç»œéœ€è¦ä½¿ç”¨iwconfigå’Œiwlistå·¥å…·æ¥é…ç½®æ›´å¤šçš„å‚æ•°ï¼›</li>
<li>æ— çº¿LANéœ€è¦essidã€keyï¼ˆå¯†é’¥ï¼‰ä»¥åŠfrequencyï¼ˆé¢‘ç‡ï¼‰ç­‰å‚æ•°ï¼›<ol>
<li>essidï¼šæ— çº¿ç½‘ç»œçš„åç§°ï¼›</li>
<li>keyï¼šä¸€äº›ç½‘ç»œéœ€è¦ç”¨WEPå¯†é’¥è¿›è¡Œè®¤è¯ï¼Œ WEPå¯†é’¥é€šå¸¸æ˜¯ä¸€ä¸ª5ä½æˆ–10ä½åå…­ è¿›åˆ¶æ•°å£ä»¤ï¼›</li>
<li>frequencyï¼šé¢‘ç‡åˆ™æ˜¯åˆ†é…ç»™ç‰¹å®šç½‘ç»œçš„ã€‚</li>
</ol>
</li>
<li>iwlistå·¥å…·èƒ½å¤Ÿæ‰«æå¹¶åˆ—å‡ºå¯ç”¨çš„æ— çº¿ç½‘ç»œï¼šiwlist scanï¼›</li>
</ol>
<h2 id="åˆ†æç½‘ç»œæµé‡ä¸ç«¯å£"><a href="#åˆ†æç½‘ç»œæµé‡ä¸ç«¯å£" class="headerlink" title="åˆ†æç½‘ç»œæµé‡ä¸ç«¯å£"></a>åˆ†æç½‘ç»œæµé‡ä¸ç«¯å£</h2><ol>
<li>é€šè¿‡è·å–å¼€æ”¾ç«¯å£åˆ—è¡¨ã€ä½¿ç”¨ç‰¹å®šç«¯å£çš„åº”ç”¨ä»¥åŠè¿è¡Œè¯¥åº”ç”¨çš„ç”¨æˆ·ï¼Œæ˜¯è·Ÿè¸ªç³»ç»Ÿä¸­å‡ºç°é¢„æœŸå’Œéé¢„æœŸè¡Œä¸ºçš„ä¸€ç§æ–¹æ³•ï¼Œå¯ç”¨äºæ£€æŸ¥rootkitsæˆ–å…¶ä»–æ¶æ„è½¯ä»¶ï¼›</li>
<li><strong>lsof å’Œ netstat å‘½ä»¤å¯ç”¨æ¥åˆ—å‡ºç«¯å£ä»¥åŠè¿è¡Œåœ¨ç«¯å£ä¸Šçš„æœåŠ¡ï¼›</strong></li>
<li>lsofï¼ˆlist open filesï¼‰å‘½ä»¤å¯ä»¥åˆ—å‡ºå·²æ‰“å¼€çš„æ–‡ä»¶ã€‚é€‰é¡¹-iå°†èŒƒå›´é™åˆ¶åœ¨å·²æ‰“å¼€çš„ç½‘ç»œè¿æ¥ï¼›</li>
<li>netstatä¹Ÿå¯ä»¥æ˜¾ç¤ºç½‘ç»œæœåŠ¡ç»Ÿè®¡ä¿¡æ¯;</li>
<li>netcatæˆ–ncå‘½ä»¤éƒ½å¯ä»¥åˆ›å»ºç”¨äºåœ¨TCP/IPç½‘ç»œä¸Šä¼ è¾“æ•°æ®çš„å¥—æ¥å­—;</li>
<li>Linuxç³»ç»Ÿå¯ä»¥ä½œä¸ºç½‘æ¡¥ä½¿ç”¨,ç½‘æ¡¥æ˜¯ä¸€ç§ä½å±‚è¿æ¥ï¼Œå®ƒå¹¶ä¸æ˜¯åŸºäºIPåœ°å€ï¼Œè€Œæ˜¯ä½¿ç”¨MACåœ°å€ä¼ é€’åˆ†ç»„;</li>
</ol>
<h2 id="ç§æœ‰ç½‘ç»œï¼ˆVPNï¼‰"><a href="#ç§æœ‰ç½‘ç»œï¼ˆVPNï¼‰" class="headerlink" title="ç§æœ‰ç½‘ç»œï¼ˆVPNï¼‰"></a>ç§æœ‰ç½‘ç»œï¼ˆVPNï¼‰</h2><ol>
<li>è™šæ‹Ÿç§æœ‰ç½‘ç»œï¼ˆVirtual Private Networkï¼ŒVPNï¼‰æ˜¯å»ºç«‹åœ¨å…¬ç½‘ä¹‹ä¸Šçš„åŠ å¯†é€šé“ï¼›</li>
<li>VPNå¯ç”¨äºè¿æ¥è¿œç¨‹åŠå…¬ç‚¹ã€æ•£å¸ƒå¤šå¤„çš„ç”Ÿäº§åˆ¶é€ ç«™ç‚¹ä»¥åŠè¿œç¨‹å·¥ä½œäººå‘˜!</li>
<li>åç»­ä¸“é—¨è®²è§£å¦‚ä½•é…ç½®ä»¥åŠåŸç†ï¼</li>
</ol>
]]></content>
      <categories>
        <category>Shell</category>
      </categories>
  </entry>
  <entry>
    <title>Shell Web Command</title>
    <url>/2020/04/23/Shell-Web-Command/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>Shellç»ˆç«¯å¯ä»¥è¿›è¡ŒWebç•Œé¢çš„è®¿é—®ï¼Œè¿™ç‚¹åº”è¯¥çŸ¥é“å§ï¼Œåœ¨ç ”ç©¶ç”ŸæœŸé—´æ›¾åœ¨æœåŠ¡å™¨ä¸Šä½¿ç”¨curlå‘½ä»¤ç™»å½•æ ¡å›­ç½‘ï¼Œå› ä¸ºè¦è®¤è¯ç½‘ç»œï¼Œä½†æ˜¯æ²¡æœ‰å›¾å½¢ç•Œé¢ï¼Œåæ¥åˆç”¨è‡ªåŠ¨åŒ–æµ‹è¯•å·¥å…·ä½¿ç”¨Pythonè„šæœ¬è¿›è¡Œæ ¡å›­ç½‘è®¤è¯ï¼Œä½œä¸ºä¸€ä¸ªç¨‹åºå‘˜çœŸçš„å¾—ä¼šè¿™äº›åŸºç¡€çš„webå‘½ä»¤,è¯¦ç»†çš„åœ¨Pythonä¸­ä»‹ç»!</p>
<hr>
<h1 id="Webè®¿é—®"><a href="#Webè®¿é—®" class="headerlink" title="Webè®¿é—®"></a>Webè®¿é—®</h1><ol>
<li>wgetæ˜¯ä¸€ä¸ªç”¨äºæ–‡ä»¶ä¸‹è½½çš„å‘½ä»¤è¡Œå·¥å…·ï¼Œé€‰é¡¹ç¹å¤šä¸”ç”¨æ³•çµæ´»;<ol>
<li>é€šè¿‡é€‰é¡¹-OæŒ‡å®šè¾“å‡ºæ–‡ä»¶å;</li>
<li>é€‰é¡¹-oæŒ‡å®šä¸€ä¸ªæ—¥å¿—æ–‡ä»¶ï¼Œè¿™æ ·æ—¥å¿—ä¿¡æ¯å°±ä¸ä¼šè¢«æ‰“å°åˆ°stdoutäº†;</li>
<li>é€‰é¡¹-tå¯ä»¥æŒ‡å®šåœ¨æ”¾å¼ƒä¸‹è½½ä¹‹å‰å°è¯•å¤šå°‘æ¬¡;</li>
<li>é€‰é¡¹â€“limit-rateå¯ä»¥é™å®šä¸‹è½½ä»»åŠ¡èƒ½å¤Ÿå æœ‰çš„æœ€å¤§å¸¦å®½ï¼Œä»è€Œä¿è¯å…¶ä»–åº”ç”¨ç¨‹åºèƒ½å¤Ÿå…¬å¹³åœ°è®¿é—®Internet;</li>
<li>é€‰é¡¹â€“quotaæˆ–-Qå¯ä»¥æŒ‡å®šæœ€å¤§ä¸‹è½½é…é¢ï¼ˆquotaï¼‰;</li>
<li>é€‰é¡¹-cä»æ–­ç‚¹å¼€å§‹ç»§ç»­ä¸‹è½½;</li>
</ol>
</li>
<li>wgetåƒçˆ¬è™«ä¸€æ ·ä»¥é€’å½’çš„æ–¹å¼éå†ç½‘é¡µä¸Šæ‰€æœ‰çš„URLé“¾æ¥ï¼Œå¹¶é€ä¸ªä¸‹è½½,è¦å®ç°è¿™ç§æ“ä½œï¼Œ å¯ä»¥ä½¿ç”¨é€‰é¡¹â€“mirror;</li>
<li>-kæˆ–â€“convert-linksæŒ‡ç¤ºwgetå°†é¡µé¢çš„é“¾æ¥åœ°å€è½¬æ¢ä¸ºæœ¬åœ°åœ°å€;</li>
</ol>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> é•œåƒä¸€ä¸ªç½‘ç«™</span></span><br><span class="line">wget --mirror --convert-links exampledomain.com</span><br></pre></td></tr></table></figure>

<ol start="4">
<li><strong>æ³¨æ„ï¼šåªåº”å‡ºäºä¸ªäººä½¿ç”¨çš„ç›®çš„æ‰å¯ä»¥é•œåƒç½‘ç«™ï¼Œè€Œä¸”ä¸è¦é¢‘ç¹åœ°åšé•œåƒï¼›</strong></li>
<li>ä¸€äº›ç½‘ç«™éœ€è¦HTTPæˆ–FTPè®¤è¯ï¼Œå¯ä»¥ç”¨â€“userå’Œâ€“passwordæä¾›è®¤è¯ä¿¡æ¯ï¼Œå¯ä»¥ä¸åœ¨å‘½ä»¤è¡Œä¸­æŒ‡å®šå¯†ç ï¼Œè€Œæ˜¯åœ¨ç½‘é¡µä¸Šæ‰‹åŠ¨è¾“å…¥å¯†ç ï¼Œè¿™å°±éœ€è¦å°†â€“passwordæ”¹ä¸ºâ€“ask-passwordï¼›</li>
<li><strong>Lynxæ˜¯ä¸€æ¬¾åŸºäºå‘½ä»¤è¡Œçš„Webæµè§ˆå™¨ï¼Œèƒ½å¤Ÿä»¥çº¯æ–‡æœ¬å½¢å¼ä¸‹è½½Webç½‘é¡µï¼›</strong></li>
<li>curlå¯ä»¥ä½¿ç”¨HTTPã€HTTPSã€FTPåè®®åœ¨å®¢æˆ·ç«¯ä¸æœåŠ¡å™¨ä¹‹é—´ä¼ é€’æ•°æ®,æ”¯æŒPOSTã€cookieã€è®¤è¯ã€ä»æŒ‡å®šåç§»å¤„ä¸‹è½½éƒ¨åˆ†æ–‡ä»¶ã€å‚ç…§é¡µï¼ˆrefererï¼‰ã€ç”¨æˆ·ä»£ç†å­—ç¬¦ä¸²ã€æ‰©å±•å¤´éƒ¨ã€é™é€Ÿã€æ–‡ä»¶å¤§å°é™åˆ¶ã€è¿›åº¦æ¡ç­‰ç‰¹æ€§ï¼›<ol>
<li>é€‰é¡¹-OæŒ‡æ˜å°†ä¸‹è½½æ•°æ®å†™å…¥æ–‡ä»¶ï¼Œé‡‡ç”¨ä»URLä¸­è§£æå‡ºçš„æ–‡ä»¶åï¼ŒURLå¿…é¡»æ˜¯å®Œæ•´çš„ï¼Œä¸èƒ½ä»…æ˜¯ç«™ç‚¹çš„åŸŸåï¼›</li>
<li>é€‰é¡¹-oå¯ä»¥æŒ‡å®šè¾“å‡ºæ–‡ä»¶åï¼›</li>
<li>é€‰é¡¹â€“silentå¯ä»¥è®©curlå‘½ä»¤ä¸æ˜¾ç¤ºè¿›åº¦ä¿¡æ¯;</li>
<li>å¦‚æœéœ€è¦åœ¨ä¸‹è½½è¿‡ç¨‹ä¸­æ˜¾ç¤ºå½¢å¦‚#çš„è¿›åº¦æ¡ï¼Œå¯ä»¥ä½¿ç”¨é€‰é¡¹â€“progressã€‚</li>
</ol>
</li>
<li>é€‰é¡¹ â€“cookie å¯ä»¥æŒ‡å®šæä¾›å“ªäº›cookie,cookieséœ€è¦ä»¥ name=valueçš„å½¢å¼æ¥ç»™å‡º,å¤šä¸ªcookieä¹‹é—´ä½¿ç”¨åˆ†å·åˆ†éš”;</li>
<li>ç”¨â€“limit-rateé™åˆ¶cURLçš„ä¸‹è½½é€Ÿåº¦:curl URL â€“limit-rate 20kï¼›</li>
<li>ç”¨curlçš„é€‰é¡¹-uå®ŒæˆHTTPæˆ–FTPè®¤è¯ï¼šcurl -u user:pass <a href="http://test_auth.comï¼›" target="_blank" rel="noopener">http://test_auth.comï¼›</a></li>
</ol>
]]></content>
      <categories>
        <category>Shell</category>
      </categories>
  </entry>
  <entry>
    <title>Spring Boot å®æˆ˜</title>
    <url>/2020/05/19/Spring-Boot-%E5%AE%9E%E6%88%98/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>åœ¨å½“ä»Šçš„Java EEå¼€å‘ä¸­ï¼ŒSpringæ¡†æ¶æ˜¯å½“ä¹‹æ— æ„§çš„æœ€å¼ºç‹è€…ï¼è€ŒSpring Bootçš„å‡ºç°æ˜¯ä¸ºäº†å¿«é€Ÿæ­å»ºSpringæ¡†æ¶çš„åº”ç”¨ï¼Œä»è€Œä½¿å¾—Java EEå¼€å‘å˜å¾—å¼‚å¸¸ç®€å•ã€‚ä½¿ç”¨Springè¿›è¡Œå¼€å‘è‡³å°‘åº”è¯¥å­¦ä¼šï¼šWebå¼€å‘ã€æ•°æ®è®¿é—®ã€å®‰å…¨æ§åˆ¶ã€æ‰¹å¤„ç†ã€å¼‚æ­¥æ¶ˆæ¯ã€ç³»ç»Ÿé›†æˆã€å¼€å‘ä¸éƒ¨ç½²ã€‚åº”ç”¨ç›‘æ§ã€‚åˆ†å¸ƒå¼ç³»ç»Ÿå¼€å‘ç­‰ã€‚å­¦ä¹ æ—¶åº”è¯¥æ›´å¤šå…³æ³¨æŠ€æœ¯ï¼Œè€Œå¼€å‘æ—¶åˆ™åº”è¯¥æ›´å¤šå…³æ³¨ä¸šåŠ¡ï¼ä½¿ç”¨SpringBootè¿›è¡Œé‡æ„ï¼Œå’Œå¤§é‡é…ç½®ä¸æ•´åˆè¯´æ‹œæ‹œï¼<strong><em>æ¨èä¹¦ç±ï¼šã€ŠJava EEå¼€å‘çš„é¢ è¦†è€… Spring Boot å®æˆ˜ã€‹Â·  æ±ªäº‘é£ è‘—</em></strong></p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="åŸºç¡€çŸ¥è¯†"><a href="#åŸºç¡€çŸ¥è¯†" class="headerlink" title="åŸºç¡€çŸ¥è¯†"></a>åŸºç¡€çŸ¥è¯†</h2><ol>
<li><p>Springå‘å±•å†ç¨‹ï¼š</p>
<ul>
<li>xmlé…ç½®</li>
<li>æ³¨è§£é…ç½®ï¼šåº”ç”¨æ‡‚å¾—åŸºæœ¬é…ç½®ä½¿ç”¨xmlï¼Œä¸šåŠ¡é…ç½®ç”¨æ³¨è§£</li>
<li>Javaé…ç½®</li>
</ul>
</li>
<li><p>å®šä¹‰ï¼š</p>
<ul>
<li>Springæ¡†æ¶æ˜¯ä¸€ä¸ªè½»é‡çº§çš„ä¼ä¸šçº§å¼€å‘çš„ä¸€ç«™å¼è§£å†³æ–¹æ¡ˆï¼›</li>
<li>Springä½¿ç”¨ç®€å•çš„POJOï¼ˆPlain Old Java Objectï¼Œæ— ä»»ä½•é™åˆ¶çš„æ™®é€šJavaå¯¹è±¡ï¼‰æ¥è¿›è¡Œä¼ä¸šçº§å¼€å‘ï¼›</li>
<li>æ¯ä¸ªSpringç®¡ç†çš„å¯¹è±¡éƒ½è¢«ç§°ä¹‹ä¸ºBeanï¼ŒSpringæä¾›äº†ä¸€ä¸ªIoCå®¹å™¨ç”¨æ¥åˆå§‹åŒ–å¯¹è±¡ï¼Œè§£å†³å¯¹è±¡é—´çš„ä¾èµ–ç®¡ç†å’Œå¯¹è±¡çš„ä½¿ç”¨ï¼›</li>
<li>å¯¹äºSpring çš„æ¯ä¸ªæ¨¡å—éƒ½è‡³å°‘å¯¹åº”æœ‰ä¸€ä¸ªjaråŒ…ï¼›</li>
</ul>
</li>
<li><p>æ ¸å¿ƒå®¹å™¨ï¼ˆCore Containerï¼‰ï¼š</p>
<ul>
<li>Spring-Coreï¼šæ ¸å¿ƒå·¥å…·ç±»ï¼ŒSpringå…¶ä»–æ¨¡å—å¤§é‡ä½¿ç”¨Spring-Core</li>
<li>Spring-Beansï¼šSpringå®šä¹‰Beançš„æ”¯æŒ</li>
<li>Spring-Contextï¼šè¿è¡Œæ—¶Springå®¹å™¨</li>
<li>Spring-Context-Supportï¼šSpringå®¹å™¨å¯¹ç¬¬ä¸‰æ–¹åŒ…çš„é›†æˆæ”¯æŒ</li>
<li>Spring-Expressionï¼šä½¿ç”¨è¡¨è¾¾å¼è¯­è¨€åœ¨è¿è¡Œæ—¶æŸ¥è¯¢å’Œæ“ä½œå¯¹è±¡</li>
</ul>
</li>
<li><p>AOP(é¢å‘åˆ‡é¢çš„ç¼–ç¨‹æ€æƒ³ï¼Œé‡‡ç”¨â€œæ¨ªåˆ‡â€çš„æŠ€æœ¯ï¼Œå°†æ¶‰åŠå¤šä¸šåŠ¡æµç¨‹æ‡‚å¾—é€šç”¨åŠŸèƒ½æŠ½å–å¹¶å•ç‹¬å°è£…ï¼Œå½¢æˆç‹¬ç«‹çš„åˆ‡é¢ï¼Œåœ¨åˆé€‚çš„æ—¶æœºå°†è¿™äº›åˆ‡é¢æ¨ªå‘åˆ‡å…¥åˆ°ä¸šåŠ¡æµç¨‹çš„æŒ‡å®šä½ç½®ä¸­)ï¼š</p>
<ul>
<li><p>Spring-AOPï¼šåŸºäºä»£ç†çš„AOPæ”¯æŒ</p>
</li>
<li><p>Spring-Aspectsï¼šåŸºäºAspectJçš„AOPæ”¯æŒ</p>
</li>
<li><p>ä»‹ç»</p>
<ul>
<li>åœ¨ä¸€ä¸ªä¸šåŠ¡ç³»ç»Ÿä¸­ï¼Œç”¨æˆ·ç™»å½•æ˜¯åŸºç¡€åŠŸèƒ½ï¼Œå‡¡æ˜¯æ¶‰åŠåˆ°ç”¨æˆ·çš„ä¸šåŠ¡æµç¨‹éƒ½è¦æ±‚ç”¨æˆ·è¿›è¡Œç³»ç»Ÿç™»å½•ã€‚å¦‚æœæŠŠç”¨æˆ·ç™»å½•åŠŸèƒ½ä»£ç å†™å…¥åˆ°æ¯ä¸ªä¸šåŠ¡æµç¨‹ä¸­ï¼Œä¼šé€ æˆä»£ç å†—ä½™ï¼Œç»´æŠ¤ä¹Ÿéå¸¸éº»çƒ¦ï¼Œå½“éœ€è¦ä¿®æ”¹ç”¨æˆ·ç™»å½•åŠŸèƒ½æ—¶ï¼Œå°±éœ€è¦ä¿®æ”¹æ¯ä¸ªä¸šåŠ¡æµç¨‹çš„ç”¨æˆ·ç™»å½•ä»£ç ï¼Œè¿™ç§å¤„ç†æ–¹å¼æ˜¾ç„¶æ˜¯ä¸å¯å–çš„ã€‚æ¯”è¾ƒå¥½çš„åšæ³•æ˜¯æŠŠç”¨æˆ·ç™»å½•åŠŸèƒ½æŠ½å–å‡ºæ¥ï¼Œå½¢æˆç‹¬ç«‹çš„æ¨¡å—ï¼Œå½“ä¸šåŠ¡æµç¨‹éœ€è¦ç”¨æˆ·ç™»å½•æ—¶ï¼Œç³»ç»Ÿè‡ªåŠ¨æŠŠç™»å½•åŠŸèƒ½åˆ‡å…¥åˆ°ä¸šåŠ¡æµç¨‹ä¸­,ä¸‹å›¾å±•ç¤ºçš„æ˜¯å°†ç”¨æˆ·ç™»å½•åŠŸèƒ½åˆ‡å…¥åˆ°ä¸šåŠ¡æµç¨‹ç¤ºæ„å›¾</li>
</ul>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/c7808cbf7520282a43fd6069dcf4fd89-23457" alt=""></p>
</li>
<li><p>AOPæ˜¯ä¸€ç§ç¼–ç¨‹æ€æƒ³ï¼Œèƒ½å¤Ÿé¿å…å†™å†—ä½™çš„ä»£ç ï¼Œä¸šåŠ¡é€»è¾‘ä¹Ÿæ›´åŠ æ¸…æ™°</p>
</li>
<li><p>æŠŠæ•£å¸ƒäºä¸åŒä¸šåŠ¡ä½†åŠŸèƒ½ç›¸åŒçš„ä»£ç ä»ä¸šåŠ¡é€»è¾‘ä¸­æŠ½å–å‡ºæ¥ï¼Œå°è£…æˆç‹¬ç«‹çš„æ¨¡å—ï¼Œè¿™äº›ç‹¬ç«‹çš„æ¨¡å—è¢«ç§°ä¸ºåˆ‡é¢ï¼Œåˆ‡é¢çš„å…·ä½“åŠŸèƒ½æ³•è¢«ç§°ä¸ºå…³æ³¨ç‚¹</p>
</li>
<li><p>Aspectï¼šåˆ‡é¢ï¼Œåˆ‡å…¥ä¸šåŠ¡æµç¨‹çš„ä¸€ä¸ªç‹¬ç«‹æ¨¡å—</p>
</li>
<li><p>Join pointï¼šè¿æ¥ç‚¹ï¼Œä¸šåŠ¡æµç¨‹åœ¨è¿è¡Œè¿‡ç¨‹ä¸­éœ€è¦æ’å…¥åˆ‡é¢çš„å…·ä½“ä½ç½®</p>
</li>
<li><p>Adviceï¼šé€šçŸ¥ï¼Œåˆ‡é¢çš„å…·ä½“å®ç°æ–¹æ³•</p>
</li>
<li><p>Pointcutï¼šåˆ‡å…¥ç‚¹ï¼Œç”¨äºå®šä¹‰é€šçŸ¥åº”è¯¥åˆ‡å…¥åˆ°å“ªäº›è¿æ¥ç‚¹ä¸Šï¼Œä¸åŒçš„é€šçŸ¥é€šå¸¸éœ€è¦åˆ‡å…¥åˆ°ä¸åŒçš„è¿æ¥ç‚¹ä¸Š</p>
</li>
<li><p>Targetï¼šç›®æ ‡å¯¹è±¡ï¼Œè¢«ä¸€ä¸ªæˆ–è€…å¤šä¸ªåˆ‡é¢æ‰€é€šçŸ¥çš„å¯¹è±¡</p>
</li>
<li><p>Proxyï¼šä»£ç†å¯¹è±¡ï¼Œå°†é€šçŸ¥åº”ç”¨åˆ°ç›®æ ‡å¯¹è±¡ä¹‹åè¢«åŠ¨æ€åˆ›å»ºçš„å¯¹è±¡</p>
</li>
<li><p>Weavingï¼šåˆ‡å…¥ï¼Œä¹Ÿç§°ä¸ºç»‡å…¥ï¼Œå°†åˆ‡é¢åº”ç”¨åˆ°ç›®æ ‡å¯¹è±¡ä»è€Œåˆ›å»ºä¸€ä¸ªæ–°çš„ä»£ç†å¯¹è±¡çš„è¿‡ç¨‹</p>
</li>
</ul>
</li>
<li><p>æ¶ˆæ¯ï¼ˆMessagingï¼‰ï¼š</p>
<ul>
<li>Spring-Messagingï¼šå¯¹æ¶ˆæ¯æ¶æ„å’Œåè®®çš„æ”¯æŒ</li>
</ul>
</li>
<li><p>Webï¼š</p>
<ul>
<li>Spring-Webï¼šæä¾›åŸºç¡€çš„Webé›†æˆçš„åŠŸèƒ½ï¼Œåœ¨Webé¡¹ç›®ä¸­æä¾›Springçš„å®¹å™¨</li>
<li>Spring-Webmvcï¼šæä¾›åŸºäºServletçš„Spring MVC</li>
<li>Spring-WebSocketï¼šæä¾›WebSocketåŠŸèƒ½</li>
<li>Spring-Webmvc-Portletï¼šæä¾›Portletç¯å¢ƒæ”¯æŒ</li>
</ul>
</li>
<li><p>æ•°æ®è®¿é—®/é›†æˆï¼ˆData Access/Integrationï¼‰ï¼š</p>
<ul>
<li>Spring-JDBCï¼šæä¾›JDBCè®¿é—®æ•°æ®åº“çš„æ”¯æŒ</li>
<li>Spring-TXï¼šæä¾›ç¼–ç¨‹å¼å’Œå£°æ˜å¼çš„äº‹åŠ¡æ”¯æŒ</li>
<li>Spring-ORMï¼šæä¾›å¯¹è±¡/å…³ç³»æ˜ å°„æŠ€æœ¯çš„æ”¯æŒ</li>
<li>Spring-OXMï¼šæä¾›å¯¹è±¡/xmlæ˜ å°„æŠ€æœ¯çš„æ”¯æŒ</li>
<li>Spring-JMSï¼šæä¾›å¯¹JMSçš„æ”¯æŒ</li>
</ul>
</li>
</ol>
<h2 id="ç”Ÿæ€"><a href="#ç”Ÿæ€" class="headerlink" title="ç”Ÿæ€"></a>ç”Ÿæ€</h2><ol>
<li>Spring Bootï¼šä½¿ç”¨é»˜è®¤å¼€å‘é…ç½®æ¥å®ç°å¿«é€Ÿå¼€å‘</li>
<li>Spring XDï¼šç”¨æ¥ç®€åŒ–å¤§æ•°æ®åº”ç”¨å¼€å‘</li>
<li>Spring Cloudï¼šä¸ºåˆ†å¸ƒå¼ç³»ç»Ÿå¼€å‘æä¾›å·¥å…·é›†</li>
<li>Spring Dataï¼šå¯¹ä¸»æµçš„å…³ç³»å‹å’ŒNoSQLæ•°æ®åº“çš„æ”¯æŒ</li>
<li>Spring Integrationï¼šé€šè¿‡æ¶ˆæ¯æœºåˆ¶å¯¹ä¼ä¸šé›†æˆæ¨¡å¼ï¼ˆEIPï¼‰çš„æ”¯æŒ</li>
<li>Spring Batchï¼šç®€åŒ–ä»¥åŠä¼˜åŒ–å¤§é‡æ•°æ®çš„æ‰¹å¤„ç†æ“ä½œ</li>
<li>Spring Securityï¼šé€šè¿‡è®¤è¯å’Œæˆæƒä¿æŠ¤åº”ç”¨</li>
<li>Spring HETEOASï¼šåŸºäºHETEOASåŸåˆ™ç®€åŒ–RESTæœåŠ¡å¼€å‘</li>
<li>Spring Socialï¼šä¸ç¤¾äº¤ç½‘ç»œAPIï¼ˆå¦‚Facebookã€æ–°æµªå¾®åšç­‰ï¼‰çš„é›†æˆ</li>
<li>Spring AMQPï¼šå¯¹åŸºäºAMQPçš„æ¶ˆæ¯çš„æ”¯æŒ</li>
<li>Spring Mobileï¼šæä¾›å¯¹æ‰‹æœºè®¾å¤‡æ£€æµ‹çš„åŠŸèƒ½ï¼Œç»™ä¸åŒçš„è®¾å¤‡è¿”å›ä¸åŒçš„é¡µé¢æ”¯æŒ</li>
<li>Spring for Androidï¼šä¸»è¦æä¾›åœ¨Androidä¸Šæ¶ˆè´¹RESTful APIçš„åŠŸèƒ½</li>
<li>Spring Web Flowï¼šåŸºäºSpring MVCæä¾›åŸºäºå‘å¯¼æµç¨‹å¼çš„Webåº”ç”¨å¼€å‘</li>
<li>Spring Web Servicesï¼šæä¾›åŸºäºåè®®æœ‰é™çš„SOAP/WebæœåŠ¡</li>
<li>Spring LDAPï¼šç®€åŒ–ä½¿ç”¨LDAPå¼€å‘</li>
<li>Spring Sessionï¼šæä¾›ä¸€ä¸ªAPIåŠå®ç°æ¥ç®¡ç†ç”¨æˆ·ä¼šè¯ä¿¡æ¯</li>
<li>â€¦ â€¦</li>
</ol>
<h2 id="é¡¹ç›®æ„å»º"><a href="#é¡¹ç›®æ„å»º" class="headerlink" title="é¡¹ç›®æ„å»º"></a>é¡¹ç›®æ„å»º</h2><ol>
<li><p>æ—©æœŸéƒ½æ˜¯é€šè¿‡IDEæ¥åˆ›å»ºä¸€ä¸ªé¡¹ç›®ï¼Œç„¶åå°†é¡¹ç›®ä¾èµ–çš„ç¬¬ä¸‰æ–¹jaråŒ…å¤åˆ¶åˆ°ä¸‹é¢çš„ç±»è·¯å¾„ä¸‹ï¼Œä½†æ˜¯è¿™ç§æ–¹å¼çœŸçš„æŒºåäººç±»çš„ï¼Œå› ä¸ºæœ‰äº›jaråŒ…å¯èƒ½ä¼šæœ‰å…¶ä»–çš„ä¾èµ–ï¼Œè¿™ä¹Ÿæ˜¯å¹³å¸¸é‡åˆ°çš„ClassNotFoundé”™è¯¯çš„ä¸»è¦åŸå› ï¼›</p>
</li>
<li><p>é¡¹ç›®æ„å»ºå·¥å…·è§£å†³äº†è¿™ç§é—®é¢˜ï¼Œç›®å‰ä¸»æµçš„é¡¹ç›®æ„æ¶å·¥å…·æœ‰ï¼šAntã€Mavenã€Gradleç­‰ï¼›</p>
</li>
<li><p>Apache Mavenæ˜¯ä¸€ä¸ªè½¯ä»¶é¡¹ç›®ç®¡ç†å·¥å…·ï¼ŒåŸºäºé¡¹ç›®å¯¹è±¡æ¨¡å‹ï¼ˆPOM,Project Object Modelï¼‰çš„æ¦‚å¿µï¼Œå¯ç”¨æ¥ç®¡ç†é¡¹ç›®çš„ä¾èµ–ã€ç¼–è¯‘ã€æ–‡æ¡£ç­‰ä¿¡æ¯ï¼›</p>
</li>
<li><p>Mavenæ˜¯åŸºäºé¡¹ç›®å¯¹è±¡æ¨¡å‹çš„æ¦‚å¿µè¿ä½œçš„ï¼Œæ¯ä¸ªMavençš„é¡¹ç›®éƒ½æœ‰ä¸€ä¸ªpom.xmlç”¨æ¥ç®¡ç†é¡¹ç›®çš„ä¾èµ–ä»¥åŠé¡¹ç›®çš„ç¼–è¯‘ç­‰ç­‰åŠŸèƒ½ï¼›</p>
<ul>
<li><p>æ ·ä¾‹ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">"http://maven.apache.org/POM/4.0.0"</span> <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-parent<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.2.6.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">relativePath</span>/&gt;</span> <span class="comment">&lt;!-- lookup parent from repository --&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.wanderros.actuator<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>actuator_test<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>0.0.1-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>actuator_test<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">description</span>&gt;</span>Demo project for Spring Boot<span class="tag">&lt;/<span class="name">description</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">java.version</span>&gt;</span>11<span class="tag">&lt;/<span class="name">java.version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-actuator<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-test<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">exclusions</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">exclusion</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.junit.vintage<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit-vintage-engine<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">exclusion</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">exclusions</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>dependencieså…ƒç´ ï¼šæ­¤å…ƒç´ åŒ…å«å¤šä¸ªé¡¹ç›®ä¾èµ–éœ€è¦ä½¿ç”¨çš„dependency</p>
</li>
<li><p>dependencyå…ƒç´ ï¼šå†…éƒ¨é€šè¿‡groupIdã€artifactIdä»¥åŠversionç¡®å®šå”¯ä¸€çš„ä¾èµ–ï¼š</p>
<ul>
<li>groupIdï¼šç»„ç»‡çš„å”¯ä¸€æ ‡è¯†</li>
<li>artifactIdï¼šé¡¹ç›®çš„å”¯ä¸€æ ‡è¯†</li>
<li>versionï¼šé¡¹ç›®çš„ç‰ˆæœ¬</li>
</ul>
</li>
<li><p>å˜é‡å®šä¹‰ï¼šå¯ä»¥åœ¨propertiesä¸­å®šä¹‰å˜é‡ï¼Œç„¶ååœ¨dependencyä¸­å¼•ç”¨</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">java.version</span>&gt;</span>11<span class="tag">&lt;/<span class="name">java.version</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">spring.web</span>&gt;</span>spring-boot-starter-web<span class="tag">&lt;/<span class="name">spring.web</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>$&#123;spring.web&#125;<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>ç¼–è¯‘æ’ä»¶ï¼Œå¯åœ¨ç¼–è¯‘æ’ä»¶ä¸­æ¶‰åŠJavaçš„ç¼–è¯‘ç‰ˆæœ¬ï¼Œå¯ä»¥çœ‹buildå…ƒç´ ä¸­çš„å†…å®¹</p>
</li>
<li><p>descriptionå…ƒç´ ï¼šæè¿°Springé¡¹ç›®</p>
</li>
<li><p>parentå…ƒç´ ï¼šåŸºç¡€çº§åˆ«çš„Springæ¨¡å—</p>
</li>
<li><p>Mavenä¼šè‡ªåŠ¨æ ¹æ®dependencyä¸­çš„ä¾èµ–é…ç½®ï¼Œç›´æ¥é€šè¿‡ç½‘ç»œåœ¨Mavenä¸­å¿ƒåº“ä¸‹è½½ç›¸å…³ä¾èµ–åˆ°ä¾èµ–ç›®å½•ä¸­</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/3175b25cabc5e1164f2c9f6cee4ae8a3-531746" alt="ä¾èµ–å…³ç³»å›¾"></p>
</li>
</ul>
</li>
<li><p>Springæ¡†æ¶å››å¤§åŸåˆ™ï¼š</p>
<ul>
<li>ä½¿ç”¨POJOè¿›è¡Œè½»é‡çº§å’Œæœ€å°ä¾µå…¥å¼å¼€å‘</li>
<li>é€šè¿‡ä¾èµ–æ³¨å…¥å’ŒåŸºäºæ¥å£ç¼–ç¨‹å®ç°è½»è€¦åˆ</li>
<li>é€šè¿‡AOPå’Œé»˜è®¤ä¹ æƒ¯è¿›è¡Œå£°æ˜å¼ç¼–ç¨‹</li>
<li>ä½¿ç”¨AOPå’Œæ¨¡æ¿ï¼ˆtemplateï¼‰å‡å°‘æ¨¡å—åŒ–ä»£ç </li>
</ul>
</li>
<li><p>æ¦‚å¿µè¯´æ˜ï¼š</p>
<ul>
<li>ä¾èµ–æ³¨å…¥ï¼šå®¹å™¨è´Ÿè´£åˆ›å»ºå¯¹è±¡å’Œç»´æŠ¤å¯¹è±¡é—´çš„ä¾èµ–å…³ç³»ï¼Œè€Œä¸æ˜¯é€šè¿‡å¯¹è±¡æœ¬èº«è´Ÿè´£è‡ªå·±çš„åˆ›å»ºå’Œè§£å†³è‡ªå·±çš„ä¾èµ–â€”ä¸ºäº†è§£è€¦</li>
<li>Spring IoCå®¹å™¨ï¼ˆApplicationContextï¼‰è´Ÿè´£åˆ›å»ºBeanï¼Œå¹¶é€šè¿‡å®¹å™¨å°†åŠŸèƒ½ç±»Beanæ³¨å…¥åˆ°æ‰€éœ€è¦çš„Beanä¸­</li>
<li>é…ç½®å…ƒæ•°æ®ï¼šæè¿°æ•°æ®çš„æ•°æ®ï¼Œæœ¬èº«ä¸å…·å¤‡ä»»ä½•æ‰§è¡Œçš„èƒ½åŠ›ï¼Œåªèƒ½é€šè¿‡å¤–ç•Œä»£ç æ¥å¯¹è¿™äº›å…ƒæ•°æ®è¿›è¡Œè§£æåè¿›è¡Œä¸€äº›æœ‰æ„ä¹‰çš„æ“ä½œï¼Œå¯ä»¥è¿›è¡ŒBeanåˆå§‹åŒ–ã€é…ç½®å’Œç®¡ç†ä¾èµ–</li>
<li>å£°æ˜Beançš„æ³¨è§£ï¼š<ul>
<li>@Component ç»„ä»¶ï¼Œæ²¡æœ‰æ˜ç¡®çš„è§’è‰²</li>
<li>@Service åœ¨ä¸šåŠ¡é€»è¾‘å±‚ï¼ˆserviceå±‚ï¼‰ä½¿ç”¨</li>
<li>@Repository åœ¨æ•°æ®è®¿é—®å±‚ï¼ˆdaoï¼ŒData Access Objectå±‚ï¼‰ä½¿ç”¨</li>
<li>@Controller åœ¨å±•ç¤ºå±‚ï¼ˆMVC-Spring MVCï¼‰ä½¿ç”¨</li>
</ul>
</li>
<li>æ³¨å…¥Beançš„æ³¨è§£ï¼ˆä¸€èˆ¬æƒ…å†µä¸‹é€šç”¨ï¼‰ï¼š<ul>
<li>@Autowired Springæä¾›çš„æ³¨è§£</li>
<li><del>@Inject JSR-330æä¾›çš„æ³¨è§£</del></li>
<li>@Resource JSR-250æä¾›çš„æ³¨è§£</li>
</ul>
</li>
<li>@Autowiredã€<del>@Inject</del>ã€@Resourceå¯ä»¥æ³¨è§£åœ¨setæ–¹æ³•ä¸Šæˆ–è€…å±æ€§ä¸Šï¼Œæ³¨è§£åœ¨å±æ€§ä¸Šä»£ç æ›´å°‘ã€å±‚æ¬¡æ›´æ¸…æ™°ï¼Œä¸è¿‡å› äººè€Œå¼‚å§ï¼ä½¿ç”¨@Autowiredå’Œ@Resourceæ˜¯ç­‰æ•ˆçš„</li>
</ul>
</li>
</ol>
<h2 id="Javaé…ç½®"><a href="#Javaé…ç½®" class="headerlink" title="Javaé…ç½®"></a>Javaé…ç½®</h2><ol>
<li><p>Javaé…ç½®æ˜¯Spring Boot æ¨èçš„é…ç½®æ–¹å¼ï¼Œé€šè¿‡@Configurationå’Œ@Beanæ¥å®ç°ï¼š</p>
<ul>
<li>@Configurationå£°æ˜å½“å‰ç±»æ˜¯ä¸€ä¸ªé…ç½®ç±»ï¼Œç›¸å½“äºä¸€ä¸ªSpringé…ç½®çš„xmlæ–‡ä»¶</li>
<li>@Beanæ³¨è§£åœ¨æ–¹æ³•ä¸Šï¼Œå£°æ˜å½“å‰æ–¹æ³•çš„è¿”å›å€¼æ˜¯ä¸€ä¸ªBean</li>
</ul>
</li>
<li><p>é…ç½®åŸåˆ™ï¼šå…¨å±€é…ç½®ä½¿ç”¨Javaé…ç½®ï¼ˆå¦‚æ•°æ®åº“ç›¸å…³é…ç½®ã€MVCç›¸å…³é…ç½®ï¼‰ï¼Œä¸šåŠ¡Beançš„é…ç½®ä½¿ç”¨æ³¨è§£é…ç½®ï¼ˆ@Serviceã€@Componentã€@Repositoryã€@Controllerï¼‰</p>
</li>
<li><p>ä¸€ä¸ªç®€å•çš„æ ·ä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// FunctionService.java</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FunctionService</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">sayHello</span><span class="params">(String word)</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"Hello "</span> + word + <span class="string">"!"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//useFunctionService.java</span></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">useFunctionService</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    FunctionService fs;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> FunctionService <span class="title">getFs</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> fs;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setFs</span><span class="params">(FunctionService fs)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.fs = fs;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">Say</span><span class="params">(String word)</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> fs.sayHello(word);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//config.java</span></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="comment">// æ³¨æ„æ‰«æçš„åŒ…è·¯å¾„</span></span><br><span class="line"><span class="meta">@ComponentScan</span>(<span class="string">"com.wanderros.actuator.actuator_test"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">config</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> FunctionService <span class="title">functionService</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> FunctionService();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//Main.java</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        AnnotationConfigApplicationContext context=<span class="keyword">new</span> AnnotationConfigApplicationContext(config<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">        useFunctionService uses=context.getBean(useFunctionService<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">        FunctionService test=context.getBean(FunctionService<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">        uses.setFs(test);</span><br><span class="line">        System.out.println(uses.Say(<span class="string">"Nice"</span>));</span><br><span class="line">        context.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¾“å‡º</span></span><br><span class="line"><span class="comment">// Hello Nice!</span></span><br></pre></td></tr></table></figure>

</li>
</ol>
<h2 id="AOP"><a href="#AOP" class="headerlink" title="AOP"></a>AOP</h2><ol>
<li><p>é¢å‘åˆ‡é¢ç¼–ç¨‹ï¼ŒSpringæ”¯æŒAspectJçš„æ³¨è§£å¼åˆ‡é¢ç¼–ç¨‹ï¼š</p>
<ul>
<li>ä½¿ç”¨@Aspectå£°æ˜æ˜¯ä¸€ä¸ªåˆ‡é¢</li>
<li>ä½¿ç”¨@Afterã€@Beforeã€@Aroundå®šä¹‰é€šçŸ¥ï¼ˆAdviceï¼‰ï¼Œå¯ç›´æ¥å°†æ‹¦æˆªè§„åˆ™ï¼ˆåˆ‡ç‚¹ï¼‰ä½œä¸ºå‚æ•°</li>
<li>å¯ä»¥ä½¿ç”¨@PointCutä¸“é—¨å®šä¹‰æ‹¦æˆªè§„åˆ™ï¼Œç„¶ååœ¨@Afterã€@Beforeã€@Aroundçš„å‚æ•°ä¸­è°ƒç”¨</li>
<li>ç¬¦åˆæ¡ä»¶çš„æ¯ä¸€ä¸ªè¢«æ‹¦æˆªå¤„ä¸ºè¿æ¥ç‚¹ï¼ˆJoinPointï¼‰</li>
</ul>
</li>
<li><p>Springæœ¬èº«åœ¨äº‹åŠ¡å¤„ç†ï¼ˆ@Transcationalï¼‰å’Œæ•°æ®ç¼“å­˜ï¼ˆ@Cacheableç­‰ï¼‰ä¸Šé¢éƒ½ä½¿ç”¨æ­¤ç§å½¢å¼çš„æ‹¦æˆª</p>
</li>
<li><p>Springåˆ‡é¢å¯ä»¥åº”ç”¨5ç§ç±»å‹çš„é€šçŸ¥ï¼š</p>
<ul>
<li>Beforeâ€”åœ¨æ–¹æ³•è¢«è°ƒç”¨ä¹‹å‰è°ƒç”¨é€šçŸ¥</li>
<li>Afterâ€”åœ¨æ–¹æ³•å®Œæˆä¹‹åè°ƒç”¨é€šçŸ¥ï¼Œæ— è®ºæ–¹æ³•æ‰§è¡Œæ˜¯å¦æˆåŠŸ</li>
<li>After-returningâ€”åœ¨æ–¹æ³•æˆåŠŸæ‰§è¡Œä¹‹åè°ƒç”¨é€šçŸ¥</li>
<li>After-throwingâ€”åœ¨æ–¹æ³•æŠ›å‡ºå¼‚å¸¸åè°ƒç”¨é€šçŸ¥</li>
<li><u>Aroundâ€”å¯ä»¥å†³å®šæ˜¯å¦æ‰§è¡Œç›®æ ‡æ–¹æ³•ï¼Œä»€ä¹ˆæ—¶å€™æ‰§è¡Œï¼Œç”šè‡³å¯ä»¥æ”¹å˜ç›®æ ‡æ–¹æ³•çš„å‚æ•°å’Œè·å–æ‰§è¡Œåçš„è¿”å›å€¼ï¼Œå…¼å…·äº†Beforeå’ŒAfter-returningçš„åŠŸèƒ½</u></li>
</ul>
</li>
<li><p>åˆ‡ç‚¹çš„å®šä¹‰ä¼šåŒ¹é…é€šçŸ¥æ‰€è¦ç»‡å…¥çš„ä¸€ä¸ªæˆ–å¤šä¸ªè¿æ¥ç‚¹ï¼Œç”¨äºå‡†ç¡®å®šä½åº”è¯¥åœ¨ä»€ä¹ˆåœ°æ–¹åº”ç”¨åˆ‡é¢çš„é€šçŸ¥</p>
</li>
<li><p>åˆ‡é¢æ˜¯é€šçŸ¥å’Œåˆ‡ç‚¹çš„ç»“åˆï¼Œå…±åŒå®šä¹‰äº†å…³äºåˆ‡é¢çš„å…¨éƒ¨å†…å®¹â€”å®ƒæ˜¯ä»€ä¹ˆï¼Œä»¥åŠåœ¨ä½•æ—¶ä½•å¤„å®Œæˆå…¶ä»–åŠŸèƒ½</p>
</li>
<li><p>å¼•å…¥ï¼ˆIntroductionï¼‰å…è®¸æˆ‘ä»¬å‘ç°æœ‰çš„ç±»æ·»åŠ æ–°æ–¹æ³•æˆ–å±æ€§ï¼Œé€šè¿‡é€šçŸ¥ç±»ï¼Œä»è€Œåœ¨æ— éœ€ä¿®æ”¹ç°æœ‰ç±»çš„æƒ…å†µä¸‹ï¼Œè®©è¿™äº›ç±»å…·æœ‰æ–°çš„è¡Œä¸ºå’ŒçŠ¶æ€</p>
</li>
<li><p>ç»‡å…¥ï¼ˆWeavingï¼‰æ˜¯å°†åˆ‡é¢åº”ç”¨åˆ°ç›®æ ‡å¯¹è±¡æ¥åˆ›å»ºæ–°çš„ä»£ç†å¯¹è±¡çš„è¿‡ç¨‹ï¼Œåˆ‡é¢åœ¨æŒ‡å®šçš„è¿æ¥ç‚¹è¢«ç»‡å…¥åˆ°ç›®æ ‡å¯¹è±¡ä¸­ï¼ˆæ³¨å…¥å‰ç½®ã€åç½®é€šçŸ¥ç­‰ï¼‰ï¼š</p>
<ul>
<li>ç¼–è¯‘æœŸâ€”â€”åˆ‡é¢åœ¨ç›®æ ‡ç±»ç¼–è¯‘æœŸè¢«ç»‡å…¥ï¼Œéœ€è¦ç‰¹æ®Šçš„ç¼–è¯‘å™¨ï¼Œå¦‚AspectJ</li>
<li>ç±»åŠ è½½æœŸâ€”â€”åˆ‡é¢åœ¨ç›®æ ‡ç±»åŠ è½½åˆ°JVMæ—¶è¢«ç»‡å…¥ï¼Œéœ€è¦ç‰¹æ®Šçš„ç±»åŠ è½½å™¨ï¼ˆClassLoaderï¼‰</li>
<li>è¿è¡ŒæœŸâ€”â€”åˆ‡é¢åœ¨åº”ç”¨è¿è¡ŒæŸä¸ªæ—¶åˆ»è¢«ç»‡å…¥ï¼Œåœ¨ç»‡å…¥åˆ‡é¢æ—¶ï¼ŒAOPå®¹å™¨ä¼šä¸ºç›®æ ‡å¯¹è±¡åŠ¨æ€åœ°åˆ›å»ºä¸€ä¸ªä»£ç†å¯¹è±¡ï¼Œ<strong><em>Spring AOPå°±æ˜¯ä»¥è¿™ç§æ–¹å¼ç»‡å…¥åˆ‡é¢çš„ï¼</em></strong></li>
</ul>
</li>
<li><p>Springå¯¹AOPçš„æ”¯æŒï¼š</p>
<ol>
<li>åŸºäºä»£ç†çš„ç»å…¸AOP</li>
<li>@AspectJæ³¨è§£é©±åŠ¨çš„åˆ‡é¢</li>
<li>çº¯POJOåˆ‡é¢</li>
<li>æ³¨å…¥å¼AspectJåˆ‡é¢</li>
</ol>
<ul>
<li>é€šçŸ¥æ˜¯Javaç¼–å†™â€”â€”Springæ‰€åˆ›å»ºçš„é€šçŸ¥éƒ½æ˜¯ç”¨æ ‡å‡†çš„Javaç±»ç¼–å†™çš„</li>
<li>åœ¨è¿è¡ŒæœŸé€šçŸ¥å¯¹è±¡â€”â€”Springåœ¨è¿è¡ŒæœŸæ‰åˆ›å»ºä»£ç†å¯¹è±¡ï¼Œä¸éœ€è¦ç‰¹æ®Šçš„ç¼–è¯‘å™¨æ¥ç»‡å…¥Spring AOPçš„åˆ‡é¢</li>
<li>Springåªæ”¯æŒæ–¹æ³•è¿æ¥ç‚¹â€”â€”SpringåŸºäºåŠ¨æ€ä»£ç†ï¼Œåªæ”¯æŒæ–¹æ³•è¿æ¥ç‚¹ï¼Œä¸æ”¯æŒæ„é€ å™¨å’Œå­—æ®µè¿æ¥ç‚¹</li>
</ul>
</li>
<li><p><strong>é€šè¿‡æ³¨è§£è¿›è¡Œåˆ‡é¢æ“ä½œæ ·ä¾‹ï¼š</strong></p>
<ol>
<li><p>æ·»åŠ Spring aopä»¥åŠAspectJä¾èµ–ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- spring aop --&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-aop<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.aspectj<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>aspectjrt<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.aspectj<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>aspectjweaver<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>ç¼–å†™æ‹¦æˆªè§„åˆ™çš„æ³¨è§£ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Target</span>(ElementType.METHOD)</span><br><span class="line"><span class="meta">@Retention</span>(RetentionPolicy.RUNTIME)</span><br><span class="line"><span class="meta">@Documented</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> aop &#123;</span><br><span class="line">    <span class="function">String <span class="title">name</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// å­¦è¿‡Javaæ³¨è§£å°±å¾ˆå¥½ç†è§£è¿™éƒ¨åˆ†çš„å†…å®¹</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>ç¼–å†™ä½¿ç”¨æ³¨è§£çš„è¢«æ‹¦æˆªç±»ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DemoAnnotationService</span> </span>&#123;</span><br><span class="line">    <span class="meta">@aop</span>(name=<span class="string">"æ³¨è§£å¼æ‹¦æˆªçš„addæ“ä½œ"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"æ‰§è¡ŒDemoAnnotationService.add!"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// é€šè¿‡æ³¨è§£aopæ¥ä½œä¸ºåˆ‡ç‚¹</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>ç¼–å†™åˆ‡é¢ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Aspect</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LogAspect</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Pointcut</span>(<span class="string">"@annotation(com.wanderros.actuator.actuator_test.anotation.aop)"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">annotationPointCut</span><span class="params">()</span></span>&#123;&#125;;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@After</span>(<span class="string">"annotationPointCut()"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">after</span><span class="params">(JoinPoint joinPoint)</span> </span>&#123;</span><br><span class="line">        MethodSignature signature=(MethodSignature)joinPoint.getSignature();</span><br><span class="line">        Method method=signature.getMethod();</span><br><span class="line">        aop action=method.getDeclaredAnnotation(aop<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">        System.out.println(<span class="string">"æ³¨è§£å¼æ‹¦æˆªAfter "</span> + action.name());</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Before</span>(<span class="string">"annotationPointCut()"</span>)</span><br><span class="line"> <span class="function"><span class="keyword">public</span>  <span class="keyword">void</span> <span class="title">before</span><span class="params">(JoinPoint joinPoint)</span></span>&#123;</span><br><span class="line">        MethodSignature signature=(MethodSignature)joinPoint.getSignature();</span><br><span class="line">        Method method=signature.getMethod();</span><br><span class="line">        System.out.println(<span class="string">"æ³¨è§£å¼æ‹¦æˆªBeforeï¼Œ "</span> + method.getName());</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//ç¼–å†™äº†advie å’Œåˆ‡ç‚¹å…±åŒç»„æˆäº†åˆ‡é¢ ï¼Œä½¿ç”¨@Aspectæ¥å£°æ˜åˆ‡é¢ï¼Œ@Componentæ¥æ³¨å†ŒBean</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>ç¼–å†™é…ç½®ç±»ï¼šï¼ˆä½¿ç”¨@EnableAspectJAutoProxyæ³¨è§£å¼€å¯Springå¯¹AspectJçš„æ”¯æŒï¼‰</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@ComponentScan</span>(<span class="string">"com.wanderros.actuator.actuator_test"</span>)</span><br><span class="line"><span class="meta">@EnableAspectJAutoProxy</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">config</span> </span>&#123;</span><br><span class="line">  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>è¿è¡Œç¨‹åºï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        AnnotationConfigApplicationContext context=<span class="keyword">new</span> AnnotationConfigApplicationContext(config<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">        useFunctionService uses=context.getBean(useFunctionService<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">        FunctionService test=context.getBean(FunctionService<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">        DemoMethodService demoMethodService=context.getBean(DemoMethodService<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">        DemoAnnotationService demoAnnotationService=context.getBean(DemoAnnotationService<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">        demoAnnotationService.add();</span><br><span class="line">        demoMethodService.add();</span><br><span class="line">        context.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// @Before("execution(* com.wanderros.actuator.actuator_test.service.DemoMethodService.*(..))")</span></span><br><span class="line"><span class="comment">// æ–¹æ³•è§„åˆ™è¢«æ‹¦æˆª</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>è¾“å‡ºï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// æ³¨è§£å¼æ‹¦æˆªBeforeï¼Œ add</span></span><br><span class="line"><span class="comment">// æ‰§è¡ŒDemoAnnotationService.add!</span></span><br><span class="line"><span class="comment">// æ³¨è§£å¼æ‹¦æˆªAfter æ³¨è§£å¼æ‹¦æˆªçš„addæ“ä½œ</span></span><br></pre></td></tr></table></figure>

</li>
</ol>
</li>
</ol>
<h2 id="Springå¸¸ç”¨é…ç½®"><a href="#Springå¸¸ç”¨é…ç½®" class="headerlink" title="Springå¸¸ç”¨é…ç½®"></a>Springå¸¸ç”¨é…ç½®</h2><ol>
<li><p>Scopeæè¿°çš„æ˜¯Springå®¹å™¨å¦‚ä½•æ–°å»ºBeançš„å®ä¾‹ï¼Œé€šè¿‡@Scopeæ³¨è§£æ¥å®ç°ï¼š</p>
<ol>
<li>singletonï¼šä¸€ä¸ªSpringå®¹å™¨ä¸­åªæœ‰ä¸€ä¸ªBeançš„å®ä¾‹ï¼Œæ­¤ä¸ºSpringçš„é»˜è®¤é…ç½®ï¼Œå…¨å®¹å™¨å…±äº«ä¸€ä¸ªå®ä¾‹</li>
<li>prototypeï¼šæ¯æ¬¡è°ƒç”¨æ–°å»ºä¸€ä¸ªBeanå®ä¾‹</li>
<li>requestï¼šWebé¡¹ç›®ä¸­ï¼Œç»™æ¯ä¸€ä¸ªhttp requestæ–°å»ºä¸€ä¸ªBeanå®ä¾‹</li>
<li>sessionï¼šWebé¡¹ç›®ä¸­ï¼Œç»™æ¯ä¸€ä¸ªhttp sessionæ–°å»ºä¸€ä¸ªBeanå®ä¾‹</li>
<li>globalSessionï¼šåªåœ¨portalåº”ç”¨ä¸­æœ‰ç”¨ï¼Œç»™æ¯ä¸€ä¸ªglobal http sessionæ–°å»ºä¸€ä¸ªBeanå®ä¾‹</li>
</ol>
</li>
<li><p>æ ·ä¾‹ï¼š</p>
<ol>
<li><p>åˆ›å»ºä¸€ä¸ªsingletonçš„ç±»ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="comment">//@Scope("singleton")</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SingletonService</span> </span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>åˆ›å»ºä¸€ä¸ªprototypeçš„ç±»ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="meta">@Scope</span>(<span class="string">"prototype"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PrototypeService</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ¯”è¾ƒï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        AnnotationConfigApplicationContext context=<span class="keyword">new</span> AnnotationConfigApplicationContext(config<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">        SingletonService singletonService=context.getBean(SingletonService<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">        SingletonService singletonService2=context.getBean(SingletonService<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">        PrototypeService prototypeService=context.getBean(PrototypeService<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">        PrototypeService prototypeService2=context.getBean(PrototypeService<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">        System.out.println(<span class="string">"single: "</span>+singletonService.equals(singletonService2));</span><br><span class="line">        System.out.println(<span class="string">"prototype: "</span>+prototypeService.equals(prototypeService2));</span><br><span class="line">        context.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>è¾“å‡ºï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// single: true</span></span><br><span class="line"><span class="comment">// prototype: false</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
<li><p><strong>Springèµ„æºæ³¨å…¥ï¼š</strong></p>
<ol>
<li><p>Spring EL-Springè¡¨è¾¾å¼è¯­è¨€ï¼Œæ”¯æŒåœ¨xmlå’Œæ³¨è§£ä¸­ä½¿ç”¨è¡¨è¾¾å¼ï¼Œå¼€å‘ä¸­ç»å¸¸æ¶‰åŠè°ƒç”¨å„ç§èµ„æºçš„æƒ…å†µï¼Œæ¶‰åŠï¼š</p>
<ul>
<li>æ™®é€šæ–‡ä»¶</li>
<li>ç½‘å€</li>
<li>é…ç½®æ–‡ä»¶</li>
<li>ç³»ç»Ÿç¯å¢ƒå˜é‡</li>
<li>â€¦ â€¦ </li>
</ul>
</li>
<li><p>Springä¸»è¦åœ¨æ³¨è§£@Valueçš„å‚æ•°è¡¨è¾¾å¼ä¸­ä½¿ç”¨è¡¨è¾¾å¼ï¼›</p>
</li>
<li><p>å¸¸è§æ³¨å…¥æƒ…å†µï¼š</p>
<ul>
<li>æ³¨å…¥æ™®é€šå­—ç¬¦</li>
<li>æ³¨å…¥æ“ä½œç³»ç»Ÿå±æ€§</li>
<li>æ³¨å…¥è¡¨è¾¾å¼è¿ç®—ç»“æœ</li>
<li>æ³¨å…¥å…¶ä»–Beançš„å±æ€§</li>
<li>æ³¨å…¥æ–‡ä»¶å†…å®¹</li>
<li>æ³¨å…¥ç½‘å€å†…å®¹</li>
<li>æ³¨å…¥å±æ€§æ–‡ä»¶</li>
</ul>
</li>
<li><p>æ ·ä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"> <span class="comment">// æ™®é€šå­—ç¬¦</span></span><br><span class="line">    <span class="meta">@Value</span>(<span class="string">"I love you!"</span>)</span><br><span class="line">    <span class="keyword">private</span> String normal;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ“ä½œç³»ç»Ÿå±æ€§</span></span><br><span class="line">    <span class="meta">@Value</span>(<span class="string">"#&#123;systemProperties['os.name']&#125;"</span>)</span><br><span class="line">    <span class="keyword">private</span> String osName;</span><br><span class="line"></span><br><span class="line"><span class="comment">// éšæœºå€¼</span></span><br><span class="line">    <span class="meta">@Value</span>(<span class="string">"#&#123;T(java.lang.Math).random()*100.0&#125;"</span>)</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">double</span> randomNumber;</span><br><span class="line"></span><br><span class="line"><span class="comment">// é…ç½®nameå­˜åœ¨åˆ™ä¸ºnameçš„å€¼ï¼Œå¦åˆ™ä¸ºtest</span></span><br><span class="line">    <span class="meta">@Value</span>(<span class="string">"$&#123;name:test&#125;"</span>)</span><br><span class="line">   <span class="keyword">private</span> String fromAnother;</span><br><span class="line"></span><br><span class="line"><span class="comment">// application.properties æ–‡ä»¶ä¸­çš„é…ç½®</span></span><br><span class="line">    <span class="meta">@Value</span>(<span class="string">"$&#123;book.name&#125;"</span>)</span><br><span class="line">    <span class="keyword">private</span> String bookName;</span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
<li><p><strong>Beançš„åˆå§‹åŒ–å’Œé”€æ¯ï¼š</strong></p>
<ol>
<li><p>å®é™…å¼€å‘è¿‡ç¨‹ä¸­ï¼Œç»å¸¸ä¼šé‡åˆ°åœ¨Beanä½¿ç”¨ä¹‹å‰æˆ–è€…ä¹‹ååšäº›å¿…è¦çš„æ“ä½œ,Springå¯¹Beançš„ç”Ÿå‘½å‘¨æœŸçš„æ“ä½œæä¾›äº†æ”¯æŒï¼š</p>
<ul>
<li>Javaé…ç½®æ–¹å¼ï¼šä½¿ç”¨@Beançš„initMethodå’ŒdestoryMethod</li>
<li>æ³¨è§£æ–¹å¼ï¼šåˆ©ç”¨JSR-250çš„@PostConstructå’Œ@PreDestroy</li>
</ul>
</li>
<li><p>æ ·ä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="comment">//@Scope("singleton")</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SingletonService</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"@Bean init"</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">destory</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"@Bean Destory"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">SingletonService</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">super</span>();</span><br><span class="line">        System.out.println(<span class="string">"@Bean service construct!"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@Bean</span>(initMethod = <span class="string">"init"</span>,destroyMethod = <span class="string">"destory"</span>)</span><br><span class="line">    <span class="function">SingletonService <span class="title">singletonService</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> SingletonService();</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">//è¾“å‡º</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"><span class="doctag">@Bean</span> service construct!</span></span><br><span class="line"><span class="comment"><span class="doctag">@Bean</span> init</span></span><br><span class="line"><span class="comment"><span class="doctag">@Bean</span> Destory</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="comment">//@Scope("singleton")</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SingletonService</span> </span>&#123;</span><br><span class="line">    <span class="meta">@PostConstruct</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"@Bean init"</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@PreDestroy</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">destory</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"@Bean Destory"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">SingletonService</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">super</span>();</span><br><span class="line">        System.out.println(<span class="string">"@Bean service construct!"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>initMethodå¯¹åº”çš„æ–¹æ³•ä¼šåœ¨æ„é€ å™¨æ‰§è¡Œä¹‹åæ‰§è¡Œï¼Œè€ŒdestroyMethodå¯¹åº”çš„æ–¹æ³•ä¼šåœ¨Beané”€æ¯ä¹‹å‰æ‰§è¡Œï¼›</p>
</li>
<li><p>@PostConstructå¯¹åº”çš„æ–¹æ³•ä¼šåœ¨æ„é€ å™¨æ‰§è¡Œä¹‹åæ‰§è¡Œï¼Œè€Œ@PreDestroyå¯¹åº”çš„æ–¹æ³•ä¼šåœ¨Beané”€æ¯ä¹‹å‰æ‰§è¡Œï¼</p>
</li>
</ol>
</li>
<li><p><strong>äº‹ä»¶ï¼ˆApplication Eventï¼‰ï¼š</strong></p>
<ol>
<li><p>Springçš„äº‹ä»¶ä¸ºBeanä¸Beanä¹‹é—´æ‡‚å¾—æ¶ˆæ¯é€šä¿¡æä¾›äº†æ”¯æŒ,å½“ä¸€ä¸ªBeanå¤„ç†å®Œä¸€ä¸ªä»»åŠ¡ä¹‹å,å¸Œæœ›å¦å¤–ä¸€ä¸ªBeançŸ¥é“å¹¶èƒ½åšç›¸åº”çš„å¤„ç†,åˆ™éœ€è¦è®©å¦ä¸€ä¸ªBeanç›‘å¬å½“å‰Beanæ‰€å‘é€çš„äº‹ä»¶ï¼›</p>
</li>
<li><p>æµç¨‹ï¼š</p>
<ul>
<li>è‡ªå®šä¹‰äº‹ä»¶ï¼Œç»§æ‰¿ApplicationEvent</li>
<li>å®šä¹‰äº‹ä»¶ç›‘å¬å™¨ï¼Œå®ç°ApplicationListener</li>
<li>ä½¿ç”¨å®¹å™¨å‘å¸ƒäº‹ä»¶</li>
</ul>
</li>
<li><p>æ ·ä¾‹çš„éƒ¨åˆ†ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// è‡ªå®šä¹‰äº‹ä»¶</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DemoEvent</span> <span class="keyword">extends</span> <span class="title">ApplicationEvent</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">long</span> serialVersionUID=<span class="number">1L</span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">DemoEvent</span><span class="params">(Object source)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(source);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">DemoEvent</span><span class="params">(Object source,String msg)</span></span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(source);</span><br><span class="line">        <span class="keyword">this</span>.msg=msg;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getMsg</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> msg;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setMsg</span><span class="params">(String msg)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.msg = msg;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String msg;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è‡ªå®šä¹‰ç›‘å¬å™¨</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DemoListener</span> <span class="keyword">implements</span> <span class="title">ApplicationListener</span>&lt;<span class="title">DemoEvent</span>&gt; </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onApplicationEvent</span><span class="params">(DemoEvent demoEvent)</span> </span>&#123;</span><br><span class="line">        String msg=demoEvent.getMsg();</span><br><span class="line">        System.out.println(<span class="string">"æˆ‘æ¥æ”¶åˆ°äº†æ¥è‡ª"</span>+demoEvent.getSource()+<span class="string">"å‘å¸ƒçš„æ¶ˆæ¯"</span> + msg);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å‘å¸ƒäº‹ä»¶</span></span><br><span class="line">AnnotationConfigApplicationContext context=<span class="keyword">new</span>    AnnotationConfigApplicationContext(config<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">context.publishEvent(<span class="keyword">new</span> DemoEvent(context,<span class="string">"Hello"</span>));</span><br><span class="line">context.close();</span><br><span class="line"><span class="comment">/**è¾“å‡º</span></span><br><span class="line"><span class="comment">æˆ‘æ¥æ”¶åˆ°äº†æ¥è‡ªorg.springframework.context.annotation.AnnotationConfigApplicationContext@71623278, started on Tue May 19 20:36:13 CST 2020å‘å¸ƒçš„æ¶ˆæ¯Hello</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

</li>
</ol>
</li>
</ol>
<h2 id="Spring-Aware"><a href="#Spring-Aware" class="headerlink" title="Spring Aware"></a>Spring Aware</h2><ol>
<li><p>Springçš„ä¾èµ–æ³¨å…¥æœ€å¤§äº®ç‚¹æ˜¯ä½ æ‰€æœ‰çš„Beanå¯¹Springå®¹å™¨çš„å­˜åœ¨æ˜¯æ²¡æœ‰æ„è¯†çš„ï¼Œå³Beanä¹‹é—´çš„è€¦åˆåº¦å¾ˆä½ï¼Œä½†æ˜¯ä¸å¯é¿å…çš„è¦ä½¿ç”¨Springå®¹å™¨æœ¬èº«çš„åŠŸèƒ½èµ„æºï¼Œè¿™æ—¶å€™Beanå¿…é¡»æ„è¯†åˆ°Springå®¹å™¨çš„å­˜åœ¨ï¼Œæ‰èƒ½è°ƒç”¨Springæ‰€æä¾›çš„èµ„æºï¼›</p>
</li>
<li><p>Spring Awareä¸»è¦å°±æ˜¯ä¸ºäº†ä¸Šè¿°ç›®çš„è€Œå­˜åœ¨çš„ï¼Œå®é™…ä¸Šæ˜¯è®¾è®¡ç”¨æ¥æ¡†æ¶å†…ä½¿ç”¨ï¼Œè‹¥ä½¿ç”¨äº†Spring Awareï¼Œåˆ™Beanä¼šå’ŒSpringæ¡†æ¶è€¦åˆï¼ˆå…³è”ç¨‹åº¦é«˜ï¼‰ï¼›</p>
</li>
<li><p>Spring æä¾›çš„Awareæ¥å£ï¼š</p>
<table>
<thead>
<tr>
<th>æ¥å£</th>
<th>åŠŸèƒ½</th>
</tr>
</thead>
<tbody><tr>
<td>BeanNameAware</td>
<td>è·å¾—åˆ°å®¹å™¨ä¸­Beançš„åç§°</td>
</tr>
<tr>
<td>BeanFactoryAware</td>
<td>è·å¾—å½“å‰Bean Factoryï¼Œè¿™æ ·å¯ä»¥è°ƒç”¨å®¹å™¨çš„æœåŠ¡</td>
</tr>
<tr>
<td>ApplicationContextAware*</td>
<td>å½“å‰çš„application contextï¼Œè¿™æ ·å¯ä»¥è°ƒç”¨å®¹å™¨çš„æœåŠ¡</td>
</tr>
<tr>
<td>MessageSourceAware</td>
<td>è·å¾—message sourceï¼Œè¿™æ ·å¯ä»¥è·å¾—æ–‡æœ¬ä¿¡æ¯</td>
</tr>
<tr>
<td>ApplicationEventPublisherAware</td>
<td>åº”ç”¨äº‹ä»¶å‘å¸ƒå™¨ï¼Œå¯ä»¥å‘å¸ƒäº‹ä»¶</td>
</tr>
<tr>
<td>ResourceLoaderAware</td>
<td>è·å¾—èµ„æºåŠ è½½å™¨ï¼Œå¯ä»¥è·å¾—å¤–éƒ¨èµ„æºæ–‡ä»¶</td>
</tr>
</tbody></table>
</li>
<li><p>Spring Awareçš„ç›®çš„æ˜¯ä¸ºäº†è®©Beanè·å¾—Springå®¹å™¨çš„æœåŠ¡ï¼Œå› ä¸ºApplicationContextæ¥å£é›†æˆäº†MessageSourceæ¥å£ã€ApplicationEventPublisheræ¥å£å’ŒResourceLoaderæ¥å£ï¼Œæ‰€ä»¥Beanå¯ä»¥é€šè¿‡ç»§æ‰¿ApplicationContextAwareæ¥è·å¾—Springå®¹å™¨çš„æ‰€æœ‰æœåŠ¡ï¼›</p>
</li>
<li><p>æ ·ä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// AwareService.java</span></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AwareService</span> <span class="keyword">implements</span> <span class="title">BeanNameAware</span>, <span class="title">ResourceLoaderAware</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String beanName;</span><br><span class="line">    <span class="keyword">private</span> ResourceLoader loader;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setBeanName</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.beanName=s;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setResourceLoader</span><span class="params">(ResourceLoader resourceLoader)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.loader=resourceLoader;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">outputResult</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"Beançš„åç§°æ˜¯ï¼š"</span> + beanName);</span><br><span class="line">        Resource res=loader.getResource(<span class="string">"test.property"</span>);</span><br><span class="line"></span><br><span class="line">        System.out.println( IOUtils.toString(res.getInputStream()));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Main.java</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        AnnotationConfigApplicationContext context=<span class="keyword">new</span> AnnotationConfigApplicationContext(config<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">        <span class="comment">//context.publishEvent(new DemoEvent(context,"Hello"));</span></span><br><span class="line">        AwareService as=context.getBean(AwareService<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">        as.outputResult();</span><br><span class="line"></span><br><span class="line">        context.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>æ³¨æ„ï¼štest.propertyè¦åœ¨resourcesç›®å½•ä¸‹</li>
<li>å®ç° BeanNameAware, ResourceLoaderAwareçš„æ¥å£ï¼Œè·å¾—Beanåç§°å’Œèµ„æºåŠ è½½çš„æœåŠ¡</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">**è¾“å‡º</span></span><br><span class="line"><span class="comment">Beançš„åç§°æ˜¯ï¼šawareService</span></span><br><span class="line"><span class="comment">book.author=wander</span></span><br><span class="line"><span class="comment">book.name= fuck spring boot</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

</li>
</ol>
<h2 id="ä»»åŠ¡"><a href="#ä»»åŠ¡" class="headerlink" title="ä»»åŠ¡"></a>ä»»åŠ¡</h2><h3 id="å¤šçº¿ç¨‹å¼‚æ­¥ä»»åŠ¡ä»»åŠ¡"><a href="#å¤šçº¿ç¨‹å¼‚æ­¥ä»»åŠ¡ä»»åŠ¡" class="headerlink" title="å¤šçº¿ç¨‹å¼‚æ­¥ä»»åŠ¡ä»»åŠ¡"></a>å¤šçº¿ç¨‹å¼‚æ­¥ä»»åŠ¡ä»»åŠ¡</h3><ol>
<li><p>Spring é€šè¿‡ä»»åŠ¡æ‰§è¡Œå™¨ï¼ˆTaskExecutorï¼‰æ¥å®ç°å¤šçº¿ç¨‹å’Œå¹¶å‘ç¼–ç¨‹ï¼Œä½¿ç”¨ThreadPoolTaskExecutorå¯å®ç°ä¸€ä¸ªåŸºäºçº¿ç¨‹æ± çš„TaskExecutor,éœ€è¦åœ¨é…ç½®ç±»ä¸­é€šè¿‡@EnableAsyncå¼€å¯å¯¹å¼‚æ­¥çš„æ”¯æŒï¼Œå¹¶é€šè¿‡å¯¹å®é™…æ‰§è¡Œçš„Beanæ–¹æ³•ä½¿ç”¨@Asyncæ³¨è§£æ¥å£°æ˜å…¶æ˜¯ä¸€ä¸ªå¼‚æ­¥ä»»åŠ¡ï¼›</p>
</li>
<li><p>æ ·ä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@EnableAsync</span></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@ComponentScan</span>(<span class="string">"com.wanderros.actuator.actuator_test"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TaskExecutorConfig</span> <span class="keyword">implements</span> <span class="title">AsyncConfigurer</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Executor <span class="title">getAsyncExecutor</span><span class="params">()</span></span>&#123;</span><br><span class="line">        ThreadPoolTaskExecutor taskExecutor=<span class="keyword">new</span> ThreadPoolTaskExecutor();</span><br><span class="line">        taskExecutor.setCorePoolSize(<span class="number">5</span>);</span><br><span class="line">        taskExecutor.setMaxPoolSize(<span class="number">10</span>);</span><br><span class="line">        taskExecutor.setQueueCapacity(<span class="number">25</span>);</span><br><span class="line">        taskExecutor.initialize();</span><br><span class="line">        <span class="keyword">return</span> taskExecutor;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> AsyncUncaughtExceptionHandler <span class="title">getAsyncUncaughtExceptionHandler</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">asyncTaskService</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Async</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">executeAsyncTask</span><span class="params">(Integer i)</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"æ‰§è¡Œå¼‚æ­¥ä»»åŠ¡ï¼š "</span> + i);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Async</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">executeAsyncTaskPlus</span><span class="params">(Integer i)</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"æ‰§è¡Œå¼‚æ­¥ä»»åŠ¡+1ï¼š "</span>+(++i) );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ‰§è¡Œ</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        AnnotationConfigApplicationContext context=<span class="keyword">new</span> AnnotationConfigApplicationContext(TaskExecutorConfig<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">        asyncTaskService as=context.getBean(asyncTaskService<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">10</span>;++i)</span><br><span class="line">        &#123;</span><br><span class="line">            as.executeAsyncTask(i);</span><br><span class="line">            as.executeAsyncTaskPlus(i);</span><br><span class="line">        &#125;</span><br><span class="line">        context.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>å¼‚æ­¥ä»»åŠ¡çš„æ‰§è¡Œæ˜¯æ²¡å‘é¢„æµ‹å…ˆåé¡ºåºçš„ï¼Œå¯èƒ½å…ˆæ‰§è¡Œä¹Ÿå¯èƒ½åæ‰§è¡Œï¼å› æ­¤ä¸Šè¿°ä»£ç æ˜¯æ²¡æœ‰å”¯ä¸€çš„è¾“å‡ºç»“æœçš„ï¼</p>
</li>
<li><p>å¦‚æœ@Asyncæ³¨è§£åœ¨ç±»çº§åˆ«ï¼Œåˆ™è¡¨é¢è¯¥ç±»çš„æ‰€æœ‰æ–¹æ³•éƒ½æ˜¯å¼‚æ­¥æ–¹æ³•ã€‚</p>
</li>
</ol>
<h3 id="è®¡åˆ’ä»»åŠ¡"><a href="#è®¡åˆ’ä»»åŠ¡" class="headerlink" title="è®¡åˆ’ä»»åŠ¡"></a>è®¡åˆ’ä»»åŠ¡</h3><ol>
<li><p>è®¡åˆ’ä»»åŠ¡åœ¨Springä¸­å®ç°éå¸¸ç®€å•ï¼š</p>
<ol>
<li>é¦–å…ˆé€šè¿‡é…ç½®ç±»æ³¨è§£@EnableSchedulingæ¥å¼€å¯å¯¹è®¡åˆ’ä»»åŠ¡çš„æ”¯æŒ</li>
<li>ç„¶ååœ¨è¦æ‰§è¡Œè®¡åˆ’ä»»åŠ¡çš„æ–¹æ³•ä¸Šæ³¨è§£@Scheduledæ¥å£°æ˜è¿™æ˜¯ä¸€ä¸ªè®¡åˆ’ä»»åŠ¡</li>
</ol>
</li>
<li><p>Springé€šè¿‡@Scheduledæ”¯æŒå¤šç§ç±»å‹çš„è®¡åˆ’ä»»åŠ¡ï¼ŒåŒ…å«cronã€fixDelayã€fixRateç­‰ï¼›</p>
</li>
<li><p>æ ·ä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@EnableAsync</span></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@EnableScheduling</span></span><br><span class="line"><span class="meta">@ComponentScan</span>(<span class="string">"com.wanderros.actuator.actuator_test"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TaskExecutorConfig</span> <span class="keyword">implements</span> <span class="title">AsyncConfigurer</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Executor <span class="title">getAsyncExecutor</span><span class="params">()</span></span>&#123;</span><br><span class="line">        ThreadPoolTaskExecutor taskExecutor=<span class="keyword">new</span> ThreadPoolTaskExecutor();</span><br><span class="line">        taskExecutor.setCorePoolSize(<span class="number">5</span>);</span><br><span class="line">        taskExecutor.setMaxPoolSize(<span class="number">10</span>);</span><br><span class="line">        taskExecutor.setQueueCapacity(<span class="number">25</span>);</span><br><span class="line">        taskExecutor.initialize();</span><br><span class="line">        <span class="keyword">return</span> taskExecutor;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> AsyncUncaughtExceptionHandler <span class="title">getAsyncUncaughtExceptionHandler</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">scheduledTaskService</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> SimpleDateFormat dateFormat=<span class="keyword">new</span> SimpleDateFormat(<span class="string">"HH:mm:ss"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Scheduled</span>(fixedRate = <span class="number">5000</span>)</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">reportCurrentTime</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"æ¯éš”5ç§’æ‰§è¡Œä¸€æ¬¡ :"</span> + dateFormat.format(<span class="keyword">new</span> Date()));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Scheduled</span>(cron=<span class="string">"50/1 * * * * *"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">cronFixTimeExecution</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"æŒ‡å®šæ—¶é—´æ‰§è¡Œï¼š"</span> + dateFormat.format(<span class="keyword">new</span> Date()) + <span class="string">"!"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        AnnotationConfigApplicationContext context=<span class="keyword">new</span> AnnotationConfigApplicationContext(TaskExecutorConfig<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">      <span class="comment">//  context.close();</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>è¾“å‡ºï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">æ¯éš”5ç§’æ‰§è¡Œä¸€æ¬¡ :09:57:45</span></span><br><span class="line"><span class="comment">æŒ‡å®šæ—¶é—´æ‰§è¡Œï¼š09:57:50!</span></span><br><span class="line"><span class="comment">æ¯éš”5ç§’æ‰§è¡Œä¸€æ¬¡ :09:57:50</span></span><br><span class="line"><span class="comment">æŒ‡å®šæ—¶é—´æ‰§è¡Œï¼š09:57:51!</span></span><br><span class="line"><span class="comment">æŒ‡å®šæ—¶é—´æ‰§è¡Œï¼š09:57:52!</span></span><br><span class="line"><span class="comment">æŒ‡å®šæ—¶é—´æ‰§è¡Œï¼š09:57:53!</span></span><br><span class="line"><span class="comment">æŒ‡å®šæ—¶é—´æ‰§è¡Œï¼š09:57:54!</span></span><br><span class="line"><span class="comment">æŒ‡å®šæ—¶é—´æ‰§è¡Œï¼š09:57:55!</span></span><br><span class="line"><span class="comment">æ¯éš”5ç§’æ‰§è¡Œä¸€æ¬¡ :09:57:55</span></span><br><span class="line"><span class="comment">æŒ‡å®šæ—¶é—´æ‰§è¡Œï¼š09:57:56!</span></span><br><span class="line"><span class="comment">æŒ‡å®šæ—¶é—´æ‰§è¡Œï¼š09:57:57!</span></span><br><span class="line"><span class="comment">æŒ‡å®šæ—¶é—´æ‰§è¡Œï¼š09:57:58!</span></span><br><span class="line"><span class="comment">æŒ‡å®šæ—¶é—´æ‰§è¡Œï¼š09:57:59!</span></span><br><span class="line"><span class="comment">æ¯éš”5ç§’æ‰§è¡Œä¸€æ¬¡ :09:58:00</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>fixedRateå±æ€§æ˜¯æ¯éš”å›ºå®šæ—¶é—´æ‰§è¡Œï¼Œå•ä½æ˜¯æ¯«ç§’</p>
</li>
<li><p>cronå±æ€§å¯ä»¥æŒ‰ç…§æŒ‡å®šæ—¶é—´æ‰§è¡Œï¼Œcronæ˜¯Unix å’ŒLinuxç³»ç»Ÿä¸‹çš„å®šæ—¶ä»»åŠ¡ï¼Œç„¶åæŒ‰ç…§é‚£ä¸ªæ ¼å¼æ¥å°±å¯ä»¥äº†</p>
</li>
</ol>
<h2 id="æ³¨è§£"><a href="#æ³¨è§£" class="headerlink" title="æ³¨è§£"></a>æ³¨è§£</h2><h3 id="æ¡ä»¶æ³¨è§£"><a href="#æ¡ä»¶æ³¨è§£" class="headerlink" title="æ¡ä»¶æ³¨è§£"></a>æ¡ä»¶æ³¨è§£</h3><ol>
<li><p>Springæä¾›äº†åŸºäºæ¡ä»¶çš„Beançš„åˆ›å»ºï¼Œä½¿ç”¨@Conditionalæ³¨è§£ï¼›</p>
</li>
<li><p>@Conditionalæ ¹æ®æ»¡è¶³æŸä¸€ä¸ªç‰¹å®šæ¡ä»¶åˆ›å»ºä¸€ä¸ªç‰¹å®šçš„Beanï¼š</p>
<ul>
<li>å½“æŸä¸€ä¸ªjaråŒ…åœ¨ä¸€ä¸ªç±»è·¯å¾„ä¸‹çš„æ—¶å€™ï¼Œè‡ªåŠ¨é…ç½®ä¸€ä¸ªæˆ–å¤šä¸ªBean</li>
<li>åªæœ‰æŸä¸ªBeanè¢«åˆ›å»ºæ‰ä¼šåˆ›å»ºå¦å¤–ä¸€ä¸ªBean</li>
<li>â€¦ â€¦</li>
</ul>
</li>
<li><p>é€šè¿‡å®ç°Conditionæ¥å£ï¼Œå¹¶é‡å†™å…¶matcheræ–¹æ³•æ¥æ„é€ åˆ¤æ–­æ¡ä»¶ï¼›</p>
</li>
<li><p>å¯¹Beançš„å®ç°ä½¿ç”¨@Conditionalæ¥ä½¿ç”¨å®ç°æ¥å£çš„classï¼›</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/455456454952b8c3fb77d3fb5b33bbb0-199922" alt=""></p>
</li>
<li><p>æ ·ä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// è‡ªå®šä¹‰Condition</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">myCondition</span> <span class="keyword">implements</span> <span class="title">Condition</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">matches</span><span class="params">(ConditionContext conditionContext, AnnotatedTypeMetadata annotatedTypeMetadata)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> conditionContext.getEnvironment().getProperty(<span class="string">"os.name"</span>).contains(<span class="string">"Mac OS X"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">myCondition2</span> <span class="keyword">implements</span> <span class="title">Condition</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">matches</span><span class="params">(ConditionContext conditionContext, AnnotatedTypeMetadata annotatedTypeMetadata)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> conditionContext.getEnvironment().getProperty(<span class="string">"os.name"</span>).contains(<span class="string">"Linux"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// è‡ªå®šä¹‰æ¥å£</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">ListServiceinterface</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">showListCmd</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// è‡ªå®šä¹‰æœåŠ¡</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ListService</span> <span class="keyword">implements</span> <span class="title">ListServiceinterface</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">showListCmd</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"Mac OS"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ListService2</span> <span class="keyword">implements</span> <span class="title">ListServiceinterface</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">showListCmd</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"Linux"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// æ¡ä»¶æ³¨è§£</span></span><br><span class="line"><span class="meta">@EnableAsync</span></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@EnableScheduling</span></span><br><span class="line"><span class="meta">@ComponentScan</span>(<span class="string">"com.wanderros.actuator.actuator_test"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TaskExecutorConfig</span> <span class="keyword">implements</span> <span class="title">AsyncConfigurer</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Executor <span class="title">getAsyncExecutor</span><span class="params">()</span></span>&#123;</span><br><span class="line">        ThreadPoolTaskExecutor taskExecutor=<span class="keyword">new</span> ThreadPoolTaskExecutor();</span><br><span class="line">        taskExecutor.setCorePoolSize(<span class="number">5</span>);</span><br><span class="line">        taskExecutor.setMaxPoolSize(<span class="number">10</span>);</span><br><span class="line">        taskExecutor.setQueueCapacity(<span class="number">25</span>);</span><br><span class="line">        taskExecutor.initialize();</span><br><span class="line">        <span class="keyword">return</span> taskExecutor;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> AsyncUncaughtExceptionHandler <span class="title">getAsyncUncaughtExceptionHandler</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="meta">@Conditional</span>(myCondition<span class="class">.<span class="keyword">class</span>)</span></span><br><span class="line"><span class="class">    <span class="title">public</span> <span class="title">ListServiceinterface</span> <span class="title">listService</span>()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> ListService();</span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="meta">@Conditional</span>(myCondition2<span class="class">.<span class="keyword">class</span>)</span></span><br><span class="line"><span class="class">    <span class="title">public</span> <span class="title">ListServiceinterface</span> <span class="title">listService</span>()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> ListService2();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// æ‰§è¡Œ</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        AnnotationConfigApplicationContext context=<span class="keyword">new</span> AnnotationConfigApplicationContext(TaskExecutorConfig<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//System.out.println(context.getEnvironment().getProperty("os.name"));</span></span><br><span class="line">        TaskExecutorConfig con=context.getBean(TaskExecutorConfig<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">        ListServiceinterface lsi= con.listService();</span><br><span class="line">        System.out.println(lsi.showListCmd());</span><br><span class="line">        context.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h3 id="ç»„åˆæ³¨è§£å’Œå…ƒæ³¨è§£"><a href="#ç»„åˆæ³¨è§£å’Œå…ƒæ³¨è§£" class="headerlink" title="ç»„åˆæ³¨è§£å’Œå…ƒæ³¨è§£"></a>ç»„åˆæ³¨è§£å’Œå…ƒæ³¨è§£</h3><ol>
<li>Springçš„æ³¨è§£ä¸»è¦ç”¨æ¥é…ç½®æ³¨å…¥Beanï¼Œåˆ‡é¢ç›¸å…³é…ç½®(@Transactional)ï¼Œä½†æ˜¯æ³¨è§£çš„å¤§é‡ä½¿ç”¨ï¼Œç›¸åŒçš„å¤šä¸ªæ³¨è§£ç”¨åˆ°å„ä¸ªç±»ä¸­ï¼Œå°±ç›¸å½“çš„å•°å—¦äº†â€”â€”ç»„åˆæ³¨è§£åº”è¿è€Œç”Ÿï¼</li>
<li>å…ƒæ³¨è§£ï¼šå¯ä»¥æ³¨è§£åˆ°åˆ«çš„æ³¨è§£ä¸Šçš„æ³¨è§£ï¼›</li>
<li>è¢«æ³¨è§£çš„æ³¨è§£ç§°ä¸ºç»„åˆæ³¨è§£ï¼Œç»„åˆæ³¨è§£å…·å¤‡å…ƒæ³¨è§£çš„åŠŸèƒ½ï¼›<ul>
<li>@Configurationå°±æ˜¯ä¸€ä¸ªç»„åˆ@Componentæ³¨è§£ï¼Œè¡¨æ˜è¿™ä¸ªç±»å…¶å®ä¹Ÿæ˜¯ä¸€ä¸ªBean</li>
</ul>
</li>
<li>@Enable*æ³¨è§£ï¼š<ol>
<li>@Enable*çš„å¸¸è§æ³¨è§£ï¼š<ul>
<li>@EnableAspectJAutoProxy å¼€å¯å¯¹AspectJè‡ªåŠ¨ä»£ç†çš„æ”¯æŒ</li>
<li>@EnableAsync å¼€å¯å¼‚æ­¥æ–¹æ³•çš„æ”¯æŒ</li>
<li>@EnableScheduling å¼€å¯è®¡åˆ’ä»»åŠ¡çš„æ”¯æŒ</li>
<li>@EnabelWebMvcå¼€å¯Web MVCçš„é…ç½®æ”¯æŒ</li>
<li>@EnableConfigurationProperties å¼€å¯å¯¹@ConfigurationPropertiesæ³¨è§£é…ç½®Beançš„æ”¯æŒ</li>
<li>@EnableJpaRepositories å¼€å¯å¯¹SpringDataJPA Repositoryçš„æ”¯æŒ</li>
<li>@EnableTransactionManagement å¼€å¯æ³¨è§£å¼äº‹åŠ¡çš„æ”¯æŒ</li>
<li>@EnableCaching å¼€å¯æ³¨è§£å¼çš„ç¼“å­˜æ”¯æŒ</li>
<li>â€¦ â€¦</li>
</ul>
</li>
<li>æ‰€æœ‰çš„@Enable*æ³¨è§£éƒ½æœ‰ä¸€ä¸ª@Importæ³¨è§£ï¼Œ@Importæ˜¯ç”¨æ¥å¯¼å…¥é…ç½®ç±»çš„ï¼Œè‡ªåŠ¨å¼€å¯çš„å®ç°æ˜¯å¯¼å…¥äº†ä¸€äº›è‡ªåŠ¨é…ç½®çš„Beanï¼Œå¯¼å…¥çš„é…ç½®æ–¹å¼ä¸»è¦åˆ†ä¸ºä¸‰ç§ç±»å‹ï¼š<ol>
<li><strong>ç›´æ¥å¯¼å…¥é…ç½®ç±»</strong>ï¼Œæ¯”å¦‚@Import(SchedulingConfiguration.class),ç›´æ¥å¯¼å…¥äº†SchedulingConfigurationï¼Œè¿™ä¸ªç±»æ³¨è§£äº†@Configurationï¼Œä¸”æ³¨å†Œäº†ä¸€ä¸ªscheduledAnnotationProcessorçš„Beanï¼›</li>
<li><strong>ä¾æ®æ¡ä»¶é€‰æ‹©é…ç½®ç±»</strong>ï¼Œæ¯”å¦‚@Import(AsyncConfigurationSelector.class),AsyncConfigurationSelectoré€šè¿‡æ¡ä»¶æ¥é€‰æ‹©éœ€è¦å¯¼å…¥çš„é…ç½®ç±»ï¼Œæ ¹æ¥å£ä¸ºImportSelectorï¼Œéœ€è¦é‡å†™selectImportsæ–¹æ³•ï¼Œåœ¨æ­¤æ–¹æ³•å†…è¿›è¡Œäº‹ä»¶æ¡ä»¶åˆ¤æ–­ï¼›</li>
<li><strong>åŠ¨æ€æ³¨å†ŒBean</strong>ï¼Œæ¯”å¦‚@Import(AspectJAutoProxyRegistrar.class),AspectJAutoProxyRegistrarå®ç°äº†ImportBeanDefinitionRegistraræ¥å£ï¼Œå…¶ä½œç”¨æ˜¯åœ¨è¿è¡Œæ—¶è‡ªåŠ¨æ·»åŠ Beanåˆ°å·²æœ‰çš„é…ç½®ç±»ï¼Œé€šè¿‡é‡å†™æ–¹æ³•registerBeanDefinitionsæ¥å®ç°ï¼›</li>
</ol>
</li>
</ol>
</li>
</ol>
<hr>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>è¿™é‡Œæ‰€è°“çš„å®æˆ˜ï¼Œå®é™…ä¸Šè¿˜æ˜¯åŠŸèƒ½ä¸Šçš„äº†è§£ï¼Œå¹¶ä¸åŒ…å«å®é™…çš„é¡¹ç›®å¼€å‘ï¼Œä½†æ˜¯å­¦å®Œè¿™éƒ¨åˆ†å¯¹äºSpring Bootçš„ç†è§£å¤§æœ‰è£¨ç›Šï¼Œæ¯é¡¹æŠ€æœ¯éƒ½æœ‰è‡ªå·±çš„å‘å±•çš„è¿‡ç¨‹ï¼Œè¿™é‡Œçš„å†…å®¹ä¸æ˜¯æ‰€æœ‰çš„åŸºç¡€ï¼Œè¿˜éœ€è¦æ·±å…¥çš„æ›´å¤šï¼Œæ¥ä¸‹æ¥ä¹Ÿä¼šé™†ç»­ä»‹ç»ï¼Œä½†æ˜¯è¿™é‡Œä½“ç°çš„æœ‰ä¸€ç§æ€æƒ³ï¼Œå°±æ˜¯è¿™é¡¹æŠ€æœ¯æ˜¯ä¸ºäº†è§£å†³ä»€ä¹ˆç—›ç‚¹è€Œå­˜åœ¨çš„ï¼Œç«™åœ¨å½“æ—¶å‘å±•è¿™é¡¹æŠ€æœ¯çš„ç«‹åœºæ¥çœ‹å¾…è¿™é¡¹æŠ€æœ¯ï¼Œå°±ä¼šå‘ç°å½“æ—¶äº§ç”Ÿè¿™ç§æŠ€æœ¯çš„å®è·µè€…çš„æ€æƒ³æœ‰å¤šå…ˆè¿›ï¼Œæ€æƒ³çš„ä¼ æ‰¿çœŸçš„æ˜¯éå¸¸çš„é‡è¦ï¼</p>
]]></content>
      <categories>
        <category>Java</category>
      </categories>
  </entry>
  <entry>
    <title>Spring Boot æ•°æ®æŒä¹…åŒ–</title>
    <url>/2020/05/22/Spring-Boot-%E6%95%B0%E6%8D%AE%E6%8C%81%E4%B9%85%E5%8C%96/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>JavaæŒä¹…å±‚æ¡†æ¶è®¿é—®æ•°æ®åº“çš„æ–¹å¼å¤§è‡´åˆ†ä¸ºä¸¤ç§ï¼šä¸€ç§ä»¥ SQL æ ¸å¿ƒï¼Œå°è£…ä¸€å®šç¨‹åº¦çš„ JDBC æ“ä½œï¼Œæ¯”å¦‚ï¼š MyBatisï¼›å¦ä¸€ç§æ˜¯ä»¥ Java å®ä½“ç±»ä¸ºæ ¸å¿ƒï¼Œå°†å®ä½“ç±»çš„å’Œæ•°æ®åº“è¡¨ä¹‹é—´å»ºç«‹æ˜ å°„å…³ç³»ï¼Œä¹Ÿå°±æ˜¯ORMæ¡†æ¶å¹²çš„äº‹ï¼Œæ¯”å¦‚Hibernateã€Spring Data JPAï¼è¿™ç¯‡æ–‡ç« ä¸»è¦ä»‹ç»Spring Data JPAçš„ç§ç§ï¼ˆé‡åˆ°çš„å‘ï¼Œè¿˜æ˜¯è‡ªå·±ä¸å¤ªæ‡‚Springæ¡†æ¶å¯¼è‡´çš„ï¼‰ï¼</p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="åŸºç¡€çŸ¥è¯†"><a href="#åŸºç¡€çŸ¥è¯†" class="headerlink" title="åŸºç¡€çŸ¥è¯†"></a>åŸºç¡€çŸ¥è¯†</h2><h3 id="JPA"><a href="#JPA" class="headerlink" title="JPA"></a>JPA</h3><ol>
<li><p>ä¸åŒçš„æ•°æ®åº“å‚å•†éƒ½æœ‰è‡ªå·±çš„å®ç°ç±»ï¼Œåæ¥ç»Ÿä¸€è§„èŒƒä¹Ÿå°±æœ‰äº†æ•°æ®åº“é©±åŠ¨ï¼ŒJavaåœ¨æ“ä½œæ•°æ®åº“çš„æ—¶å€™ï¼Œåº•å±‚ä½¿ç”¨çš„å…¶å®æ˜¯JDBCï¼ŒJDBCæ˜¯ä¸€ç»„æ“ä½œä¸åŒæ•°æ®åº“çš„è§„èŒƒï¼›</p>
</li>
<li><p><strong>JPAï¼ˆJava Persistence APIï¼ŒJavaæŒä¹…å±‚APIï¼‰æ˜¯Sunå…¬å¸åœ¨JavaEE 5ä¸­æå‡ºçš„JavaæŒä¹…åŒ–è§„èŒƒ</strong>ï¼›</p>
</li>
<li><p>JPAå¸å–äº†ç›®å‰JavaæŒä¹…åŒ–æŠ€æœ¯çš„ä¼˜ç‚¹ï¼Œæ—¨åœ¨è§„èŒƒã€ç®€åŒ–Javaå¯¹è±¡çš„æŒä¹…åŒ–å·¥ä½œï¼Œå¾ˆå¤šORMæ¡†æ¶éƒ½æ˜¯å®ç°äº†JPAçš„è§„èŒƒï¼Œå¦‚ï¼šHibernateã€EclipseLinkï¼›</p>
</li>
<li><p>æ³¨æ„ï¼šJPAåªæ˜¯ç»Ÿä¸€äº†Javaåº”ç”¨ç¨‹åºè®¿é—®ORMæ¡†æ¶çš„è§„èŒƒï¼</p>
</li>
<li><p>ORMï¼ˆObject Relational Mappingï¼‰å¯¹è±¡å…³ç³»æ˜ å°„ï¼Œåœ¨æ“ä½œæ•°æ®åº“ä¹‹å‰ï¼Œå…ˆæŠŠæ•°æ®è¡¨ä¸å®ä½“ç±»å…³è”èµ·æ¥ï¼›åªè¦æœ‰ä¸€å¥—ç¨‹åºèƒ½å¤Ÿå»ºç«‹å¯¹è±¡å’Œæ•°æ®åº“çš„å…³è”ï¼Œæ“ä½œå¯¹è±¡å°±å¯ä»¥ç›´æ¥æ“ä½œæ•°æ®åº“æ•°æ®ï¼Œå°±å¯ä»¥è¯´è¿™å¥—ç¨‹åºå®ç°äº†ORMå¯¹è±¡å…³ç³»æ˜ å°„ï¼›<strong>ORMæ˜¯ä¸€ä¸ªå®ç°ä½¿ç”¨å¯¹è±¡æ“ä½œæ•°æ®åº“çš„è®¾è®¡æ€æƒ³ï¼ï¼ï¼</strong></p>
</li>
<li><p>å¸¸è§çš„ORMè§„èŒƒï¼šMybatisã€Hibernateã€JPA</p>
</li>
<li><p>JPAè§„èŒƒï¼š</p>
<ul>
<li>ORMï¼ˆObject Relational Mappingï¼‰æ˜ å°„å…ƒæ•°æ®ï¼šJPAæ”¯æŒXMLå’Œæ³¨è§£ä¸¤ç§å…ƒæ•°æ®çš„å½¢å¼ï¼Œå…ƒæ•°æ®æè¿°å¯¹è±¡å’Œè¡¨ä¹‹é—´çš„æ˜ å°„å…³ç³»ï¼Œæ¡†æ¶æ®æ­¤å°†å®ä½“å¯¹è±¡æŒä¹…åŒ–åˆ°æ•°æ®åº“è¡¨ä¸­</li>
<li>JPA çš„APIï¼šç”¨æ¥æ“ä½œå®ä½“å¯¹è±¡ï¼Œæ‰§è¡ŒCRUDæ“ä½œï¼Œæ¡†æ¶åœ¨åå°æ›¿æˆ‘ä»¬å®Œæˆæ‰€æœ‰çš„äº‹æƒ…ï¼Œå¼€å‘äººå‘˜ä¸ç”¨å†å†™SQLäº†</li>
<li>JPQLæŸ¥è¯¢è¯­è¨€ï¼šé€šè¿‡é¢å‘å¯¹è±¡è€Œéé¢å‘æ•°æ®åº“çš„æŸ¥è¯¢è¯­è¨€æŸ¥è¯¢æ•°æ®ï¼Œé¿å…ç¨‹åºçš„SQLè¯­å¥ç´§å¯†è€¦åˆ</li>
</ul>
</li>
<li><p><strong>JPAæ˜¯ORMçš„ä¸€å¥—æ ‡å‡†ï¼Œæ—¢ç„¶JPAä¸ºORMè€Œç”Ÿï¼Œé‚£ä¹ˆJPAçš„ä½œç”¨å°±æ˜¯å®ç°ä½¿ç”¨å¯¹è±¡æ“ä½œæ•°æ®åº“ï¼Œä¸ç”¨å†™SQLï¼</strong>ï¼ˆçœŸçš„å¤ªçˆ½äº†ï¼‰ç¼–å†™çš„ä»£ç å°±å¯ä»¥ä¸€å¥—ä»£ç å…¼å®¹å¤šç§æ•°æ®åº“ï¼</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/d1ae2c30ef5be40eea5c96b6a638984d-40083" alt="JPAè§„èŒƒå’ŒORMæ¡†æ¶ä¹‹é—´çš„å…³ç³»"></p>
</li>
</ol>
<h3 id="Hibernate"><a href="#Hibernate" class="headerlink" title="Hibernate"></a>Hibernate</h3><ol>
<li><p>Hibernateæ˜¯Javaä¸­çš„å¯¹è±¡å…³ç³»æ˜ å°„è§£å†³æ–¹æ¡ˆï¼Œå³å®ƒæ˜¯ç¬¦åˆJPAè§„èŒƒçš„ï¼Œæ˜¯ä¸€ä¸ªORMæ¡†æ¶ï¼›å¯¹è±¡å…³ç³»æ˜ å°„æˆ–ORMæ¡†æ¶æ˜¯å°†åº”ç”¨ç¨‹åºæ•°æ®æ¨¡å‹å¯¹è±¡æ˜ å°„åˆ°å…³ç³»æ•°æ®åº“è¡¨çš„æŠ€æœ¯ï¼</p>
</li>
<li><p>Hibernate ä¸ä»…å…³æ³¨äºä» Java ç±»åˆ°æ•°æ®åº“è¡¨çš„æ˜ å°„ï¼Œä¹Ÿæœ‰ Java æ•°æ®ç±»å‹åˆ° SQL æ•°æ®ç±»å‹çš„æ˜ å°„ï¼›</p>
</li>
<li><p>JPAå’ŒHibernateçš„å…³ç³»ï¼š</p>
<ol>
<li>JPAæ˜¯ä¸€ä¸ªè§„èŒƒï¼Œè€Œä¸æ˜¯æ¡†æ¶</li>
<li>Hibernateæ˜¯JPAçš„ä¸€ç§å®ç°ï¼Œæ˜¯ä¸€ä¸ªæ¡†æ¶</li>
</ol>
</li>
<li><p>Hibernateå¯¹JDBCè®¿é—®æ•°æ®åº“çš„ä»£ç åšäº†è½»é‡çº§å°è£…ï¼Œå¤§å¤§ç®€åŒ–äº†æ•°æ®è®¿é—®å±‚ç¹ççš„é‡å¤æ€§ä»£ç ï¼Œå¹¶ä¸”å‡å°‘äº†å†…å­˜æ¶ˆè€—ï¼ŒåŠ å¿«äº†è¿è¡Œæ•ˆç‡ï¼›</p>
</li>
<li><p>Hibernateæ˜¯ä¸€ä¸ªåŸºäºJDBCçš„ä¸»æµæŒä¹…åŒ–æ¡†æ¶ï¼Œæ˜¯ä¸€ä¸ªä¼˜ç§€çš„ORMå®ç°ï¼Œå¾ˆå¤§ç¨‹åº¦çš„ç®€åŒ–äº†DAOï¼ˆData Access Objectï¼Œæ•°æ®è®¿é—®å¯¹è±¡ï¼‰å±‚ç¼–ç å·¥ä½œï¼›</p>
</li>
<li><p>Hibernateçš„æ€§èƒ½éå¸¸å¥½ï¼Œæ˜ å°„çš„çµæ´»æ€§å¾ˆå‡ºè‰²ï¼Œæ”¯æŒå¾ˆå¤šå…³ç³»å‹æ•°æ®åº“ï¼Œä»ä¸€å¯¹ä¸€åˆ°å¤šå¯¹å¤šçš„å„ç§å¤æ‚å…³ç³»ï¼›</p>
</li>
<li><p>å¯æ‰©å±•æ€§å¼ºï¼Œç”±äºæºä»£ç çš„å¼€æºä»¥åŠAPIçš„å¼€æ”¾ï¼Œå½“æœ¬èº«åŠŸèƒ½ä¸å¤Ÿç”¨æ—¶ï¼Œå¯ä»¥è‡ªè¡Œç¼–ç è¿›è¡Œæ‰©å±•ï¼›</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/65b0f8016fa865476ce9f5563ed92f95-12771" alt=""></p>
</li>
</ol>
<h3 id="Spring-Data"><a href="#Spring-Data" class="headerlink" title="Spring Data"></a>Spring Data</h3><ol>
<li><p>Spring Dataæ˜¯Spring ç¤¾åŒºçš„ä¸€ä¸ªå­é¡¹ç›®ï¼Œä¸»è¦ç”¨äºç®€åŒ–æ•°æ®ï¼ˆå…³ç³»å‹&amp;éå…³ç³»å‹ï¼‰è®¿é—®ï¼Œå…¶ä¸»è¦ç›®æ ‡æ˜¯ä½¿å¾—æ•°æ®åº“çš„è®¿é—®å˜å¾—æ–¹ä¾¿å¿«æ·ï¼›</p>
</li>
<li><p>Spring Dataæä¾›äº†å¾ˆå¤šæ¨¡æ¿ï¼š</p>
<ul>
<li>Spring Data Elasticsearch</li>
<li>Spring Data MongoDB</li>
<li>Spring Data Redis</li>
<li>Spring Data Solr</li>
</ul>
</li>
<li><p>Spring Data JPAæ˜¯åœ¨å®ç°äº†JPAè§„èŒƒçš„åŸºç¡€ä¸Šå°è£…çš„ä¸€å¥— JPA åº”ç”¨æ¡†æ¶ï¼Œè™½ç„¶ORMæ¡†æ¶éƒ½å®ç°äº†JPAè§„èŒƒï¼Œä½†æ˜¯åœ¨ä¸åŒçš„ORMæ¡†æ¶ä¹‹é—´åˆ‡æ¢ä»ç„¶éœ€è¦ç¼–å†™ä¸åŒçš„ä»£ç ï¼Œè€Œä½¿ç”¨Spring Data JPAèƒ½å¤Ÿæ–¹ä¾¿å¤§å®¶åœ¨ä¸åŒçš„ORMæ¡†æ¶ä¹‹é—´è¿›è¡Œåˆ‡æ¢è€Œä¸éœ€è¦æ›´æ”¹ä»£ç ï¼›</p>
</li>
<li><p>Hibernateå…¶å®æ˜¯JPAçš„ä¸€ç§å®ç°ï¼Œè€ŒSpring Data JPAæ˜¯ä¸€ä¸ªJPAæ•°æ®è®¿é—®æŠ½è±¡ï¼Œåªæ˜¯ä¸€ä¸ªæŠ½è±¡å±‚ï¼Œä¸»è¦ç”¨äºå‡å°‘ä¸ºå„ç§æŒä¹…å±‚å­˜å‚¨å®ç°æ•°æ®è®¿é—®å±‚æ‰€éœ€çš„æ ·æ¿ä»£ç é‡ï¼Œ<strong>Spring Data JPAåº•å±‚å°±æ˜¯ä½¿ç”¨çš„ Hibernateå®ç°ï¼</strong></p>
</li>
<li><p>JPAæ¥å£å‘½åè§„åˆ™ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/1b0cf7fc4248ba22c8062628b8792b22-69598" alt="æ¥å£å®šä¹‰å‘½åè§„åˆ™"></p>
</li>
<li><p>Spring Data JPAå’ŒJPAå’ŒORMä¹‹é—´çš„å…³ç³»ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/cc7344dd34c61ee78c992fcb59cbf700-42822" alt=""></p>
</li>
</ol>
<h2 id="JPAæ³¨è§£"><a href="#JPAæ³¨è§£" class="headerlink" title="JPAæ³¨è§£"></a>JPAæ³¨è§£</h2><ol>
<li>@Entityå£°æ˜è¯¥å®ä½“ç±»æ˜¯ä¸€ä¸ªJPAæ ‡å‡†çš„å®ä½“ç±»</li>
<li>@TableæŒ‡å®šå®ä½“ç±»å…³è”çš„è¡¨ï¼Œæ³¨æ„å¦‚æœä¸å†™è¡¨åï¼Œé»˜è®¤ä½¿ç”¨ç±»åå¯¹åº”è¡¨å</li>
<li>@ColumnæŒ‡å®šå®ä½“ç±»å±æ€§å¯¹åº”çš„è¡¨å­—æ®µï¼Œå¦‚æœå±æ€§å’Œå­—æ®µä¸€è‡´ï¼Œå¯ä»¥ä¸å†™</li>
<li>@Idå£°æ˜å±æ€§æ˜¯ä¸€ä¸ªOIDï¼Œå¯¹åº”çš„ä¸€å®šæ˜¯æ•°æ®åº“çš„ä¸»é”®å­—æ®µ</li>
<li>@GenerateValueå£°æ˜å±æ€§ï¼ˆObject IDï¼‰çš„ä¸»é”®ç”Ÿæˆç­–ç•¥</li>
<li>@SequenceGenerateä½¿ç”¨SEQUENCEç­–ç•¥æ—¶ï¼Œç”¨äºè®¾ç½®ç­–ç•¥çš„å‚æ•°</li>
<li>@TableGenerateä½¿ç”¨TABLEä¸»é”®ç­–ç•¥æ—¶ï¼Œç”¨äºè®¾ç½®ç­–ç•¥çš„å‚æ•°</li>
<li>@JoinTableå…³è”æŸ¥è¯¢æ—¶ï¼Œè¡¨ä¸è¡¨æ˜¯å¤šå¯¹å¤šçš„å…³ç³»æ—¶ï¼ŒæŒ‡å®šå¤šå¯¹å¤šå…³è”è¡¨ä¸­é—´è¡¨çš„å‚æ•°</li>
<li>@JoinColumnå…³è”æŸ¥è¯¢æ—¶ï¼Œè¡¨ä¸è¡¨æ˜¯ä¸€å¯¹ä¸€ã€ä¸€å¯¹å¤šã€å¤šå¯¹ä¸€ä»¥åŠå¤šå¯¹å¤šçš„å…³ç³»æ—¶ï¼Œå£°æ˜è¡¨å…³è”çš„å¤–é”®å­—æ®µä½œä¸ºè¿æ¥è¡¨çš„æ¡ä»¶ã€‚å¿…é¡»é…åˆå…³è”è¡¨çš„æ³¨è§£ä¸€èµ·ä½¿ç”¨&lt;key&gt;</li>
<li>@OneToManyå…³è”è¡¨æ³¨è§£ï¼Œè¡¨ç¤ºå¯¹åº”çš„å®ä½“å’Œæœ¬ç±»æ˜¯ä¸€å¯¹å¤šçš„å…³ç³»</li>
<li>@ManyToOneå…³è”è¡¨æ³¨è§£ï¼Œè¡¨ç¤ºå¯¹åº”çš„å®ä½“å’Œæœ¬ç±»æ˜¯å¤šå¯¹ä¸€çš„å…³ç³»</li>
<li>@ManyToManyå…³è”è¡¨æ³¨è§£ï¼Œè¡¨ç¤ºå¯¹åº”çš„å®ä½“å’Œæœ¬ç±»æ˜¯å¤šå¯¹å¤šçš„å…³ç³»</li>
<li>@OneToOneå…³è”è¡¨æ³¨è§£ï¼Œè¡¨ç¤ºå¯¹åº”çš„å®ä½“å’Œæœ¬ç±»æ˜¯ä¸€å¯¹ä¸€çš„å…³ç³»</li>
</ol>
<h2 id="JPAå¸¸ç”¨APIè¯´æ˜"><a href="#JPAå¸¸ç”¨APIè¯´æ˜" class="headerlink" title="JPAå¸¸ç”¨APIè¯´æ˜"></a>JPAå¸¸ç”¨APIè¯´æ˜</h2><ol>
<li>Persistenceç”¨äºè¯»å–é…ç½®æ–‡ä»¶ï¼Œè·å¾—å®ä½“ç®¡ç†å·¥å‚</li>
<li>EntityManagerFactoryç”¨äºç®¡ç†æ•°æ®åº“çš„è¿æ¥ï¼Œè·å¾—æ“ä½œå¯¹è±¡å®ä½“ç®¡ç†ç±»</li>
<li>EntityManagerå®ä½“ç®¡ç†ç±»ï¼Œç”¨äºæ“ä½œæ•°æ®åº“è¡¨ï¼Œæ“ä½œå¯¹è±¡</li>
<li>EntityTransactionç”¨äºç®¡ç†äº‹åŠ¡ã€‚å¼€å§‹ï¼Œæäº¤ï¼Œå›æ»š</li>
<li>TypeQueryç”¨äºæ“ä½œJPQLçš„æŸ¥è¯¢çš„</li>
<li>Queryç”¨äºæ“ä½œJPQLçš„æŸ¥è¯¢æ¥å£ï¼Œæ‰§è¡Œæ²¡æœ‰è¿”å›æ•°æ®çš„JPQLï¼ˆå¢åˆ æ”¹ï¼‰</li>
<li>CriteriaBuilderç”¨æˆ·ä½¿ç”¨æ ‡å‡†æŸ¥è¯¢æ¥å£ CriteriaæŸ¥è¯¢æ¥å£</li>
</ol>
<h1 id="å®æˆ˜ï¼ˆå¤šæ•°æ®æºï¼‰"><a href="#å®æˆ˜ï¼ˆå¤šæ•°æ®æºï¼‰" class="headerlink" title="å®æˆ˜ï¼ˆå¤šæ•°æ®æºï¼‰"></a>å®æˆ˜ï¼ˆå¤šæ•°æ®æºï¼‰</h1><h2 id="é¡¹ç›®ä¾èµ–"><a href="#é¡¹ç›®ä¾èµ–" class="headerlink" title="é¡¹ç›®ä¾èµ–"></a>é¡¹ç›®ä¾èµ–</h2><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-data-jdbc<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-data-jpa<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-jdbc<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">      <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-devtools<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">scope</span>&gt;</span>runtime<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">optional</span>&gt;</span>true<span class="tag">&lt;/<span class="name">optional</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!--**** lombok ****--&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.projectlombok<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>lombok<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">optional</span>&gt;</span>true<span class="tag">&lt;/<span class="name">optional</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">      <span class="comment">&lt;!-- https://mvnrepository.com/artifact/com.alibaba/druid --&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.alibaba<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>druid<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.1.22<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">      <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">scope</span>&gt;</span>runtime<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-test<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">exclusions</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">exclusion</span>&gt;</span></span><br><span class="line">                  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.junit.vintage<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">                  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit-vintage-engine<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;/<span class="name">exclusion</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">exclusions</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h2><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">datasource:</span></span><br><span class="line">    <span class="attr">primary:</span></span><br><span class="line">      <span class="attr">username:</span> <span class="string">root</span></span><br><span class="line">      <span class="attr">password:</span> <span class="string">helloworld</span></span><br><span class="line">      <span class="attr">url:</span> <span class="string">jdbc:mysql://localhost:3306/carddb?useUnicode=true&amp;characterEncoding=UTF-8&amp;useOldAliasMetadataBehavior=true&amp;serverTimezone=Asia/Shanghai</span></span><br><span class="line">      <span class="attr">driver-class-name:</span> <span class="string">com.mysql.cj.jdbc.Driver</span></span><br><span class="line">      <span class="attr">type:</span> <span class="string">com.alibaba.druid.pool.DruidDataSource</span></span><br><span class="line">      <span class="comment">#   æ•°æ®æºå…¶ä»–é…ç½®</span></span><br><span class="line">      <span class="attr">dbType:</span> <span class="string">mysql</span>   <span class="comment"># æŒ‡å®šæ•°æ®åº“ç±»å‹ mysql</span></span><br><span class="line">      <span class="attr">initialSize:</span> <span class="number">5</span>  <span class="comment"># å¯åŠ¨åˆå§‹åŒ–è¿æ¥æ•°é‡</span></span><br><span class="line">      <span class="attr">minIdle:</span> <span class="number">5</span>      <span class="comment"># æœ€å°ç©ºé—²è¿æ¥</span></span><br><span class="line">      <span class="attr">maxActive:</span> <span class="number">20</span>   <span class="comment"># æœ€å¤§è¿æ¥æ•°é‡ï¼ˆåŒ…å«ä½¿ç”¨ä¸­çš„å’Œç©ºé—²çš„ï¼‰</span></span><br><span class="line">      <span class="attr">maxWait:</span> <span class="number">60000</span>  <span class="comment"># æœ€å¤§è¿æ¥ç­‰å¾…æ—¶é—´ ï¼Œè¶…å‡ºæ—¶é—´æŠ¥é”™</span></span><br><span class="line">      <span class="attr">timeBetweenEvictionRunsMillis:</span> <span class="number">60000</span>  <span class="comment"># è®¾ç½®æ‰§è¡Œä¸€æ¬¡è¿æ¥å›æ”¶å™¨çš„æ—¶é—´</span></span><br><span class="line">      <span class="attr">minEvictableIdleTimeMillis:</span> <span class="number">300000</span>   <span class="comment"># è®¾ç½®æ—¶é—´ï¼š è¯¥æ—¶é—´å†…æ²¡æœ‰ä»»ä½•æ“ä½œçš„ç©ºé—²è¿æ¥ä¼šè¢«å›æ”¶</span></span><br><span class="line">      <span class="attr">validationQuery:</span> <span class="string">select</span> <span class="string">'x'</span>         <span class="comment"># éªŒè¯è¿æ¥æœ‰æ•ˆæ€§çš„sql</span></span><br><span class="line">      <span class="attr">testWhileIdle:</span> <span class="literal">true</span>             <span class="comment"># ç©ºé—²æ—¶æ ¡éªŒ</span></span><br><span class="line">      <span class="attr">testOnBorrow:</span> <span class="literal">false</span>  <span class="comment"># ä½¿ç”¨ä¸­æ˜¯å¦æ ¡éªŒæœ‰æ•ˆæ€§</span></span><br><span class="line">      <span class="attr">testOnReturn:</span> <span class="literal">false</span>  <span class="comment"># å½’è¿˜è¿æ¥æ± æ—¶æ˜¯å¦æ ¡éªŒ</span></span><br><span class="line">      <span class="attr">poolPreparedStatements:</span> <span class="literal">false</span>  <span class="comment"># mysql ä¸æ¨èæ‰“å¼€é¢„å¤„ç†è¿æ¥æ± </span></span><br><span class="line">      <span class="attr">filters:</span> <span class="string">stat,wall</span>  <span class="comment">#è®¾ç½®è¿‡æ»¤å™¨ statç”¨äºæ¥æ”¶çŠ¶æ€ï¼Œwallé˜²æ­¢sqlæ³¨å…¥ï¼Œlogbackè¯´æ˜ä½¿ç”¨logbackè¿›è¡Œæ—¥å¿—è¾“å‡º</span></span><br><span class="line">      <span class="attr">userGlobalataSourceStat:</span> <span class="literal">true</span>  <span class="comment"># ç»Ÿè®¡æ‰€æœ‰æ•°æ®æºçŠ¶æ€</span></span><br><span class="line">      <span class="attr">connectionProperties:</span> <span class="string">druid.stat.mergSql=true;druid.stat.slowSqlMillis=500</span>  <span class="comment"># sqlåˆå¹¶ç»Ÿè®¡ è®¾ç½®æ…¢sqlæ—¶é—´ä¸º500ï¼Œè¶…è¿‡500 ä¼šæœ‰è®°å½•æç¤º</span></span><br><span class="line">    <span class="attr">second:</span></span><br><span class="line">      <span class="attr">username:</span> <span class="string">root</span></span><br><span class="line">      <span class="attr">password:</span> <span class="string">helloworld</span></span><br><span class="line">      <span class="attr">url:</span>  <span class="string">jdbc:mysql://localhost:3306/memberdb?useUnicode=true&amp;characterEncoding=UTF-8&amp;useOldAliasMetadataBehavior=true&amp;serverTimezone=Asia/Shanghai</span></span><br><span class="line">      <span class="attr">driver-class-name:</span> <span class="string">com.mysql.cj.jdbc.Driver</span></span><br><span class="line"></span><br><span class="line">      <span class="attr">type:</span> <span class="string">com.alibaba.druid.pool.DruidDataSource</span></span><br><span class="line">      <span class="comment">#   æ•°æ®æºå…¶ä»–é…ç½®</span></span><br><span class="line">      <span class="attr">dbType:</span> <span class="string">mysql</span>   <span class="comment"># æŒ‡å®šæ•°æ®åº“ç±»å‹ mysql</span></span><br><span class="line">      <span class="attr">initialSize:</span> <span class="number">5</span>  <span class="comment"># å¯åŠ¨åˆå§‹åŒ–è¿æ¥æ•°é‡</span></span><br><span class="line">      <span class="attr">minIdle:</span> <span class="number">5</span>      <span class="comment"># æœ€å°ç©ºé—²è¿æ¥</span></span><br><span class="line">      <span class="attr">maxActive:</span> <span class="number">20</span>   <span class="comment"># æœ€å¤§è¿æ¥æ•°é‡ï¼ˆåŒ…å«ä½¿ç”¨ä¸­çš„å’Œç©ºé—²çš„ï¼‰</span></span><br><span class="line">      <span class="attr">maxWait:</span> <span class="number">60000</span>  <span class="comment"># æœ€å¤§è¿æ¥ç­‰å¾…æ—¶é—´ ï¼Œè¶…å‡ºæ—¶é—´æŠ¥é”™</span></span><br><span class="line">      <span class="attr">timeBetweenEvictionRunsMillis:</span> <span class="number">60000</span>  <span class="comment"># è®¾ç½®æ‰§è¡Œä¸€æ¬¡è¿æ¥å›æ”¶å™¨çš„æ—¶é—´</span></span><br><span class="line">      <span class="attr">minEvictableIdleTimeMillis:</span> <span class="number">300000</span>   <span class="comment"># è®¾ç½®æ—¶é—´ï¼š è¯¥æ—¶é—´å†…æ²¡æœ‰ä»»ä½•æ“ä½œçš„ç©ºé—²è¿æ¥ä¼šè¢«å›æ”¶</span></span><br><span class="line">      <span class="attr">validationQuery:</span> <span class="string">select</span> <span class="string">'x'</span>         <span class="comment"># éªŒè¯è¿æ¥æœ‰æ•ˆæ€§çš„sql</span></span><br><span class="line">      <span class="attr">testWhileIdle:</span> <span class="literal">true</span>             <span class="comment"># ç©ºé—²æ—¶æ ¡éªŒ</span></span><br><span class="line">      <span class="attr">testOnBorrow:</span> <span class="literal">false</span>  <span class="comment"># ä½¿ç”¨ä¸­æ˜¯å¦æ ¡éªŒæœ‰æ•ˆæ€§</span></span><br><span class="line">      <span class="attr">testOnReturn:</span> <span class="literal">false</span>  <span class="comment"># å½’è¿˜è¿æ¥æ± æ—¶æ˜¯å¦æ ¡éªŒ</span></span><br><span class="line">      <span class="attr">poolPreparedStatements:</span> <span class="literal">false</span>  <span class="comment"># mysql ä¸æ¨èæ‰“å¼€é¢„å¤„ç†è¿æ¥æ± </span></span><br><span class="line">      <span class="attr">filters:</span> <span class="string">stat,wall</span>  <span class="comment">#è®¾ç½®è¿‡æ»¤å™¨ statç”¨äºæ¥æ”¶çŠ¶æ€ï¼Œwallé˜²æ­¢sqlæ³¨å…¥ï¼Œlogbackè¯´æ˜ä½¿ç”¨logbackè¿›è¡Œæ—¥å¿—è¾“å‡º</span></span><br><span class="line">      <span class="attr">userGlobalataSourceStat:</span> <span class="literal">true</span>  <span class="comment"># ç»Ÿè®¡æ‰€æœ‰æ•°æ®æºçŠ¶æ€</span></span><br><span class="line">      <span class="attr">connectionProperties:</span> <span class="string">druid.stat.mergSql=true;druid.stat.slowSqlMillis=500</span>  <span class="comment"># sqlåˆå¹¶ç»Ÿè®¡ è®¾ç½®æ…¢sqlæ—¶é—´ä¸º500ï¼Œè¶…è¿‡500 ä¼šæœ‰è®°å½•æç¤º</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">jpa:</span></span><br><span class="line">    <span class="attr">hibernate:</span></span><br><span class="line">      <span class="attr">ddl-auto:</span> <span class="string">validate</span></span><br><span class="line">    <span class="attr">show-sql:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure>

<h2 id="åˆ›å»ºä¸»æ•°æ®æº"><a href="#åˆ›å»ºä¸»æ•°æ®æº" class="headerlink" title="åˆ›å»ºä¸»æ•°æ®æº"></a>åˆ›å»ºä¸»æ•°æ®æº</h2><ol>
<li><p>åˆ›å»ºä¸€ä¸ªä¸»é…ç½®ç±»</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> com.alibaba.druid.pool.DruidDataSource;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Qualifier;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.autoconfigure.EnableAutoConfiguration;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.context.properties.ConfigurationProperties;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.jdbc.DataSourceBuilder;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.orm.jpa.EntityManagerFactoryBuilder;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Bean;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Primary;</span><br><span class="line"><span class="keyword">import</span> org.springframework.core.env.Environment;</span><br><span class="line"><span class="keyword">import</span> org.springframework.data.jpa.repository.config.EnableJpaRepositories;</span><br><span class="line"><span class="keyword">import</span> org.springframework.orm.jpa.JpaTransactionManager;</span><br><span class="line"><span class="keyword">import</span> org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean;</span><br><span class="line"><span class="keyword">import</span> org.springframework.transaction.PlatformTransactionManager;</span><br><span class="line"><span class="keyword">import</span> org.springframework.transaction.annotation.EnableTransactionManagement;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.persistence.EntityManager;</span><br><span class="line"><span class="keyword">import</span> javax.sql.DataSource;</span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@EnableAutoConfiguration</span></span><br><span class="line"><span class="meta">@EnableTransactionManagement</span></span><br><span class="line"><span class="meta">@EnableJpaRepositories</span>(</span><br><span class="line">        entityManagerFactoryRef=<span class="string">"entityManagerFactoryPrimary"</span>,</span><br><span class="line">        transactionManagerRef=<span class="string">"transactionManagerPrimary"</span>,</span><br><span class="line">        basePackages= &#123; <span class="string">"com.example.mdata.demo.repository"</span> &#125;)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PrimaryConfig</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Primary</span></span><br><span class="line">    <span class="meta">@Bean</span>(name = <span class="string">"primaryDataSource"</span>)</span><br><span class="line">    <span class="meta">@Qualifier</span>(<span class="string">"primaryDataSource"</span>)</span><br><span class="line">    <span class="meta">@ConfigurationProperties</span>(prefix=<span class="string">"spring.datasource.primary"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> DataSource <span class="title">PrimaryDataSource</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> DataSourceBuilder.create().type(DruidDataSource<span class="class">.<span class="keyword">class</span>).<span class="title">build</span>()</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> Environment env;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="meta">@Qualifier</span>(<span class="string">"primaryDataSource"</span>)</span><br><span class="line">    <span class="keyword">private</span> DataSource primaryDataSource;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Primary</span></span><br><span class="line">    <span class="meta">@Bean</span>(name = <span class="string">"entityManagerPrimary"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> EntityManager <span class="title">entityManager</span><span class="params">(EntityManagerFactoryBuilder builder)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> entityManagerFactoryPrimary(builder).getObject().createEntityManager();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Primary</span></span><br><span class="line">    <span class="meta">@Bean</span>(name = <span class="string">"entityManagerFactoryPrimary"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> LocalContainerEntityManagerFactoryBean <span class="title">entityManagerFactoryPrimary</span> <span class="params">(EntityManagerFactoryBuilder builder)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> builder</span><br><span class="line">                .dataSource(primaryDataSource)</span><br><span class="line">                .properties(getVendorProperties())</span><br><span class="line">                .packages(<span class="string">"com.example.mdata.demo.entity"</span>)</span><br><span class="line">                .persistenceUnit(<span class="string">"primaryPersistenceUnit"</span>)</span><br><span class="line">                .build();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> Map&lt;String, String&gt; <span class="title">getVendorProperties</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        Map&lt;String, String&gt; jpaProperties = <span class="keyword">new</span> HashMap&lt;&gt;(<span class="number">16</span>);</span><br><span class="line">        jpaProperties.put(<span class="string">"hibernate.hbm2ddl.auto"</span>, <span class="string">"update"</span>);</span><br><span class="line">        jpaProperties.put(<span class="string">"hibernate.show_sql"</span>, env.getProperty(<span class="string">"spring.jpa.show-sql"</span>));</span><br><span class="line">        jpaProperties.put(<span class="string">"hibernate.format_sql"</span>, env.getProperty(<span class="string">"spring.jpa.hibernate.format_sql"</span>));</span><br><span class="line">        jpaProperties.put(<span class="string">"hibernate.dialect"</span>, env.getProperty(<span class="string">"spring.jpa.hibernate.primary-dialect"</span>));</span><br><span class="line">        jpaProperties.put(<span class="string">"hibernate.current_session_context_class"</span>, <span class="string">"org.springframework.orm.hibernate5.SpringSessionContext"</span>);</span><br><span class="line">        <span class="keyword">return</span> jpaProperties;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Primary</span></span><br><span class="line">    <span class="meta">@Bean</span>(name = <span class="string">"transactionManagerPrimary"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> PlatformTransactionManager <span class="title">transactionManagerPrimary</span><span class="params">(EntityManagerFactoryBuilder builder)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> JpaTransactionManager(entityManagerFactoryPrimary(builder).getObject());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ³¨æ„å¯¼å…¥çš„ç±»ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean;</span><br></pre></td></tr></table></figure>
</li>
<li><p>å…³é”®æ³¨è§£è¯´æ˜ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@EnableJpaRepositories</span>(</span><br><span class="line">        entityManagerFactoryRef=<span class="string">"entityManagerFactoryPrimary"</span>,</span><br><span class="line">        transactionManagerRef=<span class="string">"transactionManagerPrimary"</span>,</span><br><span class="line">        basePackages= &#123; <span class="string">"com.example.mdata.demo.repository"</span> &#125;)</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">entityManagerFactoryRef="entityManagerFactoryPrimary" è¦å’Œå·¥å‚ç±»çš„æ³¨è§£ <span class="doctag">@Bean</span>(name = "entityManagerFactoryPrimary")å¯¹åº”ï¼Œä¸ç„¶æ²¡æ³•æ‰¾åˆ°å¯¹åº”çš„LocalContainerEntityManagerFactoryBean</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">transactionManagerRef="transactionManagerPrimary"å¿…é¡»å’Œ<span class="doctag">@Bean</span>(name = "transactionManagerPrimary")å¯¹åº”ï¼Œè¿™æ ·æ‰èƒ½æ‰¾åˆ°PlatformTransactionManager</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> basePackages= &#123; "com.example.mdata.demo.repository" &#125;ç”¨æ¥æœç´¢repositoryï¼Œå¿…é¡»å’Œæƒ³è¦åŒ¹é…çš„repositoryè·¯å¾„å¯¹åº”</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>@ConfigurationProperties(prefix=â€spring.datasource.primaryâ€)ç”¨æ¥æŒ‡æ˜å…¨å±€é…ç½®çš„å‰ç¼€ï¼Œä¸€å®šè¦å’Œé…ç½®æ–‡ä»¶ç›¸å¯¹åº”ï¼›</p>
</li>
<li><p>å®ä½“ç±»çš„æ˜ å°„æ‰«æè·¯å¾„ä¹Ÿä¸€å®šè¦é…ç½®å¯¹ï¼ˆ.packages(â€œcom.example.mdata.demo.entityâ€)ï¼‰ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Primary</span></span><br><span class="line">   <span class="meta">@Bean</span>(name = <span class="string">"entityManagerFactoryPrimary"</span>)</span><br><span class="line">   <span class="function"><span class="keyword">public</span> LocalContainerEntityManagerFactoryBean <span class="title">entityManagerFactoryPrimary</span> <span class="params">(EntityManagerFactoryBuilder builder)</span> </span>&#123;</span><br><span class="line">       <span class="keyword">return</span> builder</span><br><span class="line">               .dataSource(primaryDataSource)</span><br><span class="line">               .properties(getVendorProperties())</span><br><span class="line">               .packages(<span class="string">"com.example.mdata.demo.entity"</span>)</span><br><span class="line">               .persistenceUnit(<span class="string">"primaryPersistenceUnit"</span>)</span><br><span class="line">               .build();</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>å¯¹äºä¸»é…ç½®æ•°æ®æºï¼Œæ¯ä¸ªæ–¹æ³•éƒ½è¦æœ‰@Primaryï¼›</p>
</li>
</ol>
<h2 id="ç¬¬äºŒä¸ªæ•°æ®æºçš„é…ç½®"><a href="#ç¬¬äºŒä¸ªæ•°æ®æºçš„é…ç½®" class="headerlink" title="ç¬¬äºŒä¸ªæ•°æ®æºçš„é…ç½®"></a>ç¬¬äºŒä¸ªæ•°æ®æºçš„é…ç½®</h2><ol>
<li><p>ä»£ç ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> com.alibaba.druid.pool.DruidDataSource;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Qualifier;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.autoconfigure.EnableAutoConfiguration;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.context.properties.ConfigurationProperties;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.jdbc.DataSourceBuilder;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.orm.jpa.EntityManagerFactoryBuilder;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Bean;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"><span class="keyword">import</span> org.springframework.core.env.Environment;</span><br><span class="line"><span class="keyword">import</span> org.springframework.data.jpa.repository.config.EnableJpaRepositories;</span><br><span class="line"><span class="keyword">import</span> org.springframework.orm.jpa.JpaTransactionManager;</span><br><span class="line"><span class="keyword">import</span> org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean;</span><br><span class="line"><span class="keyword">import</span> org.springframework.transaction.PlatformTransactionManager;</span><br><span class="line"><span class="keyword">import</span> org.springframework.transaction.annotation.EnableTransactionManagement;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.persistence.EntityManager;</span><br><span class="line"><span class="keyword">import</span> javax.sql.DataSource;</span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@EnableAutoConfiguration</span></span><br><span class="line"><span class="meta">@EnableTransactionManagement</span></span><br><span class="line"><span class="meta">@EnableJpaRepositories</span>(</span><br><span class="line">        <span class="comment">//å®ä½“ç®¡ç†</span></span><br><span class="line">        entityManagerFactoryRef=<span class="string">"entityManagerFactorySecond"</span>,</span><br><span class="line">        <span class="comment">//äº‹åŠ¡ç®¡ç†</span></span><br><span class="line">        transactionManagerRef=<span class="string">"transactionManagerSecond"</span>,</span><br><span class="line">        <span class="comment">//å®ä½“æ‰«æ,è®¾ç½®Repositoryæ‰€åœ¨ä½ç½®</span></span><br><span class="line">        basePackages= &#123; <span class="string">"com.example.mdata.demo.repositorysecond"</span> &#125;)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SecondConfig</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span>(name = <span class="string">"secondDataSource"</span>)</span><br><span class="line">    <span class="meta">@Qualifier</span>(<span class="string">"secondDataSource"</span>)</span><br><span class="line">    <span class="meta">@ConfigurationProperties</span>(prefix=<span class="string">"spring.datasource.second"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> DataSource <span class="title">secondaryDataSource</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> DataSourceBuilder.create().type(DruidDataSource<span class="class">.<span class="keyword">class</span>).<span class="title">build</span>()</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="meta">@Qualifier</span>(<span class="string">"secondDataSource"</span>)</span><br><span class="line">    <span class="keyword">private</span> DataSource secondDataSource;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> Environment env;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span>(name = <span class="string">"entityManagerSecond"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> EntityManager <span class="title">entityManager</span><span class="params">(EntityManagerFactoryBuilder builder)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> entityManagerFactorySecond(builder).getObject().createEntityManager();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span>(name = <span class="string">"entityManagerFactorySecond"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> LocalContainerEntityManagerFactoryBean <span class="title">entityManagerFactorySecond</span> <span class="params">(EntityManagerFactoryBuilder builder)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> builder</span><br><span class="line">                .dataSource(secondDataSource)</span><br><span class="line">                .properties(getVendorProperties())</span><br><span class="line">                .packages(<span class="string">"com.example.mdata.demo.entity2"</span>)</span><br><span class="line">                .persistenceUnit(<span class="string">"secondPersistenceUnit"</span>)</span><br><span class="line">                .build();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> Map&lt;String, String&gt; <span class="title">getVendorProperties</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        Map&lt;String, String&gt; jpaProperties = <span class="keyword">new</span> HashMap&lt;&gt;(<span class="number">16</span>);</span><br><span class="line">        jpaProperties.put(<span class="string">"hibernate.hbm2ddl.auto"</span>, <span class="string">"update"</span>);</span><br><span class="line">        jpaProperties.put(<span class="string">"hibernate.show_sql"</span>, env.getProperty(<span class="string">"spring.jpa.show-sql"</span>));</span><br><span class="line">        jpaProperties.put(<span class="string">"hibernate.dialect"</span>, env.getProperty(<span class="string">"spring.jpa.hibernate.Second-dialect"</span>));</span><br><span class="line">        jpaProperties.put(<span class="string">"hibernate.format_sql"</span>, env.getProperty(<span class="string">"spring.jpa.hibernate.format_sql"</span>));</span><br><span class="line">        jpaProperties.put(<span class="string">"hibernate.current_session_context_class"</span>, <span class="string">"org.springframework.orm.hibernate5.SpringSessionContext"</span>);</span><br><span class="line">        <span class="keyword">return</span> jpaProperties;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span>(name = <span class="string">"transactionManagerSecond"</span>)</span><br><span class="line">    <span class="function">PlatformTransactionManager <span class="title">transactionManagerSecond</span><span class="params">(EntityManagerFactoryBuilder builder)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> JpaTransactionManager(entityManagerFactorySecond(builder).getObject());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="åˆ›å»ºæ˜ å°„è¡¨çš„ç±»ï¼ˆä¸»ï¼‰"><a href="#åˆ›å»ºæ˜ å°„è¡¨çš„ç±»ï¼ˆä¸»ï¼‰" class="headerlink" title="åˆ›å»ºæ˜ å°„è¡¨çš„ç±»ï¼ˆä¸»ï¼‰"></a>åˆ›å»ºæ˜ å°„è¡¨çš„ç±»ï¼ˆä¸»ï¼‰</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> lombok.AccessLevel;</span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"><span class="keyword">import</span> lombok.NoArgsConstructor;</span><br><span class="line"><span class="keyword">import</span> lombok.experimental.FieldDefaults;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.persistence.*;</span><br><span class="line"><span class="keyword">import</span> java.io.Serializable;</span><br><span class="line"><span class="keyword">import</span> java.sql.Date;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@Entity</span></span><br><span class="line"><span class="meta">@NoArgsConstructor</span></span><br><span class="line"><span class="meta">@Table</span>(name = <span class="string">"primary2"</span>)</span><br><span class="line"><span class="meta">@FieldDefaults</span>(level = AccessLevel.PRIVATE)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">primary2</span> <span class="keyword">implements</span> <span class="title">Serializable</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Id</span></span><br><span class="line">    <span class="meta">@GeneratedValue</span>(strategy = GenerationType.IDENTITY)</span><br><span class="line">    Long id;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * åç§°</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    String name;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ€§åˆ«</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    String sex;</span><br><span class="line"></span><br><span class="line">    Date birth;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="åˆ›å»ºæ˜ å°„è¡¨çš„ç±»ï¼ˆç¬¬äºŒä¸ªæ•°æ®æºï¼‰"><a href="#åˆ›å»ºæ˜ å°„è¡¨çš„ç±»ï¼ˆç¬¬äºŒä¸ªæ•°æ®æºï¼‰" class="headerlink" title="åˆ›å»ºæ˜ å°„è¡¨çš„ç±»ï¼ˆç¬¬äºŒä¸ªæ•°æ®æºï¼‰"></a>åˆ›å»ºæ˜ å°„è¡¨çš„ç±»ï¼ˆç¬¬äºŒä¸ªæ•°æ®æºï¼‰</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> lombok.AccessLevel;</span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"><span class="keyword">import</span> lombok.NoArgsConstructor;</span><br><span class="line"><span class="keyword">import</span> lombok.experimental.FieldDefaults;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.persistence.*;</span><br><span class="line"><span class="keyword">import</span> java.io.Serializable;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@Entity</span></span><br><span class="line"><span class="meta">@NoArgsConstructor</span></span><br><span class="line"><span class="meta">@Table</span>(name = <span class="string">"t_user2"</span>)</span><br><span class="line"><span class="meta">@FieldDefaults</span>(level = AccessLevel.PRIVATE)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">test</span> <span class="keyword">implements</span> <span class="title">Serializable</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Id</span></span><br><span class="line">    <span class="meta">@GeneratedValue</span>(strategy = GenerationType.IDENTITY)</span><br><span class="line">    Long id;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * åç§°</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    String name;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ€§åˆ«</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    String sex;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h2 id="åˆ›å»ºrepositoryï¼ˆä¸»æ•°æ®æºï¼‰"><a href="#åˆ›å»ºrepositoryï¼ˆä¸»æ•°æ®æºï¼‰" class="headerlink" title="åˆ›å»ºrepositoryï¼ˆä¸»æ•°æ®æºï¼‰"></a>åˆ›å»ºrepositoryï¼ˆä¸»æ•°æ®æºï¼‰</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">@Repository</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">UserPrimaryRepository</span> <span class="keyword">extends</span> <span class="title">JpaRepository</span>&lt;<span class="title">primary2</span>, <span class="title">Long</span>&gt; </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">abstract</span> <span class="keyword">public</span> List&lt;primary2&gt; <span class="title">findAllById</span><span class="params">(Long id)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="åˆ›å»ºrepositoryï¼ˆç¬¬äºŒä¸ªï¼‰"><a href="#åˆ›å»ºrepositoryï¼ˆç¬¬äºŒä¸ªï¼‰" class="headerlink" title="åˆ›å»ºrepositoryï¼ˆç¬¬äºŒä¸ªï¼‰"></a>åˆ›å»ºrepositoryï¼ˆç¬¬äºŒä¸ªï¼‰</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Repository</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">UserSecondRepository</span> <span class="keyword">extends</span> <span class="title">JpaRepository</span>&lt;<span class="title">test</span>, <span class="title">Long</span>&gt; </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">abstract</span> <span class="keyword">public</span> List&lt;test&gt; <span class="title">findAllById</span><span class="params">(Long id)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="åˆ›å»ºRestControllerå¯¹å¤–è®¿é—®æ¥å£"><a href="#åˆ›å»ºRestControllerå¯¹å¤–è®¿é—®æ¥å£" class="headerlink" title="åˆ›å»ºRestControllerå¯¹å¤–è®¿é—®æ¥å£"></a>åˆ›å»ºRestControllerå¯¹å¤–è®¿é—®æ¥å£</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">primarycontroller</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> UserPrimaryRepository userPrimaryRepository;</span><br><span class="line">  <span class="meta">@Autowired</span></span><br><span class="line">  <span class="keyword">private</span> UserSecondRepository userSecondRepository;</span><br><span class="line">  <span class="meta">@GetMapping</span>(value = <span class="string">"/test"</span>)</span><br><span class="line">  <span class="function"><span class="keyword">public</span> List&lt;primary2&gt; <span class="title">girlList</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> userPrimaryRepository.findAll();</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="meta">@GetMapping</span>(value = <span class="string">"/test2"</span>)</span><br><span class="line">  <span class="function"><span class="keyword">public</span> List&lt;test&gt; <span class="title">sencondlist</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> userSecondRepository.findAll();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="è¿è¡Œä»£ç æµ‹è¯•"><a href="#è¿è¡Œä»£ç æµ‹è¯•" class="headerlink" title="è¿è¡Œä»£ç æµ‹è¯•"></a>è¿è¡Œä»£ç æµ‹è¯•</h2><p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/24aeffa51723ff7c7600a6a146ab7bbb-53030" alt=""></p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/3e6fd10cfa5af079754ee5654b1f9e56-43639" alt=""></p>
<hr>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>è¿™éƒ¨åˆ†ä¸»è¦è®°å½•çš„æ˜¯JPAå¤šæ•°æ®æºçš„é…ç½®ï¼Œæœ‰ä¸€äº›å‘ï¼Œéƒ½å¡«å®Œäº†ï¼Œå‚è€ƒè¿™éƒ¨åˆ†çµæ´»ä½¿ç”¨å°±èƒ½é…ç½®ä¸æ­¢äºä¸¤ä¸ªæ•°æ®æºäº†ï¼Œè¿˜éœ€è¦é˜…è¯»æºç æ‰èƒ½æ·±å…¥ç†è§£è¿™éƒ¨åˆ†çš„åŸç†ï¼Œè¡¨é¢ä¸Šå°±æ˜¯å¯¹æ•°æ®æºè¿›è¡ŒåŒºåˆ†ï¼Œä¸¤ä»½ç›¸åŒçš„æµç¨‹ï¼Œç„¶åæ ‡è®°ä¸€ä¸ªä¸»æ•°æ®æºï¼Œå…¶ä»–çš„éƒ½å¤§è‡´ç±»ä¼¼ï¼</p>
]]></content>
      <categories>
        <category>Java</category>
      </categories>
  </entry>
  <entry>
    <title>Spring Bootå¿«é€Ÿå…¥é—¨</title>
    <url>/2020/04/20/Spring-Boot%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>Spring Bootè®©æˆ‘ä»¬çš„Springåº”ç”¨å˜çš„æ›´è½»é‡åŒ–ã€‚æ¯”å¦‚ï¼šä½ å¯ä»¥ä»…ä»…ä¾é ä¸€ä¸ªJavaç±»æ¥è¿è¡Œä¸€ä¸ªSpringå¼•ç”¨ã€‚ä½ ä¹Ÿå¯ä»¥æ‰“åŒ…ä½ çš„åº”ç”¨ä¸ºjarå¹¶é€šè¿‡ä½¿ç”¨java -jaræ¥è¿è¡Œä½ çš„Spring Webåº”ç”¨ã€‚å‡ ä¹å¯ä»¥åœ¨åç«¯å¼€å‘ä¸­éƒ½èƒ½çœ‹åˆ°SpringBootçš„è¸ªå½±ï¼Œå¦‚æœä½ è¯´ä½ æåç«¯å¼€å‘ç”¨çš„javaï¼Œç„¶åä¸çŸ¥é“SpringBootï¼Œä½ å¯èƒ½ç›´æ¥è¢«passæ‰äº†ã€‚</p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="Spring-Bootæ ¸å¿ƒåŠŸèƒ½"><a href="#Spring-Bootæ ¸å¿ƒåŠŸèƒ½" class="headerlink" title="Spring Bootæ ¸å¿ƒåŠŸèƒ½"></a>Spring Bootæ ¸å¿ƒåŠŸèƒ½</h2><ol>
<li>ç‹¬ç«‹è¿è¡Œçš„Springé¡¹ç›®ï¼šSpringBooté¡¹ç›®å¯ä»¥ä»¥jaråŒ…çš„å½¢å¼ç‹¬ç«‹è¿è¡Œ</li>
<li>å†…åµŒServletå®¹å™¨ï¼šå¯é€‰æ‹©å†…åµŒTomcatã€Jettyæˆ–è€…Undertow</li>
<li>æä¾›starterç®€åŒ–Mavené…ç½®ï¼šæä¾›äº†ä¸€ç³»åˆ—çš„starter pomæ¥ç®€åŒ–Mavençš„ä¾èµ–åŠ è½½</li>
<li>è‡ªåŠ¨é…ç½®Springï¼šå®é™…å¼€å‘ä¸­å¯èƒ½è¿˜éœ€è¦è‡ªå®šä¹‰è‡ªåŠ¨é…ç½®</li>
<li>å‡†ç”Ÿäº§çš„åº”ç”¨ç›‘æ§ï¼šæä¾›åŸºäºhttpã€sshã€telnetå¯¹è¿è¡Œæ—¶çš„é¡¹ç›®è¿›è¡Œç›‘æ§</li>
<li>å‡å°‘é…ç½®è¿‡ç¨‹</li>
</ol>
<h2 id="Spring-Bootä¼˜ç¼ºç‚¹"><a href="#Spring-Bootä¼˜ç¼ºç‚¹" class="headerlink" title="Spring Bootä¼˜ç¼ºç‚¹"></a>Spring Bootä¼˜ç¼ºç‚¹</h2><h3 id="ä¼˜ç‚¹"><a href="#ä¼˜ç‚¹" class="headerlink" title="ä¼˜ç‚¹"></a>ä¼˜ç‚¹</h3><ol>
<li>ä¸ºæ‰€æœ‰Springå¼€å‘è€…æ›´å¿«çš„å…¥é—¨ï¼Œå¿«é€Ÿæ„å»ºé¡¹ç›®</li>
<li>å¼€ç®±å³ç”¨ï¼Œæä¾›å„ç§é»˜è®¤é…ç½®æ¥ç®€åŒ–é¡¹ç›®é…ç½®</li>
<li>å†…åµŒå¼å®¹å™¨ç®€åŒ–Webé¡¹ç›®ï¼Œå¯ç‹¬ç«‹è¿è¡Œï¼Œæ— éœ€å¤–éƒ¨ä¾èµ–Servletå®¹å™¨</li>
<li>æ²¡æœ‰å†—ä½™ä»£ç ç”Ÿæˆå’ŒXMLé…ç½®çš„è¦æ±‚</li>
<li>å¯¹ä¸»æµå¼€å‘æ¡†æ¶çš„æ— é…ç½®é›†æˆ</li>
<li>ä¸äº‘è®¡ç®—å¤©ç„¶é›†æˆ</li>
</ol>
<h3 id="ç¼ºç‚¹"><a href="#ç¼ºç‚¹" class="headerlink" title="ç¼ºç‚¹"></a>ç¼ºç‚¹</h3><ol>
<li>ä¹¦ç±æ–‡æ¡£è¾ƒå°‘ä¸”ä¸å¤Ÿæ·±å…¥</li>
<li>Springæ¡†æ¶çš„çŸ¥è¯†å‚¨å¤‡å¿…ä¸å¯å°‘ï¼Œå…¥é—¨å¿«é€Ÿï¼Œæ·±å…¥è¾ƒéš¾</li>
</ol>
<h2 id="ç¯å¢ƒè¯´æ˜"><a href="#ç¯å¢ƒè¯´æ˜" class="headerlink" title="ç¯å¢ƒè¯´æ˜"></a>ç¯å¢ƒè¯´æ˜</h2><ol>
<li>Java JDKç‰ˆæœ¬: Java SE 11;</li>
<li>Mavenç‰ˆæœ¬ï¼š3.6.3;</li>
<li>IDEï¼šIntellij IDEA 2019V2;</li>
</ol>
<h2 id="starter-pomï¼ˆéƒ¨åˆ†ï¼‰"><a href="#starter-pomï¼ˆéƒ¨åˆ†ï¼‰" class="headerlink" title="starter pomï¼ˆéƒ¨åˆ†ï¼‰"></a>starter pomï¼ˆéƒ¨åˆ†ï¼‰</h2><ol>
<li><p><strong>spring-boot-starter-parentï¼š</strong>ä¸»è¦å®Œæˆä¾èµ–ç®¡ç†ï¼›</p>
</li>
<li><p><strong>spring-boot-starter-webï¼š</strong>spring webæ ¸å¿ƒç»„ä»¶ï¼›</p>
</li>
<li><p><strong>spring-boot-maven-pluginï¼š</strong>æ‰“åŒ…æ ¸å¿ƒç»„ä»¶ã€‚</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/b066b8a33ef78964596e4fb5105b1d6e-103366" alt=""></p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/cdbf0050c941aa9936aa0d2bf2450dfd-402594" alt=""></p>
</li>
<li><p>ç¬¬ä¸‰æ–¹starter pomï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/181a96330ca7ece8d8c4cef251fe1b82-164356" alt=""></p>
</li>
</ol>
<h2 id="SpringWebé™æ€èµ„æºè®¿é—®"><a href="#SpringWebé™æ€èµ„æºè®¿é—®" class="headerlink" title="SpringWebé™æ€èµ„æºè®¿é—®"></a>SpringWebé™æ€èµ„æºè®¿é—®</h2><ol>
<li>Spring Booté»˜è®¤æä¾›é™æ€èµ„æºç›®å½•ä½ç½®éœ€ç½®äºclasspathä¸‹ï¼Œç›®å½•åéœ€ç¬¦åˆå¦‚ä¸‹è§„åˆ™ï¼š</li>
</ol>
<ul>
<li>/static</li>
<li>/public</li>
<li>/resources</li>
<li>/META-INF/resources</li>
</ul>
<ol start="2">
<li>æ”¾å…¥æˆåŠŸçš„è¯ï¼Œå¯ä»¥ç›´æ¥å¯¹åº”ç½‘å€åŠ ä¸Š/èµ„æºæ–‡ä»¶åè®¿é—®å¯¹åº”çš„å†…å®¹ï¼›</li>
<li>åœ¨<strong>/scr/main/resources/public/erroræ–‡ä»¶å¤¹</strong>ä¸‹åˆ›å»ºå¯¹åº”å¾—erroré¡µå°±å¯ä»¥åœ¨å‡ºç°ç›¸åº”çš„é”™è¯¯çš„æ—¶å€™ç›´æ¥è·³è½¬åˆ°è¯¥é¡µé¢ã€‚</li>
</ol>
<h2 id="å…¨å±€æ•è·å¼‚å¸¸"><a href="#å…¨å±€æ•è·å¼‚å¸¸" class="headerlink" title="å…¨å±€æ•è·å¼‚å¸¸"></a>å…¨å±€æ•è·å¼‚å¸¸</h2><ol>
<li>@ExceptionHandler è¡¨ç¤ºæ‹¦æˆªå¼‚å¸¸ï¼š<ul>
<li>@ControllerAdvice æ˜¯ controller çš„ä¸€ä¸ªè¾…åŠ©ç±»ï¼›</li>
<li>@ControllerAdvice å¯ä»¥æŒ‡å®šæ‰«æèŒƒå›´ï¼›</li>
<li>@ControllerAdvice çº¦å®šäº†å‡ ç§å¯è¡Œçš„è¿”å›å€¼ï¼Œå¦‚æœæ˜¯ç›´æ¥è¿”å› model ç±»çš„è¯ï¼Œéœ€è¦ä½¿ç”¨ @ResponseBody è¿›è¡Œ json è½¬æ¢ï¼š<ul>
<li>è¿”å› Stringï¼Œè¡¨ç¤ºè·³åˆ°æŸä¸ª view</li>
<li>è¿”å› modelAndView</li>
<li>è¿”å› model + @ResponseBody</li>
</ul>
</li>
</ul>
</li>
<li>æ ·ä¾‹ä»£ç ï¼š</li>
</ol>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@ControllerAdvice</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">GlobalExceptionHandler</span> </span>&#123;</span><br><span class="line">	<span class="meta">@ExceptionHandler</span>(RuntimeException<span class="class">.<span class="keyword">class</span>)</span></span><br><span class="line"><span class="class">	@<span class="title">ResponseBody</span></span></span><br><span class="line"><span class="class">	<span class="title">public</span> <span class="title">Map</span>&lt;<span class="title">String</span>, <span class="title">Object</span>&gt; <span class="title">exceptionHandler</span>() </span>&#123;</span><br><span class="line">		Map&lt;String, Object&gt; map = <span class="keyword">new</span> HashMap&lt;String, Object&gt;();</span><br><span class="line">		map.put(<span class="string">"errorCode"</span>, <span class="string">"101"</span>);</span><br><span class="line">		map.put(<span class="string">"errorMsg"</span>, <span class="string">"ç³»çµ±é”™è¯¯!"</span>);</span><br><span class="line">		<span class="keyword">return</span> map;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="æ¨¡æ¿å¼•æ“"><a href="#æ¨¡æ¿å¼•æ“" class="headerlink" title="æ¨¡æ¿å¼•æ“"></a>æ¨¡æ¿å¼•æ“</h2><ol>
<li>åœ¨åŠ¨æ€HTMLå®ç°ä¸ŠSpring Bootä¾ç„¶å¯ä»¥å®Œç¾èƒœä»»ï¼Œå¹¶ä¸”æä¾›äº†å¤šç§æ¨¡æ¿å¼•æ“çš„é»˜è®¤é…ç½®æ”¯æŒï¼Œæ‰€ä»¥åœ¨æ¨èçš„æ¨¡æ¿å¼•æ“ä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥å¾ˆå¿«çš„ä¸Šæ‰‹å¼€å‘åŠ¨æ€ç½‘ç«™ã€‚</li>
<li>å¸¸è§çš„æ¨¡æ¿å¼•æ“æœ‰ï¼š</li>
</ol>
<ul>
<li>Thymeleaf</li>
<li>FreeMarker</li>
<li>Velocity</li>
<li>Groovy</li>
<li>Mustache</li>
</ul>
<ol start="3">
<li>Spring Bootå»ºè®®ä½¿ç”¨è¿™äº›æ¨¡æ¿å¼•æ“ï¼Œé¿å…ä½¿ç”¨JSPï¼›</li>
<li>å½“ä½¿ç”¨ä¸Šè¿°æ¨¡æ¿å¼•æ“ä¸­çš„ä»»ä½•ä¸€ä¸ªï¼Œå®ƒä»¬é»˜è®¤çš„æ¨¡æ¿é…ç½®è·¯å¾„ä¸ºï¼šsrc/main/resources/templatesï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ä¿®æ”¹è¿™ä¸ªé»˜è®¤è·¯å¾„ã€‚</li>
<li>æ³¨æ„ä¸€èˆ¬é‡‡ç”¨å‰åç«¯åˆ†ç¦»ï¼Œä¸ä»…å¯ä»¥åŠ é€Ÿåç«¯çš„å¤„ç†é€Ÿåº¦ï¼Œè€Œä¸”å‰ç«¯ç”±å‰ç«¯äººå‘˜å¼€å‘å¯ä»¥åŠ é€Ÿæ•´ä¸ªé¡¹ç›®çš„å¼€å‘è¿›åº¦ã€‚</li>
<li><strong>åˆ›å»ºSpringBootæ•´åˆJSPï¼Œä¸€å®šè¦ä¸ºwarç±»å‹ï¼Œå¦åˆ™ä¼šæ‰¾ä¸åˆ°é¡µé¢ã€‚</strong></li>
</ol>
<h2 id="æ•´åˆå¤šæ•°æ®æº"><a href="#æ•´åˆå¤šæ•°æ®æº" class="headerlink" title="æ•´åˆå¤šæ•°æ®æº"></a>æ•´åˆå¤šæ•°æ®æº</h2><ol>
<li>é…ç½®æ–‡ä»¶å†™å¤šä¸ªï¼Œç„¶ååˆ†åŒ…å°±å¯ä»¥äº†ï¼›</li>
<li>æ³¨æ„æ¯ä¸ªé…ç½®ç±»åŠ ä¸Šæ³¨è§£ï¼š@Primaryï¼Œ@ConfigurationProperties(prefix =â€spring.datasource.test1â€)</li>
<li>åŠ ä¸Š@Transactionalå°±å¯ä»¥è¿›è¡Œäº‹åŠ¡ç®¡ç†ï¼›</li>
<li>Spring Dataä¸ºæˆ‘ä»¬ä½¿ç”¨ç»Ÿä¸€çš„APIæ¥å¯¹ä¸Šè¿°çš„æ•°æ®å­˜å‚¨æŠ€æœ¯è¿›è¡Œæ•°æ®è®¿é—®æ“ä½œæä¾›äº†æ”¯æŒ,è¿™äº›æ•°æ®è®¿é—®æ˜¯é€šè¿‡Spring Data Commonsé¡¹ç›®æ¥å®ç°çš„ï¼Œè®©æˆ‘ä»¬åœ¨ä½¿ç”¨å…³ç³»å‹æˆ–è€…éå…³ç³»å‹æ•°æ®è®¿é—®æŠ€æœ¯æ—¶éƒ½ä½¿ç”¨åŸºäºSpringçš„ç»Ÿä¸€æ ‡å‡†ï¼ŒåŒ…å«äº†CRUDã€æŸ¥è¯¢ã€æ’åºå’Œåˆ†é¡µçš„ç›¸å…³æ“ä½œï¼›</li>
<li>Spring Data RepositoryæŠ½è±¡æ˜¯ä¸€ä¸ªéå¸¸é‡è¦çš„æ¦‚å¿µ,å¯ä»¥æå¤§å‡å°‘æ•°æ®è®¿é—®å±‚çš„ä»£ç ï¼›</li>
</ol>
<h2 id="æ—¥å¿—é…ç½®"><a href="#æ—¥å¿—é…ç½®" class="headerlink" title="æ—¥å¿—é…ç½®"></a>æ—¥å¿—é…ç½®</h2><ol>
<li><p>Spring  Bootæ”¯æŒJava Util Loggingã€Log4Jã€Log4J2å’ŒLogbackä½œä¸ºæ—¥å¿—æ¡†æ¶ï¼Œæ— è®ºä½¿ç”¨å“ªç§æ—¥å¿—æ¡†æ¶ï¼Œéƒ½ä¸ºå½“å‰ä½¿ç”¨æ—¥å¿—æ¡†æ¶çš„æ§åˆ¶å°è¾“å‡ºä»¥åŠæ–‡ä»¶è¾“å‡ºåšå¥½äº†é…ç½®ï¼Œé»˜è®¤ä½¿ç”¨Logbackä½œä¸ºæ—¥å¿—æ¡†æ¶ï¼›</p>
</li>
<li><p>é…ç½®æ—¥å¿—æ–‡ä»¶ï¼š</p>
<figure class="highlight properties"><table><tr><td class="code"><pre><span class="line"><span class="meta">logging.file</span>=<span class="string">/mylog/log.log</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>é…ç½®æ—¥å¿—çº§åˆ«ï¼š</p>
<figure class="highlight properties"><table><tr><td class="code"><pre><span class="line"><span class="meta">logging.level.org.springframework.web</span> = <span class="string">DEBUG</span></span><br></pre></td></tr></table></figure>

</li>
</ol>
<h2 id="Profileé…ç½®"><a href="#Profileé…ç½®" class="headerlink" title="Profileé…ç½®"></a>Profileé…ç½®</h2><ol>
<li>Profileæ˜¯Spring Bootç”¨æ¥é’ˆå¯¹ä¸åŒçš„ç¯å¢ƒå¯¹ä¸åŒçš„é…ç½®æä¾›æ”¯æŒçš„,å…¨å±€Profileé…ç½®ä½¿ç”¨application-{profile}.propertiesï¼ˆä¾‹å¦‚application-prod.propertiesï¼‰</li>
<li>é€šè¿‡åœ¨application.propertiesä¸­è®¾ç½®spring.profiles.active=prodæ¥æŒ‡å®šæ´»åŠ¨çš„Profile</li>
<li>å»ºè®®ä½¿ç”¨ymlè¿›è¡ŒProfileæ–‡ä»¶çš„é…ç½®ï¼›</li>
</ol>
<h2 id="åº”ç”¨ç›‘æ§"><a href="#åº”ç”¨ç›‘æ§" class="headerlink" title="åº”ç”¨ç›‘æ§"></a>åº”ç”¨ç›‘æ§</h2><ol>
<li><p>Spring Bootæä¾›äº†è¿è¡Œæ—¶çš„åº”ç”¨ç›‘æ§å’Œç®¡ç†çš„åŠŸèƒ½ï¼Œå¯ä»¥é€šè¿‡httpã€JMX<del>ã€ssh</del>åè®®æ¥è¿›è¡Œæ“ä½œï¼Œå¯ä»¥è‡ªåŠ¨è·å¾—å®¡è®¡ã€å¥åº·ä»¥åŠæŒ‡æ ‡ä¿¡æ¯ï¼›</p>
</li>
<li><p>Spring Bootæä¾›äº†ç›‘æ§å’Œç®¡ç†ç«¯ç‚¹ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/80882a10784fc3e30a3f046c4df6155e-222856" alt=""></p>
</li>
<li><p>è¦æƒ³åœ¨é¡¹ç›®ä¸­å¼€å¯httpç›‘æ§ï¼Œéœ€è¦æ·»åŠ spring-boot-starter-actuatorï¼Œæ·»åŠ å¥½çš„é¡¹ç›®å¯ä»¥é‡æ–°æ„å»ºï¼Œç„¶åå°±èƒ½è®¿é—®actuatorç«¯ç‚¹æ¥è®¿é—®ï¼Œç›‘æ§å’Œç®¡ç†ç«¯ç‚¹è®¿é—®å¯¹åº”çš„ç«¯ç‚¹åå°±å¯ä»¥äº†ï¼›</p>
</li>
<li><p>å¯ä»¥å®šåˆ¶ç«¯ç‚¹ï¼Œä¸€èˆ¬é€šè¿‡endpoints+ç«¯ç‚¹å+å±æ€§åæ¥è®¾ç½®ï¼Œé—´éš”ä½¿ç”¨â€.â€</p>
<ol>
<li>ä¿®æ”¹ç«¯ç‚¹idï¼šendpoints.beans.id=mybeans</li>
<li>å¼€å¯ç«¯ç‚¹ï¼šendpoints.shutdown.enabled=true</li>
<li>å…³é—­ç«¯ç‚¹ï¼šendpoints.shutdown.enabled=false</li>
<li>å¼€å¯éƒ¨åˆ†ç«¯ç‚¹ï¼Œå¯ä»¥å…ˆå…³é—­æ‰€æœ‰ç«¯ç‚¹ï¼Œç„¶åå†å¼€å¯æ‰€éœ€ç«¯ç‚¹ï¼Œendpoints.enabled=false</li>
<li>å®šåˆ¶ç«¯ç‚¹è®¿é—®è·¯å¾„ï¼šmanagement.context-path=/manage</li>
<li>å®šåˆ¶ç«¯ç‚¹çš„è®¿é—®ç«¯å£ï¼šmanagement.port=8081</li>
<li>å…³é—­httpç«¯ç‚¹ï¼šmanagement.port=-1</li>
</ol>
</li>
<li><p>Healthä¿¡æ¯éƒ½æ˜¯ä»ApplicationContextä¸­æ‰€æœ‰çš„HealthIndicatorçš„Beanä¸­æ”¶é›†çš„,ä¸‹é¢æ˜¾ç¤ºçš„æ˜¯éƒ¨åˆ†çš„HealthIndicator</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/dbaf759cc264aeb22ef41f509f1bb241-152584" alt=""></p>
</li>
<li><p>JMXæ˜¯Javaå†…ç½®çš„å¯¹åº”ç”¨è¿›è¡Œç›‘æ§å’Œç®¡ç†çš„å·¥å…·ï¼Œé€šè¿‡æ§åˆ¶å°å‘½ä»¤jconsoleæ¥å®ç°JMXç›‘æ§ï¼›</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/a5628e51d5b513a1b86bd3c92b7b3434-178293" alt=""></p>
</li>
<li><p><del>å¯ä»¥ä½¿ç”¨spring-boot-starter-remote-shellæ¥å¼€å¯SSHç›‘æ§å’Œç®¡ç†ç«¯ç‚¹ï¼›</del></p>
</li>
</ol>
<h2 id="æµ‹è¯•"><a href="#æµ‹è¯•" class="headerlink" title="æµ‹è¯•"></a>æµ‹è¯•</h2><ol>
<li>å•å…ƒæµ‹è¯•èƒ½å¤Ÿå¯¹å½“å‰å¼€å‘çš„ç±»å’Œæ–¹æ³•è¿›è¡Œæµ‹è¯•ï¼Œé›†æˆæµ‹è¯•åˆ™å¯ä»¥éªŒè¯ç³»ç»Ÿå„éƒ¨åˆ†æ˜¯å¦èƒ½æ­£å¸¸ååŒå·¥ä½œï¼›</li>
<li>Springé€šè¿‡SpringTestContextFrameworkå¯¹é›†æˆæµ‹è¯•æä¾›é¡¶çº§æ”¯æŒï¼Œå®ƒä¸ä¾èµ–äºç‰¹å®šçš„æµ‹è¯•æ¡†æ¶ï¼Œå¯ä»¥ä½¿ç”¨Junitï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨TestNGï¼›</li>
<li>åŸºäºMavenæ„å»ºçš„é¡¹ç›®ç»“æ„é»˜è®¤æœ‰å…³äºæµ‹è¯•çš„ç›®å½•ï¼šsrc/test/javaï¼ˆæµ‹è¯•ä»£ç ï¼‰ã€src/test/resourcesï¼ˆæµ‹è¯•èµ„æºï¼‰ï¼›</li>
<li>Springæä¾›äº†ä¸€ä¸ªSpringJUnit4ClassRunnerç±»ï¼Œæä¾›äº†Spring TestContext Frameworkçš„åŠŸèƒ½ï¼Œé€šè¿‡@ContextConfigurationæ¥é…ç½®ApplicationContextï¼Œé€šè¿‡@ActiveProfilesç¡®å®šæ´»åŠ¨çš„profileï¼›</li>
</ol>
<h2 id="æ³¨æ„"><a href="#æ³¨æ„" class="headerlink" title="æ³¨æ„"></a>æ³¨æ„</h2><ol>
<li><p>Spring Bootæå€¡é›¶é…ç½®ï¼Œä½†æ˜¯åœ¨å®é™…é¡¹ç›®ä¸­ï¼Œå¯èƒ½æœ‰ä¸€äº›ç‰¹æ®Šè¦æ±‚å¿…é¡»ä½¿ç”¨xmlé…ç½®ï¼Œå¯ä»¥é€šè¿‡@ImportResourceæ¥åŠ è½½xmlé…ç½®ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@ImportResource</span>(&#123;<span class="string">"classpath:some-context.xml"</span>,<span class="string">"classpath:another-context.xml"</span>&#125;)</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ³¨å…¥propertiesæ–‡ä»¶é‡Œçš„å€¼ï¼šé€šè¿‡@PropertySourceæŒ‡æ˜propertiesæ–‡ä»¶çš„ä½ç½®ï¼Œç„¶åé€šè¿‡@Valueæ³¨å…¥å€¼,åœ¨Spring Bootä¸­åªéœ€åœ¨application.propertiesä¸­å®šä¹‰å±æ€§ï¼Œç„¶åç›´æ¥ä½¿ç”¨@Valueæ³¨å…¥å³å¯ï¼›æ¯”å¦‚@Value(â€œ${book.author}â€);</p>
</li>
<li><p>åœ¨Spring Bootä¸­å¯ä»¥ä½¿ç”¨@ConfigurationPropertiesæ³¨è§£ä¸ºä¸€ä¸ªBeanæ³¨å…¥application.propertiesä¸­çš„ä¸€ç»„å±æ€§ï¼Œæ¯”å¦‚@ConfigurationProperties(prefix = â€œauthorâ€ )ï¼›é€šè¿‡prefixå±æ€§æŒ‡å®špropertiesçš„é…ç½®çš„å‰ç¼€ï¼Œé€šè¿‡locationsæŒ‡å®špropertiesæ–‡ä»¶çš„ä½ç½®ï¼Œæ¯”å¦‚@ConfigurationProperties(prefix = â€œauthorâ€ ,locations = {â€œclasspath:config/author.propertiesâ€})</p>
</li>
</ol>
<h1 id="SpringBootæ ¸å¿ƒ"><a href="#SpringBootæ ¸å¿ƒ" class="headerlink" title="SpringBootæ ¸å¿ƒ"></a>SpringBootæ ¸å¿ƒ</h1><h2 id="æ³¨è§£-SpringBootApplication"><a href="#æ³¨è§£-SpringBootApplication" class="headerlink" title="æ³¨è§£@SpringBootApplication"></a>æ³¨è§£@SpringBootApplication</h2><ol>
<li><p>@SpringBootApplicationæ˜¯SpringBootçš„æ ¸å¿ƒæ³¨è§£,æ˜¯ä¸€ä¸ªç»„åˆæ³¨è§£:</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Target</span>(&#123;ElementType.TYPE&#125;)</span><br><span class="line"><span class="meta">@Retention</span>(RetentionPolicy.RUNTIME)</span><br><span class="line"><span class="meta">@Documented</span></span><br><span class="line"><span class="meta">@Inherited</span></span><br><span class="line"><span class="meta">@SpringBootConfiguration</span></span><br><span class="line"><span class="meta">@EnableAutoConfiguration</span></span><br><span class="line"><span class="meta">@ComponentScan</span>(</span><br><span class="line">    excludeFilters = &#123;<span class="meta">@Filter</span>(</span><br><span class="line">    type = FilterType.CUSTOM,</span><br><span class="line">    classes = &#123;TypeExcludeFilter<span class="class">.<span class="keyword">class</span>&#125;</span></span><br><span class="line"><span class="class">), @<span class="title">Filter</span>(</span></span><br><span class="line"><span class="class">    <span class="title">type</span> </span>= FilterType.CUSTOM,</span><br><span class="line">    classes = &#123;AutoConfigurationExcludeFilter<span class="class">.<span class="keyword">class</span>&#125;</span></span><br><span class="line"><span class="class">)&#125;</span></span><br><span class="line"><span class="class">)</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>å¯ä»¥çœ‹åˆ°SpringBootApplicationæ³¨è§£ä¸»è¦ç»„åˆäº†@Configurationã€@EnableAutoConfigurationã€@ComponentScanï¼›è‹¥ä¸ä½¿ç”¨@SpringBootApplicationåˆ™å¯ä»¥ç›´æ¥åœ¨å…¥å£ç±»ä¸Šä½¿ç”¨@Configurationã€@EnableAutoConfigurationã€@ComponentScanï¼›</p>
</li>
<li><p>@EnableAutoConfigurationè®©SpringBootæ ¹æ®ç±»è·¯å¾„ä¸­çš„jaråŒ…ä¾èµ–ä¸ºå½“å‰é¡¹ç›®è¿›è¡Œè‡ªåŠ¨é…ç½®ï¼›</p>
</li>
<li><p>Spring Bootä¼šè‡ªåŠ¨æ‰«æ@SpringBootApplicationæ‰€åœ¨ç±»çš„åŒçº§åŒ…é‡Œçš„Beanï¼›</p>
</li>
<li><p>è¦æƒ³å…³é—­ç‰¹å®šçš„è‡ªåŠ¨é…ç½®å¯ä»¥ä½¿ç”¨@SpringBootApplicationæ³¨è§£çš„excludeå‚æ•°ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@SpringBootApplication</span>(exclude=&#123;DataSourceAutoConfiguration<span class="class">.<span class="keyword">class</span>&#125;)</span></span><br></pre></td></tr></table></figure>

</li>
</ol>
<h2 id="å¤–éƒ¨é…ç½®"><a href="#å¤–éƒ¨é…ç½®" class="headerlink" title="å¤–éƒ¨é…ç½®"></a>å¤–éƒ¨é…ç½®</h2><ol>
<li><p>SpringBootå¯ä»¥æ˜¯åŸºäºjaråŒ…è¿è¡Œçš„ï¼Œæ‰“åŒ…æˆjaråŒ…ä¹‹åå°±å¯ä»¥ç›´æ¥é€šè¿‡å‘½ä»¤è¿è¡Œï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">java -jar xx.jar</span><br></pre></td></tr></table></figure>
</li>
<li><p>å¯ä»¥ç›´æ¥é€šè¿‡å‘½ä»¤ä¿®æ”¹ç«¯å£å·ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">java -jar xx.jar --server.port=<span class="number">8080</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>å‘½ä»¤å¯ä»¥æ·»åŠ å‚æ•°â€“debugå‚æ•°ï¼Œèƒ½çœ‹åˆ°è°ƒè¯•ä¿¡æ¯!</p>
</li>
</ol>
<hr>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>è¿™éƒ¨åˆ†æ˜¯çœ‹äº†èš‚èšè¯¾å ‚çš„è§†é¢‘è¿›è¡Œçš„æ€»ç»“ï¼Œä¸å®Œå…¨ï¼Œè¿˜æœ‰ä¸€äº›redisç­‰éœ€è¦å…ˆå­¦ä¹ redisç­‰çš„åŸºç¡€çŸ¥è¯†ä¹‹åæ‰èƒ½æ·±å…¥å­¦ä¹ ï¼Œè¿˜æœ‰å…¶ä»–çš„è§†é¢‘æ•™ç¨‹ä¹Ÿåœ¨ä¸æ–­åœ°åŠ æ·±æˆ‘å¯¹SpringBootçš„ç†è§£ï¼Œåˆé€‚çš„æ—¶å€™ï¼Œå¯ä»¥çœ‹SpringBootæºç æ·±å…¥æŒæ¡SpringBootï¼</p>
]]></content>
      <categories>
        <category>Java</category>
      </categories>
  </entry>
  <entry>
    <title>Spring Cloud Quick Start</title>
    <url>/2020/05/21/Spring-Cloud-Quick-Start/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><hr>
<h1 id="åŸºç¡€çŸ¥è¯†"><a href="#åŸºç¡€çŸ¥è¯†" class="headerlink" title="åŸºç¡€çŸ¥è¯†"></a>åŸºç¡€çŸ¥è¯†</h1><h2 id="é€šç”¨åŸºç¡€çŸ¥è¯†"><a href="#é€šç”¨åŸºç¡€çŸ¥è¯†" class="headerlink" title="é€šç”¨åŸºç¡€çŸ¥è¯†"></a>é€šç”¨åŸºç¡€çŸ¥è¯†</h2><ol>
<li><p><strong>ä¸€è‡´æ€§</strong>å®é™…ä¸Šå°±æ˜¯å›´ç»•ç€â€œçœ‹è§â€æ¥çš„ã€‚è°èƒ½çœ‹è§ï¼Ÿèƒ½å¦çœ‹è§ï¼Ÿä»€ä¹ˆæ—¶å€™çœ‹è§ï¼Ÿä»¥å–å®¶ä¸Šæ¶å•†å“ä¸ºä¾‹ï¼Œä¹°å®¶çœ‹åˆ°å•†å“çš„æ›´æ–°æƒ…å†µå°†ä¸€è‡´æ€§è¿›è¡Œåˆ†ç±»å¦‚ä¸‹ï¼š</p>
<ul>
<li>å‡è®¾å–å®¶æ›´æ–°æˆåŠŸä¹‹åä¹°å®¶ç«‹é©¬å°±èƒ½çœ‹åˆ°å–å®¶çš„æ›´æ–°ï¼Œç§°ä¸º<strong>å¼ºä¸€è‡´æ€§</strong></li>
<li>å‡è®¾å–å®¶æ›´æ–°æˆåŠŸåä¹°å®¶ä¸èƒ½çœ‹åˆ°å–å®¶æ›´æ–°çš„å†…å®¹ï¼Œç§°ä¸º<strong>å¼±ä¸€è‡´æ€§</strong></li>
<li>å‡è®¾å–å®¶æ›´æ–°æˆåŠŸåï¼Œä¹°å®¶ç»è¿‡ä¸€æ®µæ—¶é—´æœ€ç»ˆèƒ½çœ‹åˆ°å–å®¶çš„æ›´æ–°ï¼Œç§°ä¸º<strong>æœ€ç»ˆä¸€è‡´æ€§</strong></li>
</ul>
</li>
<li><p>è§£å†³ä¸€è‡´æ€§é—®é¢˜çš„æ–¹æ¡ˆï¼š</p>
<ul>
<li><strong>æŸ¥è¯¢é‡å¤è¡¥å¿</strong>ï¼Œå¯¹äºåˆ†å¸ƒå¼åº”ç”¨ä¸­ä¸ç¡®å®šçš„æƒ…å†µï¼Œå…ˆä½¿ç”¨æŸ¥è¯¢æ¥å£æŸ¥è¯¢åˆ°å½“å‰çŠ¶æ€ï¼Œå¦‚æœå½“å‰çŠ¶æ€ä¸ä¸€è‡´åˆ™é‡‡ç”¨è¡¥å¿æ¥å£å¯¹çŠ¶æ€è¿›è¡Œé‡è¯•æ¨è¿›ï¼Œæˆ–è€…å›æ»šæ¥å£å¯¹ä¸šåŠ¡åšå›æ»šã€‚å…¸å‹çš„åœºæ™¯å¦‚é“¶è¡Œè·Ÿæ”¯ä»˜å®ä¹‹é—´çš„äº¤äº’ï¼Œæ”¯ä»˜å®å‘é€ä¸€ä¸ªè½¬è´¦è¯·æ±‚åˆ°é“¶è¡Œï¼Œå¦‚ä¸€ç›´æœªæ”¶åˆ°å“åº”ï¼Œåˆ™å¯ä»¥é€šè¿‡é“¶è¡Œçš„æŸ¥è¯¢æ¥å£æŸ¥è¯¢è¯¥ç¬”äº¤æ˜“çš„çŠ¶æ€ï¼Œå¦‚è¯¥ç¬”äº¤æ˜“å¯¹æ–¹æœªæ”¶åˆ°ï¼Œåˆ™é‡‡å–è¡¥å¿çš„æ¨¡å¼è¿›è¡Œæ¨é€</li>
<li><strong>å®šæ—¶ä»»åŠ¡æ¨é€</strong>ï¼Œå¯¹äºä¸Šé¢çš„æƒ…å†µï¼Œæœ‰å¯èƒ½ä¸€æ¬¡æ¨é€æä¸å®šï¼Œäºæ˜¯éœ€è¦2æ¬¡ï¼Œ3æ¬¡æ¨é€â€¦ â€¦æ”¯ä»˜å®å†…æœ€åˆæ‰å•ç‡å¾ˆé«˜ï¼Œå…¨é åç»­ä¸æ–­çš„å®šæ—¶ä»»åŠ¡æ¨é€å¢åŠ æˆåŠŸç‡</li>
<li><strong>TCC(Try Confirm Cancel)</strong>ï¼Œå®é™…ä¸Šæ˜¯ä¸¤é˜¶æ®µåè®®ï¼Œç¬¬äºŒé˜¶æ®µçš„å¯ä»¥å®ç°æäº¤æ“ä½œæˆ–æ˜¯é€†æ“ä½œ</li>
</ul>
</li>
<li><p>CAPåŸåˆ™ï¼šCAPåœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ä¸»è¦æŒ‡çš„æ˜¯ä¸€è‡´æ€§ï¼ˆConsistencyï¼‰ã€å¯ç”¨æ€§ï¼ˆAvailabilityï¼‰å’Œåˆ†åŒºå®¹é”™æ€§ï¼ˆPartition toleranceï¼‰</p>
<ul>
<li>ä¸€è‡´æ€§ï¼ŒæŒ‡çš„å°±æ˜¯å¼ºä¸€è‡´æ€§</li>
<li>å¯ç”¨æ€§ï¼Œç³»ç»Ÿæä¾›çš„æœåŠ¡ä¸€ç›´å¤„äºå¯ç”¨çŠ¶æ€ï¼Œç”¨æˆ·çš„æ“ä½œè¯·æ±‚åœ¨æŒ‡å®šçš„å“åº”æ—¶é—´å†…å“åº”è¯·æ±‚ï¼Œè¶…è¿‡æ—¶é—´èŒƒå›´ï¼Œè®¤ä¸ºç³»ç»Ÿä¸å¯ç”¨</li>
<li>åˆ†åŒºå®¹é”™æ€§ï¼Œåˆ†å¸ƒå¼ç³»ç»Ÿåœ¨é‡åˆ°ä»»ä½•ç½‘ç»œåˆ†åŒºæ•…éšœçš„æ—¶å€™ï¼Œä»éœ€è¦èƒ½å¤Ÿä¿è¯å¯¹å¤–æä¾›ä¸€è‡´æ€§å’Œå¯ç”¨æ€§æœåŠ¡ï¼Œé™¤éæ˜¯æ•´ä¸ªç½‘ç»œéƒ½å‘ç”Ÿæ•…éšœ</li>
</ul>
</li>
<li><p>åœ¨ä¸€ä¸ªåˆ†å¸ƒå¼ç³»ç»Ÿä¸­ä¸å¯èƒ½åŒæ—¶æ»¡è¶³ä¸€è‡´æ€§ã€å¯ç”¨æ€§ã€åˆ†åŒºå®¹é”™æ€§ï¼Œæœ€å¤šæ»¡è¶³ä¸¤ä¸ªï¼Œå¯¹äºåˆ†å¸ƒå¼äº’è”ç½‘åº”ç”¨è€Œè¨€ï¼Œå¿…é¡»ä¿è¯Pï¼Œæ‰€ä»¥è¦ä¹ˆæ˜¯CPï¼Œè¦ä¹ˆæ˜¯APï¼›</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/fa7bac94fbd9eb9c21747bf0811fe366-9028" alt="CAPåŸåˆ™"></p>
</li>
</ol>
<h2 id="å¾®æœåŠ¡åŸºç¡€çŸ¥è¯†"><a href="#å¾®æœåŠ¡åŸºç¡€çŸ¥è¯†" class="headerlink" title="å¾®æœåŠ¡åŸºç¡€çŸ¥è¯†"></a>å¾®æœåŠ¡åŸºç¡€çŸ¥è¯†</h2><ol>
<li>æœåŠ¡æ²»ç†æ˜¯å¾®æœåŠ¡æ¶æ„ä¸­æœ€ä¸ºæ ¸å¿ƒå’ŒåŸºç¡€çš„æ¨¡å—ï¼Œä¸»è¦ç”¨æ¥å®ç°å„ä¸ªå¾®æœåŠ¡å®ä¾‹çš„è‡ªåŠ¨åŒ–æ³¨å†Œå’Œå‘ç°ï¼š<ul>
<li>æœåŠ¡æ³¨å†Œï¼šæ¯ä¸ªæœåŠ¡å•å…ƒå‘æ³¨å†Œä¸­å¿ƒç™»è®°è‡ªå·±æä¾›çš„æœåŠ¡ï¼ŒåŒ…æ‹¬æœåŠ¡çš„ä¸»æœºä¸ç«¯å£å·ã€æœåŠ¡ç‰ˆæœ¬å·ã€é€šè®¯åè®®ç­‰ä¸€äº›é™„åŠ ä¿¡æ¯ã€‚æ³¨å†Œä¸­å¿ƒæŒ‰ç…§æœåŠ¡ååˆ†ç±»ç»„ç»‡æœåŠ¡æ¸…å•ï¼ŒåŒæ—¶è¿˜éœ€è¦ä»¥å¿ƒè·³æ£€æµ‹çš„æ–¹å¼å»ç›‘æµ‹æ¸…å•ä¸­çš„æœåŠ¡æ˜¯å¦å¯ç”¨ï¼Œè‹¥æœåŠ¡ä¸å¯ç”¨åˆ™éœ€è¦ä»æœåŠ¡æ¸…å•ä¸­å‰”é™¤ï¼Œä»¥è¾¾åˆ°æ’é™¤æ•…éšœæœåŠ¡çš„æ•ˆæœ</li>
<li>æœåŠ¡å‘ç°ï¼šæœåŠ¡é—´çš„è°ƒç”¨é€šè¿‡æœåŠ¡åå‘èµ·è¯·æ±‚è°ƒç”¨å®ç°ã€‚æœåŠ¡è°ƒç”¨æ–¹é€šè¿‡æœåŠ¡åä»æœåŠ¡æ³¨å†Œä¸­å¿ƒçš„æœåŠ¡æ¸…å•ä¸­è·å–æœåŠ¡å®ä¾‹çš„åˆ—è¡¨æ¸…å•ï¼Œé€šè¿‡æŒ‡å®šçš„è´Ÿè½½å‡è¡¡ç­–ç•¥å–å‡ºä¸€ä¸ªæœåŠ¡å®ä¾‹ä½ç½®æ¥è¿›è¡ŒæœåŠ¡è°ƒç”¨</li>
</ul>
</li>
<li>Spring Cloud Eureka æ˜¯ Spring Cloud Netflix å¾®æœåŠ¡å¥—ä»¶ä¸­çš„ä¸€éƒ¨åˆ†ï¼ŒåŸºäº Netflix Eureka åšäº†äºŒæ¬¡å°è£…ã€‚ä¸»è¦è´Ÿè´£å®Œæˆå¾®æœåŠ¡æ¶æ„ä¸­çš„æœåŠ¡æ²»ç†åŠŸèƒ½ï¼›</li>
<li></li>
</ol>
<h2 id="ZookeeperåŸºç¡€çŸ¥è¯†"><a href="#ZookeeperåŸºç¡€çŸ¥è¯†" class="headerlink" title="ZookeeperåŸºç¡€çŸ¥è¯†"></a>ZookeeperåŸºç¡€çŸ¥è¯†</h2><ol>
<li><p>ZooKeeper: Because Coordinating Distributed Systems is a Zooï¼</p>
</li>
<li><p>Zookeeperå®˜æ–¹ç½‘å€ï¼š<a href="https://zookeeper.apache.org/" target="_blank" rel="noopener">https://zookeeper.apache.org/</a></p>
</li>
<li><p>Zookeeperä¸­çš„è§’è‰²ä¸»è¦æœ‰ä¸‰ç±»ï¼Œå¦‚ä¸‹ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/81cb1ddd7ae9abdda6d7d6b1c1878b60-50519" alt="Zookeeperè§’è‰²"></p>
</li>
<li><p>Zookeeperç³»ç»Ÿæ¨¡å‹ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/c6273dc64954ece8ac53c6cff2ffbbfa-24926" alt="ç³»ç»Ÿæ¨¡å‹"></p>
</li>
<li><p>è®¾è®¡ç›®çš„ï¼š</p>
<ul>
<li><strong>æœ€ç»ˆä¸€è‡´æ€§</strong>ï¼Œclientä¸è®ºè¿æ¥åˆ°å“ªä¸ªServerï¼Œå±•ç¤ºç»™å®ƒéƒ½æ˜¯åŒä¸€ä¸ªè§†å›¾</li>
<li><strong>å¯é æ€§</strong>ï¼Œå…·æœ‰ç®€å•ã€å¥å£®ã€è‰¯å¥½çš„æ€§èƒ½ï¼Œå¦‚æœæ¶ˆæ¯mè¢«åˆ°ä¸€å°æœåŠ¡å™¨æ¥å—ï¼Œé‚£ä¹ˆå®ƒå°†è¢«æ‰€æœ‰çš„æœåŠ¡å™¨æ¥å—</li>
<li><strong>å®æ—¶æ€§</strong>ï¼ŒZookeeperä¿è¯å®¢æˆ·ç«¯å°†åœ¨ä¸€ä¸ªæ—¶é—´é—´éš”èŒƒå›´å†…è·å¾—æœåŠ¡å™¨çš„æ›´æ–°ä¿¡æ¯ï¼Œæˆ–è€…æœåŠ¡å™¨å¤±æ•ˆçš„ä¿¡æ¯</li>
<li><strong>ç­‰å¾…æ— å…³ï¼ˆwait-freeï¼‰</strong>ï¼Œæ…¢çš„æˆ–è€…å¤±æ•ˆçš„clientä¸å¾—å¹²é¢„å¿«é€Ÿçš„clientçš„è¯·æ±‚ï¼Œä½¿å¾—æ¯ä¸ªclientéƒ½èƒ½æœ‰æ•ˆçš„ç­‰å¾…</li>
<li><strong>åŸå­æ€§</strong>ï¼Œæ›´æ–°åªèƒ½æˆåŠŸæˆ–è€…å¤±è´¥ï¼Œæ²¡æœ‰ä¸­é—´çŠ¶æ€</li>
<li><strong>é¡ºåºæ€§</strong>ï¼ŒåŒ…æ‹¬å…¨å±€æœ‰åºå’Œååºä¸¤ç§</li>
</ul>
</li>
<li><p>Zookeeperçš„æ ¸å¿ƒæ˜¯åŸå­å¹¿æ’­ï¼Œå®ç°è¿™ä¸ªæœºåˆ¶çš„åè®®å«åšZabåè®®ã€‚Zabåè®®æœ‰ä¸¤ç§æ¨¡å¼ï¼Œå®ƒä»¬åˆ†åˆ«æ˜¯æ¢å¤æ¨¡å¼ï¼ˆé€‰ä¸»ï¼‰å’Œå¹¿æ’­æ¨¡å¼ï¼ˆåŒæ­¥ï¼‰ã€‚å½“æœåŠ¡å¯åŠ¨æˆ–è€…åœ¨é¢†å¯¼è€…å´©æºƒåï¼ŒZabå°±è¿›å…¥äº†æ¢å¤æ¨¡å¼ï¼Œå½“é¢†å¯¼è€…è¢«é€‰ä¸¾å‡ºæ¥ï¼Œä¸”å¤§å¤šæ•°Serverå®Œæˆäº†å’Œleaderçš„çŠ¶æ€åŒæ­¥ä»¥åï¼Œæ¢å¤æ¨¡å¼å°±ç»“æŸäº†ï¼›</p>
</li>
<li><p>Zookeeperçš„é€‰ä¸¾ç®—æ³•æœ‰ä¸¤ç§ï¼šä¸€ç§æ˜¯åŸºäºbasic paxoså®ç°çš„ï¼Œå¦å¤–ä¸€ç§æ˜¯åŸºäºfast paxosç®—æ³•å®ç°çš„ã€‚ç³»ç»Ÿé»˜è®¤çš„é€‰ä¸¾ç®—æ³•ä¸ºfast paxosï¼›</p>
</li>
<li><p>Zookeeperçš„leaderé€‰ä¸¾æœºåˆ¶ï¼š</p>
<ol>
<li>Zookeeperçš„é›†ç¾¤ä¸­åªæœ‰è¶…è¿‡åŠæ•°ä»¥ä¸Šçš„æœåŠ¡å™¨å¯åŠ¨ï¼Œé›†ç¾¤æ‰èƒ½æ­£å¸¸å·¥ä½œ</li>
<li>åœ¨é›†ç¾¤æ­£å¸¸å·¥ä½œä¹‹å‰ï¼Œmyidå°çš„æœåŠ¡å™¨ä¼šç»™myidå¤§çš„æœåŠ¡å™¨è¿›è¡ŒæŠ•ç¥¨ï¼ŒæŒç»­åˆ°é›†ç¾¤æ­£å¸¸å·¥ä½œï¼Œé€‰ä¸¾leader</li>
<li>é€‰å‡ºleaderä¹‹åï¼Œä¹‹å‰çš„æœåŠ¡å™¨çŠ¶æ€è¦ç”±lookingæ”¹ä¸ºfollowingï¼Œä»¥åçš„æœåŠ¡å™¨éƒ½æ˜¯follower</li>
</ol>
</li>
<li><p>é€‰ä¸¾è¿‡ç¨‹ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/0528b755274bf01af5d88cccd6acd4ed-111310" alt="é€‰ä¸¾æœºåˆ¶"></p>
<ol>
<li>å‡è®¾æœ‰5å°æœåŠ¡å™¨ï¼Œç»„æˆäº†zookeeperé›†ç¾¤ï¼Œ5å°æœåŠ¡å™¨çš„myidä»1åˆ°5ï¼Œè€Œä¸”å®ƒä»¬éƒ½æ˜¯æœ€æ–°å¯åŠ¨çš„ï¼Œæ²¡æœ‰å†å²æ•°æ®ï¼Œå¹¶ä¸”å‡è®¾æœåŠ¡å™¨å¯åŠ¨ä»id1~5çš„é¡ºåºå¯åŠ¨</li>
<li>å› ä¸ºä¸€å…±æœ‰5å°æœåŠ¡å™¨ï¼Œåªæœ‰è¶…è¿‡åŠæ•°ä»¥ä¸Šï¼Œä¹Ÿå°±æ˜¯æœ€å°‘å¯åŠ¨ä¸‰å°æœåŠ¡å™¨ï¼Œé›†ç¾¤æ‰èƒ½æ­£å¸¸å·¥ä½œ</li>
<li>leaderæŒ‚æ‰ä¹‹åï¼Œé›†ç¾¤ä¸­å…¶ä»–followerä¼šå°†çŠ¶æ€ç”±followingå˜ä¸ºlookingï¼Œé‡æ–°è¿›å…¥leaderé€‰ä¸¾</li>
</ol>
</li>
<li><p>zookeeperçš„æ•°æ®æ¨¡å‹çš„ç»“æ„å’ŒUnixæ–‡ä»¶ç³»ç»Ÿå¾ˆç±»ä¼¼ï¼Œæ•´ä½“ä¸Šå¯ä»¥çœ‹åšæ˜¯ä¸€æ£µæ ‘ï¼Œæ¯ä¸ªèŠ‚ç‚¹ç§°ä½œä¸€ä¸ªZNodeï¼Œæ¯ä¸ªZNodeéƒ½å¯ä»¥é€šè¿‡å…¶è·¯å¾„å”¯ä¸€æ ‡è¯†ï¼›</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/97c67fb9b2b2e2db80f65d9ae3c93a7c-11460" alt="Zookeeperç»“æ„"></p>
</li>
<li><p>ZNodeèŠ‚ç‚¹ç±»å‹ï¼š</p>
<ul>
<li>æŒä¹…åŒ–ç›®å½•èŠ‚ç‚¹ï¼Œå®¢æˆ·ç«¯å’Œzookeeperæ–­å¼€è¿æ¥åï¼Œè¯¥èŠ‚ç‚¹ä¾æ—§å­˜åœ¨</li>
<li>æŒä¹…åŒ–é¡ºåºç¼–å·ç›®å½•èŠ‚ç‚¹ï¼Œå®¢æˆ·ç«¯å’Œzookeeperæ–­å¼€è¿æ¥åï¼Œè¯¥èŠ‚ç‚¹ä¾æ—§å­˜åœ¨ï¼ŒZookeeperä¼šç»™è¯¥èŠ‚ç‚¹æŒ‰ç…§é¡ºåºç¼–å·</li>
<li>ä¸´æ—¶ç›®å½•èŠ‚ç‚¹ï¼Œå®¢æˆ·ç«¯å’Œzookeeperæ–­å¼€è¿æ¥åï¼Œè¯¥èŠ‚ç‚¹è¢«åˆ é™¤</li>
<li>ä¸´æ—¶é¡ºåºç¼–å·ç›®å½•èŠ‚ç‚¹ï¼Œå®¢æˆ·ç«¯å’Œzookeeperæ–­å¼€è¿æ¥åï¼Œè¯¥èŠ‚ç‚¹è¢«åˆ é™¤ï¼ŒZookeeperä¼šç»™è¯¥èŠ‚ç‚¹æŒ‰ç…§é¡ºåºç¼–å·</li>
</ul>
</li>
</ol>
<h2 id="Zookeeperåº”ç”¨åœºæ™¯"><a href="#Zookeeperåº”ç”¨åœºæ™¯" class="headerlink" title="Zookeeperåº”ç”¨åœºæ™¯"></a>Zookeeperåº”ç”¨åœºæ™¯</h2><h3 id="é…ç½®ä¸­å¿ƒ"><a href="#é…ç½®ä¸­å¿ƒ" class="headerlink" title="é…ç½®ä¸­å¿ƒ"></a>é…ç½®ä¸­å¿ƒ</h3><ol>
<li>åœ¨æ—¥å¸¸çš„ä¸šåŠ¡å¼€å‘è¿‡ç¨‹ä¸­ï¼Œé€šå¸¸éœ€è¦å°†ç³»ç»Ÿçš„ä¸€äº›é€šç”¨çš„å…¨å±€é…ç½®ï¼Œä¾‹å¦‚æœºå™¨åˆ—è¡¨é…ç½®ï¼Œè¿è¡Œæ—¶å¼€å…³é…ç½®ï¼Œæ•°æ®åº“é…ç½®ä¿¡æ¯ç­‰ç»Ÿä¸€é›†ä¸­å­˜å‚¨ï¼Œè®©é›†ç¾¤æ‰€æœ‰æœºå™¨å…±äº«é…ç½®ä¿¡æ¯ï¼Œç³»ç»Ÿåœ¨å¯åŠ¨ä¼šé¦–å…ˆä»é…ç½®ä¸­å¿ƒè¯»å–é…ç½®ä¿¡æ¯ï¼Œè¿›è¡Œåˆå§‹åŒ–ï¼›</li>
<li>ä¼ ç»Ÿçš„å®ç°æ–¹å¼å°†é…ç½®å­˜å‚¨åœ¨æœ¬åœ°æ–‡ä»¶å’Œå†…å­˜ä¸­ï¼Œä¸€æ—¦æœºå™¨è§„æ¨¡æ›´å¤§ï¼Œé…ç½®å˜æ›´é¢‘ç¹çš„æƒ…å†µä¸‹ï¼Œæœ¬åœ°æ–‡ä»¶å’Œå†…å­˜æ–¹å¼çš„é…ç½®ç»´æŠ¤æˆæœ¬è¾ƒé«˜ï¼›</li>
<li>å¯ä»¥å°†é…ç½®ä¿¡æ¯å­˜å‚¨åœ¨zookeeperä¸­çš„ä¸€ä¸ªèŠ‚ç‚¹ä¸­ï¼ŒåŒæ—¶å‘è¯¥èŠ‚ç‚¹æ³¨å†Œä¸€ä¸ªæ•°æ®èŠ‚ç‚¹å˜æ›´çš„watcherç›‘å¬ï¼Œä¸€æ—¦èŠ‚ç‚¹æ•°æ®å‘ç”Ÿå˜æ›´ï¼Œæ‰€æœ‰çš„è®¢é˜…è¯¥èŠ‚ç‚¹çš„å®¢æˆ·ç«¯éƒ½å¯ä»¥åå»æ•°æ®å˜æ›´é€šçŸ¥</li>
</ol>
<h3 id="è´Ÿè½½å‡è¡¡"><a href="#è´Ÿè½½å‡è¡¡" class="headerlink" title="è´Ÿè½½å‡è¡¡"></a>è´Ÿè½½å‡è¡¡</h3><ol>
<li>å»ºç«‹servicesèŠ‚ç‚¹ï¼Œå¹¶å»ºç«‹ç›‘å¬å™¨ç›‘è§†serverså­èŠ‚ç‚¹çš„çŠ¶æ€ï¼ˆç”¨äºåœ¨æœåŠ¡å™¨å¢æ·»æ—¶åŠæ—¶åŒæ­¥å½“å‰é›†ç¾¤ä¸­æœåŠ¡å™¨åˆ—è¡¨ï¼‰ï¼›</li>
<li>åœ¨æ¯ä¸ªæœåŠ¡å™¨å¯åŠ¨æ—¶ï¼Œåœ¨servicesèŠ‚ç‚¹ä¸‹å»ºç«‹å…·ä½“æœåŠ¡å™¨åœ°å€çš„å­èŠ‚ç‚¹ï¼Œå¹¶åœ¨å¯¹åº”çš„å­èŠ‚ç‚¹ä¸‹å­˜å…¥æœåŠ¡å™¨çš„ç›¸å…³ä¿¡æ¯ã€‚è¿™æ ·ï¼Œæˆ‘ä»¬åœ¨zookeeperæœåŠ¡å™¨ä¸Šå¯ä»¥è·å–å½“å‰é›†ç¾¤ä¸­çš„æœåŠ¡å™¨åˆ—è¡¨åŠç›¸å…³ä¿¡æ¯ï¼Œå¯ä»¥è‡ªå®šä¹‰ä¸€ä¸ªè´Ÿè½½å‡è¡¡ç®—æ³•ï¼Œåœ¨æ¯ä¸ªè¯·æ±‚è¿‡æ¥çš„æ—¶å€™ä»zookeeperæœåŠ¡å™¨ä¸­è·å–å½“å‰é›†ç¾¤æœåŠ¡å™¨åˆ—è¡¨ï¼Œæ ¹æ®ç®—æ³•é€‰å‡ºä¸€ä¸ªæœåŠ¡å™¨æ¥å¤„ç†è¯·æ±‚ï¼›</li>
<li><img src="https://app.yinxiang.com/FileSharing.action?hash=1/e7b5f602e0b7f90cd9d6428b21bc46d0-28122" alt="è´Ÿè½½å‡è¡¡"></li>
</ol>
<h3 id="ç»Ÿä¸€å‘½åæœåŠ¡"><a href="#ç»Ÿä¸€å‘½åæœåŠ¡" class="headerlink" title="ç»Ÿä¸€å‘½åæœåŠ¡"></a>ç»Ÿä¸€å‘½åæœåŠ¡</h3><ol>
<li>å‘½åæœåŠ¡æ˜¯åˆ†å¸ƒå¼ç³»ç»Ÿä¸­çš„åŸºæœ¬åŠŸèƒ½ä¹‹ä¸€ã€‚è¢«å‘½åçš„å®ä½“é€šå¸¸å¯ä»¥æ˜¯é›†ç¾¤ä¸­çš„æœºå™¨ã€æä¾›çš„æœåŠ¡åœ°å€æˆ–è€…è¿œç¨‹å¯¹è±¡ï¼Œè¿™äº›éƒ½å¯ä»¥ç§°ä½œåå­—ã€‚å¸¸è§çš„å°±æ˜¯ä¸€äº›åˆ†å¸ƒå¼æœåŠ¡æ¡†æ¶ï¼ˆRPCã€RMIï¼‰ä¸­çš„æœåŠ¡åœ°å€åˆ—è¡¨ï¼Œé€šè¿‡ä½¿ç”¨åç§°æœåŠ¡å®¢æˆ·ç«¯å¯ä»¥è·å–èµ„æºçš„å®ä½“ã€æœåŠ¡åœ°å€å’Œæä¾›è€…ä¿¡æ¯ã€‚å‘½åæœåŠ¡å°±æ˜¯é€šè¿‡ä¸€ä¸ªèµ„æºå¼•ç”¨çš„æ–¹å¼æ¥å®ç°å¯¹èµ„æºçš„å®šä½å’Œä½¿ç”¨ï¼›</li>
<li>åœ¨å•åº“å•è¡¨ç³»ç»Ÿä¸­å¯ä»¥é€šè¿‡è‡ªå¢çš„IDæ¥æ ‡è¯†æ¯ä¸€æ¡è®°å½•ï¼Œä½†æ˜¯éšç€è§„æ¨¡å˜å¤§åˆ†åº“åˆ†è¡¨å¾ˆå¸¸è§ï¼Œé‚£ä¹ˆè‡ªå¢IDæœ‰ä¸”ä»…èƒ½é’ˆå¯¹å•ä¸€è¡¨ç”ŸæˆIDï¼Œæ‰€ä»¥åœ¨è¿™ç§æƒ…å†µä¸‹æ— æ³•ä¾é è¿™ä¸ªæ¥æ ‡è¯†å”¯ä¸€IDï¼›</li>
<li>åœ¨zookeeperä¸­é€šè¿‡åˆ›å»ºé¡ºåºèŠ‚ç‚¹å°±å¯ä»¥å®ç°ï¼Œæ‰€æœ‰å®¢æˆ·ç«¯éƒ½ä¼šæ ¹æ®è‡ªå·±çš„ä»»åŠ¡ç±»å‹æ¥åˆ›å»ºä¸€ä¸ªé¡ºåºèŠ‚ç‚¹ï¼Œä¾‹å¦‚job-000001ï¼›</li>
<li>èŠ‚ç‚¹åˆ›å»ºå®Œæ¯•åï¼Œcreate()æ¥å£ä¼šè¿”å›ä¸€ä¸ªå®Œæˆçš„èŠ‚ç‚¹åï¼Œä¾‹å¦‚ï¼šjob-000002ã€‚æ‹¼æ¥ypeç±»å‹å’Œå®ŒæˆèŠ‚ç‚¹åä½œä¸ºå…¨å±€å”¯ä¸€çš„IDï¼›</li>
<li><img src="https://app.yinxiang.com/FileSharing.action?hash=1/b8f65ec1fa21d0bae2fdceea1c8bc76a-38302" alt="ç»Ÿä¸€å‘½åæœåŠ¡"></li>
</ol>
<h3 id="DNSæœåŠ¡"><a href="#DNSæœåŠ¡" class="headerlink" title="DNSæœåŠ¡"></a>DNSæœåŠ¡</h3><ol>
<li>åŸŸåé…ç½®ï¼šåœ¨åˆ†å¸ƒå¼ç³»ç»Ÿåº”ç”¨ä¸­ï¼Œæ¯ä¸€ä¸ªåº”ç”¨éƒ½éœ€è¦åˆ†é…ä¸€ä¸ªåŸŸåï¼Œæ—¥å¸¸å¼€å‘ä¸­ï¼Œå¾€å¾€ä½¿ç”¨æœ¬åœ°HOSTç»‘å®šåŸŸåè§£æï¼Œå¼€å‘é˜¶æ®µå¯ä»¥éšæ—¶ä¿®æ”¹åŸŸåå’ŒIPçš„æ˜ å°„ï¼Œå¤§å¤§æé«˜å¼€å‘çš„è°ƒè¯•æ•ˆç‡ã€‚å¦‚æœåº”ç”¨çš„æœºå™¨è§„æ¨¡è¾¾åˆ°ä¸€å®šç¨‹åºåï¼Œéœ€è¦é¢‘ç¹æ›´æ–°åŸŸåæ—¶ï¼Œéœ€è¦åœ¨è§„æ¨¡çš„é›†ç¾¤ä¸­å˜æ›´ï¼Œæ— æ³•ä¿è¯å®æ—¶æ€§ï¼›</li>
<li>åœ¨zookeeperä¸Šåˆ›å»ºä¸€ä¸ªèŠ‚ç‚¹åœ¨è¿›è¡ŒåŸŸåé…ç½®ï¼›<ol>
<li>åŸŸåè§£æï¼šåº”ç”¨è§£æçš„æ—¶å€™ï¼Œé¦–å…ˆä»zookeeperåŸŸåèŠ‚ç‚¹ä¸­è·å–åŸŸåæ˜ å°„çš„IPå’Œç«¯å£</li>
<li>åŸŸåå˜æ›´ï¼šæ¯ä¸ªåº”ç”¨éƒ½ä¼šåœ¨å¯¹åº”çš„åŸŸåèŠ‚ç‚¹æ³¨å†Œä¸€ä¸ªæ•°æ®å˜æ›´çš„watcherç›‘å¬ï¼Œä¸€æ—¦ç›‘å¬çš„åŸŸåèŠ‚ç‚¹æ•°æ®å˜æ›´ï¼Œzookeeperä¼šå‘æ‰€æœ‰è®¢é˜…çš„å®¢æˆ·ç«¯å‘é€åŸŸåå˜æ›´é€šçŸ¥</li>
</ol>
</li>
<li><img src="https://app.yinxiang.com/FileSharing.action?hash=1/95ae55de070e8a5c8d97721b728f22e9-28726" alt="DNSæœåŠ¡"></li>
</ol>
<h3 id="é›†ç¾¤ç®¡ç†"><a href="#é›†ç¾¤ç®¡ç†" class="headerlink" title="é›†ç¾¤ç®¡ç†"></a>é›†ç¾¤ç®¡ç†</h3><ol>
<li>æŸåˆ†å¸ƒå¼ç³»ç»Ÿä¸­ï¼Œä¸»èŠ‚ç‚¹å¯ä»¥æœ‰å¤šå°ï¼Œå¯ä»¥åŠ¨æ€ä¸Šä¸‹çº¿ï¼Œä»»æ„ä¸€å°å®¢æˆ·ç«¯éƒ½èƒ½å®æ—¶æ„ŸçŸ¥åˆ°ä¸»èŠ‚ç‚¹æœåŠ¡å™¨çš„ä¸Šä¸‹çº¿ï¼›</li>
<li><img src="https://app.yinxiang.com/FileSharing.action?hash=1/1839685de525052166ba6d4a9b8a78a9-53803" alt="é›†ç¾¤ç®¡ç†"></li>
</ol>
<h1 id="æ³¨å†Œä¸­å¿ƒ"><a href="#æ³¨å†Œä¸­å¿ƒ" class="headerlink" title="æ³¨å†Œä¸­å¿ƒ"></a>æ³¨å†Œä¸­å¿ƒ</h1><h2 id="Zookeeper"><a href="#Zookeeper" class="headerlink" title="Zookeeper"></a>Zookeeper</h2><ol>
<li><p><a href="https://zookeeper.apache.org/" target="_blank" rel="noopener">Zookeeper</a>æ˜¯Apache Hadoopçš„ä¸€ä¸ªå­é¡¹ç›®ï¼Œæ˜¯ä¸€ä¸ªæ ‘å½¢çš„ç›®å½•æœåŠ¡åˆ†å¸ƒå¼ç»„ä»¶ï¼Œæ”¯æŒå˜æ›´æ¨é€ï¼Œéå¸¸é€‚åˆä½œä¸ºåˆ†å¸ƒå¼æœåŠ¡çš„æ³¨å†Œä¸­å¿ƒï¼Œè¢«å¤§é‡ç”¨äºç”Ÿäº§ç¯å¢ƒä¸­ï¼</p>
</li>
<li><p>Zookeeperç›®æ ‡ï¼šè§£å†³åˆ†å¸ƒå¼åº”ç”¨ä¸­ç»å¸¸é‡åˆ°çš„ä¸€äº›æ•°æ®ç®¡ç†é—®é¢˜ï¼Œå¦‚ç»Ÿä¸€å‘½åæœåŠ¡ã€çŠ¶æ€åŒæ­¥æœåŠ¡ã€é›†ç¾¤ç®¡ç†ã€åˆ†å¸ƒå¼åº”ç”¨é…ç½®é¡¹çš„ç®¡ç†ç­‰ï¼›</p>
</li>
<li><p>æŠ½è±¡ï¼šZookeeper=æ–‡ä»¶ç³»ç»Ÿ+ç›‘å¬é€šçŸ¥æœºåˆ¶ï¼›</p>
</li>
<li><p>äº§ç”ŸèƒŒæ™¯ï¼šæœ€åˆå…¶ä½œä¸ºç ”å‘Hadoopæ—¶çš„å‰¯äº§å“è€Œå‡ºç°ï¼åæ¥ç”±äºåˆ†å¸ƒå¼ç³»ç»Ÿä¸­ä¸€è‡´æ€§å¤„ç†è¾ƒä¸ºå›°éš¾ï¼Œå…¶ä»–çš„åˆ†å¸ƒå¼ç³»ç»Ÿæ²¡æœ‰å¿…è¦è´¹åŠ²é‡å¤é€ è½®å­ï¼Œæ•…éšåçš„åˆ†å¸ƒå¼ç³»ç»Ÿä¸­å¤§é‡åº”ç”¨äº†zookeeperã€‚åç»­çš„å¤§éƒ¨åˆ†åˆ†å¸ƒå¼ç³»ç»Ÿä¸­å¤§é‡åº”ç”¨äº†Zookeeperï¼Œä»¥è‡³äºå®ƒæˆäº†å„ç§åˆ†å¸ƒå¼ç³»ç»Ÿçš„åŸºç¡€ç»„ä»¶ï¼›</p>
</li>
<li><p>åº”ç”¨åœºæ™¯ï¼šè‘—åçš„hadoopã€kafkaã€dubbo éƒ½æ˜¯åŸºäºzookeeperæ„å»ºçš„ï¼›</p>
</li>
<li><p>è§£å†³çš„é—®é¢˜ï¼šä¿è¯åœ¨åˆ†å¸ƒå¼ç¯å¢ƒä¸‹æ•°æ®çš„æœ€ç»ˆä¸€è‡´æ€§ï¼›</p>
</li>
<li><p>ZookeeperèŠ‚ç‚¹ä»¥åŠæµç¨‹ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/486d8d458c7374c53b865491b592b090-31272" alt="ZookeeperèŠ‚ç‚¹å›¾"></p>
<ul>
<li>æœåŠ¡æä¾›è€…å¯åŠ¨æ—¶ï¼Œå‘Zookeeperæ³¨å†Œè‡ªå·±çš„URLåœ°å€</li>
<li>æœåŠ¡æ¶ˆè´¹è€…å¯åŠ¨æ—¶ï¼Œè·å–æœåŠ¡æä¾›è€…çš„URLåœ°å€ï¼Œå¹¶å‘Zookeeperæ³¨å†Œè‡ªå·±çš„URLåœ°å€</li>
<li>ç›‘æ§ä¸­å¿ƒå¯åŠ¨æ—¶ï¼Œè®¢é˜…æ‰€æœ‰æä¾›è€…å’Œæ¶ˆè´¹è€…URLåœ°å€</li>
</ul>
</li>
<li><p>SpringBootæ·»åŠ Zookeeperæ“ä½œä¾èµ–ï¼ˆpom.xmlï¼‰:</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.zookeeper<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>zookeeper<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.5.5<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>æ³¨æ„:Dubboåœ¨2.7.xçš„ç‰ˆæœ¬ä¸­å·²ç»ç§»é™¤äº†zkclientçš„å®ç°,å¦‚æœè¦ä½¿ç”¨zkclientå®¢æˆ·ç«¯,éœ€è¦è‡ªè¡Œæ‹“å±•</strong></p>
</li>
<li><p>æµ‹è¯•ä»£ç ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">testZookeeper</span><span class="params">()</span> <span class="keyword">throws</span> IOException, KeeperException, InterruptedException </span>&#123;</span><br><span class="line">    <span class="comment">//1. åˆ›å»ºZookeeperçš„è¿æ¥</span></span><br><span class="line">    ZooKeeper zooKeeper = <span class="keyword">new</span> ZooKeeper(<span class="string">"127.0.0.1:2181"</span>, <span class="number">2000</span>, <span class="keyword">new</span> Watcher() &#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">process</span><span class="params">(WatchedEvent event)</span> </span>&#123;</span><br><span class="line">            System.out.println(<span class="string">"è§¦å‘äº†ã€‚ã€‚ã€‚ã€‚"</span> + event.getType() + <span class="string">"çš„äº‹ä»¶"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">    String path;</span><br><span class="line">    <span class="comment">//2. åˆ›å»ºçˆ¶èŠ‚ç‚¹</span></span><br><span class="line">      path = zooKeeper.create(<span class="string">"/wander"</span>, <span class="string">"wander"</span>.getBytes(), ZooDefs.Ids.OPEN_ACL_UNSAFE, CreateMode.PERSISTENT);</span><br><span class="line">      System.out.println(<span class="string">"path:"</span> + path);</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="comment">//3. åˆ›å»ºå­èŠ‚ç‚¹</span></span><br><span class="line">    path = zooKeeper.create(<span class="string">"/wander/children"</span>, <span class="string">"children"</span>.getBytes(), ZooDefs.Ids.OPEN_ACL_UNSAFE, CreateMode.PERSISTENT);</span><br><span class="line">    System.out.println(<span class="string">"path:"</span> + path);</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="comment">//4. è·å–èŠ‚ç‚¹ä¸­çš„å€¼ï¼ˆçˆ¶èŠ‚ç‚¹å’Œå­èŠ‚ç‚¹ï¼‰</span></span><br><span class="line">    <span class="keyword">byte</span>[] data = zooKeeper.getData(<span class="string">"/wander"</span>, <span class="keyword">false</span>, <span class="keyword">null</span>);</span><br><span class="line">    System.out.println(<span class="keyword">new</span> String(data));</span><br><span class="line">    </span><br><span class="line">    List&lt;String&gt; children = zooKeeper.getChildren(<span class="string">"/wander"</span>, <span class="keyword">true</span>);</span><br><span class="line">    <span class="keyword">for</span> (String child : children) &#123;</span><br><span class="line">        System.out.println(child);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//5. ä¿®æ”¹èŠ‚ç‚¹çš„å€¼</span></span><br><span class="line">    Stat stat = zooKeeper.setData(<span class="string">"/wander"</span>, <span class="string">"wander520"</span>.getBytes(), -<span class="number">1</span>);</span><br><span class="line">    System.out.println(<span class="string">"exists :"</span>+stat);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//6. åˆ¤æ–­æŸä¸ªèŠ‚ç‚¹æ˜¯å¦å­˜åœ¨</span></span><br><span class="line">    Stat exists = zooKeeper.exists(<span class="string">"/wander"</span>, <span class="keyword">true</span>);</span><br><span class="line">    System.out.println(<span class="string">"exists :"</span>+exists);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//7. åˆ é™¤èŠ‚ç‚¹</span></span><br><span class="line">    zooKeeper.delete(<span class="string">"/wander/children"</span>, -<span class="number">1</span>);</span><br><span class="line">    zooKeeper.delete(<span class="string">"/wander"</span>, -<span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight"><table><tr><td class="code"><pre><span class="line">è§¦å‘äº†ã€‚ã€‚ã€‚ã€‚Noneçš„äº‹ä»¶</span><br><span class="line">path:/wander</span><br><span class="line">path:/wander/children</span><br><span class="line">wander</span><br><span class="line">children</span><br><span class="line">exists :30,32,1594104111802,1594104111825,1,1,0,0,9,1,31</span><br><span class="line"></span><br><span class="line">exists :30,32,1594104111802,1594104111825,1,1,0,0,9,1,31</span><br><span class="line"></span><br><span class="line">è§¦å‘äº†ã€‚ã€‚ã€‚ã€‚NodeChildrenChangedçš„äº‹ä»¶</span><br><span class="line">è§¦å‘äº†ã€‚ã€‚ã€‚ã€‚NodeDeletedçš„äº‹ä»¶</span><br></pre></td></tr></table></figure>
</li>
<li><p>Zookeeperå®¢æˆ·ç«¯ä¾èµ–ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.github.sgroschupf<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>zkclient<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>0.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.netflix.curator<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>curator-framework<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.1.10<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>zkclientæ˜¯Datameer å¼€æºçš„ä¸€ä¸ª Zookeeper å®¢æˆ·ç«¯å®ç°</li>
<li>curatoræ˜¯ Netflix å¼€æºçš„ä¸€ä¸ª Zookeeper å®¢æˆ·ç«¯å®ç°</li>
</ul>
</li>
<li><p>æƒ³è¦ä½¿ç”¨Zookeeperå¿…é¡»æ­å»ºä¸€ä¸ªåŸç”Ÿçš„ZookeeperæœåŠ¡å™¨ï¼Œå¯ä»¥ä½¿ç”¨Dockekæ¥è·å–é•œåƒç„¶åä½¿ç”¨ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> è·å–zookeeperé•œåƒ</span></span><br><span class="line">docker pull zookeeper</span><br><span class="line"><span class="meta">#</span><span class="bash"> å•ä¸ªæœåŠ¡çš„è¯æš´éœ²2181æ¥å£å³å¯</span></span><br><span class="line">docker run -d -p 2181:2181 zookeeper</span><br></pre></td></tr></table></figure>
</li>
<li><p>åˆ†å¸ƒå¼æœåŠ¡è®¤çŸ¥ï¼šå¯¹äºä¸€ä¸ªæœåŠ¡æ¡†æ¶ï¼Œ<strong>æ³¨å†Œä¸­å¿ƒæ˜¯å…¶æ ¸å¿ƒä¸­çš„æ ¸å¿ƒ</strong>ï¼Œè™½ç„¶æš‚æ—¶æŒ‚æ‰å¹¶ä¸ä¼šå¯¼è‡´æ•´ä¸ªæœåŠ¡å‡ºé—®é¢˜ï¼Œä½†æ˜¯ä¸€æ—¦æŒ‚æ‰ï¼Œæ•´ä½“é£é™©å°±å¾ˆé«˜ï¼è€ƒè™‘ä¸€èˆ¬æƒ…å†µï¼Œæ³¨å†Œä¸­å¿ƒå°±æ˜¯å•å°æœºå™¨çš„æ—¶å€™ï¼Œå…¶å®ç°å¾ˆå®¹æ˜“ï¼Œæ‰€æœ‰æœºå™¨è¿è¡Œåéƒ½å»æ³¨å†ŒæœåŠ¡ç»™å®ƒï¼Œå¹¶ä¸”æ‰€æœ‰è°ƒç”¨æ–¹éƒ½è·Ÿå®ƒä¿æŒé•¿è¿æ¥ï¼Œä¸€æ—¦æœåŠ¡æœ‰å˜ï¼Œå³é€šè¿‡é•¿è¿æ¥æ¥é€šçŸ¥åˆ°è°ƒç”¨æ–¹ã€‚ä½†æ˜¯å½“æœåŠ¡é›†ç¾¤è§„æ¨¡æ‰©å¤§æ—¶ï¼Œè¿™äº‹æƒ…å°±ä¸ç®€å•äº†ï¼Œå•æœºä¿æŒè¿æ¥æ•°æœ‰é™ï¼Œè€Œä¸”å®¹æ˜“æ•…éšœ</p>
</li>
<li><p>Zookeeperä½¿ç”¨æ­¥éª¤ï¼ˆå¯ä»¥çœ‹ZookeeperèŠ‚ç‚¹å›¾ç†è§£ï¼‰ï¼š</p>
<ol>
<li>å¯åŠ¨æ³¨å†Œä¸­å¿ƒZookeeperï¼ˆå•ä½“æˆ–é›†ç¾¤ï¼‰</li>
<li>å½“æœåŠ¡æä¾›è€…æœåŠ¡å¯åŠ¨æ—¶ï¼Œå‘Zookeeperæ³¨å†Œä¸€ä¸ªèŠ‚ç‚¹</li>
<li>æœåŠ¡æ¶ˆè´¹è€…åˆ™è®¢é˜…å…¶çˆ¶èŠ‚ç‚¹çš„å˜åŒ–ï¼Œè¯¸å¦‚å¯åŠ¨åœæ­¢éƒ½èƒ½å¤Ÿé€šè¿‡èŠ‚ç‚¹åˆ›å»ºåˆ é™¤å¾—çŸ¥ï¼Œå¼‚å¸¸æƒ…å†µæ¯”å¦‚è¢«è°ƒç”¨æ–¹æ‰çº¿ä¹Ÿå¯ä»¥é€šè¿‡ä¸´æ—¶èŠ‚ç‚¹session æ–­å¼€è‡ªåŠ¨åˆ é™¤å¾—çŸ¥</li>
<li>æœåŠ¡æ¶ˆè´¹æ–¹åŒæ—¶ä¹Ÿä¼šå°†è‡ªå·±è®¢é˜…çš„æœåŠ¡ä»¥èŠ‚ç‚¹åˆ›å»ºçš„æ–¹å¼æ”¾åˆ°Zookeeper</li>
<li>äºæ˜¯å¯ä»¥å¾—åˆ°æ˜ å°„å…³ç³»ï¼Œè¯¸å¦‚è°æä¾›äº†æœåŠ¡ï¼Œè°è®¢é˜…äº†è°æä¾›çš„æœåŠ¡ï¼ŒåŸºäºè¿™å±‚å…³ç³»å†åšç›‘æ§ï¼Œå°±èƒ½è½»æ˜“å¾—çŸ¥æ•´ä¸ªç³»ç»Ÿæƒ…å†µ</li>
</ol>
</li>
<li><p>ç”¨æ³•ï¼š</p>
<ul>
<li><strong>æ•°æ®å‘å¸ƒè®¢é˜…</strong>ï¼Œé€šè¿‡å¯¹èŠ‚ç‚¹ç®¡ç†åšåˆ°å‘å¸ƒä»¥åŠäº‹ä»¶ç›‘å¬åšåˆ°è®¢é˜…</li>
<li><strong>è´Ÿè½½å‡è¡¡</strong></li>
<li><strong>å‘½åæœåŠ¡</strong>ï¼ŒæŠŠä¿¡æ¯é›†ä¸­å­˜å‚¨ï¼Œå¹¶ä»¥æ ‘çŠ¶ç®¡ç†ï¼Œæ–¹ä¾¿ç»Ÿä¸€æŸ¥é˜…</li>
<li><strong>åˆ†å¸ƒå¼åè°ƒé€šçŸ¥</strong></li>
<li><strong>åˆ†å¸ƒå¼çš„å¹¶å‘ç­‰å¾…</strong></li>
<li>â€¦ â€¦</li>
</ul>
</li>
</ol>
<h1 id="åŠ¨æ‰‹å®æ“"><a href="#åŠ¨æ‰‹å®æ“" class="headerlink" title="åŠ¨æ‰‹å®æ“"></a>åŠ¨æ‰‹å®æ“</h1><h2 id="Zookeeperé›†ç¾¤"><a href="#Zookeeperé›†ç¾¤" class="headerlink" title="Zookeeperé›†ç¾¤"></a>Zookeeperé›†ç¾¤</h2><h3 id="Zookeeperå•ä½“"><a href="#Zookeeperå•ä½“" class="headerlink" title="Zookeeperå•ä½“"></a>Zookeeperå•ä½“</h3><ol>
<li><p>Dockerä¸‹è½½å®˜æ–¹é•œåƒï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker pull zookeeper</span><br></pre></td></tr></table></figure>
</li>
<li><p>åˆ›å»ºä¸€ä¸ªZookeeperå®ä¾‹ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker run --name my_zookeeper -d zookeeper</span><br></pre></td></tr></table></figure>

<ul>
<li>ä¼šåœ¨åå°è¿è¡Œä¸€ä¸ª zookeeper å®¹å™¨, åå­—æ˜¯ <strong>my_zookeeper</strong>ï¼Œä½†æ˜¯æ²¡æœ‰å¯¹å¤–æš´éœ²ç«¯å£</li>
</ul>
</li>
<li><p>æŸ¥çœ‹æ—¥å¿—ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker logs -f my_zookeeper</span><br><span class="line"><span class="meta">#</span><span class="bash"> è¾“å‡º</span></span><br><span class="line">ZooKeeper JMX enabled by default</span><br><span class="line">Using config: /conf/zoo.cfg</span><br><span class="line">2020-06-28 08:45:59,207 [myid:] - INFO  [main:QuorumPeerConfig@173] - Reading configuration from: /conf/zoo.cfg</span><br><span class="line">2020-06-28 08:45:59,215 [myid:] - INFO  [main:QuorumPeerConfig@450] - clientPort is not set</span><br><span class="line">2020-06-28 08:45:59,215 [myid:] - INFO  [main:QuorumPeerConfig@463] - secureClientPort is not set</span><br><span class="line">2020-06-28 08:45:59,215 [myid:] - INFO  [main:QuorumPeerConfig@479] - observerMasterPort is not set</span><br><span class="line">2020-06-28 08:45:59,218 [myid:] - INFO  [main:QuorumPeerConfig@496] - metricsProvider.className is org.apache.zookeeper.metrics.impl.DefaultMetricsProvider</span><br><span class="line">... ...</span><br></pre></td></tr></table></figure>

<ul>
<li>å¯ä»¥çœ‹åˆ°å®¹å™¨ä¸­ä½¿ç”¨/conf/zoo.cfgçš„é…ç½®æ–‡ä»¶</li>
</ul>
</li>
<li><p>ä½¿ç”¨ ZK å‘½ä»¤è¡Œå®¢æˆ·ç«¯è¿æ¥ Zookeeperï¼š</p>
<ul>
<li>å¯åŠ¨çš„é‚£ä¸ª ZK å®¹å™¨å¹¶æ²¡æœ‰ç»‘å®šå®¿ä¸»æœºçš„ç«¯å£, å› æ­¤æˆ‘ä»¬ä¸èƒ½ç›´æ¥è®¿é—®å®ƒ. ä½†æ˜¯æˆ‘ä»¬å¯ä»¥é€šè¿‡ Docker çš„ link æœºåˆ¶æ¥å¯¹è¿™ä¸ª ZK å®¹å™¨è¿›è¡Œè®¿é—®</li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker run -it --rm --link my_zookeeper:zookeeper zookeeper zkCli.sh -server zookeeper</span><br><span class="line"><span class="meta">#</span><span class="bash"> å¯åŠ¨ä¸€ä¸ª zookeeper é•œåƒ, å¹¶è¿è¡Œè¿™ä¸ªé•œåƒå†…çš„ zkCli.sh å‘½ä»¤, å‘½ä»¤å‚æ•°æ˜¯ <span class="string">"-server zookeeper"</span></span></span><br></pre></td></tr></table></figure>

<ul>
<li><p>å°†æˆ‘ä»¬å…ˆå‰å¯åŠ¨çš„åä¸º my_zookeeper çš„å®¹å™¨è¿æ¥(link) åˆ°æˆ‘ä»¬æ–°å»ºçš„è¿™ä¸ªå®¹å™¨ä¸Š, å¹¶å°†å…¶ä¸»æœºåå‘½åä¸º <strong>zookeeper</strong></p>
</li>
<li><p>è¿è¡Œå‘½ä»¤åå°±å¯ä»¥åƒæ­£å¸¸ä½¿ç”¨ ZK å‘½ä»¤è¡Œå®¢æˆ·ç«¯ä¸€æ ·æ“ä½œ ZK æœåŠ¡äº†</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">... ...</span><br><span class="line">Welcome to ZooKeeper!</span><br><span class="line">2020-06-28 09:14:40,394 [myid:zookeeper:2181] - INFO  [main-SendThread(zookeeper:2181):ClientCnxn$SendThread@1154] - Opening socket connection to server zookeeper/172.17.0.2:2181.</span><br><span class="line">2020-06-28 09:14:40,396 [myid:zookeeper:2181] - INFO  [main-SendThread(zookeeper:2181):ClientCnxn$SendThread@1156] - SASL config status: Will not attempt to authenticate using SASL (unknown error)</span><br><span class="line">JLine support is enabled</span><br><span class="line">2020-06-28 09:14:40,432 [myid:zookeeper:2181] - INFO  [main-SendThread(zookeeper:2181):ClientCnxn$SendThread@986] - Socket connection established, initiating session, client: /172.17.0.3:40248, server: zookeeper/172.17.0.2:2181</span><br><span class="line">2020-06-28 09:14:40,455 [myid:zookeeper:2181] - INFO  [main-SendThread(zookeeper:2181):ClientCnxn$SendThread@1420] - Session establishment complete on server zookeeper/172.17.0.2:2181, session id = 0x1001676aa8a0002, negotiated timeout = 30000</span><br><span class="line"></span><br><span class="line">WATCHER::</span><br><span class="line"></span><br><span class="line">WatchedEvent state:SyncConnected type:None path:null</span><br><span class="line">[zk: zookeeper(CONNECTED) 0]</span><br></pre></td></tr></table></figure>

</li>
</ul>
</li>
</ol>
<h3 id="Zookeeperé›†ç¾¤-1"><a href="#Zookeeperé›†ç¾¤-1" class="headerlink" title="Zookeeperé›†ç¾¤"></a>Zookeeperé›†ç¾¤</h3><ol>
<li><p>docker-composeé…ç½®æ–‡ä»¶ï¼ˆdocker-compose.ymlï¼‰:</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">version:</span> <span class="string">'2'</span></span><br><span class="line"><span class="attr">services:</span></span><br><span class="line">    <span class="attr">zoo1:</span></span><br><span class="line">        <span class="attr">image:</span> <span class="string">zookeeper</span></span><br><span class="line">        <span class="attr">restart:</span> <span class="string">always</span></span><br><span class="line">        <span class="attr">container_name:</span> <span class="string">zoo1</span></span><br><span class="line">        <span class="attr">ports:</span></span><br><span class="line">            <span class="bullet">-</span> <span class="string">"2181:2181"</span></span><br><span class="line">        <span class="attr">environment:</span></span><br><span class="line">            <span class="attr">ZOO_MY_ID:</span> <span class="number">1</span></span><br><span class="line">            <span class="attr">ZOO_SERVERS:</span> <span class="string">server.1=zoo1:2888:3888;2181</span> <span class="string">server.2=zoo2:2888:3888;2181</span> <span class="string">server.3=zoo3:2888:3888;2181</span></span><br><span class="line">            </span><br><span class="line">    <span class="attr">zoo2:</span></span><br><span class="line">        <span class="attr">image:</span> <span class="string">zookeeper</span></span><br><span class="line">        <span class="attr">restart:</span> <span class="string">always</span></span><br><span class="line">        <span class="attr">container_name:</span> <span class="string">zoo2</span></span><br><span class="line">        <span class="attr">ports:</span></span><br><span class="line">            <span class="bullet">-</span> <span class="string">"2182:2181"</span></span><br><span class="line">        <span class="attr">environment:</span></span><br><span class="line">            <span class="attr">ZOO_MY_ID:</span> <span class="number">2</span></span><br><span class="line">            <span class="attr">ZOO_SERVERS:</span> <span class="string">server.1=zoo1:2888:3888;2181</span> <span class="string">server.2=zoo2:2888:3888;2181</span> <span class="string">server.3=zoo3:2888:3888;2181</span></span><br><span class="line"> </span><br><span class="line">    <span class="attr">zoo3:</span></span><br><span class="line">        <span class="attr">image:</span> <span class="string">zookeeper</span></span><br><span class="line">        <span class="attr">restart:</span> <span class="string">always</span></span><br><span class="line">        <span class="attr">container_name:</span> <span class="string">zoo3</span></span><br><span class="line">        <span class="attr">ports:</span></span><br><span class="line">            <span class="bullet">-</span> <span class="string">"2183:2181"</span></span><br><span class="line">        <span class="attr">environment:</span></span><br><span class="line">            <span class="attr">ZOO_MY_ID:</span> <span class="number">3</span></span><br><span class="line">            <span class="attr">ZOO_SERVERS:</span> <span class="string">server.1=zoo1:2888:3888;2181</span> <span class="string">server.2=zoo2:2888:3888;2181</span> <span class="string">server.3=zoo3:2888:3888;2181</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>åœ¨docker-compose.ymlè·¯å¾„ä¸‹è¾“å…¥å¦‚ä¸‹å‘½ä»¤å¯åŠ¨é›†ç¾¤ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker-compose up</span><br><span class="line"><span class="meta">#</span><span class="bash"> è¾“å‡º</span></span><br><span class="line">... ...</span><br><span class="line">zoo1    | 2020-06-28 09:28:57,389 [myid:1] - INFO  [QuorumPeer[myid=1](plain=disabled)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1</span><br><span class="line">zoo2    | 2020-06-28 09:28:57,389 [myid:2] - INFO  [QuorumPeer[myid=2](plain=disabled)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1</span><br><span class="line">zoo1    | 2020-06-28 09:28:57,389 [myid:1] - INFO  [QuorumPeer[myid=1](plain=disabled)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 2 worker threads.</span><br><span class="line">zoo2    | 2020-06-28 09:28:57,391 [myid:2] - INFO  [QuorumPeer[myid=2](plain=disabled)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 2 worker threads.</span><br><span class="line">zoo3    | 2020-06-28 09:28:57,393 [myid:3] - INFO  [QuorumPeer[myid=3](plain=disabled)(secure=disabled):QuorumPeer@863] - Peer state changed: leading - broadcast</span><br><span class="line">zoo1    | 2020-06-28 09:28:57,402 [myid:1] - INFO  [QuorumPeer[myid=1](plain=disabled)(secure=disabled):RequestThrottler@74] - zookeeper.request_throttler.shutdownTimeout = 10000</span><br><span class="line">zoo2    | 2020-06-28 09:28:57,407 [myid:2] - INFO  [QuorumPeer[myid=2](plain=disabled)(secure=disabled):RequestThrottler@74] - zookeeper.request_throttler.shutdownTimeout = 10000</span><br><span class="line">zoo1    | 2020-06-28 09:28:57,430 [myid:1] - INFO  [QuorumPeer[myid=1](plain=disabled)(secure=disabled):QuorumPeer@863] - Peer state changed: following - broadcast</span><br><span class="line">zoo2    | 2020-06-28 09:28:57,452 [myid:2] - INFO  [QuorumPeer[myid=2](plain=disabled)(secure=disabled):QuorumPeer@863] - Peer state changed: following - broadcast</span><br></pre></td></tr></table></figure>
</li>
<li><p>æŸ¥çœ‹é›†ç¾¤è¿è¡ŒçŠ¶æ€ï¼ˆåœ¨docker-compose.ymlè·¯å¾„ä¸‹è¿è¡Œï¼‰ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker-compose ps</span><br><span class="line"><span class="meta">#</span><span class="bash"> è¾“å‡º</span></span><br><span class="line">Name              Command               State                          Ports</span><br><span class="line">----------------------------------------------------------------------------------------------------</span><br><span class="line">zoo1   /docker-entrypoint.sh zkSe ...   Up      0.0.0.0:2181-&gt;2181/tcp, 2888/tcp, 3888/tcp, 8080/tcp</span><br><span class="line">zoo2   /docker-entrypoint.sh zkSe ...   Up      0.0.0.0:2182-&gt;2181/tcp, 2888/tcp, 3888/tcp, 8080/tcp</span><br><span class="line">zoo3   /docker-entrypoint.sh zkSe ...   Up      0.0.0.0:2183-&gt;2181/tcp, 2888/tcp, 3888/tcp, 8080/tcp</span><br></pre></td></tr></table></figure>



</li>
</ol>
<ol start="4">
<li><p>MacOSå®‰è£…zookeeperï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">brew install zookeeper</span><br></pre></td></tr></table></figure>
</li>
<li><p>æœ¬åœ°è¿æ¥æœåŠ¡å™¨é›†ç¾¤ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">zkCli -server localhost:2181,localhost:2182,localhost:2183</span><br><span class="line"><span class="meta">#</span><span class="bash"> è¾“å‡º</span></span><br><span class="line">Connecting to localhost:2181,localhost:2182,localhost:2183</span><br><span class="line">Welcome to ZooKeeper!</span><br><span class="line">JLine support is enabled</span><br><span class="line"></span><br><span class="line">WATCHER::</span><br><span class="line"></span><br><span class="line">WatchedEvent state:SyncConnected type:None path:null</span><br><span class="line">[zk: localhost:2181,localhost:2182,localhost:2183(CONNECTED) 0]</span><br></pre></td></tr></table></figure>
</li>
<li><p>æŸ¥çœ‹ZookeeperèŠ‚ç‚¹æ¨¡å¼ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker exec -it zoo1 /bin/bash</span><br><span class="line">cd bin</span><br><span class="line">./zkServer.sh  status</span><br><span class="line"><span class="meta">#</span><span class="bash"> è¾“å‡º</span></span><br><span class="line">ZooKeeper JMX enabled by default</span><br><span class="line">Using config: /conf/zoo.cfg</span><br><span class="line">Client port found: 2181. Client address: localhost.</span><br><span class="line">Mode: follower</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h2 id="Zookeeperæ“ä½œ"><a href="#Zookeeperæ“ä½œ" class="headerlink" title="Zookeeperæ“ä½œ"></a>Zookeeperæ“ä½œ</h2><ol>
<li><p>è¿æ¥Zookeeperé›†ç¾¤ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">zkCli -server localhost:2181,localhost:2182,localhost:2183</span><br></pre></td></tr></table></figure>

<ul>
<li><p>è¿æ¥æˆåŠŸè¾“å‡ºä¿¡æ¯ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">Connecting to localhost:2181,localhost:2182,localhost:2183</span><br><span class="line">Welcome to ZooKeeper!</span><br><span class="line">JLine support is enabled</span><br><span class="line">[zk: localhost:2181,localhost:2182,localhost:2183(CONNECTING) 0]</span><br><span class="line">WATCHER::</span><br><span class="line"></span><br><span class="line">WatchedEvent state:SyncConnected type:None path:null</span><br><span class="line"></span><br><span class="line">[zk: localhost:2181,localhost:2182,localhost:2183(CONNECTED) 0]</span><br></pre></td></tr></table></figure>
</li>
<li><p>è¿æ¥å¤±è´¥è¾“å‡ºä¿¡æ¯ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">Connecting to localhost:2181,localhost:2182,localhost:2183</span><br><span class="line">Welcome to ZooKeeper!</span><br><span class="line">JLine support is enabled</span><br><span class="line">[zk: localhost:2181,localhost:2182,localhost:2183(CONNECTING) 0]</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>æ”¯æŒçš„å‘½ä»¤ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">ZooKeeper -server host:port cmd args</span><br><span class="line">	addauth scheme auth</span><br><span class="line">	close</span><br><span class="line">	config [-c] [-w] [-s]</span><br><span class="line">	connect host:port</span><br><span class="line">	create [-s] [-e] [-c] [-t ttl] path [data] [acl]</span><br><span class="line">	delete [-v version] path</span><br><span class="line">	deleteall path</span><br><span class="line">	delquota [-n|-b] path</span><br><span class="line">	get [-s] [-w] path</span><br><span class="line">	getAcl [-s] path</span><br><span class="line">	history</span><br><span class="line">	listquota path</span><br><span class="line">	ls [-s] [-w] [-R] path</span><br><span class="line">	ls2 path [watch]</span><br><span class="line">	printwatches on|off</span><br><span class="line">	quit</span><br><span class="line">	reconfig [-s] [-v version] [[-file path] | [-members serverID=host:port1:port2;port3[,...]*]] | [-add serverId=host:port1:port2;port3[,...]]* [-remove serverId[,...]*]</span><br><span class="line">	redo cmdno</span><br><span class="line">	removewatches path [-c|-d|-a] [-l]</span><br><span class="line">	rmr path</span><br><span class="line">	set [-s] [-v version] path data</span><br><span class="line">	setAcl [-s] [-v version] [-R] path acl</span><br><span class="line">	setquota -n|-b val path</span><br><span class="line">	stat [-w] path</span><br><span class="line">	sync path</span><br></pre></td></tr></table></figure>
</li>
<li><p>æŸ¥çœ‹æŸä¸ªç›®å½•åŒ…å«çš„æ‰€æœ‰æ–‡ä»¶â€”â€”lsï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">[zk: localhost:2181,localhost:2182,localhost:2183(CONNECTED) 9] ls /</span><br><span class="line">[zookeeper]</span><br></pre></td></tr></table></figure>
</li>
<li><p>æŸ¥çœ‹æŸä¸ªç›®å½•åŒ…å«çš„æ‰€æœ‰æ–‡ä»¶timeã€versionç­‰ä¿¡æ¯â€”â€”ls -sï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">[zk: localhost:2181,localhost:2182,localhost:2183(CONNECTED) 10] ls -s /</span><br><span class="line">[zookeeper]cZxid = 0x0</span><br><span class="line">ctime = Thu Jan 01 08:00:00 CST 1970</span><br><span class="line">mZxid = 0x0</span><br><span class="line">mtime = Thu Jan 01 08:00:00 CST 1970</span><br><span class="line">pZxid = 0x0</span><br><span class="line">cversion = -1</span><br><span class="line">dataVersion = 0</span><br><span class="line">aclVersion = 0</span><br><span class="line">ephemeralOwner = 0x0</span><br><span class="line">dataLength = 0</span><br><span class="line">numChildren = 1</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> è§£é‡Š</span></span><br><span class="line">cZxid ï¼šåˆ›å»ºèŠ‚ç‚¹çš„id</span><br><span class="line">ctime ï¼š èŠ‚ç‚¹çš„åˆ›å»ºæ—¶é—´</span><br><span class="line">mZxid ï¼šä¿®æ”¹èŠ‚ç‚¹çš„id</span><br><span class="line">mtime ï¼šä¿®æ”¹èŠ‚ç‚¹çš„æ—¶é—´</span><br><span class="line">pZxid ï¼šå­èŠ‚ç‚¹çš„id</span><br><span class="line">cversion : å­èŠ‚ç‚¹çš„ç‰ˆæœ¬</span><br><span class="line">dataVersion ï¼š å½“å‰èŠ‚ç‚¹æ•°æ®çš„ç‰ˆæœ¬</span><br><span class="line">aclVersion ï¼šæƒé™çš„ç‰ˆæœ¬</span><br><span class="line">ephemeralOwner ï¼šåˆ¤æ–­æ˜¯å¦æ˜¯ä¸´æ—¶èŠ‚ç‚¹</span><br><span class="line">dataLength ï¼š æ•°æ®çš„é•¿åº¦</span><br><span class="line">numChildren ï¼šå­èŠ‚ç‚¹çš„æ•°é‡</span><br></pre></td></tr></table></figure>
</li>
<li><p>åˆ›å»ºznodeï¼Œå¹¶è®¾ç½®åˆå§‹å†…å®¹â€”â€”createï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">[zk: localhost:2181,localhost:2182,localhost:2183(CONNECTED) 11] create /test "hello"</span><br><span class="line">Created /test</span><br></pre></td></tr></table></figure>
</li>
<li><p>è·å–znodeçš„æ•°æ®â€”â€”getï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">[zk: localhost:2181,localhost:2182,localhost:2183(CONNECTED) 13] get /test</span><br><span class="line">hello</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä¿®æ”¹znodeå†…å®¹â€”â€”setï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">[zk: localhost:2181,localhost:2182,localhost:2183(CONNECTED) 14] set /test "world"</span><br><span class="line">[zk: localhost:2181,localhost:2182,localhost:2183(CONNECTED) 15] get /test</span><br><span class="line">world</span><br></pre></td></tr></table></figure>
</li>
<li><p>åˆ é™¤znodeâ€”â€”deleteï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">[zk: localhost:2181,localhost:2182,localhost:2183(CONNECTED) 16] get /test</span><br><span class="line">world</span><br><span class="line">[zk: localhost:2181,localhost:2182,localhost:2183(CONNECTED) 17] delete /test</span><br><span class="line">[zk: localhost:2181,localhost:2182,localhost:2183(CONNECTED) 18] get /test</span><br><span class="line">org.apache.zookeeper.KeeperException$NoNodeException: KeeperErrorCode = NoNode for /test</span><br></pre></td></tr></table></figure>
</li>
<li><p>é€€å‡ºå®¢æˆ·ç«¯â€”â€”quitï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">[zk: localhost:2181,localhost:2182,localhost:2183(CONNECTED) 20] quit</span><br><span class="line"></span><br><span class="line">WATCHER::</span><br><span class="line"></span><br><span class="line">WatchedEvent state:Closed type:None path:null</span><br></pre></td></tr></table></figure>
</li>
<li><p>ACLæƒé™æ§åˆ¶ï¼šZKçš„èŠ‚ç‚¹æœ‰5ç§æ“ä½œæƒé™ï¼šCREATEã€READã€WRITEã€DELETEã€ADMIN ä¹Ÿå°±æ˜¯ å¢ã€åˆ ã€æ”¹ã€æŸ¥ã€ç®¡ç†æƒé™ï¼Œè¿™5ç§æƒé™ç®€å†™ä¸ºcrwda(å³ï¼šæ¯ä¸ªå•è¯çš„é¦–å­—ç¬¦ç¼©å†™)ï¼›</p>
</li>
<li><p>èº«ä»½çš„è®¤è¯æœ‰4ç§æ–¹å¼ï¼š</p>
<ul>
<li>worldâ€”â€”é»˜è®¤æ–¹å¼ï¼Œç›¸å½“äºå…¨ä¸–ç•Œéƒ½èƒ½è®¿é—®</li>
<li>authâ€”â€”ä»£è¡¨å·²ç»è®¤è¯é€šè¿‡çš„ç”¨æˆ·(cliä¸­å¯ä»¥é€šè¿‡addauth digest user:pwd æ¥æ·»åŠ å½“å‰ä¸Šä¸‹æ–‡ä¸­çš„æˆæƒç”¨æˆ·)</li>
<li>digestâ€”â€”å³ç”¨æˆ·å:å¯†ç è¿™ç§æ–¹å¼è®¤è¯ï¼Œè¿™ä¹Ÿæ˜¯ä¸šåŠ¡ç³»ç»Ÿä¸­æœ€å¸¸ç”¨çš„</li>
<li>ipâ€”â€”ä½¿ç”¨Ipåœ°å€è®¤è¯</li>
</ul>
</li>
<li><p>æƒé™æ“ä½œï¼ˆéƒ¨åˆ†ï¼‰ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">[zk: localhost:2181,localhost:2182,localhost:2183(CONNECTED) 10] getAcl /test</span><br><span class="line">'world,'anyone</span><br><span class="line">: cdrwa</span><br><span class="line"></span><br><span class="line">[zk: localhost:2181,localhost:2182,localhost:2183(CONNECTED) 20] addauth digest test:test</span><br><span class="line"><span class="meta">#</span><span class="bash"> åˆ›å»ºè´¦æˆ·<span class="built_in">test</span>å¯†ç <span class="built_in">test</span></span></span><br></pre></td></tr></table></figure>



</li>
</ol>
<hr>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1>]]></content>
      <categories>
        <category>SpringCloud</category>
      </categories>
  </entry>
  <entry>
    <title>Spring MVCÂ Quick Start</title>
    <url>/2020/05/21/Spring-MVC-Quick-Start/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>MVCï¼ˆModel View Controllerï¼Œæ¨¡å‹ï¼è§†å›¾ï¼æ§åˆ¶å™¨ï¼‰æ˜¯ä¸€ç§è½¯ä»¶è®¾è®¡å…¸èŒƒ,åœ¨è½¯ä»¶å¼€å‘ä¸­å·²ç»å¤„äºéœ¸ä¸»åœ°ä½å¾ˆå¤šå¹´äº†ï¼Œç”¨ä¸€ç§ä¸šåŠ¡é€»è¾‘ã€æ•°æ®ã€ç•Œé¢æ˜¾ç¤ºåˆ†ç¦»çš„æ–¹æ³•ç»„ç»‡ä»£ç ï¼Œå°†ä¸šåŠ¡é€»è¾‘èšé›†åˆ°ä¸€ä¸ªéƒ¨ä»¶é‡Œé¢ï¼Œåœ¨æ”¹è¿›å’Œä¸ªæ€§åŒ–å®šåˆ¶ç•Œé¢åŠç”¨æˆ·äº¤äº’çš„åŒæ—¶ï¼Œä¸éœ€è¦é‡æ–°ç¼–å†™ä¸šåŠ¡é€»è¾‘ã€‚Spring MVCæ”¯æŒå¾ˆå¤šæ¨¡æ¿å¼•æ“ï¼Œä½¿æˆ‘ä»¬å¯ä»¥ç®€å•åœ°å¼€å‘çµæ´»ä¸”æ¾è€¦åˆçš„Webé¡¹ç›®ï¼<strong><em>æ¨èä¹¦ç±ï¼šã€ŠJava EEå¼€å‘çš„é¢ è¦†è€… Spring Boot å®æˆ˜ã€‹Â·  æ±ªäº‘é£ è‘—</em></strong></p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="åŸºç¡€çŸ¥è¯†"><a href="#åŸºç¡€çŸ¥è¯†" class="headerlink" title="åŸºç¡€çŸ¥è¯†"></a>åŸºç¡€çŸ¥è¯†</h2><ol>
<li>ä¸‰å±‚æ¶æ„ï¼šPresentation tier + Application tier + Data tier ï¼ˆå±•ç°å±‚ + åº”ç”¨å±‚ + æ•°æ®è®¿é—®å±‚ï¼‰</li>
<li>MVCåªå­˜åœ¨ä¸‰å±‚æ¶æ„çš„å±•ç°å±‚ï¼ŒMæ˜¯æ•°æ®æ¨¡å‹ï¼Œæ˜¯åŒ…å«æ•°æ®çš„å¯¹è±¡ï¼Œåœ¨Spring MVCé‡Œæœ‰ä¸€ä¸ªä¸“é—¨çš„ç±»å«åšModelï¼Œç”¨æ¥å’ŒVä¹‹é—´çš„æ•°æ®äº¤äº’ã€ä¼ å€¼ï¼›Væ˜¯è§†å›¾é¡µé¢ï¼ŒåŒ…å«JSPã€freeMarkerã€Velocityã€Thymeleafã€Tileç­‰ï¼›Cæ˜¯æ§åˆ¶å™¨ï¼ŒSpring MVCä¸­ä½¿ç”¨@Controlleræ³¨è§£çš„ç±»ï¼›</li>
<li>ä¸‰å±‚æ¶æ„æ˜¯æ•´ä¸ªåº”ç”¨çš„æ¶æ„ï¼Œåœ¨é¡¹ç›®ä¸­å¯èƒ½ç”±Springæ¡†æ¶æ¥è´Ÿè´£ç®¡ç†ï¼Œä¸€èˆ¬é¡¹ç›®ç»“æ„ä¸­éƒ½æœ‰Serviceå±‚ã€Daoå±‚åˆ†åˆ«å¯¹åº”ç€åº”ç”¨å±‚å’Œæ•°æ®è®¿é—®å±‚ï¼›</li>
<li>Spring MVC æä¾›äº†ä¸€ä¸ªDispatcherServletæ¥å¼€å‘Webåº”ç”¨ï¼›</li>
</ol>
<h2 id="Spring-MVCå¸¸ç”¨æ³¨è§£"><a href="#Spring-MVCå¸¸ç”¨æ³¨è§£" class="headerlink" title="Spring MVCå¸¸ç”¨æ³¨è§£"></a>Spring MVCå¸¸ç”¨æ³¨è§£</h2><h3 id="Controller"><a href="#Controller" class="headerlink" title="@Controller"></a>@Controller</h3><ol>
<li>@Controlleræ³¨è§£åœ¨ç±»ä¸Šï¼Œè¡¨æ˜è¿™ä¸ªç±»æ˜¯Spring MVCé‡Œçš„Controllerï¼Œå°†å…¶å£°æ˜ä¸ºSpringé‡Œçš„ä¸€ä¸ªBeanï¼ŒDispatcher Servletä¼šè‡ªåŠ¨æ‰«ææ³¨è§£äº†æ­¤æ³¨è§£çš„ç±»ï¼›</li>
<li>åœ¨å£°æ˜æ™®é€šBeançš„æ—¶å€™ï¼Œä½¿ç”¨@Componentã€@Serviceã€@Repositoryå’Œ@Controlleræ˜¯ç­‰åŒçš„ï¼Œå› ä¸ºéƒ½ç»„åˆäº†@Componentå…ƒæ³¨è§£ï¼Œä½†æ˜¯å£°æ˜Spring MVCæ§åˆ¶å™¨çš„æ—¶å€™ï¼Œåªèƒ½ä½¿ç”¨@Controlleræˆ–è€…@RestControllerï¼›</li>
</ol>
<h3 id="RequestMapping"><a href="#RequestMapping" class="headerlink" title="@RequestMapping"></a>@RequestMapping</h3><ol>
<li>è¯¥æ³¨è§£æ˜¯ç”¨æ¥æ˜ å°„Webè¯·æ±‚ï¼ˆè®¿é—®è·¯å¾„å’Œå‚æ•°ï¼‰ã€å¤„ç†ç±»å’Œæ–¹æ³•çš„ï¼›</li>
<li><strong>å¯ä»¥æ³¨è§£åœ¨ç±»æˆ–è€…æ–¹æ³•ä¸Šï¼Œæ³¨è§£åœ¨æ–¹æ³•ä¸Šçš„@RequestMappingè·¯å¾„ä¼šç»§æ‰¿æ³¨è§£åœ¨ç±»ä¸Šçš„è·¯å¾„ï¼›</strong></li>
<li>@RequestMappingæ”¯æŒServletçš„requestå’Œresponseä½œä¸ºå‚æ•°ï¼Œä¹Ÿæ”¯æŒå¯¹requestå’Œresponseçš„åª’ä½“ç±»å‹è¿›è¡Œé…ç½®ï¼›</li>
</ol>
<h3 id="ResponseBody"><a href="#ResponseBody" class="headerlink" title="@ResponseBody"></a>@ResponseBody</h3><ol>
<li>è¯¥æ³¨è§£æ”¯æŒå°†è¿”å›å€¼æ”¾åœ¨responseä½“å†…ï¼Œè€Œä¸æ˜¯è¿”å›ä¸€ä¸ªé¡µé¢ï¼›</li>
<li>ç”¨æ­¤æ³¨è§£è¿”å›æ•°æ®è€Œä¸æ˜¯é¡µé¢ï¼›</li>
<li>æ­¤æ³¨è§£å¯ä»¥æ”¾ç½®åœ¨è¿”å›å€¼å‰æˆ–è€…æ–¹æ³•ä¸Šï¼›</li>
</ol>
<h3 id="PathVariable"><a href="#PathVariable" class="headerlink" title="@PathVariable"></a>@PathVariable</h3><ol>
<li>è¯¥æ³¨è§£ç”¨æ¥æ¥æ”¶è·¯å¾„å‚æ•°ï¼Œæ”¾ç½®åœ¨å‚æ•°å‰ï¼›</li>
</ol>
<h3 id="RestController"><a href="#RestController" class="headerlink" title="@RestController"></a>@RestController</h3><ol>
<li>è¯¥æ³¨è§£å®é™…æ˜¯ç»„åˆäº†@Controllerå’Œ@ResponseBodyï¼›</li>
<li>å¼€å‘ä¸€ä¸ªåªå’Œé¡µé¢äº¤äº’æ•°æ®çš„æ§åˆ¶çš„æ—¶å€™ï¼Œå°±å¯ä»¥ä½¿ç”¨æ­¤æ³¨è§£ï¼Œå°±ä¸éœ€è¦å†åŠ ä¸Š@Controllerå’Œ@ResponseBodyä¸¤ä¸ªæ³¨è§£äº†ï¼›</li>
</ol>
<h2 id="ç®€å•çš„ç»ƒä¹ "><a href="#ç®€å•çš„ç»ƒä¹ " class="headerlink" title="ç®€å•çš„ç»ƒä¹ "></a>ç®€å•çš„ç»ƒä¹ </h2><ol>
<li><p>åˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼Œä¸ºåé¢çš„å‚æ•°ä¼ é€’åšå‡†å¤‡ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DemoObj</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Long id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">DemoObj</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">super</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">DemoObj</span><span class="params">(Long id, String name)</span></span>&#123;</span><br><span class="line">        <span class="keyword">super</span>();</span><br><span class="line">        <span class="keyword">this</span>.id=id;</span><br><span class="line">        <span class="keyword">this</span>.name=name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Long <span class="title">getId</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setId</span><span class="params">(Long id)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.id = id;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// æ³¨æ„è¦æ·»åŠ public DemoObj()</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>åˆ›å»ºæ§åˆ¶å™¨ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="meta">@RequestMapping</span>(<span class="string">"/anno"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DemoAnnoController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping</span>(produces = <span class="string">"text/plain;charset=UTF-8"</span>)</span><br><span class="line">    <span class="keyword">public</span> <span class="meta">@ResponseBody</span> <span class="function">String <span class="title">index</span><span class="params">(HttpServletRequest request)</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"url: "</span>+ request.getRequestURL() + <span class="string">"can Access!"</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping</span>(value = <span class="string">"/pathvar/&#123;str&#125;"</span>,produces = <span class="string">"text/plain;charset=UTF-8"</span>)</span><br><span class="line">    <span class="keyword">public</span> <span class="meta">@ResponseBody</span> <span class="function">String <span class="title">demoPathVar</span><span class="params">(@PathVariable String str,HttpServletRequest request)</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"url: "</span>+ request.getRequestURL()+ <span class="string">"can access ,str: "</span>+ str;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@RequestMapping</span>(value = <span class="string">"/requestParam"</span>,produces = <span class="string">"text/plain;charset=UTF-8"</span>)</span><br><span class="line">    <span class="keyword">public</span> <span class="meta">@ResponseBody</span> <span class="function">String <span class="title">passRequestParam</span><span class="params">( Long id,HttpServletRequest request)</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"url: "</span>+ request.getRequestURL()+ <span class="string">"can access ,id: "</span>+ id;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@RequestMapping</span>(value = <span class="string">"/requestObj"</span>,produces = <span class="string">"text/plain;charset=UTF-8"</span>)</span><br><span class="line">    <span class="meta">@ResponseBody</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span>  String <span class="title">passObj</span><span class="params">( DemoObj obj, HttpServletRequest request)</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"url: "</span>+ request.getRequestURL()+ <span class="string">"can access ,id: "</span>+ obj.getName()+obj.getId();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@RequestMapping</span>(value = &#123;<span class="string">"/name1"</span>,<span class="string">"/name2"</span>&#125;,produces = <span class="string">"text/plain;charset=UTF-8"</span>)</span><br><span class="line">    <span class="meta">@ResponseBody</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span>  String <span class="title">testMore</span><span class="params">( DemoObj obj, HttpServletRequest request)</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"url: "</span>+ request.getRequestURL()+ <span class="string">"can access ,id: "</span>+ obj.getName()+obj.getId();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>RestController:</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping</span>(<span class="string">"/rest"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DemoRestController</span> </span>&#123;</span><br><span class="line">    <span class="comment">//method= RequestMethod.POST</span></span><br><span class="line">    <span class="meta">@RequestMapping</span>(value = <span class="string">"/json"</span>,produces = &#123;<span class="string">"application/json;charset=UTF-8"</span>&#125;)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> DemoObj <span class="title">getjson</span><span class="params">(DemoObj obj)</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> DemoObj(obj.getId()+<span class="number">1</span>,obj.getName()+<span class="string">"yy"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>åˆ›å»ºæ‹¦æˆªå™¨ç±»ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DemoInterceptor</span> <span class="keyword">extends</span> <span class="title">HandlerInterceptorAdapter</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">preHandle</span><span class="params">(HttpServletRequest request, HttpServletResponse response, Object handler)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="keyword">long</span> startTime=System.currentTimeMillis();</span><br><span class="line">        request.setAttribute(<span class="string">"startTime"</span>,startTime);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">postHandle</span><span class="params">(HttpServletRequest request, HttpServletResponse response, Object handler,  ModelAndView modelAndView)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="keyword">long</span> startTime=(Long) request.getAttribute(<span class="string">"startTime"</span>);</span><br><span class="line">        request.removeAttribute(<span class="string">"startTime"</span>);</span><br><span class="line">        <span class="keyword">long</span> endTime=System.currentTimeMillis();</span><br><span class="line">        System.out.println(<span class="string">"æœ¬æ¬¡å¤„ç†çš„æ—¶é—´ä¸ºï¼š "</span>+ <span class="keyword">new</span> Long(endTime-startTime)+<span class="string">"ms"</span>);</span><br><span class="line">        request.setAttribute(<span class="string">"handleTime"</span>,endTime-startTime);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ³¨å†Œæ‹¦æˆªå™¨ä»¥åŠä½¿èƒ½WebMVCï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@EnableWebMvc</span></span><br><span class="line"><span class="meta">@ComponentScan</span>(<span class="string">"com.wander.mvclearn.mvclearn"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyMvcConfig</span> <span class="keyword">implements</span> <span class="title">WebMvcConfigurer</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> InternalResourceViewResolver <span class="title">viewResolver</span><span class="params">()</span></span>&#123;</span><br><span class="line">        InternalResourceViewResolver viewResolver=<span class="keyword">new</span> InternalResourceViewResolver();</span><br><span class="line">        viewResolver.setPrefix(<span class="string">"/WEB-INF/templates/"</span>);</span><br><span class="line">        viewResolver.setSuffix(<span class="string">".jsp"</span>);</span><br><span class="line">        viewResolver.setViewClass(JstlView<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">        <span class="keyword">return</span> viewResolver;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> DemoInterceptor <span class="title">demoInterceptor</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> DemoInterceptor();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addInterceptors</span><span class="params">(InterceptorRegistry registry)</span> </span>&#123;</span><br><span class="line">        registry.addInterceptor(demoInterceptor());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>æµ‹è¯•ï¼š</p>
<ol>
<li>è®¿é—®<a href="http://localhost/rest/json?id=1&amp;name=hello" target="_blank" rel="noopener">http://localhost/rest/json?id=1&amp;name=hello</a></li>
</ol>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/f0fd7c8e99f561f6976a560f6ed3724c-24867" alt=""></p>
</li>
</ol>
<h2 id="Spring-MVCé…ç½®"><a href="#Spring-MVCé…ç½®" class="headerlink" title="Spring MVCé…ç½®"></a>Spring MVCé…ç½®</h2><h3 id="è¯´æ˜"><a href="#è¯´æ˜" class="headerlink" title="è¯´æ˜"></a>è¯´æ˜</h3><ol>
<li><p>Spring MVCçš„å®šåˆ¶é…ç½®éœ€è¦å®ç°WebMvcConfigureræ¥å£ï¼Œå¹¶åœ¨æ­¤ç±»ä½¿ç”¨@EnableWebMvcæ³¨è§£æ¥å¼€å¯å¯¹Spring MVCçš„é…ç½®æ”¯æŒï¼›</p>
</li>
<li><p>WebMvcConfigureræ¥å£æºç ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">WebMvcConfigurer</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">default</span> <span class="keyword">void</span> <span class="title">configurePathMatch</span><span class="params">(PathMatchConfigurer configurer)</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">default</span> <span class="keyword">void</span> <span class="title">configureContentNegotiation</span><span class="params">(ContentNegotiationConfigurer configurer)</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">default</span> <span class="keyword">void</span> <span class="title">configureAsyncSupport</span><span class="params">(AsyncSupportConfigurer configurer)</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">default</span> <span class="keyword">void</span> <span class="title">configureDefaultServletHandling</span><span class="params">(DefaultServletHandlerConfigurer configurer)</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">default</span> <span class="keyword">void</span> <span class="title">addFormatters</span><span class="params">(FormatterRegistry registry)</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">default</span> <span class="keyword">void</span> <span class="title">addInterceptors</span><span class="params">(InterceptorRegistry registry)</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">default</span> <span class="keyword">void</span> <span class="title">addResourceHandlers</span><span class="params">(ResourceHandlerRegistry registry)</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">default</span> <span class="keyword">void</span> <span class="title">addCorsMappings</span><span class="params">(CorsRegistry registry)</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">default</span> <span class="keyword">void</span> <span class="title">addViewControllers</span><span class="params">(ViewControllerRegistry registry)</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">default</span> <span class="keyword">void</span> <span class="title">configureViewResolvers</span><span class="params">(ViewResolverRegistry registry)</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">default</span> <span class="keyword">void</span> <span class="title">addArgumentResolvers</span><span class="params">(List&lt;HandlerMethodArgumentResolver&gt; resolvers)</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">default</span> <span class="keyword">void</span> <span class="title">addReturnValueHandlers</span><span class="params">(List&lt;HandlerMethodReturnValueHandler&gt; handlers)</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">default</span> <span class="keyword">void</span> <span class="title">configureMessageConverters</span><span class="params">(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters)</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">default</span> <span class="keyword">void</span> <span class="title">extendMessageConverters</span><span class="params">(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters)</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">default</span> <span class="keyword">void</span> <span class="title">configureHandlerExceptionResolvers</span><span class="params">(List&lt;HandlerExceptionResolver&gt; resolvers)</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">default</span> <span class="keyword">void</span> <span class="title">extendHandlerExceptionResolvers</span><span class="params">(List&lt;HandlerExceptionResolver&gt; resolvers)</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Nullable</span></span><br><span class="line">    <span class="function"><span class="keyword">default</span> Validator <span class="title">getValidator</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Nullable</span></span><br><span class="line">    <span class="function"><span class="keyword">default</span> MessageCodesResolver <span class="title">getMessageCodesResolver</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>addInterceptorsåœ¨å‰é¢å·²ç»ä½¿ç”¨è¿‡äº†ï¼addResourceHandlerså¯ä»¥å®ç°èµ„æºçš„æ˜ å°„ï¼›é€šè¿‡å®ç° void addResourceHandlers(ResourceHandlerRegistry registry) æ¥è¿›è¡Œèµ„æºæ˜ å°„ï¼</p>
</li>
<li><p>æ‹¦æˆªå™¨ï¼ˆInterceptorï¼‰å®ç°å¯¹æ¯ä¸€ä¸ªè¯·æ±‚å¤„ç†å‰åè¿›è¡Œç›¸å…³çš„ä¸šåŠ¡å¤„ç†ï¼Œç±»ä¼¼äºServletçš„Filterï¼›</p>
</li>
<li><p>configurePathMatch(PathMatchConfigurer configurer)ç”¨äºè·¯å¾„å‚æ•°åŒ¹é…è®¾ç½®ï¼Œæ¯”å¦‚å¯ä»¥æ¥å—â€.â€åé¢çš„å†…å®¹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">configurePathMatch</span><span class="params">(PathMatchConfigurer configurer)</span> </span>&#123;</span><br><span class="line">   <span class="comment">// ä¸‹é¢çš„æ–¹æ³•ç›®å‰å·²ç»è¿‡æ—¶äº†</span></span><br><span class="line">    configurer.setUseSuffixPatternMatch(<span class="keyword">false</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



</li>
</ol>
<hr>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1>]]></content>
      <categories>
        <category>Java</category>
      </categories>
  </entry>
  <entry>
    <title>Spring Security Quick Start</title>
    <url>/2020/05/21/Spring-Security-Quick-Start/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>åœ¨Webåº”ç”¨å¼€å‘ä¸­ï¼Œå®‰å…¨æ— ç–‘æ˜¯ååˆ†é‡è¦çš„ï¼Œé€‰æ‹©Spring Securityæ¥ä¿æŠ¤Webåº”ç”¨æ˜¯ä¸€ä¸ªéå¸¸æ˜æ™ºçš„é€‰æ‹©ï¼Spring Security æ˜¯Springé¡¹ç›®ä¸­çš„ä¸€ä¸ªå®‰å…¨æ¨¡å—ï¼Œå¯ä»¥éå¸¸æ–¹ä¾¿åœ°ä¸Springé¡¹ç›®æ— ç¼é›†æˆï¼Œç‰¹åˆ«æ˜¯åœ¨SpringBooté¡¹ç›®ä¸­åŠ å…¥Spring Securityæ›´æ˜¯ååˆ†ç®€å•ã€‚åœ¨å®é™…å¼€å‘ä¸­ä½¿ç”¨Spring Securityéå¸¸æœ‰åˆ©äºç†è§£å®‰å…¨å’Œè®¤è¯ï¼</p>
<p>ä¸€èˆ¬æ¥è¯´ï¼Œå¸¸è§çš„å®‰å…¨ç®¡ç†æŠ€æœ¯æ ˆçš„ç»„åˆæ˜¯ï¼š</p>
<ul>
<li>SSM + Shiro</li>
<li>Spring Boot/Spring Cloud + Spring Security</li>
<li><strong>æ³¨æ„ï¼Œè¿™åªæ˜¯ä¸€ä¸ªæ¨èçš„ç»„åˆè€Œå·²ï¼Œå¦‚æœå•çº¯ä»æŠ€æœ¯ä¸Šæ¥è¯´ï¼Œæ— è®ºæ€ä¹ˆç»„åˆï¼Œéƒ½æ˜¯å¯ä»¥è¿è¡Œçš„</strong></li>
</ul>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/51a583a85a0213a4df4c3283a590e786-205974" alt="Spring Securityæ•´ä½“æ¦‚è§ˆ"></p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="åŸºç¡€çŸ¥è¯†"><a href="#åŸºç¡€çŸ¥è¯†" class="headerlink" title="åŸºç¡€çŸ¥è¯†"></a>åŸºç¡€çŸ¥è¯†</h2><ol>
<li><p>Spring Securityæ˜¯ä¸“é—¨é’ˆå¯¹åŸºäºSpringé¡¹ç›®çš„å®‰å…¨æ¡†æ¶ï¼Œä¸»è¦åˆ©ç”¨äº†ä¾èµ–æ³¨å…¥å’ŒAOPæŠ€æœ¯æ¥å®ç°å®‰å…¨çš„åŠŸèƒ½ã€‚å®‰å…¨æ¡†æ¶æœ‰ä¸¤ä¸ªå¾ˆé‡è¦çš„å†…å®¹ï¼Œå³è®¤è¯ï¼ˆAuthenticationï¼‰å’Œæˆæƒï¼ˆAuthorizationï¼‰ï¼šè®¤è¯å³ç¡®è®¤ç”¨æˆ·æ˜¯å¦å¯ä»¥è®¿é—®å½“å‰ç³»ç»Ÿï¼›æˆæƒå³ç¡®å®šç”¨æˆ·åœ¨å½“å‰ç³»ç»Ÿä¸‹æ‰€æ‹¥æœ‰çš„åŠŸèƒ½æƒé™ï¼</p>
</li>
<li><p>Spring Securityçš„ä»‹ç»éå¸¸æ³¨é‡ç‰ˆæœ¬ï¼Œç‰ˆæœ¬çš„ä¸åŒä¼šå¯¼è‡´åŠŸèƒ½ä»£ç çš„å®ç°ä¸Šä¹Ÿä¼šæœ‰äº›è®¸çš„ä¸åŒï¼</p>
</li>
<li><p>Spring Securityæ ¸å¿ƒåŠŸèƒ½ï¼š</p>
<ul>
<li>è®¤è¯ï¼ˆä½ æ˜¯è°ï¼‰â€”â€”å¯¹ä¸»ä½“/ç”¨æˆ·èº«ä»½çš„ç¡®è®¤</li>
<li>æˆæƒï¼ˆä½ èƒ½å¹²ä»€ä¹ˆï¼‰â€”â€”æ§åˆ¶ä¸åŒçš„ç”¨æˆ·è®¿é—®ä¸åŒçš„æƒé™</li>
<li>æ”»å‡»é˜²æŠ¤ï¼ˆé˜²æ­¢èº«ä»½ä¼ªé€ ï¼‰</li>
</ul>
</li>
<li><p>Spring Securityåœ¨Spring Bootå‡ºç°ä¹‹å‰å°±å·²ç»å‘å±•å¤šå¹´äº†ï¼Œä½†æ˜¯ä½¿ç”¨çš„ä¸å¤šï¼Œå®‰å…¨ç®¡ç†é¢†åŸŸä¸€ç›´éƒ½æ˜¯Shiroçš„å¤©ä¸‹ï¼Œä½†æ˜¯SpringBootå‡ºç°ä¹‹åï¼Œä¸ºå…¶æä¾›äº†è‡ªåŠ¨åŒ–é…ç½®ï¼Œå¯ä»¥é›¶é…ä½¿ç”¨Spring Securityï¼Œè¿™å°±ä½¿å¾—ä½¿ç”¨SpringBootæˆ–è€…Spring Cloudçš„å¼€å‘äººå‘˜ä¹Ÿåœ¨é€æ¸ä½¿ç”¨</p>
</li>
<li><p>åœ¨Webå¼€å‘è¿‡ç¨‹ä¸­æœ‰ä¸€äº›æ¯”è¾ƒå¸¸è§çš„é»‘å®¢æ”»å‡»æ–¹å¼ï¼Œæ¯”å¦‚ï¼šXSS(è·¨ç«™è„šæœ¬æ”»å‡»)ã€CSRFï¼ˆè·¨ç«™è¯·æ±‚ä¼ªé€ æ”»å‡»ï¼‰ã€SQLæ³¨å…¥ã€å‘½ä»¤è¡Œæ³¨å…¥ã€DDoSæ”»å‡»ã€DNSåŠ«æŒç­‰ï¼›</p>
</li>
<li><p>ä¸€èˆ¬è€Œè¨€ï¼Œç”¨æˆ·å¯ä»¥åˆ†é…å¤šä¸ªè§’è‰²ï¼Œè§’è‰²å¯ä»¥åˆ†é…å¤šä¸ªæƒé™ã€‚åœ¨æƒé™è®¾è®¡è¡¨çš„æ—¶å€™ï¼Œä¸€èˆ¬è®¾è®¡5å¼ è¡¨ï¼Œåˆ†åˆ«ä¸ºç”¨æˆ·è¡¨ã€è§’è‰²è¡¨ã€æƒé™è¡¨ã€ç”¨æˆ·è§’è‰²è¡¨ã€è§’è‰²æƒé™è¡¨ã€‚ä¸šå†…æœ‰æ—¶ä¹Ÿä¼šå°†è¿™5å¼ è¡¨ç§°ä¸ºç»å…¸çš„RBACæƒé™è®¾è®¡æ¨¡å‹ï¼›</p>
</li>
<li><p>RBACï¼ˆRole-Based Access Controlï¼ŒåŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶ï¼‰ä¸­æƒé™ä¸è§’è‰²ç›¸å…³è”ï¼Œç”¨æˆ·é€šè¿‡æˆä¸ºé€‚å½“è§’è‰²çš„æˆå‘˜è€Œå¾—åˆ°è¿™äº›è§’è‰²çš„æƒé™ï¼Œæå¤§åœ°ç®€åŒ–äº†æƒé™çš„ç®¡ç†ï¼</p>
</li>
<li><p>Spring Security æ”¯æŒä¸¤ç§ä¸åŒçš„è®¤è¯æ–¹å¼ï¼š</p>
<ul>
<li>å¯ä»¥é€šè¿‡ form è¡¨å•æ¥è®¤è¯</li>
<li>å¯ä»¥é€šè¿‡ HttpBasic æ¥è®¤è¯</li>
</ul>
</li>
<li><p>åœ¨æ²¡æœ‰Spring Securityçš„æ—¶å€™ï¼Œæˆ‘ä»¬ç›´æ¥è®¿é—®REST APiå¯ä»¥å¾—åˆ°ç»“æœï¼Œä½†æ˜¯å½“æˆ‘ä»¬çš„åº”ç”¨åŠ å…¥äº†Spring securityä¹‹åï¼Œç›¸å½“äºåŠ ä¸Šäº†è¿‡æ»¤å™¨ï¼Œå…¶å®Spring Securityæœ¬èº«å°±æ˜¯ä¸€ä¸ªè¿‡æ»¤å™¨é“¾ï¼Œæ‰€æœ‰çš„è¯·æ±‚åœ¨è®¿é—®REST APIæ—¶éƒ½è¦ç»è¿‡Spring Securityçš„è¿‡æ»¤å™¨é“¾ï¼Œå½“è¿”å›åº”ç­”çš„æ—¶å€™ï¼Œä¹Ÿä¼šèµ°ä¸€éè¿™ä¸ªè¿‡æ»¤å™¨é“¾ï¼Œç„¶åè¿”å›ç»™ç”¨æˆ·ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/20b27c6cca4200f3f8699e90ebb86861-185025" alt="SpringSecurityè¿‡æ»¤å™¨é“¾"></p>
</li>
<li><p>å®˜æ–¹ç½‘å€ï¼š<a href="https://spring.io/projects/spring-security" target="_blank" rel="noopener">https://spring.io/projects/spring-security</a></p>
</li>
<li><p>Spring Securityå®˜æ–¹æ–‡æ¡£ï¼š<a href="https://docs.spring.io/spring-security/site/docs/5.4.x-SNAPSHOT/reference/html5/" target="_blank" rel="noopener">https://docs.spring.io/spring-security/site/docs/5.4.x-SNAPSHOT/reference/html5/</a></p>
</li>
<li><p>å®˜æ–¹ç®€æ˜“Webå®‰å…¨è®¤è¯æ•™ç¨‹ï¼š<a href="https://spring.io/guides/gs/securing-web/" target="_blank" rel="noopener">https://spring.io/guides/gs/securing-web/</a></p>
</li>
<li><p>å®˜æ–¹ç¤ºä¾‹æºç ï¼š<a href="https://github.com/spring-projects/spring-security" target="_blank" rel="noopener">https://github.com/spring-projects/spring-security</a></p>
</li>
</ol>
<h2 id="Spring-Securityæ‰§è¡Œæµç¨‹"><a href="#Spring-Securityæ‰§è¡Œæµç¨‹" class="headerlink" title="Spring Securityæ‰§è¡Œæµç¨‹"></a>Spring Securityæ‰§è¡Œæµç¨‹</h2><ol>
<li><p>å®¢æˆ·ç«¯å‘èµ·ä¸€ä¸ªè¯·æ±‚ï¼Œè¿›å…¥ Security è¿‡æ»¤å™¨é“¾ï¼›</p>
</li>
<li><p>å½“åˆ° LogoutFilter çš„æ—¶å€™åˆ¤æ–­æ˜¯å¦æ˜¯ç™»å‡ºURIï¼Œå¦‚æœæ˜¯ç™»å‡ºURIåˆ™åˆ° logoutHandler ï¼Œå¦‚æœç™»å‡ºæˆåŠŸåˆ™åˆ° logoutSuccessHandler ç™»å‡ºæˆåŠŸå¤„ç†ï¼Œå¦‚æœç™»å‡ºå¤±è´¥åˆ™ç”± ExceptionTranslationFilter ï¼Œå¦‚æœä¸æ˜¯ç™»å‡ºURIåˆ™ç›´æ¥è¿›å…¥ä¸‹ä¸€ä¸ªè¿‡æ»¤å™¨ï¼›</p>
</li>
<li><p>å½“åˆ° UsernamePasswordAuthenticationFilter çš„æ—¶å€™åˆ¤æ–­æ˜¯å¦ä¸ºç™»å½•URIï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿›å…¥è¯¥è¿‡æ»¤å™¨è¿›è¡Œç™»å½•æ“ä½œï¼Œå¦‚æœç™»å½•å¤±è´¥åˆ™åˆ° AuthenticationFailureHandler ç™»å½•å¤±è´¥å¤„ç†å™¨å¤„ç†ï¼Œå¦‚æœç™»å½•æˆåŠŸåˆ™åˆ° AuthenticationSuccessHandler ç™»å½•æˆåŠŸå¤„ç†å™¨å¤„ç†ï¼Œå¦‚æœä¸æ˜¯ç™»å½•è¯·æ±‚åˆ™ä¸è¿›å…¥è¯¥è¿‡æ»¤å™¨ï¼›</p>
</li>
<li><p>å½“åˆ° FilterSecurityInterceptor çš„æ—¶å€™ä¼šæ‹¿åˆ°URI ï¼Œæ ¹æ®URIå»æ‰¾å¯¹åº”çš„é‰´æƒç®¡ç†å™¨ï¼Œé‰´æƒç®¡ç†å™¨åšé‰´æƒå·¥ä½œï¼Œé‰´æƒæˆåŠŸåˆ™åˆ° Controller å±‚å¦åˆ™åˆ° AccessDeniedHandler é‰´æƒå¤±è´¥å¤„ç†å™¨å¤„ç†ã€‚</p>
</li>
<li><p>Spring Securityæ‰§è¡Œæµç¨‹å›¾ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/1939ad2bff6a74086e5f13f7ebd1f7bc-120969" alt="Spring Securityæ‰§è¡Œæµç¨‹"></p>
</li>
</ol>
<h2 id="Spring-Securityè¿‡æ»¤å™¨"><a href="#Spring-Securityè¿‡æ»¤å™¨" class="headerlink" title="Spring Securityè¿‡æ»¤å™¨"></a>Spring Securityè¿‡æ»¤å™¨</h2><ol>
<li>WebAsyncManagerIntegrationFilterâ€”â€”å°† Security ä¸Šä¸‹æ–‡ä¸ Spring Web ä¸­ç”¨äºå¤„ç†å¼‚æ­¥è¯·æ±‚æ˜ å°„çš„ WebAsyncManager è¿›è¡Œé›†æˆï¼›</li>
<li>SecurityContextPersistenceFilterâ€”â€”åœ¨æ¯æ¬¡è¯·æ±‚å¤„ç†ä¹‹å‰å°†è¯¥è¯·æ±‚ç›¸å…³çš„å®‰å…¨ä¸Šä¸‹æ–‡ä¿¡æ¯åŠ è½½åˆ° SecurityContextHolder ä¸­ï¼Œç„¶ååœ¨è¯¥æ¬¡è¯·æ±‚å¤„ç†å®Œæˆä¹‹åï¼Œå°† SecurityContextHolder ä¸­å…³äºè¿™æ¬¡è¯·æ±‚çš„ä¿¡æ¯å­˜å‚¨åˆ°ä¸€ä¸ªâ€œä»“å‚¨â€ä¸­ï¼Œç„¶åå°† SecurityContextHolder ä¸­çš„ä¿¡æ¯æ¸…é™¤ï¼Œä¾‹å¦‚åœ¨Sessionä¸­ç»´æŠ¤ä¸€ä¸ªç”¨æˆ·çš„å®‰å…¨ä¿¡æ¯å°±æ˜¯è¿™ä¸ªè¿‡æ»¤å™¨å¤„ç†çš„ï¼›</li>
<li>HeaderWriterFilterâ€”â€”ç”¨äºå°†å¤´ä¿¡æ¯åŠ å…¥å“åº”ä¸­</li>
<li>CsrfFilterâ€”â€”ç”¨äºå¤„ç†è·¨ç«™è¯·æ±‚ä¼ªé€ ï¼›</li>
<li>LogoutFilterâ€”â€”ç”¨äºå¤„ç†é€€å‡ºç™»å½•ï¼›</li>
<li>UsernamePasswordAuthenticationFilterâ€”â€”ç”¨äºå¤„ç†åŸºäºè¡¨å•çš„ç™»å½•è¯·æ±‚ï¼Œä»è¡¨å•ä¸­è·å–ç”¨æˆ·åå’Œå¯†ç ã€‚é»˜è®¤æƒ…å†µä¸‹å¤„ç†æ¥è‡ª /login çš„è¯·æ±‚ã€‚ä»è¡¨å•ä¸­è·å–ç”¨æˆ·åå’Œå¯†ç æ—¶ï¼Œé»˜è®¤ä½¿ç”¨çš„è¡¨å• name å€¼ä¸º username å’Œ passwordï¼Œè¿™ä¸¤ä¸ªå€¼å¯ä»¥é€šè¿‡è®¾ç½®è¿™ä¸ªè¿‡æ»¤å™¨çš„usernameParameter å’Œ passwordParameter ä¸¤ä¸ªå‚æ•°çš„å€¼è¿›è¡Œä¿®æ”¹ï¼›</li>
<li>DefaultLoginPageGeneratingFilterâ€”â€”å¦‚æœæ²¡æœ‰é…ç½®ç™»å½•é¡µé¢ï¼Œé‚£ç³»ç»Ÿåˆå§‹åŒ–æ—¶å°±ä¼šé…ç½®è¿™ä¸ªè¿‡æ»¤å™¨ï¼Œå¹¶ä¸”ç”¨äºåœ¨éœ€è¦è¿›è¡Œç™»å½•æ—¶ç”Ÿæˆä¸€ä¸ªç™»å½•è¡¨å•é¡µé¢ï¼›</li>
<li>BasicAuthenticationFilterâ€”â€”æ£€æµ‹å’Œå¤„ç† http basic è®¤è¯ï¼›</li>
<li>RequestCacheAwareFilterâ€”â€”ç”¨æ¥å¤„ç†è¯·æ±‚çš„ç¼“å­˜ï¼›</li>
<li>SecurityContextHolderAwareRequestFilterâ€”â€”ä¸»è¦æ˜¯åŒ…è£…è¯·æ±‚å¯¹è±¡requestï¼›</li>
<li>AnonymousAuthenticationFilterâ€”â€”æ£€æµ‹ SecurityContextHolder ä¸­æ˜¯å¦å­˜åœ¨ Authentication å¯¹è±¡ï¼Œå¦‚æœä¸å­˜åœ¨ä¸ºå…¶æä¾›ä¸€ä¸ªåŒ¿å Authenticationï¼›</li>
<li>SessionManagementFilterâ€”â€”ç®¡ç† session çš„è¿‡æ»¤å™¨ï¼›</li>
<li>ExceptionTranslationFilterâ€”â€”å¤„ç† AccessDeniedException å’Œ AuthenticationException å¼‚å¸¸</li>
<li>FilterSecurityInterceptorâ€”â€”å¯ä»¥çœ‹åšè¿‡æ»¤å™¨é“¾çš„å‡ºå£ï¼›</li>
<li>RememberMeAuthenticationFilterâ€”â€”å½“ç”¨æˆ·æ²¡æœ‰ç™»å½•è€Œç›´æ¥è®¿é—®èµ„æºæ—¶, ä» cookie é‡Œæ‰¾å‡ºç”¨æˆ·çš„ä¿¡æ¯, å¦‚æœ Spring Security èƒ½å¤Ÿè¯†åˆ«å‡ºç”¨æˆ·æä¾›çš„remember me cookie, ç”¨æˆ·å°†ä¸å¿…å¡«å†™ç”¨æˆ·åå’Œå¯†ç , è€Œæ˜¯ç›´æ¥ç™»å½•è¿›å…¥ç³»ç»Ÿï¼Œè¯¥è¿‡æ»¤å™¨é»˜è®¤ä¸å¼€å¯ï¼</li>
</ol>
<h2 id="Spring-Securityç»†èŠ‚"><a href="#Spring-Securityç»†èŠ‚" class="headerlink" title="Spring Securityç»†èŠ‚"></a>Spring Securityç»†èŠ‚</h2><ol>
<li><p>Spring Securityçš„åŸºç¡€å¯¹è±¡æœ‰SecurityContextHolderï¼ŒSecurityContextï¼ŒAuthentication</p>
<ul>
<li>SecurityContextHolderï¼šå­˜å‚¨å½“å‰çš„SecurityContextï¼Œå³è®¤è¯ç”¨æˆ·çš„ä¸Šä¸‹æ–‡ä¿¡æ¯ï¼Œå†…éƒ¨ä½¿ç”¨ThreadLocal</li>
<li>SecurityContextï¼šæŒæœ‰Authenticationå¯¹è±¡å’Œå…¶ä»–å¯èƒ½éœ€è¦çš„ä¿¡æ¯</li>
<li>UserDetailsï¼šä»Authenticationä¸­è·å–çš„å¯¹è±¡ï¼Œä»£è¡¨å½“å‰ç”¨æˆ·çš„å…·ä½“ä¿¡æ¯</li>
<li>UserDetailsServiceï¼šè·å–UserDetailsçš„é€»è¾‘ï¼Œä¸€èˆ¬å°è£…äº†æŸ¥è¯¢ç”¨æˆ·çš„é€»è¾‘</li>
<li>GrantedAuthorityï¼šå½“å‰ç”¨æˆ·è·å–åˆ°çš„æˆæƒä¿¡æ¯</li>
</ul>
</li>
<li><p>åœ¨åº”ç”¨ä¸­è·å–å½“å‰ç”¨æˆ·çš„ä¿¡æ¯ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Object principal = SecurityContextHolder.getContext().getAuthentication().getPrincipal();</span><br><span class="line">String username;</span><br><span class="line"><span class="keyword">if</span> (principal <span class="keyword">instanceof</span> UserDetails) &#123;</span><br><span class="line">     username= ((UserDetails)principal).getUsername();</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">     username = principal.toString();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>Ant Patternè¯­æ³•ï¼Œ<strong>antMatcherä½¿ç”¨çš„æ˜¯anté£æ ¼çš„è·¯å¾„åŒ¹é…æ¨¡å¼</strong>ï¼ŒApache Antæ ·å¼çš„è·¯å¾„æœ‰ä¸‰ç§é€šé…ç¬¦åŒ¹é…æ–¹æ³•ï¼š</p>
<ul>
<li>?â€”â€”åŒ¹é…ä»»ä½•å•å­—ç¬¦</li>
<li>*â€”â€”åŒ¹é…0æˆ–è€…ä»»æ„æ•°é‡çš„å­—ç¬¦ï¼Œä¸åŒ…å«â€/â€œ</li>
<li>**â€”â€”åŒ¹é…0æˆ–è€…æ›´å¤šçš„ç›®å½•ï¼ŒåŒ…å«â€/â€œ</li>
</ul>
</li>
<li><p>Ant åŒ¹é…æ¡ˆä¾‹ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line">Path	              Description	</span><br><span class="line">/app/*.x	          åŒ¹é…(Matches)æ‰€æœ‰åœ¨appè·¯å¾„ä¸‹çš„.xæ–‡ä»¶	</span><br><span class="line">/app/p?ttern	      åŒ¹é…(Matches) /app/pattern å’Œ /app/pXttern,ä½†æ˜¯ä¸åŒ…æ‹¬/app/pttern	</span><br><span class="line">/**/example     	  åŒ¹é…(Matches) /app/example, /app/foo/example, å’Œ /example	</span><br><span class="line">/app/**/dir/file.  	åŒ¹é…(Matches) /app/dir/file.jsp, /app/foo/dir/file.html,/app/foo/bar/dir/file.pdf, å’Œ /app/dir/file.java	</span><br><span class="line">/**/*.jsp	          åŒ¹é…(Matches)ä»»ä½•çš„.jsp æ–‡ä»¶</span><br></pre></td></tr></table></figure>
</li>
<li><p>HttpSecurity ä½¿ç”¨çš„æ˜¯é“¾å¼ç¼–ç¨‹ï¼Œå…¶ä¸­ <code>http.xxxx.and.yyyyy</code> è¿™ç§å†™æ³•å’Œ <code>http.xxxx;http.yyyy</code> å†™æ³•æ„ä¹‰ä¸€æ ·ï¼›</p>
</li>
<li><p>ç¬¬ä¸‰æ–¹è®¤è¯åŸºæœ¬åŸç†ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/b4f75f73c741385ce32353ff5736d53a-45181" alt="ç¬¬ä¸‰æ–¹è®¤è¯åŸºæœ¬åŸç†"></p>
</li>
</ol>
<h2 id="Security-æ‰©å±•"><a href="#Security-æ‰©å±•" class="headerlink" title="Security æ‰©å±•"></a>Security æ‰©å±•</h2><ol>
<li>Security å¯æ‰©å±•çš„å†…å®¹æœ‰ï¼š<ul>
<li>é‰´æƒå¤±è´¥å¤„ç†å™¨</li>
<li>éªŒè¯å™¨</li>
<li>ç™»å½•æˆåŠŸå¤„ç†å™¨</li>
<li>æŠ•ç¥¨å™¨</li>
<li>è‡ªå®šä¹‰tokenå¤„ç†è¿‡æ»¤å™¨</li>
<li>ç™»å‡ºæˆåŠŸå¤„ç†å™¨</li>
<li>ç™»å½•å¤±è´¥å¤„ç†å™¨</li>
<li>è‡ªå®šä¹‰ UsernamePasswordAuthenticationFilter</li>
</ul>
</li>
<li>Security çš„å¤„ç†å™¨å¤§éƒ¨åˆ†éƒ½æ˜¯é‡å®šå‘çš„ï¼Œæˆ‘ä»¬çš„é¡¹ç›®å¦‚æœæ˜¯å‰åç«¯åˆ†ç¦»çš„è¯ï¼Œæˆ‘ä»¬å¸Œæœ›æ— è®ºä»€ä¹ˆæƒ…å†µéƒ½è¿”å› json ,é‚£ä¹ˆå°±éœ€è¦é‡å†™å„ä¸ªå¤„ç†å™¨äº†ï¼</li>
<li>Security é‰´æƒå¤±è´¥é»˜è®¤è·³è½¬ç™»å½•é¡µé¢ï¼Œå¯ä»¥å®ç° AccessDeniedHandler æ¥å£ï¼Œé‡å†™ handle() æ–¹æ³•æ¥è‡ªå®šä¹‰å¤„ç†é€»è¾‘ï¼›ç„¶åå‚è€ƒé…ç½®ç±»è¯´æ˜å°†å¤„ç†å™¨åŠ å…¥åˆ°é…ç½®å½“ä¸­ï¼›</li>
<li>å®ç° AuthenticationProvider æ¥å£æ¥å®ç°è‡ªå·±éªŒè¯é€»è¾‘ã€‚éœ€è¦æ³¨æ„çš„æ˜¯åœ¨è¿™ä¸ªç±»é‡Œé¢å°±ç®—ä½ æŠ›å‡ºå¼‚å¸¸ï¼Œä¹Ÿä¸ä¼šä¸­æ–­éªŒè¯æµç¨‹ï¼Œè€Œæ˜¯ç®—ä½ éªŒè¯å¤±è´¥ï¼Œåªè¦æœ‰ä¸€ä¸ªéªŒè¯å™¨éªŒè¯æˆåŠŸï¼Œå°±ç®—éªŒè¯æˆåŠŸï¼›</li>
<li>åœ¨ Security ä¸­éªŒè¯æˆåŠŸé»˜è®¤è·³è½¬åˆ°ä¸Šä¸€æ¬¡è¯·æ±‚é¡µé¢æˆ–è€…è·¯å¾„ä¸º â€œ/â€œ çš„é¡µé¢ï¼Œæˆ‘ä»¬åŒæ ·å¯ä»¥è‡ªå®šä¹‰ï¼šç»§æ‰¿ SimpleUrlAuthenticationSuccessHandler è¿™ä¸ªç±»æˆ–è€…å®ç° AuthenticationSuccessHandler æ¥å£ï¼›</li>
<li>æŠ•ç¥¨å™¨å¯ç»§æ‰¿ WebExpressionVoter æˆ–è€…å®ç° AccessDecisionVoteræ¥å£ï¼ŒWebExpressionVoter æ˜¯ Security é»˜è®¤çš„æŠ•ç¥¨å™¨ï¼ŒæŠ•ç¥¨å™¨ vote æ–¹æ³•è¿”å›ä¸€ä¸ªintå€¼ï¼›-1ä»£è¡¨åå¯¹ï¼Œ0ä»£è¡¨å¼ƒæƒï¼Œ1ä»£è¡¨èµæˆï¼›æŠ•ç¥¨ç®¡ç†å™¨æ”¶é›†æŠ•ç¥¨ç»“æœï¼Œå¦‚æœæœ€ç»ˆç»“æœå¤§äºç­‰äº0åˆ™æ”¾è¡Œè¯¥è¯·æ±‚ï¼›</li>
<li>è‡ªå®šä¹‰ token å¤„ç†å™¨ç»§æ‰¿è‡ª OncePerRequestFilter æˆ–è€… GenericFilterBean æˆ–è€… Filter éƒ½å¯ä»¥ï¼Œåœ¨è¿™ä¸ªå¤„ç†å™¨é‡Œé¢éœ€è¦å®Œæˆçš„é€»è¾‘æ˜¯ï¼šè·å–è¯·æ±‚é‡Œçš„ tokenï¼ŒéªŒè¯ token æ˜¯å¦åˆæ³•ç„¶åå¡«å…… SecurityContextHolderï¼›</li>
<li>ç™»å½•å¤±è´¥é»˜è®¤è·³è½¬åˆ°ç™»å½•é¡µï¼Œæˆ‘ä»¬åŒæ ·å¯ä»¥è‡ªå®šä¹‰ã€‚ç»§æ‰¿ SimpleUrlAuthenticationFailureHandler æˆ–è€…å®ç°ï¼›</li>
<li>è‡ªå®šä¹‰UsernamePasswordAuthenticationFilterå¯ä»¥æå¤§æé«˜æˆ‘ä»¬ Securityçš„çµæ´»æ€§ï¼›</li>
</ol>
<h1 id="å¿«é€Ÿå¼€å‘"><a href="#å¿«é€Ÿå¼€å‘" class="headerlink" title="å¿«é€Ÿå¼€å‘"></a>å¿«é€Ÿå¼€å‘</h1><h2 id="æ²¡æœ‰å®‰å…¨çš„Webåº”ç”¨"><a href="#æ²¡æœ‰å®‰å…¨çš„Webåº”ç”¨" class="headerlink" title="æ²¡æœ‰å®‰å…¨çš„Webåº”ç”¨"></a>æ²¡æœ‰å®‰å…¨çš„Webåº”ç”¨</h2><ol>
<li><p>åˆ›å»ºä¸€ä¸ªæ²¡æœ‰Spring Securityçš„Webå¾®æœåŠ¡ï¼Œä¹‹å‰å·²ç»ä»‹ç»è¿‡äº†å¦‚ä½•åˆ›å»ºï¼Œç°åœ¨ä½¿ç”¨Thymeleafæ¥åšå®‰å…¨ç¤ºä¾‹ï¼›</p>
</li>
<li><p>åˆ›å»ºä¸¤ä¸ªæ¨¡æ¿ï¼š</p>
<ul>
<li><p>home.html</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">xmlns</span>=<span class="string">"http://www.w3.org/1999/xhtml"</span> <span class="attr">xmlns:th</span>=<span class="string">"http://www.thymeleaf.org"</span> <span class="attr">xmlns:sec</span>=<span class="string">"http://www.thymeleaf.org/thymeleaf-extras-springsecurity3"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Spring Security Example<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>Welcome!<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>Click <span class="tag">&lt;<span class="name">a</span> <span class="attr">th:href</span>=<span class="string">"@&#123;/hello&#125;"</span>&gt;</span>here<span class="tag">&lt;/<span class="name">a</span>&gt;</span> to see a greeting.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>hello.html</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">xmlns</span>=<span class="string">"http://www.w3.org/1999/xhtml"</span> <span class="attr">xmlns:th</span>=<span class="string">"http://www.thymeleaf.org"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">xmlns:sec</span>=<span class="string">"http://www.thymeleaf.org/thymeleaf-extras-springsecurity3"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Hello World!<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>Hello world!<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>ä½¿ç”¨åºŸå¼ƒçš„MVCæ¥è®¾ç½®è§†å›¾æ§åˆ¶å™¨æ¥æš´éœ²è¿™äº›æ¨¡æ¿ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MvcConfig</span> <span class="keyword">extends</span> <span class="title">WebMvcConfigurerAdapter</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addViewControllers</span><span class="params">(ViewControllerRegistry registry)</span> </span>&#123;</span><br><span class="line">        registry.addViewController(<span class="string">"/home"</span>).setViewName(<span class="string">"home"</span>);</span><br><span class="line">        registry.addViewController(<span class="string">"/"</span>).setViewName(<span class="string">"home"</span>);</span><br><span class="line">        registry.addViewController(<span class="string">"/hello"</span>).setViewName(<span class="string">"hello"</span>);</span><br><span class="line">        registry.addViewController(<span class="string">"/login"</span>).setViewName(<span class="string">"login"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// addViewControllers()æ–¹æ³•ï¼ˆè¦†ç›–WebMvcConfigurerAdapterä¸­åŒåçš„æ–¹æ³•ï¼‰æ·»åŠ äº†å››ä¸ªè§†å›¾æ§åˆ¶å™¨</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>é…ç½®é…ç½®æ–‡ä»¶application.propertiesæ–‡ä»¶ï¼š</p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">server.port=80</span><br></pre></td></tr></table></figure>
</li>
<li><p>é…ç½®å®Œæˆäº†ä¸å‡ºä»»ä½•æ„å¤–çš„è¯å°±èƒ½è®¿é—®äº†ã€‚</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/565f63b68417b1309314df717cdcd1ca-16472" alt="è®¿é—®ä¸»é¡µ"></p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/5c37880097e5c0711ddcab0e095bbdd5-7588" alt="è®¿é—®helloé¡µé¢"></p>
</li>
</ol>
<h2 id="å¿«é€Ÿé›†æˆSpring-Security"><a href="#å¿«é€Ÿé›†æˆSpring-Security" class="headerlink" title="å¿«é€Ÿé›†æˆSpring Security"></a>å¿«é€Ÿé›†æˆSpring Security</h2><ol>
<li><p>å› ä¸ºä½¿ç”¨çš„æ˜¯Mavenè¿›è¡Œä¾èµ–ç®¡ç†çš„ï¼Œåœ¨pom.xmlä¸­æ·»åŠ Securityä¾èµ–ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-security<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>å®‰å…¨é…ç½®ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@EnableWebSecurity</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">WebSecurityConfig</span> <span class="keyword">extends</span> <span class="title">WebSecurityConfigurerAdapter</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">configure</span><span class="params">(HttpSecurity http)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        http</span><br><span class="line">                .authorizeRequests()</span><br><span class="line">                .antMatchers(<span class="string">"/"</span>, <span class="string">"/home"</span>).permitAll()</span><br><span class="line">                .antMatchers(<span class="string">"/hello"</span>).hasRole(<span class="string">"user"</span>)</span><br><span class="line">                .anyRequest().authenticated()</span><br><span class="line">                .and()</span><br><span class="line">                .formLogin()</span><br><span class="line">                <span class="comment">//.loginPage("/login")</span></span><br><span class="line">                .permitAll()</span><br><span class="line">                .and()</span><br><span class="line">                .logout()</span><br><span class="line">                .permitAll();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">configureGlobal</span><span class="params">(AuthenticationManagerBuilder auth)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        auth</span><br><span class="line">                .inMemoryAuthentication()</span><br><span class="line">                .passwordEncoder(<span class="keyword">new</span> BCryptPasswordEncoder()).withUser(<span class="string">"user"</span>).password(<span class="keyword">new</span> BCryptPasswordEncoder().encode(<span class="string">"123456"</span>)).roles(<span class="string">"user"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><code>WebSecurityConfig</code>ç±»ä½¿ç”¨äº†<code>@EnableWebSecurity</code>æ³¨è§£ ï¼Œä»¥å¯ç”¨Spring Securityçš„Webå®‰å…¨æ”¯æŒï¼Œå¹¶æä¾›Spring MVCé›†æˆ</li>
<li><code>configure(HttpSecurity)</code>æ–¹æ³•å®šä¹‰äº†å“ªäº›URLè·¯å¾„åº”è¯¥è¢«ä¿æŠ¤ï¼Œå“ªäº›ä¸åº”è¯¥</li>
<li><code>configureGlobal(AuthenticationManagerBuilder)</code> æ–¹æ³•ï¼Œå®ƒå°†å•ä¸ªç”¨æˆ·è®¾ç½®åœ¨å†…å­˜ä¸­</li>
</ul>
</li>
<li><p>å¦‚æœä¸é…ç½®configureGlobal(AuthenticationManagerBuilder auth)ï¼Œå¯ä»¥åœ¨é…ç½®æ–‡ä»¶ä¸­ç›´æ¥æ·»åŠ ç”¨æˆ·å’Œå¯†ç ä»¥åŠå¯¹åº”çš„è§’è‰²ï¼š</p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">spring.security.user.name=javaboy</span><br><span class="line">spring.security.user.password=123</span><br><span class="line">spring.security.user.roles=user</span><br></pre></td></tr></table></figure>
</li>
<li><p>é…ç½®ç™»å½•é¡µé¢ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">xmlns</span>=<span class="string">"http://www.w3.org/1999/xhtml"</span> <span class="attr">xmlns:th</span>=<span class="string">"http://www.thymeleaf.org"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">xmlns:sec</span>=<span class="string">"http://www.thymeleaf.org/thymeleaf-extras-springsecurity3"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Spring Security Example <span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">th:if</span>=<span class="string">"$&#123;param.error&#125;"</span>&gt;</span></span><br><span class="line">    Invalid username and password.</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">th:if</span>=<span class="string">"$&#123;param.logout&#125;"</span>&gt;</span></span><br><span class="line">    You have been logged out.</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">th:action</span>=<span class="string">"@&#123;/login&#125;"</span> <span class="attr">method</span>=<span class="string">"post"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">label</span>&gt;</span> ç”¨æˆ·è´¦å· : <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"username"</span>/&gt;</span> <span class="tag">&lt;/<span class="name">label</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">label</span>&gt;</span> ç”¨æˆ·å¯†ç  : <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"password"</span> <span class="attr">name</span>=<span class="string">"password"</span>/&gt;</span> <span class="tag">&lt;/<span class="name">label</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">value</span>=<span class="string">"ç™»å½•"</span>/&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>å°†å®‰å…¨é…ç½®çš„//.loginPage(â€œ/loginâ€)å±è”½å»æ‰ï¼Œé‡å¯åº”ç”¨ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/53a179c405ab8b42a192989110d25109-9563" alt="é…ç½®å®‰å…¨ç™»å½•é¡µæ•ˆæœ"></p>
</li>
<li><p>ä¿®æ”¹helloæ¨¡æ¿ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">xmlns</span>=<span class="string">"http://www.w3.org/1999/xhtml"</span> <span class="attr">xmlns:th</span>=<span class="string">"http://www.thymeleaf.org"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">xmlns:sec</span>=<span class="string">"http://www.thymeleaf.org/thymeleaf-extras-springsecurity3"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Hello World!<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span> <span class="attr">th:inline</span>=<span class="string">"text"</span>&gt;</span>Hello [[$&#123;#httpServletRequest.remoteUser&#125;]]!<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">th:action</span>=<span class="string">"@&#123;/logout&#125;"</span> <span class="attr">method</span>=<span class="string">"post"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">value</span>=<span class="string">"Sign Out"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>ä½¿ç”¨Spring Securityä¸<code>HttpServletRequest#getRemoteUser()</code>çš„é›†æˆæ¥æ˜¾ç¤ºç”¨æˆ·å</li>
<li>â€œç™»å‡ºâ€è¡¨å•å°†POSTè¯·æ±‚æäº¤åˆ°â€œ/ logoutâ€ã€‚ æˆåŠŸæ³¨é”€åï¼Œä¼šå°†ç”¨æˆ·é‡å®šå‘åˆ°â€œ/ login?logoutâ€</li>
</ul>
</li>
<li><p>é‡å¯åº”ç”¨ï¼ŒæŸ¥çœ‹helloé¡µé¢ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/aca99b58ee812ceba9f5199905578418-9639" alt="helloæ–°é¡µé¢"></p>
</li>
<li><p>é»˜è®¤æ˜¯å±è”½postç­‰è¯·æ±‚çš„ï¼Œéœ€è¦å…è®¸è·¨åŸŸè¯·æ±‚ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// åœ¨configure(HttpSecurity http)ä¸­æ·»åŠ </span></span><br><span class="line">http.csrf().disable(); <span class="comment">//å…è®¸postã€delete</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>å¯†ç åŠ å¯†ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// æ–¹æ¡ˆ1</span></span><br><span class="line"> <span class="meta">@Bean</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> UserDetailsService <span class="title">userDetailsService</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        PasswordEncoder encoder = PasswordEncoderFactories.createDelegatingPasswordEncoder();</span><br><span class="line"></span><br><span class="line">        UserDetails user = User</span><br><span class="line">                .withUsername(<span class="string">"user"</span>)</span><br><span class="line">                .password(encoder.encode(<span class="string">"123456"</span>))</span><br><span class="line">                .roles(<span class="string">"USER"</span>)</span><br><span class="line">                .build();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> InMemoryUserDetailsManager(user);</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">// æ–¹æ¡ˆ2</span></span><br><span class="line"> <span class="meta">@Autowired</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">configureGlobal</span><span class="params">(AuthenticationManagerBuilder auth)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        auth</span><br><span class="line">                .inMemoryAuthentication()</span><br><span class="line">                .passwordEncoder(<span class="keyword">new</span> BCryptPasswordEncoder()).withUser(<span class="string">"user"</span>).password(<span class="keyword">new</span> BCryptPasswordEncoder().encode(<span class="string">"123456"</span>)).roles(<span class="string">"user"</span>);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>BCryptPasswordEncoderç›¸å…³çŸ¥è¯†ï¼š</p>
<ul>
<li>ç”¨æˆ·è¡¨çš„å¯†ç é€šå¸¸ä½¿ç”¨MD5ç­‰ä¸å¯é€†ç®—æ³•åŠ å¯†åå­˜å‚¨ï¼Œä¸ºé˜²æ­¢å½©è™¹è¡¨ç ´è§£æ›´ä¼šå…ˆä½¿ç”¨ä¸€ä¸ªç‰¹å®šçš„å­—ç¬¦ä¸²ï¼ˆå¦‚åŸŸåï¼‰åŠ å¯†ï¼Œç„¶åå†ä½¿ç”¨ä¸€ä¸ªéšæœºçš„saltï¼ˆç›å€¼ï¼‰åŠ å¯†</li>
<li>ç‰¹å®šå­—ç¬¦ä¸²æ˜¯ç¨‹åºä»£ç ä¸­å›ºå®šçš„ï¼Œsaltæ˜¯æ¯ä¸ªå¯†ç å•ç‹¬éšæœºï¼Œä¸€èˆ¬ç»™ç”¨æˆ·è¡¨åŠ ä¸€ä¸ªå­—æ®µå•ç‹¬å­˜å‚¨ï¼Œæ¯”è¾ƒéº»çƒ¦</li>
<li>BCryptç®—æ³•å°†saltéšæœºå¹¶æ··å…¥æœ€ç»ˆåŠ å¯†åçš„å¯†ç ï¼ŒéªŒè¯æ—¶ä¹Ÿæ— éœ€å•ç‹¬æä¾›ä¹‹å‰çš„saltï¼Œä»è€Œæ— éœ€å•ç‹¬å¤„ç†salté—®é¢˜</li>
</ul>
</li>
<li><p>è®¾ç½®æ‹’ç»æ—¶å€™çš„URLï¼š</p>
<ol>
<li><p>ä¿®æ”¹configure(final HttpSecurity http)ï¼Œæ·»åŠ ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">http</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  .and()</span><br><span class="line">  .exceptionHandling().accessDeniedPage(<span class="string">"403"</span>);</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ·»åŠ 403æ¨¡æ¿é¡µé¢ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">xmlns</span>=<span class="string">"http://www.w3.org/1999/xhtml"</span> <span class="attr">xmlns:th</span>=<span class="string">"http://www.thymeleaf.org"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">xmlns:sec</span>=<span class="string">"http://www.thymeleaf.org/thymeleaf-extras-springsecurity3"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Access Denied<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span> <span class="attr">th:inline</span>=<span class="string">"text"</span>&gt;</span>ç”¨æˆ· [[$&#123;#httpServletRequest.remoteUser&#125;]]ï¼Œä½ æ²¡æœ‰æƒé™è®¿é—®ï¼<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">th:action</span>=<span class="string">"@&#123;/logout&#125;"</span> <span class="attr">method</span>=<span class="string">"post"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">value</span>=<span class="string">"Sign Out"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>MvcConfigä¸­æ·»åŠ æ§åˆ¶å™¨ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">registry.addViewController(<span class="string">"/403"</span>).setViewName(<span class="string">"403"</span>);</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä¿®æ”¹è´¦æˆ·è§’è‰²ï¼Œä½¿å¾—è®¿é—®é¡µé¢æ²¡æœ‰æƒé™æ¥éªŒè¯æ˜¯å¦é…ç½®æˆåŠŸï¼Œé‡å¯åº”ç”¨ï¼</p>
</li>
<li><p><img src="" alt="ä¿®æ”¹æ‹’ç»é¡µé¢æ•ˆæœå›¾"></p>
</li>
</ol>
</li>
<li><p>è®¾ç½®ç™»å½•è¯·æ±‚çš„URLåŠå…¶å®ƒä¿¡æ¯ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">http</span><br><span class="line">        ...</span><br><span class="line">        <span class="comment">//è®¾ç½®ç™»é™†è¯·æ±‚çš„URL</span></span><br><span class="line">            .and().formLogin() <span class="comment">//è¡¨å•ç™»å½•</span></span><br><span class="line">            .loginProcessingUrl(LOGIN_URL) <span class="comment">//è¡¨å•ç™»å½•url</span></span><br><span class="line">            .defaultSuccessUrl(LOGIN_SUCCESS_URL) <span class="comment">//ç™»å½•æˆåŠŸé‡å®šå‘åœ°å€</span></span><br><span class="line">            .usernameParameter(USER_NAME_PARAMETER) <span class="comment">// ä¿®æ”¹htmlä¸­çš„ç”¨æˆ·å‚æ•°å</span></span><br><span class="line">            .passwordParameter(PASSWORD_PARAMETER); <span class="comment">// ä¿®æ”¹htmlä¸­çš„ç”¨æˆ·å¯†ç </span></span><br></pre></td></tr></table></figure>

<ul>
<li><p>æ ·ä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">http</span><br><span class="line">                .authorizeRequests()</span><br><span class="line">                .antMatchers(<span class="string">"/"</span>, <span class="string">"/home"</span>).permitAll()</span><br><span class="line">                .antMatchers(<span class="string">"/hello"</span>).hasRole(<span class="string">"user"</span>)</span><br><span class="line">                .anyRequest().authenticated()</span><br><span class="line">                .and()</span><br><span class="line">                .formLogin()</span><br><span class="line">                .loginPage(<span class="string">"/login"</span>)</span><br><span class="line">                .usernameParameter(<span class="string">"user"</span>)</span><br><span class="line">                .passwordParameter(<span class="string">"passwd"</span>)</span><br><span class="line">                .defaultSuccessUrl(<span class="string">"/"</span>,<span class="keyword">true</span>)</span><br><span class="line">                .permitAll()</span><br><span class="line">                .and()</span><br><span class="line">                .logout()</span><br><span class="line">                .permitAll()</span><br><span class="line">                .and()</span><br><span class="line">                .exceptionHandling().accessDeniedPage(<span class="string">"/403"</span>);</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>å¼€å¯ï¼ˆRemember-meï¼‰è®°ä½æˆ‘åŠŸèƒ½:</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">http</span><br><span class="line">    ...</span><br><span class="line">    .and().remeberMe().tokenValiditySeconds(<span class="number">3600</span>).key(<span class="string">"key"</span>)</span><br><span class="line"><span class="comment">// å­˜å‚¨ä¸€ä¸ªcookie 1å°æ—¶è¿‡æœŸï¼Œcookie çš„åå­—å«åškey</span></span><br></pre></td></tr></table></figure>

<ul>
<li><p>éœ€è¦åœ¨ç™»å½•é¡µé¢é‡Œæ·»åŠ è®°ä½æˆ‘å¤é€‰æ¡†ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">name</span>=<span class="string">"remeber-me"</span> <span class="attr">yupe</span>=<span class="string">"checkbox"</span>&gt;</span>è®°ä½æˆ‘<span class="tag">&lt;/<span class="name">input</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/030c3c170edcc09a9f8252159001f86d-35619" alt="è®°ä½æˆ‘åŸºæœ¬åŸç†"></p>
</li>
</ul>
</li>
<li><p>è®¾ç½®ç™»å‡ºï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">http</span><br><span class="line">   ...</span><br><span class="line">   <span class="comment">//è®¾ç½®ç™»å‡º</span></span><br><span class="line">        .and().logout().logoutUrl(LOGOUT_URL)</span><br><span class="line">        .logoutSuccessUrl(LOGOUT_SUCCESS_URL)</span><br><span class="line">        .deleteCookies(<span class="string">"JSESSIONID"</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p>é…ç½®çŠ¶æ€ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">http</span><br><span class="line">    .sessionManagement()</span><br><span class="line">    .sessionCreationPolicy(SessionCreationPolicy.STATELESS);</span><br></pre></td></tr></table></figure>

<ul>
<li>ALWAYSâ€”â€”æ²¡æœ‰Sessionåˆ™åˆ›å»º</li>
<li>NEVERâ€”â€”å¦‚æœæœ‰éœ€è¦å°±åˆ›å»ºï¼ˆé»˜è®¤çš„ï¼‰</li>
<li>IF_REQUIREDâ€”â€”å¦‚æœæœ‰åˆ™ä½¿ç”¨Sessionï¼Œä¸ä¼šè‡ªå·±åˆ›å»ºSession</li>
<li>STATELESSâ€”â€”ä¸åˆ›å»ºå¹¶ä¸”ä¸ä½¿ç”¨Session</li>
</ul>
</li>
</ol>
<h2 id="å‚æ•°è¯´æ˜"><a href="#å‚æ•°è¯´æ˜" class="headerlink" title="å‚æ•°è¯´æ˜"></a>å‚æ•°è¯´æ˜</h2><h3 id="æ³¨è§£-EnableWebSecurity"><a href="#æ³¨è§£-EnableWebSecurity" class="headerlink" title="æ³¨è§£ @EnableWebSecurity"></a>æ³¨è§£ @EnableWebSecurity</h3><ol>
<li>æ³¨è§£ WebSecurityConfigurer ç±»å‹çš„ç±»ï¼Œæˆ–è€…åˆ©ç”¨@EnableWebSecurity æ³¨è§£ç»§æ‰¿ WebSecurityConfigurerAdapterçš„ç±»ï¼Œè¿™æ ·å°±æ„æˆäº† Spring Security çš„é…ç½®</li>
</ol>
<h3 id="WebSecurityConfigurerAdapter"><a href="#WebSecurityConfigurerAdapter" class="headerlink" title="WebSecurityConfigurerAdapter"></a>WebSecurityConfigurerAdapter</h3><ol>
<li>WebSecurityConfigurerAdapter æä¾›äº†ä¸€ç§ä¾¿åˆ©çš„æ–¹å¼å»åˆ›å»º WebSecurityConfigurerçš„å®ä¾‹ï¼Œåªéœ€è¦é‡å†™ WebSecurityConfigurerAdapter çš„æ–¹æ³•ï¼Œå³å¯é…ç½®æ‹¦æˆªä»€ä¹ˆURLã€è®¾ç½®ä»€ä¹ˆæƒé™ç­‰å®‰å…¨æ§åˆ¶ï¼›</li>
<li>åœ¨æ ·ä¾‹ä¸­å°±æ˜¯ç»§æ‰¿è¿™ä¸ªç±»ï¼Œç„¶åé‡å†™æ–¹æ³•è¿›è¡Œæƒé™ä»¥åŠç”¨æˆ·è®¤è¯çš„é…ç½®ï¼›</li>
</ol>
<h3 id="UserDetails"><a href="#UserDetails" class="headerlink" title="UserDetails"></a>UserDetails</h3><ol>
<li><p>å­˜å‚¨çš„æ˜¯ç”¨æˆ·ä¿¡æ¯ï¼Œå…¶å®šä¹‰å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">UserDetails</span> <span class="keyword">extends</span> <span class="title">Serializable</span> </span>&#123;</span><br><span class="line">	Collection&lt;? extends GrantedAuthority&gt; getAuthorities();</span><br><span class="line">	<span class="function">String <span class="title">getPassword</span><span class="params">()</span></span>;</span><br><span class="line">	<span class="function">String <span class="title">getUsername</span><span class="params">()</span></span>;</span><br><span class="line">	<span class="function"><span class="keyword">boolean</span> <span class="title">isAccountNonExpired</span><span class="params">()</span></span>;</span><br><span class="line">	<span class="function"><span class="keyword">boolean</span> <span class="title">isAccountNonLocked</span><span class="params">()</span></span>;</span><br><span class="line">	<span class="function"><span class="keyword">boolean</span> <span class="title">isCredentialsNonExpired</span><span class="params">()</span></span>;</span><br><span class="line">	<span class="function"><span class="keyword">boolean</span> <span class="title">isEnabled</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>å„ä¸ªæ–¹æ³•çš„å«ä¹‰</p>
<ul>
<li><code>getAuthorites</code>ï¼šè·å–ç”¨æˆ·æƒé™ï¼Œæœ¬è´¨ä¸Šæ˜¯ç”¨æˆ·çš„è§’è‰²ä¿¡æ¯ã€‚</li>
<li><code>getPassword</code>: è·å–å¯†ç </li>
<li><code>getUserName</code>: è·å–ç”¨æˆ·åã€‚</li>
<li><code>isAccountNonExpired</code>: è´¦æˆ·æ˜¯å¦è¿‡æœŸ</li>
<li><code>isAccountNonLocked</code>: è´¦æˆ·æ˜¯å¦è¢«é”å®šã€‚</li>
<li><code>isCredentialsNonExpired</code>: å¯†ç æ˜¯å¦è¿‡æœŸ</li>
<li><code>isEnabled</code>: è´¦æˆ·æ˜¯å¦å¯ç”¨</li>
</ul>
</li>
</ol>
<h2 id="SpringBootç½‘ç«™https"><a href="#SpringBootç½‘ç«™https" class="headerlink" title="SpringBootç½‘ç«™https"></a>SpringBootç½‘ç«™https</h2><ol>
<li><p>å€ŸåŠ© Java è‡ªå¸¦çš„ JDK ç®¡ç†å·¥å…· keytool æ¥ç”Ÿæˆä¸€ä¸ªå…è´¹çš„ https è¯ä¹¦ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">keytool -genkey -alias tomcathttps -keyalg RSA -keysize 2048 -keystore ./secret.p12 -validity 365</span><br></pre></td></tr></table></figure>
</li>
<li><p>å‘½ä»¤å«ä¹‰å¦‚ä¸‹ï¼š</p>
<ul>
<li>genkey è¡¨ç¤ºè¦åˆ›å»ºä¸€ä¸ªæ–°çš„å¯†é’¥ã€‚</li>
<li>alias è¡¨ç¤º keystore çš„åˆ«å</li>
<li>keyalg è¡¨ç¤ºä½¿ç”¨çš„åŠ å¯†ç®—æ³•æ˜¯ RSA ï¼Œä¸€ç§éå¯¹ç§°åŠ å¯†ç®—æ³•ã€‚</li>
<li>keysize è¡¨ç¤ºå¯†é’¥çš„é•¿åº¦</li>
<li>keystore è¡¨ç¤ºç”Ÿæˆçš„å¯†é’¥å­˜æ”¾ä½ç½®</li>
<li>validity è¡¨ç¤ºå¯†é’¥çš„æœ‰æ•ˆæ—¶é—´ï¼Œå•ä½ä¸ºå¤©</li>
</ul>
</li>
<li><p>æ‰§è¡Œå®Œå‘½ä»¤ä¹‹åç”Ÿæˆsecret.p12è¯ä¹¦ï¼Œå°†è¯ä¹¦æ‹·è´åˆ°è‡ªå·±çš„é¡¹ç›®çš„resourcesç›®å½•ä¸‹ï¼›</p>
</li>
<li><p>ä¿®æ”¹application.properties:</p>
<figure class="highlight properties"><table><tr><td class="code"><pre><span class="line"><span class="meta">server.port</span>=<span class="string">8080</span></span><br><span class="line"><span class="meta">server.ssl.key-store</span>=<span class="string">classpath:secret.p12</span></span><br><span class="line"><span class="meta">server.ssl.key-alias</span>=<span class="string">tomcathttps</span></span><br><span class="line"><span class="meta">server.ssl.key-store-password</span>=<span class="string">12345678</span></span><br></pre></td></tr></table></figure>

<ul>
<li>key-storeè¡¨ç¤ºå¯†é’¥æ–‡ä»¶å</li>
<li>key-aliasè¡¨ç¤ºå¯†é’¥åˆ«å</li>
<li>key-store-passwordå°±æ˜¯åœ¨cmdå‘½ä»¤æ‰§è¡Œè¿‡ç¨‹ä¸­è¾“å…¥çš„å¯†ç </li>
</ul>
</li>
<li><p>é‡å¯é¡¹ç›®å°±å¯ä»¥httpsè®¿é—®äº†ï¼</p>
</li>
</ol>
<hr>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>Spring Securityå¯ä»¥è§£å†³å¾ˆå¤šå®‰å…¨é—®é¢˜ï¼Œç›¸å¯¹æŠ€æœ¯ä¹Ÿæ¯”è¾ƒæˆç†Ÿï¼Œè¿˜å¯ä»¥æ— ç¼é›†æˆï¼Œè¿™éƒ¨åˆ†åªæ˜¯æ¶‰åŠåˆ°äº†åŸºç¡€çš„Spring Securityçš„å®éªŒï¼Œè¿˜æœ‰tokenã€é‡å†™è¿‡æ»¤å™¨ç­‰å®ç°æ›´é«˜çº§çš„å®‰å…¨åŠŸèƒ½éœ€è¦å­¦ä¹ ï¼è¿™éƒ¨åˆ†å°±å½“æ˜¯ä¸€ä¸ªå…¥é—¨çº§åˆ«çš„æ–‡ç« å§ï¼Œç»“åˆäº†å¾ˆå¤šçš„åšå®¢ä»¥åŠå®˜æ–¹æ–‡æ¡£ï¼è´´ä¸€ä¸‹å®˜æ–¹çš„LOGOå§ï¼</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/6e435ca111730295046db18a281608aa-72317" alt="å®˜æ–¹logo"></p>
]]></content>
      <categories>
        <category>SpringBoot</category>
      </categories>
  </entry>
  <entry>
    <title>Spring Security &amp; Token Quick Start</title>
    <url>/2020/07/06/Spring-Security-Token-Quick-Start/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>JWTï¼ˆJson Web Tokenï¼ŒJson Web ä»¤ç‰Œï¼‰ æ˜¯ä¸€ç§åŸºäºJSONçš„å¼€æ”¾æ ‡å‡†ï¼ˆ<a href="https://tools.ietf.org/html/rfc7519" target="_blank" rel="noopener">RFC 7519</a>ï¼‰ï¼Œå®šä¹‰äº†ä¸€ç§å®½æ¾ä¸”ç´§å‡‘çš„æ•°æ®ç»„åˆæ–¹å¼ï¼Œä½¿ç”¨ JSON  å¯¹è±¡åœ¨å„åº”ç”¨ä¹‹é—´ä¼ è¾“åŠ å¯†ä¿¡æ¯ã€‚è¯¥ JSON å¯¹è±¡å¯ä»¥é€šè¿‡æ•°å­—ç­¾åè¿›è¡Œé‰´ç­¾å’Œæ ¡éªŒï¼Œç‰¹åˆ«é€‚ç”¨äºåˆ†å¸ƒå¼ç«™ç‚¹çš„å•ç‚¹ç™»å½•ï¼ˆSSOï¼‰åœºæ™¯ã€‚JWTçš„å£°æ˜ä¸€èˆ¬è¢«ç”¨æ¥åœ¨èº«ä»½æä¾›è€…å’ŒæœåŠ¡æä¾›è€…é—´ä¼ é€’è¢«è®¤è¯çš„ç”¨æˆ·èº«ä»½ä¿¡æ¯ï¼Œä»¥ä¾¿äºä»èµ„æºæœåŠ¡å™¨è·å–èµ„æºï¼Œä¹Ÿå¯ä»¥å¢åŠ ä¸€äº›é¢å¤–çš„å…¶å®ƒä¸šåŠ¡é€»è¾‘æ‰€å¿…é¡»çš„å£°æ˜ä¿¡æ¯ã€‚æœ¬æ–‡ä¸»è¦ä»‹ç»å¦‚ä½•åœ¨SpringBootä¸­ä½¿ç”¨SpringSecurityã€JWTå®ç°å®‰å…¨è®¤è¯ã€‚</p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="åŸºç¡€çŸ¥è¯†"><a href="#åŸºç¡€çŸ¥è¯†" class="headerlink" title="åŸºç¡€çŸ¥è¯†"></a>åŸºç¡€çŸ¥è¯†</h2><ol>
<li><p><strong>æœ‰çŠ¶æ€æœåŠ¡</strong>ï¼šæœåŠ¡ç«¯éœ€è¦è®°å½•æ¯æ¬¡ä¼šè¯çš„å®¢æˆ·ç«¯ä¿¡æ¯ï¼Œä»è€Œè¯†åˆ«å®¢æˆ·ç«¯èº«ä»½ï¼Œæ ¹æ®ç”¨æˆ·èº«ä»½å¯¹è¯·æ±‚è¿›è¡Œå¤„ç†ï¼Œå…¸å‹çš„è®¾è®¡å¦‚Tomcatä¸­çš„Sessionï¼›</p>
</li>
<li><p>æœ‰çŠ¶æ€æœåŠ¡çš„ç¼ºé™·ï¼š</p>
<ul>
<li>æœåŠ¡ç«¯ä¿å­˜å¤§é‡æ•°æ®ï¼Œå¢åŠ æœåŠ¡ç«¯å‹åŠ›</li>
<li>æœåŠ¡ç«¯ä¿å­˜ç”¨æˆ·çŠ¶æ€ï¼Œä¸æ”¯æŒé›†ç¾¤åŒ–éƒ¨ç½²</li>
</ul>
</li>
<li><p><strong>æ— çŠ¶æ€æœåŠ¡</strong>ï¼šç›¸å¯¹äºæœ‰çŠ¶æ€æœåŠ¡è€Œè¨€ï¼ŒæœåŠ¡ç«¯ä¸ä¿å­˜ä»»ä½•å®¢æˆ·ç«¯è¯·æ±‚è€…ä¿¡æ¯ï¼Œå®¢æˆ·ç«¯çš„æ¯æ¬¡è¯·æ±‚å¿…é¡»å…·å¤‡è‡ªæè¿°ä¿¡æ¯ï¼Œé€šè¿‡è¿™äº›ä¿¡æ¯è¯†åˆ«å®¢æˆ·ç«¯èº«ä»½ï¼›</p>
</li>
<li><p>æ— çŠ¶æ€æœåŠ¡çš„ä¼˜åŠ¿ï¼š</p>
<ul>
<li>å®¢æˆ·ç«¯è¯·æ±‚ä¸ä¾èµ–æœåŠ¡ç«¯çš„ä¿¡æ¯ï¼Œå¤šæ¬¡è¯·æ±‚ä¸éœ€è¦å¿…é¡»è®¿é—®åˆ°åŒä¸€å°æœåŠ¡å™¨</li>
<li>æœåŠ¡ç«¯çš„é›†ç¾¤å’ŒçŠ¶æ€å¯¹å®¢æˆ·ç«¯é€æ˜</li>
<li>æœåŠ¡ç«¯å¯ä»¥ä»»æ„çš„è¿ç§»å’Œä¼¸ç¼©ï¼ˆå¯ä»¥æ–¹ä¾¿çš„è¿›è¡Œé›†ç¾¤åŒ–éƒ¨ç½²ï¼‰</li>
<li>å‡å°æœåŠ¡ç«¯å­˜å‚¨å‹åŠ›</li>
</ul>
</li>
<li><p>æ— çŠ¶æ€æœåŠ¡çš„å®ç°ä¸€èˆ¬åŒ–æµç¨‹ï¼š</p>
<ol>
<li>å®¢æˆ·ç«¯å‘é€è´¦æˆ·å/å¯†ç åˆ°æœåŠ¡ç«¯è¿›è¡Œè®¤è¯ï¼›</li>
<li>è®¤è¯é€šè¿‡åï¼ŒæœåŠ¡ç«¯å°†ç”¨æˆ·ä¿¡æ¯åŠ å¯†å¹¶ä¸”ç¼–ç æˆä¸€ä¸ªtokenï¼Œè¿”å›ç»™å®¢æˆ·ç«¯ï¼›</li>
<li>ä»¥åå®¢æˆ·ç«¯æ¯æ¬¡å‘é€è¯·æ±‚ï¼Œéƒ½éœ€è¦æºå¸¦è®¤è¯çš„tokenï¼›</li>
<li>æœåŠ¡ç«¯å¯¹å®¢æˆ·ç«¯å‘é€æ¥çš„tokenè¿›è¡Œè§£å¯†ï¼Œåˆ¤æ–­æ˜¯å¦æœ‰æ•ˆï¼Œå¹¶ä¸”è·å–ç”¨æˆ·ç™»å½•ä¿¡æ¯ã€‚</li>
</ol>
</li>
<li><p>ä»¤ç‰Œï¼ˆTokenï¼‰æŒ‡ Security Token(å®‰å…¨ä»¤ç‰Œ)ï¼Œå¯ä»¥åˆ†ä¸º Hardware Token(ç¡¬ä»¶ä»¤ç‰Œ)ï¼ŒAuthentication Token(æˆæƒä»¤ç‰Œ)ï¼ŒUSB Token(USBä»¤ç‰Œ)ï¼ŒCryptographic Token(åŠ å¯†ä»¤ç‰Œ)ï¼ŒVirtual Token(è™šæ‹Ÿä»¤ç‰Œ)å’Œ Key Fob(é’¥åŒ™å¡)ï¼š</p>
<ul>
<li>éªŒè¯èº«ä»½çš„åˆæ³•æ€§ï¼Œä»¥å…è®¸è®¡ç®—æœºç³»ç»Ÿçš„ç”¨æˆ·å¯ä»¥æ“ä½œç³»ç»Ÿèµ„æº</li>
<li>ä¸ºè®¡ç®—æœºç³»ç»Ÿæä¾›ä¸€ä¸ªå¯ä»¥è¯†åˆ«ç”¨æˆ·çš„ä»»æ„æ•°å€¼</li>
<li>ç”Ÿæ´»ä¸­å¸¸è§çš„ä»¤ç‰Œå¦‚ï¼šç™»å½•å¯†ç ï¼ŒæŒ‡çº¹ï¼Œå£°çº¹ï¼Œé—¨ç¦å¡ï¼Œé“¶è¡Œç”µå­å¡ç­‰</li>
</ul>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/473d8ffe9e3bd71472ff4a27f594cea1-432017" alt="Tokenå›¾"></p>
</li>
<li><p><strong>ä¼ ç»Ÿçš„sessionè®¤è¯</strong>ï¼šåœ¨æœåŠ¡å™¨å­˜å‚¨ä¸€ä»½ç”¨æˆ·ç™»å½•çš„ä¿¡æ¯ï¼Œè¿™ä»½ç™»å½•ä¿¡æ¯ä¼šåœ¨å“åº”æ—¶ä¼ é€’ç»™æµè§ˆå™¨ï¼Œå‘Šè¯‰å…¶ä¿å­˜ä¸ºcookie,ä»¥ä¾¿ä¸‹æ¬¡è¯·æ±‚æ—¶å‘é€ç»™æˆ‘ä»¬çš„åº”ç”¨ï¼Œè¿™æ ·æˆ‘ä»¬çš„åº”ç”¨å°±èƒ½è¯†åˆ«è¯·æ±‚æ¥è‡ªå“ªä¸ªç”¨æˆ·äº†ï¼›</p>
</li>
<li><p>ä¼ ç»Ÿçš„Sessionè®¤è¯æ˜¯åŸºäºcookieæ¥è¿›è¡Œç”¨æˆ·è¯†åˆ«çš„, cookieå¦‚æœè¢«æˆªè·ï¼Œç”¨æˆ·å°±ä¼šå¾ˆå®¹æ˜“å—åˆ°è·¨ç«™è¯·æ±‚ä¼ªé€ çš„æ”»å‡»ï¼›</p>
</li>
<li><p>ä¼ ç»Ÿçš„Sessionè®¤è¯ä¸€èˆ¬åŒ–æµç¨‹ï¼š</p>
<ol>
<li>ç”¨æˆ·å‘æœåŠ¡å™¨å‘é€ç”¨æˆ·åå’Œå¯†ç ï¼›</li>
<li>æœåŠ¡å™¨éªŒè¯é€šè¿‡åï¼Œåœ¨å½“å‰å¯¹è¯ï¼ˆsessionï¼‰é‡Œé¢ä¿å­˜ç›¸å…³æ•°æ®ï¼Œæ¯”å¦‚ç”¨æˆ·è§’è‰²ã€ç™»å½•æ—¶é—´ç­‰ç­‰ï¼›</li>
<li>æœåŠ¡å™¨å‘ç”¨æˆ·è¿”å›ä¸€ä¸ª session_idï¼Œå†™å…¥ç”¨æˆ·çš„ Cookieï¼›</li>
<li>ç”¨æˆ·éšåçš„æ¯ä¸€æ¬¡è¯·æ±‚ï¼Œéƒ½ä¼šé€šè¿‡ Cookieï¼Œå°† session_id ä¼ å›æœåŠ¡å™¨ï¼›</li>
<li>æœåŠ¡å™¨æ”¶åˆ° session_idï¼Œæ‰¾åˆ°å‰æœŸä¿å­˜çš„æ•°æ®ï¼Œç”±æ­¤å¾—çŸ¥ç”¨æˆ·çš„èº«ä»½ã€‚</li>
</ol>
</li>
<li><p>è¿™ç§æ¨¡å¼çš„é—®é¢˜åœ¨äºæ‰©å±•æ€§ï¼ˆscalingï¼‰ä¸å¥½ã€‚å•æœºå½“ç„¶æ²¡æœ‰é—®é¢˜ï¼Œå¦‚æœæ˜¯æœåŠ¡å™¨é›†ç¾¤ï¼Œæˆ–è€…æ˜¯è·¨åŸŸçš„æœåŠ¡å¯¼å‘æ¶æ„ï¼Œå°±è¦æ±‚ session æ•°æ®å…±äº«ï¼Œæ¯å°æœåŠ¡å™¨éƒ½èƒ½å¤Ÿè¯»å– sessionï¼Œè§£å†³æ–¹æ¡ˆä¸€èˆ¬å¦‚ä¸‹ï¼š</p>
<ul>
<li>session æ•°æ®æŒä¹…åŒ–ï¼Œå†™å…¥æ•°æ®åº“æˆ–åˆ«çš„æŒä¹…å±‚ã€‚å„ç§æœåŠ¡æ”¶åˆ°è¯·æ±‚åï¼Œéƒ½å‘æŒä¹…å±‚è¯·æ±‚æ•°æ®ã€‚è¿™ç§æ–¹æ¡ˆçš„ä¼˜ç‚¹æ˜¯æ¶æ„æ¸…æ™°ï¼Œç¼ºç‚¹æ˜¯å·¥ç¨‹é‡æ¯”è¾ƒå¤§ã€‚å¦å¤–ï¼ŒæŒä¹…å±‚ä¸‡ä¸€æŒ‚äº†ï¼Œå°±ä¼šå•ç‚¹å¤±è´¥</li>
<li>æœåŠ¡å™¨ç´¢æ€§ä¸ä¿å­˜ session æ•°æ®äº†ï¼Œæ‰€æœ‰æ•°æ®éƒ½ä¿å­˜åœ¨å®¢æˆ·ç«¯ï¼Œæ¯æ¬¡è¯·æ±‚éƒ½å‘å›æœåŠ¡å™¨</li>
</ul>
</li>
</ol>
<h2 id="JWT"><a href="#JWT" class="headerlink" title="JWT"></a>JWT</h2><h3 id="åŸºç¡€çŸ¥è¯†-1"><a href="#åŸºç¡€çŸ¥è¯†-1" class="headerlink" title="åŸºç¡€çŸ¥è¯†"></a>åŸºç¡€çŸ¥è¯†</h3><ol>
<li><p>ä¸€ä¸ª JWT é€šå¸¸æœ‰ Header (å¤´)ï¼ŒPayload (æœ‰æ•ˆè½½è·)å’Œ Signature (ç­¾å)ä¸‰ä¸ªéƒ¨åˆ†ç»„æˆï¼Œä¸‰è€…ä¹‹é—´ä½¿ç”¨â€œ.â€é“¾æ¥ï¼Œæ ¼å¼å¦‚ä¸‹ï¼š</p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">header.payload.signature</span><br></pre></td></tr></table></figure>

<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/6a949b8969e914016f12ea4f3f64304d-193610" alt="JWTæ ¼å¼å›¾"></p>
</li>
<li><p>Headerï¼šå¤´éƒ¨ï¼Œé€šå¸¸å¤´éƒ¨æœ‰ä¸¤éƒ¨åˆ†ä¿¡æ¯ï¼š</p>
<ul>
<li>å£°æ˜ç±»å‹ï¼Œå¯ä»¥æ˜¯JWTç­‰</li>
<li>åŠ å¯†ç®—æ³•ï¼Œè‡ªå®šä¹‰</li>
</ul>
</li>
<li><p>Payloadï¼šè½½è·ï¼Œå°±æ˜¯æœ‰æ•ˆæ•°æ®ï¼Œåœ¨å®˜æ–¹æ–‡æ¡£ä¸­(RFC7519)ï¼Œè¿™é‡Œç»™äº†7ä¸ªç¤ºä¾‹ä¿¡æ¯ï¼š</p>
<ul>
<li>iss (issuer)ï¼šè¡¨ç¤ºç­¾å‘äºº</li>
<li>exp (expiration time)ï¼šè¡¨ç¤ºtokenè¿‡æœŸæ—¶é—´</li>
<li>sub (subject)ï¼šä¸»é¢˜</li>
<li>aud (audience)ï¼šå—ä¼—</li>
<li>nbf (Not Before)ï¼šç”Ÿæ•ˆæ—¶é—´</li>
<li>iat (Issued At)ï¼šç­¾å‘æ—¶é—´</li>
<li>jti (JWT ID)ï¼šç¼–å·</li>
</ul>
</li>
<li><p>Signatureï¼šç­¾åï¼Œæ˜¯æ•´ä¸ªæ•°æ®çš„è®¤è¯ä¿¡æ¯ã€‚ä¸€èˆ¬æ ¹æ®å‰ä¸¤æ­¥çš„æ•°æ®ï¼Œå†åŠ ä¸ŠæœåŠ¡çš„çš„å¯†é’¥secretï¼ˆå¯†é’¥ä¿å­˜åœ¨æœåŠ¡ç«¯ï¼Œä¸èƒ½æ³„éœ²ç»™å®¢æˆ·ç«¯ï¼‰ï¼Œé€šè¿‡Headerä¸­é…ç½®çš„åŠ å¯†ç®—æ³•ç”Ÿæˆã€‚ç”¨äºéªŒè¯æ•´ä¸ªæ•°æ®å®Œæ•´å’Œå¯é æ€§ï¼›</p>
</li>
<li><p>ä¸€ä¸ªJWTçš„Headerã€Payloadå¯ä»¥é€šè¿‡Base64è¿›è¡Œè§£ç è·å¾—æ•°æ®å†…å®¹ï¼ŒSignatureéœ€è¦é€šè¿‡Headerä»¥åŠPayloadä»¥åŠåŠ å¯†å¯†é’¥é€šè¿‡ä½¿ç”¨çš„åŠ å¯†ç®—æ³•è®¡ç®—å¾—åˆ°!</p>
</li>
<li><p>JWT ä½œä¸ºä¸€ç§è§„èŒƒï¼Œå¹¶æ²¡æœ‰å’ŒæŸä¸€ç§è¯­è¨€ç»‘å®šåœ¨ä¸€èµ·ï¼Œå¸¸ç”¨çš„Java å®ç°æ˜¯GitHub ä¸Šçš„å¼€æºé¡¹ç›® jjwtï¼Œåœ°å€å¦‚ä¸‹ï¼š <a href="https://github.com/jwtk/jjwtï¼›" target="_blank" rel="noopener">https://github.com/jwtk/jjwtï¼›</a></p>
</li>
<li><p>å®˜ç½‘ï¼š<a href="https://jwt.io/" target="_blank" rel="noopener">https://jwt.io/</a></p>
</li>
</ol>
<h3 id="åˆ›å»ºJWTç¤ºä¾‹"><a href="#åˆ›å»ºJWTç¤ºä¾‹" class="headerlink" title="åˆ›å»ºJWTç¤ºä¾‹"></a>åˆ›å»ºJWTç¤ºä¾‹</h3><ol>
<li><p>æ ‡å¤´ç”¨äºå­˜å‚¨æœ‰å…³å¦‚ä½•è®¡ç®—JWTç­¾åçš„ä¿¡æ¯ï¼Œå¦‚å¯¹è±¡ç±»å‹ï¼Œç­¾åç®—æ³•ç­‰ã€‚ä¸‹é¢æ˜¯JWTä¸­Headeréƒ¨åˆ†çš„JSONå¯¹è±¡ç¤ºä¾‹ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/529861c42cedfd1cc6f980d3fad304ae-6665" alt="Header"></p>
<ul>
<li>åœ¨æ­¤ JSON å¯¹è±¡ä¸­ï¼Œtype è¡¨ç¤ºè¯¥å¯¹è±¡ä¸º JWT,alg è¡¨ç¤ºåˆ›å»º JWT æ—¶ä½¿ç”¨HMAC-SHA256 æ•£åˆ—ç®—æ³•è®¡ç®—ç­¾å</li>
</ul>
</li>
<li><p>æœ‰æ•ˆè½½è·ä¸»è¦ç”¨äºå­˜å‚¨ç”¨æˆ·ä¿¡æ¯ï¼Œå¦‚ç”¨æˆ· IDï¼ŒEmailï¼Œè§’è‰²å’Œæƒé™ä¿¡æ¯ç­‰ã€‚ä¸‹é¢æ˜¯æœ‰æ•ˆè½½è·çš„ä¸€ä¸ªç®€å•ç¤ºä¾‹ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/9044668ad84a07f54e76e2a1c3b6f46c-10859" alt="Payload"></p>
</li>
<li><p>ç­¾åéœ€è¦ä½¿ç”¨ Base64URL ç¼–ç æŠ€æœ¯å¯¹æ ‡å¤´ (Header å’Œæœ‰æ•ˆè½½è·(Payload) è¿›è¡Œç¼–ç ï¼Œå¹¶ä½œä¸ºå‚æ•°å’Œç§˜é’¥ä¸€åŒä¼ é€’ç»™ç­¾åç®—æ³•ï¼Œç”Ÿæˆæœ€ç»ˆçš„ç­¾å (Signature)ã€‚ä»¥ HMAC-SHA256 ç®—æ³•ä¸ºä¾‹ï¼Œä¸‹é¢æ˜¯ç”Ÿæˆç­¾åçš„ä¸€ä¸ªä¼ªä»£ç ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">HMACSHA256(</span><br><span class="line">  base64UrlEncode(header) + <span class="string">"."</span> +</span><br><span class="line">  base64UrlEncode(payload),</span><br><span class="line">  secret)</span><br></pre></td></tr></table></figure>

<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/34e55cd359bbb28fb49e6214ae57727e-13744" alt="Signature"></p>
</li>
<li><p>æ•´ä¸ªè¿‡ç¨‹å¦‚ä¸‹ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/9c299b3ac18ec8a50d2d790363ca3bb5-205051" alt="JWTæµç¨‹"></p>
<ul>
<li>ç®—å‡ºç­¾åä»¥åï¼ŒæŠŠ Headerã€Payloadã€Signature ä¸‰ä¸ªéƒ¨åˆ†æ‹¼æˆä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œæ¯ä¸ªéƒ¨åˆ†ä¹‹é—´ç”¨â€ç‚¹â€ï¼ˆ<code>.</code>ï¼‰åˆ†éš”ï¼Œå°±å¯ä»¥å¾—åˆ°å®Œæ•´çš„JWT</li>
</ul>
</li>
</ol>
<h3 id="JWTäº¤äº’æµç¨‹"><a href="#JWTäº¤äº’æµç¨‹" class="headerlink" title="JWTäº¤äº’æµç¨‹"></a>JWTäº¤äº’æµç¨‹</h3><ol>
<li><p>æ•´ä½“æµç¨‹ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/910621f8156583b410713eb21748c8e0-231662" alt="JWTæµç¨‹"></p>
</li>
<li><p>æ‰§è¡Œæ­¥éª¤è¯´æ˜ï¼š</p>
<ol>
<li>åº”ç”¨ç¨‹åºæˆ–å®¢æˆ·ç«¯å‘æˆæƒæœåŠ¡å™¨è¯·æ±‚æˆæƒ</li>
<li>è·å–åˆ°æˆæƒåï¼ŒæˆæƒæœåŠ¡å™¨ä¼šå‘åº”ç”¨ç¨‹åºè¿”å›è®¿é—®ä»¤ç‰Œ</li>
<li>åº”ç”¨ç¨‹åºä½¿ç”¨è®¿é—®ä»¤ç‰Œæ¥è®¿é—®å—ä¿æŠ¤èµ„æºï¼ˆå¦‚APIï¼‰</li>
</ol>
</li>
<li><p>JWTç­¾å‘çš„tokenä¸­å·²ç»åŒ…å«äº†ç”¨æˆ·çš„èº«ä»½ä¿¡æ¯ï¼Œå¹¶ä¸”æ¯æ¬¡è¯·æ±‚éƒ½ä¼šæºå¸¦ï¼Œè¿™æ ·æœåŠ¡çš„å°±æ— éœ€ä¿å­˜ç”¨æˆ·ä¿¡æ¯ï¼Œç”šè‡³æ— éœ€å»æ•°æ®åº“æŸ¥è¯¢ï¼Œè¿™æ ·å°±å®Œå…¨ç¬¦åˆäº†RESTfulçš„æ— çŠ¶æ€è§„èŒƒã€‚</p>
</li>
</ol>
<h3 id="JWTæ³¨æ„äº‹é¡¹"><a href="#JWTæ³¨æ„äº‹é¡¹" class="headerlink" title="JWTæ³¨æ„äº‹é¡¹"></a>JWTæ³¨æ„äº‹é¡¹</h3><ol>
<li>JWT é»˜è®¤æ˜¯ä¸åŠ å¯†ï¼Œä½†ä¹Ÿæ˜¯å¯ä»¥åŠ å¯†çš„ã€‚ç”ŸæˆåŸå§‹ Token ä»¥åï¼Œå¯ä»¥ç”¨å¯†é’¥å†åŠ å¯†ä¸€æ¬¡ï¼›</li>
<li>JWT ä¸åŠ å¯†çš„æƒ…å†µä¸‹ï¼Œä¸èƒ½å°†ç§˜å¯†æ•°æ®å†™å…¥ JWTï¼›</li>
<li>JWT ä¸ä»…å¯ä»¥ç”¨äºè®¤è¯ï¼Œä¹Ÿå¯ä»¥ç”¨äºäº¤æ¢ä¿¡æ¯ã€‚æœ‰æ•ˆä½¿ç”¨ JWTï¼Œå¯ä»¥é™ä½æœåŠ¡å™¨æŸ¥è¯¢æ•°æ®åº“çš„æ¬¡æ•°ï¼›</li>
<li>JWT çš„æœ€å¤§ç¼ºç‚¹æ˜¯ï¼Œç”±äºæœåŠ¡å™¨ä¸ä¿å­˜ session çŠ¶æ€ï¼Œå› æ­¤æ— æ³•åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­åºŸæ­¢æŸä¸ª tokenï¼Œæˆ–è€…æ›´æ”¹ token çš„æƒé™ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸€æ—¦ JWT ç­¾å‘äº†ï¼Œåœ¨åˆ°æœŸä¹‹å‰å°±ä¼šå§‹ç»ˆæœ‰æ•ˆï¼Œé™¤éæœåŠ¡å™¨éƒ¨ç½²é¢å¤–çš„é€»è¾‘ï¼›</li>
<li>JWT æœ¬èº«åŒ…å«äº†è®¤è¯ä¿¡æ¯ï¼Œä¸€æ—¦æ³„éœ²ï¼Œä»»ä½•äººéƒ½å¯ä»¥è·å¾—è¯¥ä»¤ç‰Œçš„æ‰€æœ‰æƒé™ã€‚ä¸ºäº†å‡å°‘ç›—ç”¨ï¼ŒJWT çš„æœ‰æ•ˆæœŸåº”è¯¥è®¾ç½®å¾—æ¯”è¾ƒçŸ­ã€‚å¯¹äºä¸€äº›æ¯”è¾ƒé‡è¦çš„æƒé™ï¼Œä½¿ç”¨æ—¶åº”è¯¥å†æ¬¡å¯¹ç”¨æˆ·è¿›è¡Œè®¤è¯ï¼›</li>
<li>ä¸ºäº†å‡å°‘ç›—ç”¨ï¼ŒJWT ä¸åº”è¯¥ä½¿ç”¨ HTTP åè®®æ˜ç ä¼ è¾“ï¼Œè¦ä½¿ç”¨ HTTPS åè®®ä¼ è¾“ï¼</li>
</ol>
<h3 id="JWTéœ€è¦è§£å†³çš„é—®é¢˜"><a href="#JWTéœ€è¦è§£å†³çš„é—®é¢˜" class="headerlink" title="JWTéœ€è¦è§£å†³çš„é—®é¢˜"></a>JWTéœ€è¦è§£å†³çš„é—®é¢˜</h3><ol>
<li>ç»­ç­¾é—®é¢˜ï¼Œjwtç”±äºæœåŠ¡ç«¯ä¸ä¿å­˜ç”¨æˆ·çŠ¶æ€ï¼Œå› æ­¤å¾ˆéš¾å®Œç¾è§£å†³ç»­ç­¾é—®é¢˜ï¼Œå¦‚æœå¼•å…¥redisï¼Œè™½ç„¶å¯ä»¥è§£å†³é—®é¢˜ï¼Œä½†æ˜¯jwtä¹Ÿå˜å¾—ä¸ä¼¦ä¸ç±»äº†ï¼›</li>
<li>æ³¨é”€é—®é¢˜ï¼Œç”±äºæœåŠ¡ç«¯ä¸å†ä¿å­˜ç”¨æˆ·ä¿¡æ¯ï¼Œæ‰€ä»¥ä¸€èˆ¬å¯ä»¥é€šè¿‡ä¿®æ”¹secretæ¥å®ç°æ³¨é”€ï¼ŒæœåŠ¡ç«¯secretä¿®æ”¹åï¼Œå·²ç»é¢å‘çš„æœªè¿‡æœŸçš„tokenå°±ä¼šè®¤è¯å¤±è´¥ï¼Œè¿›è€Œå®ç°æ³¨é”€ï¼Œä¸è¿‡æ¯•ç«Ÿæ²¡æœ‰ä¼ ç»Ÿçš„æ³¨é”€æ–¹ä¾¿ï¼›</li>
<li>å¯†ç é‡ç½®ï¼Œå¯†ç é‡ç½®åï¼ŒåŸæœ¬çš„tokenä¾ç„¶å¯ä»¥è®¿é—®ç³»ç»Ÿï¼Œè¿™æ—¶å€™ä¹Ÿéœ€è¦å¼ºåˆ¶ä¿®æ”¹secretï¼›</li>
<li>ä¸€èˆ¬å»ºè®®ä¸åŒç”¨æˆ·å–ä¸åŒsecretï¼</li>
<li>æœåŠ¡ç«¯æ— æ³•ä¸»åŠ¨æ¨é€æ¶ˆæ¯ï¼šæœåŠ¡ç«¯ç”±äºæ˜¯æ— çŠ¶æ€çš„ï¼Œä»–å°†æ— æ³•ä½¿ç”¨åƒ Session é‚£æ ·çš„æ–¹å¼æ¨é€æ¶ˆæ¯åˆ°å®¢æˆ·ç«¯ï¼Œä¾‹å¦‚è¿‡æœŸæ—¶é—´å°†è‡³ï¼ŒæœåŠ¡ç«¯æ— æ³•ä¸»åŠ¨ä¸ºç”¨æˆ·ç»­çº¦ï¼Œéœ€è¦å®¢æˆ·ç«¯å‘æœåŠ¡ç«¯å‘èµ·ç»­çº¦è¯·æ±‚ï¼›</li>
<li>å†—ä½™çš„æ•°æ®å¼€é”€ï¼š<strong>ä¸€ä¸ª JWT ç­¾åçš„å¤§å°è¦è¿œæ¯”ä¸€ä¸ª Session ID é•¿å¾ˆå¤šï¼Œå¦‚æœä½ å¯¹æœ‰æ•ˆè½½è·(payload)ä¸­çš„æ•°æ®ä¸åšæœ‰æ•ˆæ§åˆ¶ï¼Œå…¶é•¿åº¦ä¼šæˆå‡ ä½•å€æ•°å¢é•¿ï¼Œä¸”åœ¨æ¯ä¸€æ¬¡è¯·æ±‚æ—¶éƒ½éœ€è¦è´Ÿæ‹…é¢å¤–çš„ç½‘ç»œå¼€é”€</strong>ï¼›</li>
<li>åè§‚ä¼ ç»Ÿçš„ç”¨æˆ·è®¤è¯æªæ–½ï¼Œé€šå¸¸ä¼šåŒ…å«å¤šç§ç»„åˆï¼Œå¦‚æ‰‹æœºéªŒè¯ç ï¼Œäººè„¸è¯†åˆ«ï¼Œè¯­éŸ³è¯†åˆ«ï¼ŒæŒ‡çº¹é”ç­‰ã€‚ç”¨æˆ·åå’Œå¯†ç åªåšç”¨æˆ·èº«ä»½è¯†åˆ«ä½¿ç”¨ï¼Œå½“ç”¨æˆ·åå’Œå¯†ç æ³„éœ²åï¼Œåœ¨é‡åˆ°æ•æ„Ÿæ“ä½œæ—¶(å¦‚æ–°å¢ï¼Œä¿®æ”¹ï¼Œåˆ é™¤ï¼Œä¸‹è½½ï¼Œä¸Šä¼ )ï¼Œéƒ½ä¼šé‡‡ç”¨å¦å¤–çš„æ–¹å¼å¯¹ç”¨æˆ·çš„åˆæ³•æ€§è¿›è¡ŒéªŒè¯(å‘é€éªŒè¯ç ï¼Œé‚®ç®±éªŒè¯ç ï¼ŒæŒ‡çº¹ä¿¡æ¯ç­‰)ä»¥ç¡®ä¿æ•°æ®å®‰å…¨ï¼›</li>
<li>ä¸ä¼ ç»Ÿçš„èº«ä»½éªŒè¯æ–¹å¼ç›¸æ¯”ï¼ŒJWT è¿‡å¤šçš„ä¾èµ–äºç®—æ³•ï¼Œç¼ºä¹çµæ´»æ€§ï¼Œè€Œä¸”æœåŠ¡ç«¯å¾€å¾€æ˜¯è¢«åŠ¨æ‰§è¡Œç”¨æˆ·èº«ä»½éªŒè¯æ“ä½œï¼Œæ— æ³•åŠæ—¶å¯¹å¼‚å¸¸ç”¨æˆ·è¿›è¡Œéš”ç¦»ï¼</li>
</ol>
<h3 id="JWTåŠŸèƒ½å®Œå–„"><a href="#JWTåŠŸèƒ½å®Œå–„" class="headerlink" title="JWTåŠŸèƒ½å®Œå–„"></a>JWTåŠŸèƒ½å®Œå–„</h3><ol>
<li><strong>æ¸…é™¤å·²æ³„éœ²çš„ä»¤ç‰Œ</strong>ï¼šæ­¤æ–¹æ¡ˆæœ€ç›´æ¥ï¼Œä¹Ÿå®¹æ˜“å®ç°ï¼Œéœ€è¦å°† JWT ä»¤ç‰Œåœ¨æœåŠ¡ç«¯ä¹Ÿå­˜å‚¨ä¸€ä»½ï¼Œè‹¥å‘ç°æœ‰å¼‚å¸¸çš„ä»¤ç‰Œå­˜åœ¨ï¼Œåˆ™ä»æœåŠ¡ç«¯ä»¤ç‰Œåˆ—è¡¨ä¸­å°†æ­¤å¼‚å¸¸ä»¤ç‰Œæ¸…é™¤ã€‚å½“ç”¨æˆ·å‘èµ·è¯·æ±‚æ—¶ï¼Œå¼ºåˆ¶ç”¨æˆ·é‡æ–°è¿›è¡Œèº«ä»½éªŒè¯ï¼Œç›´è‡³éªŒè¯æˆåŠŸã€‚å¯¹äºæœåŠ¡ç«¯çš„ä»¤ç‰Œå­˜å‚¨ï¼Œå¯ä»¥å€ŸåŠ© Redis ç­‰ç¼“å­˜æœåŠ¡å™¨è¿›è¡Œç®¡ç†ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ Ehcache å°†ä»¤ç‰Œä¿¡æ¯å­˜å‚¨åœ¨å†…å­˜ä¸­ï¼›</li>
<li><strong>æ•æ„Ÿæ“ä½œä¿æŠ¤</strong>ï¼šåœ¨æ¶‰åŠåˆ°è¯¸å¦‚æ–°å¢ï¼Œä¿®æ”¹ï¼Œåˆ é™¤ï¼Œä¸Šä¼ ï¼Œä¸‹è½½ç­‰æ•æ„Ÿæ€§æ“ä½œæ—¶ï¼Œå®šæœŸ(30åˆ†é’Ÿï¼Œ15åˆ†é’Ÿç”šè‡³æ›´çŸ­)æ£€æŸ¥ç”¨æˆ·èº«ä»½ï¼Œå¦‚æ‰‹æœºéªŒè¯ç ï¼Œæ‰«æäºŒç»´ç ç­‰æ‰‹æ®µï¼Œç¡®è®¤æ“ä½œè€…æ˜¯ç”¨æˆ·æœ¬äººã€‚å¦‚æœèº«ä»½éªŒè¯ä¸é€šè¿‡ï¼Œåˆ™ç»ˆæ­¢è¯·æ±‚ï¼Œå¹¶è¦æ±‚é‡æ–°éªŒè¯ç”¨æˆ·èº«ä»½ä¿¡æ¯ï¼›</li>
<li><strong>åœ°åŸŸæ£€æŸ¥</strong>ï¼šé€šå¸¸ç”¨æˆ·ä¼šåœ¨ä¸€ä¸ªç›¸å¯¹å›ºå®šçš„åœ°ç†èŒƒå›´å†…è®¿é—®åº”ç”¨ç¨‹åºï¼Œå¯ä»¥å°†åœ°ç†ä½ç½®ä¿¡æ¯ä½œä¸ºä¸€ä¸ªè¾…åŠ©æ¥ç”„åˆ«ç”¨æˆ·çš„ JWT ä»¤ç‰Œæ˜¯å¦å­˜åœ¨é—®é¢˜ã€‚å¦‚æœå‘ç°ç”¨æˆ·Aç”±ç»å¸¸æ‰€åœ¨çš„åœ°åŒº 1 å˜åˆ°äº†ç›¸å¯¹è¾ƒè¿œçš„åœ°åŒº 2 ï¼Œæˆ–è€…é¢‘ç¹åœ¨å¤šä¸ªåœ°åŒºé—´åˆ‡æ¢ï¼Œä¸ç®¡ç”¨æˆ·æœ‰æ²¡æœ‰å¯èƒ½åœ¨çŸ­æ—¶é—´å†…åœ¨å¤šä¸ªåœ°åŸŸæ´»åŠ¨(ä¸€èˆ¬ä¸å¯èƒ½)ï¼Œéƒ½åº”å½“ç»ˆæ­¢å½“å‰è¯·æ±‚ï¼Œå¼ºåˆ¶ç”¨æˆ·é‡æ–°è¿›è¡ŒéªŒè¯èº«ä»½ï¼Œé¢å‘æ–°çš„ JWT ä»¤ç‰Œï¼Œå¹¶æé†’(æˆ–è¦æ±‚)ç”¨æˆ·é‡ç½®å¯†ç ï¼›</li>
<li><strong>ç›‘æ§è¯·æ±‚é¢‘ç‡</strong>ï¼šå¦‚æœ JWT å¯†ä»¤è¢«ç›—å–ï¼Œæ”»å‡»è€…æˆ–é€šè¿‡æŸäº›å·¥å…·ä¼ªé€ ç”¨æˆ·èº«ä»½ï¼Œé«˜é¢‘æ¬¡çš„å¯¹ç³»ç»Ÿå‘é€è¯·æ±‚ï¼Œä»¥å¥—å–ç”¨æˆ·æ•°æ®ã€‚é’ˆå¯¹è¿™ç§æƒ…å†µï¼Œå¯ä»¥ç›‘æ§ç”¨æˆ·åœ¨å•ä½æ—¶é—´å†…çš„è¯·æ±‚æ¬¡æ•°ï¼Œå½“å•ä½æ—¶é—´å†…çš„è¯·æ±‚æ¬¡æ•°è¶…å‡ºé¢„å®šé˜ˆå€¼å€¼ï¼Œåˆ™åˆ¤å®šè¯¥ç”¨æˆ·å¯†ä»¤æ˜¯æœ‰é—®é¢˜çš„ã€‚ä¾‹å¦‚ 1 ç§’å†…è¿ç»­è¶…è¿‡ 5 æ¬¡è¯·æ±‚ï¼Œåˆ™è§†ä¸ºç”¨æˆ·èº«ä»½éæ³•ï¼ŒæœåŠ¡ç«¯ç»ˆæ­¢è¯·æ±‚å¹¶å¼ºåˆ¶å°†è¯¥ç”¨æˆ·çš„ JWT å¯†ä»¤æ¸…é™¤ï¼Œç„¶åå›è·³åˆ°è®¤è¯ä¸­å¿ƒå¯¹ç”¨æˆ·èº«ä»½è¿›è¡ŒéªŒè¯ï¼›</li>
<li><strong>å®¢æˆ·ç«¯ç¯å¢ƒæ£€æŸ¥</strong>ï¼šå¯¹äºä¸€äº›ç§»åŠ¨ç«¯åº”ç”¨æ¥è¯´ï¼Œå¯ä»¥å°†ç”¨æˆ·ä¿¡æ¯ä¸è®¾å¤‡(æ‰‹æœº,å¹³æ¿)çš„æœºå™¨ç è¿›è¡Œç»‘å®šï¼Œå¹¶å­˜å‚¨äºæœåŠ¡ç«¯ä¸­ï¼Œå½“å®¢æˆ·ç«¯å‘èµ·è¯·æ±‚æ—¶ï¼Œå¯ä»¥å…ˆæ ¡éªŒå®¢æˆ·ç«¯çš„æœºå™¨ç ä¸æœåŠ¡ç«¯çš„æ˜¯å¦åŒ¹é…ï¼Œå¦‚æœä¸åŒ¹é…ï¼Œåˆ™è§†ä¸ºéæ³•è¯·æ±‚ï¼Œå¹¶ç»ˆæ­¢ç”¨æˆ·çš„åç»­è¯·æ±‚ï¼</li>
</ol>
<h1 id="åŠ¨æ‰‹å®æ“"><a href="#åŠ¨æ‰‹å®æ“" class="headerlink" title="åŠ¨æ‰‹å®æ“"></a>åŠ¨æ‰‹å®æ“</h1><h2 id="åˆ›å»ºä¸€ä¸ªSpringBooté¡¹ç›®"><a href="#åˆ›å»ºä¸€ä¸ªSpringBooté¡¹ç›®" class="headerlink" title="åˆ›å»ºä¸€ä¸ªSpringBooté¡¹ç›®"></a>åˆ›å»ºä¸€ä¸ªSpringBooté¡¹ç›®</h2><ol>
<li><p>åˆ›å»ºä¸€ä¸ªå¸¸è§„çš„SpringBooté¡¹ç›®æ·»åŠ Webã€Securityä¾èµ–ï¼›</p>
</li>
<li><p>æ·»åŠ JWTç›¸å…³çš„ä¾èµ–ï¼ˆpom.xmlï¼‰ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- jwt --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>io.jsonwebtoken<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jjwt<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>0.9.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.xml.bind<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jaxb-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.3.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li><strong>æ·»åŠ jaxb-apiæ˜¯å› ä¸ºJDK9æå‡ºçš„æ¨¡å—åŒ–çš„æ¦‚å¿µï¼Œå¯¼è‡´ä¸å†ä»¥åçš„ç‰ˆæœ¬é‡Œé»˜è®¤æä¾›ï¼Œå› æ­¤éœ€è¦å¯¼å…¥ï¼Œä¸ç„¶ä¼šå‡ºé”™ï¼Œè¸©è¿‡çš„å‘ï¼</strong></li>
</ul>
</li>
</ol>
<h2 id="æµ‹è¯•JWT"><a href="#æµ‹è¯•JWT" class="headerlink" title="æµ‹è¯•JWT"></a>æµ‹è¯•JWT</h2><h3 id="åˆ›å»ºä¸€ä¸ªToken"><a href="#åˆ›å»ºä¸€ä¸ªToken" class="headerlink" title="åˆ›å»ºä¸€ä¸ªToken"></a>åˆ›å»ºä¸€ä¸ªToken</h3><ol>
<li><p>æ·»åŠ æµ‹è¯•ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">testCreateToken</span><span class="params">()</span></span>&#123;</span><br><span class="line">    JwtBuilder builder= Jwts.builder().setId(<span class="string">"123456"</span>) .setSubject(<span class="string">"WanderROS"</span>)</span><br><span class="line">            .setIssuedAt(<span class="keyword">new</span> Date())<span class="comment">//è®¾ç½®ç­¾å‘æ—¶é—´</span></span><br><span class="line">            .signWith(SignatureAlgorithm.HS256,<span class="string">"secret"</span>);<span class="comment">//è®¾ç½®ç­¾åç§˜é’¥</span></span><br><span class="line">    String token=builder.compact();</span><br><span class="line">   log.info(<span class="string">"generated token: "</span> + token);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>è¾“å‡ºï¼ˆå…³é”®éƒ¨åˆ†ï¼‰ï¼š</p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">2020-07-06 20:30:45.784  INFO 51065 --- [           main] c.w.learn.jwtsec.JwtsecApplicationTests  : generated token: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxMjM0NTYiLCJzdWIiOiJXYW5kZXJST1MiLCJpYXQiOjE1OTQwMzg2NDV9.XCa4N8JpNhkVE0Se6xmpcpW9v6DbXFeiq8ppLIauPys</span><br></pre></td></tr></table></figure>
</li>
<li><p>Headerï¼š</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;<span class="attr">"alg"</span>:<span class="string">"HS256"</span>&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>Payload:</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;<span class="attr">"jti"</span>:<span class="string">"123456"</span>,<span class="attr">"sub"</span>:<span class="string">"WanderROS"</span>,<span class="attr">"iat"</span>:<span class="number">1594038645</span>&#125;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h3 id="è§£æä¸€ä¸ªToken"><a href="#è§£æä¸€ä¸ªToken" class="headerlink" title="è§£æä¸€ä¸ªToken"></a>è§£æä¸€ä¸ªToken</h3><ol>
<li><p>æ·»åŠ æµ‹è¯•ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">testParseToken</span><span class="params">()</span></span>&#123;</span><br><span class="line">    JwtBuilder builder= Jwts.builder().setId(<span class="string">"123456"</span>) .setSubject(<span class="string">"WanderROS"</span>)</span><br><span class="line">            .setIssuedAt(<span class="keyword">new</span> Date())<span class="comment">//è®¾ç½®ç­¾å‘æ—¶é—´</span></span><br><span class="line">            .signWith(SignatureAlgorithm.HS256,<span class="string">"secret"</span>);<span class="comment">//è®¾ç½®ç­¾åç§˜é’¥</span></span><br><span class="line">    String token=builder.compact();</span><br><span class="line">    Claims claims =</span><br><span class="line">            Jwts.parser().setSigningKey(<span class="string">"secret"</span>).parseClaimsJws(token).getBody();</span><br><span class="line">    System.out.println(<span class="string">"id:"</span>+claims.getId());</span><br><span class="line">    System.out.println(<span class="string">"subject:"</span>+claims.getSubject());</span><br><span class="line">    System.out.println(<span class="string">"IssuedAt:"</span>+claims.getIssuedAt());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>è¾“å‡ºï¼ˆå…³é”®éƒ¨åˆ†ï¼‰ï¼š</p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">id:123456</span><br><span class="line">subject:WanderROS</span><br><span class="line">IssuedAt:Mon Jul 06 20:34:15 CST 2020</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h3 id="Tokenè¿‡æœŸæ ¡éªŒ"><a href="#Tokenè¿‡æœŸæ ¡éªŒ" class="headerlink" title="Tokenè¿‡æœŸæ ¡éªŒ"></a>Tokenè¿‡æœŸæ ¡éªŒ</h3><ol>
<li><p>æ·»åŠ æµ‹è¯•ä»£ç å¦‚ä¸‹ï¼ˆç”Ÿæˆå¸¦è¿‡æœŸçš„Tokenï¼‰ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">testExpireToken</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="comment">//ä¸ºäº†æ–¹ä¾¿æµ‹è¯•ï¼Œæˆ‘ä»¬å°†è¿‡æœŸæ—¶é—´è®¾ç½®ä¸º1åˆ†é’Ÿ</span></span><br><span class="line">        <span class="keyword">long</span> now = System.currentTimeMillis();<span class="comment">//å½“å‰æ—¶é—´</span></span><br><span class="line">        <span class="keyword">long</span> exp = now + <span class="number">1000</span>*<span class="number">60</span>;<span class="comment">//è¿‡æœŸæ—¶é—´ä¸º1åˆ†é’Ÿ</span></span><br><span class="line">        JwtBuilder builder= Jwts.builder().setId(<span class="string">"123456"</span>)</span><br><span class="line">                .setSubject(<span class="string">"Wander"</span>)</span><br><span class="line">                .setIssuedAt(<span class="keyword">new</span> Date())</span><br><span class="line">                .signWith(SignatureAlgorithm.HS256,<span class="string">"secret"</span>)</span><br><span class="line">                .setExpiration(<span class="keyword">new</span> Date(exp));<span class="comment">//è®¾ç½®è¿‡æœŸæ—¶é—´</span></span><br><span class="line">        System.out.println( builder.compact() );</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">//    eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxMjM0NTYiLCJzdWIiOiJXYW5kZXIiLCJpYXQiOjE1OTQwMzkwOTksImV4cCI6MTU5NDAzOTE1OX0.udCKY5IwsBithZXtXG9puMqT_wdsl3MQjapJlMvOuHU</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>æ ¡éªŒä»£ç ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">testReallExpireToken</span><span class="params">()</span></span>&#123;</span><br><span class="line">    String compactJws=<span class="string">"eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxMjM0NTYiLCJzdWIiOiJXYW5kZXIiLCJpYXQiOjE1OTQwMzkwOTksImV4cCI6MTU5NDAzOTE1OX0.udCKY5IwsBithZXtXG9puMqT_wdsl3MQjapJlMvOuHU"</span>;</span><br><span class="line">            Claims claims = Jwts.parser()</span><br><span class="line">            .setSigningKey(<span class="string">"secret"</span>)</span><br><span class="line">            .parseClaimsJws(compactJws).getBody();</span><br><span class="line">    System.out.println(<span class="string">"id:"</span>+claims.getId());</span><br><span class="line">    System.out.println(<span class="string">"subject:"</span>+claims.getSubject());</span><br><span class="line">    SimpleDateFormat sdf=<span class="keyword">new</span> SimpleDateFormat(<span class="string">"yyyyâ€MMâ€dd hh:mm:ss"</span>);</span><br><span class="line">    System.out.println(<span class="string">"ç­¾å‘æ—¶é—´:"</span>+sdf.format(claims.getIssuedAt()));</span><br><span class="line">    System.out.println(<span class="string">"è¿‡æœŸæ—¶é—´:"</span>+sdf.format(claims.getExpiration()));</span><br><span class="line">    System.out.println(<span class="string">"å½“å‰æ—¶é—´:"</span>+sdf.format(<span class="keyword">new</span> Date()) );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ­£å¸¸è¾“å‡ºï¼š</p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">id:123456</span><br><span class="line">subject:Wander</span><br><span class="line">ç­¾å‘æ—¶é—´:2020â€07â€06 08:38:19</span><br><span class="line">è¿‡æœŸæ—¶é—´:2020â€07â€06 08:39:19</span><br><span class="line">å½“å‰æ—¶é—´:2020â€07â€06 08:38:47</span><br></pre></td></tr></table></figure>
</li>
<li><p>è¿‡æœŸè¾“å‡ºï¼ˆæŠ›å‡ºå¼‚å¸¸ï¼‰ï¼š</p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">io.jsonwebtoken.ExpiredJwtException: JWT expired at 2020-07-06T20:39:19Z. Current time: 2020-07-06T20:41:02Z, a difference of 103250 milliseconds.  Allowed clock skew: 0 milliseconds.</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h3 id="è‡ªå®šä¹‰claims"><a href="#è‡ªå®šä¹‰claims" class="headerlink" title="è‡ªå®šä¹‰claims"></a>è‡ªå®šä¹‰claims</h3><ol>
<li><p>æ·»åŠ æµ‹è¯•ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">testSelfToken</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">long</span> now = System.currentTimeMillis();<span class="comment">//å½“å‰æ—¶é—´</span></span><br><span class="line">        <span class="keyword">long</span> exp = now + <span class="number">1000</span>*<span class="number">60</span>;<span class="comment">//è¿‡æœŸæ—¶é—´ä¸º1åˆ†é’Ÿ</span></span><br><span class="line">        JwtBuilder builder= Jwts.builder().setId(<span class="string">"123456"</span>)</span><br><span class="line">                .setSubject(<span class="string">"Wander"</span>)</span><br><span class="line">                .setIssuedAt(<span class="keyword">new</span> Date()) .signWith(SignatureAlgorithm.HS256,<span class="string">"secret"</span>) .setExpiration(<span class="keyword">new</span> Date(exp)) .claim(<span class="string">"roles"</span>,<span class="string">"admin"</span>) .claim(<span class="string">"logo"</span>,<span class="string">"logo.png"</span>);</span><br><span class="line">        System.out.println( builder.compact() );</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">// è¾“å‡ºeyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxMjM0NTYiLCJzdWIiOiJXYW5kZXIiLCJpYXQiOjE1OTQwMzk0NDYsImV4cCI6MTU5NDAzOTUwNiwicm9sZXMiOiJhZG1pbiIsImxvZ28iOiJsb2dvLnBuZyJ9.gdumI1wlFo4aAHF4AeksMwD3DlKQpKW6b5Xok-Hb5bE</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>Payloadï¼š</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;<span class="attr">"jti"</span>:<span class="string">"123456"</span>,<span class="attr">"sub"</span>:<span class="string">"Wander"</span>,<span class="attr">"iat"</span>:<span class="number">1594039446</span>,<span class="attr">"exp"</span>:<span class="number">1594039506</span>,<span class="attr">"roles"</span>:<span class="string">"admin"</span>,<span class="attr">"logo"</span>:<span class="string">"logo.png"</span>&#125;</span><br></pre></td></tr></table></figure>


</li>
</ol>
<h2 id="ä½¿ç”¨JWTçš„æ¥å£å¼€å‘"><a href="#ä½¿ç”¨JWTçš„æ¥å£å¼€å‘" class="headerlink" title="ä½¿ç”¨JWTçš„æ¥å£å¼€å‘"></a>ä½¿ç”¨JWTçš„æ¥å£å¼€å‘</h2><h3 id="æ ¸å¿ƒé…ç½®"><a href="#æ ¸å¿ƒé…ç½®" class="headerlink" title="æ ¸å¿ƒé…ç½®"></a>æ ¸å¿ƒé…ç½®</h3><ol>
<li><p>å…³é”®ä¾èµ–ï¼ˆpom.xmlï¼‰ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-security<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- jwt --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>io.jsonwebtoken<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jjwt<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>0.9.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.xml.bind<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jaxb-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.3.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-devtools<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">scope</span>&gt;</span>runtime<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">optional</span>&gt;</span>true<span class="tag">&lt;/<span class="name">optional</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>å®ç°ä¸€ä¸ªUserDetailsæ¥å£çš„ç±»ï¼Œç±»åUserï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> <span class="keyword">implements</span> <span class="title">UserDetails</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String username;</span><br><span class="line">    <span class="keyword">private</span> String password;</span><br><span class="line">    <span class="keyword">private</span> List&lt;GrantedAuthority&gt; authorities;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Collection&lt;? extends GrantedAuthority&gt; getAuthorities() &#123;</span><br><span class="line">        <span class="keyword">return</span> authorities;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getPassword</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> password;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getUsername</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> username;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isAccountNonExpired</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isAccountNonLocked</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isCredentialsNonExpired</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isEnabled</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setUsername</span><span class="params">(String username)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.username = username;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setPassword</span><span class="params">(String password)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.password = password;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAuthorities</span><span class="params">(List&lt;GrantedAuthority&gt; authorities)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.authorities = authorities;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>åˆ›å»ºç™»å½•è¿‡æ»¤å™¨JwtLoginFilterï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Slf</span>4j</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">JwtLoginFilter</span> <span class="keyword">extends</span> <span class="title">AbstractAuthenticationProcessingFilter</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="title">JwtLoginFilter</span><span class="params">(String defaultFilterProcessesUrl, AuthenticationManager authenticationManager)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(<span class="keyword">new</span> AntPathRequestMatcher(defaultFilterProcessesUrl));</span><br><span class="line">        setAuthenticationManager(authenticationManager);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Authentication <span class="title">attemptAuthentication</span><span class="params">(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse)</span>  </span>&#123;</span><br><span class="line">        ObjectMapper objectMapper = <span class="keyword">new</span> ObjectMapper();</span><br><span class="line">        User user;</span><br><span class="line">        <span class="keyword">try</span>&#123;</span><br><span class="line">            user = objectMapper.readValue(httpServletRequest.getInputStream(), User<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">            log.error(user.getUsername() + <span class="string">"   -- "</span> + user.getPassword());</span><br><span class="line">            <span class="keyword">return</span> getAuthenticationManager().authenticate(<span class="keyword">new</span> UsernamePasswordAuthenticationToken(user.getUsername(), user.getPassword()));</span><br><span class="line">        &#125;<span class="keyword">catch</span> (IOException e)</span><br><span class="line">        &#123;</span><br><span class="line">            log.error(<span class="string">"æ²¡æœ‰è¾“å…¥å†…å®¹"</span>);</span><br><span class="line">           <span class="comment">// log.error(e.toString());</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> getAuthenticationManager().authenticate(<span class="keyword">new</span> UsernamePasswordAuthenticationToken(<span class="string">"null"</span>,<span class="string">"null"</span>));</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">successfulAuthentication</span><span class="params">(HttpServletRequest request, HttpServletResponse response, FilterChain chain, Authentication authResult)</span> <span class="keyword">throws</span> IOException, ServletException </span>&#123;</span><br><span class="line">        <span class="comment">//super.successfulAuthentication(request, response, chain, authResult);</span></span><br><span class="line">        Collection&lt;? extends GrantedAuthority&gt; authorities = authResult.getAuthorities();</span><br><span class="line">        StringBuffer as = <span class="keyword">new</span> StringBuffer();</span><br><span class="line">        <span class="keyword">for</span> (GrantedAuthority authority : authorities) &#123;</span><br><span class="line">            as.append(authority.getAuthority()).append(<span class="string">","</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        String jwt = Jwts.builder()</span><br><span class="line">                .claim(<span class="string">"authorities"</span>, as)</span><br><span class="line">                .setSubject(authResult.getName())</span><br><span class="line">                .setExpiration(<span class="keyword">new</span> Date(System.currentTimeMillis() + <span class="number">10</span> * <span class="number">60</span> * <span class="number">1000</span>))</span><br><span class="line">                .signWith(SignatureAlgorithm.HS256, <span class="string">"secret"</span>)</span><br><span class="line">                .compact();</span><br><span class="line">        <span class="comment">//  log.error(jwt);</span></span><br><span class="line">        response.setContentType(<span class="string">"application/json;charset=utf-8"</span>);</span><br><span class="line">        PrintWriter out = response.getWriter();</span><br><span class="line">        out.write(<span class="keyword">new</span> ObjectMapper().writeValueAsString(jwt));</span><br><span class="line">        out.flush();</span><br><span class="line">        out.close();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">unsuccessfulAuthentication</span><span class="params">(HttpServletRequest request, HttpServletResponse response, AuthenticationException failed)</span> <span class="keyword">throws</span> IOException, ServletException </span>&#123;</span><br><span class="line">        <span class="comment">//super.unsuccessfulAuthentication(request, response, failed);</span></span><br><span class="line">        response.setContentType(<span class="string">"application/json;charset=utf-8"</span>);</span><br><span class="line">        PrintWriter out = response.getWriter();</span><br><span class="line">        out.write(<span class="string">"ç™»å½•å¤±è´¥!"</span>);</span><br><span class="line">        out.flush();</span><br><span class="line">        out.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>åˆ›å»ºæ ¡éªŒè¿‡æ»¤å™¨JwtFilterï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Slf</span>4j</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">JwtFilter</span> <span class="keyword">extends</span> <span class="title">GenericFilterBean</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doFilter</span><span class="params">(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        HttpServletRequest req=(HttpServletRequest) servletRequest;</span><br><span class="line">      <span class="comment">//  Enumeration&lt;String&gt; test= req.getHeaderNames();</span></span><br><span class="line">      <span class="comment">//  while (test.hasMoreElements())&#123;</span></span><br><span class="line">      <span class="comment">//      log.error(test.nextElement());</span></span><br><span class="line">      <span class="comment">//  &#125;</span></span><br><span class="line">        String jwtToken=req.getHeader(<span class="string">"authorization"</span>);</span><br><span class="line">       <span class="keyword">if</span>(jwtToken.isEmpty())</span><br><span class="line">       &#123;</span><br><span class="line">           log.error(<span class="string">"è´¦æˆ·æˆ–è€…å¯†ç ä¸ºç©º"</span>);</span><br><span class="line">       &#125;<span class="keyword">else</span></span><br><span class="line">       &#123;</span><br><span class="line">           <span class="keyword">try</span>&#123;</span><br><span class="line">               Claims claims = Jwts.parser()</span><br><span class="line">                       .setSigningKey(<span class="string">"secret"</span>)</span><br><span class="line">                       .parseClaimsJws(jwtToken).getBody();</span><br><span class="line">               String username=claims.getSubject();</span><br><span class="line">               log.error(username);</span><br><span class="line">               List&lt;GrantedAuthority&gt; authorities= AuthorityUtils.commaSeparatedStringToAuthorityList((String)claims.get(<span class="string">"authorities"</span>));</span><br><span class="line">               UsernamePasswordAuthenticationToken token=<span class="keyword">new</span> UsernamePasswordAuthenticationToken(username,<span class="keyword">null</span>,authorities);</span><br><span class="line">               SecurityContextHolder.getContext().setAuthentication(token);</span><br><span class="line">               filterChain.doFilter(req,servletResponse);</span><br><span class="line">           &#125;<span class="keyword">catch</span> (ExpiredJwtException e)</span><br><span class="line">           &#123;</span><br><span class="line">               HttpServletResponse response=(HttpServletResponse) servletResponse;</span><br><span class="line">               log.error(<span class="string">"expire "</span>);</span><br><span class="line">               log.error(e.toString());</span><br><span class="line">               response.setContentType(<span class="string">"application/json;charset=utf-8"</span>);</span><br><span class="line">               PrintWriter out = response.getWriter();</span><br><span class="line">               out.write(<span class="keyword">new</span> ObjectMapper().writeValueAsString(<span class="string">"ç­¾åè¿‡æœŸï¼Œè¯·é‡æ–°è·å–ç­¾åï¼"</span>));</span><br><span class="line">               out.flush();</span><br><span class="line">               out.close();</span><br><span class="line">           &#125;</span><br><span class="line">           <span class="keyword">catch</span> (IOException e)&#123;</span><br><span class="line">               log.error(<span class="string">"io__"</span>);</span><br><span class="line">                log.error(e.toString());</span><br><span class="line">           &#125;<span class="keyword">catch</span> (ServletException e)</span><br><span class="line">           &#123;</span><br><span class="line">               log.error(<span class="string">"servlet__ "</span>);</span><br><span class="line">            log.error(e.toString());</span><br><span class="line">           &#125;</span><br><span class="line"></span><br><span class="line">       &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>åˆ›å»ºå®‰å…¨é…ç½®ç±»ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@EnableWebSecurity</span></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">WebSecurityConfig</span> <span class="keyword">extends</span> <span class="title">WebSecurityConfigurerAdapter</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">configure</span><span class="params">(AuthenticationManagerBuilder auth)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="comment">//super.configure(auth);</span></span><br><span class="line">        auth.inMemoryAuthentication().passwordEncoder(<span class="keyword">new</span> BCryptPasswordEncoder()).withUser(<span class="string">"user"</span>).password(<span class="keyword">new</span> BCryptPasswordEncoder().encode(<span class="string">"123456"</span>)).roles(<span class="string">"user"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">configure</span><span class="params">(HttpSecurity http)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        </span><br><span class="line">        http.authorizeRequests()</span><br><span class="line">                .antMatchers(<span class="string">"/hello"</span>).hasRole(<span class="string">"user"</span>)</span><br><span class="line">                .antMatchers(<span class="string">"/admin"</span>).hasRole(<span class="string">"admin"</span>)</span><br><span class="line">                .antMatchers(HttpMethod.POST,<span class="string">"/login"</span>).permitAll()</span><br><span class="line">                .anyRequest().authenticated()</span><br><span class="line">                .and()</span><br><span class="line">                .addFilterBefore(<span class="keyword">new</span> JwtLoginFilter(<span class="string">"/login"</span>,authenticationManager()), UsernamePasswordAuthenticationFilter<span class="class">.<span class="keyword">class</span>)</span></span><br><span class="line"><span class="class">                .<span class="title">addFilterBefore</span>(<span class="title">new</span> <span class="title">JwtFilter</span>(),<span class="title">UsernamePasswordAuthenticationFilter</span>.<span class="title">class</span>)</span></span><br><span class="line"><span class="class">                .<span class="title">csrf</span>().<span class="title">disable</span>()</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>åˆ›å»ºæ§åˆ¶å™¨ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HelloController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping</span>(<span class="string">"/hello"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">hello</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"hello jwt !"</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping</span>(<span class="string">"/admin"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">admin</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"hello admin !"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h3 id="è§£é‡Šè¯´æ˜"><a href="#è§£é‡Šè¯´æ˜" class="headerlink" title="è§£é‡Šè¯´æ˜"></a>è§£é‡Šè¯´æ˜</h3><ol>
<li>JwtLoginFilterä¸ºç™»å½•è¿‡æ»¤å™¨ï¼Œåœ¨ç”¨æˆ·çš„ç™»å½•çš„è¿‡æ»¤å™¨ä¸­æ ¡éªŒç”¨æˆ·æ˜¯å¦ç™»å½•æˆåŠŸã€‚å¦‚æœç™»å½•æˆåŠŸï¼Œåˆ™ç”Ÿæˆä¸€ä¸ªtokenè¿”å›ç»™å®¢æˆ·ç«¯ï¼Œç™»å½•å¤±è´¥åˆ™ç»™å‰ç«¯ä¸€ä¸ªç™»å½•å¤±è´¥çš„æç¤ºï¼›<ol>
<li>åœ¨attemptAuthenticationæ–¹æ³•ä¸­ï¼Œä»ç™»å½•å‚æ•°ä¸­æå–å‡ºç”¨æˆ·åå¯†ç ï¼Œç„¶åè°ƒç”¨AuthenticationManager.authenticate()æ–¹æ³•å»è¿›è¡Œè‡ªåŠ¨æ ¡éªŒ</li>
<li>å¦‚æœæ ¡éªŒæˆåŠŸï¼Œå°±ä¼šæ¥åˆ°successfulAuthenticationå›è°ƒä¸­ï¼Œåœ¨successfulAuthenticationæ–¹æ³•ä¸­ï¼Œå°†ç”¨æˆ·è§’è‰²éå†ç„¶åç”¨ä¸€ä¸ª <code>,</code> è¿æ¥èµ·æ¥ï¼Œç„¶åå†åˆ©ç”¨Jwtså»ç”Ÿæˆtokenï¼ŒæŒ‰ç…§ä»£ç çš„é¡ºåºï¼Œç”Ÿæˆè¿‡ç¨‹ä¸€å…±é…ç½®äº†å››ä¸ªå‚æ•°ï¼Œåˆ†åˆ«æ˜¯ç”¨æˆ·è§’è‰²ã€ä¸»é¢˜ã€è¿‡æœŸæ—¶é—´ä»¥åŠåŠ å¯†ç®—æ³•å’Œå¯†é’¥ï¼Œç„¶åå°†ç”Ÿæˆçš„tokenå†™å‡ºåˆ°å®¢æˆ·ç«¯</li>
<li>å¦‚æœæ ¡éªŒå¤±è´¥å°±ä¼šæ¥åˆ°unsuccessfulAuthenticationæ–¹æ³•ä¸­ï¼Œåœ¨è¿™ä¸ªæ–¹æ³•ä¸­è¿”å›ä¸€ä¸ªé”™è¯¯æç¤ºç»™å®¢æˆ·ç«¯å³å¯</li>
</ol>
</li>
<li>JwtFilterä¸ºæ ¡éªŒè¿‡æ»¤å™¨ï¼Œå½“å…¶ä»–è¯·æ±‚å‘é€æ¥ï¼Œæ ¡éªŒtokençš„è¿‡æ»¤å™¨ã€‚å¦‚æœæ ¡éªŒæˆåŠŸï¼Œå°±è®©è¯·æ±‚ç»§ç»­æ‰§è¡Œï¼Œå¦åˆ™ä¸äºˆæ‰§è¡Œï¼›<ol>
<li>ä»è¯·æ±‚å¤´ä¸­æå–å‡º authorization å­—æ®µï¼Œè¿™ä¸ªå­—æ®µå¯¹åº”çš„valueå°±æ˜¯ç”¨æˆ·çš„token</li>
<li>å°†æå–å‡ºæ¥çš„tokenå­—ç¬¦ä¸²è½¬æ¢ä¸ºä¸€ä¸ªClaimså¯¹è±¡ï¼Œå†ä»Claimså¯¹è±¡ä¸­æå–å‡ºå½“å‰ç”¨æˆ·åå’Œç”¨æˆ·è§’è‰²ï¼Œåˆ›å»ºä¸€ä¸ªUsernamePasswordAuthenticationTokenæ”¾åˆ°å½“å‰çš„Contextä¸­ï¼Œç„¶åæ‰§è¡Œè¿‡æ»¤é“¾ä½¿è¯·æ±‚ç»§ç»­æ‰§è¡Œä¸‹å»</li>
</ol>
</li>
<li>åœ¨configure(HttpSecurity http)ä¸­é…ç½®è¿‡æ»¤å™¨ï¼Œâ€/loginâ€ä½¿ç”¨JwtLoginFilterï¼Œå…¶ä»–ä½¿ç”¨JwtFilterï¼›</li>
</ol>
<h3 id="æµ‹è¯•"><a href="#æµ‹è¯•" class="headerlink" title="æµ‹è¯•"></a>æµ‹è¯•</h3><ol>
<li><p>è·å–ä»¤ç‰Œï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/d8cc309614f2471af974a08fe90fb9c6-180006" alt="è·å–ç­¾å"></p>
</li>
<li><p>ä½¿ç”¨é”™è¯¯çš„è´¦æˆ·å¯†ç è¯·æ±‚ä»¤ç‰Œï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/eac771a7366e5c204f1274abe88e88ec-154243" alt="é”™è¯¯çš„å¯†ç è·å–ç­¾å"></p>
</li>
<li><p>ä½¿ç”¨ä»¤ç‰Œè¯·æ±‚APIï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/4e985da68969082914ddc4fc5a685f9f-134835" alt="æ­£ç¡®çš„è¯·æ±‚"></p>
</li>
<li><p>ä½¿ç”¨è¿‡æœŸçš„ä»¤ç‰Œè¯·æ±‚API:</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/40ce7a77d958a9c65ae17a6acd30b77e-151262" alt="è¿‡æœŸç­¾åè¯·æ±‚"></p>
</li>
<li><p>è¯·æ±‚æ²¡æœ‰æƒé™çš„APIï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/0ea996a469c8275b09c52a8f9d18165b-177718" alt="æ²¡æœ‰æƒé™çš„è¯·æ±‚"></p>
</li>
</ol>
<hr>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>è¿™éƒ¨åˆ†æ˜¯ç®€å•çš„ä»¤ç‰Œè®¤è¯æ¥å…¥è®°å½•æ–‡æ¡£ï¼Œéœ€è¦æœ‰SpringBootã€SpringSecurityåŸºç¡€çŸ¥è¯†ï¼Œç„¶åèƒ½å¤Ÿå®šä½é—®é¢˜ï¼Œåªæœ‰ä½¿ç”¨äº†ä¹‹åæ‰çŸ¥é“ä¼šå‡ºç°ä»€ä¹ˆé—®é¢˜ï¼Œåªæœ‰ä¸€æ­¥æ­¥å®šä½é—®é¢˜ç„¶åè§£å†³é—®é¢˜ï¼Œè¿™äº›çŸ¥è¯†æ‰ä¼šæ·±å…¥è„‘æµ·ï¼æ¯”å¦‚æµ‹è¯•ç”ŸæˆJWTçš„æ—¶å€™ä¸€ç‚¹é—®é¢˜éƒ½æ²¡æœ‰ï¼Œä½†æ˜¯åœ¨é¡¹ç›®çš„èº«ä»½è®¤è¯è¿‡ç¨‹ä¸­ä½¿ç”¨å°±æ˜¯å‡ºé—®é¢˜ï¼Œæœ€åå®šä½æ˜¯ç¼ºå°‘ä¸€ä¸ªä¾èµ–ï¼Œè¿™äº›å®šä½é—®é¢˜çš„èƒ½åŠ›éœ€è¦ä¸æ–­åœ°å»å­¦ä¹ æŒæ¡ï¼</p>
]]></content>
      <categories>
        <category>SpringBoot</category>
      </categories>
  </entry>
  <entry>
    <title>SpringBoot AOP Quick Start</title>
    <url>/2020/09/28/SpringBoot-AOP-Quick-Start/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>Spring AOPåœ¨SpringBootå®æˆ˜å­¦ä¹ çš„æ—¶å€™æœ‰æ¥è§¦è¿‡ï¼Œä½†æ˜¯å¯¹äºå…¶å¹¶æ²¡æœ‰æ·±å…¥ï¼Œåœ¨å®é™…å¼€å‘ä¸­æ‰æ¸æ¸å‘ç°å®ƒçš„å¼ºå¤§ï¼Œè¿™é‡ŒèŠ±ç‚¹æ—¶é—´æ·±å…¥äº†è§£ä¸€ä¸‹AOPï¼Œä½¿å¾—åç»­é¡¹ç›®å¼€å‘ä¸­èƒ½æ›´å¥½åœ°ä½¿ç”¨AOPå†™å‡ºä¼˜è´¨ä»£ç ï¼</p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="ç®€ä»‹-1"><a href="#ç®€ä»‹-1" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h2><ol>
<li><p>å®˜æ–¹è¯´æ˜æ–‡æ¡£ï¼š<a href="https://docs.spring.io/spring-framework/docs/current/spring-framework-reference/core.html#aop" target="_blank" rel="noopener">https://docs.spring.io/spring-framework/docs/current/spring-framework-reference/core.html#aop</a></p>
</li>
<li><p>AOP ï¼ˆAspect Oriented Programmingï¼Œé¢å‘åˆ‡é¢ç¼–ç¨‹ï¼‰æ˜¯ä¸€ç§ç¼–ç¨‹æ€æƒ³ï¼Œæ˜¯é¢å‘å¯¹è±¡ç¼–ç¨‹ï¼ˆOOPï¼‰çš„ä¸€ç§è¡¥å……ã€‚ï¼ˆOOPä»çºµå‘ä¸ŠåŒºåˆ†å‡ºä¸€ä¸ªä¸ªçš„ç±»æ¥ï¼Œè€ŒAOPåˆ™ä»æ¨ªå‘ä¸Šå‘å¯¹è±¡ä¸­åŠ å…¥ç‰¹å®šçš„ä»£ç ã€‚ï¼‰é¢å‘å¯¹è±¡ç¼–ç¨‹å°†ç¨‹åºæŠ½è±¡æˆå„ä¸ªå±‚æ¬¡çš„å¯¹è±¡ï¼Œè€Œé¢å‘åˆ‡é¢ç¼–ç¨‹æ˜¯å°†ç¨‹åºæŠ½è±¡æˆå„ä¸ªåˆ‡é¢ï¼</p>
</li>
<li><p>AOPçš„å­˜åœ¨æ˜¯ä¸ºäº†ä¿è¯å¼€å‘è€…ä¸ä¿®æ”¹æºä»£ç çš„å‰æä¸‹ï¼Œä¸ºç³»ç»Ÿä¸­çš„ä¸šåŠ¡ç»„ä»¶æ·»åŠ æŸç§é€šç”¨åŠŸèƒ½ï¼ŒAOPèƒ½å¤Ÿä½¿å¾—ä»£ç è§£è€¦ï¼Œå¹¶ä¸”å¯ä»¥è®©ä¸€ç»„ç±»å…±äº«ç›¸åŒçš„è¡Œä¸ºã€‚</p>
</li>
<li><p>å„ç§AOPå®ç°çš„æ¯”è¾ƒï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/7f6d70a666b70e2cf99d93a04c34eb58-59526" alt="AOPæ¯”è¾ƒ"></p>
</li>
<li><p>AOP é¢†åŸŸæœ¯è¯­ï¼š</p>
<ol>
<li>é€šçŸ¥ï¼ˆAdviceï¼‰: AOP æ¡†æ¶ä¸­çš„å¢å¼ºå¤„ç†ã€‚é€šçŸ¥æè¿°äº†åˆ‡é¢ä½•æ—¶æ‰§è¡Œä»¥åŠå¦‚ä½•æ‰§è¡Œå¢å¼ºå¤„ç†</li>
<li>è¿æ¥ç‚¹ï¼ˆJoin Pointï¼‰: è¿æ¥ç‚¹è¡¨ç¤ºåº”ç”¨æ‰§è¡Œè¿‡ç¨‹ä¸­èƒ½å¤Ÿæ’å…¥åˆ‡é¢çš„ä¸€ä¸ªç‚¹ï¼Œè¿™ä¸ªç‚¹å¯ä»¥æ˜¯æ–¹æ³•çš„è°ƒç”¨ã€å¼‚å¸¸çš„æŠ›å‡ºã€‚åœ¨ Spring AOP ä¸­ï¼Œè¿æ¥ç‚¹æ€»æ˜¯æ–¹æ³•çš„è°ƒç”¨ï¼Œé€šè¿‡å£°æ˜ä¸€ä¸ª<code>org.aspectj.lang.JoinPoint</code>ç±»å‹å‚æ•°æˆ‘ä»¬å¯ä»¥åœ¨é€šçŸ¥(Advice)ä¸­è·å¾—è¿æ¥ç‚¹çš„ä¿¡æ¯</li>
<li>åˆ‡ç‚¹ï¼ˆPointCutï¼‰: å¯ä»¥æ’å…¥å¢å¼ºå¤„ç†çš„è¿æ¥ç‚¹é›†ï¼Œåˆ‡å…¥ç‚¹è¡¨è¾¾å¼å¦‚ä½•è·Ÿè¿æ¥ç‚¹åŒ¹é…æ˜¯AOPçš„æ ¸å¿ƒï¼ŒSpringé»˜è®¤ä½¿ç”¨AspectJä½œä¸ºåˆ‡å…¥ç‚¹è¯­æ³•</li>
<li>åˆ‡é¢ï¼ˆAspectï¼‰: åˆ‡é¢æ˜¯é€šçŸ¥å’Œåˆ‡ç‚¹çš„ç»“åˆï¼Œå¯èƒ½ä¼šæ¨ªåˆ‡å¤šä¸ªå¯¹è±¡</li>
<li>å¼•å…¥ï¼ˆIntroductionï¼‰ï¼šå¼•å…¥å…è®¸æˆ‘ä»¬å‘ç°æœ‰çš„ç±»æ·»åŠ æ–°çš„æ–¹æ³•æˆ–è€…å±æ€§ï¼ŒAOPå…è®¸åœ¨è¿è¡Œæ—¶åŠ¨æ€çš„å‘ä»£ç†å¯¹è±¡å®ç°æ–°çš„æ¥å£æ¥å®Œæˆä¸€äº›é¢å¤–çš„åŠŸèƒ½å¹¶ä¸”ä¸å½±å“ç°æœ‰å¯¹è±¡çš„åŠŸèƒ½</li>
<li>ç»‡å…¥ï¼ˆWeavingï¼‰: å°†å¢å¼ºå¤„ç†æ·»åŠ åˆ°ç›®æ ‡å¯¹è±¡ä¸­ï¼Œå¹¶åˆ›å»ºä¸€ä¸ªè¢«å¢å¼ºçš„å¯¹è±¡ï¼Œè¿™ä¸ªè¿‡ç¨‹å°±æ˜¯ç»‡å…¥ã€‚Springå’Œå…¶ä»–çº¯AOPæ¡†æ¶ä¸€æ ·ï¼Œåœ¨è¿è¡Œæ—¶å®Œæˆç»‡å…¥</li>
</ol>
</li>
<li><p>Spring ä¸­çš„ AOP æ˜¯é€šè¿‡åŠ¨æ€ä»£ç†å®ç°çš„ï¼Œä¸èƒ½æ‹¦æˆªå¯¹å¯¹è±¡å­—æ®µçš„ä¿®æ”¹ï¼Œä¹Ÿä¸æ”¯æŒæ„é€ å™¨è¿æ¥ç‚¹,æ— æ³•åœ¨ Bean åˆ›å»ºæ—¶åº”ç”¨é€šçŸ¥ï¼</p>
</li>
<li><p>Spring AOP ä¸­æœ‰ 5 ä¸­é€šçŸ¥ç±»å‹ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/7c1d36d77b3d405328d28bb915250fc7-28909" alt="é€šçŸ¥ç±»å‹"></p>
<ul>
<li>ç¯ç»•é€šçŸ¥ç±»å‹<code>@Around</code>å°†æ•´ä¸ªç›®æ ‡æ–¹æ³•å°è£…äº†èµ·æ¥ï¼Œåœ¨ä½¿ç”¨æ—¶ï¼Œä¼ å…¥<code>ProceedingJoinPoint</code>ç±»å‹çš„å‚æ•°ï¼Œè°ƒç”¨<code>proceed()</code>æ–¹æ³•æ˜¯ä¼šè¿›å…¥ç›®æ ‡æ–¹æ³•ä¸­è¿”å›ï¼Œå¦åˆ™åŸç›®æ ‡æ–¹æ³•è¢«é˜»å¡è°ƒç”¨</li>
<li>åç½®é€šçŸ¥æ˜¯å½“æŸä¸ªè¿æ¥ç‚¹é€€å‡ºçš„æ—¶å€™æ‰§è¡Œçš„é€šçŸ¥ï¼Œè€Œä¸ç®¡æ˜¯æ­£å¸¸è¿”å›è¿˜æ˜¯å‘ç”Ÿå¼‚å¸¸åçš„é€€å‡ºï¼Œè¯´ç™½äº†å°±æ˜¯ä¼šåœ¨è¿”å›åé€šçŸ¥å’ŒæŠ›å‡ºå¼‚å¸¸åé€šçŸ¥æ‰§è¡Œ</li>
</ul>
</li>
<li><p>Spring AOPæ˜¯Springçš„ä¸€ä¸ªé‡è¦ç»„ä»¶ï¼Œä½†æ˜¯Spring IOCå¹¶ä¸ä¾èµ–äºSpring AOPï¼Œè¿™æ„å‘³ç€å¯ä»¥è‡ªç”±é€‰æ‹©æ˜¯å¦ä½¿ç”¨AOPï¼ŒAOPæä¾›äº†å¼ºå¤§çš„ä¸­é—´ä»¶è§£å†³æ–¹æ¡ˆï¼Œè¿™ä½¿å¾—Spring IOCæ›´åŠ å®Œå–„ã€‚</p>
</li>
<li><p><strong>AOPèƒ½ç”¨æ¥å®ç°æ—¥å¿—ç›‘å¬ã€äº‹åŠ¡ç®¡ç†ã€æ•ˆç‡æ£€æŸ¥ã€æƒé™æ§åˆ¶ç­‰ã€‚</strong>AOPèƒ½å¤Ÿå‡å°‘ç³»ç»Ÿçš„é‡å¤ä»£ç ï¼Œé™ä½æ¨¡å—é—´çš„è€¦åˆåº¦ï¼Œå¹¶æœ‰åˆ©äºæœªæ¥çš„å¯æ‹“å±•æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚</p>
</li>
<li><p>è¢«å®šä¹‰ä¸ºåˆ‡é¢çš„ç±»éœ€è¦ <code>@Component</code> æ³¨è§£æ ‡æ³¨ã€‚</p>
</li>
<li><p>Springæä¾›äº†3ç§ç±»å‹çš„AOPæ”¯æŒï¼š</p>
<ol>
<li>åŸºäºä»£ç†çš„ç»å…¸SpringAOPï¼ˆéœ€è¦å®ç°æ¥å£ï¼Œæ‰‹åŠ¨åˆ›å»ºä»£ç†ï¼‰</li>
<li>çº¯POJOåˆ‡é¢ï¼ˆä½¿ç”¨XMLé…ç½®ï¼Œaopå‘½åç©ºé—´ï¼‰</li>
<li><code>@AspectJ</code>æ³¨è§£é©±åŠ¨çš„åˆ‡é¢ï¼ˆä½¿ç”¨æ³¨è§£çš„æ–¹å¼ï¼‰</li>
</ol>
</li>
<li><p>AOPå®ç°æ—¥å¿—ç›‘å¬çš„æ¯”è¾ƒå¥½çš„æ ·ä¾‹æ•ˆæœï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/af330349070ce3c0d890c6089e4053da-184252" alt="æ—¥å¿—ç®¡ç†"></p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/bb2526c43285284bfd389f5189cff547-84900" alt="æ—¥å¿—ç®¡ç†è¯¦æƒ…"></p>
</li>
</ol>
<h2 id="å£°æ˜ä¸€ä¸ªPointCutï¼ˆåˆ‡ç‚¹ï¼‰"><a href="#å£°æ˜ä¸€ä¸ªPointCutï¼ˆåˆ‡ç‚¹ï¼‰" class="headerlink" title="å£°æ˜ä¸€ä¸ªPointCutï¼ˆåˆ‡ç‚¹ï¼‰"></a>å£°æ˜ä¸€ä¸ªPointCutï¼ˆåˆ‡ç‚¹ï¼‰</h2><ol>
<li><p>Spring AOPä»…æ”¯æŒSpring Beanå¯æ‰§è¡Œæ–¹æ³•è¿æ¥ç‚¹ï¼Œå› æ­¤åœ¨ Spring AOP ä¸­ï¼Œè¿æ¥ç‚¹æ€»æ˜¯æ–¹æ³•çš„è°ƒç”¨ã€‚</p>
</li>
<li><p>åˆ‡ç‚¹å¯ä»¥é€šè¿‡æ³¨è§£<code>@Pointcut</code>æ¥å£°æ˜ï¼Œä½œä¸ºPointcut æ ‡è¯†çš„æ–¹æ³•è¿”å›ç±»å‹å¿…é¡»æ˜¯<code>void</code>ã€‚ç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Pointcut</span>(<span class="string">"execution(* transfer(..))"</span>) <span class="comment">// the pointcut expression</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">anyOldTransfer</span><span class="params">()</span> </span>&#123;&#125; <span class="comment">// the pointcut signature</span></span><br></pre></td></tr></table></figure>



</li>
</ol>
<ol start="3">
<li><p>Spring AOPå€ŸåŠ©äº†AspectJçš„è¯­æ³•ï¼Œä½†åº•å±‚æŠ€æœ¯ç”¨çš„è¿˜æ˜¯Springè‡ªå·±çš„ã€‚å› æ­¤AspectJçš„åˆ‡ç‚¹è¯­æ³•å¯ä»¥å‚è€ƒ<a href="https://www.eclipse.org/aspectj/doc/released/progguide/index.html" target="_blank" rel="noopener">AspectJè¯­æ³•æŒ‡å¯¼</a>ï¼ŒSpring AOPæ”¯æŒçš„AspectJ åˆ‡ç‚¹æ ‡è¯†ç¬¦ï¼š</p>
<ul>
<li><code>execution</code>ï¼šç”¨äºåŒ¹é…æ–¹æ³•æ‰§è¡Œè¿æ¥ç‚¹ï¼ˆåŸºç¡€åˆ‡ç‚¹æ ‡è¯†ç¬¦ï¼‰</li>
<li><code>within</code>ï¼šé™åˆ¶æ€§åŒ¹é…æŒ‡å®šç±»å‹çš„è¿æ¥ç‚¹ï¼ˆèŒƒå›´å‹ï¼‰</li>
<li><code>this</code>ï¼šé™åˆ¶æ€§åŒ¹é…æŒ‡å®šç±»å‹çš„å®ä¾‹åŠå…¶å­ç±»çš„è¿æ¥ç‚¹ï¼ˆç²¾ç¡®å‹ï¼‰</li>
<li><code>target</code>ï¼šé™åˆ¶æ€§åŒ¹é…ç›®æ ‡Objectæ˜¯ç»™å®šç±»å‹å®ä¾‹ï¼ˆä¸åŒ…å«å­ç±»ï¼‰çš„è¿æ¥ç‚¹ï¼ˆç²¾ç¡®å‹ï¼‰</li>
<li><code>args</code>ï¼šé™åˆ¶æ€§åŒ¹é…ä½¿ç”¨æŒ‡å®šå‚æ•°ç±»å‹ï¼ˆå¦‚<code>String</code>ï¼‰çš„è¿æ¥ç‚¹ï¼ˆèŒƒå›´å‹ï¼‰</li>
<li><code>@target</code>ï¼š<strong>ç±»ä¸Š</strong>å¸¦æœ‰æŒ‡å®šç±»å‹æ³¨è§£çš„è¿æ¥ç‚¹ï¼ˆç²¾ç¡®å‹ï¼‰</li>
<li><code>@args</code>ï¼š<strong>å‚æ•°ç±»å‹</strong>å¸¦æœ‰æŒ‡å®šç±»å‹çš„æ³¨è§£ï¼ˆèŒƒå›´å‹ï¼‰</li>
<li><code>@within</code>ï¼šç›®æ ‡ç±»å‹ä¸Šæœ‰æŒ‡å®šç±»å‹çš„æ³¨è§£ï¼ˆèŒƒå›´æ€§ï¼‰</li>
<li><code>@annotation</code>ï¼šé™åˆ¶æ€§åŒ¹é…æœ‰æŒ‡å®šçš„æ³¨è§£å¯æ‰§è¡Œæ–¹æ³•çš„è¿æ¥ç‚¹ï¼ˆç²¾ç¡®å‹ï¼‰</li>
</ul>
</li>
<li><p>å¯ä»¥é€šè¿‡<code>&amp;&amp;</code>ï¼Œ<code>||</code>ä»¥åŠ<code>!</code>æ¥ç»„åˆè¡¨ç¤ºåˆ‡ç‚¹è¡¨è¾¾å¼ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Pointcut</span>(<span class="string">"execution(public * *(..))"</span>)</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">anyPublicOperation</span><span class="params">()</span> </span>&#123;&#125; </span><br><span class="line"></span><br><span class="line"><span class="meta">@Pointcut</span>(<span class="string">"within(com.xyz.myapp.trading..*)"</span>)</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">inTrading</span><span class="params">()</span> </span>&#123;&#125; </span><br><span class="line"></span><br><span class="line"><span class="meta">@Pointcut</span>(<span class="string">"anyPublicOperation() &amp;&amp; inTrading()"</span>)</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">tradingOperation</span><span class="params">()</span> </span>&#123;&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><code>anyPublicOperation()</code>æŒ‡ç¤ºä»»ä½•publicç±»å‹çš„å¯æ‰§è¡Œæ–¹æ³•</li>
<li><code>inTrading()</code>æŒ‡ç¤ºåœ¨æ¨¡å—<code>trading</code>ä¸­çš„å¯æ‰§è¡Œæ–¹æ³•</li>
<li><code>tradingOperation()</code>æŒ‡ç¤ºåœ¨æ¨¡å—<code>trading</code>ä¸­çš„publicç±»å‹çš„å¯æ‰§è¡Œæ–¹æ³•</li>
</ul>
</li>
<li><p>Spring AOPçš„å¤§å¤šæ•°ä½¿ç”¨è€…å–œæ¬¢ä½¿ç”¨<code>execution</code>æ¥æŒ‡ç¤ºè¿æ¥ç‚¹ï¼Œæ ¼å¼å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">execution(modifiers-pattern? ret-type-pattern declaring-type-pattern?name-pattern(param-pattern) <span class="keyword">throws</span>-pattern?)</span><br></pre></td></tr></table></figure>

<ul>
<li><code>ret-type-pattern</code>ã€<code>name-pattern</code>ã€<code>param-pattern</code>æ˜¯å¿…é¡»æœ‰çš„ï¼Œå…¶ä»–çš„éƒ½æ˜¯å¯é€‰çš„</li>
<li><code>*</code>æ˜¯ä½¿ç”¨æœ€å¤šçš„è¿”å›ç±»å‹ï¼Œç”¨äºåŒ¹é…ä»»æ„è¿”å›ç±»å‹</li>
<li>å‚æ•°ç±»å‹ä½¿ç”¨<code>()</code>è¡¨ç¤ºæ²¡æœ‰å‚æ•°ï¼Œ<code>(..)</code>è¡¨ç¤ºå¯ä»¥æœ‰ä»»æ„ä¸ªå‚æ•°ï¼Œ<code>(*)</code>è¡¨ç¤ºåªæœ‰ä¸€ä¸ªä»»æ„ç±»å‹çš„å‚æ•°ï¼Œ<code>(*,String)</code>åŒ¹é…ç¬¬ä¸€ä¸ªæ˜¯ä»»æ„ç±»å‹çš„å‚æ•°ï¼Œç¬¬äºŒä¸ªæ˜¯Stringç±»å‹çš„å¯æ‰§è¡Œæ–¹æ³•</li>
</ul>
</li>
<li><p>ç¤ºä¾‹ï¼š</p>
<ul>
<li>ä»»æ„publicçš„å¯æ‰§è¡Œæ–¹æ³•ï¼š<code>execution(public * *(..))</code></li>
<li>ä»»æ„åç§°ä»¥setå¼€å¤´çš„å¯æ‰§è¡Œæ–¹æ³•ï¼š<code>execution(* set*(..))</code></li>
<li>æŒ‡å®šåˆ°<code>com.xyz.service.AccountService</code>ä¸‹ä»»æ„å¯æ‰§è¡Œæ–¹æ³•ï¼š<code>execution(* com.xyz.service.AccountService.*(..))</code></li>
<li>æŒ‡å®šåˆ°åŒ…<code>com.xyz.service</code>ä¸‹çš„ä»»æ„å¯æ‰§è¡Œæ–¹æ³•ï¼š<code>execution(* com.xyz.service.*.*(..))</code></li>
<li>æŒ‡å®šåˆ°åŒ…<code>com.xyz.service</code>æˆ–è€…ä»»æ„ä¸€ä¸ªå­åŒ…ä¸‹çš„ä»»æ„å¯æ‰§è¡Œæ–¹æ³•ï¼š<code>execution(* com.xyz.service..*.*(..))</code></li>
<li>åœ¨åŒ…<code>com.xyz.service</code>ä¸‹ï¼ˆä¸åŒ…å«å­åŒ…ï¼‰çš„ä»»æ„è¿æ¥ç‚¹ï¼š<code>within(com.xyz.service.*)</code></li>
<li>ä½¿ç”¨äº†<code>@Transactional</code>æ³¨è§£çš„å¯æ‰§è¡Œæ–¹æ³•çš„ä»»æ„è¿æ¥ç‚¹ï¼š<code>@annotation(org.springframework.transaction.annotation.Transactional)</code></li>
<li>åªæœ‰ä¸€ä¸ªå‚æ•°ï¼Œè€Œä¸”è¿è¡Œæ—¶ä¼ é€’äº†<code>@Classified</code>æ³¨è§£çš„ä»»æ„è¿æ¥ç‚¹ï¼š<code>@args(com.xyz.security.Classified)</code></li>
<li>â€¦ â€¦</li>
</ul>
</li>
<li><p>æ¨èåšå®¢ï¼š<a href="https://www.cnblogs.com/zhangxufeng/p/9160869.htmlï¼Œå®åœ¨ä¸å¤ªæ¸…æ¥šå¯ä»¥å¯¹ç…§å®˜æ–¹æ–‡æ¡£è¿›è¡Œè¯•éªŒï¼Œä»¥å®é™…æ•ˆæœä¸ºå‡†ï¼" target="_blank" rel="noopener">https://www.cnblogs.com/zhangxufeng/p/9160869.htmlï¼Œå®åœ¨ä¸å¤ªæ¸…æ¥šå¯ä»¥å¯¹ç…§å®˜æ–¹æ–‡æ¡£è¿›è¡Œè¯•éªŒï¼Œä»¥å®é™…æ•ˆæœä¸ºå‡†ï¼</a></p>
</li>
</ol>
<h2 id="é€šçŸ¥ï¼ˆAdviceï¼‰"><a href="#é€šçŸ¥ï¼ˆAdviceï¼‰" class="headerlink" title="é€šçŸ¥ï¼ˆAdviceï¼‰"></a>é€šçŸ¥ï¼ˆAdviceï¼‰</h2><ol>
<li><p>5ç§ç±»å‹çš„é€šçŸ¥ï¼š</p>
<ul>
<li><code>@Before</code> ï¼šåœ¨åˆ‡å…¥ç‚¹å¼€å§‹å¤„åˆ‡å…¥å†…å®¹</li>
<li><code>@AfterReturning</code> ï¼šåœ¨åˆ‡å…¥ç‚¹ return å†…å®¹ä¹‹ååˆ‡å…¥å†…å®¹ï¼ˆå¯ä»¥ç”¨æ¥å¯¹å¤„ç†è¿”å›å€¼åšä¸€äº›åŠ å·¥å¤„ç†ï¼‰</li>
<li><code>@AfterThrowing</code> ï¼šç”¨æ¥å¤„ç†å½“åˆ‡å…¥å†…å®¹éƒ¨åˆ†æŠ›å‡ºå¼‚å¸¸ä¹‹åçš„å¤„ç†é€»è¾‘</li>
<li><code>@After</code> ï¼šåœ¨åˆ‡å…¥ç‚¹ç»“å°¾å¤„åˆ‡å…¥å†…å®¹</li>
<li><code>@Around</code> ï¼šåœ¨åˆ‡å…¥ç‚¹å‰ååˆ‡å…¥å†…å®¹ï¼Œå¹¶è‡ªå·±æ§åˆ¶ä½•æ—¶æ‰§è¡Œåˆ‡å…¥ç‚¹è‡ªèº«çš„å†…å®¹</li>
</ul>
</li>
<li><p>åœ¨å®é™…æƒ…å†µä¸‹ï¼Œå¯¹åŒä¸€ä¸ªæ¥å£åšå¤šä¸ªåˆ‡é¢æ—¶ä¼šé¢ä¸´ä¸€ä¸ªä¼˜å…ˆçº§çš„é—®é¢˜ï¼Œè¿™å°±éœ€è¦ä½¿ç”¨ <code>@Order(i)</code> æ³¨è§£æ¥æ ‡è¯†åˆ‡é¢çš„ä¼˜å…ˆçº§, <code>i</code> çš„å€¼è¶Šå°ï¼Œä¼˜å…ˆçº§è¶Šé«˜ã€‚<strong>åœ¨åˆ‡å…¥ç‚¹å‰çš„æ“ä½œï¼ŒæŒ‰orderçš„å€¼ç”±å°åˆ°å¤§æ‰§è¡Œï¼Œåœ¨åˆ‡å…¥ç‚¹åçš„æ“ä½œï¼ŒæŒ‰orderçš„å€¼ç”±å¤§åˆ°å°æ‰§è¡Œï¼</strong></p>
</li>
<li><p>åœ¨è¿›è¡Œé€šçŸ¥å¤„ç†çš„æ—¶å€™ï¼Œ5ä¸­ç±»å‹é€šçŸ¥çš„å¤„ç†æ˜¯æœ‰å…ˆåé¡ºåºçš„ï¼Œé»˜è®¤é¡ºåºå¦‚ä¸‹ï¼Œå¦‚æœæœ‰ç‰¹æ®Šå¤„ç†é™¤å¤–ï¼š</p>
<ul>
<li><code>@Around</code> &gt; <code>@Before</code> &gt; <code>@AfterThrowing</code>&gt;<code>@AfterReturning</code> &gt; <code>@After</code> </li>
<li>å¦‚æœ<code>@Around</code>ä¸æ‰§è¡Œ<code>proceed()</code>æ–¹æ³•ï¼Œåˆ™å…¶ä»–é€šçŸ¥æ˜¯æ— æ³•æ‰§è¡Œçš„</li>
</ul>
</li>
<li><p>é™¤äº†ç¯ç»•é€šçŸ¥å¯ä»¥æ·»åŠ <code>ProceedingJoinPoint</code>ç±»å‹çš„å‚æ•°å¤–ï¼Œå…¶ä»–çš„é€šçŸ¥éƒ½å¯ä»¥æ·»åŠ <code>JoinPoint</code>ç±»å‹çš„å‚æ•°ã€‚</p>
</li>
<li><p><code>@Before</code>é€šçŸ¥å¯ä»¥æ¥å—åˆ‡ç‚¹çš„æ–¹æ³•å‚æ•°ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Before</span>(value = <span class="string">"execution(public * com.example.aop.controller..*(..))&amp;&amp;args(result)"</span>,argNames = <span class="string">"joinPoint,result"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">beforeAdvice</span><span class="params">(JoinPoint joinPoint,Result result)</span></span>&#123;</span><br><span class="line">        log.info(joinPoint.toString());</span><br><span class="line">        System.out.println(result);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><p>@Beforeæ³¨è§£ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Retention</span>(RetentionPolicy.RUNTIME)</span><br><span class="line"><span class="meta">@Target</span>(&#123;ElementType.METHOD&#125;)</span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> Before &#123;</span><br><span class="line">    <span class="function">String <span class="title">value</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function">String <span class="title">argNames</span><span class="params">()</span> <span class="keyword">default</span> ""</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>è¯¥æ³¨è§£åªèƒ½ç”¨åœ¨æ–¹æ³•ä¸Š</p>
</li>
<li><p><code>value</code>ç”¨äºä¼ é€’åˆ‡ç‚¹</p>
</li>
<li><p><code>argNames</code>å¯ä»¥æ¥å—æ–¹æ³•çš„å‚æ•°å</p>
</li>
</ul>
</li>
<li><p><code>@AfterReturning</code>é€šçŸ¥å¯ä»¥é€šè¿‡å‚æ•°æ¥å—åˆ‡ç‚¹æ–¹æ³•çš„è¿”å›å€¼ä¹Ÿå¯ä»¥è·å–å‚æ•°å€¼ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ç¤ºä¾‹1   </span></span><br><span class="line">		<span class="meta">@AfterReturning</span>(value = <span class="string">"annotationPointCut()"</span>,returning = <span class="string">"res"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">afterReturnAdvice</span><span class="params">(JoinPoint joinPoint,Object res)</span></span>&#123;</span><br><span class="line">        log.info(joinPoint.toString());</span><br><span class="line">        System.out.println(res);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç¤ºä¾‹2</span></span><br><span class="line">    <span class="meta">@AfterReturning</span>(value = <span class="string">"execution(public * com.example.aop.controller..*(..))&amp;&amp;args(result)"</span>,returning = <span class="string">"res"</span>,argNames = <span class="string">"joinPoint,res,result"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">afterReturnAdvice2</span><span class="params">(JoinPoint joinPoint,Object res,Result result)</span></span>&#123;</span><br><span class="line">        log.info(joinPoint.toString());</span><br><span class="line">        System.out.println(result);</span><br><span class="line">        System.out.println(res);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><p><code>@AfterReturning</code>æ³¨è§£ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Retention</span>(RetentionPolicy.RUNTIME)</span><br><span class="line"><span class="meta">@Target</span>(&#123;ElementType.METHOD&#125;)</span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> AfterReturning &#123;</span><br><span class="line">    <span class="function">String <span class="title">value</span><span class="params">()</span> <span class="keyword">default</span> ""</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function">String <span class="title">pointcut</span><span class="params">()</span> <span class="keyword">default</span> ""</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function">String <span class="title">returning</span><span class="params">()</span> <span class="keyword">default</span> ""</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function">String <span class="title">argNames</span><span class="params">()</span> <span class="keyword">default</span> ""</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>value</code>ç”¨äºä¼ é€’åˆ‡ç‚¹,<code>pointcut</code>ä¹Ÿæ˜¯ </p>
</li>
<li><p><code>argNames</code>å¯ä»¥æ¥å—æ–¹æ³•çš„å‚æ•°å</p>
</li>
<li><p><code>returning</code>å¯ä»¥æ¥å—æ–¹æ³•çš„è¿”å›å€¼ï¼Œç„¶åä¼ é€’åˆ°é€šçŸ¥çš„å‚æ•°ä¸­</p>
</li>
</ul>
</li>
<li><p><code>@AfterThrowing</code>é€šçŸ¥å¯ä»¥é€šè¿‡å‚æ•°æ¥å—åˆ‡ç‚¹æ–¹æ³•çš„å¼‚å¸¸ï¼š</p>
<ul>
<li><p><code>@AfterThrowing</code>æ³¨è§£ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Retention</span>(RetentionPolicy.RUNTIME)</span><br><span class="line"><span class="meta">@Target</span>(&#123;ElementType.METHOD&#125;)</span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> AfterThrowing &#123;</span><br><span class="line">    <span class="function">String <span class="title">value</span><span class="params">()</span> <span class="keyword">default</span> ""</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function">String <span class="title">pointcut</span><span class="params">()</span> <span class="keyword">default</span> ""</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function">String <span class="title">throwing</span><span class="params">()</span> <span class="keyword">default</span> ""</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function">String <span class="title">argNames</span><span class="params">()</span> <span class="keyword">default</span> ""</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>throwing</code>ç”¨äºæ¥å—å¼‚å¸¸ï¼Œç„¶åä¼ é€’åˆ°é€šçŸ¥çš„å‚æ•°ä¸­</p>
</li>
</ul>
</li>
<li><p><code>@After</code>æ³¨è§£ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Retention</span>(RetentionPolicy.RUNTIME)</span><br><span class="line"><span class="meta">@Target</span>(&#123;ElementType.METHOD&#125;)</span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> After &#123;</span><br><span class="line">    <span class="function">String <span class="title">value</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function">String <span class="title">argNames</span><span class="params">()</span> <span class="keyword">default</span> ""</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>@Around</code>æ³¨è§£ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Retention</span>(RetentionPolicy.RUNTIME)</span><br><span class="line"><span class="meta">@Target</span>(&#123;ElementType.METHOD&#125;)</span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> Around &#123;</span><br><span class="line">    <span class="function">String <span class="title">value</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function">String <span class="title">argNames</span><span class="params">()</span> <span class="keyword">default</span> ""</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>å¯ä»¥é€šè¿‡è‡ªå®šä¹‰æ³¨è§£æ¥è¡¨ç¤ºåˆ‡ç‚¹ï¼Œæ ¼å¼ç±»ä¼¼ä¸‹é¢ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"> <span class="comment">/*</span></span><br><span class="line"><span class="comment"> * Target çš„æ³¨è§£ç±»å‹    é€‚ç”¨åœºæ™¯</span></span><br><span class="line"><span class="comment"> *    TYPE              ç±»(åŒ…æ‹¬Enum)æ¥å£</span></span><br><span class="line"><span class="comment"> *    PACKAGE           åŒ…</span></span><br><span class="line"><span class="comment"> *    METHOD            æ–¹æ³•</span></span><br><span class="line"><span class="comment"> *    FIELD             æˆå‘˜åŸŸ(åŒ…æ‹¬Enumå¸¸é‡)</span></span><br><span class="line"><span class="comment"> *    CONSTRUCTOR       æ„é€ å™¨</span></span><br><span class="line"><span class="comment"> *    PARAMETER         æ–¹æ³•æˆ–æ„é€ å™¨å‚æ•°</span></span><br><span class="line"><span class="comment"> *    LOCAL_VARIABLE    æœ¬åœ°å˜é‡</span></span><br><span class="line"><span class="comment"> *    ANNOTATION_TYPE   æ³¨è§£ç±»å‹å£°æ˜</span></span><br><span class="line"><span class="comment"> *    java 8 æ–°åŠ </span></span><br><span class="line"><span class="comment"> *    TYPE_PARAMETER    ç±»å‹å‚æ•°å£°æ˜</span></span><br><span class="line"><span class="comment"> *    TYPE_USE          ç±»å‹çš„ä½¿ç”¨</span></span><br><span class="line"><span class="comment"> * Retentionçš„ä¿ç•™ç­–ç•¥</span></span><br><span class="line"><span class="comment"> *    ä¿ç•™è§„åˆ™           æè¿°</span></span><br><span class="line"><span class="comment"> *    SOURCE             æ³¨é‡Šå°†è¢«ç¼–è¯‘å™¨ä¸¢å¼ƒ,ä¸åŒ…æ‹¬åœ¨ç±»æ–‡ä»¶ä¸­</span></span><br><span class="line"><span class="comment"> *    CLASS              æ³¨é‡Šç”±ç¼–è¯‘å™¨è®°å½•åœ¨ç±»æ–‡ä»¶ä¸­,ä½†æ˜¯ä¸éœ€è¦åœ¨è¿è¡Œæ—¶è¢«è™šæ‹Ÿæœº(VM)ä¿ç•™ã€‚é»˜è®¤ç­–ç•¥</span></span><br><span class="line"><span class="comment"> *    RUNTIME            æ³¨é‡Šç”±ç¼–è¯‘å™¨è®°å½•åœ¨ç±»æ–‡ä»¶ä¸­ï¼Œå¹¶åœ¨è¿è¡Œæ—¶ç”±VMä¿å­˜ï¼Œå› æ­¤å¯ä»¥åå°„å¯è¯»å–å®ƒä»¬</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@Target</span>(ElementType.METHOD) <span class="comment">//æ³¨è§£æ”¾ç½®çš„ç›®æ ‡ä½ç½®,METHODæ˜¯å¯æ³¨è§£åœ¨æ–¹æ³•çº§åˆ«ä¸Š</span></span><br><span class="line"><span class="meta">@Retention</span>(RetentionPolicy.RUNTIME) <span class="comment">//æ³¨è§£åœ¨å“ªä¸ªé˜¶æ®µæ‰§è¡Œ</span></span><br><span class="line"><span class="meta">@Documented</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> OperLog &#123;</span><br><span class="line">    <span class="function">String <span class="title">operModul</span><span class="params">()</span> <span class="keyword">default</span> ""</span>; <span class="comment">// æ“ä½œæ¨¡å—</span></span><br><span class="line">    <span class="function">String <span class="title">operType</span><span class="params">()</span> <span class="keyword">default</span> ""</span>;  <span class="comment">// æ“ä½œç±»å‹</span></span><br><span class="line">    <span class="function">String <span class="title">operDesc</span><span class="params">()</span> <span class="keyword">default</span> ""</span>;  <span class="comment">// æ“ä½œè¯´æ˜</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ³¨è§£æ–¹å¼çš„å‚æ•°ä¼ é€’ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Retention</span>(RetentionPolicy.RUNTIME)</span><br><span class="line"><span class="meta">@Target</span>(ElementType.METHOD)</span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> Log &#123;</span><br><span class="line">    <span class="function">String <span class="title">value</span><span class="params">()</span> <span class="keyword">default</span> ""</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"> <span class="meta">@Pointcut</span>(value = <span class="string">"@annotation(log)"</span>, argNames = <span class="string">"log"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">pointcut</span><span class="params">(Log log)</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Around</span>(value = <span class="string">"pointcut(log)"</span>, argNames = <span class="string">"joinPoint,log"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Object <span class="title">around</span><span class="params">(ProceedingJoinPoint joinPoint, Log log)</span> <span class="keyword">throws</span> Throwable </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            System.out.println(log.value());</span><br><span class="line">            System.out.println(<span class="string">"around"</span>);</span><br><span class="line">            <span class="keyword">return</span> joinPoint.proceed();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Throwable throwable) &#123;</span><br><span class="line">            <span class="keyword">throw</span> throwable;</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">"around"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>ç¯ç»•é€šçŸ¥éå¸¸å¼ºå¤§ï¼Œå¯ä»¥å†³å®šç›®æ ‡æ–¹æ³•æ˜¯å¦æ‰§è¡Œï¼Œä»€ä¹ˆæ—¶å€™æ‰§è¡Œï¼Œæ‰§è¡Œæ—¶æ˜¯å¦éœ€è¦æ›¿æ¢æ–¹æ³•å‚æ•°ï¼Œæ‰§è¡Œå®Œæ¯•æ˜¯å¦éœ€è¦æ›¿æ¢è¿”å›å€¼ã€‚ </p>
</li>
<li><p>ç¯ç»•é€šçŸ¥ç¬¬ä¸€ä¸ªå‚æ•°å¿…é¡»æ˜¯org.aspectj.lang.ProceedingJoinPointç±»å‹ ã€‚</p>
</li>
</ol>
<h2 id="æ•°æ®æå–"><a href="#æ•°æ®æå–" class="headerlink" title="æ•°æ®æå–"></a>æ•°æ®æå–</h2><ol>
<li><p><code>HttpServletRequest</code>ä»¥åŠ<code>HttpServletResponse</code>ï¼š</p>
<ol>
<li><p>å®ä¾‹è·å–ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// è·å–RequestAttributes</span></span><br><span class="line">RequestAttributes requestAttributes = RequestContextHolder.getRequestAttributes();</span><br><span class="line"><span class="comment">// RequestAttributes requestAttributes = RequestContextHolder.currentRequestAttributes(); // è¿™ä¸ªæ–¹æ³•ä¹Ÿå¯ä»¥</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ä»è·å–çš„RequestAttributesä¸­è·å–HttpServletRequestçš„ä¿¡æ¯</span></span><br><span class="line">HttpServletRequest request = (HttpServletRequest) requestAttributes</span><br><span class="line">  .resolveReference(RequestAttributes.REFERENCE_REQUEST);</span><br><span class="line">HttpServletRequest request = ((ServletRequestAttributes)requestAttributes).getRequest();</span><br><span class="line">HttpServletResponse response = ((ServletRequestAttributes)requestAttributes).getResponse();</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>HttpServletRequest</code>æ–¹æ³•è¯´æ˜(å¸¸ç”¨)ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">request.getMethod() <span class="comment">//åŠ¨è¯ GET POSTç­‰</span></span><br><span class="line">  request.getHeader(<span class="string">"Connection"</span>) <span class="comment">//è¯·æ±‚å¤´çš„è·å–</span></span><br><span class="line">  request.getServletPath() <span class="comment">// è·å–URI æ¯”å¦‚ï¼š/api/test</span></span><br><span class="line">  request.getCookies() <span class="comment">// è·å–æ‰€æœ‰çš„Cookie</span></span><br><span class="line">  request.getRequestedSessionId() <span class="comment">// è·å–SessionID</span></span><br><span class="line">  request.getRequestURL() <span class="comment">// è·å–é™¤å‚æ•°å¤–çš„å®Œæ•´URL</span></span><br><span class="line">  request.getProtocol() <span class="comment">// è·å–httpåè®®æ ‡å‡† æ¯”å¦‚ï¼šHTTP/1.1</span></span><br><span class="line">  request.getQueryString() <span class="comment">// è¯¥æ–¹æ³•è¿”å›è¯·æ±‚ä¸­çš„å‚æ•°éƒ¨åˆ†ï¼ˆå‚æ•°å+å€¼ï¼‰</span></span><br><span class="line">  request.getRemoteAddr() <span class="comment">// è¯¥æ–¹æ³•è¿”å›è¯·æ±‚çš„å®¢æˆ·æœºçš„IPåœ°å€</span></span><br><span class="line">  request.getRemoteHost() <span class="comment">// è¯¥æ–¹æ³•è¿”å›è¯·æ±‚çš„å®¢æˆ·æœºçš„å®Œæ•´ä¸»æœºå</span></span><br><span class="line">  request.getRemotePort() <span class="comment">// è¯¥æ–¹æ³•è¿”å›å®¢æˆ·æœºæ‰€ä½¿ç”¨çš„ç½‘ç»œç«¯å£å·</span></span><br><span class="line">  request.getLocalPort() <span class="comment">// è¯¥æ–¹æ³•è¿”å›webæœåŠ¡å™¨æ‰€ä½¿ç”¨çš„ç½‘ç»œç«¯å£å·</span></span><br><span class="line">  request.getLocalAddr() <span class="comment">// è¯¥æ–¹æ³•è¿”å›WEBæœåŠ¡å™¨çš„IPåœ°å€</span></span><br><span class="line">  request.getLocalName() <span class="comment">// è¯¥æ–¹æ³•è¿”å›WEBæœåŠ¡å™¨çš„ä¸»æœºå</span></span><br><span class="line">  request.getAuthType() <span class="comment">// è¯¥è¿”å›åŒ…å«ç”¨æ¥ä¿æŠ¤servletèº«ä»½éªŒè¯æ–¹æ¡ˆçš„åç§°ï¼Œå¦‚BASICå’ŒSSLï¼Œå¦‚æœæ˜¯nullè¡¨ç¤ºæœªä¸å—ä¿æŠ¤</span></span><br><span class="line">  request.getScheme() <span class="comment">// è¿”å›è¯·æ±‚çš„æ–¹æ¡ˆåï¼Œå¦‚http,ftp,httpsç­‰</span></span><br><span class="line">  request.getInputStream() <span class="comment">// è·å–bodyä¸­çš„å†…å®¹</span></span><br><span class="line">  request.getParameter(<span class="string">"result"</span>) <span class="comment">// è·å–Paramsä¸­çš„å‚æ•°å€¼</span></span><br><span class="line">  request.getParameterMap() <span class="comment">//è·å–Paramsä¸­çš„æ‰€æœ‰å‚æ•°å€¼ï¼ŒMapå½¢å¼</span></span><br><span class="line">  request.getParameterNames() <span class="comment">// è·å–Paramsä¸­çš„æ‰€æœ‰å‚æ•°åç§°</span></span><br><span class="line">  request.getHeaderNames() <span class="comment">//è·å–Headersä¸­æ‰€æœ‰çš„Headeråç§°</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>è·å–æ‰€æœ‰Paramsï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">        Enumeration&lt;?&gt; temp = request.getParameterNames();</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">null</span> != temp) &#123;</span><br><span class="line">            <span class="keyword">while</span> (temp.hasMoreElements()) &#123;</span><br><span class="line">                String en = (String) temp.nextElement(); <span class="comment">// key</span></span><br><span class="line">                String value = request.getParameter(en); <span class="comment">// value</span></span><br><span class="line">                System.out.println(en);</span><br><span class="line">                System.out.println(value);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"><span class="comment">// æˆ–è€…</span></span><br><span class="line">        Map&lt;String, String[]&gt; map= request.getParameterMap();</span><br><span class="line">        <span class="keyword">for</span>(Map.Entry&lt;String, String[]&gt; entry : map.entrySet())&#123;</span><br><span class="line">            String mapKey = entry.getKey();</span><br><span class="line">            String[] mapValue = entry.getValue();</span><br><span class="line">            System.out.println(mapKey+<span class="string">":"</span>+mapValue[<span class="number">0</span>]);</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>è·å–æ‰€æœ‰çš„Headerï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Enumeration&lt;?&gt; temp = request.getHeaderNames();</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">null</span> != temp) &#123;</span><br><span class="line">    <span class="keyword">while</span> (temp.hasMoreElements()) &#123;</span><br><span class="line">        String en = (String) temp.nextElement();</span><br><span class="line">        String value = request.getHeader(en);</span><br><span class="line">        System.out.println(en);</span><br><span class="line">        System.out.println(value);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>HttpServletResponse</code>ç›¸æ¯”è€Œè¨€å¤šäº†<code>send</code>æ–¹æ³•ï¼Œè€Œå°‘äº†ä¸€äº›å…¶ä»–çš„getæ–¹æ³•ï¼Œéœ€è¦æ—¶å¯ä»¥äº†è§£</p>
</li>
<li><p>IPæå–ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> String <span class="title">getRealIp</span><span class="params">(HttpServletRequest request)</span> </span>&#123;</span><br><span class="line">       <span class="comment">// è¿™ä¸ªä¸€èˆ¬æ˜¯Nginxåå‘ä»£ç†è®¾ç½®çš„å‚æ•°</span></span><br><span class="line">       String ip = request.getHeader(<span class="string">"X-Real-IP"</span>);</span><br><span class="line">       <span class="keyword">if</span> (ip == <span class="keyword">null</span> || ip.length() == <span class="number">0</span> || <span class="string">"unknown"</span>.equalsIgnoreCase(ip)) &#123;</span><br><span class="line">           ip = request.getHeader(<span class="string">"X-Forwarded-For"</span>);</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">if</span> (ip == <span class="keyword">null</span> || ip.length() == <span class="number">0</span> || <span class="string">"unknown"</span>.equalsIgnoreCase(ip)) &#123;</span><br><span class="line">           ip = request.getHeader(<span class="string">"Proxy-Client-IP"</span>);</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">if</span> (ip == <span class="keyword">null</span> || ip.length() == <span class="number">0</span> || <span class="string">"unknown"</span>.equalsIgnoreCase(ip)) &#123;</span><br><span class="line">           ip = request.getHeader(<span class="string">"WL-Proxy-Client-IP"</span>);</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">if</span> (ip == <span class="keyword">null</span> || ip.length() == <span class="number">0</span> || <span class="string">"unknown"</span>.equalsIgnoreCase(ip)) &#123;</span><br><span class="line">           ip = request.getRemoteAddr();</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="comment">// å¤„ç†å¤šIPçš„æƒ…å†µï¼ˆåªå–ç¬¬ä¸€ä¸ªIPï¼‰</span></span><br><span class="line">       <span class="keyword">if</span> (ip != <span class="keyword">null</span> &amp;&amp; ip.contains(<span class="string">","</span>)) &#123;</span><br><span class="line">           String[] ipArray = ip.split(<span class="string">","</span>);</span><br><span class="line">           ip = ipArray[<span class="number">0</span>];</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">return</span> ip;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
<li><p><code>JoinPoint</code>ä»¥åŠ<code>ProceedingJoinPoint</code>ï¼š</p>
<ol>
<li><p>æ–¹æ³•ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Object[] getArgs(); <span class="comment">// è·å–ä¼ å…¥ç›®æ ‡æ–¹æ³•çš„å‚æ•°å¯¹è±¡</span></span><br><span class="line"><span class="function">Signature <span class="title">getSignature</span><span class="params">()</span></span>; <span class="comment">// è·å–å°è£…äº†ç½²åä¿¡æ¯çš„å¯¹è±¡,åœ¨è¯¥å¯¹è±¡ä¸­å¯ä»¥è·å–åˆ°ç›®æ ‡æ–¹æ³•å,æ‰€å±ç±»çš„Classç­‰ä¿¡æ¯</span></span><br><span class="line"><span class="function">Object <span class="title">getTarget</span><span class="params">()</span></span>; <span class="comment">// è·å–è¢«ä»£ç†çš„å¯¹è±¡</span></span><br><span class="line"><span class="function">Object <span class="title">getThis</span><span class="params">()</span></span>; <span class="comment">//è·å–ä»£ç†å¯¹è±¡</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>Signature getSignature()</code>:<strong>ï¼ˆç”¨çš„éå¸¸å¤šï¼‰</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">  <span class="function">String <span class="title">toString</span><span class="params">()</span></span>;<span class="comment">// æ–¹æ³•åç§°å‚æ•°ï¼Œå¦‚ Map com.example.aop.controller.helloPara(Integer,String,String)</span></span><br><span class="line">  <span class="function">String <span class="title">toShortString</span><span class="params">()</span></span>; <span class="comment">//éå¸¸ç®€å•çš„æ–¹æ³•åç§°å‚æ•°ï¼Œå¦‚ controller.helloPara(..)</span></span><br><span class="line">  <span class="function">String <span class="title">toLongString</span><span class="params">()</span></span>; <span class="comment">// è¶…çº§è¯¦ç»†çš„æ–¹æ³•åç§°å‚æ•°ï¼Œå¦‚public java.util.Map com.example.aop.controller.helloPara(java.lang.Integer,java.lang.String,java.lang.String)</span></span><br><span class="line">  <span class="function">String <span class="title">getName</span><span class="params">()</span></span>; <span class="comment">// æ–¹æ³•åç§° ï¼Œå¦‚helloPara</span></span><br><span class="line">  <span class="function"><span class="keyword">int</span> <span class="title">getModifiers</span><span class="params">()</span></span>;</span><br><span class="line">  <span class="function">Class <span class="title">getDeclaringType</span><span class="params">()</span></span>; <span class="comment">// ç›®æ ‡æ–¹æ³•çš„ç±» å¦‚ class com.example.aop.controller</span></span><br><span class="line">  <span class="function">String <span class="title">getDeclaringTypeName</span><span class="params">()</span></span>;<span class="comment">// ç±»å å¦‚com.example.aop.controller</span></span><br><span class="line">      </span><br><span class="line">	Signature signature = joinPoint.getSignature();</span><br><span class="line">MethodSignature methodSignature = (MethodSignature) signature;</span><br><span class="line">String[] parameterNames = methodSignature.getParameterNames(); <span class="comment">//è·å–æ–¹æ³•å‚æ•°åç§°</span></span><br><span class="line">methodSignature.getParameterTypes() <span class="comment">// è·å–æ–¹æ³•å‚æ•°ç±»</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>Object getTarget()</code>ä»¥åŠ<code>Object getThis()</code>:</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Object target=pjp.getTarget();</span><br><span class="line">Object proxy=pjp.getThis();</span><br><span class="line">System.out.println(target.getClass().getName()); <span class="comment">// æ–¹æ³•åç§°</span></span><br><span class="line">System.out.println(proxy.getClass().getName()); <span class="comment">// å¢å¼ºåçš„æ–¹æ³•åç§°</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>MethodSignature</code>ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Class[] getParameterTypes();</span><br><span class="line">String[] getParameterNames();</span><br><span class="line">Class[] getExceptionTypes();</span><br><span class="line"><span class="function">String <span class="title">toString</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function">String <span class="title">toShortString</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function">String <span class="title">toLongString</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function">String <span class="title">getName</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">getModifiers</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function">Class <span class="title">getDeclaringType</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function">String <span class="title">getDeclaringTypeName</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function">Class <span class="title">getReturnType</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function">Method <span class="title">getMethod</span><span class="params">()</span></span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p>ç›®æ ‡æ–¹æ³•è·å–åçš„å¤„ç†æ¨¡æ¿ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// å¤„ç†è¯·æ±‚å‚æ•°</span></span><br><span class="line">String[] paramNames = ((MethodSignature) signature).getParameterNames();</span><br><span class="line">Object[] paramValues = joinPoint.getArgs();</span><br><span class="line"><span class="keyword">int</span> paramLength = <span class="keyword">null</span> == paramNames ? <span class="number">0</span> : paramNames.length;</span><br><span class="line"><span class="keyword">if</span> (paramLength == <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="comment">//</span></span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; paramLength; i++) &#123;</span><br><span class="line">        paramNames[i] <span class="comment">// å‚æ•°åç§°</span></span><br><span class="line">        JSONObject.toJSONString(paramValues[i])<span class="comment">// å‚æ•°å†…å®¹</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





</li>
</ol>
</li>
</ol>
<h2 id="å¼•å…¥-ç›®æ ‡ç±»å¢åŠ æ–¹æ³•"><a href="#å¼•å…¥-ç›®æ ‡ç±»å¢åŠ æ–¹æ³•" class="headerlink" title="å¼•å…¥(ç›®æ ‡ç±»å¢åŠ æ–¹æ³•)"></a>å¼•å…¥(ç›®æ ‡ç±»å¢åŠ æ–¹æ³•)</h2><ol>
<li>æ¦‚å¿µï¼šåœ¨ä¸æ”¹å˜ä¸€ä¸ªç°æœ‰ç±»ä»£ç çš„æƒ…å†µä¸‹ï¼Œä¸ºè¯¥ç±»æ·»åŠ å±æ€§å’Œæ–¹æ³•,å¯ä»¥åœ¨æ— éœ€ä¿®æ”¹ç°æœ‰ç±»çš„å‰æä¸‹ï¼Œè®©å®ƒä»¬å…·æœ‰æ–°çš„è¡Œä¸ºå’ŒçŠ¶æ€ã€‚</li>
<li>ä¸»è¦æ˜¯ä½¿ç”¨<code>@DeclareParents</code>æ³¨è§£æ¥å®ç°ã€‚</li>
</ol>
<h2 id="é‡å¤è·å–RestControllerè¯·æ±‚ä¸­bodyå†…å®¹"><a href="#é‡å¤è·å–RestControllerè¯·æ±‚ä¸­bodyå†…å®¹" class="headerlink" title="é‡å¤è·å–RestControllerè¯·æ±‚ä¸­bodyå†…å®¹"></a>é‡å¤è·å–RestControllerè¯·æ±‚ä¸­bodyå†…å®¹</h2><ol>
<li><p>AOPå¯ä»¥å¯¹RestControllerä¸­çš„æ–¹æ³•è¿›è¡Œåˆ‡é¢ï¼Œè€Œæ¶‰åŠåˆ°è¿™äº›Webè¯·æ±‚çš„å¢å¼ºæ—¶é€šå¸¸ä¼šä½¿ç”¨<code>HttpServletRequest</code>æ¥è·å–è¯·æ±‚çš„bodyç­‰çš„å†…å®¹ï¼Œè·å–bodyå†…å®¹æ—¶å¯èƒ½ä¼šå‡ºç°é—®é¢˜ï¼Œè¿™é‡Œä¸»è¦ä»‹ç»å¦‚ä½•è§£å†³è¿™äº›é—®é¢˜ã€‚</p>
</li>
<li><p><code>HttpServletRequest</code>çš„è·å–ä½¿ç”¨å¦‚ä¸‹æ–¹æ³•ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// è·å–RequestAttributes</span></span><br><span class="line">RequestAttributes requestAttributes = RequestContextHolder.getRequestAttributes();</span><br><span class="line"><span class="comment">// RequestAttributes requestAttributes = RequestContextHolder.currentRequestAttributes(); // è¿™ä¸ªæ–¹æ³•ä¹Ÿå¯ä»¥</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ä»è·å–çš„RequestAttributesä¸­è·å–HttpServletRequestçš„ä¿¡æ¯</span></span><br><span class="line">HttpServletRequest request = (HttpServletRequest) requestAttributes</span><br><span class="line">  .resolveReference(RequestAttributes.REFERENCE_REQUEST);</span><br></pre></td></tr></table></figure>
</li>
<li><p>bodyå†…å®¹çš„è·å–é€šè¿‡ä¸Šé¢çš„æ–¹æ³•çš„requestæ¥å¾—åˆ°ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line">  	System.out.println(<span class="keyword">new</span> String(request.getInputStream().readAllBytes()));</span><br><span class="line">&#125;<span class="keyword">catch</span> (Exception e)&#123;</span><br><span class="line"> 	  System.out.println(e.getMessage());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>éœ€è¦æ³¨æ„çš„æ˜¯bodyçš„è·å–æ–¹æ³•æ˜¯<code>getInputStream</code>ï¼Œè¿™ä¸ªåªèƒ½è¯»å–ä¸€æ¬¡ï¼Œå†æ¬¡è¯»å–ä¼šæŠ›å‡ºå¼‚å¸¸ï¼Œå› æ­¤ï¼Œæƒ³è¦è·å–bodyä¸­çš„å†…å®¹ï¼Œéœ€è¦å®ç°ä¸€ä¸ªç»§æ‰¿<code>HttpServletRequestWrapper</code>çš„ç±»<code>RequestMapper</code>ï¼Œå¹¶é‡å†™é‡Œé¢çš„<code>getInputStream</code>æ–¹æ³•</li>
</ul>
</li>
<li><p>é‡å†™ç»§æ‰¿è‡ª<code>HttpServletRequestWrapper</code>çš„ç±»ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> javax.servlet.ReadListener;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletInputStream;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequestWrapper;</span><br><span class="line"><span class="keyword">import</span> java.io.ByteArrayInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.util.Enumeration;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"><span class="keyword">import</span> java.util.Vector;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ChangeRequestWrapper</span> <span class="keyword">extends</span> <span class="title">HttpServletRequestWrapper</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Map&lt;String, String[]&gt; parameterMap; <span class="comment">// æ‰€æœ‰å‚æ•°çš„Mapé›†åˆ</span></span><br><span class="line">    <span class="keyword">private</span> String body;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ChangeRequestWrapper</span><span class="params">(HttpServletRequest request)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(request);</span><br><span class="line">        parameterMap = request.getParameterMap();</span><br><span class="line">        body= <span class="keyword">new</span> String(request.getInputStream().readAllBytes());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * é‡å†™çš„getInputStreamæ–¹æ³•</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> IOException</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> ServletInputStream <span class="title">getInputStream</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        ByteArrayInputStream is=<span class="keyword">new</span> ByteArrayInputStream(body.getBytes());</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> ServletInputStream() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isFinished</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isReady</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setReadListener</span><span class="params">(ReadListener readListener)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">read</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">                <span class="keyword">return</span> is.read();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// é‡å†™å‡ ä¸ªHttpServletRequestWrapperä¸­çš„æ–¹æ³•</span></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è·å–æ‰€æœ‰å‚æ•°å</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> è¿”å›æ‰€æœ‰å‚æ•°å</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Enumeration&lt;String&gt; <span class="title">getParameterNames</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        Vector&lt;String&gt; vector = <span class="keyword">new</span> Vector&lt;String&gt;(parameterMap.keySet());</span><br><span class="line">        <span class="keyword">return</span> vector.elements();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è·å–æŒ‡å®šå‚æ•°åçš„å€¼ï¼Œå¦‚æœæœ‰é‡å¤çš„å‚æ•°åï¼Œåˆ™è¿”å›ç¬¬ä¸€ä¸ªçš„å€¼ æ¥æ”¶ä¸€èˆ¬å˜é‡ ï¼Œå¦‚textç±»å‹</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> name æŒ‡å®šå‚æ•°å</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> æŒ‡å®šå‚æ•°åçš„å€¼</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getParameter</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        String[] results = parameterMap.get(name);</span><br><span class="line">        <span class="keyword">return</span> results[<span class="number">0</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è·å–æŒ‡å®šå‚æ•°åçš„æ‰€æœ‰å€¼çš„æ•°ç»„ï¼Œå¦‚ï¼šcheckboxçš„æ‰€æœ‰æ•°æ®</span></span><br><span class="line"><span class="comment">     * æ¥æ”¶æ•°ç»„å˜é‡ ï¼Œå¦‚checkobxç±»å‹</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String[] getParameterValues(String name) &#123;</span><br><span class="line">        <span class="keyword">return</span> parameterMap.get(name);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Map&lt;String, String[]&gt; getParameterMap() &#123;</span><br><span class="line">        <span class="keyword">return</span> parameterMap;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setParameterMap</span><span class="params">(Map&lt;String, String[]&gt; parameterMap)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.parameterMap = parameterMap;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>å®ç°ä¸€ä¸ªè¿‡æ»¤å™¨ç±»æ¥ä½¿ç”¨é‡å†™çš„ç»§æ‰¿ç±»ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.*;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LangFilter</span> <span class="keyword">implements</span> <span class="title">Filter</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">(FilterConfig filterConfig)</span> <span class="keyword">throws</span> ServletException </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"ä½¿ç”¨requestWrapperè¿‡æ»¤å™¨"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doFilter</span><span class="params">(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain)</span> <span class="keyword">throws</span> IOException, ServletException </span>&#123;</span><br><span class="line">        ChangeRequestWrapper changeRequestWrapper = <span class="keyword">new</span> ChangeRequestWrapper((HttpServletRequest) servletRequest);</span><br><span class="line">        Map&lt;String, String[]&gt; parameterMap = <span class="keyword">new</span> HashMap&lt;&gt;(changeRequestWrapper.getParameterMap());</span><br><span class="line">        String[] strings = parameterMap.get(<span class="string">"lang"</span>);           <span class="comment">//é€»è¾‘ä»£ç ç»™å®šé»˜è®¤çš„å‚æ•°å€¼,å¦‚æœå‚æ•°ä¸ä¸ºä¸­æ–‡,åˆ™ç›´æ¥è¿”å›å¼‚å¸¸</span></span><br><span class="line">        <span class="keyword">if</span> (strings == <span class="keyword">null</span> || strings.length == <span class="number">0</span>) &#123;</span><br><span class="line">            strings = <span class="keyword">new</span> String[<span class="number">1</span>];</span><br><span class="line">            strings[<span class="number">0</span>] = <span class="string">"zh"</span>;</span><br><span class="line">            parameterMap.put(<span class="string">"lang"</span>, strings);</span><br><span class="line">            changeRequestWrapper.setParameterMap(parameterMap);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            String language = strings[<span class="number">0</span>];</span><br><span class="line">            <span class="keyword">if</span> (!language.equals(<span class="string">"zh"</span>)) &#123;</span><br><span class="line">                Map&lt;String,String&gt; error = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">                error.put(<span class="string">"code"</span>,<span class="string">"500"</span>);</span><br><span class="line"></span><br><span class="line">                ServletOutputStream outputStream = <span class="keyword">null</span>;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    outputStream = servletResponse.getOutputStream();</span><br><span class="line">                    outputStream.write(<span class="number">112</span>);</span><br><span class="line">                &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">                    <span class="keyword">if</span> (outputStream != <span class="keyword">null</span>) &#123;</span><br><span class="line">                        outputStream.flush();</span><br><span class="line">                        outputStream.close();</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//ä½¿ç”¨å¤å†™åçš„wrapper</span></span><br><span class="line">        filterChain.doFilter(changeRequestWrapper, servletResponse);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">destroy</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>åœ¨é¡¹ç›®ä¸­å®ç°äº†è¿™ä¸¤ä¸ªç±»ä¹‹åï¼Œå°±å¯ä»¥åœ¨AOPä¸­è·å–RestControllerçš„bodyä¸­çš„å†…å®¹ï¼</p>
</li>
</ol>
<h2 id="æ³¨æ„"><a href="#æ³¨æ„" class="headerlink" title="æ³¨æ„"></a>æ³¨æ„</h2><ol>
<li>åœ¨ä½¿ç”¨AOPåˆ‡å…¥æ–¹æ³•çš„æ—¶å€™ï¼Œæ–¹æ³•çš„è®¿é—®æ§åˆ¶ä¿®é¥°ç¬¦ä¸å¯ä»¥æ˜¯<code>private</code>ï¼ˆç”±äºCGLibé‡‡ç”¨åŠ¨æ€åˆ›å»ºå­ç±»çš„æ–¹å¼ä»£ç†å¯¹è±¡ï¼Œä¸èƒ½å¯¹ç›®æ ‡ç±»ä¸­çš„finalæˆ–privateæ–¹æ³•è¿›è¡Œä»£ç†ï¼‰ï¼Œå¯ä»¥æ˜¯<code>public</code>ã€<code>protected</code>ä»¥åŠä¸åŠ ä»»ä½•è®¿é—®ä¿®é¥°ç¬¦ï¼</li>
<li>AOPçš„é»˜è®¤é…ç½®å±æ€§ä¸­ï¼Œ<code>spring.aop.auto</code>å±æ€§é»˜è®¤æ˜¯å¼€å¯çš„ï¼Œä¹Ÿå°±æ˜¯è¯´åªè¦å¼•å…¥äº†AOPä¾èµ–åï¼Œé»˜è®¤å·²ç»å¢åŠ äº†<code>@EnableAspectJAutoProxy</code>ï¼Œä¸éœ€è¦åœ¨ç¨‹åºä¸»ç±»ä¸­å¢åŠ <code>@EnableAspectJAutoProxy</code>æ¥å¯ç”¨ï¼</li>
<li><strong>ä¸å®œæŠŠé‡è¦çš„ä¸šåŠ¡é€»è¾‘æ”¾ç½®åˆ°AOPä¸­ï¼</strong></li>
<li>AOPæ— æ³•æ‹¦æˆª<code>static</code>ã€<code>final</code>ä¿®é¥°çš„æ–¹æ³•ï¼Œä¹Ÿæ— æ³•æ‹¦æˆªå†…éƒ¨æ–¹æ³•è°ƒç”¨ï¼Œå› ä¸ºå†…éƒ¨æ–¹æ³•è°ƒç”¨ç›´æ¥è¢«è°ƒç”¨ï¼Œæ— æ³•è¿›è¡Œå¢å¼ºã€‚</li>
<li>éœ€è¦åˆç†åˆ©ç”¨é¢å‘åˆ‡é¢ç¼–ç¨‹æå‡ä»£ç è´¨é‡ã€‚</li>
<li>è¯¾ç¨‹å­¦ä¹ ï¼š<a href="https://www.imooc.com/learn/869" target="_blank" rel="noopener">https://www.imooc.com/learn/869</a></li>
</ol>
<hr>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>SpringBooté¡¹ç›®ä¸­ç›®å‰èƒ½æƒ³åˆ°çš„å†…å®¹éƒ½åŸºæœ¬ä¸Šæœ‰å»æŸ¥è¯¢ä¸è®°å½•ï¼Œåç»­ä½¿ç”¨åˆ°ä¸€äº›æ›´ä¸ºéº»çƒ¦çš„åœºæ™¯çš„æ—¶å€™å†ç»§ç»­è®°å½•ä¸‹æ¥ï¼Œä¸æ–­æ‰©å……è‡ªå·±çš„AOPçŸ¥è¯†ï¼Œè¿™éƒ¨åˆ†æ²¡æœ‰å®Œæ•´çœ‹å®˜æ–¹çš„æ–‡æ¡£ï¼Œç›®å‰çš„ç­–ç•¥è¿˜æ˜¯ç”¨åˆ°å¤šå°‘çœ‹å¤šå°‘ï¼Œä¸ç„¶è¿›åº¦å¤ªæ…¢äº†ï¼</p>
]]></content>
      <categories>
        <category>SpringBoot</category>
      </categories>
  </entry>
  <entry>
    <title>SpringBoot AdminUI å¥åº·ç›‘æ§</title>
    <url>/2020/05/25/SpringBoot-AdminUI-%E5%81%A5%E5%BA%B7%E7%9B%91%E6%8E%A7/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>SpringBoot æä¾› Actuator è¿›è¡Œç›‘æ§ç®¡ç†ï¼ŒActuator èƒ½å¤Ÿä½¿å¼€å‘è€…åœ¨é¡¹ç›®ç”Ÿäº§æ—¶ç›‘è§†å’Œç®¡ç†åº”ç”¨ç¨‹åºï¼Œå¯ä½¿ç”¨ HTTP çš„å„ç§è¯·æ±‚æ¥ç›‘ç®¡ï¼Œå®¡è®¡ï¼Œæ”¶é›†åº”ç”¨çš„è¿è¡Œæƒ…å†µï¼Œæ­¤ä¸¾å¯¹äºå¾®æœåŠ¡ç®¡ç†æ„ä¹‰é‡å¤§ï¼Œä½†æ˜¯ç¼ºç‚¹æ˜¯æ²¡æœ‰å¯è§†åŒ–ç•Œé¢ï¼Œä½†æ˜¯æœ‰éœ€æ±‚å°±æœ‰äº§å‡ºï¼ŒAdminUIå°±æ˜¯æ ¹æ®Actuatorçš„è¾“å‡ºä¿¡æ¯è¿›è¡Œç›‘æ§å¯è§†åŒ–çš„æ’ä»¶ï¼Œæä¾›äº†è¾ƒä¸ºå‹å–„çš„ç›‘æ§ç®¡ç†å¯è§†åŒ–åŠŸèƒ½ï¼</p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="åˆ›å»ºä¸€ä¸ªAdminUIæœåŠ¡ç«¯"><a href="#åˆ›å»ºä¸€ä¸ªAdminUIæœåŠ¡ç«¯" class="headerlink" title="åˆ›å»ºä¸€ä¸ªAdminUIæœåŠ¡ç«¯"></a>åˆ›å»ºä¸€ä¸ªAdminUIæœåŠ¡ç«¯</h2><ol>
<li><p>æ·»åŠ pom.xmlä¾èµ–ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">groupId</span>&gt;</span>de.codecentric<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-admin-starter-server<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>é…ç½®å±æ€§é…ç½®æ–‡ä»¶ï¼š</p>
<figure class="highlight properties"><table><tr><td class="code"><pre><span class="line"><span class="meta">server.port</span>=<span class="string">2001</span></span><br><span class="line"><span class="meta">spring.application.name</span>=<span class="string">AdminUi-Server</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>åœ¨å¯åŠ¨ç±»æ·»åŠ AdminUIä½¿èƒ½æ³¨è§£ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@EnableAdminServer</span></span><br><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AdminuiApplication</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        SpringApplication.run(AdminuiApplication<span class="class">.<span class="keyword">class</span>, <span class="title">args</span>)</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>å¯åŠ¨æœåŠ¡ï¼Œè®¿é—®<a href="http://localhost:2001/applicationsï¼š" target="_blank" rel="noopener">http://localhost:2001/applicationsï¼š</a></p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/f132d9c80169d728ed1e7711a5da7816-53505" alt=""></p>
</li>
</ol>
<h2 id="åˆ›å»ºä¸€ä¸ªå¸¦æœ‰AdminUIçš„å®¢æˆ·ç«¯"><a href="#åˆ›å»ºä¸€ä¸ªå¸¦æœ‰AdminUIçš„å®¢æˆ·ç«¯" class="headerlink" title="åˆ›å»ºä¸€ä¸ªå¸¦æœ‰AdminUIçš„å®¢æˆ·ç«¯"></a>åˆ›å»ºä¸€ä¸ªå¸¦æœ‰AdminUIçš„å®¢æˆ·ç«¯</h2><ol>
<li><p>æ·»åŠ pom.xmlä¾èµ–ï¼ˆä¸AdminUIç›¸å…³çš„ä¾èµ–ï¼‰ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">groupId</span>&gt;</span>de.codecentric<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-admin-starter-client<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">version</span>&gt;</span>2.1.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-actuator<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>é…ç½®å±æ€§é…ç½®æ–‡ä»¶ï¼š</p>
<figure class="highlight properties"><table><tr><td class="code"><pre><span class="line"><span class="comment"># admin å®¢æˆ·ç«¯é…ç½®</span></span><br><span class="line"><span class="comment"># AdminUIçš„è¿æ¥çš„serveråœ°å€</span></span><br><span class="line"><span class="meta">spring.boot.admin.client.url</span>=<span class="string">http://127.0.0.1:2001</span></span><br><span class="line"><span class="meta">spring.application.name</span>=<span class="string">spring-client</span></span><br><span class="line"><span class="comment"># actuatoré…ç½®</span></span><br><span class="line"><span class="meta">management.endpoints.web.exposure.include</span>=<span class="string">*</span></span><br><span class="line"><span class="meta">management.endpoint.health.show-details</span>=<span class="string">always</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>å¯åŠ¨æœåŠ¡ï¼Œè®¿é—®<a href="http://localhost:2001/applicationsï¼š" target="_blank" rel="noopener">http://localhost:2001/applicationsï¼š</a></p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/f9816e269ecabc9d3ffff8b7bfa2582d-33875" alt=""></p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/e05a4ca6e8dcf5e4cb32083dedd1fd93-118666" alt=""></p>
</li>
</ol>
<hr>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>è¿™éƒ¨åˆ†çš„ä½¿ç”¨éå¸¸ç®€å•ï¼Œä¸»è¦å°±æ˜¯çŸ¥é“ä¸€äº›actuatorçš„é…ç½®ï¼Œè¿˜æœ‰ç†è§£AdminUIçš„ä½¿ç”¨è§„åˆ™ï¼Œå°±å¯ä»¥é…ç½®å¥½äº†ç›‘æ§çš„ç•Œé¢ï¼Œç„¶åéœ€è¦æ³¨æ„çš„æ˜¯è¦æ·»åŠ spring-boot-admin-starter-clientçš„ç‰ˆæœ¬ï¼Œä¸ç„¶ä¼šå‡ºç°æ‰¾ä¸åˆ°è¯¥ä¾èµ–ï¼Œè¿˜æœ‰ä¸€äº›å®‰å…¨ç›¸å…³çš„ç­‰åç»­å­¦ä¹ äº†SpringSecurityè¿›è¡Œè¯¦ç»†çš„è®°å½•ï¼</p>
]]></content>
      <categories>
        <category>Java</category>
      </categories>
  </entry>
  <entry>
    <title>SpringBoot Filter QuickStart</title>
    <url>/2020/09/29/SpringBoot-Filter-QuickStart/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>è¿‡æ»¤å™¨ã€æ‹¦æˆªå™¨ã€AOPèƒ½ä»ä¸åŒçš„ç¨‹åº¦æ»¡è¶³æ‹¦æˆªè¯·æ±‚çš„è¿‡ç¨‹ï¼Œæƒ³è¦äº†è§£æ¯ç§æ–¹å¼çš„å·®å¼‚æ€§å¿…é¡»è¦æ·±å…¥äº†è§£åŒºåˆ«ï¼Œè¿™éƒ¨åˆ†ä¸»è¦è®°å½•è¿‡æ»¤å™¨çš„å®æ“ã€‚</p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="åŸºç¡€çŸ¥è¯†"><a href="#åŸºç¡€çŸ¥è¯†" class="headerlink" title="åŸºç¡€çŸ¥è¯†"></a>åŸºç¡€çŸ¥è¯†</h2><ol>
<li>è¿‡æ»¤å™¨æ˜¯å¯¹æ•°æ®è¿›è¡Œè¿‡æ»¤ï¼Œé¢„å¤„ç†è¿‡ç¨‹ï¼ŒSpringBootçš„è¿‡æ»¤å™¨åœ¨å®ç°ä¸ŠåŸºäºå‡½æ•°å›è°ƒï¼Œå¯ä»¥å¯¹å‡ ä¹æ‰€æœ‰è¯·æ±‚è¿›è¡Œè¿‡æ»¤ã€‚</li>
<li>è¿‡æ»¤å™¨ï¼ˆ<code>javax.servlet.Filter</code>ï¼‰ä¾èµ–äº<code>Servlet</code>å®¹å™¨ï¼Œå±äº<code>Servlet</code>è§„èŒƒçš„ä¸€éƒ¨åˆ†ã€‚<code>Filter</code>çš„æ‰§è¡Œç”±<code>Servlet</code>å®¹å™¨å›è°ƒå®Œæˆï¼Œç”Ÿå‘½å‘¨æœŸç”±<code>Servlet</code>å®¹å™¨ç®¡ç†ã€‚</li>
<li>Filterè¿‡æ»¤å™¨æ˜¯servletåŒ…ä¸‹é¢çš„ä¸œè¥¿ï¼Œå› æ­¤ä¸éœ€è¦å†é¢å¤–å¼•åŒ…ã€‚</li>
<li>å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-embedded-container-servlets-filters-listeners-scanning" target="_blank" rel="noopener">https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-embedded-container-servlets-filters-listeners-scanning</a></li>
<li>è¿‡æ»¤å™¨å¯ä»¥å®ç°URLçº§åˆ«çš„æƒé™æ§åˆ¶ã€å‹ç¼©å“åº”ä¿¡æ¯ã€ç¼–ç æ ¼å¼ç­‰ç­‰ã€‚</li>
<li>è¿‡æ»¤å™¨é‡Œé¢çš„ä¸‰ä¸ªæ–¹æ³•ï¼š<ul>
<li><code>init</code>ï¼š filterå¯¹è±¡åªä¼šåˆ›å»ºä¸€æ¬¡ï¼Œinitæ–¹æ³•ä¹Ÿåªä¼šæ‰§è¡Œä¸€æ¬¡</li>
<li><code>doFilter</code> ï¼š ä¸»è¦çš„ä¸šåŠ¡ä»£ç ç¼–å†™æ–¹æ³•ï¼Œå¯ä»¥å¤šæ¬¡é‡å¤è°ƒç”¨</li>
<li><code>destroy</code>ï¼š åœ¨é”€æ¯Filteræ—¶è‡ªåŠ¨è°ƒç”¨ï¼ˆç¨‹åºå…³é—­æˆ–è€…ä¸»åŠ¨é”€æ¯Filterï¼‰</li>
</ul>
</li>
<li>åœ¨è¿‡æ»¤å™¨ä¸­ï¼Œå¯¹äºæ»¡è¶³æ¡ä»¶çš„è¯·æ±‚ï¼Œä½¿ç”¨<code>filterChain.doFilter(request, response);</code>å°†è¿æ¥è½¬å‘åˆ°ç›®çš„åœ°ï¼Œä¸æ»¡è¶³ï¼Œåˆ™ç›´æ¥é€šè¿‡responseå†™å…¥é”™è¯¯ä¿¡æ¯ã€‚</li>
<li><strong>è¿‡æ»¤å™¨å¯ä»¥åŒ…è£…Requestå’ŒResponseï¼Œè€Œæ‹¦æˆªå™¨ã€AOPæ˜¯ä¸èƒ½çš„ï¼Œ<code>HttpServletRequest</code>å¹¶æœªå¼€æ”¾æ¥å£æä¾›ä¿®æ”¹å¤´ä¿¡æ¯ï¼Œä½†æ˜¯åˆ©ç”¨è¿‡æ»¤å™¨+è£…é¥°æ¨¡å¼å¯ä»¥ä¿®æ”¹HttpServletRequestçš„è¯·æ±‚å¤´ä¿¡æ¯ã€‚</strong></li>
</ol>
<h2 id="è¿‡æ»¤å™¨é…ç½®"><a href="#è¿‡æ»¤å™¨é…ç½®" class="headerlink" title="è¿‡æ»¤å™¨é…ç½®"></a>è¿‡æ»¤å™¨é…ç½®</h2><h3 id="Componentæ³¨è§£"><a href="#Componentæ³¨è§£" class="headerlink" title="Componentæ³¨è§£"></a><strong>Component</strong>æ³¨è§£</h3><ol>
<li><p>ç›´æ¥å®ç°<strong>Filter</strong>æ¥å£ï¼Œå¹¶ä½¿ç”¨<strong>@Component</strong>æ³¨è§£æ ‡æ³¨ä¸ºç»„ä»¶è‡ªåŠ¨æ³¨å…¥Bean:</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.*;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LogCostFilter</span> <span class="keyword">implements</span> <span class="title">Filter</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">(FilterConfig filterConfig)</span> <span class="keyword">throws</span> ServletException </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"åˆå§‹åŒ–æˆåŠŸLogCostFilter"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doFilter</span><span class="params">(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain)</span> <span class="keyword">throws</span> IOException, ServletException </span>&#123;</span><br><span class="line">        <span class="keyword">long</span> start = System.currentTimeMillis();</span><br><span class="line">        filterChain.doFilter(servletRequest,servletResponse);</span><br><span class="line">        System.out.println(<span class="string">"LogCostFilter Execute cost="</span>+(System.currentTimeMillis()-start));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">destroy</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>å½“æœ‰å¤šä¸ªè¿‡æ»¤å™¨çš„æ—¶å€™ï¼Œä½¿ç”¨<code>@Order(num)</code>è¿›è¡Œä¼˜å…ˆçº§è®¾å®šï¼Œæ•°å­—è¶Šå°ï¼Œä¼˜å…ˆçº§è¶Šé«˜ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@Order</span>(<span class="number">1</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LogCostFilter2</span> <span class="keyword">implements</span> <span class="title">Filter</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">(FilterConfig filterConfig)</span> <span class="keyword">throws</span> ServletException </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"åˆå§‹åŒ–æˆåŠŸLogCostFilter2"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doFilter</span><span class="params">(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain)</span> <span class="keyword">throws</span> IOException, ServletException </span>&#123;</span><br><span class="line">        <span class="keyword">long</span> start = System.currentTimeMillis();</span><br><span class="line">        filterChain.doFilter(servletRequest, servletResponse);</span><br><span class="line">        System.out.println(<span class="string">"LogCostFilter2 Execute cost="</span> + (System.currentTimeMillis() - start));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">destroy</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



</li>
</ol>
<h3 id="FilterRegistrationBeané…ç½®"><a href="#FilterRegistrationBeané…ç½®" class="headerlink" title="FilterRegistrationBeané…ç½®"></a><code>FilterRegistrationBean</code>é…ç½®</h3><ol>
<li><p>é¦–å…ˆå®ç°ä¸€ä¸ªè¿‡æ»¤å™¨æ¥å£çš„ç±»ï¼Œæ¯”å¦‚è®°å½•æ—¶é—´çš„è¿‡æ»¤å™¨ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LogCostFilter</span> <span class="keyword">implements</span> <span class="title">Filter</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">(FilterConfig filterConfig)</span> <span class="keyword">throws</span> ServletException </span>&#123;</span><br><span class="line"> </span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doFilter</span><span class="params">(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain)</span> <span class="keyword">throws</span> IOException, ServletException </span>&#123;</span><br><span class="line">        <span class="keyword">long</span> start = System.currentTimeMillis();</span><br><span class="line">        filterChain.doFilter(servletRequest,servletResponse);</span><br><span class="line">        System.out.println(<span class="string">"Execute cost="</span>+(System.currentTimeMillis()-start));</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">destroy</span><span class="params">()</span> </span>&#123;</span><br><span class="line"> </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä½¿ç”¨<code>FilterRegistrationBean</code>é…ç½®è¯¥è¿‡æ»¤å™¨çš„è§„åˆ™ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> org.springframework.boot.web.servlet.FilterRegistrationBean;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Bean;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FiltersConfig</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> FilterRegistrationBean <span class="title">registFilter</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        FilterRegistrationBean registration = <span class="keyword">new</span> FilterRegistrationBean();</span><br><span class="line">        registration.setFilter(<span class="keyword">new</span> LogCostFilter());</span><br><span class="line">        registration.addUrlPatterns(<span class="string">"/*"</span>);</span><br><span class="line">        registration.setName(<span class="string">"LogCostFilter"</span>);</span><br><span class="line">        registration.setOrder(<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">return</span> registration;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><code>addUrlPatterns</code>å¯ä»¥æ·»åŠ å¤šä¸ªè¿‡æ»¤URI</li>
</ul>
</li>
<li><p>å¯¹äºå¤šä¸ªè¿‡æ»¤å™¨ï¼š</p>
<ol>
<li><p>å†å®ç°ä¸€ä¸ªè¿‡æ»¤å™¨ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> javax.servlet.*;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LogCostFilter2</span> <span class="keyword">implements</span> <span class="title">Filter</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">(FilterConfig filterConfig)</span> <span class="keyword">throws</span> ServletException </span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doFilter</span><span class="params">(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain)</span> <span class="keyword">throws</span> IOException, ServletException </span>&#123;</span><br><span class="line">        <span class="keyword">long</span> start = System.currentTimeMillis();</span><br><span class="line">        filterChain.doFilter(servletRequest, servletResponse);</span><br><span class="line">        System.out.println(<span class="string">"LogCostFilter2 Execute cost="</span> + (System.currentTimeMillis() - start));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">destroy</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä¿®æ”¹é…ç½®ç±»<code>FiltersConfig</code>ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> org.springframework.boot.web.servlet.FilterRegistrationBean;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Bean;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FiltersConfig</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> FilterRegistrationBean <span class="title">registFilter</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        FilterRegistrationBean registration = <span class="keyword">new</span> FilterRegistrationBean();</span><br><span class="line">        registration.setFilter(<span class="keyword">new</span> LogCostFilter());</span><br><span class="line">        registration.addUrlPatterns(<span class="string">"/body"</span>);</span><br><span class="line">        registration.setName(<span class="string">"LogCostFilter"</span>);</span><br><span class="line">        registration.setOrder(<span class="number">2</span>);</span><br><span class="line">        <span class="keyword">return</span> registration;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> FilterRegistrationBean <span class="title">registFilter2</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        FilterRegistrationBean registration = <span class="keyword">new</span> FilterRegistrationBean();</span><br><span class="line">        registration.setFilter(<span class="keyword">new</span> LogCostFilter2());</span><br><span class="line">        registration.addUrlPatterns(<span class="string">"/"</span>);</span><br><span class="line">        registration.setName(<span class="string">"LogCostFilter2"</span>);</span><br><span class="line">        registration.setOrder(<span class="number">5</span>);</span><br><span class="line">        <span class="keyword">return</span> registration;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><p>è¿™ä¸ªé‡Œé¢å¯ä»¥é…ç½®è¿‡æ»¤å™¨çš„ä¼˜å…ˆçº§ï¼Œæœ‰äº›æ—¶å€™æ˜¯éœ€è¦è€ƒè™‘ä¼˜å…ˆçº§çš„</p>
</li>
<li><p>ä¼˜å…ˆçº§æ•°å­—è¶Šå°ï¼Œä¼˜å…ˆçº§è¶Šé«˜</p>
</li>
<li><p>è°ƒè¯•è¿‡æ»¤å™¨è¾“å‡ºï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Mapping filters: LogCostFilter urls=[<span class="comment">/*] order=2, LogCostFilter2 urls=[/*] order=5, characterEncodingFilter urls=[/*] order=-2147483648, formContentFilter urls=[/*] order=-9900, requestContextFilter urls=[/*] order=-105</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ol>
</li>
<li><p><strong>Component</strong>å¯ä»¥å’Œ<code>FilterRegistrationBean</code>é…åˆä½¿ç”¨ï¼Œæ¯”å¦‚ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.web.servlet.FilterRegistrationBean;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Bean;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FiltersConfig</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> cLogCostFilter clog;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> bLogCostFilter2 blog;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> FilterRegistrationBean <span class="title">registFilter</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        FilterRegistrationBean registration = <span class="keyword">new</span> FilterRegistrationBean();</span><br><span class="line">        registration.setFilter(blog);</span><br><span class="line">        registration.addUrlPatterns(<span class="string">"/*"</span>);</span><br><span class="line">        registration.setName(<span class="string">"LogCostFilter2"</span>);</span><br><span class="line">        registration.setOrder(<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">return</span> registration;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> FilterRegistrationBean <span class="title">registFilter2</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        FilterRegistrationBean registration = <span class="keyword">new</span> FilterRegistrationBean();</span><br><span class="line">        registration.setFilter(clog);</span><br><span class="line">        registration.addUrlPatterns(<span class="string">"/*"</span>);</span><br><span class="line">        registration.setName(<span class="string">"LogCostFilter"</span>);</span><br><span class="line">        registration.setOrder(<span class="number">2</span>);</span><br><span class="line">        <span class="keyword">return</span> registration;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



</li>
</ol>
<h3 id="WebFilteré…ç½®"><a href="#WebFilteré…ç½®" class="headerlink" title="WebFilteré…ç½®"></a><code>WebFilter</code>é…ç½®</h3><ol>
<li><p><code>@WebFilter</code> ç”¨äºå°†ä¸€ä¸ªç±»å£°æ˜ä¸ºè¿‡æ»¤å™¨ï¼Œè¯¥æ³¨è§£å°†ä¼šåœ¨éƒ¨ç½²æ—¶è¢«å®¹å™¨å¤„ç†ï¼Œå®¹å™¨å°†æ ¹æ®å…·ä½“çš„å±æ€§é…ç½®å°†ç›¸åº”çš„ç±»éƒ¨ç½²ä¸ºè¿‡æ»¤å™¨ã€‚è¯¥æ³¨è§£å…·æœ‰ä¸‹è¡¨ç»™å‡ºçš„ä¸€äº›å¸¸ç”¨å±æ€§ ( ä»¥ä¸‹æ‰€æœ‰å±æ€§å‡ä¸ºå¯é€‰å±æ€§ï¼Œä½†æ˜¯ valueã€urlPatternsã€servletNames ä¸‰è€…å¿…éœ€è‡³å°‘åŒ…å«ä¸€ä¸ªï¼Œä¸” value å’Œ urlPatterns ä¸èƒ½å…±å­˜ï¼Œå¦‚æœåŒæ—¶æŒ‡å®šï¼Œé€šå¸¸å¿½ç•¥ value çš„å–å€¼ )</p>
</li>
<li><p><code>@WebFilter</code>å¸¸ç”¨å±æ€§:</p>
<table>
<thead>
<tr>
<th align="left"><strong>å±æ€§å</strong></th>
<th align="left"><strong>ç±»å‹</strong></th>
<th align="left"><strong>æè¿°</strong></th>
</tr>
</thead>
<tbody><tr>
<td align="left">filterName</td>
<td align="left">String</td>
<td align="left">æŒ‡å®šè¿‡æ»¤å™¨çš„ name å±æ€§ï¼Œç­‰ä»·äº</td>
</tr>
<tr>
<td align="left">value</td>
<td align="left">String[]</td>
<td align="left">è¯¥å±æ€§ç­‰ä»·äº urlPatterns å±æ€§ã€‚ä½†æ˜¯ä¸¤è€…ä¸åº”è¯¥åŒæ—¶ä½¿ç”¨ã€‚</td>
</tr>
<tr>
<td align="left">urlPatterns</td>
<td align="left">String[]</td>
<td align="left">æŒ‡å®šä¸€ç»„è¿‡æ»¤å™¨çš„ URL åŒ¹é…æ¨¡å¼ã€‚ç­‰ä»·äº æ ‡ç­¾ã€‚</td>
</tr>
<tr>
<td align="left">servletNames</td>
<td align="left">String[]</td>
<td align="left">æŒ‡å®šè¿‡æ»¤å™¨å°†åº”ç”¨äºå“ªäº› Servletã€‚å–å€¼æ˜¯ @WebServlet ä¸­çš„ name å±æ€§çš„å–å€¼ï¼Œæˆ–è€…æ˜¯ web.xml ä¸­ çš„å–å€¼ã€‚</td>
</tr>
<tr>
<td align="left">dispatcherTypes</td>
<td align="left">DispatcherType</td>
<td align="left">æŒ‡å®šè¿‡æ»¤å™¨çš„è½¬å‘æ¨¡å¼ã€‚å…·ä½“å–å€¼åŒ…æ‹¬ï¼š ASYNCã€ERRORã€FORWARDã€INCLUDEã€REQUESTã€‚</td>
</tr>
<tr>
<td align="left">initParams</td>
<td align="left">WebInitParam[]</td>
<td align="left">æŒ‡å®šä¸€ç»„è¿‡æ»¤å™¨åˆå§‹åŒ–å‚æ•°ï¼Œç­‰ä»·äº æ ‡ç­¾ã€‚</td>
</tr>
<tr>
<td align="left">asyncSupported</td>
<td align="left">boolean</td>
<td align="left">å£°æ˜è¿‡æ»¤å™¨æ˜¯å¦æ”¯æŒå¼‚æ­¥æ“ä½œæ¨¡å¼ï¼Œç­‰ä»·äº æ ‡ç­¾ã€‚</td>
</tr>
<tr>
<td align="left">description</td>
<td align="left">String</td>
<td align="left">è¯¥è¿‡æ»¤å™¨çš„æè¿°ä¿¡æ¯ï¼Œç­‰ä»·äº æ ‡ç­¾ã€‚</td>
</tr>
<tr>
<td align="left">displayName</td>
<td align="left">String</td>
<td align="left">è¯¥è¿‡æ»¤å™¨çš„æ˜¾ç¤ºåï¼Œé€šå¸¸é…åˆå·¥å…·ä½¿ç”¨ï¼Œç­‰ä»·äº æ ‡ç­¾ã€‚</td>
</tr>
</tbody></table>
</li>
<li><p>ä½¿ç”¨çš„æ—¶å€™å…ˆè¦åœ¨è¿‡æ»¤å™¨ç±»ä¸Šæ·»åŠ <code>@WebFilter</code>æ³¨è§£ï¼Œç„¶ååœ¨å¯åŠ¨ç±»ä¸ŠåŠ ä¸Š<code>@ServletComponentScan</code>æ³¨è§£æ¥æ‰«æï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> javax.servlet.*;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.WebFilter;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="meta">@WebFilter</span>(filterName = <span class="string">"LogCostFilter2"</span>,urlPatterns = &#123;<span class="string">"/1"</span>&#125;)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">bLogCostFilter2</span> <span class="keyword">implements</span> <span class="title">Filter</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">(FilterConfig filterConfig)</span> <span class="keyword">throws</span> ServletException </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"LogCostFilter2 inited!"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doFilter</span><span class="params">(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain)</span> <span class="keyword">throws</span> IOException, ServletException </span>&#123;</span><br><span class="line">        <span class="keyword">long</span> start = System.currentTimeMillis();</span><br><span class="line">        filterChain.doFilter(servletRequest, servletResponse);</span><br><span class="line">        System.out.println(<span class="string">"LogCostFilter2 Execute cost="</span> + (System.currentTimeMillis() - start));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">destroy</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><p>æ‰«æå¤šä¸ªåŒ…æ—¶ï¼Œæ ¼å¼å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@ServletComponentScan</span>(basePackages = &#123;<span class="string">"com.example.springboot.servlet"</span>,<span class="string">"com.example.springboot.filter"</span>&#125;)</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ·»åŠ å¤šä¸ªè¿‡æ»¤åœ°å€çš„æ–¹å¼ç±»ä¸‹é¢ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@WebFilter</span>(urlPatterns = &#123;<span class="string">"/config/*"</span>,<span class="string">"/driver/*"</span>,<span class="string">"/order/*"</span>,<span class="string">"/im/*"</span>,<span class="string">"/privacy/*"</span>,<span class="string">"/config/*"</span>&#125;, filterName = <span class="string">"apiFilter"</span>)</span><br></pre></td></tr></table></figure>



</li>
</ul>
</li>
</ol>
<ol start="4">
<li><p>å¯¹äºåœ¨åŒä¸€ä¸ªåŒ…ä¸‹çš„filterï¼Œé‡‡ç”¨è¿™ç§æ–¹å¼çš„æ—¶å€™ï¼Œè¿‡æ»¤å™¨çš„æ‰§è¡Œé¡ºåºæŒ‰ç…§è¿‡æ»¤å™¨åæ¥å†³å®šï¼Œæ¯”å¦‚aLogCostFilter2&gt;bLogCostFilter2,åœ¨ä¸åŒåŒ…ä¸‹æ›´å¤æ‚ï¼ˆæœ‰åšå®¢å»è¯´ï¼Œä½†æ˜¯æ²¡æœ‰éªŒè¯ï¼‰</p>
</li>
<li><p>ä½¿ç”¨äº†è¯¥æ–¹å¼å°±ä¸è¦ä½¿ç”¨<code>@Component</code>æ³¨è§£çš„æ–¹å¼äº†ï¼Œä¸¤ä¸ªé€‰å…¶ä¸€ï¼Œè¿‡æ»¤å™¨ä¼šè¢«å¤šæ¬¡åˆå§‹åŒ–ä»¥åŠæ‰§è¡Œã€‚å¦‚æœæœ‰<code>FilterRegistrationBean</code>åˆ™è¯¥æ–¹å¼çš„è¿‡æ»¤å™¨ä¸ç”Ÿæ•ˆã€‚</p>
</li>
<li><p>æœ‰å¤šä¸ªFilterçš„æ—¶å€™ï¼Œ<code>filterName</code>å±æ€§ä¸èƒ½ç›¸åŒï¼Œå¦åˆ™ä¼šå‡ºé”™ã€‚å¯ä»¥é…ç½®é…ç½®æ–‡ä»¶ä¿®æ”¹è¦†ç›–ï¼Œä½†æ˜¯ä¸æ¨èï¼š</p>
<figure class="highlight properties"><table><tr><td class="code"><pre><span class="line"><span class="comment">#å¯ç”¨è¦†ç›–åŒåbean</span></span><br><span class="line"><span class="meta">spring.main.allow-bean-definition-overriding</span>=<span class="string">true</span></span><br></pre></td></tr></table></figure>

</li>
</ol>
<hr>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>è¿‡æ»¤å™¨æƒ³å¯¹æ¥è¯´è¿˜æ˜¯å¾ˆå®¹æ˜“ç†è§£çš„ï¼Œè®°å½•äº†å‡ ç§ä¸åŒçš„è¿‡æ»¤å™¨è®¾ç½®è§„åˆ™ï¼Œä½†æ˜¯è§‰å¾—è¿˜æ˜¯<code>FilterRegistrationBean</code>æ¯”è¾ƒå¥½ç”¨ï¼Œéå¸¸å‹å¥½ï¼Œå…¶ä»–çš„éƒ½æœ‰ä¸€äº›ç¼ºé™·ï¼Œ<code>FilterRegistrationBean</code>èƒ½å¤Ÿè®¾ç½®è¿‡æ»¤çš„è§„åˆ™ï¼Œè¿‡æ»¤å™¨çš„ä¼˜å…ˆé¡ºåºï¼Œç›¸æ¯”<code>WebFilter</code>è¿™ç§ä¼˜å…ˆçº§çš„è®¾ç½®è¦è§‰å¾—æ¸…æ¥šå¾ˆå¤šï¼Œä¸ªäººä¼˜å…ˆè€ƒè™‘<code>FilterRegistrationBean</code>ã€‚</p>
]]></content>
      <categories>
        <category>SpringBoot</category>
      </categories>
  </entry>
  <entry>
    <title>SpringBoot Jsonå¿«é€Ÿä½¿ç”¨</title>
    <url>/2020/06/05/SpringBoot-Json%E5%BF%AB%E9%80%9F%E4%BD%BF%E7%94%A8/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>Jsonåœ¨Javaã€ä»¥åŠSpringBootä¸­è¢«å¤§é‡çš„ä½¿ç”¨ï¼Œç‰¹åˆ«æ˜¯å‡ºç°äº†åç«¯å¼€å‘ä¸­ï¼Œç»å¸¸è¦å°†Javaå¯¹è±¡è½¬æ¢æˆJsonå­—ç¬¦ä¸²ï¼Œæˆ–è€…å°†Jsonå­—ç¬¦ä¸²è½¬æ¢æˆPOJOï¼ŒJavaåŸºæœ¬åº“çš„Jsonæä¾›çš„åŠŸèƒ½å®åœ¨æ˜¯è®©äººåæ§½ï¼Œåœ¨ä½¿ç”¨SpringBootçš„è¿‡ç¨‹ä¸­æœç´¢åˆ°äº†Jacksonï¼ŒåŸºæœ¬ä¸Šæ»¡è¶³äº†éœ€æ±‚ï¼Œè¿™é‡Œä¸»è¦ä»‹ç»Jacksonåœ¨SpringBootä¸­çš„ä½¿ç”¨ï¼Œä»¥åŠè¸©è¿‡çš„å‘ï¼</p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="JacksonåŸºæœ¬ä»‹ç»"><a href="#JacksonåŸºæœ¬ä»‹ç»" class="headerlink" title="JacksonåŸºæœ¬ä»‹ç»"></a>JacksonåŸºæœ¬ä»‹ç»</h2><ol>
<li><p>Jacksonå¯ä»¥è½»æ¾çš„å°†Javaå¯¹è±¡è½¬æ¢æˆjsonå¯¹è±¡å’Œxmlæ–‡æ¡£ï¼ŒåŒæ ·ä¹Ÿå¯ä»¥å°†jsonã€xmlè½¬æ¢æˆJavaå¯¹è±¡ï¼</p>
</li>
<li><p>ç‰¹ç‚¹ï¼š</p>
<ol>
<li>å®¹æ˜“ä½¿ç”¨ï¼ŒAPIæä¾›äº†ä¸€ä¸ªé«˜å±‚æ¬¡å¤–è§‚ï¼Œä»¥ç®€åŒ–å¸¸ç”¨çš„ç”¨ä¾‹</li>
<li>æ— éœ€åˆ›å»ºæ˜ å°„ï¼ŒAPIæä¾›äº†é»˜è®¤çš„æ˜ å°„å¤§éƒ¨åˆ†å¯¹è±¡åºåˆ—åŒ–</li>
<li>æ€§èƒ½é«˜ ï¼Œå¿«é€Ÿï¼Œä½å†…å­˜å ç”¨ï¼Œé€‚åˆå¤§å‹å¯¹è±¡å›¾è¡¨æˆ–ç³»ç»Ÿ</li>
<li>å¹²å‡€çš„JSON ï¼Œåˆ›å»ºä¸€ä¸ªå¹²å‡€å’Œç´§å‡‘çš„JSONç»“æœï¼Œè¿™æ˜¯è®©äººå¾ˆå®¹æ˜“é˜…è¯»</li>
<li>ä¸éœ€è¦ä»»ä½•å…¶ä»–çš„åº“ä¾èµ–ï¼Œé™¤äº†JDK</li>
<li>å¼€æ”¾æºä»£ç </li>
</ol>
</li>
<li><p>æ•°æ®å¤„ç†æ–¹å¼ï¼š</p>
<ol>
<li>æµå¼APIï¼Œè¯»å–å¹¶å°†JSONå†…å®¹å†™å…¥ä½œä¸ºç¦»æ•£äº‹ä»¶</li>
<li>æ ‘æ¨¡å‹ï¼Œå‡†å¤‡JSONæ–‡ä»¶åœ¨å†…å­˜é‡Œä»¥æ ‘å½¢å¼è¡¨ç¤º</li>
<li>æ•°æ®ç»‘å®šï¼Œè½¬æ¢JSONå¹¶ä»POJOï¼ˆæ™®é€šJavaå¯¹è±¡ï¼‰ä½¿ç”¨å±æ€§è®¿é—®æˆ–ä½¿ç”¨æ³¨é‡Š</li>
</ol>
</li>
<li><p>Jacksonè½¬æ¢æ“ä½œæ­¥éª¤ï¼š</p>
<ol>
<li><p>åˆ›å»ºObjectMapperå¯¹è±¡ï¼Œå®ƒæ˜¯ä¸€ä¸ªå¯é‡å¤ä½¿ç”¨çš„å¯¹è±¡ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">ObjectMapper mapper = <span class="keyword">new</span> ObjectMapper();</span><br></pre></td></tr></table></figure>
</li>
<li><p>ååºåˆ—åŒ–Jsonåˆ°å¯¹è±¡ï¼Œä»Jsonå¯¹è±¡ä½¿ç”¨readValue()æ–¹æ³•æ¥è·å–ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//Object to JSON Conversion</span></span><br><span class="line">ObjectTest objectTest = mapper.readValue(jsonString, ObjectTest<span class="class">.<span class="keyword">class</span>)</span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p>åºåˆ—åŒ–å¯¹è±¡åˆ°Json,ä½¿ç”¨writeValueAsString()æ–¹æ³•æ¥è·å–å¯¹è±¡çš„Jsonå­—ç¬¦ä¸²è¡¨ç¤ºï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">jsonString = mapper.writeValueAsString(objectTest);</span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
<li><p>ObjectMapperç±»æ˜¯Jacksonåº“çš„ä¸»è¦ç±»ï¼Œæä¾›ä¸€äº›åŠŸèƒ½å°†è½¬æ¢æˆJavaå¯¹è±¡åŒ¹é…JSONç»“æ„ï¼Œåä¹‹äº¦ç„¶ï¼›ä½¿ç”¨JsonParserå’ŒJsonGeneratorçš„å®ä¾‹å®ç°JSONå®é™…çš„è¯»/å†™ï¼</p>
</li>
<li><p>ç®€å•æ•°æ®ç»‘å®šï¼š</p>
<table>
<thead>
<tr>
<th>JSONç±»å‹</th>
<th>Javaç±»å‹</th>
</tr>
</thead>
<tbody><tr>
<td>object</td>
<td>LinkedHashMap&lt;String,Object&gt;</td>
</tr>
<tr>
<td>array</td>
<td>ArrayList&lt;Object&gt;</td>
</tr>
<tr>
<td>string</td>
<td>String</td>
</tr>
<tr>
<td>complete number</td>
<td>Integer, Long or BigInteger</td>
</tr>
<tr>
<td>fractional number</td>
<td>Double / BigDecimal</td>
</tr>
<tr>
<td>true|false</td>
<td>Boolean</td>
</tr>
<tr>
<td>null</td>
<td>null</td>
</tr>
</tbody></table>
</li>
<li><p>jackson å‡­å€Ÿå…¶ç®€æ´çš„è¯­æ³•ã€é«˜æ•ˆçš„å¤„ç†é€Ÿåº¦ã€ä¸°å¯Œçš„åŠŸèƒ½ã€æ¸…æ™°çš„æ–‡æ¡£ç­‰ä¼—å¤šä¼˜åŠ¿ï¼Œå—åˆ°å¹¿å¤§å¼€å‘è€…çš„çƒ­çˆ±ï¼Œæˆä¸ºäº†javaç¨‹åºå‘˜å¤„ç†jsonæ•°æ®çš„ä¸äºŒé€‰æ‹©ï¼</p>
</li>
<li><p>å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://www.baeldung.com/jackson" target="_blank" rel="noopener">https://www.baeldung.com/jackson</a></p>
</li>
</ol>
<h2 id="Jacksonå®æ“ï¼ˆMavenç®¡ç†ï¼‰"><a href="#Jacksonå®æ“ï¼ˆMavenç®¡ç†ï¼‰" class="headerlink" title="Jacksonå®æ“ï¼ˆMavenç®¡ç†ï¼‰"></a>Jacksonå®æ“ï¼ˆMavenç®¡ç†ï¼‰</h2><ol>
<li><p>æ·»åŠ ä¾èµ–ï¼ˆpom.xmlï¼‰ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--FastJsonè½¬POJO--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.fasterxml.jackson.core<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jackson-databind<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>æ·»åŠ Jsonä¸POJOè½¬æ¢ç±»ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">JsonExchange</span> </span>&#123;</span><br><span class="line">  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Object <span class="title">jsonToObj</span><span class="params">(Object obj,String jsonStr)</span> <span class="keyword">throws</span> JsonParseException, JsonMappingException, IOException </span>&#123;</span><br><span class="line">        ObjectMapper mapper = <span class="keyword">new</span> ObjectMapper();</span><br><span class="line">        <span class="keyword">return</span> obj = mapper.readValue(jsonStr, obj.getClass());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">objToJson</span><span class="params">(Object obj)</span> <span class="keyword">throws</span> JsonProcessingException </span>&#123;</span><br><span class="line">        ObjectMapper mapper = <span class="keyword">new</span> ObjectMapper();</span><br><span class="line">        <span class="keyword">return</span> mapper.writeValueAsString(obj);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ ¹æ®JSONå­—ç¬¦ä¸²æ ¼å¼å®šä¹‰å¯¹åº”çš„POJOï¼š</p>
<ul>
<li><p>JSONå­—ç¬¦ä¸²æ ¼å¼ï¼š</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"__statusCode"</span>: <span class="string">"1"</span>,</span><br><span class="line">  <span class="attr">"__errorMessage"</span>: <span class="literal">null</span>,</span><br><span class="line">  <span class="attr">"data"</span>: &#123;</span><br><span class="line">    <span class="attr">"ExpiryTime"</span>: <span class="string">"2020-06-30 21:06:39"</span>,</span><br><span class="line">    <span class="attr">"IdentifyingCode"</span>: <span class="string">"1831593524811799170190"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>POJOå®šä¹‰ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ ¼å¼ï¼š&#123;"__statusCode":"1","__errorMessage":null,"data":&#123;"ExpiryTime":"2020-06-01 10:11:09","IdentifyingCode":"3181590974086869036505"&#125;&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">IdentifyingCodeData</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String __statusCode;</span><br><span class="line">    <span class="keyword">private</span> String __errorMessage;</span><br><span class="line">    <span class="meta">@JsonProperty</span>(<span class="string">"data"</span>)</span><br><span class="line">    <span class="keyword">private</span> IdentifyingCode data;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * é»˜è®¤æ„é€ å‡½æ•°ï¼Œå¿…é¡»è¦æœ‰</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">IdentifyingCodeData</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">IdentifyingCodeData</span><span class="params">(String __statusCode, String __errorMessage, IdentifyingCode data)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.__statusCode = __statusCode;</span><br><span class="line">        <span class="keyword">this</span>.__errorMessage = __errorMessage;</span><br><span class="line">        <span class="keyword">this</span>.data = data;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">get__statusCode</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> __statusCode;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">set__statusCode</span><span class="params">(String __statusCode)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.__statusCode = __statusCode;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">get__errorMessage</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> __errorMessage;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">set__errorMessage</span><span class="params">(String __errorMessage)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.__errorMessage = __errorMessage;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> IdentifyingCode <span class="title">getData</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> data;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setData</span><span class="params">(IdentifyingCode data)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.data = data;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">IdentifyingCode</span> </span>&#123;</span><br><span class="line">    <span class="meta">@JsonFormat</span>(pattern = <span class="string">"yyyy-MM-dd HH:mm:ss"</span>,timezone=<span class="string">"GMT+8"</span>)</span><br><span class="line">    <span class="meta">@JsonProperty</span>(<span class="string">"ExpiryTime"</span>)</span><br><span class="line">    <span class="keyword">private</span> Date expiryTime;</span><br><span class="line">    <span class="meta">@JsonProperty</span>(<span class="string">"IdentifyingCode"</span>)</span><br><span class="line">    <span class="keyword">private</span> String identifyingCode;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">IdentifyingCode</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">IdentifyingCode</span><span class="params">(Date expiryTime, String identifyingCode)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.expiryTime = expiryTime;</span><br><span class="line">        <span class="keyword">this</span>.identifyingCode = identifyingCode;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Date <span class="title">getExpiryTime</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> expiryTime;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setExpiryTime</span><span class="params">(Date expiryTime)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.expiryTime = expiryTime;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getIdentifyingCode</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> identifyingCode;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setIdentifyingCode</span><span class="params">(String identifyingCode)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.identifyingCode = identifyingCode;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>è§£æï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">String content=<span class="string">"JSONå­—ç¬¦ä¸²"</span>;</span><br><span class="line">IdentifyingCodeData identifyingCodeData= (IdentifyingCodeData) JsonExchange.jsonToObj(<span class="keyword">new</span> IdentifyingCodeData(),content);</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>Jsonæ•°ç»„å†…å®¹ä¸ºJsonå¯¹è±¡çš„å¤æ‚Jsonä¸²ï¼š</p>
<ul>
<li><p>å®šä¹‰POJOï¼Œéœ€è¦æ³¨æ„æ„é€ å‡½æ•°ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ClassesCountDataReal</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String __statusCode;</span><br><span class="line">    <span class="keyword">private</span> String __errorMessage;</span><br><span class="line">    <span class="meta">@JsonProperty</span>(<span class="string">"data"</span>)</span><br><span class="line">    <span class="keyword">private</span> ClassesCountDataArr data;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ClassesCountDataReal</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">get__statusCode</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> __statusCode;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">set__statusCode</span><span class="params">(String __statusCode)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.__statusCode = __statusCode;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">get__errorMessage</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> __errorMessage;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">set__errorMessage</span><span class="params">(String __errorMessage)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.__errorMessage = __errorMessage;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> ClassesCountDataArr <span class="title">getData</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> data;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setData</span><span class="params">(ClassesCountDataArr data)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.data = data;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ClassesCountDataArr</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> List&lt;ClassesCountData&gt; arr;</span><br><span class="line">  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ClassesCountDataArr</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> arr</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> JsonProcessingException</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ClassesCountDataArr</span><span class="params">(String arr)</span> <span class="keyword">throws</span> JsonProcessingException </span>&#123;</span><br><span class="line">        ObjectMapper mapper = <span class="keyword">new</span> ObjectMapper();</span><br><span class="line">        JsonNode rootNode = mapper.readTree(arr);</span><br><span class="line">        <span class="comment">// è·å–jsonæ•°ç»„çš„å€¼----è¿›è¡Œå¾ªç¯éå†</span></span><br><span class="line">        JsonNode dewatering_speedNode = rootNode.get(<span class="string">"arr"</span>);</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">null</span> != dewatering_speedNode &amp;&amp; dewatering_speedNode.size() &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            ArrayList&lt;ClassesCountData&gt; dewatering_speed = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">            <span class="keyword">for</span> (JsonNode node : dewatering_speedNode) &#123;</span><br><span class="line">                ClassesCountData dewaterSpeed=<span class="keyword">new</span> ClassesCountData();</span><br><span class="line">                dewaterSpeed.setClasses(node.get(<span class="string">"classes"</span>).asText());</span><br><span class="line">                dewaterSpeed.setCount(node.get(<span class="string">"count"</span>).asText());</span><br><span class="line">                dewatering_speed.add(dewaterSpeed);</span><br><span class="line">            &#125;</span><br><span class="line">            setArr(dewatering_speed);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;ClassesCountData&gt; <span class="title">getArr</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> arr;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setArr</span><span class="params">(List&lt;ClassesCountData&gt; arr)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.arr = arr;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ClassesCountData</span> </span>&#123;</span><br><span class="line">    <span class="meta">@JsonProperty</span>(<span class="string">"classes"</span>)</span><br><span class="line">    <span class="keyword">private</span> String classes;</span><br><span class="line">    <span class="meta">@JsonProperty</span>(<span class="string">"count"</span>)</span><br><span class="line">    <span class="keyword">private</span> String count;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ClassesCountData</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ClassesCountData</span><span class="params">(String classes, String count)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.classes = classes;</span><br><span class="line">        <span class="keyword">this</span>.count = count;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getClasses</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> classes;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setClasses</span><span class="params">(String classes)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.classes = classes;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getCount</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> count;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setCount</span><span class="params">(String count)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.count = count;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>JSONå­—ç¬¦ä¸²æ ¼å¼ï¼š</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"__statusCode"</span>: <span class="string">"1"</span>,</span><br><span class="line">  <span class="attr">"__errorMessage"</span>: <span class="literal">null</span>,</span><br><span class="line">  <span class="attr">"data"</span>: &#123;</span><br><span class="line">    <span class="attr">"arr"</span>:[</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">"classes"</span>:<span class="string">"0"</span>,</span><br><span class="line">        <span class="attr">"count"</span>:<span class="string">"2280"</span></span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>POJOä¸»è¦æ·»åŠ äº†å‚æ•°ä¸ºStringçš„æ„é€ å‡½æ•°ï¼Œæ‰‹åŠ¨è§£ææ•°ç»„å†…å®¹ï¼Œå…¶ä»–çš„å¤æ‚ç±»å‹ä¹Ÿæ˜¯ä¸€æ ·çš„ï¼</p>
</li>
</ul>
</li>
<li><p>éœ€è¦æ³¨æ„çš„æ˜¯POJOçš„æ„é€ å‡½æ•°ä¸€å®šè¦å®ç°ï¼Œä¸ç„¶ä¼šå‡ºç°æ„æƒ³ä¸åˆ°çš„é—®é¢˜ï¼</p>
</li>
</ol>
<hr>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>JSONéå¸¸çš„é‡è¦ï¼Œåœ¨ç°åœ¨çš„å¾®æœåŠ¡ä¸­ç»å¸¸ç”¨æ¥è¿”å›æ•°æ®ï¼Œå› æ­¤åœ¨è¿™é‡Œè®°å½•ä¸€ä¸‹ï¼ŒçœŸçš„æ˜¯è¸©äº†å¾ˆå¤šçš„å‘æ‰ä½¿ç”¨èµ·æ¥ï¼</p>
]]></content>
      <categories>
        <category>SpringBoot</category>
      </categories>
  </entry>
  <entry>
    <title>SpringBoot kafka Quick Start</title>
    <url>/2020/08/25/SpringBoot-Kafka-Quick-Start/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>Apache Kafkaæ˜¯ä¸€ä¸ªå¼€æºæ¶ˆæ¯ç³»ç»Ÿï¼Œç”±Scalaå†™æˆã€‚Kafkaæ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼æ¶ˆæ¯é˜Ÿåˆ—ï¼šç”Ÿäº§è€…ã€æ¶ˆè´¹è€…çš„åŠŸèƒ½ï¼Œæä¾›äº†ç±»ä¼¼äºJMSçš„ç‰¹æ€§ï¼Œä½†æ˜¯åœ¨è®¾è®¡å®ç°ä¸Šå®Œå…¨ä¸åŒã€‚Kafkaå¯¹æ¶ˆæ¯ä¿å­˜æ—¶æ ¹æ®Topicè¿›è¡Œå½’æ¡£ï¼Œå‘é€æ¶ˆæ¯è€…ç»Ÿç§°ä¸ºProducerï¼Œæ¶ˆæ¯æ¥æ”¶è€…ç»Ÿç§°ä¸ºConsumerï¼Œè€Œä¸”Kafkaæ”¯æŒåˆ†å¸ƒå¼ï¼Œå¯ä»¥ç”±å¤šä¸ªå®ä¾‹ç»„æˆKafkaé›†ç¾¤ï¼Œæ¯ä¸ªå®ä¾‹ç§°ä¸ºbrokerã€‚æœ¬æ–‡ä¸»è¦è®°å½•å¦‚ä½•æ­å»ºKafkaç¯å¢ƒä»¥åŠé€šè¿‡SpringBootæ„å»ºKafkaæ¶ˆæ¯Producerä»¥åŠConsumerã€‚</p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="åŸºç¡€çŸ¥è¯†"><a href="#åŸºç¡€çŸ¥è¯†" class="headerlink" title="åŸºç¡€çŸ¥è¯†"></a>åŸºç¡€çŸ¥è¯†</h2><h3 id="JMS"><a href="#JMS" class="headerlink" title="JMS"></a>JMS</h3><ol>
<li>JMSæ˜¯Javaæä¾›çš„ä¸€å¥—æŠ€æœ¯è§„èŒƒã€‚JMSç”¨æ¥å¼‚æ„ç³»ç»Ÿï¼Œç¼“è§£ç³»ç»Ÿç“¶é¢ˆï¼Œæé«˜ç³»ç»Ÿçš„ä¼¸ç¼©æ€§å¹¶ä¸”å¢å¼ºç³»ç»Ÿç”¨æˆ·ä½“éªŒï¼Œä½¿å¾—ç³»ç»Ÿæ¨¡å—åŒ–å’Œç»„ä»¶åŒ–å˜å¾—å¯è¡Œã€çµæ´»ï¼›</li>
<li>æ¶ˆæ¯ç³»ç»Ÿçš„æ ¸å¿ƒï¼šè§£è€¦ã€å¼‚æ­¥ä»¥åŠå¹¶è¡Œï¼›</li>
<li>JMSæ¶ˆæ¯ä¼ è¾“æ¨¡å‹ï¼š<ul>
<li>ç‚¹å¯¹ç‚¹æ¨¡å¼ï¼ˆä¸€å¯¹ä¸€ï¼Œæ¶ˆè´¹è€…ä¸»åŠ¨æ‹‰å–æ•°æ®ï¼Œæ¶ˆæ¯æ”¶åˆ°åæ¶ˆæ¯æ¸…é™¤ï¼‰</li>
<li>å‘å¸ƒ/è®¢é˜…æ¨¡å¼ï¼ˆä¸€å¯¹å¤šï¼Œæ•°æ®ç”Ÿäº§åï¼Œæ¨é€ç»™æ‰€æœ‰è®¢é˜…è€…ï¼‰</li>
</ul>
</li>
<li>æ¶ˆæ¯é˜Ÿåˆ—ï¼ˆç‚¹å¯¹ç‚¹æ¨¡å¼ï¼‰æ˜¯å½“ä¸€ä¸ªæ¶ˆè´¹è€…æ¶ˆè´¹äº†é˜Ÿåˆ—ä¸­çš„æŸæ¡æ•°æ®ä¹‹åï¼Œè¯¥æ¡æ•°æ®åˆ™ä»æ¶ˆæ¯é˜Ÿåˆ—ä¸­åˆ é™¤ã€‚ç”Ÿäº§è€…å‘é€ä¸€æ¡æ¶ˆæ¯åˆ°é˜Ÿåˆ—ä¸­ï¼Œåªæœ‰ä¸€ä¸ªæ¶ˆè´¹è€…èƒ½æ”¶åˆ°ï¼›</li>
<li>å‘å¸ƒ-è®¢é˜…æ¶ˆæ¯ç³»ç»Ÿä¸­ï¼Œæ¶ˆæ¯è¢«æŒä¹…åŒ–åˆ°ä¸€ä¸ªTopicä¸­ã€‚æ¶ˆè´¹è€…å¯ä»¥è®¢é˜…ä¸€ä¸ªæˆ–å¤šä¸ªTopicï¼Œæ¶ˆè´¹è€…å¯ä»¥æ¶ˆè´¹è¯¥Topicä¸­æ‰€æœ‰çš„æ•°æ®ï¼ŒåŒä¸€æ¡æ•°æ®å¯ä»¥è¢«å¤šä¸ªæ¶ˆè´¹è€…æ¶ˆè´¹ï¼Œæ•°æ®è¢«æ¶ˆè´¹åä¸ä¼šç«‹é©¬åˆ é™¤ï¼›</li>
<li>æ¶ˆæ¯ç³»ç»Ÿåœ¨å¤„ç†è¿‡ç¨‹ä¸­é—´æ’å…¥äº†ä¸€ä¸ªéšå«çš„ã€åŸºäºæ•°æ®çš„æ¥å£å±‚ï¼Œä¸¤è¾¹çš„å¤„ç†è¿‡ç¨‹éƒ½è¦å®ç°è¿™ä¸€æ¥å£ã€‚è¿™æ ·å¯ä»¥ç‹¬ç«‹çš„æ‰©å±•æˆ–ä¿®æ”¹ä¸¤è¾¹çš„å¤„ç†è¿‡ç¨‹ï¼Œåªè¦ç¡®ä¿å®ƒä»¬éµå®ˆåŒæ ·çš„æ¥å£çº¦æŸï¼</li>
<li>ä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—èƒ½å¤Ÿä½¿å…³é”®ç»„ä»¶é¡¶ä½çªå‘çš„è®¿é—®å‹åŠ›ï¼Œè€Œä¸ä¼šå› ä¸ºçªå‘çš„è¶…è´Ÿè·è¯·æ±‚è€Œå®Œå…¨å´©æºƒï¼</li>
</ol>
<h3 id="Kafka"><a href="#Kafka" class="headerlink" title="Kafka"></a>Kafka</h3><ol>
<li><p>Kafkaæœ€åˆç”±Linkedinå…¬å¸å¼€å‘ï¼Œæ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼ã€åˆ†åŒºçš„ã€å¤šå‰¯æœ¬çš„ã€å¤šè®¢é˜…è€…ï¼ŒåŸºäºzookeeperåè°ƒçš„åˆ†å¸ƒå¼æ¶ˆæ¯å¹³å°ï¼›</p>
</li>
<li><p>ä¸»è¦åº”ç”¨åœºæ™¯ï¼šæ—¥å¿—æ”¶é›†ä»¥åŠæ¶ˆæ¯åˆ†å‘ã€‚åœ¨æ¶æ„è®¾è®¡ä¸­èµ·åˆ°è§£è€¦ã€å‰Šå³°ã€å¼‚æ­¥å¤„ç†çš„ä½œç”¨ï¼š</p>
<ul>
<li>æ„å»ºåœ¨ç³»ç»Ÿæˆ–åº”ç”¨ç¨‹åºä¹‹é—´å¯é è·å–æ•°æ®çš„å®æ—¶æ•°æ®æµç®¡é“</li>
<li>æ„å»ºè½¬æ¢æˆ–å“åº”æ•°æ®æµçš„å®æ—¶æµåº”ç”¨ç¨‹åº</li>
</ul>
</li>
<li><p>Kafkaæ ¸å¿ƒç»„ä»¶ï¼š</p>
<ul>
<li>Topic ï¼šæ¶ˆæ¯æ ¹æ®Topicè¿›è¡Œå½’ç±»</li>
<li>Producerï¼šå‘é€æ¶ˆæ¯è€…</li>
<li>Consumerï¼šæ¶ˆæ¯æ¥å—è€…</li>
<li>brokerï¼šæ¯ä¸ªkafkaå®ä¾‹(server)</li>
<li>Zookeeperï¼šä¾èµ–é›†ç¾¤ä¿å­˜metaä¿¡æ¯</li>
</ul>
</li>
<li><p>Kafkaç‰¹æ€§ï¼š</p>
<ul>
<li>ä»¥æ—¶é—´å¤æ‚åº¦ä¸ºO(1)çš„æ–¹å¼æä¾›æ¶ˆæ¯æŒä¹…åŒ–èƒ½åŠ›ï¼Œå³ä½¿å¯¹TBçº§ä»¥ä¸Šæ•°æ®ä¹Ÿèƒ½ä¿è¯å¸¸æ•°æ—¶é—´çš„è®¿é—®æ€§èƒ½</li>
<li>é«˜ååç‡ã€‚å³ä½¿åœ¨éå¸¸å»‰ä»·çš„å•†ç”¨æœºå™¨ä¸Šä¹Ÿèƒ½åšåˆ°å•æœºæ”¯æŒæ¯ç§’100Kæ¡æ¶ˆæ¯çš„ä¼ è¾“</li>
<li>æ”¯æŒKafka Serveré—´çš„æ¶ˆæ¯åˆ†åŒºï¼ŒåŠåˆ†å¸ƒå¼æ¶ˆè´¹ï¼ŒåŒæ—¶<strong>ä¿è¯æ¯ä¸ªpartitionå†…çš„æ¶ˆæ¯é¡ºåºä¼ è¾“</strong></li>
<li>åŒæ—¶æ”¯æŒç¦»çº¿æ•°æ®å¤„ç†å’Œå®æ—¶æ•°æ®å¤„ç†</li>
<li>æ”¯æŒåœ¨çº¿æ°´å¹³æ‰©å±•</li>
</ul>
</li>
<li><p>åˆ†å¸ƒå¼æ¶ˆæ¯ä¼ é€’åŸºäºå¯é çš„æ¶ˆæ¯é˜Ÿåˆ—ï¼Œåœ¨å®¢æˆ·ç«¯åº”ç”¨å’Œæ¶ˆæ¯ç³»ç»Ÿä¹‹é—´å¼‚æ­¥ä¼ é€’æ¶ˆæ¯ï¼›</p>
</li>
<li><p>Kafkaçš„ä¼˜ç‚¹ï¼šè§£è€¦ã€å†—ä½™ï¼ˆå‰¯æœ¬ï¼‰ã€æ‰©å±•æ€§ã€çµæ´»æ€§&amp;å³°å€¼å¤„ç†èƒ½åŠ›ã€å¯æ¢å¤æ€§ã€é¡ºåºä¿è¯ã€ç¼“å†²ã€å¼‚æ­¥é€šä¿¡ç­‰ï¼</p>
</li>
<li><p>Kafkaçš„ç”¨æ³•å¤§è‡´å°±æ˜¯Producerså¾€Brokersé‡Œé¢çš„æŒ‡å®šTopicä¸­å†™æ¶ˆæ¯ï¼ŒConsumersä»Brokersé‡Œé¢æ‹‰å–æŒ‡å®šTopicçš„æ¶ˆæ¯ï¼Œç„¶åè¿›è¡Œä¸šåŠ¡å¤„ç†ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œæœ‰ä¸¤ä¸ªtopicï¼Œtopic 0æœ‰ä¸¤ä¸ªpartitionï¼Œtopic 1æœ‰ä¸€ä¸ªpartitionï¼Œä¸‰å‰¯æœ¬å¤‡ä»½ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/4523a3e43cc57fc934535cc3db429a12-155422" alt="Kafkaæ•°æ®æµ"></p>
</li>
<li><p>å½“å­˜åœ¨å¤šå‰¯æœ¬çš„æƒ…å†µä¸‹ï¼Œä¼šå°½é‡æŠŠå¤šä¸ªå‰¯æœ¬ï¼Œåˆ†é…åˆ°ä¸åŒçš„brokerä¸Šã€‚kafkaä¼šä¸ºpartitioné€‰å‡ºä¸€ä¸ªleaderï¼Œä¹‹åæ‰€æœ‰è¯¥partitionçš„è¯·æ±‚ï¼Œå®é™…æ“ä½œçš„éƒ½æ˜¯leaderï¼Œç„¶åå†åŒæ­¥åˆ°å…¶ä»–çš„followerã€‚å½“ä¸€ä¸ªbrokeræ­‡èœåï¼Œæ‰€æœ‰leaderåœ¨è¯¥brokerä¸Šçš„partitionéƒ½ä¼šé‡æ–°é€‰ä¸¾ï¼Œé€‰å‡ºä¸€ä¸ªleaderï¼›</p>
</li>
<li><p>kafkaçš„æˆåŠŸä¸æ˜¯æŠ€æœ¯æœ‰å¤šå‰å®³ï¼Œè€Œæ˜¯å®ƒçš„ä¸šåŠ¡å‰å®³ï¼Œèƒ½æŠ½è±¡å¾ˆå¤šçš„åè¯æœ¯è¯­ï¼Œå·²ç»è¯´æ˜äº†è¿™æ¬¾äº§å“è®¾è®¡å¤šä¹ˆç²¾å¦™ï¼›</p>
</li>
<li><p>Kafkaå®˜æ–¹ä¸­æ–‡ç½‘å€ï¼š<a href="https://kafka.apachecn.org/" target="_blank" rel="noopener">https://kafka.apachecn.org/</a></p>
</li>
</ol>
<h3 id="å¸¸ç”¨æ¶ˆæ¯é˜Ÿåˆ—å·¥å…·å¯¹æ¯”"><a href="#å¸¸ç”¨æ¶ˆæ¯é˜Ÿåˆ—å·¥å…·å¯¹æ¯”" class="headerlink" title="å¸¸ç”¨æ¶ˆæ¯é˜Ÿåˆ—å·¥å…·å¯¹æ¯”"></a>å¸¸ç”¨æ¶ˆæ¯é˜Ÿåˆ—å·¥å…·å¯¹æ¯”</h3><ol>
<li><strong>RabbitMQ</strong>æ”¯æŒäº†å¾ˆå¤šçš„åè®®ï¼šAMQPï¼ŒXMPP, SMTP, STOMPã€‚å®ç°äº†Brokeræ¶æ„ï¼Œå¹¶ä¸”å¯¹è·¯ç”±ã€è´Ÿè½½å‡è¡¡ä»¥åŠæ•°æ®æŒä¹…åŒ–éƒ½æœ‰å¾ˆå¥½çš„æ”¯æŒï¼›</li>
<li><strong>Redis</strong>æ˜¯ä¸€ä¸ªåŸºäºKey-Valueå¯¹çš„NoSQLæ•°æ®åº“ï¼Œæ”¯æŒMQåŠŸèƒ½ï¼Œå¯ä»¥å½“æˆä¸€ä¸ªè½»é‡çº§çš„é˜Ÿåˆ—æœåŠ¡æ¥ä½¿ç”¨ï¼›</li>
<li><strong>ZeroMQ</strong>èƒ½å¤Ÿå®ç°RabbitMQä¸æ“…é•¿çš„é«˜çº§/å¤æ‚çš„é˜Ÿåˆ—ï¼Œå¼€å‘äººå‘˜éœ€è¦è‡ªå·±ç»„åˆå¤šç§æŠ€æœ¯æ¡†æ¶ï¼ŒæŠ€æœ¯ä¸Šçš„å¤æ‚åº¦æ˜¯èƒ½å¤Ÿåº”ç”¨æˆåŠŸçš„æŒ‘æˆ˜ï¼›</li>
<li><strong>ActiveMQ</strong>èƒ½å¤Ÿä»¥ä»£ç†äººå’Œç‚¹å¯¹ç‚¹çš„æŠ€æœ¯å®ç°é˜Ÿåˆ—ï¼Œå¯ä»¥å°‘é‡ä»£ç å®ç°é«˜çº§åº”ç”¨åœºæ™¯ï¼›</li>
<li><strong>Jafka</strong>åœ¨Kafkaä¹‹ä¸Šå­µåŒ–è€Œæ¥çš„ï¼Œèƒ½å¤Ÿå¿«é€ŸæŒä¹…åŒ–ã€é«˜ååã€å®Œå…¨åˆ†å¸ƒå¼ç³»ç»Ÿã€è‡ªåŠ¨å®ç°è´Ÿè½½å‡è¡¡ï¼›</li>
<li><strong>MetaQ/RocketMQ</strong> çº¯Javaå®ç°ï¼Œå‘å¸ƒ/è®¢é˜…æ¶ˆæ¯ç³»ç»Ÿï¼Œæ”¯æŒæœ¬åœ°äº‹åŠ¡å’ŒXAåˆ†å¸ƒå¼äº‹åŠ¡ï¼›</li>
</ol>
<h2 id="Dockeræ„å»ºKafkaç¯å¢ƒ"><a href="#Dockeræ„å»ºKafkaç¯å¢ƒ" class="headerlink" title="Dockeræ„å»ºKafkaç¯å¢ƒ"></a>Dockeræ„å»ºKafkaç¯å¢ƒ</h2><ol>
<li><p>åœ¨æ¶‰åŠåˆ°Apache Kafkaçš„å¿«é€Ÿdemoæ—¶ï¼Œä½¿ç”¨Docker Hubä¸Šæä¾›çš„é•œåƒå…å»äº†å¾ˆå¤šå®‰è£…é…ç½®ä¸Šçš„éº»çƒ¦ï¼›</p>
</li>
<li><p>ä¸‹è½½é•œåƒï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> zookeeperé•œåƒ</span></span><br><span class="line">docker pull zookeeper</span><br><span class="line"><span class="meta">#</span><span class="bash"> kafkaé•œåƒ</span></span><br><span class="line">docker pull wurstmeister/kafka</span><br><span class="line"><span class="meta">#</span><span class="bash"> kafkaç®¡ç†è€…é•œåƒ</span></span><br><span class="line">docker pull kafkamanager/kafka-manager</span><br></pre></td></tr></table></figure>
</li>
<li><p>ç¼–å†™docker-composeå¯åŠ¨æ–‡ä»¶docker-compose.ymlï¼š</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">version:</span> <span class="string">'2'</span></span><br><span class="line"></span><br><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">zookeeper:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">zookeeper</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="number">2181</span><span class="string">:2181</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">kafka:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">wurstmeister/kafka</span></span><br><span class="line">    <span class="attr">environment:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">KAFKA_ZOOKEEPER_CONNECT=zookeeper:2181</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">KAFKA_ADVERTISED_HOST_NAME=192.168.3.108</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">KAFKA_ADVERTISED_PORT=9092</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="number">9092</span><span class="string">:9092</span></span><br><span class="line">    <span class="attr">depends_on:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">zookeeper</span></span><br><span class="line">  <span class="attr">kafka2:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">wurstmeister/kafka</span></span><br><span class="line">    <span class="attr">environment:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">KAFKA_ZOOKEEPER_CONNECT=zookeeper:2181</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">KAFKA_ADVERTISED_HOST_NAME=192.168.3.108</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">KAFKA_ADVERTISED_PORT=9093</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="number">9093</span><span class="string">:9092</span></span><br><span class="line">    <span class="attr">depends_on:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">zookeeper</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">kafkamanagement:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">kafkamanager/kafka-manager</span></span><br><span class="line">    <span class="attr">environment:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">ZK_HOSTS=zookeeper:2181</span></span><br><span class="line">    <span class="attr">depends_on:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">kafka</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">zookeeper</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">kafka2</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="number">9000</span><span class="string">:9000</span></span><br></pre></td></tr></table></figure>

<ul>
<li>KAFKA_ADVERTISED_HOST_NAMEä»¥åŠKAFKA_ADVERTISED_PORTæ˜¯Kafkaå¯¹å¤–æš´éœ²çš„åœ°å€ä»¥åŠç«¯å£</li>
<li>å¤šzookeeperé…ç½®æ–‡ä»¶å¦‚ä¸‹ï¼š</li>
</ul>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">version:</span> <span class="string">'2'</span></span><br><span class="line"><span class="attr">services:</span></span><br><span class="line">    <span class="attr">zoo1:</span></span><br><span class="line">        <span class="attr">image:</span> <span class="string">zookeeper</span></span><br><span class="line">        <span class="attr">restart:</span> <span class="string">always</span></span><br><span class="line">        <span class="attr">container_name:</span> <span class="string">zoo1</span></span><br><span class="line">        <span class="attr">ports:</span></span><br><span class="line">            <span class="bullet">-</span> <span class="string">"2181:2181"</span></span><br><span class="line">        <span class="attr">environment:</span></span><br><span class="line">            <span class="attr">ZOO_MY_ID:</span> <span class="number">1</span></span><br><span class="line">            <span class="attr">ZOO_SERVERS:</span> <span class="string">server.1=zoo1:2888:3888;2181</span> <span class="string">server.2=zoo2:2888:3888;2181</span> <span class="string">server.3=zoo3:2888:3888;2181</span></span><br><span class="line">            </span><br><span class="line">    <span class="attr">zoo2:</span></span><br><span class="line">        <span class="attr">image:</span> <span class="string">zookeeper</span></span><br><span class="line">        <span class="attr">restart:</span> <span class="string">always</span></span><br><span class="line">        <span class="attr">container_name:</span> <span class="string">zoo2</span></span><br><span class="line">        <span class="attr">ports:</span></span><br><span class="line">            <span class="bullet">-</span> <span class="string">"2182:2181"</span></span><br><span class="line">        <span class="attr">environment:</span></span><br><span class="line">            <span class="attr">ZOO_MY_ID:</span> <span class="number">2</span></span><br><span class="line">            <span class="attr">ZOO_SERVERS:</span> <span class="string">server.1=zoo1:2888:3888;2181</span> <span class="string">server.2=zoo2:2888:3888;2181</span> <span class="string">server.3=zoo3:2888:3888;2181</span></span><br><span class="line"> </span><br><span class="line">    <span class="attr">zoo3:</span></span><br><span class="line">        <span class="attr">image:</span> <span class="string">zookeeper</span></span><br><span class="line">        <span class="attr">restart:</span> <span class="string">always</span></span><br><span class="line">        <span class="attr">container_name:</span> <span class="string">zoo3</span></span><br><span class="line">        <span class="attr">ports:</span></span><br><span class="line">            <span class="bullet">-</span> <span class="string">"2183:2181"</span></span><br><span class="line">        <span class="attr">environment:</span></span><br><span class="line">            <span class="attr">ZOO_MY_ID:</span> <span class="number">3</span></span><br><span class="line">            <span class="attr">ZOO_SERVERS:</span> <span class="string">server.1=zoo1:2888:3888;2181</span> <span class="string">server.2=zoo2:2888:3888;2181</span> <span class="string">server.3=zoo3:2888:3888;2181</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">kafka:</span></span><br><span class="line">      <span class="attr">image:</span> <span class="string">wurstmeister/kafka</span></span><br><span class="line">      <span class="attr">environment:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">KAFKA_ZOOKEEPER_CONNECT=zoo1:2181,zoo2:2181,zoo3:2181</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">KAFKA_ADVERTISED_HOST_NAME=192.168.3.108</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">KAFKA_ADVERTISED_PORT=9092</span></span><br><span class="line">      <span class="attr">ports:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="number">9092</span><span class="string">:9092</span></span><br><span class="line">      <span class="attr">depends_on:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">zoo1</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">zoo2</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">zoo3</span></span><br><span class="line">    <span class="attr">kafka2:</span></span><br><span class="line">      <span class="attr">image:</span> <span class="string">wurstmeister/kafka</span></span><br><span class="line">      <span class="attr">environment:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">KAFKA_ZOOKEEPER_CONNECT=zoo1:2181,zoo2:2181,zoo3:2181</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">KAFKA_ADVERTISED_HOST_NAME=192.168.3.108</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">KAFKA_ADVERTISED_PORT=9093</span></span><br><span class="line">      <span class="attr">ports:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="number">9093</span><span class="string">:9092</span></span><br><span class="line">      <span class="attr">depends_on:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">zoo1</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">zoo2</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">zoo3</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">kafkamanagement:</span></span><br><span class="line">      <span class="attr">image:</span> <span class="string">kafkamanager/kafka-manager</span></span><br><span class="line">      <span class="attr">environment:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">ZK_HOSTS=zoo1:2181,zoo2:2181,zoo3:2181</span></span><br><span class="line">      <span class="attr">depends_on:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">kafka</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">zoo1</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">zoo2</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">zoo3</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">kafka2</span></span><br><span class="line">      <span class="attr">ports:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="number">9000</span><span class="string">:9000</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>ä½¿ç”¨çš„æ—¶å€™åªè¦åœ¨docker-compose.ymlç›®å½•ä¸‹é”®å…¥å¦‚ä¸‹å‘½ä»¤ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker-compse up -d</span><br></pre></td></tr></table></figure>
</li>
<li><p>Kafkaç®¡ç†å™¨ç•Œé¢ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/9dc0086c6be668e992dc205683065b33-19922" alt="Kafkaç®¡ç†ç•Œé¢"></p>
</li>
<li><p>æ·»åŠ Kafkaé›†ç¾¤ç®¡ç†ï¼ŒæŒ‰ç…§ä¸‹å›¾é…ç½®å³å¯ï¼Œå…¶ä»–çš„ä¿æŒé»˜è®¤å³å¯ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/85458fa87843fbf70c87b603d3a78fa8-99994" alt="æ·»åŠ Kafkaé›†ç¾¤"></p>
</li>
<li><p>Brokerså±•ç¤ºï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/f4b02377c8e40f08a10acb5d283d51ea-86405" alt="Brokerså±•ç¤º"></p>
</li>
</ol>
<h2 id="SpringBootå¿«é€Ÿæ¥å…¥Kafka"><a href="#SpringBootå¿«é€Ÿæ¥å…¥Kafka" class="headerlink" title="SpringBootå¿«é€Ÿæ¥å…¥Kafka"></a>SpringBootå¿«é€Ÿæ¥å…¥Kafka</h2><ol>
<li><p>åœ¨é¡¹ç›®ä¸­æ·»åŠ Kafkaä¾èµ–(pom.xml)ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.kafka<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-kafka<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>é…ç½®æ–‡ä»¶æ·»åŠ ï¼š</p>
<figure class="highlight properties"><table><tr><td class="code"><pre><span class="line"><span class="comment">#kafkaé»˜è®¤æ¶ˆè´¹è€…é…ç½® </span></span><br><span class="line"><span class="meta">spring.kafka.consumer.bootstrap-servers</span>=<span class="string">127.0.0.1:9092,127.0.0.1:9093</span></span><br><span class="line"><span class="meta">spring.kafka.consumer.enable-auto-commit</span>=<span class="string">false</span></span><br><span class="line"><span class="meta">spring.kafka.consumer.auto-offset-reset</span>=<span class="string">earliest</span></span><br><span class="line"><span class="comment">#kafkaé»˜è®¤ç”Ÿäº§è€…é…ç½®</span></span><br><span class="line"><span class="meta">spring.kafka.producer.bootstrap-servers</span>=<span class="string">127.0.0.1:9092,127.0.0.1:9093</span></span><br><span class="line"><span class="meta">spring.kafka.producer.acks</span>=<span class="string">-1</span></span><br><span class="line"><span class="meta">spring.kafka.client-id</span>=<span class="string">kafka-producer</span></span><br><span class="line"><span class="meta">spring.kafka.producer.batch-size</span>=<span class="string">5</span></span><br><span class="line"></span><br><span class="line"><span class="meta">spring.kafka.producer.key-serializer</span>=<span class="string">org.apache.kafka.common.serialization.StringSerializer</span></span><br><span class="line"><span class="meta">spring.kafka.producer.value-serializer</span>=<span class="string">org.apache.kafka.common.serialization.StringSerializer</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>æ·»åŠ Kafkaé…ç½®ä»£ç ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">KafkaProducerConfig</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Value</span>(<span class="string">"$&#123;spring.kafka.producer.bootstrap-servers&#125;"</span>)</span><br><span class="line">    <span class="keyword">private</span> String bootstrapServer;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">/* --------------producer configuration-----------------**/</span></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Map&lt;String, Object&gt; <span class="title">producerConfigs</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        Map&lt;String, Object&gt; props = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        props.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapServer);</span><br><span class="line">        props.put(ProducerConfig.RETRIES_CONFIG, <span class="number">0</span>);</span><br><span class="line">        props.put(ProducerConfig.BATCH_SIZE_CONFIG, <span class="number">16384</span>);</span><br><span class="line">        props.put(ProducerConfig.LINGER_MS_CONFIG, <span class="number">1</span>);</span><br><span class="line">        props.put(ProducerConfig.BUFFER_MEMORY_CONFIG, <span class="number">33554432</span>);</span><br><span class="line">        props.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">        props.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, StringSerializer<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">        <span class="keyword">return</span> props;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> ProducerFactory&lt;String, Object&gt; <span class="title">producerFactory</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> DefaultKafkaProducerFactory&lt;&gt;(producerConfigs());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* --------------kafka template configuration-----------------**/</span></span><br><span class="line">    <span class="meta">@Bean</span>(value = <span class="string">"kafkaTemplate"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> KafkaTemplate&lt;String, Object&gt; <span class="title">kafkaTemplate</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        KafkaTemplate&lt;String, Object&gt; kafkaTemplate = <span class="keyword">new</span> KafkaTemplate&lt;&gt;(producerFactory());</span><br><span class="line">        <span class="keyword">return</span> kafkaTemplate;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//åˆ›å»ºTopicNameä¸ºtopic.wander.initialçš„Topicå¹¶è®¾ç½®åˆ†åŒºæ•°ä¸º10ä»¥åŠå‰¯æœ¬æ•°ä¸º1</span></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> NewTopic <span class="title">initialTopic</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> NewTopic(<span class="string">"topic.wander.initial"</span>,<span class="number">10</span>, (<span class="keyword">short</span>) <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Value</span>(<span class="string">"$&#123;spring.kafka.consumer.bootstrap-servers&#125;"</span>)</span><br><span class="line">    <span class="keyword">private</span> String kafkaServers;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> AdminClient <span class="title">adminClient</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        Map&lt;String, Object&gt; props = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        <span class="comment">//é…ç½®Kafkaå®ä¾‹çš„è¿æ¥åœ°å€</span></span><br><span class="line">        props.put(AdminClientConfig.BOOTSTRAP_SERVERS_CONFIG, kafkaServers);</span><br><span class="line">        <span class="keyword">return</span> AdminClient.create(props);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ·»åŠ kafkaç›‘å¬å™¨ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@Slf</span>4j</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">KafkaMessageReceiver2</span> </span>&#123;</span><br><span class="line">    <span class="comment">//æŒ‡å®šç›‘å¬çš„topicï¼Œå½“å‰æ¶ˆè´¹è€…ç»„id</span></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> KafkaTemplate kafkaTemplate;</span><br><span class="line">    <span class="meta">@KafkaListener</span>(id = <span class="string">"myListener1"</span>,topicPartitions =&#123;<span class="meta">@TopicPartition</span>(topic = <span class="string">"da"</span>, partitions = &#123; <span class="string">"0"</span>&#125;)&#125;,groupId = <span class="string">"group1"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">registryReceiver</span><span class="params">(ConsumerRecord&lt;Integer, String&gt; integerStringConsumerRecords)</span> </span>&#123;</span><br><span class="line">        log.info(<span class="string">"consume da "</span>+integerStringConsumerRecords.value());</span><br><span class="line">      <span class="comment">//  kafkaTemplate.send("TEST",integerStringConsumerRecords.value());</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//æŒ‡å®šç›‘å¬çš„topicï¼Œå½“å‰æ¶ˆè´¹è€…ç»„id</span></span><br><span class="line">    <span class="meta">@KafkaListener</span>(id = <span class="string">"myListener2"</span>,topicPartitions =&#123;<span class="meta">@TopicPartition</span>(topic = <span class="string">"db"</span>, partitions = &#123; <span class="string">"0"</span>&#125;)&#125;,groupId = <span class="string">"group1"</span>)</span><br><span class="line">  <span class="comment">//  @SendTo("DC2")</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">registryReceiver2</span><span class="params">(ConsumerRecord&lt;Integer, String&gt; integerStringConsumerRecords)</span> </span>&#123;</span><br><span class="line">        log.info(<span class="string">"consume db "</span>+integerStringConsumerRecords.value());</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//æŒ‡å®šç›‘å¬çš„topicï¼Œå½“å‰æ¶ˆè´¹è€…ç»„id</span></span><br><span class="line">    <span class="meta">@KafkaListener</span>(topicPartitions =&#123;<span class="meta">@TopicPartition</span>(topic = <span class="string">"dc"</span>, partitions = &#123; <span class="string">"0"</span>&#125;)&#125;,groupId = <span class="string">"group1"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">registryReceiver3</span><span class="params">(ConsumerRecord&lt;Integer, String&gt; integerStringConsumerRecords)</span> </span>&#123;</span><br><span class="line">        log.info(<span class="string">"consume dc "</span>+integerStringConsumerRecords.value());</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//æŒ‡å®šç›‘å¬çš„topicï¼Œå½“å‰æ¶ˆè´¹è€…ç»„id</span></span><br><span class="line">    <span class="meta">@KafkaListener</span>(topicPartitions =&#123;<span class="meta">@TopicPartition</span>(topic = <span class="string">"d9"</span>, partitions = &#123; <span class="string">"0"</span>&#125;)&#125;,groupId = <span class="string">"group1"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">registryReceiver4</span><span class="params">(ConsumerRecord&lt;Integer, String&gt; integerStringConsumerRecords)</span> </span>&#123;</span><br><span class="line">        log.info(<span class="string">"consume d9 "</span>+integerStringConsumerRecords.value());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>åœ¨å¯åŠ¨ç±»ä¸Šæ·»åŠ æ³¨è§£@EnableKafkaï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="meta">@EnableKafka</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">KafakaproviderApplication</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        SpringApplication.run(KafakaproviderApplication<span class="class">.<span class="keyword">class</span>, <span class="title">args</span>)</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>åˆ›å»ºä¸€ä¸ªæ§åˆ¶å™¨æ·»åŠ æ¶ˆæ¯å‘é€ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">KafkaProducer</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> KafkaTemplate&lt;String, Object&gt; kafkaTemplate;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å‘é€æ¶ˆæ¯</span></span><br><span class="line">    <span class="meta">@GetMapping</span>(<span class="string">"/test"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"ç›‘å¬å™¨å‘é€æ¶ˆæ¯!"</span>);</span><br><span class="line">        kafkaTemplate.send(<span class="string">"da"</span>, <span class="string">"1æ¡æµ‹è¯•æ¶ˆæ¯"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>å¯åŠ¨é¡¹ç›®å³å¯ã€‚è®¿é—®<a href="http://localhost:8080/testï¼Œç„¶åç›‘å¬å™¨å°±èƒ½æ”¶åˆ°æ¶ˆæ¯ï¼" target="_blank" rel="noopener">http://localhost:8080/testï¼Œç„¶åç›‘å¬å™¨å°±èƒ½æ”¶åˆ°æ¶ˆæ¯ï¼</a></p>
</li>
</ol>
<hr>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>Kafkaä¸Šæ‰‹æ˜¯æœ‰ç‚¹éš¾åº¦çš„ï¼Œè¿™é‡Œåªæ˜¯ç®€å•çš„å¿«é€Ÿå…¥é—¨ï¼Œè¿˜éœ€è¦æ·±å…¥å­¦ä¹ ï¼</p>
]]></content>
      <categories>
        <category>SpringBoot</category>
      </categories>
  </entry>
  <entry>
    <title>SpringBoot Mybatis Quick Start</title>
    <url>/2020/08/27/SpringBoot-Mybatis-Quick-Start/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>MyBatis æ˜¯ä¸€æ¬¾ä¼˜ç§€çš„æŒä¹…å±‚æ¡†æ¶ï¼Œå®ƒæ”¯æŒè‡ªå®šä¹‰ SQLã€å­˜å‚¨è¿‡ç¨‹ä»¥åŠé«˜çº§æ˜ å°„ã€‚MyBatis å…é™¤äº†å‡ ä¹æ‰€æœ‰çš„ JDBC ä»£ç ä»¥åŠè®¾ç½®å‚æ•°å’Œè·å–ç»“æœé›†çš„å·¥ä½œã€‚MyBatis å¯ä»¥é€šè¿‡ç®€å•çš„ XML æˆ–æ³¨è§£æ¥é…ç½®å’Œæ˜ å°„åŸå§‹ç±»å‹ã€æ¥å£å’Œ Java POJOï¼ˆPlain Old Java Objectsï¼Œæ™®é€šè€å¼ Java å¯¹è±¡ï¼‰ä¸ºæ•°æ®åº“ä¸­çš„è®°å½•!Mybatiså±äºåŠè‡ªåŠ¨åŒ–é…ç½®ï¼Œåœ¨é¡¹ç›®å¼€å‘ä¸­ç›´æ¥ä½¿ç”¨äº†Mybatisï¼ŒçœŸçš„æ˜¯æœ‰å¾ˆé•¿æ—¶é—´å»å†™Mapperä¸­çš„SQLè¯­å¥äº†ï¼ŒçœŸå¿ƒä½“ä¼šäº†MybatisPlusçš„å¦™å¤„ï¼</p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><ol>
<li>MyBatis ä¸»è¦æä¾›äº†ä»¥ä¸‹CRUDæ³¨è§£ï¼šï¼ˆå¢åˆ æ”¹æŸ¥å æ®äº†ç»å¤§éƒ¨åˆ†çš„ä¸šåŠ¡æ“ä½œï¼‰<ul>
<li>@Select</li>
<li>@Insert</li>
<li>@Update</li>
<li>@Delete</li>
</ul>
</li>
<li>Mybatisä¸»è¦æä¾›è¿™äº›æ˜ å°„æ³¨è§£ï¼š<ul>
<li>@Results ç”¨äºå¡«å†™ç»“æœé›†çš„å¤šä¸ªå­—æ®µçš„æ˜ å°„å…³ç³»ï¼Œpropertyè¡¨ç¤ºå®ä½“å¯¹è±¡çš„å±æ€§åï¼Œcolumnè¡¨ç¤ºå¯¹åº”çš„æ•°æ®åº“å­—æ®µå</li>
<li>@Result ç”¨äºå¡«å†™ç»“æœé›†çš„å•ä¸ªå­—æ®µçš„æ˜ å°„å…³ç³»</li>
<li>@ResultMap æ ¹æ®IDå…³è”XMLé‡Œé¢&lt;resultMap&gt;</li>
</ul>
</li>
<li>MyBatis-3 ä¸»è¦æä¾›äº†ä»¥ä¸‹CRUDçš„é«˜çº§æ³¨è§£ï¼šï¼ˆä¸»è¦ç”¨äºåŠ¨æ€SQLï¼‰<ul>
<li>@SelectProvider</li>
<li>@InsertProvider</li>
<li>@UpdateProvider</li>
<li>@DeleteProvider</li>
</ul>
</li>
<li>å®˜æ–¹ä¸­æ–‡æ–‡æ¡£ï¼š<a href="https://mybatis.org/mybatis-3/zh/index.html" target="_blank" rel="noopener">https://mybatis.org/mybatis-3/zh/index.html</a></li>
<li>mybatis-spring-boot-autoconfigureï¼š<a href="http://mybatis.org/spring-boot-starter/mybatis-spring-boot-autoconfigure/" target="_blank" rel="noopener">http://mybatis.org/spring-boot-starter/mybatis-spring-boot-autoconfigure/</a></li>
<li>mybatis-PageHelperå‚è€ƒä»£ç ï¼š<a href="https://github.com/abel533/MyBatis-Spring-Boot" target="_blank" rel="noopener">https://github.com/abel533/MyBatis-Spring-Boot</a></li>
<li>Mybatisä¸­æ–‡ç½‘ï¼š<a href="http://www.mybatis.cn/" target="_blank" rel="noopener">http://www.mybatis.cn/</a></li>
</ol>
<h2 id="åˆ†é¡µæ’ä»¶å‚æ•°è¯´æ˜"><a href="#åˆ†é¡µæ’ä»¶å‚æ•°è¯´æ˜" class="headerlink" title="åˆ†é¡µæ’ä»¶å‚æ•°è¯´æ˜"></a>åˆ†é¡µæ’ä»¶å‚æ•°è¯´æ˜</h2><ol>
<li><strong>helperDialect</strong>ï¼šåˆ†é¡µæ’ä»¶ä¼šè‡ªåŠ¨æ£€æµ‹å½“å‰çš„æ•°æ®åº“é“¾æ¥ï¼Œè‡ªåŠ¨é€‰æ‹©åˆé€‚çš„åˆ†é¡µæ–¹å¼ã€‚å¯ä»¥æŒ‡å®šåˆ†é¡µæ’ä»¶ä½¿ç”¨å“ªç§æ–¹è¨€ï¼Œæ¯”å¦‚oracleï¼Œmysqlï¼Œmariadbï¼Œsqliteï¼Œhsqldbï¼Œpostgresqlï¼Œdb2ï¼Œsqlserverï¼Œinformixï¼Œh2ï¼Œsqlserver2012ï¼Œderbyï¼›</li>
<li><strong>offsetAsPageNum</strong>ï¼šè¯¥å‚æ•°å¯¹ä½¿ç”¨ RowBounds ä½œä¸ºåˆ†é¡µå‚æ•°æ—¶æœ‰æ•ˆï¼Œé»˜è®¤falseï¼Œå½“è¯¥å‚æ•°è®¾ç½®ä¸º true æ—¶ï¼Œä¼šå°† RowBounds ä¸­çš„ offset å‚æ•°å½“æˆ pageNum ä½¿ç”¨ï¼Œå¯ä»¥ç”¨é¡µç å’Œé¡µé¢å¤§å°ä¸¤ä¸ªå‚æ•°è¿›è¡Œåˆ†é¡µï¼›</li>
<li><strong>rowBoundsWithCount</strong>ï¼šè¯¥å‚æ•°å¯¹ä½¿ç”¨ RowBounds ä½œä¸ºåˆ†é¡µå‚æ•°æ—¶æœ‰æ•ˆï¼Œé»˜è®¤falseï¼Œå½“è¯¥å‚æ•°è®¾ç½®ä¸º true æ—¶ï¼Œä½¿ç”¨ RowBounds åˆ†é¡µä¼šè¿›è¡Œ count æŸ¥è¯¢ï¼›</li>
<li><strong>pageSizeZero</strong>ï¼šè¯¥å‚æ•°è®¾ç½®ä¸º true æ—¶ï¼Œå¦‚æœ pageSize=0 æˆ–è€… RowBounds.limit = 0 å°±ä¼šæŸ¥è¯¢å‡ºå…¨éƒ¨çš„ç»“æœï¼Œé»˜è®¤falseï¼›</li>
<li><strong>reasonable</strong>ï¼šåˆ†é¡µåˆç†åŒ–å‚æ•°ï¼Œé»˜è®¤å€¼ä¸ºfalseã€‚å½“è¯¥å‚æ•°è®¾ç½®ä¸º true æ—¶ï¼ŒpageNum&lt;=0 æ—¶ä¼šæŸ¥è¯¢ç¬¬ä¸€é¡µï¼Œ pageNum&gt;pagesï¼ˆè¶…è¿‡æ€»æ•°æ—¶ï¼‰ï¼Œä¼šæŸ¥è¯¢æœ€åä¸€é¡µï¼›</li>
<li><strong>params</strong>ï¼šä¸ºäº†æ”¯æŒstartPage(Object params)æ–¹æ³•ï¼Œå¢åŠ äº†è¯¥å‚æ•°æ¥é…ç½®å‚æ•°æ˜ å°„ï¼Œç”¨äºä»å¯¹è±¡ä¸­æ ¹æ®å±æ€§åå–å€¼ï¼Œ å¯ä»¥é…ç½®pageNum,pageSize,count,pageSizeZero,reasonableï¼Œä¸é…ç½®æ˜ å°„çš„ç”¨é»˜è®¤å€¼ï¼Œ é»˜è®¤å€¼ä¸ºpageNum=pageNum;pageSize=pageSize;count=countSql;reasonable=reasonable;pageSizeZero=pageSizeZeroï¼›</li>
<li>å…¶ä»–å‚æ•°å¯ä»¥çœ‹å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://github.com/pagehelper/Mybatis-PageHelper/blob/master/wikis/zh/HowToUse.md" target="_blank" rel="noopener">https://github.com/pagehelper/Mybatis-PageHelper/blob/master/wikis/zh/HowToUse.md</a></li>
</ol>
<h1 id="åŠ¨æ‰‹å®æ“"><a href="#åŠ¨æ‰‹å®æ“" class="headerlink" title="åŠ¨æ‰‹å®æ“"></a>åŠ¨æ‰‹å®æ“</h1><ol>
<li><p>åˆ›å»ºä¸€ä¸ªSpringBooté¡¹ç›®ï¼Œæ·»åŠ Mybatisç›¸å…³ä¾èµ–ï¼ŒåŒ…å«åˆ†é¡µæ’ä»¶ï¼ˆpom.xmlï¼‰ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis.spring.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-spring-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.1.3<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- mybatisåˆ†é¡µæ’ä»¶ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.github.pagehelper<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>pagehelper<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.1.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.github.pagehelper<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>pagehelper-spring-boot-autoconfigure<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2.3<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.github.pagehelper<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>pagehelper-spring-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2.3<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>æ·»åŠ é…ç½®æ–‡ä»¶ï¼ˆapplication.ymlï¼‰:</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">datasource:</span></span><br><span class="line">    <span class="attr">driver-class-name:</span> <span class="string">com.mysql.cj.jdbc.Driver</span></span><br><span class="line">    <span class="attr">url:</span> <span class="string">jdbc:mysql://127.0.0.1:3306/mybatis?characterEncoding=utf8&amp;serverTimezone=UTC</span></span><br><span class="line">    <span class="attr">username:</span> <span class="string">root</span></span><br><span class="line">    <span class="attr">password:</span> <span class="number">123456</span></span><br><span class="line"></span><br><span class="line"><span class="attr">logging:</span></span><br><span class="line">  <span class="attr">level:</span></span><br><span class="line">    <span class="attr">root:</span> <span class="string">debug</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># é…ç½®pagehelperå‚æ•°</span></span><br><span class="line"><span class="attr">pagehelper:</span></span><br><span class="line">  <span class="attr">helperDialect:</span> <span class="string">mysql</span></span><br><span class="line">  <span class="attr">reasonable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">supportMethodsArguments:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">params:</span> <span class="string">count=countSql</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>åœ¨å¯åŠ¨ç±»ä¸Šæ·»åŠ æ‰«æMapperçš„æ³¨è§£ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@MapperScan</span>(<span class="string">"com.wander.mybatis"</span>)</span><br><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MybatisApplication</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        SpringApplication.run(MybatisApplication<span class="class">.<span class="keyword">class</span>, <span class="title">args</span>)</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>åˆ›å»ºä¸€ä¸ªæ•°æ®ç±»ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span>  String email;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>åˆ›å»ºæ•°æ®ç±»çš„Mapperï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">UserDao</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**  <span class="doctag">@Results</span>(&#123; //2</span></span><br><span class="line"><span class="comment">            <span class="doctag">@Result</span>(property = "id", column = "id"), //2</span></span><br><span class="line"><span class="comment">            <span class="doctag">@Result</span>(property = "name", column = "name"),</span></span><br><span class="line"><span class="comment">            <span class="doctag">@Result</span>(property = "email", column = "email")</span></span><br><span class="line"><span class="comment">    &#125;)</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">    <span class="meta">@Select</span>(<span class="string">"SELECT * FROM user"</span>)</span><br><span class="line">    <span class="function">List&lt;User&gt; <span class="title">getAll</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Select</span>(<span class="string">"SELECT name FROM user"</span>)</span><br><span class="line">    <span class="function">List&lt;String&gt; <span class="title">getAllName</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Select</span>(<span class="string">"select * from user where id =#&#123;id&#125;"</span>)</span><br><span class="line">    <span class="function">User <span class="title">findById</span><span class="params">(@Param(<span class="string">"id"</span>)</span> <span class="keyword">int</span> id)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Select</span>(<span class="string">"SELECT * FROM user WHERE name = #&#123;name&#125;"</span>) <span class="comment">//3</span></span><br><span class="line">    <span class="function">List&lt;User&gt; <span class="title">getFromName</span><span class="params">(String name)</span></span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Insert</span>(<span class="string">"INSERT INTO user(id,name, email) VALUES (#&#123;id&#125;, #&#123;name&#125;,#&#123;email&#125;)"</span>) <span class="comment">//3</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">insertUser</span><span class="params">(User user)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Insert</span>(<span class="string">"INSERT INTO user(id,name, email) VALUES (#&#123;id&#125;, #&#123;name&#125;,#&#123;email&#125;)"</span>) <span class="comment">//3</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">insertUserByMap</span><span class="params">(Map&lt;String,Object&gt; map)</span></span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">      <span class="meta">@Insert</span>(<span class="string">"insert into user(id,name,email)"</span></span><br><span class="line">          + <span class="string">"values                   "</span></span><br><span class="line">          + <span class="string">"(#&#123;id&#125;, #&#123;name&#125;, #&#123;email&#125;) "</span>)</span><br><span class="line">       <span class="function"><span class="keyword">int</span> <span class="title">insertUserByParam</span><span class="params">(@Param(<span class="string">"id"</span>)</span> <span class="keyword">int</span> id,</span></span><br><span class="line"><span class="function">                        @<span class="title">Param</span><span class="params">(<span class="string">"name"</span>)</span> String name,</span></span><br><span class="line"><span class="function">                        @<span class="title">Param</span><span class="params">(<span class="string">"email"</span>)</span> String email)</span>;</span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * ä¿®æ”¹</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="meta">@Update</span>(<span class="string">"update user set  "</span></span><br><span class="line">          + <span class="string">"name = #&#123;name&#125;,  "</span></span><br><span class="line">          + <span class="string">"email  = #&#123;email&#125;    "</span></span><br><span class="line">          + <span class="string">"where id = #&#123;id&#125; "</span>)</span><br><span class="line">  <span class="function"><span class="keyword">int</span> <span class="title">updateUser</span><span class="params">(User bean)</span></span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * åˆ é™¤</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="meta">@Delete</span>(<span class="string">"delete from user  "</span></span><br><span class="line">          + <span class="string">"where id = #&#123;id&#125;  "</span>)</span><br><span class="line">  <span class="function"><span class="keyword">int</span> <span class="title">deleteUserById</span><span class="params">(@Param(<span class="string">"id"</span>)</span> <span class="keyword">int</span> id)</span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * åˆ é™¤</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="meta">@Delete</span>(<span class="string">"delete from user "</span>)</span><br><span class="line">  <span class="function"><span class="keyword">int</span> <span class="title">deleteUserAll</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * truncate è¿”å›å€¼ä¸º0</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="meta">@Delete</span>(<span class="string">"truncate table user "</span>)</span><br><span class="line">  <span class="function"><span class="keyword">void</span> <span class="title">truncateUser</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@Select</span>(<span class="string">"select count(*) from user "</span>)</span><br><span class="line">  <span class="function"><span class="keyword">int</span> <span class="title">selectCountUser</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>åˆ›å»ºæµ‹è¯•çš„æ§åˆ¶å™¨ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@Slf</span>4j</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HelloController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping</span>(<span class="string">"/"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">hello</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"Hello World!"</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> UserDao userDao;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping</span>(<span class="string">"/list"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;User&gt; <span class="title">getAll</span><span class="params">()</span></span>&#123;</span><br><span class="line">        List&lt;User&gt; users= userDao.getAll();</span><br><span class="line">        <span class="keyword">return</span> users;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping</span>(<span class="string">"/pages/&#123;page&#125;"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;User&gt; <span class="title">getpage</span><span class="params">(@PathVariable <span class="keyword">int</span> page)</span></span>&#123;</span><br><span class="line">        PageHelper.startPage(page,<span class="number">5</span>);</span><br><span class="line">        List&lt;User&gt; users= userDao.getAll();</span><br><span class="line">        PageInfo&lt;User&gt; pageInfo=<span class="keyword">new</span> PageInfo(users,<span class="number">3</span>);</span><br><span class="line">        System.out.println(pageInfo);</span><br><span class="line">        <span class="keyword">return</span> users;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping</span>(<span class="string">"/pages2/&#123;page&#125;"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Page&lt;User&gt; <span class="title">getpage2</span><span class="params">(@PathVariable <span class="keyword">int</span> page)</span></span>&#123;</span><br><span class="line">        Page&lt;User&gt; pager =PageHelper.startPage(page,<span class="number">5</span>);</span><br><span class="line">        List&lt;User&gt; users= userDao.getFromName(<span class="string">"lisi"</span>);</span><br><span class="line">        System.out.println(pager.getTotal());</span><br><span class="line">        System.out.println(pager.size());</span><br><span class="line">        System.out.println(pager.get(<span class="number">2</span>));</span><br><span class="line">        <span class="comment">// ç¬¬ä¸€ä¸ªUserå¯¹è±¡ï¼Œå‚è€ƒlistï¼Œåºå·0æ˜¯ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œä¾æ­¤ç±»æ¨</span></span><br><span class="line">        <span class="comment">//pager.get(0);</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> pager;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping</span>(<span class="string">"/get/&#123;id&#125;"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getUser</span><span class="params">(@PathVariable(value = <span class="string">"id"</span>)</span> <span class="keyword">int</span> id)</span>&#123;</span><br><span class="line">        User user=userDao.findById(id);</span><br><span class="line">        log.info(<span class="string">"username:&#123;&#125;,useremail:&#123;&#125;"</span>,user.getName(),user.getEmail());</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"success!"</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping</span>(<span class="string">"/insert/&#123;id&#125;"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">insertUser</span><span class="params">(@PathVariable(value = <span class="string">"id"</span>)</span> <span class="keyword">int</span> id,String name,String email)</span>&#123;</span><br><span class="line">        User user=<span class="keyword">new</span> User();</span><br><span class="line">        user.setId(id);</span><br><span class="line">        user.setName(name);</span><br><span class="line">        user.setEmail(email);</span><br><span class="line">        userDao.insertUser(user);</span><br><span class="line">        log.info(<span class="string">"username:&#123;&#125;,useremail:&#123;&#125;"</span>,user.getName(),user.getEmail());</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"success!"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Transactional</span></span><br><span class="line">    <span class="meta">@GetMapping</span>(<span class="string">"/trans"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">transactionalTest</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line">        User user=<span class="keyword">new</span> User();</span><br><span class="line">        user.setId(<span class="number">15</span>);</span><br><span class="line">        user.setName(<span class="string">"lisi15"</span>);</span><br><span class="line">        user.setEmail(<span class="string">"lisi14@email.com"</span>);</span><br><span class="line">        <span class="keyword">try</span>&#123;</span><br><span class="line">            userDao.insertUser(user);</span><br><span class="line">        &#125;<span class="keyword">catch</span> (DataAccessException e)&#123;</span><br><span class="line">            System.out.println(<span class="string">"!!!!!"</span>+e);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        log.info(<span class="string">"!!!!---æˆåŠŸ----username:&#123;&#125;,useremail:&#123;&#125;"</span>,user.getName(),user.getEmail());</span><br><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line">    user.setId(<span class="number">1</span>);</span><br><span class="line">    user.setName(<span class="string">"lisi"</span>);</span><br><span class="line">    user.setEmail(<span class="string">"lisi@email.com"</span>);</span><br><span class="line">    userDao.insertUser(user);</span><br><span class="line">&#125;<span class="keyword">catch</span> (DataAccessException e)&#123;</span><br><span class="line">    System.out.println(<span class="string">"!!!!!"</span>+e);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">        log.info(<span class="string">"!!!!---å¤±è´¥----username:&#123;&#125;,useremail:&#123;&#125;"</span>,user.getName(),user.getEmail());</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="string">"success!"</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping</span>(<span class="string">"/map"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">insertMapUser</span><span class="params">()</span></span>&#123;</span><br><span class="line">        Map&lt;String,Object&gt; map= <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        map.put(<span class="string">"id"</span>,<span class="number">5</span>);</span><br><span class="line">        map.put(<span class="string">"name"</span>,<span class="string">"lier"</span>);</span><br><span class="line">        map.put(<span class="string">"email"</span>,<span class="string">"email@email.com"</span>);</span><br><span class="line">        userDao.insertUserByMap(map);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@GetMapping</span>(<span class="string">"/param"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">insertParamUser</span><span class="params">()</span></span>&#123;</span><br><span class="line">        userDao.insertUserByParam(<span class="number">6</span>,<span class="string">"you"</span>,<span class="string">"you@email.com"</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@GetMapping</span>(<span class="string">"/name/&#123;id&#125;"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getUser</span><span class="params">(@PathVariable(value = <span class="string">"id"</span>)</span> String id)</span>&#123;</span><br><span class="line">        List&lt;User&gt; users=userDao.getFromName(id);</span><br><span class="line">        users.forEach(user-&gt;&#123;</span><br><span class="line">            log.info(<span class="string">"userid: &#123;&#125; ,useremail: &#123;&#125;"</span>,user.getId(),user.getEmail());</span><br><span class="line">        &#125;);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"success!"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@GetMapping</span>(<span class="string">"/count"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">countUser</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> count=userDao.selectCountUser();</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"ä¸€å…±æœ‰ "</span>+Integer.toString(count)+<span class="string">" åæˆå‘˜ï¼"</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping</span>(<span class="string">"/delete/&#123;id&#125;"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">deletebyId</span><span class="params">(@PathVariable <span class="keyword">int</span> id)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> i= userDao.deleteUserById(id);</span><br><span class="line">        log.error(<span class="string">"delete user id :&#123;&#125;,return &#123;&#125;"</span>,id,i);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping</span>(<span class="string">"/update"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">update</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        User user=<span class="keyword">new</span> User();</span><br><span class="line">        user.setId(<span class="number">4</span>);</span><br><span class="line">        user.setName(<span class="string">"Fuck"</span>);</span><br><span class="line">        user.setEmail(<span class="string">"fuck@email.com"</span>);</span><br><span class="line">        <span class="keyword">int</span> i= userDao.updateUser(user);</span><br><span class="line">        log.error(<span class="string">"update user return &#123;&#125;"</span>,i);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping</span>(<span class="string">"/deleteall"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">deletebyId</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> i= userDao.deleteUserAll();</span><br><span class="line">        log.error(<span class="string">"delete user return &#123;&#125;"</span>,i);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>æ³¨æ„ï¼šåˆ†é¡µçš„å‡½æ•°ä¸è¦æ‰§è¡Œçš„æŸ¥è¯¢SQLè¯­å¥çš„å‡½æ•°ä¸èƒ½éš”ç¦»ï¼Œæœ€å¥½ä¸Šä¸‹è¡Œï¼Œå¦åˆ™æœ‰å¯èƒ½å‡ºé”™</li>
<li><strong>åªæœ‰ç´§è·Ÿåœ¨PageHelper.startPageæ–¹æ³•åçš„ç¬¬ä¸€ä¸ªMybatisçš„æŸ¥è¯¢ï¼ˆSelectï¼‰æ–¹æ³•ä¼šè¢«åˆ†é¡µ</strong></li>
<li>å¯¹äºå¸¦æœ‰for updateçš„sqlï¼Œä¼šæŠ›å‡ºè¿è¡Œæ—¶å¼‚å¸¸ï¼Œå¯¹äºè¿™æ ·çš„sqlå»ºè®®æ‰‹åŠ¨åˆ†é¡µï¼Œæ¯•ç«Ÿè¿™æ ·çš„sqléœ€è¦é‡è§†</li>
<li><strong>åˆ†é¡µæ’ä»¶ä¸æ”¯æŒåµŒå¥—ç»“æœæ˜ å°„</strong></li>
</ul>
</li>
<li><p>å¯åŠ¨é¡¹ç›®ï¼Œç„¶åå°±å¯ä»¥æµ‹è¯•äº†ã€‚</p>
</li>
<li><p>å»ºè®®å¼€å‘è¿‡ç¨‹ä¸­è¿˜æ˜¯å¼•å…¥MPï¼</p>
</li>
</ol>
]]></content>
      <categories>
        <category>SpringBoot</category>
      </categories>
  </entry>
  <entry>
    <title>SpringBoot MybatisPlus Quick Start</title>
    <url>/2020/09/26/SpringBoot-MybatisPlus-Quick-Start/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>çœŸçš„æ˜¯å¥½ä¹…æ²¡æœ‰å†™å­¦ä¹ æ—¥å¿—äº†ï¼Œä¸€æ–¹é¢å’Œæœ€è¿‘è¿™ä¸€ä¸ªæœˆçš„çŠ¶æ€æœ‰å…³ï¼Œå¦ä¸€æ–¹é¢ä¹Ÿå¯èƒ½ä¸Šä¸Šç­å¤ªç´¯äº†å§ï¼Œæ¯å¤©éƒ½æœ‰å¾ˆå¤šæ‚ä¸ƒæ‚å…«çš„æ´»ï¼Œç„¶ååˆé‡æ„é¡¹ç›®ï¼Œåœ¨è¿™ç§çŠ¶æ€ä¸‹äººçœŸçš„å¾ˆé¢“åºŸï¼Œç„¶åæ”¶æ‹¾ä¸€ä¸‹è‡ªå·±çš„æˆ¿é—´ï¼Œä¹Ÿæ”¶æ‹¾ä¸€ä¸‹è‡ªå·±çš„å¿ƒæƒ…ï¼Œä¸èƒ½æ”¾å¼ƒå­¦ä¹ è®°å½•çš„ä¹ æƒ¯ï¼Œæ›´ä¸èƒ½è®©åå¿ƒæƒ…å½±å“äº†è‡ªå·±ï¼Œä¹‹å‰æœ‰å»æ¥è§¦äº†ä¸‹MybatisPlusï¼ˆä»¥ä¸‹ç®€ç§°MPï¼‰ï¼Œæœ¬ä»¥ä¸ºè‡ªå·±ä¼šå¾ˆå¿«å»ºç«‹æ–°é¡¹ç›®å¼•å…¥MPï¼Œå®é™…ä¸Šå´å‡ºç°äº†ä¸å°‘çš„é—®é¢˜ï¼Œè®°å½•ä¸‹è¿™äº›ä¸œè¥¿å¾ˆæœ‰æ„ä¹‰çš„å†…å®¹ï¼Œå¿«é€Ÿæˆé•¿å§ï¼</p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="è‡ªåŠ¨åŒ–SQL"><a href="#è‡ªåŠ¨åŒ–SQL" class="headerlink" title="è‡ªåŠ¨åŒ–SQL"></a>è‡ªåŠ¨åŒ–SQL</h2><p>åœ¨å¼€å‘è¿‡ç¨‹ä¸­å»ºç«‹å¥½äº†è¡¨ï¼Œå¦‚æœè¿ç§»åˆ°æµ‹è¯•ç¯å¢ƒæˆ–è€…å…¶ä»–ç¯å¢ƒä¸­ï¼Œå¯èƒ½éœ€è¦æ‰‹åŠ¨æ‰§è¡ŒSQLè¯­å¥æ¥æ‰§è¡Œè¡¨çš„å»ºç«‹ä»¥åŠæ•°æ®çš„å¯¼å…¥ï¼Œéå¸¸ä¸æ–¹ä¾¿ï¼Œä½†æ˜¯Springä¸­æä¾›äº†åœ¨é¡¹ç›®å¯åŠ¨æ—¶æ‰§è¡Œsqlè¯­å¥çš„é…ç½®ï¼Œåªè¦é…ç½®å¥½äº†å°±å¯ä»¥è‡ªåŠ¨å»ºè¡¨ä»¥åŠæ’å…¥æ•°æ®ã€‚è‡ªåŠ¨å»ºè¡¨çš„é…ç½®å¦‚ä¸‹ï¼š</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">datasource:</span></span><br><span class="line">    <span class="attr">driver-class-name:</span> <span class="string">com.mysql.cj.jdbc.Driver</span></span><br><span class="line">    <span class="attr">url:</span> <span class="string">jdbc:mysql://127.0.0.1:3306/mybatis?characterEncoding=utf8&amp;serverTimezone=UTC</span></span><br><span class="line">    <span class="attr">username:</span> <span class="string">root</span></span><br><span class="line">    <span class="attr">password:</span> <span class="number">123456</span></span><br><span class="line">    <span class="attr">schema:</span> <span class="string">classpath:sql/schema.sql</span></span><br><span class="line">    <span class="attr">data:</span> <span class="string">classpath:sql/data.sql</span></span><br><span class="line">    <span class="attr">initialization-mode:</span> <span class="string">always</span></span><br></pre></td></tr></table></figure>

<ul>
<li><code>spring.datasource.schema</code>ç”¨äºå»ºç«‹è¡¨ï¼Œ<code>classpath:sql/schema.sql</code>ä»£è¡¨çš„æ˜¯ä¼šä»resourcesä¸‹çš„sqlæ–‡ä»¶å¤¹ä¸­æœç´¢schema.sqlæ–‡ä»¶ç„¶åæ‰§è¡Œ</li>
<li><code>spring.datasource.data</code>ç”¨äºå¯¼å…¥æ•°æ®ï¼Œ<code>classpath:sql/data.sql</code>ä»£è¡¨çš„æ˜¯ä¼šä»resourcesä¸‹çš„sqlæ–‡ä»¶å¤¹ä¸­æœç´¢data.sqlæ–‡ä»¶ç„¶åæ‰§è¡Œ</li>
<li><code>spring.datasource.initialization-mode</code>ç”¨äºè®¾ç½®sqlæ–‡ä»¶æ˜¯å¦æ‰§è¡Œï¼Œå†…å»ºæ•°æ®åº“çš„æ–‡ä»¶æ‰§è¡Œä¸éœ€è¦è®¾ç½®ï¼Œä½†æ˜¯å…¶ä»–çš„éœ€è¦è®¾ç½®è¯¥é…ç½®</li>
</ul>
<h2 id="å»é™¤IDEAä¸­çš„è‡ªåŠ¨æ³¨å…¥Mapperçš„è­¦å‘Š"><a href="#å»é™¤IDEAä¸­çš„è‡ªåŠ¨æ³¨å…¥Mapperçš„è­¦å‘Š" class="headerlink" title="å»é™¤IDEAä¸­çš„è‡ªåŠ¨æ³¨å…¥Mapperçš„è­¦å‘Š"></a>å»é™¤IDEAä¸­çš„è‡ªåŠ¨æ³¨å…¥Mapperçš„è­¦å‘Š</h2><p>ä¸ç®¡æ˜¯ç›´æ¥ä½¿ç”¨Mybatisè¿˜æ˜¯ä½¿ç”¨MPï¼Œåœ¨IDEå·¥ç¨‹ä¸­è‡ªåŠ¨æ³¨å…¥Mapperçš„æ—¶å€™å°±ä¼šå‡ºç°è­¦å‘Šï¼Œè™½ç„¶æ²¡ä»€ä¹ˆé—®é¢˜ï¼Œä½†æ˜¯å°±è®©äººè§‰å¾—ä»£ç å¥½åƒæ˜¯æœ‰é—®é¢˜ä¼¼çš„ï¼Œå¯¹äºå¼€å‘äººå‘˜è€Œè¨€ï¼Œæœ‰ç‚¹å¼ºè¿«ç—‡çš„æ˜¯å¾ˆéš¾å¿å—çº¢è‰²æ³¢æµªçº¿çš„è­¦å‘Šï¼Œè¿™é‡Œç»è¿‡æµ‹è¯•è®°å½•ä¸‹å¯ä»¥ä½¿ç”¨çš„è§£å†³æ–¹æ¡ˆã€‚</p>
<ol>
<li><p>åœ¨Mapperçš„æ³¨å…¥æ—¶ï¼Œä¸º<code>@Autowired</code>æ³¨è§£è®¾ç½®<code>required=false</code>ï¼Œæ ·ä¾‹å¦‚ä¸‹:</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Autowired</span>(required = <span class="keyword">false</span>)</span><br><span class="line"><span class="keyword">private</span> UserMapper userMapper;</span><br></pre></td></tr></table></figure>

<ul>
<li>IDEAè®¤ä¸ºuserMapperæ˜¯ä¸ªnullï¼Œç»™äº†è­¦å‘Šï¼›åŠ ä¸Šäº†required = falseåï¼Œä½¿ç”¨ <code>@Autowired</code> æ³¨è§£ä¸å†å»æ ¡éªŒuserMapperæ˜¯å¦å­˜åœ¨äº†ï¼Œå› è€Œä¹Ÿå°±æ²¡æœ‰è­¦å‘Šäº†</li>
</ul>
</li>
<li><p>åœ¨Mapperçš„æ³¨å…¥æ—¶ï¼Œç”¨<code>@Resource</code>æ›¿æ¢<code>@Autowired</code>ï¼Œæ ·ä¾‹å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Resource</span></span><br><span class="line"><span class="keyword">private</span> UserMapper userMapper;</span><br></pre></td></tr></table></figure>

<ul>
<li>å¯ä»¥åœ¨è‡ªåŠ¨æ³¨å…¥Mapperçš„æ—¶å€™ä½¿ç”¨<code>@Resource</code>æ³¨è§£</li>
<li><code>@Autowired</code>ä¸<code>@Resource</code>éƒ½å¯ä»¥ç”¨æ¥è£…é…Bean</li>
<li><code>@Autowired</code>é»˜è®¤æŒ‰ç±»å‹è£…é…ï¼ˆè¯¥æ³¨è§£å±äºSpringï¼‰ï¼Œè€Œ@Resourceï¼ˆè¯¥æ³¨è§£å±äºJ2EEï¼‰æœ‰nameå’Œtypeä¸¤ä¸ªé‡è¦çš„å±æ€§ï¼ŒSpringå°†@Resourceæ³¨è§£çš„nameå±æ€§è§£æä¸ºbeançš„åå­—ï¼Œè€Œtypeå±æ€§åˆ™è§£æä¸ºbeançš„ç±»å‹</li>
</ul>
</li>
<li><p>åœ¨éœ€è¦ä½¿ç”¨Mapperçš„ç±»ä¸Šæ·»åŠ æ³¨è§£<code>@RequiredArgsConstructor(onConstructor = @__(@Autowired))</code>ï¼Œå¹¶ä¸”è®¾ç½®mapperä¸º<code>final</code>ï¼Œæ ·ä¾‹å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@SpringBootTest</span></span><br><span class="line"><span class="meta">@RequiredArgsConstructor</span>(onConstructor = @__(<span class="meta">@Autowired</span>))</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MPTest</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> UserMapper userMapper;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>è¿™ä¸ªæ–¹æ³•æœ‰ç‚¹ä¸æ¨èä½¿ç”¨ï¼Œæ„Ÿè§‰ä¸å¤ªçˆ½ï¼Œè€Œä¸”åœ¨ç±»çš„ä¾èµ–å…³ç³»æ¯”è¾ƒå¤æ‚çš„æ—¶å€™å¯èƒ½å¯åŠ¨ä¸èµ·æ¥</li>
</ul>
</li>
<li><p>å…³é—­IDEAçš„è­¦å‘Šï¼ˆä¸æ¨èï¼‰</p>
<ul>
<li>è¿›å…¥ Settingsï¼Œæ‰¾åˆ° Inspectionï¼Œå¹¶é€‰æ‹©å…¶ä¸­çš„ Spring Core -&gt; Code -&gt; Autowiring for Bean Class,å°† Error æ”¹ä¸º Warning</li>
<li>å…³é—­äº†IDEAçš„è­¦å‘Šï¼Œæ²¡æœ‰æç¤ºåè€Œä¸èƒ½å¸®åŠ©æˆ‘ä»¬å†™å‡ºé«˜è´¨é‡ä»£ç ï¼Œå½“ç„¶ä»£ç çš„è´¨é‡è¿˜åœ¨äºå¼€å‘äººå‘˜</li>
<li>å…³äºIDEAçš„Mapperè­¦å‘Šè¿˜å¯ä»¥å®‰è£…æ’ä»¶ï¼Œä½†æ˜¯å…·ä½“å“ªä¸ªæ’ä»¶æ²¡æœ‰å»å°è¯•</li>
</ul>
</li>
</ol>
<h2 id="MPçš„ä½¿ç”¨"><a href="#MPçš„ä½¿ç”¨" class="headerlink" title="MPçš„ä½¿ç”¨"></a>MPçš„ä½¿ç”¨</h2><h3 id="åŸºç¡€ä»‹ç»åŠä½¿ç”¨"><a href="#åŸºç¡€ä»‹ç»åŠä½¿ç”¨" class="headerlink" title="åŸºç¡€ä»‹ç»åŠä½¿ç”¨"></a>åŸºç¡€ä»‹ç»åŠä½¿ç”¨</h3><ol>
<li><p>å®˜æ–¹æŒ‡å¯¼æ–‡æ¡£ï¼š<a href="https://mybatis.plus/guide/" target="_blank" rel="noopener">https://mybatis.plus/guide/</a></p>
</li>
<li><p>ä»£ç æ‰˜ç®¡åœ°å€ï¼š<a href="https://github.com/baomidou" target="_blank" rel="noopener">https://github.com/baomidou</a></p>
</li>
<li><p>MPå®˜æ–¹ç¤ºä¾‹ï¼š<a href="https://github.com/baomidou/mybatis-plus-samples" target="_blank" rel="noopener">https://github.com/baomidou/mybatis-plus-samples</a></p>
</li>
<li><p>MPåªæ˜¯ä¸€ä¸ªMybatisçš„å¢å¼ºå·¥å…·ï¼Œåœ¨Mybatisçš„åŸºç¡€ä¸Šåªåšå¢å¼ºä¸åšæ”¹å˜ï¼Œä¸ºç®€åŒ–å¼€å‘ã€æé«˜æ•ˆç‡è€Œç”Ÿï¼åŸç†ä¸Šå°±æ˜¯å·²ç»å°è£…å¥½äº†ä¸€äº›crudæ–¹æ³•ï¼Œä»å®˜æ–¹çš„ä»‹ç»ä¹ŸçŸ¥é“MPçš„ä½¿ç”¨æ˜¯ä¾èµ–äºMybatisçš„ï¼Œåœ¨é¡¹ç›®ä¸­æ²¡æœ‰æ·»åŠ Mybatisçš„ä¾èµ–çš„è¯ä¼šå‡ºç°é”™è¯¯ã€‚</p>
</li>
<li><p>é¦–å…ˆéœ€è¦å¯åŠ¨å¥½è‡ªå·±çš„MySQLæ•°æ®åº“ï¼Œç„¶åç¡®ä¿èƒ½å¤Ÿè¿æ¥æ•°æ®åº“ï¼Œä¸ç„¶SpringBooté¡¹ç›®æ˜¯æ²¡æ³•å¯åŠ¨çš„ï¼Œå¯ä»¥ä½¿ç”¨Dockerå¯åŠ¨ä¸€ä¸ªMySQLï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker run -itd --name mysql-test -p 3306:3306 -e MYSQL_ROOT_PASSWORD=123456 mysql</span><br></pre></td></tr></table></figure>

<ul>
<li>è¿˜éœ€è¦å»ºç«‹æ•°æ®åº“ï¼Œæ¯”å¦‚æˆ‘åˆ›å»ºçš„æ˜¯mybatis</li>
</ul>
</li>
<li><p>æ·»åŠ Mavenä¾èµ–ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-jdbc<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--        &lt;dependency&gt;--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--            &lt;groupId&gt;org.mybatis.spring.boot&lt;/groupId&gt;--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--            &lt;artifactId&gt;mybatis-spring-boot-starter&lt;/artifactId&gt;--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--            &lt;version&gt;2.1.3&lt;/version&gt;--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--        &lt;/dependency&gt;--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.baomidou<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-plus-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.4.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li><strong>å¼•å…¥MPå°±ä¸éœ€è¦å†å¼•å…¥Mybatisä¾èµ–äº†ï¼Œä»¥å…å†²çª</strong></li>
</ul>
</li>
<li><p>åœ¨é¡¹ç›®ä¸­æ·»åŠ é…ç½®ï¼š</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">datasource:</span></span><br><span class="line">    <span class="attr">driver-class-name:</span> <span class="string">com.mysql.cj.jdbc.Driver</span></span><br><span class="line">    <span class="attr">url:</span> <span class="string">jdbc:mysql://127.0.0.1:3306/mybatis?characterEncoding=utf8&amp;serverTimezone=UTC</span></span><br><span class="line">    <span class="attr">username:</span> <span class="string">root</span></span><br><span class="line">    <span class="attr">password:</span> <span class="number">123456</span></span><br><span class="line">    <span class="attr">schema:</span> <span class="string">classpath:sql/schema.sql</span></span><br><span class="line">    <span class="attr">data:</span> <span class="string">classpath:sql/data.sql</span></span><br><span class="line">    <span class="attr">initialization-mode:</span> <span class="string">always</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>æŒ‰ç…§è‡ªåŠ¨åŒ–SQLçš„è¯´æ˜æ¥å»ºç«‹schema.sqlä»¥åŠdata.sqlï¼Œæ·»åŠ SQLè¯­å¥å¦‚ä¸‹ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- schema.sql</span></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> <span class="keyword">IF</span> <span class="keyword">EXISTS</span> tb_user;</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> tb_user</span><br><span class="line">(</span><br><span class="line">	id_real <span class="built_in">varchar</span> (<span class="number">50</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">'ä¸»é”®ID'</span>,</span><br><span class="line">	name_real <span class="built_in">VARCHAR</span>(<span class="number">30</span>) <span class="literal">NULL</span> <span class="keyword">DEFAULT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">'å§“å'</span>,</span><br><span class="line">	age_real <span class="built_in">INT</span>(<span class="number">11</span>) <span class="literal">NULL</span> <span class="keyword">DEFAULT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">'å¹´é¾„'</span>,</span><br><span class="line">	email_real <span class="built_in">VARCHAR</span>(<span class="number">50</span>) <span class="literal">NULL</span> <span class="keyword">DEFAULT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">'é‚®ç®±'</span>,</span><br><span class="line">	PRIMARY <span class="keyword">KEY</span> (id_real)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- data.sql</span></span><br><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> tb_user;</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> tb_user (id_real, name_real, age_real, email_real) <span class="keyword">VALUES</span></span><br><span class="line">(<span class="number">1</span>, <span class="string">'Jone'</span>, <span class="number">18</span>, <span class="string">'test1@baomidou.com'</span>),</span><br><span class="line">(<span class="number">2</span>, <span class="string">'Jack'</span>, <span class="number">20</span>, <span class="string">'test2@baomidou.com'</span>),</span><br><span class="line">(<span class="number">3</span>, <span class="string">'Tom'</span>, <span class="number">28</span>, <span class="string">'test3@baomidou.com'</span>),</span><br><span class="line">(<span class="number">4</span>, <span class="string">'Sandy'</span>, <span class="number">21</span>, <span class="string">'test4@baomidou.com'</span>),</span><br><span class="line">(<span class="number">5</span>, <span class="string">'Billie'</span>, <span class="number">24</span>, <span class="string">'test5@baomidou.com'</span>);</span><br></pre></td></tr></table></figure>
</li>
<li><p>åˆ›å»ºè¡¨<code>tb_user</code>å¯¹åº”çš„Persistent Objectï¼ˆPOï¼‰Userï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.annotation.IdType;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.annotation.TableField;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.annotation.TableId;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.annotation.TableName;</span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.Serializable;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@TableName</span>(value=<span class="string">"tb_user"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> <span class="keyword">implements</span> <span class="title">Serializable</span> </span>&#123;</span><br><span class="line">    <span class="meta">@TableId</span>(value=<span class="string">"id_real"</span>,type= IdType.ASSIGN_UUID)</span><br><span class="line">    <span class="keyword">private</span> String id;</span><br><span class="line">    <span class="meta">@TableField</span>(<span class="string">"name_real"</span>)</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="meta">@TableField</span>(<span class="string">"age_real"</span>)</span><br><span class="line">    <span class="keyword">private</span> Integer age;</span><br><span class="line">    <span class="meta">@TableField</span>(<span class="string">"email_real"</span>)</span><br><span class="line">    <span class="keyword">private</span>  String email;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><code>@TableName</code>ç”¨äºæ˜ å°„è¡¨å</li>
<li><code>@TableId</code>ç”¨äºå£°æ˜ä¸»é”®ï¼Œå±æ€§typeå¯ä»¥ç”¨äºåœ¨POä¸­çš„ä¸»é”®æ²¡è®¾ç½®æ—¶è‡ªåŠ¨ç”Ÿæˆï¼ˆä¾æ®ç­–ç•¥ï¼‰ï¼Œ<code>IdType.ASSIGN_UUID</code>å’Œ<code>IdType.ASSIGN_ID</code>æ¨èä½¿ç”¨</li>
<li><code>@TableField</code>ç”¨åœ¨éä¸»é”®å¯¹åº”çš„å±æ€§ä¸Šï¼Œå¯ä»¥æŒ‡å®šå±æ€§å¯¹åº”çš„æ•°æ®åº“å­—æ®µåï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥è®¾ç½®å­—æ®µæ˜¯å¦ä¸ºç©ºç­‰å±æ€§</li>
<li><code>@TableLogic</code> : ç”¨åœ¨æ ‡è®°é€»è¾‘åˆ é™¤çš„å­—æ®µå±æ€§ä¸Šï¼Œä½¿ç”¨è¯¥æ³¨è§£åï¼ŒMyabtis Plus æ‰€æœ‰é’ˆå¯¹è¯¥è¡¨çš„åˆ é™¤éƒ½å°†æ‰§è¡Œé€»è¾‘åˆ é™¤(å³æ›´æ–°æ“ä½œ)ï¼Œè€Œä¸ä½¿ç”¨è¯¥æ³¨è§£ï¼ŒMybatis Plus æ‰§è¡Œçš„åˆ é™¤æ“ä½œä¸ºç‰©ç†åˆ é™¤</li>
</ul>
</li>
<li><p>åˆ›å»ºMapperï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.core.mapper.BaseMapper;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">UserMapper</span> <span class="keyword">extends</span> <span class="title">BaseMapper</span>&lt;<span class="title">User</span>&gt; </span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>ç»§æ‰¿è‡ª<code>BaseMapper</code>åˆ™å¯ä»¥å°‘å†™å¾ˆå¤šSQLè¯­å¥</li>
</ul>
</li>
<li><p>åœ¨å¯åŠ¨ç±»ä¸Šæ·»åŠ æ‰«æMapperæ³¨è§£ï¼Œå¦‚ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@MapperScan</span>(<span class="string">"com.example.mapper"</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p>å¯ä»¥æµ‹è¯•æ˜¯å¦å¼•å…¥æˆåŠŸï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@SpringBootTest</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MPTest</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Resource</span></span><br><span class="line">    <span class="keyword">private</span>  UserMapper userMapper;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">testMapper</span><span class="params">()</span></span>&#123;</span><br><span class="line">        User user=<span class="keyword">new</span> User();</span><br><span class="line">        user.setId(<span class="string">"123"</span>);</span><br><span class="line">        user.setName(<span class="string">"lll1"</span>);</span><br><span class="line">        user.setEmail(<span class="string">"hello@qq.com"</span>);</span><br><span class="line">        userMapper.insert(user);</span><br><span class="line">        List&lt;User&gt; userList = userMapper.selectList(<span class="keyword">null</span>);</span><br><span class="line">        userList.forEach((d)-&gt; System.out.println(d));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h3 id="å¼•å…¥åˆ†é¡µæ’ä»¶ï¼ˆç¬¬ä¸‰æ–¹ï¼‰"><a href="#å¼•å…¥åˆ†é¡µæ’ä»¶ï¼ˆç¬¬ä¸‰æ–¹ï¼‰" class="headerlink" title="å¼•å…¥åˆ†é¡µæ’ä»¶ï¼ˆç¬¬ä¸‰æ–¹ï¼‰"></a>å¼•å…¥åˆ†é¡µæ’ä»¶ï¼ˆç¬¬ä¸‰æ–¹ï¼‰</h3><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- mybatisåˆ†é¡µæ’ä»¶ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.github.pagehelper<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>pagehelper<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.1.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.github.pagehelper<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>pagehelper-spring-boot-autoconfigure<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2.3<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.github.pagehelper<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>pagehelper-spring-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2.3<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>æ·»åŠ åˆ†é¡µæµ‹è¯•ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">testPage</span><span class="params">()</span></span>&#123;</span><br><span class="line">    User user=<span class="keyword">new</span> User();</span><br><span class="line">    user.setId(<span class="string">"123"</span>);</span><br><span class="line">    user.setName(<span class="string">"lll1"</span>);</span><br><span class="line">    user.setEmail(<span class="string">"hello@qq.com"</span>);</span><br><span class="line">    userMapper.insert(user);</span><br><span class="line">    PageHelper.startPage(<span class="number">2</span>,<span class="number">5</span>);</span><br><span class="line">    List&lt;User&gt; userList = userMapper.selectList(<span class="keyword">null</span>);</span><br><span class="line">    userList.forEach((d)-&gt; System.out.println(d));</span><br><span class="line">    PageHelper.startPage(<span class="number">1</span>,<span class="number">5</span>);</span><br><span class="line">    userList = userMapper.selectList(<span class="keyword">null</span>);</span><br><span class="line">    userList.forEach((d)-&gt; System.out.println(d));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ä½¿ç”¨MPçš„åˆ†é¡µ-ç‰ˆæœ¬3-4"><a href="#ä½¿ç”¨MPçš„åˆ†é¡µ-ç‰ˆæœ¬3-4" class="headerlink" title="ä½¿ç”¨MPçš„åˆ†é¡µ(ç‰ˆæœ¬3.4)"></a>ä½¿ç”¨MPçš„åˆ†é¡µ(ç‰ˆæœ¬3.4)</h3><ol>
<li><p><strong>3.4ç‰ˆæœ¬ä¹‹å</strong>å’Œä¹‹å‰çš„ç‰ˆæœ¬åˆ†é¡µæ’ä»¶æ˜¯ä¸åŒçš„ï¼Œè®°å½•æ—¶å°±æ˜¯å–œæ¬¢ç”¨æ–°çš„ï¼Œæ–°ç‰ˆæœ¬çš„æˆäº†å†…ç½®æ’ä»¶ï¼Œä¸»ä½“æ’ä»¶<code>MybatisPlusInterceptor</code>ï¼ŒåŒ…å«äº†å¤šä¸ªå†…éƒ¨æ’ä»¶ï¼š</p>
<ul>
<li>åˆ†é¡µæ’ä»¶: <code>PaginationInnerInterceptor</code></li>
<li>å¤šç§Ÿæˆ·æ’ä»¶: <code>TenantLineInnerInterceptor</code></li>
<li>åŠ¨æ€è¡¨åæ’ä»¶: <code>DynamicTableNameInnerInterceptor</code></li>
<li>ä¹è§‚é”æ’ä»¶: <code>OptimisticLockerInnerInterceptor</code></li>
<li>sqlæ€§èƒ½è§„èŒƒæ’ä»¶: <code>IllegalSQLInnerInterceptor</code></li>
<li>é˜²æ­¢å…¨è¡¨æ›´æ–°ä¸åˆ é™¤æ’ä»¶: <code>BlockAttackInnerInterceptor</code></li>
</ul>
</li>
<li><p><strong>æ–°æä¾›çš„æ’ä»¶ä¸å¾—å’ŒåŒåŠŸèƒ½çš„æ—§æ’ä»¶ä¸€åŒä½¿ç”¨ï¼Œä¹‹å‰çš„æ’ä»¶åœ¨æ–°ç‰ˆæœ¬é‡Œæ˜¯å±äºåºŸå¼ƒçŠ¶æ€çš„ï¼</strong></p>
</li>
<li><p>åˆ†é¡µæŸ¥è¯¢åˆ†ä¸ºç‰©ç†åˆ†é¡µå’Œé€»è¾‘åˆ†é¡µï¼š</p>
<ul>
<li>ç‰©ç†åˆ†é¡µï¼šç›¸å½“äºæ‰§è¡Œäº†limitåˆ†é¡µè¯­å¥ï¼Œè¿”å›éƒ¨åˆ†æ•°æ®ï¼Œå ç”¨å†…å­˜å°ï¼Œèƒ½å¤Ÿè·å–æ•°æ®åº“æœ€æ–°çš„çŠ¶æ€ï¼Œå®æ–½æ€§æ¯”è¾ƒå¼ºï¼Œä¸€èˆ¬é€‚ç”¨äºæ•°æ®é‡æ¯”è¾ƒå¤§ï¼Œæ•°æ®æ›´æ–°æ¯”è¾ƒé¢‘ç¹çš„åœºæ™¯</li>
<li>é€»è¾‘åˆ†é¡µï¼šä¸€æ¬¡æ€§æŠŠå…¨éƒ¨çš„æ•°æ®å–å‡ºæ¥ï¼Œé€šè¿‡ç¨‹åºè¿›è¡Œç­›é€‰æ•°æ®ï¼Œæ•°æ®é‡å¤§çš„æƒ…å†µä¸‹ä¼šæ¶ˆè€—å¤§é‡çš„å†…å­˜ï¼Œç”±äºé€»è¾‘åˆ†é¡µåªéœ€è¦è¯»å–æ•°æ®åº“ä¸€æ¬¡ï¼Œä¸èƒ½è·å–æ•°æ®åº“æœ€æ–°çŠ¶æ€ï¼Œå®æ–½æ€§æ¯”è¾ƒå·®ï¼Œé€‚ç”¨äºæ•°æ®é‡å°ï¼Œæ•°æ®ç¨³å®šçš„åœºåˆ</li>
</ul>
</li>
<li><p>å¦‚æœå†…éƒ¨æ’ä»¶éƒ½æ˜¯ä½¿ç”¨,éœ€è¦æ³¨æ„é¡ºåºå…³ç³»,å»ºè®®ä½¿ç”¨å¦‚ä¸‹é¡ºåºï¼š</p>
<ol>
<li>å¤šç§Ÿæˆ·æ’ä»¶,åŠ¨æ€è¡¨åæ’ä»¶</li>
<li>åˆ†é¡µæ’ä»¶,ä¹è§‚é”æ’ä»¶</li>
<li>sqlæ€§èƒ½è§„èŒƒæ’ä»¶,é˜²æ­¢å…¨è¡¨æ›´æ–°ä¸åˆ é™¤æ’ä»¶</li>
</ol>
<ul>
<li><strong>å¯¹sqlè¿›è¡Œå•æ¬¡æ”¹é€ çš„ä¼˜å…ˆæ”¾å…¥,ä¸å¯¹sqlè¿›è¡Œæ”¹é€ çš„æœ€åæ”¾å…¥</strong></li>
</ul>
</li>
<li><p>æ·»åŠ é…ç½®ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MybatisPlusConfig</span> </span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ–°çš„åˆ†é¡µæ’ä»¶,ä¸€ç¼“å’ŒäºŒç¼“éµå¾ªmybatisçš„è§„åˆ™,éœ€è¦è®¾ç½® MybatisConfiguration#useDeprecatedExecutor = false é¿å…ç¼“å­˜å‡ºç°é—®é¢˜(è¯¥å±æ€§ä¼šåœ¨æ—§æ’ä»¶ç§»é™¤åä¸€åŒç§»é™¤)</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> MybatisPlusInterceptor <span class="title">mybatisPlusInterceptor</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        MybatisPlusInterceptor interceptor = <span class="keyword">new</span> MybatisPlusInterceptor();</span><br><span class="line">        interceptor.addInnerInterceptor(<span class="keyword">new</span> PaginationInnerInterceptor(DbType.MYSQL));</span><br><span class="line">        <span class="keyword">return</span> interceptor;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>æµ‹è¯•ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testselectPage</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    Page&lt;User&gt; page = <span class="keyword">new</span> Page&lt;&gt;(<span class="number">1</span>, <span class="number">2</span>);</span><br><span class="line">    IPage&lt;User&gt; userIPage = userMapper.selectPage(page, <span class="keyword">null</span>);</span><br><span class="line">    System.out.println(<span class="string">"æ€»æ¡æ•° ------&gt; "</span> + userIPage.getTotal());</span><br><span class="line">    System.out.println(<span class="string">"æ€»é¡µæ•° ------&gt; "</span> +  userIPage.getPages());</span><br><span class="line">    System.out.println(<span class="string">"å½“å‰é¡µæ•° ------&gt; "</span> + userIPage.getCurrent());</span><br><span class="line">    System.out.println(<span class="string">"å½“å‰æ¯é¡µæ˜¾ç¤ºæ•° ------&gt; "</span> + userIPage.getSize());</span><br><span class="line">    System.out.println(userIPage.getCurrent()); <span class="comment">// è·å–å½“å‰é¡µ</span></span><br><span class="line">    System.out.println(userIPage.getTotal()); <span class="comment">// è·å–æ€»è®°å½•æ•°</span></span><br><span class="line">    System.out.println(userIPage.getSize()); <span class="comment">// è·å–æ¯é¡µçš„æ¡æ•°</span></span><br><span class="line">    System.out.println(userIPage.getRecords()); <span class="comment">// è·å–æ¯é¡µæ•°æ®çš„é›†åˆ</span></span><br><span class="line">    System.out.println(userIPage.getPages()); <span class="comment">// è·å–æ€»é¡µæ•°</span></span><br><span class="line">    System.out.println(userIPage.hasNext()); <span class="comment">// æ˜¯å¦å­˜åœ¨ä¸‹ä¸€é¡µ</span></span><br><span class="line">    System.out.println(userIPage.hasPrevious()); <span class="comment">// æ˜¯å¦å­˜åœ¨ä¸Šä¸€é¡µ</span></span><br><span class="line">    List&lt;User&gt; records = userIPage.getRecords();</span><br><span class="line">    <span class="keyword">for</span> (User user : records) &#123;</span><br><span class="line">        System.out.println(user);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>è‡ªå®šä¹‰æŸ¥è¯¢åˆ†é¡µï¼ˆä¸Šé¢çš„åŸºç¡€ä¸‹ï¼‰ï¼š</p>
<ol>
<li><p>æ·»åŠ Mapperè¯­å¥ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">UserMapper</span> <span class="keyword">extends</span> <span class="title">BaseMapper</span>&lt;<span class="title">User</span>&gt; </span>&#123;</span><br><span class="line">    <span class="meta">@Select</span>(<span class="string">"SELECT id_real as id,name_real as name,age_real as age,email_real as email FROM tb_user WHERE email_real LIKE #&#123;state&#125;"</span>)</span><br><span class="line">    <span class="function">IPage&lt;User&gt; <span class="title">selectPageUserDefined</span><span class="params">(IPage&lt;?&gt; page, String state)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>æµ‹è¯•ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">userDefinedPageSelect</span><span class="params">()</span></span>&#123;</span><br><span class="line">    Page&lt;User&gt; page = <span class="keyword">new</span> Page&lt;&gt;(<span class="number">1</span>, <span class="number">2</span>);</span><br><span class="line">    IPage&lt;User&gt; userIPage =userMapper.selectPageUserDefined(page,<span class="string">"%baomidou%"</span>);</span><br><span class="line">    System.out.println(<span class="string">"æ€»æ¡æ•° ------&gt; "</span> + userIPage.getTotal());</span><br><span class="line">    System.out.println(<span class="string">"æ€»é¡µæ•° ------&gt; "</span> +  userIPage.getPages());</span><br><span class="line">    System.out.println(<span class="string">"å½“å‰é¡µæ•° ------&gt; "</span> + userIPage.getCurrent());</span><br><span class="line">    System.out.println(<span class="string">"å½“å‰æ¯é¡µæ˜¾ç¤ºæ•° ------&gt; "</span> + userIPage.getSize());</span><br><span class="line">    List&lt;User&gt; records = userIPage.getRecords();</span><br><span class="line">    <span class="keyword">for</span> (User user : records) &#123;</span><br><span class="line">        System.out.println(user);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ˜ å°„å…³ç³»ï¼š</p>
<ul>
<li><p>Javaä¸­çš„å­—æ®µå’ŒMySQLå­—æ®µä¸ä¸€è‡´æ—¶ï¼Œåœ¨Mapperä¸­å¯ä»¥ä½¿ç”¨aså­—æ®µï¼Œä½†æ˜¯æ¯ä¸ªéƒ½è¿™æ ·å°±å¾ˆç¹ç</p>
</li>
<li><p>ä½¿ç”¨æ³¨è§£çš„æ–¹å¼å°±å¯ä»¥ç®€åŒ–ï¼š<code>@Results</code>ã€<code>@Result</code>ä»¥åŠ<code>@ResultMap</code>å¯ä»¥ç®€åŒ–SQLè¯­å¥ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">UserMapper</span> <span class="keyword">extends</span> <span class="title">BaseMapper</span>&lt;<span class="title">User</span>&gt; </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//@Select("SELECT id_real as id,name_real as name,age_real as age,email_real as email FROM tb_user WHERE email_real LIKE #&#123;state&#125;")</span></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Results</span>(id = <span class="string">"resultMap"</span> , value = &#123;</span><br><span class="line">            <span class="meta">@Result</span>(property = <span class="string">"id"</span>,column = <span class="string">"id_real"</span>),</span><br><span class="line">            <span class="meta">@Result</span>(property = <span class="string">"name"</span>,column = <span class="string">"name_real"</span>),</span><br><span class="line">            <span class="meta">@Result</span>(property = <span class="string">"age"</span>,column = <span class="string">"age_real"</span>),</span><br><span class="line">            <span class="meta">@Result</span>(property = <span class="string">"email"</span>,column = <span class="string">"email_real"</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="meta">@Select</span>(<span class="string">"SELECT * FROM tb_user WHERE email_real LIKE #&#123;state&#125;"</span>)</span><br><span class="line">    <span class="function">IPage&lt;User&gt; <span class="title">selectPageUserDefined</span><span class="params">(IPage&lt;?&gt; page, String state)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ResultMap</span>(<span class="string">"resultMap"</span>)</span><br><span class="line">    <span class="meta">@Select</span>(<span class="string">"SELECT * FROM tb_user WHERE name_real like #&#123;name&#125;"</span>)</span><br><span class="line">    <span class="function">IPage&lt;User&gt; <span class="title">selectPageUserDefined2</span><span class="params">(IPage&lt;?&gt; page, String name)</span></span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><code>@Results</code>å»ºç«‹å¤šä¸ªæ˜ å°„å…³ç³»ï¼Œ<code>@Result</code>å»ºç«‹å•ä¸ªæ˜ å°„å…³ç³»ï¼Œå…¶ä¸­<code>property</code>å±æ€§å¯¹åº”javaä»£ç ä¸­å®šä¹‰çš„åç§°ï¼Œ<code>column</code>å±æ€§å¯¹åº”MySQLå­—æ®µ</li>
<li><code>@ResultMap</code>å¯ä»¥ä½¿ç”¨å¸¦æœ‰idå±æ€§çš„<code>@Results</code></li>
</ul>
</li>
</ul>
</li>
</ol>
</li>
</ol>
<h3 id="å¤šè¡¨ä¸€å¯¹ä¸€æŸ¥è¯¢ä»¥åŠä¸€å¯¹å¤šæŸ¥è¯¢"><a href="#å¤šè¡¨ä¸€å¯¹ä¸€æŸ¥è¯¢ä»¥åŠä¸€å¯¹å¤šæŸ¥è¯¢" class="headerlink" title="å¤šè¡¨ä¸€å¯¹ä¸€æŸ¥è¯¢ä»¥åŠä¸€å¯¹å¤šæŸ¥è¯¢"></a>å¤šè¡¨ä¸€å¯¹ä¸€æŸ¥è¯¢ä»¥åŠä¸€å¯¹å¤šæŸ¥è¯¢</h3><ol>
<li><p>åœºæ™¯æè¿°ï¼šä¸€ä¸ªå‘˜å·¥å¯ä»¥åœ¨ä¸€å®¶å…¬å¸ä»»èŒï¼ˆå‘˜å·¥å’Œå…¬å¸åœ¨è¯¥æƒ…å†µä¸‹å±äºä¸€å¯¹ä¸€ï¼‰ï¼Œä¸€å®¶å…¬å¸é‡Œæœ‰å¾ˆå¤šçš„å‘˜å·¥ï¼ˆå…¬å¸å’Œå‘˜å·¥åœ¨è¯¥æƒ…å†µä¸‹å±äºä¸€å¯¹å¤šï¼‰</p>
</li>
<li><p>åˆ›å»ºæ•°æ®åº“è¡¨ä»¥åŠæ•°æ®ï¼ˆå·¥ç¨‹çš„schema.sqlä»¥åŠdata.sqlä¸­æ·»åŠ å³å¯ï¼‰ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- schema.sql</span></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> <span class="keyword">IF</span> <span class="keyword">EXISTS</span> company;</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> <span class="keyword">IF</span> <span class="keyword">EXISTS</span> employee;</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">table</span> company</span><br><span class="line">(</span><br><span class="line">    <span class="keyword">id</span> <span class="built_in">int</span>(<span class="number">11</span>) <span class="keyword">not</span> <span class="literal">null</span> primary <span class="keyword">key</span>,</span><br><span class="line">    companyName <span class="built_in">varchar</span>(<span class="number">30</span>) <span class="literal">null</span> <span class="keyword">default</span> <span class="literal">null</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> employee</span><br><span class="line">(</span><br><span class="line">    <span class="keyword">id</span> <span class="built_in">int</span>(<span class="number">11</span>) <span class="keyword">not</span> <span class="literal">null</span> primary <span class="keyword">key</span>,</span><br><span class="line">    userName <span class="built_in">VARCHAR</span>(<span class="number">30</span>) <span class="literal">NULL</span> <span class="keyword">DEFAULT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">'å§“å'</span>,</span><br><span class="line">    email <span class="built_in">VARCHAR</span>(<span class="number">50</span>) <span class="literal">NULL</span> <span class="keyword">DEFAULT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">'é‚®ç®±'</span>,</span><br><span class="line">    companyId <span class="built_in">VARCHAR</span>(<span class="number">50</span>) <span class="literal">NULL</span> <span class="keyword">DEFAULT</span> <span class="literal">NULL</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- data.sql</span></span><br><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> employee;</span><br><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> company;</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> employee (<span class="keyword">id</span>, userName, companyId, email) <span class="keyword">VALUES</span></span><br><span class="line">(<span class="number">1</span>, <span class="string">'Jone'</span>, <span class="number">1</span>, <span class="string">'test1@baomidou.com'</span>),</span><br><span class="line">(<span class="number">2</span>, <span class="string">'Jack'</span>, <span class="number">2</span>, <span class="string">'test2@baomidou.com'</span>),</span><br><span class="line">(<span class="number">3</span>, <span class="string">'Tom'</span>, <span class="number">1</span>, <span class="string">'test3@baomidou.com'</span>),</span><br><span class="line">(<span class="number">4</span>, <span class="string">'Sandy'</span>, <span class="number">1</span>, <span class="string">'test4@baomidou.com'</span>),</span><br><span class="line">(<span class="number">5</span>, <span class="string">'Billie'</span>, <span class="number">2</span>, <span class="string">'test5@baomidou.com'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> company (<span class="keyword">id</span>, companyName) <span class="keyword">VALUES</span></span><br><span class="line">(<span class="number">1</span>, <span class="string">'Apple'</span>),</span><br><span class="line">(<span class="number">2</span>, <span class="string">'Midea'</span>);</span><br></pre></td></tr></table></figure>
</li>
<li><p>åˆ›å»ºPOï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Employee</span> </span>&#123;</span><br><span class="line">    Integer id;</span><br><span class="line">    String userName;</span><br><span class="line">    String email;</span><br><span class="line">    Company company;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Company</span> </span>&#123;</span><br><span class="line">    Integer id;</span><br><span class="line">    String companyName;</span><br><span class="line">    List&lt;Employee&gt; list;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>åˆ›å»ºMapperï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">	com.example.mapper.EmployeeMapperæ˜¯é¡¹ç›®ä¸­ä¿å­˜Mapperçš„è·¯å¾„</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">EmployeeMapper</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Select</span>(<span class="string">"Select * from employee"</span>)</span><br><span class="line">    <span class="meta">@Result</span>(property = <span class="string">"company"</span>,column = <span class="string">"companyId"</span>,one=<span class="meta">@One</span>(select = <span class="string">"com.example.mapper.CompanyMapper.selectById"</span>))</span><br><span class="line">    <span class="function">List&lt;Employee&gt; <span class="title">selectAll</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Select</span>(<span class="string">"Select * from employee where companyId=#&#123;id&#125;"</span>)</span><br><span class="line">    <span class="function">List&lt;Employee&gt; <span class="title">selectByCompanyId</span><span class="params">(@Param(<span class="string">"id"</span>)</span> Integer id)</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">CompanyMapper</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Select</span>(<span class="string">"select * from company where id=#&#123;id&#125;"</span>)</span><br><span class="line">    <span class="function">Company <span class="title">selectById</span><span class="params">(@Param(<span class="string">"id"</span>)</span> Integer id)</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Select</span>(<span class="string">"Select * from company where id=#&#123;id&#125;"</span>)</span><br><span class="line">    <span class="meta">@Result</span>(property = <span class="string">"list"</span>,column = <span class="string">"id"</span>,many = <span class="meta">@Many</span>(select = <span class="string">"com.example.mapper.EmployeeMapper.selectByCompanyId"</span>))</span><br><span class="line">    <span class="meta">@Result</span>(property = <span class="string">"id"</span>,column = <span class="string">"id"</span>)</span><br><span class="line">    <span class="function">Company <span class="title">showCompanyEmployee</span><span class="params">(@Param(<span class="string">"id"</span>)</span> Integer id)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>@Oneè”æŸ¥ï¼ˆä¸€å¯¹ä¸€ï¼‰</li>
<li>@Manyè”æŸ¥ï¼ˆä¸€å¯¹å¤šï¼‰</li>
<li><strong>ä¸ç®¡æ˜¯ä¸€å¯¹å¤šè¿˜æ˜¯å¤šå¯¹ä¸€ï¼Œè¿˜æ˜¯å¤šå¯¹å¤šï¼Œåªéœ€è¦çŸ¥é“æ•°æ®æ˜¯éœ€è¦ä¸€å¯¹ä¸€å…³è”è¿˜æ˜¯å¤šä¸ªç»“æœæ˜ å°„åˆ°1ä¸ªlistï¼Œå°±å¯ä»¥å¾ˆå¥½çš„åœ¨å®ä½“çš„POJOï¼ŒMapperæ–‡ä»¶ä¸­å†™å‡ºæ¥</strong></li>
<li>è¦å®ç°å¤šå¯¹å¤šï¼Œåœ¨ç¨‹åºä¸­åˆ™æ˜¯æ‹†åˆ†æˆ2ä¸ªä¸€å¯¹å¤š</li>
</ul>
</li>
<li><p>æµ‹è¯•ä¸€å¯¹ä¸€ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@SpringBootTest</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">EmployeeMapperTest</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Resource</span></span><br><span class="line">    EmployeeMapper employeeMapper;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">OneTest</span><span class="params">()</span></span>&#123;</span><br><span class="line">        List&lt;Employee&gt; list=employeeMapper.selectAll();</span><br><span class="line">        System.out.println(list);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">[Employee(id=1, userName=Jone, email=test1@baomidou.com, company=Company(id=1, companyName=Apple, list=null)), Employee(id=2, userName=Jack, email=test2@baomidou.com, company=Company(id=2, companyName=Midea, list=null)), Employee(id=3, userName=Tom, email=test3@baomidou.com, company=Company(id=1, companyName=Apple, list=null)), Employee(id=4, userName=Sandy, email=test4@baomidou.com, company=Company(id=1, companyName=Apple, list=null)), Employee(id=5, userName=Billie, email=test5@baomidou.com, company=Company(id=2, companyName=Midea, list=null))]</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>æµ‹è¯•ä¸€å¯¹å¤šï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@SpringBootTest</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CompanyMapperTest</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Resource</span></span><br><span class="line">    CompanyMapper companyMapper;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">one2Many</span><span class="params">()</span></span>&#123;</span><br><span class="line">       Company company= companyMapper.showCompanyEmployee(<span class="number">1</span>);</span><br><span class="line">        System.out.println(company);</span><br><span class="line">        List&lt;Employee&gt; list=company.getList();</span><br><span class="line">        <span class="keyword">for</span>(Employee e:list)&#123;</span><br><span class="line">            System.out.println(e);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">Company(id=1, companyName=Apple, list=[Employee(id=1, userName=Jone, email=test1@baomidou.com, company=null), Employee(id=3, userName=Tom, email=test3@baomidou.com, company=null), Employee(id=4, userName=Sandy, email=test4@baomidou.com, company=null)])</span></span><br><span class="line"><span class="comment">Employee(id=1, userName=Jone, email=test1@baomidou.com, company=null)</span></span><br><span class="line"><span class="comment">Employee(id=3, userName=Tom, email=test3@baomidou.com, company=null)</span></span><br><span class="line"><span class="comment">Employee(id=4, userName=Sandy, email=test4@baomidou.com, company=null)</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

</li>
</ol>
<h3 id="Wrapperæ¡ä»¶æ„é€ å™¨"><a href="#Wrapperæ¡ä»¶æ„é€ å™¨" class="headerlink" title="Wrapperæ¡ä»¶æ„é€ å™¨"></a>Wrapperæ¡ä»¶æ„é€ å™¨</h3><ol>
<li><p>é¦–å…ˆçœ‹æ ·ä¾‹ä»£ç ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">     * åå­—åŒ…å«é›¨å¹¶ä¸”å¹´é¾„å°äº40</span></span><br><span class="line"><span class="comment">     * &lt;p&gt;</span></span><br><span class="line"><span class="comment">     * WHERE name LIKE '%é›¨%' AND age &lt; 40</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">selectByWrapperOne</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        QueryWrapper&lt;User&gt; wrapper = <span class="keyword">new</span> QueryWrapper();</span><br><span class="line">        wrapper.like(<span class="string">"name"</span>, <span class="string">"é›¨"</span>).lt(<span class="string">"age"</span>, <span class="number">40</span>);</span><br><span class="line">        List&lt;User&gt; users = userMapper.selectList(wrapper);</span><br><span class="line">        users.forEach(System.out::println);</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * åå­—åŒ…å«é›¨</span></span><br><span class="line"><span class="comment">     * å¹´é¾„å¤§äº20å°äº40</span></span><br><span class="line"><span class="comment">     * é‚®ç®±ä¸èƒ½ä¸ºç©º</span></span><br><span class="line"><span class="comment">     * &lt;p&gt;</span></span><br><span class="line"><span class="comment">     * WHERE name LIKE '%é›¨%' AND age BETWEEN 20 AND 40 AND email IS NOT NULL</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">selectByWrapperTwo</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        QueryWrapper&lt;User&gt; wrapper = Wrappers.query();</span><br><span class="line">        wrapper.like(<span class="string">"name"</span>, <span class="string">"é›¨"</span>).between(<span class="string">"age"</span>, <span class="number">20</span>, <span class="number">40</span>).isNotNull(<span class="string">"email"</span>);</span><br><span class="line">        List&lt;User&gt; users = userMapper.selectList(wrapper);</span><br><span class="line">        users.forEach(System.out::println);</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * åå­—ä¸ºç‹æ€§</span></span><br><span class="line"><span class="comment">     * æˆ–è€…å¹´é¾„å¤§äºç­‰äº25</span></span><br><span class="line"><span class="comment">     * æŒ‰ç…§å¹´é¾„é™åºæ’åºï¼Œå¹´é¾„ç›¸åŒæŒ‰ç…§idå‡åºæ’åº</span></span><br><span class="line"><span class="comment">     * &lt;p&gt;</span></span><br><span class="line"><span class="comment">     * WHERE name LIKE 'ç‹%' OR age &gt;= 25 ORDER BY age DESC , id ASC</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">selectByWrapperThree</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        QueryWrapper&lt;User&gt; wrapper = Wrappers.query();</span><br><span class="line">        wrapper.likeRight(<span class="string">"name"</span>, <span class="string">"ç‹"</span>).or()</span><br><span class="line">                .ge(<span class="string">"age"</span>, <span class="number">25</span>).orderByDesc(<span class="string">"age"</span>).orderByAsc(<span class="string">"id"</span>);</span><br><span class="line">        List&lt;User&gt; users = userMapper.selectList(wrapper);</span><br><span class="line">        users.forEach(System.out::println);</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æŸ¥è¯¢åˆ›å»ºæ—¶é—´ä¸º2019å¹´2æœˆ14</span></span><br><span class="line"><span class="comment">     * å¹¶ä¸”ä¸Šçº§é¢†å¯¼å§“ç‹</span></span><br><span class="line"><span class="comment">     * &lt;p&gt;</span></span><br><span class="line"><span class="comment">     * WHERE date_format(create_time,'%Y-%m-%d') = '2019-02-14' AND manager_id IN (select id from user where name like 'ç‹%')</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">selectByWrapperFour</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        QueryWrapper&lt;User&gt; wrapper = Wrappers.query();</span><br><span class="line">        wrapper.apply(<span class="string">"date_format(create_time,'%Y-%m-%d') = &#123;0&#125;"</span>, <span class="string">"2019-02-14"</span>)</span><br><span class="line">                .inSql(<span class="string">"manager_id"</span>, <span class="string">"select id from user where name like 'ç‹%'"</span>);</span><br><span class="line">        List&lt;User&gt; users = userMapper.selectList(wrapper);</span><br><span class="line">        users.forEach(System.out::println);</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æŸ¥è¯¢ç‹å§“</span></span><br><span class="line"><span class="comment">     * å¹¶ä¸”å¹´é¾„å°äº40æˆ–è€…é‚®ç®±ä¸ä¸ºç©º</span></span><br><span class="line"><span class="comment">     * &lt;p&gt;</span></span><br><span class="line"><span class="comment">     * WHERE name LIKE 'ç‹%' AND ( age &lt; 40 OR email IS NOT NULL )</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">selectByWrapperFive</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        QueryWrapper&lt;User&gt; wrapper = Wrappers.query();</span><br><span class="line">        wrapper.likeRight(<span class="string">"name"</span>, <span class="string">"ç‹"</span>).and(qw -&gt; qw.lt(<span class="string">"age"</span>, <span class="number">40</span>).or().isNotNull(<span class="string">"email"</span>));</span><br><span class="line">        List&lt;User&gt; users = userMapper.selectList(wrapper);</span><br><span class="line">        users.forEach(System.out::println);</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æŸ¥è¯¢ç‹å§“</span></span><br><span class="line"><span class="comment">     * å¹¶ä¸”å¹´é¾„å¤§äº20 ã€å¹´é¾„å°äº40ã€é‚®ç®±ä¸èƒ½ä¸ºç©º</span></span><br><span class="line"><span class="comment">     * &lt;p&gt;</span></span><br><span class="line"><span class="comment">     * WHERE name LIKE ? OR ( age BETWEEN ? AND ? AND email IS NOT NULL )</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">selectByWrapperSix</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        QueryWrapper&lt;User&gt; wrapper = Wrappers.query();</span><br><span class="line">        wrapper.likeRight(<span class="string">"name"</span>, <span class="string">"ç‹"</span>).or(</span><br><span class="line">                qw -&gt; qw.between(<span class="string">"age"</span>, <span class="number">20</span>, <span class="number">40</span>).isNotNull(<span class="string">"email"</span>)</span><br><span class="line">        );</span><br><span class="line">        List&lt;User&gt; users = userMapper.selectList(wrapper);</span><br><span class="line">        users.forEach(System.out::println);</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * (å¹´é¾„å°äº40æˆ–è€…é‚®ç®±ä¸ä¸ºç©º) å¹¶ä¸”åå­—å§“ç‹</span></span><br><span class="line"><span class="comment">     * WHERE ( age &lt; 40 OR email IS NOT NULL ) AND name LIKE 'ç‹%'</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">selectByWrapperSeven</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        QueryWrapper&lt;User&gt; wrapper = Wrappers.query();</span><br><span class="line">        wrapper.nested(qw -&gt; qw.lt(<span class="string">"age"</span>, <span class="number">40</span>).or().isNotNull(<span class="string">"email"</span>))</span><br><span class="line">                .likeRight(<span class="string">"name"</span>, <span class="string">"ç‹"</span>);</span><br><span class="line">        List&lt;User&gt; users = userMapper.selectList(wrapper);</span><br><span class="line">        users.forEach(System.out::println);</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æŸ¥è¯¢å¹´é¾„ä¸º30ã€31ã€32</span></span><br><span class="line"><span class="comment">     * WHERE age IN (?,?,?)</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">selectByWrapperEight</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        QueryWrapper&lt;User&gt; wrapper = Wrappers.query();</span><br><span class="line">        wrapper.in(<span class="string">"age"</span>, Arrays.asList(<span class="number">30</span>, <span class="number">31</span>, <span class="number">32</span>));</span><br><span class="line">        List&lt;User&gt; users = userMapper.selectList(wrapper);</span><br><span class="line">        users.forEach(System.out::println);</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æŸ¥è¯¢ä¸€æ¡æ•°æ®</span></span><br><span class="line"><span class="comment">     * limit 1</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">selectByWrapperNine</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        QueryWrapper&lt;User&gt; wrapper = Wrappers.query();</span><br><span class="line">        wrapper.in(<span class="string">"age"</span>, Arrays.asList(<span class="number">30</span>, <span class="number">31</span>, <span class="number">32</span>)).last(<span class="string">"limit 1"</span>);</span><br><span class="line">        List&lt;User&gt; users = userMapper.selectList(wrapper);</span><br><span class="line">        users.forEach(System.out::println);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>å¸¸ç”¨æ¡ä»¶ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">ã€é€šç”¨æ¡ä»¶ï¼šã€‘</span><br><span class="line">ã€æ¯”è¾ƒå¤§å°ï¼š ( =, &lt;&gt;, &gt;, &gt;=, &lt;, &lt;= )ã€‘</span><br><span class="line">    eq(R column, Object val); <span class="comment">// ç­‰ä»·äº =ï¼Œä¾‹: eq("name", "è€ç‹") ---&gt; name = 'è€ç‹'</span></span><br><span class="line">    ne(R column, Object val); <span class="comment">// ç­‰ä»·äº &lt;&gt;ï¼Œä¾‹: ne("name", "è€ç‹") ---&gt; name &lt;&gt; 'è€ç‹'</span></span><br><span class="line">    gt(R column, Object val); <span class="comment">// ç­‰ä»·äº &gt;ï¼Œä¾‹: gt("name", "è€ç‹") ---&gt; name &gt; 'è€ç‹'</span></span><br><span class="line">    ge(R column, Object val); <span class="comment">// ç­‰ä»·äº &gt;=ï¼Œä¾‹: ge("name", "è€ç‹") ---&gt; name &gt;= 'è€ç‹'</span></span><br><span class="line">    lt(R column, Object val); <span class="comment">// ç­‰ä»·äº &lt;ï¼Œä¾‹: lt("name", "è€ç‹") ---&gt; name &lt; 'è€ç‹'</span></span><br><span class="line">    le(R column, Object val); <span class="comment">// ç­‰ä»·äº &lt;=ï¼Œä¾‹: le("name", "è€ç‹") ---&gt; name &lt;= 'è€ç‹'</span></span><br><span class="line">    </span><br><span class="line">ã€èŒƒå›´ï¼šï¼ˆbetweenã€not betweenã€inã€not inï¼‰ã€‘</span><br><span class="line">   between(R column, Object val1, Object val2); <span class="comment">// ç­‰ä»·äº between a and b, ä¾‹ï¼š between("age", 18, 30) ---&gt; age between 18 and 30</span></span><br><span class="line">   notBetween(R column, Object val1, Object val2); <span class="comment">// ç­‰ä»·äº not between a and b, ä¾‹ï¼š notBetween("age", 18, 30) ---&gt; age not between 18 and 30</span></span><br><span class="line">   in(R column, Object... values); <span class="comment">// ç­‰ä»·äº å­—æ®µ IN (v0, v1, ...),ä¾‹: in("age",&#123;1,2,3&#125;) ---&gt; age in (1,2,3)</span></span><br><span class="line">   notIn(R column, Object... values); <span class="comment">// ç­‰ä»·äº å­—æ®µ NOT IN (v0, v1, ...), ä¾‹: notIn("age",&#123;1,2,3&#125;) ---&gt; age not in (1,2,3)</span></span><br><span class="line">   inSql(R column, Object... values); <span class="comment">// ç­‰ä»·äº å­—æ®µ IN (sql è¯­å¥), ä¾‹: inSql("id", "select id from table where id &lt; 3") ---&gt; id in (select id from table where id &lt; 3)</span></span><br><span class="line">   notInSql(R column, Object... values); <span class="comment">// ç­‰ä»·äº å­—æ®µ NOT IN (sql è¯­å¥)</span></span><br><span class="line">   </span><br><span class="line">ã€æ¨¡ç³ŠåŒ¹é…ï¼šï¼ˆlikeï¼‰ã€‘</span><br><span class="line">    like(R column, Object val); <span class="comment">// ç­‰ä»·äº LIKE '%å€¼%'ï¼Œä¾‹: like("name", "ç‹") ---&gt; name like '%ç‹%'</span></span><br><span class="line">    notLike(R column, Object val); <span class="comment">// ç­‰ä»·äº NOT LIKE '%å€¼%'ï¼Œä¾‹: notLike("name", "ç‹") ---&gt; name not like '%ç‹%'</span></span><br><span class="line">    likeLeft(R column, Object val); <span class="comment">// ç­‰ä»·äº LIKE '%å€¼'ï¼Œä¾‹: likeLeft("name", "ç‹") ---&gt; name like '%ç‹'</span></span><br><span class="line">    likeRight(R column, Object val); <span class="comment">// ç­‰ä»·äº LIKE 'å€¼%'ï¼Œä¾‹: likeRight("name", "ç‹") ---&gt; name like 'ç‹%'</span></span><br><span class="line">    </span><br><span class="line">ã€ç©ºå€¼æ¯”è¾ƒï¼šï¼ˆisNullã€isNotNullï¼‰ã€‘</span><br><span class="line">    isNull(R column); <span class="comment">// ç­‰ä»·äº IS NULLï¼Œä¾‹: isNull("name") ---&gt; name is null</span></span><br><span class="line">    isNotNull(R column); <span class="comment">// ç­‰ä»·äº IS NOT NULLï¼Œä¾‹: isNotNull("name") ---&gt; name is not null</span></span><br><span class="line"></span><br><span class="line">ã€åˆ†ç»„ã€æ’åºï¼šï¼ˆgroupã€havingã€orderï¼‰ã€‘</span><br><span class="line">    groupBy(R... columns); <span class="comment">// ç­‰ä»·äº GROUP BY å­—æ®µ, ...ï¼Œ ä¾‹: groupBy("id", "name") ---&gt; group by id,name</span></span><br><span class="line">    orderByAsc(R... columns); <span class="comment">// ç­‰ä»·äº ORDER BY å­—æ®µ, ... ASCï¼Œ ä¾‹: orderByAsc("id", "name") ---&gt; order by id ASC,name ASC</span></span><br><span class="line">    orderByDesc(R... columns); <span class="comment">// ç­‰ä»·äº ORDER BY å­—æ®µ, ... DESCï¼Œ ä¾‹: orderByDesc("id", "name") ---&gt; order by id DESC,name DESC</span></span><br><span class="line">    having(String sqlHaving, Object... params); <span class="comment">// ç­‰ä»·äº HAVING ( sqlè¯­å¥ )ï¼Œ ä¾‹: having("sum(age) &gt; &#123;0&#125;", 11) ---&gt; having sum(age) &gt; 11</span></span><br><span class="line"></span><br><span class="line">ã€æ‹¼æ¥ã€åµŒå¥— sqlï¼šï¼ˆorã€andã€nestedã€applyï¼‰ã€‘</span><br><span class="line">   or(); <span class="comment">// ç­‰ä»·äº a or bï¼Œ ä¾‹ï¼šeq("id",1).or().eq("name","è€ç‹") ---&gt; id = 1 or name = 'è€ç‹'</span></span><br><span class="line">   or(Consumer&lt;Param&gt; consumer); <span class="comment">// ç­‰ä»·äº or(a or/and b)ï¼Œor åµŒå¥—ã€‚ä¾‹: or(i -&gt; i.eq("name", "æç™½").ne("status", "æ´»ç€")) ---&gt; or (name = 'æç™½' and status &lt;&gt; 'æ´»ç€')</span></span><br><span class="line">   and(Consumer&lt;Param&gt; consumer); <span class="comment">// ç­‰ä»·äº and(a or/and b)ï¼Œand åµŒå¥—ã€‚ä¾‹: and(i -&gt; i.eq("name", "æç™½").ne("status", "æ´»ç€")) ---&gt; and (name = 'æç™½' and status &lt;&gt; 'æ´»ç€')</span></span><br><span class="line">   nested(Consumer&lt;Param&gt; consumer); <span class="comment">// ç­‰ä»·äº (a or/and b)ï¼Œæ™®é€šåµŒå¥—ã€‚ä¾‹: nested(i -&gt; i.eq("name", "æç™½").ne("status", "æ´»ç€")) ---&gt; (name = 'æç™½' and status &lt;&gt; 'æ´»ç€')</span></span><br><span class="line">   apply(String applySql, Object... params); <span class="comment">// æ‹¼æ¥sqlï¼ˆè‹¥ä¸ä½¿ç”¨ params å‚æ•°ï¼Œå¯èƒ½å­˜åœ¨ sql æ³¨å…¥ï¼‰ï¼Œä¾‹: apply("date_format(dateColumn,'%Y-%m-%d') = &#123;0&#125;", "2008-08-08") ---&gt; date_format(dateColumn,'%Y-%m-%d') = '2008-08-08'")</span></span><br><span class="line">   last(String lastSql); <span class="comment">// æ— è§†ä¼˜åŒ–è§„åˆ™ç›´æ¥æ‹¼æ¥åˆ° sql çš„æœ€åï¼Œå¯èƒ½å­˜è‹¥åœ¨ sql æ³¨å…¥ã€‚</span></span><br><span class="line">   exists(String existsSql); <span class="comment">// æ‹¼æ¥ exists è¯­å¥ã€‚ä¾‹: exists("select id from table where age = 1") ---&gt; exists (select id from table where age = 1)</span></span><br><span class="line">   </span><br><span class="line">ã€QueryWrapper æ¡ä»¶ï¼šã€‘</span><br><span class="line">    select(String... sqlSelect); <span class="comment">// ç”¨äºå®šä¹‰éœ€è¦è¿”å›çš„å­—æ®µã€‚ä¾‹ï¼š select("id", "name", "age") ---&gt; select id, name, age</span></span><br><span class="line">    select(Predicate&lt;TableFieldInfo&gt; predicate); <span class="comment">// Lambda è¡¨è¾¾å¼ï¼Œè¿‡æ»¤éœ€è¦çš„å­—æ®µã€‚</span></span><br><span class="line">    lambda(); <span class="comment">// è¿”å›ä¸€ä¸ª LambdaQueryWrapper</span></span><br><span class="line">    </span><br><span class="line">ã€UpdateWrapper æ¡ä»¶ï¼šã€‘</span><br><span class="line">    set(String column, Object val); <span class="comment">// ç”¨äºè®¾ç½® set å­—æ®µå€¼ã€‚ä¾‹: set("name", null) ---&gt; set name = null</span></span><br><span class="line">    etSql(String sql); <span class="comment">// ç”¨äºè®¾ç½® set å­—æ®µå€¼ã€‚ä¾‹: setSql("name = 'è€æå¤´'") ---&gt; set name = 'è€æå¤´'</span></span><br><span class="line">    lambda(); <span class="comment">// è¿”å›ä¸€ä¸ª LambdaUpdateWrapper</span></span><br></pre></td></tr></table></figure>



</li>
</ol>
<ol start="3">
<li><p>wapperä»‹ç» ï¼š</p>
<ol>
<li>Wrapper ï¼š æ¡ä»¶æ„é€ æŠ½è±¡ç±»ï¼Œæœ€é¡¶ç«¯çˆ¶ç±»ï¼ŒæŠ½è±¡ç±»ä¸­æä¾›4ä¸ªæ–¹æ³•è¥¿é¢è´´æºç å±•ç¤º</li>
<li>AbstractWrapper ï¼š ç”¨äºæŸ¥è¯¢æ¡ä»¶å°è£…ï¼Œç”Ÿæˆ sql çš„ where æ¡ä»¶</li>
<li>AbstractLambdaWrapper ï¼š Lambda è¯­æ³•ä½¿ç”¨ Wrapperç»Ÿä¸€å¤„ç†è§£æ lambda è·å– columnã€‚</li>
<li>LambdaQueryWrapper ï¼šçœ‹åç§°ä¹Ÿèƒ½æ˜ç™½å°±æ˜¯ç”¨äºLambdaè¯­æ³•ä½¿ç”¨çš„æŸ¥è¯¢Wrapper</li>
<li>LambdaUpdateWrapper ï¼š Lambda æ›´æ–°å°è£…Wrapper</li>
<li>QueryWrapper ï¼š Entity å¯¹è±¡å°è£…æ“ä½œç±»ï¼Œä¸æ˜¯ç”¨lambdaè¯­æ³•</li>
<li>UpdateWrapper ï¼š Update æ¡ä»¶å°è£…ï¼Œç”¨äºEntityå¯¹è±¡æ›´æ–°æ“ä½œ</li>
</ol>
</li>
</ol>
<h3 id="Service-CRUD"><a href="#Service-CRUD" class="headerlink" title="Service CRUD"></a>Service CRUD</h3><ol>
<li><p>é€šç”¨ Service CRUD å°è£…IServiceæ¥å£ï¼Œæ›´è¿›ä¸€æ­¥å°è£… CRUD é‡‡ç”¨ <code>get æŸ¥è¯¢å•è¡Œ</code>ã€ <code>remove åˆ é™¤</code>ã€ <code>list æŸ¥è¯¢é›†åˆ</code>ã€ <code>page åˆ†é¡µ</code> å‰ç¼€å‘½åæ–¹å¼æ¥é¿å…æ··æ·† <code>Mapper</code> å±‚</p>
</li>
<li><p>Serviceçš„å¥½å¤„æ˜¯å¯ä»¥çœç•¥å¤§é‡çš„ä»£ç ç¼–å†™ï¼Œé¿å…é‡å¤åŠ³åŠ¨</p>
</li>
<li><p>é¦–å…ˆå»ºç«‹ä¸€ä¸ªå€Ÿå£ç»§æ‰¿<code>IService</code>æ¥å£ï¼Œæ³¨æ„è¯¥æ¥å£ä¸èƒ½æ”¾åœ¨Mapperçš„æ‰«æåŒ…å†…ï¼Œå¦åˆ™ä¼šå‡ºé”™ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">UserService</span> <span class="keyword">extends</span> <span class="title">IService</span>&lt;<span class="title">User</span>&gt;</span>&#123;&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>å®šä¹‰ä¸€ä¸ªå®ç°ç±»ï¼Œå®ç°è‡ªå®šä¹‰çš„æ¥å£<code>UserService</code>ä¹‹å‰è¦ç»§æ‰¿<code>IService</code>çš„å®ç°ç±»<code>ServiceImpl</code>ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> *IService:mpæä¾›çš„æ¥å£ã€‚ServiceImpl:mpæä¾›çš„æ¥å£å®ç°ç±»ã€‚</span></span><br><span class="line"><span class="comment"> *ServiceImpl&lt;BaseMapper&lt;T&gt;, T&gt;æ˜¯IService çš„å®ç°ç±»ã€‚</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserServiceImpl</span> <span class="keyword">extends</span> <span class="title">ServiceImpl</span>&lt;<span class="title">UserMapper</span>,<span class="title">User</span>&gt; <span class="keyword">implements</span> <span class="title">UserService</span></span>&#123;&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>ç„¶åå°±æ˜¯åœ¨éœ€è¦çš„åœ°æ–¹æ³¨å…¥è‡ªå®šä¹‰UserServiceæ¥å£å³å¯ï¼Œæ¯”å¦‚æµ‹è¯•ç±»ä¸­ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@SpringBootTest</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserServiceCRUDTest</span> </span>&#123;</span><br><span class="line">  </span><br><span class="line">   <span class="meta">@Autowired</span></span><br><span class="line">   <span class="keyword">private</span> UserService userService;</span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * æ’å…¥ï¼ˆæ‰¹é‡ï¼‰</span></span><br><span class="line"><span class="comment">	 *</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> entityList å®ä½“å¯¹è±¡é›†åˆ</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> batchSize  æ’å…¥æ‰¹æ¬¡æ•°é‡</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="meta">@Test</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">saveBatch</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		Collection&lt;User&gt; entityList=<span class="keyword">new</span> ArrayList&lt;User&gt;();</span><br><span class="line">		entityList.add(<span class="keyword">new</span> User().setName(<span class="string">"zsf"</span>).setAge(<span class="number">1</span>).setEmail(<span class="string">"zsf@hot.com"</span>));</span><br><span class="line">		entityList.add(<span class="keyword">new</span> User().setName(<span class="string">"whh"</span>).setAge(<span class="number">21</span>).setEmail(<span class="string">"whh@tt.com"</span>));</span><br><span class="line">		userService.saveBatch(entityList);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>å„ç§æ“ä½œæ–¹æ³•å¯ä»¥çœ‹å®˜æ–¹æ–‡æ¡£</p>
</li>
</ol>
<h3 id="è‡ªå®šä¹‰ä¸»é”®IDç”Ÿæˆ"><a href="#è‡ªå®šä¹‰ä¸»é”®IDç”Ÿæˆ" class="headerlink" title="è‡ªå®šä¹‰ä¸»é”®IDç”Ÿæˆ"></a>è‡ªå®šä¹‰ä¸»é”®IDç”Ÿæˆ</h3><ol>
<li><p>è‡ª3.3.0å¼€å§‹,é»˜è®¤ä½¿ç”¨é›ªèŠ±ç®—æ³•+UUID(ä¸å«ä¸­åˆ’çº¿)</p>
</li>
<li><p>è‡ªå®šä¹‰ä¸»é”®ç”Ÿæˆä¸»è¦æ˜¯é‡å†™å¯¹åº”çš„<code>nextId</code>ï¼ˆå¯¹åº”ASSIGN_IDç­–ç•¥ï¼‰ã€<code>nextUUID</code>ï¼ˆå¯¹åº”ASSIGN_UUIDç­–ç•¥ï¼‰æ–¹æ³•</p>
</li>
<li><p>SpringBOOTæ³¨å…¥ä»£ç ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CustomIdGenerator</span> <span class="keyword">implements</span> <span class="title">IdentifierGenerator</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Long <span class="title">nextId</span><span class="params">(Object entity)</span> </span>&#123;</span><br><span class="line">      	<span class="comment">//å¯ä»¥å°†å½“å‰ä¼ å…¥çš„classå…¨ç±»åæ¥ä½œä¸ºbizKey,æˆ–è€…æå–å‚æ•°æ¥ç”ŸæˆbizKeyè¿›è¡Œåˆ†å¸ƒå¼Idè°ƒç”¨ç”Ÿæˆ.</span></span><br><span class="line">      	String bizKey = entity.getClass().getName();</span><br><span class="line">        <span class="comment">//æ ¹æ®bizKeyè°ƒç”¨åˆ†å¸ƒå¼IDç”Ÿæˆ</span></span><br><span class="line">        <span class="keyword">long</span> id = ....;</span><br><span class="line">      	<span class="comment">//è¿”å›ç”Ÿæˆçš„idå€¼å³å¯.</span></span><br><span class="line">        <span class="keyword">return</span> id;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h3 id="ä¹è§‚é”æ’ä»¶OptimisticLockerInnerInterceptor"><a href="#ä¹è§‚é”æ’ä»¶OptimisticLockerInnerInterceptor" class="headerlink" title="ä¹è§‚é”æ’ä»¶OptimisticLockerInnerInterceptor"></a>ä¹è§‚é”æ’ä»¶OptimisticLockerInnerInterceptor</h3><ol>
<li><p>å½“è¦æ›´æ–°ä¸€æ¡è®°å½•çš„æ—¶å€™ï¼Œå¸Œæœ›è¿™æ¡è®°å½•æ²¡æœ‰è¢«åˆ«äººæ›´æ–°ï¼Œå¦‚æœè®°å½•è¢«æ›´æ–°äº†ï¼Œåˆ™ä¸ä¼šæ›´æ–°è®°å½•</p>
</li>
<li><p>å®ç°æ–¹å¼ï¼š</p>
<ol>
<li>å–å‡ºè®°å½•æ—¶ï¼Œè·å–å½“å‰version</li>
<li>æ›´æ–°æ—¶ï¼Œå¸¦ä¸Šè¿™ä¸ªversion</li>
<li>æ‰§è¡Œæ›´æ–°æ—¶ï¼Œ set version = newVersion where version = oldVersion</li>
<li>å¦‚æœversionä¸å¯¹ï¼Œå°±æ›´æ–°å¤±è´¥</li>
</ol>
</li>
<li><p>æ³¨è§£@Versionï¼š</p>
<ol>
<li><strong>æ”¯æŒçš„æ•°æ®ç±»å‹åªæœ‰:int,Integer,long,Long,Date,Timestamp,LocalDateTime</strong></li>
<li>æ•´æ•°ç±»å‹ä¸‹ <code>newVersion = oldVersion + 1</code></li>
<li>ä»…æ”¯æŒ <code>updateById(id)</code> ä¸ <code>update(entity, wrapper)</code> æ–¹æ³•ï¼Œåœ¨ <code>update(entity, wrapper)</code> æ–¹æ³•ä¸‹,<code>wrapper</code> ä¸èƒ½å¤ç”¨!!!</li>
<li><strong>å¯¹äºè‡ªå®šä¹‰çš„æ–¹æ³•æˆ–è€…å…¶ä»–çš„æ–¹æ³•ï¼Œä¹è§‚é”ä¼šå¤±æ•ˆ</strong></li>
</ol>
</li>
<li><p>ä¹è§‚é”æ’ä»¶çš„ä½¿ç”¨ï¼š</p>
<ol>
<li><p>ä¿®æ”¹æ•°æ®è¡¨ï¼Œæ•°æ®åº“å¢åŠ å­—æ®µversion è®¾ä¸ºä¸ºintç±»å‹ï¼Œç»™å®ƒä¸€ä¸ªé»˜è®¤å€¼1</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- schema.sql</span></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> <span class="keyword">IF</span> <span class="keyword">EXISTS</span> tb_user;</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> tb_user</span><br><span class="line">(</span><br><span class="line">	id_real <span class="built_in">varchar</span> (<span class="number">50</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">'ä¸»é”®ID'</span>,</span><br><span class="line">	name_real <span class="built_in">VARCHAR</span>(<span class="number">30</span>) <span class="literal">NULL</span> <span class="keyword">DEFAULT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">'å§“å'</span>,</span><br><span class="line">	age_real <span class="built_in">INT</span>(<span class="number">11</span>) <span class="literal">NULL</span> <span class="keyword">DEFAULT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">'å¹´é¾„'</span>,</span><br><span class="line">	email_real <span class="built_in">VARCHAR</span>(<span class="number">50</span>) <span class="literal">NULL</span> <span class="keyword">DEFAULT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">'é‚®ç®±'</span>,</span><br><span class="line">	<span class="keyword">version</span> <span class="built_in">int</span>(<span class="number">11</span>) <span class="literal">null</span> <span class="keyword">default</span> <span class="literal">null</span>,</span><br><span class="line">	PRIMARY <span class="keyword">KEY</span> (id_real)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- data.sql</span></span><br><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> tb_user;</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> tb_user (id_real, name_real, age_real, email_real,<span class="keyword">version</span>) <span class="keyword">VALUES</span></span><br><span class="line">(<span class="number">1</span>, <span class="string">'Jone'</span>, <span class="number">18</span>, <span class="string">'test1@baomidou.com'</span>,<span class="number">1</span>),</span><br><span class="line">(<span class="number">2</span>, <span class="string">'Jack'</span>, <span class="number">20</span>, <span class="string">'test2@baomidou.com'</span>,<span class="number">1</span>),</span><br><span class="line">(<span class="number">3</span>, <span class="string">'Tom'</span>, <span class="number">28</span>, <span class="string">'test3@baomidou.com'</span>,<span class="number">1</span>),</span><br><span class="line">(<span class="number">4</span>, <span class="string">'Sandy'</span>, <span class="number">21</span>, <span class="string">'test4@baomidou.com'</span>,<span class="number">1</span>),</span><br><span class="line">(<span class="number">5</span>, <span class="string">'Billie'</span>, <span class="number">24</span>, <span class="string">'test5@baomidou.com'</span>,<span class="number">1</span>);</span><br></pre></td></tr></table></figure>
</li>
<li><p>Userå®ä½“å¢åŠ ç›¸åº”å±æ€§å¹¶ç”¨@Versionæ³¨è§£æ ‡è¯†,UserMapperå¯ä»¥åŒä¹‹å‰çš„ä¸€è‡´:</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@TableName</span>(value=<span class="string">"tb_user"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> <span class="keyword">implements</span> <span class="title">Serializable</span> </span>&#123;</span><br><span class="line">    <span class="meta">@TableId</span>(value=<span class="string">"id_real"</span>,type= IdType.ASSIGN_UUID)</span><br><span class="line">    <span class="keyword">private</span> String id;</span><br><span class="line">    <span class="meta">@TableField</span>(<span class="string">"name_real"</span>)</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="meta">@TableField</span>(<span class="string">"age_real"</span>)</span><br><span class="line">    <span class="keyword">private</span> Integer age;</span><br><span class="line">    <span class="meta">@TableField</span>(<span class="string">"email_real"</span>)</span><br><span class="line">    <span class="keyword">private</span>  String email;</span><br><span class="line">    <span class="meta">@TableField</span>(<span class="string">"version"</span>)</span><br><span class="line">    <span class="meta">@Version</span></span><br><span class="line">    <span class="keyword">private</span> Integer version;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ·»åŠ ä¹è§‚é”æ’ä»¶é…ç½®ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MybatisPlusConfig</span> </span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ–°çš„åˆ†é¡µæ’ä»¶,ä¸€ç¼“å’ŒäºŒç¼“éµå¾ªmybatisçš„è§„åˆ™,éœ€è¦è®¾ç½® MybatisConfiguration#useDeprecatedExecutor = false é¿å…ç¼“å­˜å‡ºç°é—®é¢˜(è¯¥å±æ€§ä¼šåœ¨æ—§æ’ä»¶ç§»é™¤åä¸€åŒç§»é™¤)</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> MybatisPlusInterceptor <span class="title">mybatisPlusInterceptor</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        MybatisPlusInterceptor interceptor = <span class="keyword">new</span> MybatisPlusInterceptor();</span><br><span class="line">        <span class="comment">// åˆ†é¡µæ’ä»¶</span></span><br><span class="line">        interceptor.addInnerInterceptor(<span class="keyword">new</span> PaginationInnerInterceptor(DbType.MYSQL));</span><br><span class="line">        <span class="comment">// ä¹è§‚é”æ’ä»¶</span></span><br><span class="line">        interceptor.addInnerInterceptor(<span class="keyword">new</span> OptimisticLockerInnerInterceptor());</span><br><span class="line">        <span class="keyword">return</span> interceptor;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>ç„¶åå°±å¯ä»¥æµ‹è¯•äº†ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@SpringBootTest</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">OptimisticLockerTest</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Resource</span></span><br><span class="line">    <span class="keyword">private</span> UserMapper userMapper;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testOptimistic</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        User user1 = userMapper.selectById(<span class="number">5</span>);</span><br><span class="line">        user1.setName(<span class="string">"test01"</span>);</span><br><span class="line"></span><br><span class="line">        User user2 = userMapper.selectById(<span class="number">5</span>);</span><br><span class="line">        user2.setName(<span class="string">"test02"</span>);</span><br><span class="line">      </span><br><span class="line">        userMapper.updateById(user2);</span><br><span class="line">        userMapper.updateById(user1);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">1.å…ˆè¿›è¡Œäº†ä¸¤æ¬¡æŸ¥è¯¢ å‡è®¾è·å–åˆ°çš„versionéƒ½ä¸º1</span></span><br><span class="line"><span class="comment">2.ä½†æ˜¯å…ˆæ‰§è¡Œçš„æ›´æ–°user2å¯¹è±¡ æ­¤æ—¶æ›´æ–°åversionå˜ä¸º2</span></span><br><span class="line"><span class="comment">3.å½“æ‰§è¡Œæ›´æ–°user1æ—¶ whereæ¡ä»¶where version = oldVersion æ²¡æœ‰åŒ¹é…åˆ°  å› ä¸ºè¿™æ—¶æ•°æ®åº“ä¸­çš„versionå·²ç»ä¸º2 é‚£ä¹ˆå°±æ›´æ–°å¤±è´¥äº†</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

</li>
</ol>
</li>
</ol>
<h3 id="é€šç”¨æšä¸¾"><a href="#é€šç”¨æšä¸¾" class="headerlink" title="é€šç”¨æšä¸¾"></a>é€šç”¨æšä¸¾</h3><ol>
<li><p>è§£å†³äº†ç¹ççš„é…ç½®ï¼Œè®© mybatis ä¼˜é›…çš„ä½¿ç”¨æšä¸¾å±æ€§</p>
</li>
<li><p>ä½¿ç”¨æ–¹å¼ï¼š</p>
<ol>
<li><p>ä½¿ç”¨ @EnumValue æ³¨è§£æšä¸¾å±æ€§</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">enum</span> GradeEnum &#123;</span><br><span class="line">    PRIMARY(<span class="number">1</span>, <span class="string">"å°å­¦"</span>),  SECONDORY(<span class="number">2</span>, <span class="string">"ä¸­å­¦"</span>),  HIGH(<span class="number">3</span>, <span class="string">"é«˜ä¸­"</span>);</span><br><span class="line">    GradeEnum(<span class="keyword">int</span> code, String descp) &#123;</span><br><span class="line">        <span class="keyword">this</span>.code = code;</span><br><span class="line">        <span class="keyword">this</span>.descp = descp;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@EnumValue</span><span class="comment">//æ ‡è®°æ•°æ®åº“å­˜çš„å€¼æ˜¯code</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">int</span> code;</span><br><span class="line">    <span class="comment">//ã€‚ã€‚ã€‚</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>æšä¸¾å±æ€§ï¼Œå®ç° IEnum æ¥å£</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">enum</span> AgeEnum implements IEnum&lt;Integer&gt; &#123;</span><br><span class="line">    ONE(<span class="number">1</span>, <span class="string">"ä¸€å²"</span>),</span><br><span class="line">    TWO(<span class="number">2</span>, <span class="string">"äºŒå²"</span>),</span><br><span class="line">    THREE(<span class="number">3</span>, <span class="string">"ä¸‰å²"</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> value;</span><br><span class="line">    <span class="keyword">private</span> String desc;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Integer <span class="title">getValue</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.value;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
<li><p>éœ€è¦åœ¨é…ç½®æ–‡ä»¶ä¸­æ·»åŠ é…ç½®<code>mybatis-plus.type-enums-package</code>æ¥æ‰«ææšä¸¾ç±»</p>
</li>
<li><p>ç¤ºä¾‹ï¼š</p>
<ol>
<li><p>åœ¨åŸæ¥çš„è¡¨åŸºç¡€ä¸Šæ·»åŠ sexå­—æ®µï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> <span class="keyword">IF</span> <span class="keyword">EXISTS</span> tb_user;</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> tb_user</span><br><span class="line">(</span><br><span class="line">	id_real <span class="built_in">varchar</span> (<span class="number">50</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">'ä¸»é”®ID'</span>,</span><br><span class="line">	name_real <span class="built_in">VARCHAR</span>(<span class="number">30</span>) <span class="literal">NULL</span> <span class="keyword">DEFAULT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">'å§“å'</span>,</span><br><span class="line">	age_real <span class="built_in">INT</span>(<span class="number">11</span>) <span class="literal">NULL</span> <span class="keyword">DEFAULT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">'å¹´é¾„'</span>,</span><br><span class="line">	email_real <span class="built_in">VARCHAR</span>(<span class="number">50</span>) <span class="literal">NULL</span> <span class="keyword">DEFAULT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">'é‚®ç®±'</span>,</span><br><span class="line">	<span class="keyword">version</span> <span class="built_in">int</span>(<span class="number">11</span>) <span class="literal">null</span> <span class="keyword">default</span> <span class="literal">null</span>,</span><br><span class="line">	sex <span class="built_in">int</span>(<span class="number">2</span>) <span class="literal">null</span> <span class="keyword">default</span> <span class="literal">null</span>,</span><br><span class="line">	PRIMARY <span class="keyword">KEY</span> (id_real)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- data.sql</span></span><br><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> tb_user;</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> tb_user (id_real, name_real, age_real, email_real,<span class="keyword">version</span>,sex) <span class="keyword">VALUES</span></span><br><span class="line">(<span class="number">1</span>, <span class="string">'Jone'</span>, <span class="number">18</span>, <span class="string">'test1@baomidou.com'</span>,<span class="number">1</span>,<span class="number">1</span>),</span><br><span class="line">(<span class="number">2</span>, <span class="string">'Jack'</span>, <span class="number">20</span>, <span class="string">'test2@baomidou.com'</span>,<span class="number">1</span>,<span class="number">2</span>),</span><br><span class="line">(<span class="number">3</span>, <span class="string">'Tom'</span>, <span class="number">28</span>, <span class="string">'test3@baomidou.com'</span>,<span class="number">1</span>,<span class="number">1</span>),</span><br><span class="line">(<span class="number">4</span>, <span class="string">'Sandy'</span>, <span class="number">21</span>, <span class="string">'test4@baomidou.com'</span>,<span class="number">1</span>,<span class="number">2</span>),</span><br><span class="line">(<span class="number">5</span>, <span class="string">'Billie'</span>, <span class="number">24</span>, <span class="string">'test5@baomidou.com'</span>,<span class="number">1</span>,<span class="number">1</span>);</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ·»åŠ æšä¸¾ç±»ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Getter</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">enum</span> SexEnum &#123;</span><br><span class="line"></span><br><span class="line">    MAN(<span class="number">1</span>,<span class="string">"ç”·"</span>),</span><br><span class="line">    WOMAN(<span class="number">2</span>,<span class="string">"å¥³"</span>);</span><br><span class="line">		<span class="comment">// æ³¨è§£æ–¹å¼</span></span><br><span class="line">    <span class="meta">@EnumValue</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> code;</span><br><span class="line">    <span class="keyword">private</span> String value;</span><br><span class="line"></span><br><span class="line">    SexEnum(Integer code, String value)&#123;</span><br><span class="line">        <span class="keyword">this</span>.code = code;</span><br><span class="line">        <span class="keyword">this</span>.value = value;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä¿®æ”¹Userå®ä½“ç±»ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@TableName</span>(value=<span class="string">"tb_user"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> <span class="keyword">implements</span> <span class="title">Serializable</span> </span>&#123;</span><br><span class="line">    <span class="meta">@TableId</span>(value=<span class="string">"id_real"</span>,type= IdType.ASSIGN_UUID)</span><br><span class="line">    <span class="keyword">private</span> String id;</span><br><span class="line">    <span class="meta">@TableField</span>(<span class="string">"name_real"</span>)</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="meta">@TableField</span>(<span class="string">"age_real"</span>)</span><br><span class="line">    <span class="keyword">private</span> Integer age;</span><br><span class="line">    <span class="meta">@TableField</span>(<span class="string">"email_real"</span>)</span><br><span class="line">    <span class="keyword">private</span>  String email;</span><br><span class="line">    <span class="meta">@TableField</span>(<span class="string">"version"</span>)</span><br><span class="line">    <span class="meta">@Version</span></span><br><span class="line">    <span class="keyword">private</span> Integer version;</span><br><span class="line">		<span class="comment">// å¢åŠ çš„æšä¸¾ç±»</span></span><br><span class="line">    <span class="keyword">private</span> SexEnum sex;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ·»åŠ é…ç½®ï¼ˆapplication.ymlï¼‰:</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">datasource:</span></span><br><span class="line">    <span class="attr">driver-class-name:</span> <span class="string">com.mysql.cj.jdbc.Driver</span></span><br><span class="line">    <span class="attr">url:</span> <span class="string">jdbc:mysql://127.0.0.1:3306/mybatis?characterEncoding=utf8&amp;serverTimezone=UTC</span></span><br><span class="line">    <span class="attr">username:</span> <span class="string">root</span></span><br><span class="line">    <span class="attr">password:</span> <span class="number">123456</span></span><br><span class="line">    <span class="attr">schema:</span> <span class="string">classpath:sql/schema.sql</span></span><br><span class="line">    <span class="attr">data:</span> <span class="string">classpath:sql/data.sql</span></span><br><span class="line">    <span class="attr">initialization-mode:</span> <span class="string">always</span></span><br><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">8082</span></span><br><span class="line"></span><br><span class="line"><span class="attr">mybatis-plus:</span></span><br><span class="line">  <span class="attr">configuration:</span></span><br><span class="line">    <span class="comment"># sqlè¾“å‡ºåˆ°æ§åˆ¶å°  æ–¹ä¾¿æŸ¥çœ‹</span></span><br><span class="line">    <span class="attr">log-impl:</span> <span class="string">org.apache.ibatis.logging.stdout.StdOutImpl</span></span><br><span class="line">  <span class="attr">type-enums-package:</span> <span class="string">com.midea.mpoptimistic</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>æµ‹è¯•æšä¸¾ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@SpringBootTest</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">OptimisticLockerTest</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Resource</span></span><br><span class="line">    <span class="keyword">private</span> UserMapper userMapper;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testOptimistic</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        User user1 = userMapper.selectById(<span class="number">5</span>);</span><br><span class="line">        user1.setName(<span class="string">"test01"</span>);</span><br><span class="line"></span><br><span class="line">        User user2 = userMapper.selectById(<span class="number">5</span>);</span><br><span class="line">        user2.setName(<span class="string">"test02"</span>);</span><br><span class="line">        System.out.println(user1);</span><br><span class="line"></span><br><span class="line">     <span class="comment">//   userMapper.updateById(user2);</span></span><br><span class="line">        user1.setSex(SexEnum.WOMAN);</span><br><span class="line">        userMapper.updateById(user1);</span><br><span class="line">        user1 = userMapper.selectById(<span class="number">5</span>);</span><br><span class="line">        System.out.println(user1);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ol>
</li>
</ol>
<h3 id="è‡ªåŠ¨å¡«å……"><a href="#è‡ªåŠ¨å¡«å……" class="headerlink" title="è‡ªåŠ¨å¡«å……"></a>è‡ªåŠ¨å¡«å……</h3><ol>
<li><p>åƒåˆ›å»ºæ—¶é—´ã€æ›´æ–°æ—¶é—´ã€åˆ›å»ºäººã€æ›´æ–°äººè¿™äº›éƒ½å¯ä»¥è‡ªåŠ¨å¡«å……ï¼Œè€Œæ— éœ€è‡ªå·±è®¾ç½®</p>
</li>
<li><p>åŸç†ï¼š</p>
<ol>
<li><p>å®ç°å…ƒå¯¹è±¡å¤„ç†å™¨æ¥å£ï¼šcom.baomidou.mybatisplus.core.handlers.MetaObjectHandler</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Slf</span>4j</span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyMetaObjectHandler</span> <span class="keyword">implements</span> <span class="title">MetaObjectHandler</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">insertFill</span><span class="params">(MetaObject metaObject)</span> </span>&#123;</span><br><span class="line">        log.info(<span class="string">"start insert fill ...."</span>);</span><br><span class="line">        <span class="keyword">this</span>.strictInsertFill(metaObject, <span class="string">"createTime"</span>, LocalDateTime<span class="class">.<span class="keyword">class</span>, <span class="title">LocalDateTime</span>.<span class="title">now</span>())</span>; <span class="comment">// èµ·å§‹ç‰ˆæœ¬ 3.3.0(æ¨èä½¿ç”¨)</span></span><br><span class="line">        <span class="comment">// æˆ–è€…</span></span><br><span class="line">        <span class="keyword">this</span>.strictUpdateFill(metaObject, <span class="string">"createTime"</span>, () -&gt; LocalDateTime.now(), LocalDateTime<span class="class">.<span class="keyword">class</span>)</span>; <span class="comment">// èµ·å§‹ç‰ˆæœ¬ 3.3.3(æ¨è)</span></span><br><span class="line">        <span class="comment">// æˆ–è€…</span></span><br><span class="line">        <span class="keyword">this</span>.fillStrategy(metaObject, <span class="string">"createTime"</span>, LocalDateTime.now()); <span class="comment">// ä¹Ÿå¯ä»¥ä½¿ç”¨(3.3.0 è¯¥æ–¹æ³•æœ‰bug)</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">updateFill</span><span class="params">(MetaObject metaObject)</span> </span>&#123;</span><br><span class="line">        log.info(<span class="string">"start update fill ...."</span>);</span><br><span class="line">        <span class="keyword">this</span>.strictUpdateFill(metaObject, <span class="string">"updateTime"</span>, LocalDateTime<span class="class">.<span class="keyword">class</span>, <span class="title">LocalDateTime</span>.<span class="title">now</span>())</span>; <span class="comment">// èµ·å§‹ç‰ˆæœ¬ 3.3.0(æ¨è)</span></span><br><span class="line">        <span class="comment">// æˆ–è€…</span></span><br><span class="line">        <span class="keyword">this</span>.strictUpdateFill(metaObject, <span class="string">"updateTime"</span>, () -&gt; LocalDateTime.now(), LocalDateTime<span class="class">.<span class="keyword">class</span>)</span>; <span class="comment">// èµ·å§‹ç‰ˆæœ¬ 3.3.3(æ¨è)</span></span><br><span class="line">        <span class="comment">// æˆ–è€…</span></span><br><span class="line">        <span class="keyword">this</span>.fillStrategy(metaObject, <span class="string">"updateTime"</span>, LocalDateTime.now()); <span class="comment">// ä¹Ÿå¯ä»¥ä½¿ç”¨(3.3.0 è¯¥æ–¹æ³•æœ‰bug)</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ³¨è§£å¡«å……å­—æ®µ <code>@TableField(.. fill = FieldFill.INSERT)</code> ç”Ÿæˆå™¨ç­–ç•¥éƒ¨åˆ†ä¹Ÿå¯ä»¥é…ç½®</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ³¨æ„ï¼è¿™é‡Œéœ€è¦æ ‡è®°ä¸ºå¡«å……å­—æ®µ</span></span><br><span class="line">    <span class="meta">@TableField</span>(.. fill = FieldFill.INSERT)</span><br><span class="line">    <span class="keyword">private</span> String fillField;</span><br><span class="line"></span><br><span class="line">    ....</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
<li><p>FieldFillæœ‰å››ç§ç­–ç•¥ï¼š</p>
<ol>
<li><code>DEFAULT</code>ï¼šé»˜è®¤ä¸å¤„ç†</li>
<li><code>INSERT</code>ï¼šæ’å…¥æ—¶å¡«å……</li>
<li><code>UPDATE</code>ï¼šæ›´æ–°æ—¶å¡«å……</li>
<li><code>INSERT_UPDATE</code>ï¼šæ’å…¥æˆ–è€…æ›´æ–°æ—¶å¡«å……</li>
</ol>
</li>
<li><p>ç¤ºä¾‹ï¼š</p>
<ol>
<li><p>åœ¨åŸæ¥çš„è¡¨åŸºç¡€ä¸Šæ·»åŠ update_timeã€insert_timeã€authorå­—æ®µï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> <span class="keyword">IF</span> <span class="keyword">EXISTS</span> tb_user;</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> tb_user</span><br><span class="line">(</span><br><span class="line">	id_real <span class="built_in">varchar</span> (<span class="number">50</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">'ä¸»é”®ID'</span>,</span><br><span class="line">	name_real <span class="built_in">VARCHAR</span>(<span class="number">30</span>) <span class="literal">NULL</span> <span class="keyword">DEFAULT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">'å§“å'</span>,</span><br><span class="line">	age_real <span class="built_in">INT</span>(<span class="number">11</span>) <span class="literal">NULL</span> <span class="keyword">DEFAULT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">'å¹´é¾„'</span>,</span><br><span class="line">	email_real <span class="built_in">VARCHAR</span>(<span class="number">50</span>) <span class="literal">NULL</span> <span class="keyword">DEFAULT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">'é‚®ç®±'</span>,</span><br><span class="line">	<span class="keyword">version</span> <span class="built_in">int</span>(<span class="number">11</span>) <span class="literal">null</span> <span class="keyword">default</span> <span class="literal">null</span>,</span><br><span class="line">	sex <span class="built_in">int</span>(<span class="number">2</span>) <span class="literal">null</span> <span class="keyword">default</span> <span class="literal">null</span>,</span><br><span class="line">	update_time DATETIME <span class="literal">null</span> <span class="keyword">default</span>  <span class="literal">null</span>,</span><br><span class="line">	insert_time DATETIME <span class="literal">null</span> <span class="keyword">default</span>  <span class="literal">null</span>,</span><br><span class="line">	author <span class="built_in">varchar</span>(<span class="number">20</span>) <span class="literal">null</span> <span class="keyword">default</span>  <span class="literal">null</span>,</span><br><span class="line">	PRIMARY <span class="keyword">KEY</span> (id_real)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä¿®æ”¹Userå®ä½“ç±»ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@TableName</span>(value=<span class="string">"tb_user"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> <span class="keyword">implements</span> <span class="title">Serializable</span> </span>&#123;</span><br><span class="line">    <span class="meta">@TableId</span>(value=<span class="string">"id_real"</span>,type= IdType.ASSIGN_UUID)</span><br><span class="line">    <span class="keyword">private</span> String id;</span><br><span class="line">    <span class="meta">@TableField</span>(<span class="string">"name_real"</span>)</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="meta">@TableField</span>(<span class="string">"age_real"</span>)</span><br><span class="line">    <span class="keyword">private</span> Integer age;</span><br><span class="line">    <span class="meta">@TableField</span>(<span class="string">"email_real"</span>)</span><br><span class="line">    <span class="keyword">private</span>  String email;</span><br><span class="line">    <span class="meta">@TableField</span>(<span class="string">"version"</span>)</span><br><span class="line">    <span class="meta">@Version</span></span><br><span class="line">    <span class="keyword">private</span> Integer version;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> SexEnum sex;</span><br><span class="line">    <span class="meta">@TableField</span>(fill = FieldFill.UPDATE)</span><br><span class="line">    <span class="keyword">private</span> Date updateTime;</span><br><span class="line">    <span class="meta">@TableField</span>(fill=FieldFill.INSERT)</span><br><span class="line">    <span class="keyword">private</span> Date insertTime;</span><br><span class="line">    <span class="meta">@TableField</span>(fill=FieldFill.INSERT_UPDATE)</span><br><span class="line">    <span class="keyword">private</span> String author;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ·»åŠ å¡«å……é…ç½®ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Slf</span>4j</span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyMetaObjectHandler</span> <span class="keyword">implements</span> <span class="title">MetaObjectHandler</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">insertFill</span><span class="params">(MetaObject metaObject)</span> </span>&#123;</span><br><span class="line">        log.info(<span class="string">"start insert fill ...."</span>);</span><br><span class="line">        <span class="keyword">this</span>.fillStrategy(metaObject, <span class="string">"insertTime"</span>, <span class="keyword">new</span> Date());</span><br><span class="line">        <span class="keyword">this</span>.strictInsertFill(metaObject, <span class="string">"updateTime"</span>, LocalDateTime<span class="class">.<span class="keyword">class</span>, <span class="title">LocalDateTime</span>.<span class="title">now</span>())</span>; <span class="comment">// èµ·å§‹ç‰ˆæœ¬ 3.3.0(æ¨èä½¿ç”¨)</span></span><br><span class="line">        <span class="keyword">this</span>.setFieldValByName(<span class="string">"author"</span>,<span class="string">"admin"</span>,metaObject);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">updateFill</span><span class="params">(MetaObject metaObject)</span> </span>&#123;</span><br><span class="line">        log.info(<span class="string">"start update fill ...."</span>);</span><br><span class="line">        <span class="keyword">this</span>.fillStrategy(metaObject, <span class="string">"updateTime"</span>,<span class="keyword">new</span> Date());</span><br><span class="line">        <span class="keyword">this</span>.setFieldValByName(<span class="string">"author"</span>,<span class="string">"admin"</span>,metaObject);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>ç„¶åæµ‹è¯•å³å¯</p>
</li>
</ol>
</li>
</ol>
<h3 id="é€»è¾‘åˆ é™¤"><a href="#é€»è¾‘åˆ é™¤" class="headerlink" title="é€»è¾‘åˆ é™¤"></a>é€»è¾‘åˆ é™¤</h3><ol>
<li><p>å¹¶éçœŸçš„åˆ é™¤äº†ï¼Œè€Œæ˜¯åœ¨æ•°æ®åº“çš„è¡¨ä¸­æœ‰ä¸€ä¸ªå­—æ®µæ¥åŒºåˆ†æ˜¯å¦ä¸å¯è§</p>
</li>
<li><p>æ·»åŠ æ–¹å¼ï¼š</p>
<ol>
<li>é€šè¿‡é…ç½®ï¼š</li>
</ol>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">mybatis-plus:</span></span><br><span class="line">  <span class="attr">global-config:</span></span><br><span class="line">    <span class="attr">db-config:</span></span><br><span class="line">      <span class="attr">logic-delete-field:</span> <span class="string">deleted</span>  <span class="comment"># å…¨å±€é€»è¾‘åˆ é™¤çš„å®ä½“å­—æ®µå</span></span><br><span class="line">      <span class="attr">logic-delete-value:</span> <span class="number">1</span> <span class="comment"># é€»è¾‘å·²åˆ é™¤å€¼(é»˜è®¤ä¸º 1)</span></span><br><span class="line">      <span class="attr">logic-not-delete-value:</span> <span class="number">0</span> <span class="comment"># é€»è¾‘æœªåˆ é™¤å€¼(é»˜è®¤ä¸º 0)</span></span><br></pre></td></tr></table></figure>

<ol start="2">
<li>å¯å•ç‹¬é…ç½®æŸä¸ªå®ä½“ç±»çš„è½¯åˆ é™¤å­—æ®µï¼Œåœ¨å­—æ®µä¸ŠåŠ ä¸Š<code>@TableLogic</code>æ³¨è§£å³å¯</li>
</ol>
</li>
</ol>
<p>3.æµ‹è¯•ï¼š</p>
<ol>
<li><p>åœ¨sqlåŸæ¥çš„åŸºç¡€ä¸Šæ·»åŠ åˆ é™¤å­—æ®µï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> <span class="keyword">IF</span> <span class="keyword">EXISTS</span> tb_user;</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> tb_user</span><br><span class="line">(</span><br><span class="line">	id_real <span class="built_in">varchar</span> (<span class="number">50</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">'ä¸»é”®ID'</span>,</span><br><span class="line">	name_real <span class="built_in">VARCHAR</span>(<span class="number">30</span>) <span class="literal">NULL</span> <span class="keyword">DEFAULT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">'å§“å'</span>,</span><br><span class="line">	age_real <span class="built_in">INT</span>(<span class="number">11</span>) <span class="literal">NULL</span> <span class="keyword">DEFAULT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">'å¹´é¾„'</span>,</span><br><span class="line">	email_real <span class="built_in">VARCHAR</span>(<span class="number">50</span>) <span class="literal">NULL</span> <span class="keyword">DEFAULT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">'é‚®ç®±'</span>,</span><br><span class="line">	<span class="keyword">version</span> <span class="built_in">int</span>(<span class="number">11</span>) <span class="literal">null</span> <span class="keyword">default</span> <span class="literal">null</span>,</span><br><span class="line">	sex <span class="built_in">int</span>(<span class="number">2</span>) <span class="literal">null</span> <span class="keyword">default</span> <span class="literal">null</span>,</span><br><span class="line">	update_time DATETIME <span class="literal">null</span> <span class="keyword">default</span>  <span class="literal">null</span>,</span><br><span class="line">	insert_time DATETIME <span class="literal">null</span> <span class="keyword">default</span>  <span class="literal">null</span>,</span><br><span class="line">	author <span class="built_in">varchar</span>(<span class="number">20</span>) <span class="literal">null</span> <span class="keyword">default</span>  <span class="literal">null</span>,</span><br><span class="line">	deleted <span class="built_in">boolean</span> <span class="keyword">not</span> <span class="literal">null</span> <span class="keyword">default</span>  <span class="literal">false</span>,</span><br><span class="line">	PRIMARY <span class="keyword">KEY</span> (id_real)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä¿®æ”¹Userå®ä½“ç±»ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@TableName</span>(value=<span class="string">"tb_user"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> <span class="keyword">implements</span> <span class="title">Serializable</span> </span>&#123;</span><br><span class="line">    <span class="meta">@TableId</span>(value=<span class="string">"id_real"</span>,type= IdType.ASSIGN_UUID)</span><br><span class="line">    <span class="keyword">private</span> String id;</span><br><span class="line">    <span class="meta">@TableField</span>(<span class="string">"name_real"</span>)</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="meta">@TableField</span>(<span class="string">"age_real"</span>)</span><br><span class="line">    <span class="keyword">private</span> Integer age;</span><br><span class="line">    <span class="meta">@TableField</span>(<span class="string">"email_real"</span>)</span><br><span class="line">    <span class="keyword">private</span>  String email;</span><br><span class="line">    <span class="meta">@TableField</span>(<span class="string">"version"</span>)</span><br><span class="line">    <span class="meta">@Version</span></span><br><span class="line">    <span class="keyword">private</span> Integer version;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> SexEnum sex;</span><br><span class="line">    <span class="meta">@TableField</span>(fill = FieldFill.UPDATE)</span><br><span class="line">    <span class="keyword">private</span> Date updateTime;</span><br><span class="line">    <span class="meta">@TableField</span>(fill=FieldFill.INSERT)</span><br><span class="line">    <span class="keyword">private</span> Date insertTime;</span><br><span class="line">    <span class="meta">@TableField</span>(fill=FieldFill.INSERT_UPDATE)</span><br><span class="line">    <span class="keyword">private</span> String author;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@TableLogic</span></span><br><span class="line">    <span class="keyword">private</span> Boolean deleted;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>ç„¶åå°±å¯ä»¥æµ‹è¯•äº†</p>
</li>
</ol>
<h3 id="é…ç½®æ–‡ä»¶å®‰å…¨"><a href="#é…ç½®æ–‡ä»¶å®‰å…¨" class="headerlink" title="é…ç½®æ–‡ä»¶å®‰å…¨"></a>é…ç½®æ–‡ä»¶å®‰å…¨</h3><ol>
<li><p>ä¸ºäº†ä¿æŠ¤æ•°æ®åº“é…ç½®åŠæ•°æ®å®‰å…¨ï¼Œåœ¨ä¸€å®šçš„ç¨‹åº¦ä¸Šæ§åˆ¶å¼€å‘äººå‘˜æµåŠ¨å¯¼è‡´æ•æ„Ÿä¿¡æ¯æ³„éœ²</p>
</li>
<li><p>é…ç½®æ–‡ä»¶ï¼ˆYMLï¼‰ä¸­åŠ å¯†é…ç½®ä½¿ç”¨<code>mpw:åŠ å¯†å†…å®¹</code>ï¼Œä¸æ˜¯åªæœ‰æ•°æ®åº“é…ç½®æ‰èƒ½åŠ å¯†ï¼Œå…¶ä»–å†…å®¹ä¹Ÿæ˜¯å¯ä»¥åŠ å¯†çš„</p>
</li>
<li><p>é…ç½®äº†åŠ å¯†å†…å®¹ä¹‹åï¼Œæ²¡æ³•è¿›è¡Œæµ‹è¯•ï¼Œå¯ä»¥åœ¨æ­£å¼ç¯å¢ƒä½¿ç”¨è¯¥æ–¹å¼</p>
</li>
<li><p>é…ç½®æ–‡ä»¶ç¤ºä¾‹ï¼š</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="string">//</span> <span class="string">åŠ å¯†é…ç½®</span> <span class="attr">mpw:</span> <span class="string">å¼€å¤´ç´§æ¥åŠ å¯†å†…å®¹ï¼ˆ</span> <span class="string">éæ•°æ®åº“é…ç½®ä¸“ç”¨</span> <span class="string">YML</span> <span class="string">ä¸­å…¶å®ƒé…ç½®ä¹Ÿæ˜¯å¯ä»¥ä½¿ç”¨çš„</span> <span class="string">ï¼‰</span></span><br><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">datasource:</span></span><br><span class="line">    <span class="attr">url:</span> <span class="string">mpw:qRhvCwF4GOqjessEB3G+a5okP+uXXr96wcucn2Pev6Bf1oEMZ1gVpPPhdDmjQqoM</span></span><br><span class="line">    <span class="attr">password:</span> <span class="string">mpw:Hzy5iliJbwDHhjLs1L0j6w==</span></span><br><span class="line">    <span class="attr">username:</span> <span class="string">mpw:Xb+EgsyuYRXw7U7sBJjBpA==</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>å¯åŠ¨é¡¹ç›®æ—¶å¯ä»¥åœ¨é¡¹ç›®çš„idea è®¾ç½® Program argumentsï¼ŒæœåŠ¡å™¨å¯ä»¥è®¾ç½®ä¸ºå¯åŠ¨ç¯å¢ƒå˜é‡ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">--mpw.key=d1104d7c3b616f0b</span><br><span class="line">//æ¯”å¦‚ java -jar test.jar --mpw.key=d1104d7c3b616f0b</span><br></pre></td></tr></table></figure>
</li>
<li><p>AESåŠ å¯†ç±»ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> org.apache.tomcat.util.codec.binary.Base64;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.crypto.Cipher;</span><br><span class="line"><span class="keyword">import</span> javax.crypto.spec.IvParameterSpec;</span><br><span class="line"><span class="keyword">import</span> javax.crypto.spec.SecretKeySpec;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AES</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¯†é’¥</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String key = <span class="string">"littleswan123456"</span>; <span class="comment">//é•¿åº¦ä¸º16</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> String charset = <span class="string">"utf-8"</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> String transformation = <span class="string">"AES/CBC/PKCS5Padding"</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> String algorithm = <span class="string">"AES"</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * åŠ å¯†</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> content</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">encrypt</span><span class="params">(String content)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> encrypt(content, key);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è§£å¯†</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> content</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">decrypt</span><span class="params">(String content)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> decrypt(content, key);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * åŠ å¯†</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> content éœ€è¦åŠ å¯†çš„å†…å®¹</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> key     åŠ å¯†å¯†ç </span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">encrypt</span><span class="params">(String content, String key)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            SecretKeySpec skey = <span class="keyword">new</span> SecretKeySpec(key.getBytes(), algorithm);</span><br><span class="line">            IvParameterSpec iv = <span class="keyword">new</span> IvParameterSpec(key.getBytes());</span><br><span class="line">            Cipher cipher = Cipher.getInstance(transformation);</span><br><span class="line">            <span class="keyword">byte</span>[] byteContent = content.getBytes(charset);</span><br><span class="line">            cipher.init(Cipher.ENCRYPT_MODE, skey, iv);<span class="comment">// åˆå§‹åŒ–</span></span><br><span class="line">            <span class="keyword">byte</span>[] result = cipher.doFinal(byteContent);</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> Base64().encodeToString(result); <span class="comment">// åŠ å¯†</span></span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            <span class="comment">// LogUtil.exception(e);</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * AESï¼ˆ256ï¼‰è§£å¯†</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> content å¾…è§£å¯†å†…å®¹</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> key     è§£å¯†å¯†é’¥</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> è§£å¯†ä¹‹å</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> Exception</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">decrypt</span><span class="params">(String content, String key)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line"></span><br><span class="line">            SecretKeySpec skey = <span class="keyword">new</span> SecretKeySpec(key.getBytes(), algorithm);</span><br><span class="line">            IvParameterSpec iv = <span class="keyword">new</span> IvParameterSpec(key.getBytes());</span><br><span class="line">            Cipher cipher = Cipher.getInstance(transformation);</span><br><span class="line">            cipher.init(Cipher.DECRYPT_MODE, skey, iv);<span class="comment">// åˆå§‹åŒ–</span></span><br><span class="line">            <span class="keyword">byte</span>[] result = cipher.doFinal(<span class="keyword">new</span> Base64().decode(content));</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> String(result); <span class="comment">// è§£å¯†</span></span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            <span class="comment">//LogUtil.exception(e);</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        String s = <span class="string">"hello world"</span>;</span><br><span class="line">        <span class="comment">// åŠ å¯†</span></span><br><span class="line">        System.out.println(<span class="string">"åŠ å¯†å‰ï¼š"</span> + s);</span><br><span class="line">        String encryptResultStr = encrypt(s);</span><br><span class="line">        System.out.println(<span class="string">"åŠ å¯†åï¼š"</span> + encryptResultStr);</span><br><span class="line">        <span class="comment">// è§£å¯†</span></span><br><span class="line">        System.out.println(<span class="string">"è§£å¯†åï¼š"</span> + decrypt(encryptResultStr));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>æ³¨æ„ï¼šåŠ å¯†çš„keyå­—ç¬¦ä¸²é•¿åº¦ä¸€å®šè¦æ˜¯16å¦åˆ™ä¼šå‡ºé—®é¢˜ï¼</strong></p>
</li>
</ol>
<h3 id="åŠ¨æ€è¡¨å"><a href="#åŠ¨æ€è¡¨å" class="headerlink" title="åŠ¨æ€è¡¨å"></a>åŠ¨æ€è¡¨å</h3><ol>
<li><p>åœ¨ä¹‹å‰çš„é¡¹ç›®å¼€å‘ä¸­ä½¿ç”¨Mybatisçš„<code>${}</code>æ¥å®ç°åŠ¨æ€è¡¨åï¼Œéå¸¸çš„ä¸å‹å¥½ï¼š</p>
<ol>
<li>åœ¨åŠ¨æ€sqlè§£æè¿‡ç¨‹ï¼Œ<code>#{}</code>ä¸<code>${}</code>çš„æ•ˆæœæ˜¯ä¸ä¸€æ ·çš„ï¼Œ <code>#{ }</code>è§£æä¸ºä¸€ä¸ª JDBC é¢„ç¼–è¯‘è¯­å¥ï¼ˆprepared statementï¼‰çš„å‚æ•°æ ‡è®°ç¬¦, <code>${ }</code> ä»…ä»…ä¸ºä¸€ä¸ªçº¯ç¢çš„ String æ›¿æ¢ï¼Œåœ¨åŠ¨æ€ SQL è§£æé˜¶æ®µå°†ä¼šè¿›è¡Œå˜é‡æ›¿æ¢</li>
<li><code>${ }</code>çš„å˜é‡çš„æ›¿æ¢é˜¶æ®µæ˜¯åœ¨åŠ¨æ€ SQL è§£æé˜¶æ®µï¼Œè€Œ <code>#{ }</code>çš„å˜é‡çš„æ›¿æ¢æ˜¯åœ¨ DBMS ä¸­</li>
<li><code>#{}</code>èƒ½å¤Ÿå¾ˆå¤§ç¨‹åº¦ä¸Šé˜²æ­¢sqlæ³¨å…¥ï¼Œ<code>${}</code>æ— æ³•é˜²æ­¢sqlæ³¨å…¥</li>
<li><code>${}</code>ä¸€èˆ¬ç”¨äºä¼ è¾“æ•°æ®åº“çš„è¡¨åã€å­—æ®µåç­‰</li>
</ol>
</li>
<li><p>åœ¨UserMapperä¸Šç¼–å†™ä¸€ä¸ªåˆ›å»ºæ–°è¡¨çš„æ¥å£æ–¹æ³•ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.core.metadata.IPage;</span><br><span class="line"><span class="keyword">import</span> com.example.po.User;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.core.mapper.BaseMapper;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.annotations.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">UserMapper</span> <span class="keyword">extends</span> <span class="title">BaseMapper</span>&lt;<span class="title">User</span>&gt; </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//@Select("SELECT id_real as id,name_real as name,age_real as age,email_real as email FROM tb_user WHERE email_real LIKE #&#123;state&#125;")</span></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Results</span>(id = <span class="string">"resultMap"</span> , value = &#123;</span><br><span class="line">            <span class="meta">@Result</span>(property = <span class="string">"id"</span>,column = <span class="string">"id_real"</span>),</span><br><span class="line">            <span class="meta">@Result</span>(property = <span class="string">"name"</span>,column = <span class="string">"name_real"</span>),</span><br><span class="line">            <span class="meta">@Result</span>(property = <span class="string">"age"</span>,column = <span class="string">"age_real"</span>),</span><br><span class="line">            <span class="meta">@Result</span>(property = <span class="string">"email"</span>,column = <span class="string">"email_real"</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="meta">@Select</span>(<span class="string">"SELECT * FROM tb_user WHERE email_real LIKE #&#123;state&#125;"</span>)</span><br><span class="line">    <span class="function">IPage&lt;User&gt; <span class="title">selectPageUserDefined</span><span class="params">(IPage&lt;?&gt; page, String state)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ResultMap</span>(<span class="string">"resultMap"</span>)</span><br><span class="line">    <span class="meta">@Select</span>(<span class="string">"SELECT * FROM tb_user WHERE name_real like #&#123;name&#125;"</span>)</span><br><span class="line">    <span class="function">IPage&lt;User&gt; <span class="title">selectPageUserDefined2</span><span class="params">(IPage&lt;?&gt; page, String name)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ ¹æ®åç§°åˆ›å»ºä¸€ä¸ªæ–°çš„è¡¨</span></span><br><span class="line">    <span class="meta">@Update</span>(<span class="string">"CREATE TABLE $&#123;tableName&#125;\n"</span> +</span><br><span class="line">            <span class="string">"(\n"</span> +</span><br><span class="line">            <span class="string">"\tid_real varchar (50) NOT NULL COMMENT 'ä¸»é”®ID',\n"</span> +</span><br><span class="line">            <span class="string">"\tname_real VARCHAR(30) NULL DEFAULT NULL COMMENT 'å§“å',\n"</span> +</span><br><span class="line">            <span class="string">"\tage_real INT(11) NULL DEFAULT NULL COMMENT 'å¹´é¾„',\n"</span> +</span><br><span class="line">            <span class="string">"\temail_real VARCHAR(50) NULL DEFAULT NULL COMMENT 'é‚®ç®±',\n"</span> +</span><br><span class="line">            <span class="string">"\tPRIMARY KEY (id_real)\n"</span> +</span><br><span class="line">            <span class="string">");"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">createTable</span><span class="params">(@Param(<span class="string">"tableName"</span>)</span> String tableName)</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä¿®æ”¹MPçš„é…ç½®ç±»ï¼Œå¼•å…¥åŠ¨æ€è¡¨åæ’ä»¶ä»¥åŠè§„åˆ™ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MybatisPlusConfig</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> ThreadLocal&lt;String&gt; TABLE_NAME = <span class="keyword">new</span> ThreadLocal&lt;String&gt;();<span class="comment">// çº¿ç¨‹å†…éƒ¨å­˜å‚¨ç±»</span></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ–°çš„åˆ†é¡µæ’ä»¶,ä¸€ç¼“å’ŒäºŒç¼“éµå¾ªmybatisçš„è§„åˆ™,éœ€è¦è®¾ç½® MybatisConfiguration#useDeprecatedExecutor = false é¿å…ç¼“å­˜å‡ºç°é—®é¢˜(è¯¥å±æ€§ä¼šåœ¨æ—§æ’ä»¶ç§»é™¤åä¸€åŒç§»é™¤)</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> MybatisPlusInterceptor <span class="title">mybatisPlusInterceptor</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        MybatisPlusInterceptor interceptor = <span class="keyword">new</span> MybatisPlusInterceptor();</span><br><span class="line">        PaginationInnerInterceptor paginationInnerInterceptor=<span class="keyword">new</span> PaginationInnerInterceptor(DbType.MYSQL);</span><br><span class="line"></span><br><span class="line">        paginationInnerInterceptor.setOverflow(<span class="keyword">true</span>);</span><br><span class="line">        interceptor.addInnerInterceptor(paginationInnerInterceptor);</span><br><span class="line"></span><br><span class="line">        DynamicTableNameInnerInterceptor dynamicTableNameInnerInterceptor=<span class="keyword">new</span> DynamicTableNameInnerInterceptor();</span><br><span class="line">        Map&lt;String, TableNameHandler&gt; tableNameHandlerMap = <span class="keyword">new</span> HashMap&lt;String, TableNameHandler&gt;();</span><br><span class="line">        tableNameHandlerMap.put(<span class="string">"tb_user"</span>, <span class="keyword">new</span> TableNameHandler() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> String <span class="title">dynamicTableName</span><span class="params">(String sql, String tableName)</span> </span>&#123;</span><br><span class="line">                <span class="keyword">return</span> TABLE_NAME.get();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);<span class="comment">// tb_userå’ŒUserç±»ä¸Šçš„@TableName(value="tb_user")ä¿æŒä¸€è‡´</span></span><br><span class="line">        dynamicTableNameInnerInterceptor.setTableNameHandlerMap(tableNameHandlerMap);</span><br><span class="line">        interceptor.addInnerInterceptor(dynamicTableNameInnerInterceptor);</span><br><span class="line">        <span class="keyword">return</span> interceptor;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>ç¼–å†™æµ‹è¯•ç±»ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@SpringBootTest</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MPTest</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Resource</span></span><br><span class="line">    <span class="keyword">private</span>  UserMapper userMapper;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">testCreateTableAndInsert</span><span class="params">()</span></span>&#123;</span><br><span class="line">       <span class="comment">// userMapper.createTable("user_01"); // åˆ›å»ºè¡¨user_01</span></span><br><span class="line">        MybatisPlusConfig.TABLE_NAME.set(<span class="string">"user_01"</span>); <span class="comment">// é…ç½®è¾“å‡ºåˆ°user_01</span></span><br><span class="line">        User user=<span class="keyword">new</span> User();</span><br><span class="line">        user.setId(<span class="string">"46"</span>);</span><br><span class="line">        user.setName(<span class="string">"lll1"</span>);</span><br><span class="line">        user.setEmail(<span class="string">"hello@qq.com"</span>);</span><br><span class="line">        userMapper.updateById(user);</span><br><span class="line">        MybatisPlusConfig.TABLE_NAME.set(<span class="string">"tb_user"</span>);<span class="comment">// é…ç½®è¾“å‡ºåˆ°tb_user</span></span><br><span class="line">        userMapper.insert(user);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h2 id="æ³¨æ„"><a href="#æ³¨æ„" class="headerlink" title="æ³¨æ„"></a>æ³¨æ„</h2><ul>
<li><strong>åœ¨POä¸­æœ€å¥½ä¸è¦ä½¿ç”¨åŸºç¡€ç±»å‹ï¼Œè¦ä½¿ç”¨çš„è¯ä¹Ÿæ˜¯å…¶å¯¹åº”çš„å°è£…ç±»å‹ï¼</strong></li>
<li><code>MateCloud</code>ä»£ç åœ°å€ï¼š<a href="https://github.com/matevip/matecloud" target="_blank" rel="noopener">https://github.com/matevip/matecloud</a></li>
</ul>
<hr>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>MPçš„å¼•å…¥ä½¿Mybatisçš„å¼€å‘å˜å¾—ç®€å•ï¼Œè€Œä¸”ç®€åŒ–äº†ä»£ç çš„ç¼–å†™ï¼Œé¿å…äº†é‡å¤åŠ³åŠ¨é—®é¢˜ã€‚å½“ç„¶è¿™éƒ¨åˆ†åªæ¶‰åŠäº†MPçš„åŠŸèƒ½çš„ä¸€éƒ¨åˆ†ï¼Œåœ¨åç»­éœ€è¦æ–°åŠŸèƒ½çš„æ—¶å€™å¯ä»¥è€ƒè™‘å†ç»§ç»­æ·±å…¥å­¦ä¹ ï¼</p>
]]></content>
      <categories>
        <category>SpringBoot</category>
      </categories>
  </entry>
  <entry>
    <title>SpringBoot MybatisPlus å¤šç§Ÿæˆ·æ’ä»¶å­¦ä¹ </title>
    <url>/2020/09/28/SpringBoot-MybatisPlus-%E5%A4%9A%E7%A7%9F%E6%88%B7%E6%8F%92%E4%BB%B6%E5%AD%A6%E4%B9%A0/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>å¤šç§Ÿæˆ·æ˜¯ä¸€ç§è½¯ä»¶æ¶æ„æŠ€æœ¯ï¼Œåœ¨å¤šç”¨æˆ·çš„ç¯å¢ƒä¸‹ï¼Œå…±æœ‰åŒä¸€å¥—ç³»ç»Ÿï¼Œå¹¶ä¸”è¦æ³¨æ„æ•°æ®ä¹‹é—´çš„éš”ç¦»æ€§ã€‚åœ¨å­¦ä¹ MybatiPlusï¼ˆä»¥ä¸‹ç®€ç§°MPï¼‰çš„ä½¿ç”¨è¿‡ç¨‹ä¸­ï¼Œçœ‹åˆ°è‡ª3.4.0ä¹‹åæ·»åŠ å†…ç½®æ’ä»¶ï¼Œå†…ç½®æ’ä»¶é‡Œæœ‰å¤šç§Ÿæˆ·æ’ä»¶ï¼Œå°±å¾ˆå¥½å¥‡ï¼Œç„¶åå°±å°è¯•äº†ä¸‹ä½¿ç”¨ï¼Œè™½ç„¶æœ‰æ–‡æ¡£å•¥çš„ï¼Œä½†è¿˜æ˜¯èŠ±äº†å¾ˆé•¿æ—¶é—´å»è·‘ä¸€ä¸ªDemoã€‚è®°å½•ä¸‹æ¥ï¼Œå¦‚æœä»¥åæœ‰éœ€è¦ä¹Ÿèƒ½å¿«é€Ÿå¼€å‘ï¼</p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="åŸºç¡€çŸ¥è¯†"><a href="#åŸºç¡€çŸ¥è¯†" class="headerlink" title="åŸºç¡€çŸ¥è¯†"></a>åŸºç¡€çŸ¥è¯†</h2><ol>
<li>å¤šç§Ÿæˆ·æ˜¯æŒ‡è½¯ä»¶æ¶æ„æ”¯æŒä¸€ä¸ªå®ä¾‹æœåŠ¡å¤šä¸ªç”¨æˆ·ï¼ˆCustomerï¼‰ï¼Œæ¯ä¸€ä¸ªç”¨æˆ·è¢«ç§°ä¹‹ä¸ºç§Ÿæˆ·ï¼ˆtenantï¼‰ï¼Œè½¯ä»¶ç»™äºˆç§Ÿæˆ·å¯ä»¥å¯¹ç³»ç»Ÿè¿›è¡Œéƒ¨åˆ†å®šåˆ¶çš„èƒ½åŠ›ï¼Œå¦‚ç”¨æˆ·ç•Œé¢é¢œè‰²æˆ–ä¸šåŠ¡è§„åˆ™ï¼Œä½†æ˜¯ä»–ä»¬ä¸èƒ½å®šåˆ¶ä¿®æ”¹è½¯ä»¶çš„ä»£ç ã€‚</li>
<li>åœºæ™¯ï¼šå¼€å‘ç³»ç»Ÿæ—¶ï¼Œå¦‚æœè¯¥ç³»ç»Ÿæä¾›ç»™å¤šä¸ªå•†å®¶ä½¿ç”¨æ—¶ï¼Œè€ƒè™‘åˆ°å„ä¸ªå•†å®¶çš„æ•°æ®éš”ç¦»çš„æ—¶å€™ï¼Œå°±éœ€è¦åœ¨ä¼ è¾“æ•°æ®æ—¶å¸¦ä¸Šå•†å®¶çš„IDï¼ˆç§Ÿæˆ·IDï¼‰ï¼Œä»è€Œè¿›è¡Œæ•°æ®çš„éš”ç¦»ã€‚å…¶å®å°±æ˜¯ä¸åŒç§Ÿæˆ·ä½¿ç”¨åŒä¸€å¥—ç³»ç»Ÿï¼Œéœ€è¦è€ƒè™‘æ•°æ®éš”ç¦»çš„é—®é¢˜ï¼</li>
<li>æ•°æ®éš”ç¦»æœ‰ä¸‰ç§æ–¹æ¡ˆï¼š<ol>
<li><strong>ç‹¬ç«‹æ•°æ®åº“</strong>ï¼šç®€å•æ¥è¯´å°±æ˜¯ä¸€ä¸ªç§Ÿæˆ·ä½¿ç”¨ä¸€ä¸ªæ•°æ®åº“ï¼Œè¿™ç§æ•°æ®éš”ç¦»çº§åˆ«æœ€é«˜ï¼Œå®‰å…¨æ€§æœ€å¥½ï¼Œä½†æ˜¯æˆæœ¬å°±ç›¸å¯¹å¾ˆé«˜</li>
<li><strong>å…±äº«æ•°æ®åº“ã€éš”ç¦»æ•°æ®æ¶æ„</strong>ï¼šå¤šç§Ÿæˆ·ä½¿ç”¨åŒä¸€ä¸ªæ•°æ®è£¤ï¼Œä½†æ˜¯æ¯ä¸ªç§Ÿæˆ·å¯¹åº”ä¸€ä¸ªSchema</li>
<li><strong>å…±äº«æ•°æ®åº“ã€å…±äº«æ•°æ®æ¶æ„</strong>ï¼šä½¿ç”¨åŒä¸€ä¸ªæ•°æ®åº“ï¼ŒåŒä¸€ä¸ªSchemaï¼Œä½†æ˜¯åœ¨è¡¨ä¸­å¢åŠ äº†ç§Ÿæˆ·IDçš„å­—æ®µï¼Œè¿™ç§å…±äº«æ•°æ®ç¨‹åº¦æœ€é«˜ï¼Œéš”ç¦»çº§åˆ«æœ€ä½</li>
</ol>
</li>
<li>MPé€šè¿‡å†…ç½®çš„å¤šç§Ÿæˆ·æ’ä»¶ï¼ˆTenantLineInnerInterceptorï¼‰æä¾›äº†ä¸€ç§å¤šç§Ÿæˆ·è§£å†³æ–¹æ¡ˆã€‚</li>
</ol>
<h2 id="MPå¤šç§Ÿæˆ·ç®€å•å®ç°"><a href="#MPå¤šç§Ÿæˆ·ç®€å•å®ç°" class="headerlink" title="MPå¤šç§Ÿæˆ·ç®€å•å®ç°"></a>MPå¤šç§Ÿæˆ·ç®€å•å®ç°</h2><ol>
<li><p>åˆ›å»ºä¸€ä¸ªSpringBooté¡¹ç›®ï¼Œæ·»åŠ MPçš„ä¾èµ–(3.4ç‰ˆæœ¬)ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.baomidou<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-plus-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.4.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>åˆ›å»ºæ•°æ®åº“è„šæœ¬ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- schema.sql</span></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> <span class="keyword">IF</span> <span class="keyword">EXISTS</span> tb_user;</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> tb_user</span><br><span class="line">(</span><br><span class="line">	id_real <span class="built_in">varchar</span> (<span class="number">50</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">'ä¸»é”®ID'</span>,</span><br><span class="line">	name_real <span class="built_in">VARCHAR</span>(<span class="number">30</span>) <span class="literal">NULL</span> <span class="keyword">DEFAULT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">'å§“å'</span>,</span><br><span class="line">	age_real <span class="built_in">INT</span>(<span class="number">11</span>) <span class="literal">NULL</span> <span class="keyword">DEFAULT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">'å¹´é¾„'</span>,</span><br><span class="line">	email_real <span class="built_in">VARCHAR</span>(<span class="number">50</span>) <span class="literal">NULL</span> <span class="keyword">DEFAULT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">'é‚®ç®±'</span>,</span><br><span class="line">	<span class="keyword">version</span> <span class="built_in">int</span>(<span class="number">11</span>) <span class="literal">null</span> <span class="keyword">default</span> <span class="literal">null</span>,</span><br><span class="line">	sex <span class="built_in">int</span>(<span class="number">2</span>) <span class="literal">null</span> <span class="keyword">default</span> <span class="literal">null</span>,</span><br><span class="line">	update_time DATETIME <span class="literal">null</span> <span class="keyword">default</span>  <span class="literal">null</span>,</span><br><span class="line">	insert_time DATETIME <span class="literal">null</span> <span class="keyword">default</span>  <span class="literal">null</span>,</span><br><span class="line">	author <span class="built_in">varchar</span>(<span class="number">20</span>) <span class="literal">null</span> <span class="keyword">default</span>  <span class="literal">null</span>,</span><br><span class="line">	deleted <span class="built_in">boolean</span> <span class="keyword">not</span> <span class="literal">null</span> <span class="keyword">default</span>  <span class="literal">false</span>,</span><br><span class="line">	tenant_id <span class="built_in">bigint</span>(<span class="number">20</span>) <span class="literal">null</span> <span class="keyword">default</span> <span class="literal">null</span>,</span><br><span class="line">	PRIMARY <span class="keyword">KEY</span> (id_real)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- data.sql</span></span><br><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> tb_user;</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> tb_user (id_real, name_real, age_real, email_real,<span class="keyword">version</span>,sex,tenant_id) <span class="keyword">VALUES</span></span><br><span class="line">(<span class="number">1</span>, <span class="string">'Jone'</span>, <span class="number">18</span>, <span class="string">'test1@baomidou.com'</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>),</span><br><span class="line">(<span class="number">2</span>, <span class="string">'Jack'</span>, <span class="number">20</span>, <span class="string">'test2@baomidou.com'</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">1</span>),</span><br><span class="line">(<span class="number">3</span>, <span class="string">'Tom'</span>, <span class="number">28</span>, <span class="string">'test3@baomidou.com'</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>),</span><br><span class="line">(<span class="number">4</span>, <span class="string">'Sandy'</span>, <span class="number">21</span>, <span class="string">'test4@baomidou.com'</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">2</span>),</span><br><span class="line">(<span class="number">5</span>, <span class="string">'Billie'</span>, <span class="number">24</span>, <span class="string">'test5@baomidou.com'</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>);</span><br></pre></td></tr></table></figure>
</li>
<li><p>åˆ›å»ºå®ä½“å¯¹è±¡Userï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@TableName</span>(value=<span class="string">"tb_user"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> <span class="keyword">implements</span> <span class="title">Serializable</span> </span>&#123;</span><br><span class="line">    <span class="meta">@TableId</span>(value=<span class="string">"id_real"</span>,type= IdType.ASSIGN_UUID)</span><br><span class="line">    <span class="keyword">private</span> String id;</span><br><span class="line">    <span class="meta">@TableField</span>(<span class="string">"name_real"</span>)</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="meta">@TableField</span>(<span class="string">"age_real"</span>)</span><br><span class="line">    <span class="keyword">private</span> Integer age;</span><br><span class="line">    <span class="meta">@TableField</span>(<span class="string">"email_real"</span>)</span><br><span class="line">    <span class="keyword">private</span>  String email;</span><br><span class="line">    <span class="meta">@TableField</span>(<span class="string">"version"</span>)</span><br><span class="line">    <span class="meta">@Version</span></span><br><span class="line">    <span class="keyword">private</span> Integer version;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> Boolean sex;</span><br><span class="line">    <span class="meta">@TableField</span>(fill = FieldFill.UPDATE)</span><br><span class="line">    <span class="keyword">private</span> Date updateTime;</span><br><span class="line">    <span class="meta">@TableField</span>(fill=FieldFill.INSERT)</span><br><span class="line">    <span class="keyword">private</span> Date insertTime;</span><br><span class="line">    <span class="meta">@TableField</span>(fill=FieldFill.INSERT_UPDATE)</span><br><span class="line">    <span class="keyword">private</span> String author;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@TableLogic</span></span><br><span class="line">    <span class="keyword">private</span> Boolean deleted;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@TableField</span>(value = <span class="string">"tenant_id"</span>)</span><br><span class="line">    <span class="keyword">private</span> Long tenantId;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>åˆ›å»ºMapperï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">UserMapper</span> <span class="keyword">extends</span> <span class="title">BaseMapper</span>&lt;<span class="title">User</span>&gt; </span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>åœ¨å¯åŠ¨ç±»ä¸Šæ·»åŠ Mapperæ‰«ææ³¨è§£ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="meta">@MapperScan</span>(<span class="string">"com.example.mapper"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test2Application</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        SpringApplication.run(Test2Application<span class="class">.<span class="keyword">class</span>, <span class="title">args</span>)</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>é…ç½®MPçš„å†…ç½®æ’ä»¶ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MPConfig</span> </span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ–°çš„åˆ†é¡µæ’ä»¶,ä¸€ç¼“å’ŒäºŒç¼“éµå¾ªmybatisçš„è§„åˆ™,éœ€è¦è®¾ç½® MybatisConfiguration#useDeprecatedExecutor = false é¿å…ç¼“å­˜å‡ºç°é—®é¢˜(è¯¥å±æ€§ä¼šåœ¨æ—§æ’ä»¶ç§»é™¤åä¸€åŒç§»é™¤)</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> MybatisPlusInterceptor <span class="title">mybatisPlusInterceptor</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        MybatisPlusInterceptor interceptor = <span class="keyword">new</span> MybatisPlusInterceptor();</span><br><span class="line">        TenantLineInnerInterceptor tenantLineInnerInterceptor=<span class="keyword">new</span> TenantLineInnerInterceptor(<span class="keyword">new</span> TenantLineHandler() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> Expression <span class="title">getTenantId</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">new</span> LongValue(<span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> String <span class="title">getTenantIdColumn</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="string">"tenant_id"</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">ignoreTable</span><span class="params">(String tableName)</span> </span>&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        interceptor.addInnerInterceptor(tenantLineInnerInterceptor);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// åˆ†é¡µæ’ä»¶</span></span><br><span class="line"><span class="comment">//        interceptor.addInnerInterceptor(new PaginationInnerInterceptor(DbType.MYSQL));</span></span><br><span class="line">        <span class="comment">// ä¹è§‚é”æ’ä»¶</span></span><br><span class="line">        interceptor.addInnerInterceptor(<span class="keyword">new</span> OptimisticLockerInnerInterceptor());</span><br><span class="line">        <span class="keyword">return</span> interceptor;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol>
<li>ä¸»è¦å®ç°TenantLineHandlerçš„<code>getTenantId</code>ã€<code>getTenantIdColumn</code>ã€<code>ignoreTable</code>æ–¹æ³•ï¼Œåˆ†åˆ«è¡¨ç¤ºç§Ÿæˆ·IDã€ç§Ÿæˆ·IDå¯¹åº”çš„æ•°æ®åº“åˆ—ã€å¿½ç•¥å“ªäº›è¡¨ï¼ˆå› ä¸ºæœ‰äº›å¯èƒ½æ˜¯å…¬ç”¨çš„è¡¨æˆ–è€…å…¶ä»–ç”¨å¤„ï¼‰</li>
<li>è¿™é‡Œæ˜¯æ‰€æœ‰çš„è¡¨éƒ½ä¸å¿½ç•¥ï¼Œç„¶åç§Ÿæˆ·IDä»¥åŠç§Ÿæˆ·IDå¯¹åº”çš„æ•°æ®åº“åˆ—éƒ½æ˜¯å›ºå®šçš„ï¼Œæ–¹ä¾¿æµ‹è¯•</li>
</ol>
</li>
<li><p>æ·»åŠ é…ç½®æ–‡ä»¶ï¼ˆapplication.ymlï¼‰ï¼š</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">datasource:</span></span><br><span class="line">    <span class="attr">driver-class-name:</span> <span class="string">com.mysql.cj.jdbc.Driver</span></span><br><span class="line">    <span class="attr">url:</span> <span class="string">jdbc:mysql://127.0.0.1:3306/mybatis?characterEncoding=utf8&amp;serverTimezone=UTC</span></span><br><span class="line">    <span class="attr">username:</span> <span class="string">root</span></span><br><span class="line">    <span class="attr">password:</span> <span class="number">123456</span></span><br><span class="line">    <span class="attr">schema:</span> <span class="string">classpath:sql/schema.sql</span></span><br><span class="line">    <span class="attr">data:</span> <span class="string">classpath:sql/data.sql</span></span><br><span class="line">    <span class="attr">initialization-mode:</span> <span class="string">always</span></span><br><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">8082</span></span><br><span class="line"></span><br><span class="line"><span class="attr">mybatis-plus:</span></span><br><span class="line">  <span class="attr">configuration:</span></span><br><span class="line">    <span class="comment"># sqlè¾“å‡ºåˆ°æ§åˆ¶å°  æ–¹ä¾¿æŸ¥çœ‹</span></span><br><span class="line">    <span class="attr">log-impl:</span> <span class="string">org.apache.ibatis.logging.stdout.StdOutImpl</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>æµ‹è¯•ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@SpringBootTest</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Test2ApplicationTests</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Resource</span></span><br><span class="line">    <span class="keyword">private</span> UserMapper userMapper;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">contextLoads</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        userMapper.deleteById(<span class="number">5</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">è¾“å‡ºï¼š</span></span><br><span class="line"><span class="comment">Creating a new SqlSession</span></span><br><span class="line"><span class="comment">SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@604c7e9b] was not registered for synchronization because synchronization is not active</span></span><br><span class="line"><span class="comment">JDBC Connection [HikariProxyConnection@1560391896 wrapping com.mysql.cj.jdbc.ConnectionImpl@271e851e] will not be managed by Spring</span></span><br><span class="line"><span class="comment">==&gt;  Preparing: UPDATE tb_user SET deleted = 1 WHERE tenant_id = 1 AND id_real = ? AND deleted = 0</span></span><br><span class="line"><span class="comment">==&gt; Parameters: 5(Integer)</span></span><br><span class="line"><span class="comment">&lt;==    Updates: 1</span></span><br><span class="line"><span class="comment">Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@604c7e9b]</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<ul>
<li>å¯ä»¥çœ‹åˆ°è™½ç„¶æ²¡æœ‰åœ¨æ¡ä»¶ä¸­åŠ å…¥tenant_idï¼Œä½†æ˜¯è¾“å‡ºçš„sqlè¯­å¥ä¸­è‡ªåŠ¨åŠ å…¥äº†è¯¥å­—æ®µï¼Œéå¸¸æ–¹ä¾¿</li>
<li>é…ç½®å¥½ä¹‹åï¼Œä¸ç®¡æ˜¯æŸ¥è¯¢ã€æ–°å¢ã€ä¿®æ”¹åˆ é™¤æ–¹æ³•ï¼ŒMPéƒ½ä¼šè‡ªåŠ¨åŠ ä¸Šç§Ÿæˆ·IDçš„æ ‡è¯†</li>
<li>å®ç°å‡ºç°é—®é¢˜å¯ä»¥å…ˆçœ‹SpringBoot MybatisPlus Quick Startä¸­çš„è®°å½•</li>
</ul>
</li>
</ol>
<h2 id="å…¶ä»–"><a href="#å…¶ä»–" class="headerlink" title="å…¶ä»–"></a>å…¶ä»–</h2><ol>
<li><code>MateCloud</code>æœ‰ç”¨MPçš„å¤šç§Ÿæˆ·æ’ä»¶ï¼Œå¯ä»¥é˜…è¯»ä¸‹æºç ï¼Œä»£ç åœ°å€ï¼š<a href="https://github.com/matevip/matecloud" target="_blank" rel="noopener">https://github.com/matevip/matecloud</a></li>
<li><strong>å¤šç§Ÿæˆ· != æƒé™è¿‡æ»¤,ä¸è¦ä¹±ç”¨,ç§Ÿæˆ·ä¹‹é—´æ˜¯å®Œå…¨éš”ç¦»çš„!!!</strong></li>
<li>åœ¨å¼€å‘çš„è¿‡ç¨‹ä¸­æˆ‘å¿˜è®°ComponentScanï¼Œå¯¼è‡´MPçš„é…ç½®æ²¡æœ‰ç”Ÿæ•ˆï¼Œä¸€ç›´ä¸å‡ºç°æ•ˆæœï¼Œæµªè´¹äº†å¾ˆå¤šæ—¶é—´ï¼Œéå¸¸è¦æ³¨æ„è¿™äº›å¼±æ™ºé—®é¢˜ï¼</li>
</ol>
<hr>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>å¤šç§Ÿæˆ·æ¦‚å¿µä¸Šç†è§£èµ·æ¥è¿˜æ˜¯å¾ˆç®€å•çš„ï¼Œä½†æ˜¯æ¶‰åŠåˆ°çš„å†…å®¹å¾ˆå¤šï¼Œè¿™é‡Œåªæ˜¯ç”¨MPçš„å†…ç½®æ’ä»¶å†™äº†ä¸€ä¸ªDemoï¼Œæ ¹æ®æ•ˆæœå¤§è‡´äº†è§£äº†MPçš„å¤šç§Ÿæˆ·çš„å®ç°åŸç†ï¼Œåç»­å¦‚æœä¸šåŠ¡ä¸Šæœ‰éœ€æ±‚ï¼Œä¹Ÿä¸å¤±ä¸ºä¸€ç§å¿«é€Ÿæ–¹æ¡ˆï¼</p>
]]></content>
      <categories>
        <category>SpringBoot</category>
      </categories>
  </entry>
  <entry>
    <title>SpringBoot Swagger2 Quick Start</title>
    <url>/2020/05/26/SpringBoot-Swagger2-Quick-Start/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>æ— è®ºæ˜¯å‰ç«¯å¼€å‘è¿˜æ˜¯åç«¯å¼€å‘ï¼Œéƒ½æˆ–å¤šæˆ–å°‘åœ°è¢«æ¥å£æ–‡æ¡£æŠ˜ç£¨è¿‡!å‰ç«¯ç»å¸¸æŠ±æ€¨åç«¯ç»™çš„æ¥å£æ–‡æ¡£ä¸å®é™…æƒ…å†µä¸ä¸€è‡´ï¼Œåç«¯åˆè§‰å¾—ç¼–å†™åŠç»´æŠ¤æ¥å£æ–‡æ¡£ä¼šè€—è´¹ä¸å°‘ç²¾åŠ›ï¼Œç»å¸¸æ¥ä¸åŠæ›´æ–°ã€‚å…¶å®æ— è®ºæ˜¯å‰ç«¯è°ƒç”¨åç«¯ï¼Œè¿˜æ˜¯åç«¯è°ƒç”¨åç«¯ï¼Œéƒ½æœŸæœ›æœ‰ä¸€ä¸ªå¥½çš„æ¥å£æ–‡æ¡£ï¼Œä½†ä»…ä»…åªé€šè¿‡å¼ºåˆ¶æ¥è§„èŒƒå¤§å®¶æ˜¯ä¸å¤Ÿçš„ï¼Œéšç€æ—¶é—´æ¨ç§»ï¼Œç‰ˆæœ¬è¿­ä»£ï¼Œæ¥å£æ–‡æ¡£å¾€å¾€å¾ˆå®¹æ˜“è·Ÿä¸ä¸Šä»£ç æ›´æ–°çš„é€Ÿåº¦ã€‚<strong>Swaggerçš„å‡ºç°å¾ˆå¥½çš„è§£å†³äº†è¿™ä¸€ä¸ªé—®é¢˜ï¼Œè€Œä¸”æ”¯æŒSpringBootï¼Œåªè¦ä½¿ç”¨æ³¨è§£å°±èƒ½å¾ˆæ–¹ä¾¿çš„ä¸ºå‰ç«¯æä¾›å‹å¥½çš„APIæ¥å£ï¼</strong>è¿™éƒ¨åˆ†ä»‹ç»å¦‚ä½•ä½¿ç”¨SpringBootå¿«é€Ÿæ„å»ºå¸¦æœ‰Swaggeræ¥å£çš„é¡¹ç›®ï¼</p>
<p>è¿‡å»çš„æ–‡æ¡£è¿­ä»£è¿‡ç¨‹ä¸»è¦æœ‰ä¸¤ç§ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/a5a44968763300a332ec4e8fcdb4b37e-242054" alt="æ–¹æ¡ˆä¸€"></p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/41844101791fa64e89d3a3d173ad875f-195499" alt="æ–¹æ¡ˆäºŒ"></p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="åŸºç¡€çŸ¥è¯†"><a href="#åŸºç¡€çŸ¥è¯†" class="headerlink" title="åŸºç¡€çŸ¥è¯†"></a>åŸºç¡€çŸ¥è¯†</h2><ol>
<li>Swagger æä¾›äº†ä¸€å¥—é€šè¿‡ä»£ç å’Œæ³¨è§£è‡ªåŠ¨ç”Ÿæˆæ–‡æ¡£çš„æ–¹æ³•ï¼Œè¿™ä¸€ç‚¹å¯¹äºä¿è¯ API æ–‡æ¡£çš„åŠæ—¶æ€§å°†æœ‰å¾ˆå¤§çš„å¸®åŠ©ã€‚</li>
<li>Swagger æ˜¯ä¸€å¥—åŸºäº OpenAPI è§„èŒƒæ„å»ºçš„å¼€æºå·¥å…·ï¼Œå¯ä»¥å¸®åŠ©æˆ‘ä»¬è®¾è®¡ã€æ„å»ºã€è®°å½•ä»¥åŠä½¿ç”¨ Rest APIã€‚Swagger ä¸»è¦åŒ…å«äº†ä»¥ä¸‹ä¸‰ä¸ªéƒ¨åˆ†ï¼š<ul>
<li><code>Swagger Editor</code>ï¼šåŸºäºæµè§ˆå™¨çš„ç¼–è¾‘å™¨ï¼Œå¯ä»¥ç”¨æ¥ç¼–å†™ OpenAPI è§„èŒƒ</li>
<li><code>Swagger UI</code>ï¼šå°†ç¼–å†™å¥½çš„ OpenAPI è§„èŒƒå‘ˆç°ä¸ºäº¤äº’å¼çš„ API æ–‡æ¡£</li>
<li><code>Swagger Codegen</code>ï¼šå¯ä»¥é€šè¿‡ä¸º OpenAPIè§„èŒƒå®šä¹‰çš„ä»»ä½• API ç”ŸæˆæœåŠ¡å™¨å­˜æ ¹å’Œå®¢æˆ·ç«¯ SDK æ¥ç®€åŒ–æ„å»ºè¿‡ç¨‹</li>
</ul>
</li>
<li>Swaggerçš„ä¼˜ç‚¹ï¼š<ul>
<li>ä»£ç å˜ï¼Œæ–‡æ¡£å˜ã€‚åªéœ€è¦å°‘é‡çš„æ³¨è§£ï¼ŒSwagger å°±å¯ä»¥æ ¹æ®ä»£ç è‡ªåŠ¨ç”Ÿæˆ API æ–‡æ¡£ï¼Œå¾ˆå¥½çš„ä¿è¯äº†æ–‡æ¡£çš„æ—¶æ•ˆæ€§</li>
<li>è·¨è¯­è¨€æ€§ï¼Œæ”¯æŒ 40 å¤šç§è¯­è¨€</li>
<li>Swagger UI å‘ˆç°å‡ºæ¥çš„æ˜¯ä¸€ä»½å¯äº¤äº’å¼çš„ API æ–‡æ¡£ï¼Œå¯ä»¥ç›´æ¥åœ¨æ–‡æ¡£é¡µé¢å°è¯• API çš„è°ƒç”¨ï¼Œçœå»äº†å‡†å¤‡å¤æ‚çš„è°ƒç”¨å‚æ•°çš„è¿‡ç¨‹</li>
<li>å¯ä»¥å°†æ–‡æ¡£è§„èŒƒå¯¼å…¥ç›¸å…³çš„å·¥å…·ï¼ˆä¾‹å¦‚ SoapUIï¼‰, è¿™äº›å·¥å…·å°†ä¼šä¸ºæˆ‘ä»¬è‡ªåŠ¨åœ°åˆ›å»ºè‡ªåŠ¨åŒ–æµ‹è¯•</li>
</ul>
</li>
<li>OASæ˜¯OpenAPI Specificationçš„ç®€ç§°ï¼Œå¯ä»¥ç¿»è¯‘ä¸ºOpenAPIè§„èŒƒï¼Œå®ƒæ˜¯å®šä¹‰APIçš„ä¸€ç§è§„èŒƒï¼Œå®ƒçš„å‰èº«æ˜¯Swaggerè§„èŒƒã€‚</li>
<li>å®˜ç½‘ï¼š<a href="https://swagger.io/" target="_blank" rel="noopener">https://swagger.io/</a></li>
<li>å®˜æ–¹æ–‡æ¡£ï¼š<a href="http://springfox.github.io/springfox/docs/snapshot/" target="_blank" rel="noopener">http://springfox.github.io/springfox/docs/snapshot/</a></li>
<li>ç¬¬ä¸‰æ–¹UIé¡µé¢ï¼š<ul>
<li><a href="https://github.com/caspar-chen/swagger-ui-layer" target="_blank" rel="noopener">https://github.com/caspar-chen/swagger-ui-layer</a></li>
<li><a href="https://github.com/battcn/swagger-spring-boot" target="_blank" rel="noopener">https://github.com/battcn/swagger-spring-boot</a></li>
</ul>
</li>
</ol>
<h2 id="å¿«é€Ÿé›†æˆ"><a href="#å¿«é€Ÿé›†æˆ" class="headerlink" title="å¿«é€Ÿé›†æˆ"></a>å¿«é€Ÿé›†æˆ</h2><ol>
<li><p>æ·»åŠ ä¾èµ–ï¼ˆä¿®æ”¹pom.xmlï¼‰ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- swagger --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">groupId</span>&gt;</span>io.springfox<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>springfox-swagger2<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">version</span>&gt;</span>2.9.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- swagger-ui --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">groupId</span>&gt;</span>io.springfox<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>springfox-swagger-ui<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">version</span>&gt;</span>2.9.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>ä½¿ç”¨æ³¨è§£é…ç½®ä½¿èƒ½Swaggerï¼ˆæ·»åŠ swaggeré…ç½®ç±»ï¼‰ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@EnableSwagger</span>2</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SwaggerApp</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Docket <span class="title">createRestApi</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Docket(DocumentationType.SWAGGER_2)</span><br><span class="line">                .apiInfo(apiInfo())</span><br><span class="line">                .select()</span><br><span class="line">                <span class="comment">//ä¸ºå½“å‰åŒ…è·¯å¾„</span></span><br><span class="line">                .apis(RequestHandlerSelectors.basePackage(<span class="string">"com.wander.swagger.swagger"</span>))</span><br><span class="line">         <span class="comment">// .apis(RequestHandlerSelectors.any())</span></span><br><span class="line">                .paths(PathSelectors.any())</span><br><span class="line">                .build();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//æ„å»º apiæ–‡æ¡£çš„è¯¦ç»†ä¿¡æ¯å‡½æ•°,æ³¨æ„è¿™é‡Œçš„æ³¨è§£å¼•ç”¨çš„æ˜¯å“ªä¸ª</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> ApiInfo <span class="title">apiInfo</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> ApiInfoBuilder()</span><br><span class="line">                <span class="comment">//é¡µé¢æ ‡é¢˜</span></span><br><span class="line">                .title(<span class="string">"Spring Boot ä½¿ç”¨ Swagger2 æ„å»ºRESTful API"</span>)</span><br><span class="line">                <span class="comment">//åˆ›å»ºäºº</span></span><br><span class="line">                .contact(<span class="keyword">new</span> Contact(<span class="string">"WanderROS"</span>, <span class="string">"https://wanderros.github.io"</span>, <span class="string">""</span>))</span><br><span class="line">                <span class="comment">//ç‰ˆæœ¬å·</span></span><br><span class="line">                .version(<span class="string">"1.0"</span>)</span><br><span class="line">                <span class="comment">//æè¿°</span></span><br><span class="line">                .description(<span class="string">"API æè¿°"</span>)</span><br><span class="line">                .build();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><p><code>apis()</code> ï¼šå¯ä»¥é€šè¿‡æŒ‡å®šåŒ…åçš„æ–¹å¼ï¼Œè®© Swagger åªå»æŸäº›åŒ…ä¸‹é¢æ‰«æ</p>
</li>
<li><p><code>paths()</code> ï¼šå¯ä»¥é€šè¿‡ç­›é€‰ API çš„ url æ¥è¿›è¡Œè¿‡æ»¤</p>
</li>
<li><p>è¿‡æ»¤ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">.apis(RequestHandlerSelectors.basePackage(<span class="string">"cn.example.sbswagger.controller"</span>))</span><br><span class="line">.paths(Predicates.or(PathSelectors.ant(<span class="string">"/user/add"</span>),</span><br><span class="line">        PathSelectors.ant(<span class="string">"/user/find/*"</span>)))</span><br></pre></td></tr></table></figure>



</li>
</ul>
</li>
</ol>
<ol start="3">
<li><p>åœ¨æ§åˆ¶å™¨ä¸­æ·»åŠ swaggeræ³¨è§£ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Api</span>(tags=<span class="string">"ç”¨æˆ·ç›¸å…³æ¥å£"</span>, description = <span class="string">"æä¾›ç”¨æˆ·ç›¸å…³çš„ Rest API"</span>)</span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping</span>(value = <span class="string">"/"</span>,method = RequestMethod.GET)</span><br><span class="line">    <span class="meta">@ApiOperation</span>(value = <span class="string">"GET è¯·æ±‚ç¤ºä¾‹"</span>, notes = <span class="string">"/GETè¯·æ±‚è¯´æ˜"</span>, httpMethod = <span class="string">"GET"</span>)</span><br><span class="line">    <span class="meta">@ApiImplicitParams</span>(&#123;</span><br><span class="line">            <span class="meta">@ApiImplicitParam</span>(name = <span class="string">"username"</span>, value = <span class="string">"ç”¨æˆ·å"</span>, defaultValue = <span class="string">"WanderROS"</span>,paramType=<span class="string">"query"</span>),</span><br><span class="line">            <span class="meta">@ApiImplicitParam</span>(name = <span class="string">"address"</span>, value = <span class="string">"ç”¨æˆ·åœ°å€"</span>, defaultValue = <span class="string">"æ— é”¡"</span>, required = <span class="keyword">true</span>,paramType=<span class="string">"query"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    )</span><br><span class="line">    <span class="function"><span class="keyword">public</span> HashMap&lt;Object,Object&gt; <span class="title">addUser</span><span class="params">(@RequestParam String username, @RequestParam(required = <span class="keyword">true</span>)</span> String address) </span>&#123;</span><br><span class="line">        HashMap&lt;Object,Object&gt; map=<span class="keyword">new</span> HashMap();</span><br><span class="line">        map.put(<span class="string">"username"</span>,username);</span><br><span class="line">        map.put(<span class="string">"address"</span>,address);</span><br><span class="line">        <span class="keyword">return</span> map;</span><br><span class="line">    &#125;</span><br><span class="line">   <span class="comment">// @ApiIgnore</span></span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping</span>(value = <span class="string">"/test2"</span>,method = RequestMethod.GET)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">index2</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"Hello"</span>;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">//...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><p><code>@ApiIgnore</code>å¯ä»¥å±è”½æ‰ä¸æƒ³å±•ç¤ºçš„æ¥å£</p>
</li>
<li><p>è‡ªå®šä¹‰æ¥å£è¿‡æ»¤ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//æ·»åŠ è¿‡æ»¤æ¡ä»¶ï¼Œè°“è¯è¿‡æ»¤predicateï¼Œè¿™é‡Œæ˜¯è‡ªå®šä¹‰æ³¨è§£è¿›è¡Œè¿‡æ»¤</span></span><br><span class="line">.apis(not(withMethodAnnotation(SwaggerCustomIgnore<span class="class">.<span class="keyword">class</span>)))</span></span><br></pre></td></tr></table></figure>



</li>
</ul>
</li>
</ol>
<ol start="4">
<li><p>Swagger å…è®¸æˆ‘ä»¬é€šè¿‡ Docket çš„ <code>globalResponseMessage()</code> æ–¹æ³•å…¨å±€è¦†ç›– HTTP æ–¹æ³•çš„å“åº”æ¶ˆæ¯ï¼Œä½†æ˜¯é¦–å…ˆæˆ‘ä»¬å¾—é€šè¿‡ Docket çš„ <code>useDefaultResponseMessages</code> æ–¹æ³•å‘Šè¯‰ Swagger ä¸ä½¿ç”¨é»˜è®¤çš„ HTTP å“åº”æ¶ˆæ¯ï¼Œå‡è®¾æˆ‘ä»¬ç°åœ¨éœ€è¦è¦†ç›–æ‰€æœ‰ GET æ–¹æ³•çš„ 500 å’Œ 403 é”™è¯¯çš„å“åº”æ¶ˆæ¯ï¼Œæˆ‘ä»¬åªéœ€è¦åœ¨ SwaggerConfig.java ç±»ä¸­çš„ Docket Bean ä¸‹æ·»åŠ å¦‚ä¸‹å†…å®¹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">new</span> Docket(DocumentationType.SWAGGER_2)</span><br><span class="line">.useDefaultResponseMessages(<span class="keyword">false</span>)</span><br><span class="line">.globalResponseMessage(RequestMethod.GET, newArrayList(</span><br><span class="line"><span class="keyword">new</span> ResponseMessageBuilder()</span><br><span class="line">              .code(<span class="number">500</span>)</span><br><span class="line">              .message(<span class="string">"æœåŠ¡å™¨å‘ç”Ÿå¼‚å¸¸"</span>)</span><br><span class="line">              .responseModel(<span class="keyword">new</span> ModelRef(<span class="string">"Error"</span>))</span><br><span class="line">              .build(),</span><br><span class="line">       <span class="keyword">new</span> ResponseMessageBuilder()</span><br><span class="line">              .code(<span class="number">403</span>)</span><br><span class="line">              .message(<span class="string">"èµ„æºä¸å¯ç”¨"</span>)</span><br><span class="line">              .build()</span><br><span class="line">));</span><br></pre></td></tr></table></figure>



</li>
</ol>
<ol start="5">
<li><p>æ¥å£ç»Ÿä¸€æ·»åŠ å‚æ•°ï¼Œæ¯”å¦‚token:</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Bean</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> Docket <span class="title">createRestApi</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="comment">// æ·»åŠ è¯·æ±‚å‚æ•°ï¼Œæˆ‘ä»¬è¿™é‡ŒæŠŠtokenä½œä¸ºè¯·æ±‚å¤´éƒ¨å‚æ•°ä¼ å…¥åç«¯</span></span><br><span class="line">    ParameterBuilder parameterBuilder = <span class="keyword">new</span> ParameterBuilder();  </span><br><span class="line">    List&lt;Parameter&gt; parameters = <span class="keyword">new</span> ArrayList&lt;Parameter&gt;();  </span><br><span class="line">    parameterBuilder.name(<span class="string">"token"</span>).description(<span class="string">"ä»¤ç‰Œ"</span>)</span><br><span class="line">        .modelRef(<span class="keyword">new</span> ModelRef(<span class="string">"string"</span>)).parameterType(<span class="string">"header"</span>).required(<span class="keyword">false</span>).build();  </span><br><span class="line">    parameters.add(parameterBuilder.build());  </span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> Docket(DocumentationType.SWAGGER_2).apiInfo(apiInfo()).select()</span><br><span class="line">            .apis(RequestHandlerSelectors.any()).paths(PathSelectors.any())</span><br><span class="line">            .build().globalOperationParameters(parameters);</span><br><span class="line">   </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



</li>
</ol>
<ol start="6">
<li><p>ç¼–è¯‘è¿è¡Œé¡¹ç›®ï¼Œ<strong>è®¿é—®<a href="http://localhost:8080/swagger-ui.html" target="_blank" rel="noopener">http://localhost:8080/swagger-ui.html</a></strong></p>
</li>
<li><p>æ•ˆæœï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/250e9cb31d6e3b46266daeaa54143976-342585" alt="swaggerä¸»é¡µ"></p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/a7bfc5d46d4996878e85bf9d82dfe3a5-329449" alt="æ¥å£æµ‹è¯•"></p>
</li>
<li><p>ä¼˜åŠ¿ï¼š</p>
<ul>
<li>å¯ä»¥è½»æ¾çš„æ•´åˆåˆ°Spring Bootä¸­ï¼Œå¹¶ä¸Spring MVCç¨‹åºé…åˆç»„ç»‡å‡ºå¼ºå¤§RESTful APIæ–‡æ¡£</li>
<li>æ—¢å¯ä»¥å‡å°‘æˆ‘ä»¬åˆ›å»ºæ–‡æ¡£çš„å·¥ä½œé‡ï¼ŒåŒæ—¶è¯´æ˜å†…å®¹åˆæ•´åˆå…¥å®ç°ä»£ç ä¸­ï¼Œè®©ç»´æŠ¤æ–‡æ¡£å’Œä¿®æ”¹ä»£ç æ•´åˆä¸ºä¸€ä½“</li>
<li>Swagger2ä¹Ÿæä¾›äº†å¼ºå¤§çš„é¡µé¢æµ‹è¯•åŠŸèƒ½æ¥è°ƒè¯•æ¯ä¸ªRESTful API</li>
</ul>
</li>
<li><p>æ•´ä½“æµç¨‹ï¼š</p>
<ul>
<li>é€šè¿‡<code>@Configuration</code>æ³¨è§£ï¼Œè®©Springæ¥åŠ è½½è¯¥ç±»é…ç½®ï¼Œå†é€šè¿‡<code>@EnableSwagger2</code>æ³¨è§£æ¥å¯ç”¨Swagger2</li>
<li>å†é€šè¿‡<code>createRestApi</code>å‡½æ•°åˆ›å»º<code>Docket</code>çš„Beanä¹‹åï¼Œ<code>apiInfo()</code>ç”¨æ¥åˆ›å»ºè¯¥Apiçš„åŸºæœ¬ä¿¡æ¯ï¼ˆè¿™äº›åŸºæœ¬ä¿¡æ¯ä¼šå±•ç°åœ¨æ–‡æ¡£é¡µé¢ä¸­ï¼‰ã€‚<code>select()</code>å‡½æ•°è¿”å›ä¸€ä¸ª<code>ApiSelectorBuilder</code>å®ä¾‹ç”¨æ¥æ§åˆ¶å“ªäº›æ¥å£æš´éœ²ç»™Swaggeræ¥å±•ç°ï¼Œæœ¬ä¾‹é‡‡ç”¨æŒ‡å®šæ‰«æçš„åŒ…è·¯å¾„æ¥å®šä¹‰ï¼ŒSwaggerä¼šæ‰«æè¯¥åŒ…ä¸‹æ‰€æœ‰Controllerå®šä¹‰çš„APIï¼Œå¹¶äº§ç”Ÿæ–‡æ¡£å†…å®¹ï¼ˆé™¤äº†è¢«<code>@ApiIgnore</code>æŒ‡å®šçš„è¯·æ±‚ï¼‰</li>
<li>æ§åˆ¶å™¨æ·»åŠ swaggeræ³¨è§£</li>
</ul>
</li>
</ol>
<h2 id="Swaggeræ³¨è§£è¯´æ˜"><a href="#Swaggeræ³¨è§£è¯´æ˜" class="headerlink" title="Swaggeræ³¨è§£è¯´æ˜"></a>Swaggeræ³¨è§£è¯´æ˜</h2><h3 id="Api"><a href="#Api" class="headerlink" title="@Api"></a>@Api</h3><ol>
<li>ç”¨æ¥è®¾ç½®å¯¹æ§åˆ¶å™¨çš„æè¿°ï¼Œä¿®é¥°æ•´ä¸ªç±»ï¼Œç”¨äº<code>Controller</code>ç±»ä¸Š</li>
<li>tags=â€è¯´æ˜è¯¥ç±»çš„ä½œç”¨ï¼Œå¯ä»¥åœ¨UIç•Œé¢ä¸Šçœ‹åˆ°çš„æ³¨è§£â€</li>
<li>value=â€è¯¥å‚æ•°æ²¡ä»€ä¹ˆæ„ä¹‰ï¼Œåœ¨UIç•Œé¢ä¸Šä¹Ÿçœ‹åˆ°ï¼Œæ‰€ä»¥ä¸éœ€è¦é…ç½®â€</li>
</ol>
<h3 id="ApiOperation"><a href="#ApiOperation" class="headerlink" title="@ApiOperation"></a>@ApiOperation</h3><ol>
<li>ç”¨æ¥è®¾ç½®å¯¹æ¥å£çš„æè¿°ï¼Œç”¨åœ¨<code>Controller</code>ç±»çš„æ–¹æ³•ä¸Š</li>
<li>value=â€è¯´æ˜æ–¹æ³•çš„ç”¨é€”ã€ä½œç”¨â€</li>
<li>notes=â€æ–¹æ³•çš„å¤‡æ³¨è¯´æ˜â€</li>
</ol>
<h3 id="ApiIgnore"><a href="#ApiIgnore" class="headerlink" title="@ApiIgnore"></a>@ApiIgnore</h3><ol>
<li>Swagger æ–‡æ¡£ä¸ä¼šæ˜¾ç¤ºæ‹¥æœ‰è¯¥æ³¨è§£çš„æ¥å£</li>
</ol>
<h3 id="ApiImplicitParams-amp-ApiImplicitParam"><a href="#ApiImplicitParams-amp-ApiImplicitParam" class="headerlink" title="@ApiImplicitParams &amp; @ApiImplicitParam"></a>@ApiImplicitParams &amp; @ApiImplicitParam</h3><ol>
<li><p>@ApiImplicitParamsç”¨äºæè¿°æ¥å£çš„éå¯¹è±¡å‚æ•°é›†</p>
</li>
<li><p>@ApiImplicitParamç”¨äºæè¿°æ¥å£çš„éå¯¹è±¡å‚æ•°</p>
</li>
<li><p>å¯ä»¥é…ç½®å‚æ•°çš„ä¸­æ–‡å«ä¹‰ï¼Œä¹Ÿå¯ä»¥ç»™å‚æ•°è®¾ç½®é»˜è®¤å€¼ï¼Œè¿™æ ·åœ¨æ¥å£æµ‹è¯•çš„æ—¶å€™å¯ä»¥é¿å…æ‰‹åŠ¨è¾“å…¥</p>
</li>
<li><p>æœ‰å¤šä¸ªå‚æ•°ï¼Œåˆ™éœ€è¦ä½¿ç”¨å¤šä¸ª@ApiImplicitParamæ³¨è§£æ¥æè¿°ï¼Œå¤šä¸ª@ApiImplicitParamæ³¨è§£éœ€è¦æ”¾åœ¨ä¸€ä¸ª@ApiImplicitParamsæ³¨è§£ä¸­</p>
</li>
<li><p><strong>@ApiImplicitParamæ³¨è§£ä¸­è™½ç„¶å¯ä»¥æŒ‡å®šå‚æ•°æ˜¯å¿…å¡«çš„ï¼Œä½†æ˜¯å´ä¸èƒ½ä»£æ›¿@RequestParam(required = true)ï¼Œå¿…å¡«åªæ˜¯åœ¨Swagger2æ¡†æ¶å†…å¿…å¡«ï¼ŒæŠ›å¼ƒäº†Swagger2ï¼Œè¿™ä¸ªé™åˆ¶å°±æ²¡ç”¨äº†</strong></p>
</li>
<li><p>ç¤ºä¾‹:</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@RequestMapping</span>(value = <span class="string">"/"</span>,method = RequestMethod.GET)</span><br><span class="line"><span class="meta">@ApiOperation</span>(value = <span class="string">"GET è¯·æ±‚ç¤ºä¾‹"</span>, notes = <span class="string">"/GETè¯·æ±‚è¯´æ˜"</span>, httpMethod = <span class="string">"GET"</span>)</span><br><span class="line"><span class="meta">@ApiImplicitParams</span>(&#123;</span><br><span class="line">            <span class="meta">@ApiImplicitParam</span>(name = <span class="string">"username"</span>, value = <span class="string">"ç”¨æˆ·å"</span>, defaultValue = <span class="string">"WanderROS"</span>,paramType=<span class="string">"query"</span>),</span><br><span class="line">            <span class="meta">@ApiImplicitParam</span>(name = <span class="string">"address"</span>, value = <span class="string">"ç”¨æˆ·åœ°å€"</span>, defaultValue = <span class="string">"æ— é”¡"</span>, required = <span class="keyword">true</span>,paramType=<span class="string">"query"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    )</span><br><span class="line">    <span class="function"><span class="keyword">public</span> HashMap&lt;Object,Object&gt; <span class="title">addUser</span><span class="params">(@RequestParam String username, @RequestParam(required = <span class="keyword">true</span>)</span> String address,@<span class="title">RequestParam</span><span class="params">(required = <span class="keyword">true</span>)</span>   User user) </span>&#123;</span><br><span class="line">        HashMap&lt;Object,Object&gt; map=<span class="keyword">new</span> HashMap();</span><br><span class="line">        map.put(<span class="string">"username"</span>,username);</span><br><span class="line">        map.put(<span class="string">"address"</span>,address);</span><br><span class="line">        <span class="keyword">return</span> map;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>è¯´æ˜:</p>
<ol>
<li>paramTypeçš„ç±»å‹åªæœ‰ä»¥ä¸‹å‡ ç§ï¼ˆå‚æ•°æ”¾åœ¨å“ªä¸ªåœ°æ–¹ï¼‰:<ul>
<li>header â€“&gt; è¯·æ±‚å‚æ•°çš„è·å–ï¼š@RequestHeader</li>
<li>query â€“&gt; è¯·æ±‚å‚æ•°çš„è·å–ï¼š@RequestParam</li>
<li>pathï¼ˆç”¨äºrestfulæ¥å£ï¼‰â€“&gt; è¯·æ±‚å‚æ•°çš„è·å–ï¼š@PathVariable</li>
<li>bodyï¼ˆä¸å¸¸ç”¨ï¼‰â€“&gt; ä»¥æµçš„å½¢å¼æäº¤ ä»…æ”¯æŒPOST</li>
<li>formï¼ˆä¸å¸¸ç”¨ï¼‰â€“&gt; ä»¥formè¡¨å•çš„å½¢å¼æäº¤ ä»…æ”¯æŒPOST   </li>
</ul>
</li>
<li>defaultValueï¼šå‚æ•°é»˜è®¤å€¼</li>
<li>nameï¼šå‚æ•°å</li>
<li>valueï¼šå‚æ•°çš„æ±‰å­—è¯´æ˜ã€è§£é‡Š</li>
<li>requiredï¼šå‚æ•°æ˜¯å¦å¿…é¡»ä¼ </li>
</ol>
</li>
<li><p>æ•ˆæœï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/a05d92099d0e5d73d306cc386bc07b14-157506" alt="@ApiImplicitParams"></p>
</li>
</ol>
<h3 id="ApiModel-amp-ApiModelProperty"><a href="#ApiModel-amp-ApiModelProperty" class="headerlink" title="@ApiModel &amp; @ApiModelProperty"></a>@ApiModel &amp; @ApiModelProperty</h3><ol>
<li><p>ä¸€èˆ¬ç”¨åœ¨poståˆ›å»ºä½¿ç”¨@RequestBodyè¿™æ ·çš„åœºæ™¯ï¼Œè¯·æ±‚å‚æ•°æ— æ³•ä½¿ç”¨@ApiImplicitParamæ³¨è§£è¿›è¡Œæè¿°çš„æ—¶å€™</p>
</li>
<li><p>@ApiModelç”¨æ¥è®¾ç½®æ¥å£ç›¸å…³å®ä½“çš„æè¿°</p>
</li>
<li><p>@ApiModelPropertyç”¨æ¥è®¾ç½®å®ä½“å±æ€§çš„ç›¸å…³æè¿°</p>
</li>
<li><p>ç¤ºä¾‹:</p>
<ul>
<li>æ¨¡å‹ï¼š</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@ApiModel</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</span><br><span class="line">    <span class="meta">@ApiModelProperty</span>(value = <span class="string">"ç”¨æˆ·id"</span>,example=<span class="string">"12"</span>)</span><br><span class="line">    <span class="keyword">private</span> Integer id;</span><br><span class="line">    <span class="meta">@ApiModelProperty</span>(value = <span class="string">"ç”¨æˆ·å"</span>,example = <span class="string">"WanderROS"</span>)</span><br><span class="line">    <span class="keyword">private</span> String username;</span><br><span class="line">    <span class="meta">@ApiModelProperty</span>(value = <span class="string">"ç”¨æˆ·åœ°å€"</span>,example = <span class="string">"æ— é”¡"</span>)</span><br><span class="line">    <span class="keyword">private</span> String address;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Integer <span class="title">getId</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">User</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setId</span><span class="params">(Integer id)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.id = id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getUsername</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> username;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setUsername</span><span class="params">(String username)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.username = username;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getAddress</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> address;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAddress</span><span class="params">(String address)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.address = address;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><p>æ§åˆ¶æ¥å£ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@ApiOperation</span>(<span class="string">"æ ¹æ®idæ›´æ–°ç”¨æˆ·çš„æ¥å£"</span>)</span><br><span class="line"><span class="meta">@PutMapping</span>(<span class="string">"/test"</span>)</span><br><span class="line"><span class="function"><span class="keyword">public</span> User <span class="title">usertest</span><span class="params">(@RequestBody  User user)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> user;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ³¨æ„ï¼š</p>
<ul>
<li>æ¨¡å‹å¿…é¡»è¦æœ‰æ„é€ ä½“ï¼Œä¸ç„¶åœ¨Modelä¸­æ˜¯æ˜¾ç¤ºä¸å‡ºæ¥çš„</li>
<li>ä½¿ç”¨@RequestBodyèƒ½å¤Ÿè¿›è¡Œç±»çš„å†™å…¥ï¼Œèƒ½åœ¨Data Typeä¸­æ˜¾ç¤ºï¼Œå¹¶ä¸”èƒ½ä¼ å‚</li>
</ul>
</li>
</ul>
</li>
<li><p>æ•ˆæœï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/f3869e16e99d07e875810ae1f0f7885f-217719" alt="Modelæ•ˆæœ"></p>
</li>
</ol>
<h3 id="ApiResponses-amp-ApiResponse"><a href="#ApiResponses-amp-ApiResponse" class="headerlink" title="@ApiResponses &amp; @ApiResponse"></a>@ApiResponses &amp; @ApiResponse</h3><ol>
<li><p>@ApiResponsesï¼šç”¨äºè¯·æ±‚çš„æ–¹æ³•ä¸Šï¼Œè¡¨ç¤ºä¸€ç»„å“åº”</p>
</li>
<li><p>@ApiResponseï¼šç”¨åœ¨@ApiResponsesä¸­ï¼Œä¸€èˆ¬ç”¨äºè¡¨è¾¾ä¸€ä¸ªé”™è¯¯çš„å“åº”ä¿¡æ¯</p>
</li>
<li><p>å‚æ•°ï¼š</p>
<ol>
<li>codeï¼šæ•°å­—ï¼Œä¾‹å¦‚400</li>
<li>messageï¼šä¿¡æ¯ï¼Œä¾‹å¦‚â€è¯·æ±‚å‚æ•°æ²¡å¡«å¥½â€</li>
<li>responseï¼šæŠ›å‡ºå¼‚å¸¸çš„ç±»</li>
</ol>
</li>
<li><p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@ApiOperation</span>(value = <span class="string">"select1è¯·æ±‚"</span>,notes = <span class="string">"å¤šä¸ªå‚æ•°ï¼Œå¤šç§çš„æŸ¥è¯¢å‚æ•°ç±»å‹"</span>)</span><br><span class="line"><span class="meta">@ApiResponses</span>(&#123;</span><br><span class="line">    <span class="meta">@ApiResponse</span>(code=<span class="number">400</span>,message=<span class="string">"è¯·æ±‚å‚æ•°æ²¡å¡«å¥½"</span>),</span><br><span class="line">    <span class="meta">@ApiResponse</span>(code=<span class="number">404</span>,message=<span class="string">"è¯·æ±‚è·¯å¾„æ²¡æœ‰æˆ–é¡µé¢è·³è½¬è·¯å¾„ä¸å¯¹"</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h2 id="ä¼˜ç¼ºç‚¹"><a href="#ä¼˜ç¼ºç‚¹" class="headerlink" title="ä¼˜ç¼ºç‚¹"></a>ä¼˜ç¼ºç‚¹</h2><h3 id="ä¼˜ç‚¹"><a href="#ä¼˜ç‚¹" class="headerlink" title="ä¼˜ç‚¹"></a>ä¼˜ç‚¹</h3><ol>
<li>èŠ‚çœäº†å¤§é‡æ‰‹å†™æ¥å£æ–‡æ¡£çš„æ—¶é—´</li>
<li>é€šè¿‡æ³¨è§£è‡ªåŠ¨ç”Ÿæˆåœ¨çº¿æ–‡æ¡£</li>
<li>æ¥å£åœ¨çº¿è°ƒç”¨è°ƒè¯•</li>
</ol>
<h3 id="ç¼ºç‚¹"><a href="#ç¼ºç‚¹" class="headerlink" title="ç¼ºç‚¹"></a>ç¼ºç‚¹</h3><ol>
<li>ä»£ç è€¦åˆï¼Œéœ€è¦æ³¨è§£æ”¯æŒ</li>
<li>ä»£ç ä¾µå…¥æ€§æ¯”è¾ƒå¼º</li>
<li>æ— æ³•æµ‹è¯•é”™è¯¯çš„è¯·æ±‚æ–¹å¼ã€å‚æ•°ç­‰</li>
</ol>
<h3 id="æ‰‹åŠ¨å†™APIæ–‡æ¡£çš„ç—›ç‚¹"><a href="#æ‰‹åŠ¨å†™APIæ–‡æ¡£çš„ç—›ç‚¹" class="headerlink" title="æ‰‹åŠ¨å†™APIæ–‡æ¡£çš„ç—›ç‚¹"></a>æ‰‹åŠ¨å†™APIæ–‡æ¡£çš„ç—›ç‚¹</h3><ol>
<li>æ–‡æ¡£æ›´æ–°äº¤æµä¸åŠæ—¶</li>
<li>æ¥å£è¿”å›ç»“æœä¸æ˜ç¡®</li>
<li>ä¸èƒ½ç›´æ¥åœ¨çº¿æµ‹è¯•æ¥å£ï¼Œé€šå¸¸éœ€è¦ä½¿ç”¨å·¥å…·ï¼Œæ¯”å¦‚postman</li>
<li>æ¥å£æ–‡æ¡£å¤ªå¤šï¼Œä¸å¥½ç®¡ç†</li>
</ol>
<h2 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h2><ul>
<li>æ²¡æœ‰ç¼–å†™Swaggeré…ç½®ç±»ï¼Œä¼šå‡ºç°é”™è¯¯</li>
<li>å¦‚æœparamTypeä¸æ–¹æ³•å‚æ•°è·å–ä½¿ç”¨çš„æ³¨è§£ä¸ä¸€è‡´ï¼Œä¼šç›´æ¥å½±å“åˆ°å‚æ•°çš„æ¥æ”¶</li>
<li>APIåˆ—è¡¨ä¸­åŒä¸€ä¸ªæ–¹æ³•å‡ºç°å¤šä¸ªï¼Œéœ€è¦åœ¨RequestMappingä¸­æŒ‡å®šmethodç±»å‹</li>
</ul>
<hr>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>ä½“ä¸Šæ¥è¯´ï¼ŒSwaggerçš„é…ç½®è¿˜æ˜¯æ¯”è¾ƒç®€å•çš„ï¼Œå¹¶ä¸”Swaggerèƒ½å¤Ÿè‡ªåŠ¨å¸®æˆ‘ä»¬ç”Ÿæˆæ–‡æ¡£ç¡®å®ä¸ºæˆ‘ä»¬èŠ‚çœäº†ä¸å°‘å·¥ä½œï¼Œå¯¹åç»­çš„ç»´æŠ¤ä¹Ÿæä¾›äº†å¾ˆå¤§çš„å¸®åŠ©ã€‚é™¤æ­¤ä¹‹å¤–ï¼ŒSwaggerè¿˜èƒ½æ ¹æ®é…ç½®è‡ªåŠ¨ä¸ºæˆ‘ä»¬ç”Ÿæˆæµ‹è¯•çš„æ•°æ®ï¼Œå¹¶ä¸”æä¾›å¯¹åº”çš„HTTPæ–¹æ³•ï¼Œè¿™å¯¹æˆ‘ä»¬çš„è‡ªæµ‹å’Œè”è°ƒå·¥ä½œä¹Ÿæœ‰ä¸å°‘çš„å¸®åŠ©ï¼Œæ‰€ä»¥æˆ‘è¿˜æ˜¯æ¨èå¤§å®¶åœ¨æ—¥å¸¸çš„å¼€å‘ä¸­å»ä½¿ç”¨Swaggerï¼Œåº”è¯¥å¯ä»¥å¸®åŠ©å¤§å®¶åœ¨ä¸€å®šç¨‹åº¦ä¸Šæé«˜å·¥ä½œæ•ˆç‡ã€‚Springfox-Swagger2å¯ä»¥é€šè¿‡æ‰«æä»£ç å»ç”Ÿæˆæè¿°æ–‡ä»¶ï¼Œè¿™æ ·è¿æè¿°æ–‡ä»¶éƒ½ä¸éœ€è¦å†å»ç»´æŠ¤äº†ï¼Œæ‰€æœ‰çš„ä¿¡æ¯éƒ½åœ¨ä»£ç é‡Œé¢äº†ï¼åšåˆ°äº†<strong>ä»£ç å³æ¥å£æ–‡æ¡£ï¼Œæ¥å£æ–‡æ¡£å³ä»£ç ã€‚</strong>åœ¨é¡¹ç›®é‡Œä½¿ç”¨è¿™ä¸ªèƒ½å¤Ÿå¤§å¤§æ–¹ä¾¿è‡ªå·±çš„å¼€å‘ï¼å¸Œæœ›ä»¥åå¤šå¤šä½¿ç”¨ï¼Œä¸è¦å¿˜è®°äº†æ¥å£ç±»è¿˜æœ‰è¿™ä¹ˆä¸€ä¸ªå¥½çš„å·¥å…·ï¼</p>
]]></content>
      <categories>
        <category>SpringBoot</category>
      </categories>
  </entry>
  <entry>
    <title>SpringBoot Thymeleaf Qucik Start</title>
    <url>/2020/05/25/SpringBoot-Thymeleaf-Qucik-Start/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p><a href="https://www.thymeleaf.org/" target="_blank" rel="noopener">Thymeleaf</a>æ˜¯ç”¨æ¥å¼€å‘Webå’Œç‹¬ç«‹ç¯å¢ƒé¡¹ç›®çš„æœåŠ¡å™¨ç«¯çš„Javaæ¨¡ç‰ˆå¼•æ“ï¼ŒThymeleafä¸SpringMVCçš„è§†å›¾æŠ€æœ¯ï¼ŒåŠSpringBootçš„è‡ªåŠ¨åŒ–é…ç½®é›†æˆéå¸¸å®Œç¾ï¼Œå‡ ä¹æ²¡æœ‰ä»»ä½•æˆæœ¬ï¼Œåªç”¨å…³æ³¨Thymeleafçš„è¯­æ³•å³å¯ï¼è¿™ä½¿å¾—ä½¿ç”¨SpringBootå¼€å‘å¸¦æœ‰å‰ç«¯é¡µé¢å±•ç¤ºçš„B/Sç»“æ„çš„é¡¹ç›®éå¸¸çš„ç®€å•ï¼SpringBootå®˜æ–¹æ¨èä½¿ç”¨Thymeleafæ¨¡æ¿å¼•æ“ï¼Œå¯¹äºå®ƒçš„æ”¯æŒåº¦çœŸçš„æ˜¯æ²¡è¯è¯´ï¼Œé‚£ä¹ˆå¤šçš„æ¨¡æ¿å¼•æ“æŠ€æœ¯ï¼Œå­¦ä¼šå…¶ä¸­çš„ä¸€ç§å°±å¯ä»¥äº†ï¼Œä¸ç®¡å¥½åï¼Œè¿™é‡Œå¼€å§‹å­¦ä¹ Thymleafï¼Œå¦‚æœæœ‰éœ€æ±‚ä¹Ÿä¼šä¼˜å…ˆè€ƒè™‘ä½¿ç”¨Thymeleafæ¨¡æ¿å¼•æ“æŠ€æœ¯ï¼Thymeleaf is a modern server-side Java template engine for both web and standalone environments.</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/bb95d9de992453f9311b9de3d245537e-29003" alt="Thymeleafå®˜æ–¹LOGO"></p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="åŸºæœ¬çŸ¥è¯†"><a href="#åŸºæœ¬çŸ¥è¯†" class="headerlink" title="åŸºæœ¬çŸ¥è¯†"></a>åŸºæœ¬çŸ¥è¯†</h2><ol>
<li><p>ç›®æ ‡ï¼šå°†ä¼˜é›…çš„è‡ªç„¶æ¨¡æ¿å¸¦åˆ°å¼€å‘å·¥ä½œæµç¨‹ä¸­â€”HTMLèƒ½å¤Ÿåœ¨æµè§ˆå™¨ä¸­æ­£ç¡®æ˜¾ç¤ºï¼Œå¹¶ä¸”å¯ä»¥ä½œä¸ºé™æ€åŸå‹ï¼Œä»è€Œåœ¨å¼€å‘å›¢é˜Ÿä¸­å®ç°æ›´å¼ºå¤§çš„åä½œï¼›</p>
</li>
<li><p>æ”¯æŒï¼šèƒ½å¤Ÿå¤„ç†HTMLï¼ŒXMLï¼ŒJavaScriptï¼ŒCSSç”šè‡³çº¯æ–‡æœ¬ï¼›</p>
</li>
<li><p>SpringBootæ”¯æŒçš„æ¨¡æ¿å¼•æ“ï¼š</p>
<ul>
<li>Thymeleaf</li>
<li>FreeMarker</li>
<li>Velocity</li>
<li>Groovy</li>
<li><del>JSP</del>ï¼ˆçœŸçš„ä¸å¤ªæ¨èä½¿ç”¨ï¼Œå¿…é¡»æ‰“åŒ…ä¸ºwarç±»å‹ï¼Œå„ç§å‘ï¼‰</li>
</ul>
</li>
<li><p>ç‰¹ç‚¹ï¼š</p>
<ul>
<li>åŠ¨é™ç»“åˆï¼šåœ¨æœ‰ç½‘ç»œå’Œæ— ç½‘ç»œçš„ç¯å¢ƒä¸‹çš†å¯è¿è¡Œï¼Œæ”¯æŒhtml åŸå‹ï¼Œç„¶ååœ¨ html æ ‡ç­¾é‡Œå¢åŠ é¢å¤–çš„å±æ€§æ¥è¾¾åˆ°æ¨¡æ¿+æ•°æ®çš„å±•ç¤ºæ–¹å¼</li>
<li>å¼€ç®±å³ç”¨ï¼šæä¾›æ ‡å‡†å’ŒSpringæ ‡å‡†ä¸¤ç§æ–¹è¨€ï¼Œå¯ä»¥ç›´æ¥å¥—ç”¨æ¨¡æ¿å®ç°JSTLã€ OGNLè¡¨è¾¾å¼æ•ˆæœï¼Œé¿å…æ¯å¤©å¥—æ¨¡æ¿ã€æ”¹jstlã€æ”¹æ ‡ç­¾çš„å›°æ‰°</li>
<li>å¤šæ–¹è¨€æ”¯æŒï¼šæä¾›springæ ‡å‡†æ–¹è¨€å’Œä¸€ä¸ªä¸ SpringMVC å®Œç¾é›†æˆçš„å¯é€‰æ¨¡å—ï¼Œå¯ä»¥å¿«é€Ÿçš„å®ç°è¡¨å•ç»‘å®šã€å±æ€§ç¼–è¾‘å™¨ã€å›½é™…åŒ–ç­‰åŠŸèƒ½</li>
<li>SpringBootå®Œç¾æ•´åˆï¼šSpringBootæä¾›äº†Thymeleafçš„é»˜è®¤é…ç½®ï¼Œå¹¶ä¸”ä¸ºThymeleafè®¾ç½®äº†è§†å›¾è§£æå™¨</li>
</ul>
</li>
<li><p>åœ¨SpringBootä¸­å¯ä»¥éå¸¸æ–¹ä¾¿åœ°ä½¿ç”¨Thymeleafä»¥åŠBootstrapå¼€å‘éå¸¸å¥½çœ‹çš„å‰ç«¯é¡µé¢ï¼Œå¹¶ä¸”Thymleafæ¨¡æ¿è¯­è¨€çœ‹èµ·æ¥å’ŒHTMLè¯­è¨€æ²¡å¤ªå¤§åŒºåˆ«ï¼</p>
</li>
<li><p>æœ‰å¾ˆå¤šå…¬å¸éƒ½åœ¨ä½¿ç”¨Thymeleaf</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/60f4a4cba749288238620de4f3346f80-78943" alt="è°åœ¨ä½¿ç”¨"></p>
</li>
</ol>
<h2 id="å¿«é€Ÿä½¿ç”¨"><a href="#å¿«é€Ÿä½¿ç”¨" class="headerlink" title="å¿«é€Ÿä½¿ç”¨"></a>å¿«é€Ÿä½¿ç”¨</h2><ol>
<li><p>æ·»åŠ ä¾èµ–ï¼ˆä¿®æ”¹pom.xmlï¼‰:</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- Thymeleaf --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-thymeleaf<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- Spring Web --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>æ·»åŠ é…ç½®ï¼ˆä¿®æ”¹application.propertiesï¼‰ï¼š</p>
<figure class="highlight properties"><table><tr><td class="code"><pre><span class="line"><span class="comment">#### Thymeleaf é…ç½® #####</span></span><br><span class="line"><span class="comment">#å¼€å‘é…ç½®ä¸ºfalseï¼Œé¿å…ä¿®æ”¹æ¨¡æ¿è¿˜éœ€è¦é‡å¯æœåŠ¡å™¨</span></span><br><span class="line"><span class="meta">spring.thymeleaf.cache</span>=<span class="string">false</span></span><br><span class="line"><span class="meta">spring.resources.chain.strategy.content.enabled</span>=<span class="string">true</span></span><br><span class="line"><span class="meta">spring.resources.chain.strategy.content.paths</span>=<span class="string">/**</span></span><br><span class="line"><span class="comment">#æ¨¡æ¿çš„æ¨¡å¼ï¼Œæ”¯æŒHTMLã€XMLã€TEXTã€JavaScript</span></span><br><span class="line"><span class="meta">spring.thymeleaf.mode</span>=<span class="string">HTML</span></span><br><span class="line"><span class="comment">#ç¼–ç æ ¼å¼</span></span><br><span class="line"><span class="meta">spring.thymeleaf.encoding</span>=<span class="string">UTF-8</span></span><br><span class="line"><span class="comment">#é…ç½®æ¨¡æ¿è·¯å¾„ï¼Œé»˜è®¤æ˜¯templatesï¼Œå¯ä»¥ä¸ç”¨é…ç½®</span></span><br><span class="line"><span class="meta">spring.thymeleaf.prefix</span>=<span class="string">classpath:/templates/</span></span><br><span class="line"><span class="comment">#å†…å®¹ç±»åˆ«</span></span><br><span class="line"><span class="meta">spring.thymeleaf.servlet.content-type</span>=<span class="string">text/html</span></span><br><span class="line"><span class="comment">#åç¼€</span></span><br><span class="line"><span class="meta">spring.thymeleaf.suffix</span>=<span class="string">.html</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>æ·»åŠ æ¨¡æ¿ï¼ˆåœ¨resources/templatesç›®å½•ä¸‹æ·»åŠ æ¨¡æ¿htmlæ–‡ä»¶ï¼‰ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- index.html--&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- æ˜¯Thyme leaf å‘½åç©ºé—´ï¼Œé€šè¿‡å¼•å…¥è¯¥--&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- å‘½åç©ºé—´å°±å¯ä»¥åœ¨HTML æ–‡ä»¶ä¸­ä½¿ç”¨Thymeleaf æ ‡ç­¾è¯­è¨€ï¼Œç”¨å…³é”®å­—â€œ th â€ æ¥æ ‡æ³¨ã€‚--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">xmlns:th</span>=<span class="string">"http://www.thymeleaf.org"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Show Index<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"https://cdn.staticfile.org/twitter-bootstrap/3.3.7/css/bootstrap.min.css"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.staticfile.org/jquery/2.1.1/jquery.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.staticfile.org/twitter-bootstrap/3.3.7/js/bootstrap.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--å¼•å…¥å…¬å…±é¡¶æ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">th:replace</span>=<span class="string">"common::topbar"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">table</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>--å¹´é¾„--<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>å§“å<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span> <span class="attr">th:text</span>=<span class="string">"$&#123;age&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span> <span class="attr">th:text</span>=<span class="string">"$&#123;name&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">table</span> <span class="attr">class</span>=<span class="string">"table table-bordered"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">caption</span>&gt;</span>è¾¹æ¡†è¡¨æ ¼å¸ƒå±€<span class="tag">&lt;/<span class="name">caption</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">thead</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">th</span>&gt;</span>åç§°<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">th</span>&gt;</span>åŸå¸‚<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">th</span>&gt;</span>é‚®ç¼–<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">thead</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tbody</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>Tanmay<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>Bangalore<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>560001<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>Sachin<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>Mumbai<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>400003<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>Uma<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>Pune<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>411027<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tbody</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">table</span> <span class="attr">class</span>=<span class="string">"table table-hover"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">caption</span>&gt;</span>æ‚¬åœè¡¨æ ¼å¸ƒå±€<span class="tag">&lt;/<span class="name">caption</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">thead</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">th</span>&gt;</span>åç§°<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">th</span>&gt;</span>åŸå¸‚<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">th</span>&gt;</span>é‚®ç¼–<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">thead</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tbody</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>Tanmay<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>Bangalore<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>560001<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>Sachin<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>Mumbai<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>400003<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>Uma<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>Pune<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>411027<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tbody</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">"$&#123;#calendars.format(today,'dd-MMMM-yyyy')&#125;"</span>&gt;</span>13 May 2011<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--å¼•å…¥å…¬å…±åº•éƒ¨æ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">th:replace</span>=<span class="string">"common::bottombar"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- common.html--&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- æ˜¯Thyme leaf å‘½åç©ºé—´ï¼Œé€šè¿‡å¼•å…¥è¯¥--&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- å‘½åç©ºé—´å°±å¯ä»¥åœ¨HTML æ–‡ä»¶ä¸­ä½¿ç”¨Thymeleaf æ ‡ç­¾è¯­è¨€ï¼Œç”¨å…³é”®å­—â€œ th â€ æ¥æ ‡æ³¨ã€‚--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">xmlns:th</span>=<span class="string">"http://www.thymeleaf.org"</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--é¡¶æ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">nav</span>  <span class="attr">th:fragment</span>=<span class="string">"topbar"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"top"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">align</span>=<span class="string">"right"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">class</span>=<span class="string">"btn-sign"</span>  <span class="attr">style</span>=<span class="string">"vertical-align:middle"</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>å…è´¹æ³¨å†Œ<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">class</span>=<span class="string">"btn-log"</span> <span class="attr">style</span>=<span class="string">"vertical-align:middle"</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>é©¬ä¸Šç™»å½•<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">nav</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--åº•éƒ¨ä¿¡æ¯å±•ç¤ºæ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">nav</span> <span class="attr">th:fragment</span>=<span class="string">"bottombar"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"foot"</span> <span class="attr">style</span>=<span class="string">"background-color:#323232 ;margin-top: 20px;"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span> <span class="attr">style</span>=<span class="string">"color: #C7C7C7"</span> <span class="attr">align</span>=<span class="string">"center"</span>&gt;</span><span class="tag">&lt;<span class="name">span</span> <span class="attr">style</span>=<span class="string">"color: #556666;"</span>&gt;</span>wanderros@xx.com<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="symbol">&amp;nbsp;</span><span class="symbol">&amp;nbsp;</span>wanderros<span class="tag">&lt;/<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span> <span class="attr">style</span>=<span class="string">"color:#556666"</span> <span class="attr">align</span>=<span class="string">"center"</span> ;&gt;</span>XXXXå…¬å¸æ³¨å†Œ<span class="tag">&lt;/<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span> <span class="attr">style</span>=<span class="string">"color:#C7C7C7;"</span> <span class="attr">align</span>=<span class="string">"center"</span>&gt;</span>å®¢æœç”µè¯:+86-xxxxxxx<span class="tag">&lt;/<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">nav</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>ç¼–å†™æ§åˆ¶å™¨ä»£ç ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.wanderros.thymeleaf.thymeleaf.thymeleafcontroller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Controller;</span><br><span class="line"><span class="keyword">import</span> org.springframework.ui.Model;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.GetMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RestController;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.ModelAndView;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> java.lang.<span class="keyword">module</span>.ModuleDescriptor;</span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">controller</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping</span>(<span class="string">"/test"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> ModelAndView <span class="title">test</span><span class="params">(HttpServletRequest request)</span></span>&#123;</span><br><span class="line">        System.out.println(request);</span><br><span class="line">        ModelAndView modelAndView=<span class="keyword">new</span> ModelAndView();</span><br><span class="line">        modelAndView.addObject(<span class="string">"age"</span>,<span class="number">23</span>);</span><br><span class="line">        modelAndView.addObject(<span class="string">"name"</span>,<span class="string">"wanderros3"</span>);</span><br><span class="line">        modelAndView.setViewName(<span class="string">"index"</span>);</span><br><span class="line">        <span class="keyword">return</span> modelAndView;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping</span>(<span class="string">"/"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">index</span><span class="params">(Model model)</span></span>&#123;</span><br><span class="line">        String name = <span class="string">"wander"</span>;</span><br><span class="line">        model.addAttribute(<span class="string">"name"</span>, name);</span><br><span class="line">        model.addAttribute(<span class="string">"age"</span>,<span class="number">24</span>);</span><br><span class="line">        model.addAttribute(<span class="string">"today"</span>,<span class="keyword">new</span> Date());</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"/index"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@RequestMapping</span>(<span class="string">"/test2"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">index2</span><span class="params">(Model model)</span></span>&#123;</span><br><span class="line">        String name = <span class="string">"test"</span>;</span><br><span class="line">        model.addAttribute(<span class="string">"name"</span>, name);</span><br><span class="line">        model.addAttribute(<span class="string">"age"</span>,<span class="number">24</span>);</span><br><span class="line">        model.addAttribute(<span class="string">"today"</span>,<span class="keyword">new</span> Date());</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"/index"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>æ³¨æ„æ§åˆ¶å™¨çš„æ³¨è§£åªèƒ½ä½¿ç”¨@Controllerï¼Œä¸èƒ½ä½¿ç”¨@RestController</li>
<li>SpringBooté»˜è®¤æ˜¯åœ¨resourcesç›®å½•ä¸‹çš„templatesä¸‹æŸ¥æ‰¾Thymeleafæ¨¡æ¿å¼•æ“</li>
</ul>
</li>
<li><p>ç¼–è¯‘å¹¶è¿è¡Œ:</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/1d585ca2631ae3938076f5e0b248a58d-82317" alt="è¿è¡Œæ•ˆæœ"></p>
</li>
</ol>
<h2 id="Thymeleafè¯­æ³•ï¼ˆåŸºç¡€ï¼‰"><a href="#Thymeleafè¯­æ³•ï¼ˆåŸºç¡€ï¼‰" class="headerlink" title="Thymeleafè¯­æ³•ï¼ˆåŸºç¡€ï¼‰"></a>Thymeleafè¯­æ³•ï¼ˆåŸºç¡€ï¼‰</h2><ol>
<li><p>åœ¨ä½¿ç”¨thymleafæ—¶ï¼Œå¿…é¡»è¦åœ¨æ¨¡æ¿ä¸­æ·»åŠ å¤´ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">xmlns:th</span>=<span class="string">"http://www.thymeleaf.org"</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>ä½¿ç”¨thymeleafå°†åç«¯çš„å€¼åœ¨htmlé¡µé¢ä¸Šæ˜¾ç¤ºå¾ˆæ–¹ä¾¿ï¼Œ ä¸ç®¡æ˜¯å­—ç¬¦ä¸²ã€æ•°ç»„ã€å¯¹è±¡ã€é›†åˆå¤§è‡´éƒ½å·®ä¸å¤šï¼Œå¯ä»¥ç›´æ¥åœ¨é¡µé¢ä¸Šè¿›è¡Œæ•°æ®æ ¡éªŒï¼Œé€»è¾‘åˆ¤æ–­ç­‰ç­‰ï¼Œåœ¨JSé‡Œé¢å–åç«¯çš„å€¼ä¹Ÿå¾ˆç®€å•ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">var levle = [[$&#123;level&#125;]];   //thymeleafåœ¨Jsé‡Œé¢è·å–SpringMVCModelé‡Œé¢å†™çš„å€¼</span><br></pre></td></tr></table></figure>
</li>
<li><p>é™æ€æ–‡ä»¶å¼•ç”¨ï¼š</p>
<ul>
<li><p>æ–‡ä»¶è·¯å¾„ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/d39c6a6ba720a5c610431891f0484965-34695" alt="é™æ€æ–‡ä»¶è·¯å¾„"></p>
</li>
<li><p>åœ¨é¡µé¢ä¸­å¯ä»¥ä½¿ç”¨â€@{è·¯å¾„}â€æ¥å¼•ç”¨ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">th:src</span>=<span class="string">"@&#123;/js/main.js&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span> </span><br><span class="line"><span class="comment">&lt;!-- å¼•å…¥cssï¼Œè™½ç„¶ä¸Šé¢çš„cssè·¯å¾„ä¸å­˜åœ¨ï¼Œä½†æ˜¯å¯ä»¥ç±»æ¨ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">th:href</span>=<span class="string">"@&#123;/css/bootstrap.min.css&#125;"</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">type</span>=<span class="string">"text/css"</span> /&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>é¡µé¢ä¹‹é—´çš„è·³è½¬å¯ä»¥é€šè¿‡@{}æ¥å®ç°ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">th:href</span>=<span class="string">"@&#123;/show&#125;"</span>&gt;</span>è®¿é—®controlleræ–¹æ³•<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">th:href</span>=<span class="string">"@&#123;/static_index.html&#125;"</span>&gt;</span>è®¿é—®é™æ€é¡µé¢<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>é€»è¾‘å¤„ç†ï¼šæ‰€æœ‰çš„é¡µé¢æ¨¡ç‰ˆéƒ½å­˜åœ¨å„ç§åŸºç¡€é€»è¾‘å¤„ç†ï¼Œä¾‹å¦‚ï¼šåˆ¤æ–­ã€å¾ªç¯å¤„ç†æ“ä½œ</p>
<ul>
<li><p>è¿ç®—ç¬¦â€”â€”andã€orã€å…³ç³»æ¯”è¾ƒï¼ˆ&gt;ã€&lt;ã€&gt;=ã€&lt;=ã€==ã€!=ã€ltã€gtã€leã€geã€eqã€neï¼‰ç­‰</p>
</li>
<li><p>æ ·ä¾‹ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">th:if</span>=<span class="string">"$&#123;member.age lt 18&#125;"</span>&gt;</span></span><br><span class="line">	æœªæˆå¹´äººï¼</span><br><span class="line"><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">th:if</span>=<span class="string">"$&#123;member.name eq 'é˜¿ä¸‰'&#125;"</span>&gt;</span></span><br><span class="line">	æ¬¢è¿é˜¿ä¸‰æ¥è®¿é—®ï¼</span><br><span class="line"><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>é¡µé¢å¼•å…¥ï¼šå¸¸å¸¸éœ€è¦åœ¨ä¸€ä¸ªé¡µé¢å½“ä¸­å¼•å…¥å¦ä¸€ä¸ªé¡µé¢ï¼Œä¾‹å¦‚ï¼Œå…¬ç”¨çš„å¯¼èˆªæ ä»¥åŠé¡µè„šé¡µé¢</p>
<ul>
<li><p>th:replace</p>
</li>
<li><p>th:include</p>
</li>
<li><p>ä¸Šè¿°æ ·ä¾‹ä»£ç ä¸­æœ‰ä½¿ç”¨é¡µé¢å¼•å…¥ï¼Œä¸»è¦æ˜¯è¦æ³¨æ„è¿™ä¸¤ç§å¼•å…¥çš„åŒºåˆ«</p>
</li>
<li><p>å¼•å…¥éœ€è¦æœ‰å†…å®¹ï¼Œå†…å®¹é€šè¿‡ä½¿ç”¨ th:fragment=â€ xxxâ€ å¯¹ä¸€éƒ¨åˆ†ä»£ç å—å‘½åï¼ŒæŠ½å–åˆ°ä¸€ä¸ªhtmlé¡µé¢ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- æ˜¯Thyme leaf å‘½åç©ºé—´ï¼Œé€šè¿‡å¼•å…¥è¯¥--&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- å‘½åç©ºé—´å°±å¯ä»¥åœ¨HTML æ–‡ä»¶ä¸­ä½¿ç”¨Thymeleaf æ ‡ç­¾è¯­è¨€ï¼Œç”¨å…³é”®å­—â€œ th â€ æ¥æ ‡æ³¨ã€‚--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">xmlns:th</span>=<span class="string">"http://www.thymeleaf.org"</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--é¡¶æ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">nav</span>  <span class="attr">th:fragment</span>=<span class="string">"topbar"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"top"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">align</span>=<span class="string">"right"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">class</span>=<span class="string">"btn-sign"</span>  <span class="attr">style</span>=<span class="string">"vertical-align:middle"</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>å…è´¹æ³¨å†Œ<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">class</span>=<span class="string">"btn-log"</span> <span class="attr">style</span>=<span class="string">"vertical-align:middle"</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>é©¬ä¸Šç™»å½•<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">nav</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>è·å–è¯·æ±‚åŸŸã€SessionåŸŸé‡Œé¢çš„æ•°æ®ï¼š</p>
<ul>
<li>${param.x} è¿”å›åä¸ºx çš„ requestå‚æ•°ã€‚ï¼ˆå¯èƒ½æœ‰å¤šä¸ªå€¼ï¼‰</li>
<li>${session.x} è¿”å›åä¸ºxçš„Sessionå‚æ•°</li>
<li>${application.x} è¿”å›åä¸º servlet context çš„å‚æ•°</li>
</ul>
</li>
<li><p>æ—¥æœŸçš„è¾“å‡º:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">"$&#123;#calendars.format(today,'dd MMMM yyyy')&#125;"</span>&gt;</span>25 May 2020<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>å¾ªç¯ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">tr</span> <span class="attr">th:each</span>=<span class="string">"prod : $&#123;prods&#125;"</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">td</span> <span class="attr">th:text</span>=<span class="string">"$&#123;prod.name&#125;"</span>&gt;</span>Onions<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">td</span> <span class="attr">th:text</span>=<span class="string">"$&#123;prod.price&#125;"</span>&gt;</span>2.41<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">td</span> <span class="attr">th:text</span>=<span class="string">"$&#123;prod.inStock&#125;? #&#123;true&#125; : #&#123;false&#125;"</span>&gt;</span>yes<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>switchåˆ¤æ–­ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">th:switch</span>=<span class="string">"$&#123;user.role&#125;"</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">p</span> <span class="attr">th:case</span>=<span class="string">"'admin'"</span>&gt;</span>User is an administrator<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">p</span> <span class="attr">th:case</span>=<span class="string">"#&#123;roles.manager&#125;"</span>&gt;</span>User is a manager<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">p</span> <span class="attr">th:case</span>=<span class="string">"*"</span>&gt;</span>User is some other thing<span class="tag">&lt;/<span class="name">p</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>Thymeleafå†…ç½®å¯¹è±¡ï¼ˆè·å–è¿™äº›å¯¹è±¡ï¼Œéœ€è¦ä½¿ç”¨<code>#å¯¹è±¡å</code>æ¥å¼•ç”¨ï¼‰ï¼š</p>
<ol>
<li><p>ç¯å¢ƒå¯¹è±¡ï¼š</p>
<ul>
<li>#ctxï¼šè·å–Thymeleafè‡ªå·±çš„Contextå¯¹è±¡</li>
<li>#requsetï¼šå¦‚æœæ˜¯webç¨‹åºï¼Œå¯ä»¥è·å–HttpServletRequestå¯¹è±¡</li>
<li>#responseï¼šå¦‚æœæ˜¯webç¨‹åºï¼Œå¯ä»¥è·å–HttpServletReponseå¯¹è±¡</li>
<li>#sessionï¼šå¦‚æœæ˜¯webç¨‹åºï¼Œå¯ä»¥è·å–HttpSessionå¯¹è±¡</li>
<li>#servletContextï¼šå¦‚æœæ˜¯webç¨‹åºï¼Œå¯ä»¥è·å–HttpServletContextå¯¹è±¡</li>
</ul>
</li>
<li><p>å…¨å±€å¯¹è±¡ï¼š</p>
<ul>
<li>#datesï¼šå¤„ç†java.util.dateçš„å·¥å…·å¯¹è±¡</li>
<li>#calendarsï¼šå¤„ç†java.util.calendarçš„å·¥å…·å¯¹è±¡</li>
<li>#numbersï¼šç”¨æ¥å¯¹æ•°å­—æ ¼å¼åŒ–çš„æ–¹æ³•</li>
<li>#stringsï¼šç”¨æ¥å¤„ç†å­—ç¬¦ä¸²çš„æ–¹æ³•</li>
<li>#boolsï¼šç”¨æ¥åˆ¤æ–­å¸ƒå°”å€¼çš„æ–¹æ³•</li>
<li>#arraysï¼šç”¨æ¥æŠ¤ç†æ•°ç»„çš„æ–¹æ³•</li>
<li>#listsï¼šç”¨æ¥å¤„ç†Listé›†åˆçš„æ–¹æ³•</li>
<li>#setsï¼šç”¨æ¥å¤„ç†seté›†åˆçš„æ–¹æ³•</li>
<li>#mapsï¼šç”¨æ¥å¤„ç†mapé›†åˆçš„æ–¹æ³•</li>
</ul>
</li>
<li><p>æ ·ä¾‹ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">  ä»Šå¤©æ˜¯: <span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">"$&#123;#dates.format(today,'yyyy-MM-dd')&#125;"</span>&gt;</span>2018-04-25<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
<li><p>ä¸‰å…ƒè¿ç®—ç¬¦ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">"$&#123;user.sex&#125; ? 'ç”·':'å¥³'"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--è®¾ç½®é»˜è®¤å€¼--&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- å½“å‰é¢çš„è¡¨è¾¾å¼å€¼ä¸ºnullæ—¶ï¼Œå°±ä¼šä½¿ç”¨åé¢çš„é»˜è®¤å€¼ --&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- æ³¨æ„ï¼š?:ä¹‹é—´æ²¡æœ‰ç©ºæ ¼ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">"$&#123;user.name&#125; ?: 'äºŒç‹—'"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>JSæ¨¡æ¿ï¼šæ¨¡æ¿å¼•æ“ä¸ä»…å¯ä»¥æ¸²æŸ“htmlï¼Œä¹Ÿå¯ä»¥å¯¹JSä¸­çš„è¿›è¡Œé¢„å¤„ç†ï¼Œä¸ºäº†åœ¨çº¯é™æ€ç¯å¢ƒä¸‹å¯ä»¥è¿è¡Œï¼Œå…¶Thymeleafä»£ç å¯ä»¥è¢«æ³¨é‡Šèµ·æ¥</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">th:inline</span>=<span class="string">"javascript"</span>&gt;</span></span><br><span class="line"><span class="actionscript">    <span class="keyword">const</span> user = <span class="comment">/*[[$&#123;user&#125;]]*/</span> &#123;&#125;;</span></span><br><span class="line"><span class="actionscript">    <span class="keyword">const</span> age = <span class="comment">/*[[$&#123;user.age&#125;]]*/</span> <span class="number">20</span>;</span></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(user);</span></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(age)</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>åœ¨scriptæ ‡ç­¾ä¸­é€šè¿‡<code>th:inline=&quot;javascript&quot;</code>æ¥å£°æ˜è¿™æ˜¯è¦ç‰¹æ®Šå¤„ç†çš„jsè„šæœ¬</li>
<li>Thymeleafè¢«æ³¨é‡Šèµ·æ¥ï¼Œå› æ­¤å³ä¾¿æ˜¯é™æ€ç¯å¢ƒä¸‹ï¼Œ jsä»£ç ä¹Ÿä¸ä¼šæŠ¥é”™ï¼Œè€Œæ˜¯é‡‡ç”¨è¡¨è¾¾å¼åé¢è·Ÿç€çš„é»˜è®¤å€¼ï¼Œå¹¶ä¸”Userå¯¹è±¡ä¼šè¢«ç›´æ¥å¤„ç†ä¸ºjsonæ ¼å¼</li>
</ul>
</li>
<li><p><a href="https://www.thymeleaf.org/doc/tutorials/3.0/usingthymeleaf.html#introducing-thymeleaf" target="_blank" rel="noopener">å®˜æ–¹æ–‡æ¡£</a></p>
</li>
</ol>
<h2 id="è¡¨å•å¤„ç†"><a href="#è¡¨å•å¤„ç†" class="headerlink" title="è¡¨å•å¤„ç†"></a>è¡¨å•å¤„ç†</h2><ol>
<li><p>åˆ›å»ºäº¤äº’æ•°æ®ç±»å‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Greeting</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">long</span> id;</span><br><span class="line">    <span class="keyword">private</span> String content;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Greeting</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        id=<span class="number">1</span>;</span><br><span class="line">        content=<span class="string">"Hello world"</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">long</span> <span class="title">getId</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setId</span><span class="params">(<span class="keyword">long</span> id)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.id = id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getContent</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> content;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setContent</span><span class="params">(String content)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.content = content;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>åˆ›å»ºè¡¨å•è¾“å…¥æ•°æ®ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">HTML</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">xmlns:th</span>=<span class="string">"http://www.thymeleaf.org"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Handling Form Submission<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"Content-Type"</span> <span class="attr">content</span>=<span class="string">"text/html; charset=UTF-8"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>Form<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">"#"</span> <span class="attr">th:action</span>=<span class="string">"@&#123;/greeting&#125;"</span> <span class="attr">th:object</span>=<span class="string">"$&#123;greeting&#125;"</span> <span class="attr">method</span>=<span class="string">"post"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Id: <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">th:field</span>=<span class="string">"*&#123;id&#125;"</span> /&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Message: <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">th:field</span>=<span class="string">"*&#123;content&#125;"</span> /&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">value</span>=<span class="string">"Submit"</span> /&gt;</span> <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"reset"</span> <span class="attr">value</span>=<span class="string">"Reset"</span> /&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>åˆ›å»ºæäº¤çš„è¡¨å•æ•°æ®æ˜¾ç¤ºæ¨¡æ¿ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">HTML</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">xmlns:th</span>=<span class="string">"http://www.thymeleaf.org"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Display Result<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"Content-Type"</span> <span class="attr">content</span>=<span class="string">"text/html; charset=UTF-8"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>Result<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">th:text</span>=<span class="string">"'id: ' + $&#123;greeting.id&#125;"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">th:text</span>=<span class="string">"'content: ' + $&#123;greeting.content&#125;"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">th:href</span>=<span class="string">"@&#123;/greeting&#125;"</span>&gt;</span>Submit another message<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>åˆ›å»ºæ§åˆ¶å™¨ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">GreetingController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping</span>(<span class="string">"/greeting"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">greetingForm</span><span class="params">(Model model)</span> </span>&#123;</span><br><span class="line">        model.addAttribute(<span class="string">"greeting"</span>, <span class="keyword">new</span> Greeting());</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"greeting"</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@PostMapping</span>(<span class="string">"/greeting"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">greetingSubmit</span><span class="params">(@ModelAttribute Greeting greeting)</span> </span>&#123;</span><br><span class="line">        System.out.println(greeting.getId());</span><br><span class="line">        greeting.setContent(<span class="string">"Fuck"</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"result"</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>è¿è¡Œç¨‹åºæ•ˆæœï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/88818b9ddc8d22d466544814ea192d23-7812" alt="è¿è¡Œæ•ˆæœ"></p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/e1692159b2343e83bffdd9d54e85bd3c-7926" alt="post"></p>
</li>
<li><p>ä¸»è¦æ˜¯HTMLæ¨¡æ¿ä¸­çš„è¡¨å•é“¾æ¥ï¼Œè¿™éƒ¨åˆ†éœ€è¦å­¦ä¹ HTML5çš„åŸºç¡€çŸ¥è¯†ï¼</p>
</li>
<li><p>æ¨¡æ¿è§£é‡Šï¼š</p>
<ul>
<li>action = â€œ#â€ æ˜¯formæ ‡ç­¾çš„å±æ€§ï¼Œä»£è¡¨æäº¤æ•°æ®åˆ°æœ¬é¡µ</li>
<li>å…¶ä»–çš„å¯ä»¥æŸ¥é˜…HTMLæ–‡æ¡£</li>
</ul>
</li>
</ol>
<h2 id="åˆ›å»ºä¸€ä¸ªç®€å•çš„ç™»å½•é¡µé¢"><a href="#åˆ›å»ºä¸€ä¸ªç®€å•çš„ç™»å½•é¡µé¢" class="headerlink" title="åˆ›å»ºä¸€ä¸ªç®€å•çš„ç™»å½•é¡µé¢"></a>åˆ›å»ºä¸€ä¸ªç®€å•çš„ç™»å½•é¡µé¢</h2><ol>
<li><p>å¼•å…¥Bootstrapï¼Œæ·»åŠ bootstrapæ ·ä¾‹ä¸­çš„ç™»å½•æ¨¡æ¿åˆ°é¡¹ç›®ä¸­</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/74b64a4f0d6b918cb97c8ffdea5e8c2e-69216" alt="å¼•å…¥ç™»å½•æ¨¡æ¿"></p>
</li>
<li><p>ä¿®æ”¹ç™»å½•é¡µé¢å†…å®¹ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!doctype <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span> <span class="attr">xmlns:th</span>=<span class="string">"http://www.thymeleaf.org"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1, shrink-to-fit=no"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"description"</span> <span class="attr">content</span>=<span class="string">""</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"author"</span> <span class="attr">content</span>=<span class="string">"Mark Otto, Jacob Thornton, and Bootstrap contributors"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"generator"</span> <span class="attr">content</span>=<span class="string">"Jekyll v4.0.1"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Signin Template Â· Bootstrap<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"canonical"</span> <span class="attr">href</span>=<span class="string">"https://getbootstrap.com/docs/4.5/examples/sign-in/"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- Bootstrap core CSS --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">th:href</span>=<span class="string">"@&#123;/bootstrap/css/bootstrap.css&#125;"</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">type</span>=<span class="string">"text/css"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">      <span class="selector-class">.bd-placeholder-img</span> &#123;</span></span><br><span class="line"><span class="css">        <span class="selector-tag">font-size</span>: 1<span class="selector-class">.125rem</span>;</span></span><br><span class="line">        text-anchor: middle;</span><br><span class="line">        -webkit-user-select: none;</span><br><span class="line">        -moz-user-select: none;</span><br><span class="line">        -ms-user-select: none;</span><br><span class="line">        user-select: none;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">      <span class="keyword">@media</span> (<span class="attribute">min-width:</span> <span class="number">768px</span>) &#123;</span></span><br><span class="line"><span class="css">        <span class="selector-class">.bd-placeholder-img-lg</span> &#123;</span></span><br><span class="line"><span class="css">          <span class="selector-tag">font-size</span>: 3<span class="selector-class">.5rem</span>;</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- Custom styles for this template --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">th:href</span>=<span class="string">"@&#123;/bootstrap/css/signin.css&#125;"</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span> <span class="attr">class</span>=<span class="string">"text-center"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">form</span> <span class="attr">class</span>=<span class="string">"form-signin"</span> <span class="attr">action</span>=<span class="string">"#"</span> <span class="attr">th:action</span>=<span class="string">"@&#123;/test&#125;"</span>  <span class="attr">method</span>=<span class="string">"post"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">img</span> <span class="attr">class</span>=<span class="string">"mb-4"</span> <span class="attr">th:src</span>=<span class="string">"@&#123;/bootstrap/bootstrap-solid.svg&#125;"</span> <span class="attr">alt</span>=<span class="string">""</span> <span class="attr">width</span>=<span class="string">"72"</span> <span class="attr">height</span>=<span class="string">"72"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h1</span> <span class="attr">class</span>=<span class="string">"h3 mb-3 font-weight-normal"</span>&gt;</span>Please sign in<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"inputEmail"</span> <span class="attr">class</span>=<span class="string">"sr-only"</span>&gt;</span>Email address<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"email"</span> <span class="attr">id</span>=<span class="string">"inputEmail"</span> <span class="attr">class</span>=<span class="string">"form-control"</span> <span class="attr">placeholder</span>=<span class="string">"Email address"</span> <span class="attr">name</span>=<span class="string">"id"</span> <span class="attr">th:value</span>=<span class="string">"$&#123;id&#125;"</span> <span class="attr">required</span> <span class="attr">autofocus</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"inputPassword"</span> <span class="attr">class</span>=<span class="string">"sr-only"</span>&gt;</span>Password<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"password"</span> <span class="attr">id</span>=<span class="string">"inputPassword"</span> <span class="attr">class</span>=<span class="string">"form-control"</span> <span class="attr">placeholder</span>=<span class="string">"Password"</span> <span class="attr">name</span>=<span class="string">"password"</span> <span class="attr">th:value</span>=<span class="string">"$&#123;password&#125;"</span> <span class="attr">required</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"checkbox mb-3"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">value</span>=<span class="string">"remember-me"</span>&gt;</span> Remember me</span><br><span class="line">    <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">"btn btn-lg btn-primary btn-block"</span> <span class="attr">type</span>=<span class="string">"submit"</span>&gt;</span>ç™»å½•<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"mt-5 mb-3 text-muted"</span>&gt;</span><span class="symbol">&amp;copy;</span> 2017-2020<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>æ³¨æ„ï¼šä¸ºäº†æ§åˆ¶å™¨èƒ½è·å–è¾“å…¥çš„æ•°æ®ï¼Œæ·»åŠ äº†nameå±æ€§ï¼Œç„¶åä¿®æ”¹äº†formçš„å±æ€§</li>
</ul>
</li>
<li><p>ä¿®æ”¹æ§åˆ¶å™¨ï¼Œæ·»åŠ ç™»å½•é¡µé¢æ–¹æ³•ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@GetMapping</span>(<span class="string">"/test"</span>)</span><br><span class="line"><span class="function"><span class="keyword">public</span> ModelAndView <span class="title">test</span><span class="params">(HttpServletRequest request)</span></span>&#123;</span><br><span class="line">    System.out.println(request);</span><br><span class="line">    ModelAndView modelAndView=<span class="keyword">new</span> ModelAndView();</span><br><span class="line">    modelAndView.addObject(<span class="string">"id"</span>, <span class="string">"1194409532@qq.com"</span>);</span><br><span class="line">    modelAndView.addObject(<span class="string">"password"</span>, <span class="string">"helloworld"</span>);</span><br><span class="line">    modelAndView.setViewName(<span class="string">"login.html"</span>);</span><br><span class="line">    <span class="keyword">return</span> modelAndView;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">@RequestMapping</span>(value=<span class="string">"/test"</span>,method = RequestMethod.POST)</span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">testpasswd</span><span class="params">(HttpServletRequest request)</span></span>&#123;</span><br><span class="line">    String id = request.getParameter(<span class="string">"id"</span>);</span><br><span class="line">    String password = request.getParameter(<span class="string">"password"</span>);</span><br><span class="line">    System.out.println(<span class="string">"++++++++++++++"</span>+id+<span class="string">"###################"</span>);</span><br><span class="line">    System.out.println(<span class="string">"++++++++++++++"</span>+password+<span class="string">"###################"</span>);</span><br><span class="line">    <span class="keyword">if</span>(id.equals(<span class="string">"1194409532@qq.com"</span>)&amp;&amp;password.equals(<span class="string">"helloworld"</span>))</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"redirect:/test2"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">   <span class="keyword">else</span> &#123;</span><br><span class="line">       System.out.println(<span class="string">"_______________________"</span>);</span><br><span class="line">       <span class="keyword">return</span> <span class="string">"redirect:/test"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>æ³¨æ„ï¼šæµ‹è¯•ä»£ç ï¼Œåˆ«å¤ªå½“çœŸ</li>
<li><img src="https://app.yinxiang.com/FileSharing.action?hash=1/736f52f75bbab0173a96a257607dd429-53555" alt="ç™»å½•æ•ˆæœ"></li>
</ul>
</li>
</ol>
<hr>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>è¿™éƒ¨åˆ†ä¸»è¦ä»‹ç»äº†éƒ¨åˆ†çš„Thymeleafçš„è¯­æ³•ï¼Œä»¥åŠå¦‚ä½•åœ¨SpringBootå¿«é€Ÿæ•´åˆThymeleafï¼Œä½†æ˜¯è¿˜æ²¡æœ‰è¿›è¡Œå®Œæ•´çš„é¡¹ç›®ä¸Šçš„å¼€å‘ï¼Œè¿˜æœ‰å¾ˆå¤šä¸œè¥¿å¯ä»¥æ·±å…¥ï¼Œæ¯”å¦‚Thymeleafè¡¨å•å¤„ç†ï¼Œæ•°æ®åº“çš„è”åˆç­‰ç­‰ç­‰ï¼Œé‚£æ ·å°±æ˜¯ä¸€ä¸ªå®Œæ•´çš„å°é¡¹ç›®äº†ï¼æ ¹æ®éœ€è¦è¿›è¡Œæ·±å…¥ï¼Œè¿™é‡Œæš‚æ—¶ä»‹ç»åˆ°è¿™é‡Œï¼Œå› ä¸ºæƒ³è¦æ·±å…¥è¿˜æ˜¯éœ€è¦å­¦ç‚¹html5ä»¥åŠjavascriptçš„çŸ¥è¯†ï¼</p>
]]></content>
      <categories>
        <category>Java</category>
      </categories>
  </entry>
  <entry>
    <title>SpringBoot WebSocket Quick Start</title>
    <url>/2020/09/30/SpringBoot-WebSocket-Quick-Start/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>WebSocket æ˜¯ HTML5 å¼€å§‹æä¾›çš„ä¸€ç§åœ¨å•ä¸ª TCP è¿æ¥ä¸Šè¿›è¡Œå…¨åŒå·¥é€šè®¯çš„åè®®,ä½¿å¾—å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´çš„æ•°æ®äº¤æ¢å˜å¾—æ›´åŠ ç®€å•ï¼Œå…è®¸æœåŠ¡ç«¯ä¸»åŠ¨å‘å®¢æˆ·ç«¯æ¨é€æ•°æ®ã€‚æœ‰äº†WebSocketæŠ€æœ¯ä¹‹åï¼Œåç«¯å°±å¯ä»¥åƒå®¢æˆ·ç«¯æ¨é€æ¶ˆæ¯ï¼Œæ¯”å¦‚å‘å•†å®¶å®¢æˆ·ç«¯æ¨é€è®¢å•æ¶ˆæ¯ç­‰ã€‚è¿™é‡Œè®°å½•åœ¨SpringBootä¸­ä½¿ç”¨WebSocketçš„è¿‡ç¨‹ã€‚</p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="åŸºç¡€çŸ¥è¯†"><a href="#åŸºç¡€çŸ¥è¯†" class="headerlink" title="åŸºç¡€çŸ¥è¯†"></a>åŸºç¡€çŸ¥è¯†</h2><ol>
<li><p>åœ¨ WebSocket API ä¸­ï¼Œæµè§ˆå™¨å’ŒæœåŠ¡å™¨åªéœ€è¦å®Œæˆä¸€æ¬¡æ¡æ‰‹ï¼Œä¸¤è€…ä¹‹é—´å°±ç›´æ¥å¯ä»¥åˆ›å»ºæŒä¹…æ€§çš„è¿æ¥ï¼Œå¹¶è¿›è¡ŒåŒå‘æ•°æ®ä¼ è¾“ã€‚</p>
</li>
<li><p>HTML5 å®šä¹‰çš„ WebSocket åè®®ï¼Œèƒ½æ›´å¥½çš„èŠ‚çœæœåŠ¡å™¨èµ„æºå’Œå¸¦å®½ï¼Œå¹¶ä¸”èƒ½å¤Ÿæ›´å®æ—¶åœ°è¿›è¡Œé€šè®¯ã€‚</p>
</li>
<li><p>WebSocket åè®®æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªåŸºäº TCP çš„åè®®ã€‚</p>
</li>
<li><p>WebSocket ä½¿ç”¨ ws æˆ– wss çš„ç»Ÿä¸€èµ„æºæ ‡å¿—ç¬¦ï¼Œç±»ä¼¼äº HTTPSï¼Œå…¶ä¸­ wss è¡¨ç¤ºåœ¨ TLS ä¹‹ä¸Šçš„ Websocket,å¦‚ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">ws:<span class="comment">//example.com/wsapi</span></span><br><span class="line">wss:<span class="comment">//secure.example.com/wsapi</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>ä»åˆ†å±‚çš„è§’åº¦æ¥è®²ï¼ŒSocket æ˜¯ä¼ è¾“æ§åˆ¶å±‚åè®®ï¼ŒWebSocket æ˜¯åº”ç”¨å±‚åè®®ã€‚</p>
</li>
<li><p>WebSocketçš„è°ƒè¯•å¯ä»¥å®‰è£…ä¸€ä¸ªè°·æ­Œæµè§ˆå™¨æ’ä»¶<code>Browser WebSocket Client</code>ï¼ˆå°è±¡ç¬”è®°ä¸­æ–‡æ¡£æœåŠ¡ç¬”è®°æœ¬æœ‰ä¿å­˜ï¼‰ï¼Œæˆ–è€…è®¿é—®åœ¨çº¿è°ƒè¯•ç½‘å€ï¼š<a href="http://www.websocket-test.com/ã€‚" target="_blank" rel="noopener">http://www.websocket-test.com/ã€‚</a></p>
</li>
<li><p>SpringFrameworkå®˜æ–¹ä¸­æ–‡ä»‹ç»WebSocketç½‘å€ï¼š<a href="https://www.docs4dev.com/docs/zh/spring-framework/5.1.3.RELEASE/reference/web.html#websocket" target="_blank" rel="noopener">https://www.docs4dev.com/docs/zh/spring-framework/5.1.3.RELEASE/reference/web.html#websocket</a></p>
</li>
<li><p>å°½ç®¡ WebSocket è®¾è®¡ä¸ºä¸ HTTP å…¼å®¹å¹¶ä»¥ HTTP è¯·æ±‚å¼€å¤´ï¼Œä½†é‡è¦çš„æ˜¯è¦äº†è§£è¿™ä¸¤ä¸ªåè®®å¯¼è‡´äº†æˆªç„¶ä¸åŒçš„ä½“ç³»ç»“æ„å’Œåº”ç”¨ç¨‹åºç¼–ç¨‹æ¨¡å‹ã€‚</p>
</li>
<li><p>åº”ç”¨åœºæ™¯ï¼š</p>
<ul>
<li>å¯ä»¥ä½¿ç½‘é¡µå…·æœ‰åŠ¨æ€æ€§å’Œäº¤äº’æ€§</li>
<li>æ–°é—»ï¼Œé‚®ä»¶å’Œç¤¾äº¤è®¢é˜…æº</li>
<li>åä½œï¼Œæ¸¸æˆå’Œé‡‘èåº”ç”¨ç¨‹åº</li>
</ul>
</li>
<li><p>æœåŠ¡å™¨ä¸Webå®¢æˆ·ç«¯ä¹‹é—´çš„åŒå‘é€šè¡Œç­–ç•¥ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/47bfa9136df7ac80c4ef082f95d28ebe-35615" alt="WebæœåŠ¡å®¢æˆ·ç«¯äº’é€šç­–ç•¥"></p>
</li>
</ol>
<h2 id="åˆ›å»ºä¸€ä¸ªWebSocket-Serverç«¯"><a href="#åˆ›å»ºä¸€ä¸ªWebSocket-Serverç«¯" class="headerlink" title="åˆ›å»ºä¸€ä¸ªWebSocket Serverç«¯"></a>åˆ›å»ºä¸€ä¸ª<code>WebSocket Server</code>ç«¯</h2><ol>
<li><p>åœ¨åˆ›å»ºçš„é¡¹ç›®ä¸­å¼•å…¥mavenä¾èµ–ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-websocket<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>WebSocketå¤„ç†å™¨ç”¨æ¥å¤„ç†å®¢æˆ·ç«¯å‘é€çš„æ¶ˆæ¯,å¸¸ç”¨æœ‰<code>TextWebSocketHandler</code>å’Œ<code>BinaryWebSocketHandler</code>ï¼Œè¿™é‡Œåˆ›å»ºä¸€ä¸ª<code>TextWebSocketHandler</code>ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> org.springframework.web.socket.CloseStatus;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.socket.TextMessage;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.socket.WebSocketSession;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.socket.handler.TextWebSocketHandler;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ChatWebSocketHandler</span> <span class="keyword">extends</span> <span class="title">TextWebSocketHandler</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">handleTransportError</span><span class="params">(WebSocketSession session, Throwable exception)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">afterConnectionEstablished</span><span class="params">(WebSocketSession session)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"å»ºç«‹è¿æ¥ï¼š "</span>+session.getId());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">handleTextMessage</span><span class="params">(WebSocketSession session, TextMessage message)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        String msg = message.getPayload();</span><br><span class="line">        System.out.println(<span class="string">"æ”¶åˆ°æ¶ˆæ¯ï¼š "</span>+msg);</span><br><span class="line">        session.sendMessage(<span class="keyword">new</span> TextMessage(<span class="string">"Hello"</span>+msg));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">afterConnectionClosed</span><span class="params">(WebSocketSession session, CloseStatus status)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"å…³é—­è¿æ¥ï¼š "</span>+session.getId());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><code>afterConnectionEstablished</code> æˆåŠŸåˆ›å»ºè¿æ¥åè°ƒç”¨</li>
<li><code>handleTextMessage</code> æ”¶åˆ°å®¢æˆ·ç«¯æ¶ˆæ¯åè°ƒç”¨</li>
<li><code>handleTransportError</code> è¿æ¥å¼‚å¸¸æ—¶è°ƒç”¨</li>
<li><code>afterConnectionClosed</code> è¿æ¥å…³é—­åè°ƒç”¨</li>
<li><code>sendMessage</code>ç”¨äºå‘å®¢æˆ·ç«¯å‘é€æ¶ˆæ¯</li>
<li><code>WebSocketSession</code>æ˜¯å®¢æˆ·ç«¯ä¸æœåŠ¡ç«¯å»ºç«‹çš„å›è¯ï¼Œå¯ä»¥é€šè¿‡<code>close()</code>æ–¹æ³•ä¸»åŠ¨å…³é—­è¿æ¥</li>
<li><code>TextMessage</code>ä¸ºæ”¶åˆ°çš„æ¶ˆæ¯ï¼Œå¯ä»¥é€šè¿‡<code>getPayload()</code>æ–¹æ³•è·å–æ¶ˆæ¯å†…å®¹</li>
</ul>
</li>
<li><p>é…ç½®WebSocketï¼Œå°†å¤„ç†å™¨æ˜ å°„åˆ°æŒ‡å®šçš„pathä¸Šï¼Œè¿˜å¯ä»¥æ·»åŠ ä¸€äº›é¢å¤–çš„é…ç½®ï¼Œé€šè¿‡å®ç°<code>WebSocketConfigurer</code>ä»¥åŠæ·»åŠ æ³¨è§£<code>@EnableWebSocket</code>:</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Bean;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.socket.config.annotation.EnableWebSocket;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.socket.config.annotation.WebSocketConfigurer;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.socket.config.annotation.WebSocketHandlerRegistry;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.socket.server.standard.ServletServerContainerFactoryBean;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@EnableWebSocket</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">WebSocketConfig</span> <span class="keyword">implements</span> <span class="title">WebSocketConfigurer</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">registerWebSocketHandlers</span><span class="params">(WebSocketHandlerRegistry webSocketHandlerRegistry)</span> </span>&#123;</span><br><span class="line">        webSocketHandlerRegistry.addHandler(chatWebSocketHandler(), <span class="string">"chat"</span>,<span class="string">"chat1"</span>) <span class="comment">// æ·»åŠ æ¶ˆæ¯å¤„ç†å™¨,å¯ä»¥æ·»åŠ å¤šä¸ªpath</span></span><br><span class="line">                <span class="comment">//.addInterceptors(chatHandshakeInterceptor()) // æ·»åŠ æ¡æ‰‹æ‹¦æˆªå™¨</span></span><br><span class="line">                .setAllowedOrigins(<span class="string">"*"</span>); <span class="comment">// è®¾ç½®è·¨åŸŸ</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> ChatWebSocketHandler <span class="title">chatWebSocketHandler</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> ChatWebSocketHandler();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> ChatHandshakeInterceptor <span class="title">chatHandshakeInterceptor</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> ChatHandshakeInterceptor();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> ServletServerContainerFactoryBean <span class="title">createWebSocketContainer</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        ServletServerContainerFactoryBean container = <span class="keyword">new</span> ServletServerContainerFactoryBean();</span><br><span class="line">        container.setMaxTextMessageBufferSize(<span class="number">8192</span>);</span><br><span class="line">        container.setMaxSessionIdleTimeout(<span class="number">10</span> * <span class="number">60</span> * <span class="number">1000L</span>);</span><br><span class="line">        <span class="keyword">return</span> container;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><code>addHandler()</code>ç”¨äºæ·»åŠ æ¶ˆæ¯å¤„ç†å™¨ï¼Œå¹¶æŒ‡å®šæ˜ å°„<code>path</code>ï¼ŒæœåŠ¡ç«¯WebSocketåœ°å€ä¸º <code>ws://host:port/path</code></li>
<li><code>setAllowedOrigins</code>ç”¨äºè®¾ç½®è·¨åŸŸ</li>
<li><code>addInterceptors</code>ç”¨äºæ·»åŠ æ‹¦æˆªå™¨</li>
</ul>
</li>
<li><p>åˆ›å»ºä¸€ä¸ªæ¡æ‰‹æ‹¦æˆªå™¨ï¼ˆå¯é€‰ï¼‰ï¼Œåªè¦å®ç°<code>HandshakeInterceptor</code>å³å¯ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> org.slf4j.Logger;</span><br><span class="line"><span class="keyword">import</span> org.slf4j.LoggerFactory;</span><br><span class="line"><span class="keyword">import</span> org.springframework.http.server.ServerHttpRequest;</span><br><span class="line"><span class="keyword">import</span> org.springframework.http.server.ServerHttpResponse;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.socket.WebSocketHandler;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.socket.server.HandshakeInterceptor;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ChatHandshakeInterceptor</span> <span class="keyword">implements</span> <span class="title">HandshakeInterceptor</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> Logger log = LoggerFactory.getLogger(<span class="keyword">this</span>.getClass());</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">beforeHandshake</span><span class="params">(ServerHttpRequest request, ServerHttpResponse response, WebSocketHandler wsHandler, Map&lt;String, Object&gt; attributes)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        log.info(<span class="string">"--------------æ¡æ‰‹å‰æ‹¦æˆª"</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">afterHandshake</span><span class="params">(ServerHttpRequest request, ServerHttpResponse response, WebSocketHandler wsHandler, Exception exception)</span> </span>&#123;</span><br><span class="line">        log.info(<span class="string">"--------------å®Œæˆæ¡æ‰‹"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><code>beforeHandshake</code>æ¡æ‰‹å‰ï¼Œè¯¥æ–¹æ³•è¿”å›<code>true</code>è¡¨ç¤ºç»§ç»­å»ºç«‹è¿æ¥ï¼Œè¿”å›<code>false</code>åˆ™ç»ˆæ­¢</li>
<li><code>afterHandshake</code>æ¡æ‰‹ååŠ¨ä½œ</li>
</ul>
</li>
<li><p>Sessionç©ºé—²å¤±æ•ˆæ—¶é—´é…ç½®ï¼Œå¯ä»¥å¢åŠ ä¸€äº›é…ç½®æ¥çº¦æŸè¶…æ—¶æ—¶é—´ï¼›è¿˜å¯ä»¥è®¾ç½®æ¶ˆæ¯ç¼“å†²åŒºå¤§å°ç­‰(<code>WebSocketConfigurer</code>å®ç°çš„é…ç½®ä¸­æ³¨å…¥Bean)ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Bean</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> ServletServerContainerFactoryBean <span class="title">createWebSocketContainer</span><span class="params">()</span> </span>&#123;</span><br><span class="line"> ServletServerContainerFactoryBean container = <span class="keyword">new</span> ServletServerContainerFactoryBean();</span><br><span class="line"> container.setMaxTextMessageBufferSize(<span class="number">8192</span>);</span><br><span class="line"> container.setMaxSessionIdleTimeout(<span class="number">10</span> * <span class="number">60</span> * <span class="number">1000L</span>);</span><br><span class="line"> <span class="keyword">return</span> container;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



</li>
</ol>
<hr>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>ç›®å‰è¿˜æ²¡æœ‰åœ¨çœŸå®ä¸šåŠ¡ä¸­ä½¿ç”¨WebSocketï¼Œä½†æ˜¯æŸ¥çœ‹è°ƒè¯•ä¿¡æ¯å¯ä»¥çœ‹åˆ°å…¬å¸é‚®ç®±ç³»ç»Ÿæ˜¯æœ‰ç”¨åˆ°WebSocketçš„ï¼Œåœ¨åç»­éœ€è¦çš„æ—¶å€™å†ç»§ç»­æ·±å…¥å§ï¼</p>
]]></content>
      <categories>
        <category>SpringBoot</category>
      </categories>
  </entry>
  <entry>
    <title>SpringBoot å¤„ç†å¾®è½¯æ–‡æ¡£å’Œè¡¨æ ¼</title>
    <url>/2020/07/01/SpringBoot-%E5%A4%84%E7%90%86%E5%BE%AE%E8%BD%AF%E6%96%87%E6%A1%A3%E5%92%8C%E8%A1%A8%E6%A0%BC/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>â€œApache POI - the Java API for Microsoft Documents!â€å› ä¸ºæœ‰POIé¡¹ç›®çš„å­˜åœ¨ï¼Œä½¿å¾—æˆ‘ä»¬å¯ä»¥åœ¨æœåŠ¡å™¨ç«¯è¯»å–å¾®è½¯çš„wordå’Œexcelå†…å®¹ä»¥åŠç”Ÿæˆå¾®è½¯çš„wordå’Œexcelæ–‡æ¡£ã€‚æ¯”å¦‚éœ€æ±‚ä¸­éœ€è¦ç”ŸæˆMicrosoft Excelæ–‡ä»¶æ ¼å¼çš„æŠ¥å‘Šï¼Œç”šè‡³å¸Œæœ›å°†Excelæ–‡ä»¶ä½œä¸ºè¾“å…¥æ•°æ®ï¼Œè¿™ä¸ªæ—¶å€™å°±èƒ½ä½“ç°å‡ºPOIçš„ä»·å€¼äº†ï¼Œæœ¬æ–‡ä¸»è¦ä»‹ç»POIé¡¹ç›®ä»¥åŠå¦‚ä½•ä½¿ç”¨POIçš„APIç”Ÿæˆéœ€è¦çš„æ–‡æ¡£ä»¥åŠè¯»å–æ–‡æ¡£å†…å®¹ã€‚</p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="åŸºç¡€çŸ¥è¯†"><a href="#åŸºç¡€çŸ¥è¯†" class="headerlink" title="åŸºç¡€çŸ¥è¯†"></a>åŸºç¡€çŸ¥è¯†</h2><ol>
<li><p>Apache POIæ˜¯ä¸€ç§æµè¡Œçš„APIï¼Œå…è®¸ç¨‹åºå‘˜ä½¿ç”¨Javaç¨‹åºåˆ›å»ºï¼Œä¿®æ”¹å’Œæ˜¾ç¤ºMS Officeæ–‡ä»¶ï¼</p>
</li>
<li><p>ç»„ä»¶ï¼š</p>
<ul>
<li>HSSF ï¼ æä¾›è¯»å†™Microsoft Excel XLSæ ¼å¼æ¡£æ¡ˆçš„åŠŸèƒ½</li>
<li>XSSF ï¼ æä¾›è¯»å†™Microsoft Excel OOXML XLSXæ ¼å¼æ¡£æ¡ˆçš„åŠŸèƒ½</li>
<li>HWPF ï¼ æä¾›è¯»å†™Microsoft Word DOCæ ¼å¼æ¡£æ¡ˆçš„åŠŸèƒ½</li>
<li>HSLF ï¼ æä¾›è¯»å†™Microsoft PowerPointæ ¼å¼æ¡£æ¡ˆçš„åŠŸèƒ½ã€‚</li>
<li>HDGF ï¼ æä¾›è¯»Microsoft Visioæ ¼å¼æ¡£æ¡ˆçš„åŠŸèƒ½</li>
<li>HPBF ï¼ æä¾›è¯»Microsoft Publisheræ ¼å¼æ¡£æ¡ˆçš„åŠŸèƒ½</li>
<li>HSMF ï¼ æä¾›è¯»Microsoft Outlookæ ¼å¼æ¡£æ¡ˆçš„åŠŸèƒ½</li>
</ul>
</li>
<li><p>å®˜æ–¹ç½‘å€ï¼š<a href="http://poi.apache.org/" target="_blank" rel="noopener">http://poi.apache.org/</a></p>
</li>
<li><p>HSSFç»„ä»¶ä¸­çš„ç±»ï¼š</p>
<ul>
<li>HSSFWorkbookâ€”â€”excelçš„æ–‡æ¡£å¯¹è±¡</li>
<li>HSSFSheetâ€”â€”excelçš„è¡¨å•</li>
<li>HSSFRowâ€”â€”excelçš„è¡Œ</li>
<li>HSSFCellâ€”â€”excelçš„æ ¼å­å•å…ƒ</li>
<li>HSSFFontâ€”â€”excelå­—ä½“</li>
<li>HSSFCellStyleâ€”â€”cellæ ·å¼</li>
</ul>
</li>
<li><p>ä¸€ä¸ªExcelæ–‡ä»¶å¯¹åº”ä¸€ä¸ªworkbookï¼Œä¸€ä¸ªworkbookä¸­æœ‰å¤šä¸ªsheetç»„æˆï¼Œä¸€ä¸ªsheetæ˜¯ç”±å¤šä¸ªè¡Œ(row)å’Œåˆ—(cell)ç»„æˆï¼Œæ­£ç¡®æ“ä½œé¡ºåºï¼š</p>
<ol>
<li>ç”¨HSSFWorkbookæ‰“å¼€æˆ–è€…åˆ›å»ºâ€œExcelæ–‡ä»¶å¯¹è±¡â€</li>
<li>ç”¨HSSFWorkbookå¯¹è±¡è¿”å›æˆ–è€…åˆ›å»ºâ€œSheetå¯¹è±¡â€</li>
<li>ç”¨â€œSheetå¯¹è±¡â€è¿”å›è¡Œå¯¹è±¡ï¼Œç”¨è¡Œå¯¹è±¡å¾—åˆ°â€œCellå¯¹è±¡â€</li>
<li>å¯¹â€œCellå¯¹è±¡â€è¯»å†™</li>
</ol>
</li>
<li><p>æ ·å¼å‚è€ƒï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//è®¾ç½®å­—ä½“;  </span></span><br><span class="line">        XSSFFont font = workbook.createFont();  </span><br><span class="line">        <span class="comment">//è®¾ç½®å­—ä½“å¤§å°;  </span></span><br><span class="line">        font.setFontHeightInPoints((<span class="keyword">short</span>) <span class="number">10</span>);  </span><br><span class="line">        <span class="comment">//è®¾ç½®å­—ä½“åå­—;  </span></span><br><span class="line">        font.setFontName(<span class="string">"Courier New"</span>);  </span><br><span class="line">        <span class="comment">//font.setItalic(true);  </span></span><br><span class="line">        <span class="comment">//font.setStrikeout(true);  </span></span><br><span class="line">        <span class="comment">//è®¾ç½®æ ·å¼;  </span></span><br><span class="line">        XSSFCellStyle style = workbook.createCellStyle();  </span><br><span class="line">        <span class="comment">//è®¾ç½®åº•è¾¹æ¡†;  </span></span><br><span class="line">        style.setBorderBottom(XSSFCellStyle.BORDER_THIN);  </span><br><span class="line">        <span class="comment">//è®¾ç½®åº•è¾¹æ¡†é¢œè‰²;  </span></span><br><span class="line">        style.setBottomBorderColor( <span class="keyword">new</span> XSSFColor(Color.BLACK));  </span><br><span class="line">        <span class="comment">//è®¾ç½®å·¦è¾¹æ¡†;  </span></span><br><span class="line">        style.setBorderLeft(XSSFCellStyle.BORDER_THIN);  </span><br><span class="line">        <span class="comment">//è®¾ç½®å·¦è¾¹æ¡†é¢œè‰²;  </span></span><br><span class="line">        style.setLeftBorderColor(<span class="keyword">new</span> XSSFColor(Color.BLACK));  </span><br><span class="line">        <span class="comment">//è®¾ç½®å³è¾¹æ¡†;  </span></span><br><span class="line">        style.setBorderRight(XSSFCellStyle.BORDER_THIN);  </span><br><span class="line">        <span class="comment">//è®¾ç½®å³è¾¹æ¡†é¢œè‰²;  </span></span><br><span class="line">        style.setRightBorderColor(<span class="keyword">new</span> XSSFColor(Color.BLACK));  </span><br><span class="line">        <span class="comment">//è®¾ç½®é¡¶è¾¹æ¡†;  </span></span><br><span class="line">        style.setBorderTop(XSSFCellStyle.BORDER_THIN);  </span><br><span class="line">        <span class="comment">//è®¾ç½®é¡¶è¾¹æ¡†é¢œè‰²;  </span></span><br><span class="line">        style.setTopBorderColor(<span class="keyword">new</span> XSSFColor(Color.BLACK));  </span><br><span class="line">        <span class="comment">//åœ¨æ ·å¼ç”¨åº”ç”¨è®¾ç½®çš„å­—ä½“;  </span></span><br><span class="line">        style.setFont(font);  </span><br><span class="line">        <span class="comment">//è®¾ç½®è‡ªåŠ¨æ¢è¡Œ;  </span></span><br><span class="line">        style.setWrapText(<span class="keyword">true</span>);  </span><br><span class="line">        <span class="comment">//è®¾ç½®æ°´å¹³å¯¹é½çš„æ ·å¼ä¸ºå±…ä¸­å¯¹é½;  </span></span><br><span class="line">        style.setAlignment(XSSFCellStyle.ALIGN_CENTER);  </span><br><span class="line">        <span class="comment">//è®¾ç½®å‚ç›´å¯¹é½çš„æ ·å¼ä¸ºå±…ä¸­å¯¹é½;  </span></span><br><span class="line">        style.setVerticalAlignment(XSSFCellStyle.VERTICAL_CENTER);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//è®¾ç½®èƒŒæ™¯é¢œè‰²</span></span><br><span class="line">        style.setFillForegroundColor(IndexedColors.WHITE.getIndex());</span><br><span class="line">		style.setFillPattern(CellStyle.SOLID_FOREGROUND);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//å°æ•°ç‚¹ä¿ç•™ä¸¤ä½</span></span><br><span class="line">		style.setDataFormat(HSSFDataFormat.getBuiltinFormat(<span class="string">"0.00"</span>));</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>æ³¨æ„ï¼šä½¿ç”¨POIç›¸å…³çš„jaråŒ…ç‰ˆæœ¬ä¸€å®šè¦ç›¸åŒï¼</strong></p>
</li>
<li><p>å®˜æ–¹æ•™ç¨‹ï¼š<a href="http://poi.apache.org/components/spreadsheet/quick-guide.html" target="_blank" rel="noopener">http://poi.apache.org/components/spreadsheet/quick-guide.html</a></p>
</li>
</ol>
<h1 id="åŠ¨æ‰‹å®æ“"><a href="#åŠ¨æ‰‹å®æ“" class="headerlink" title="åŠ¨æ‰‹å®æ“"></a>åŠ¨æ‰‹å®æ“</h1><h2 id="åˆ›å»ºå·¥ç¨‹ï¼ˆSpringBoot-Mavenï¼‰"><a href="#åˆ›å»ºå·¥ç¨‹ï¼ˆSpringBoot-Mavenï¼‰" class="headerlink" title="åˆ›å»ºå·¥ç¨‹ï¼ˆSpringBoot Mavenï¼‰"></a>åˆ›å»ºå·¥ç¨‹ï¼ˆSpringBoot Mavenï¼‰</h2><ol>
<li><p>é¢å¤–æ·»åŠ POIç›¸å…³ä¾èµ–ï¼ˆpom.xmlï¼‰:</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.poi<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>poi<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.9<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.poi<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>poi-examples<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.9<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.poi<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>poi-excelant<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.9<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.poi<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>poi-ooxml<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.9<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.poi<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>poi-ooxml-schemas<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.9<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.poi<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>poi-scratchpad<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.9<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- æ–¹ä¾¿æ–‡ä»¶æ“ä½œ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>commons-io<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>commons-io<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>åŸºç¡€æµ‹è¯•ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testPoiCreateExcel</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="comment">// åˆ›å»ºè¡¨å¤´</span></span><br><span class="line">        String[] title = &#123;<span class="string">"id"</span>,<span class="string">"name"</span>,<span class="string">"sex"</span>&#125;;</span><br><span class="line">        <span class="comment">//åˆ›å»ºExcelå·¥ä½œè–„</span></span><br><span class="line">        HSSFWorkbook workbook = <span class="keyword">new</span> HSSFWorkbook();</span><br><span class="line">        <span class="comment">//åˆ›å»ºä¸€ä¸ªå·¥ä½œè¡¨sheet</span></span><br><span class="line">        HSSFSheet sheet = workbook.createSheet();</span><br><span class="line">        <span class="comment">//åˆ›å»ºç¬¬ä¸€è¡Œ</span></span><br><span class="line">        HSSFRow row = sheet.createRow(<span class="number">0</span>);</span><br><span class="line">        HSSFCell cell = <span class="keyword">null</span>;</span><br><span class="line">        <span class="comment">// æ’å…¥ç¬¬ä¸€è¡Œ</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; title.length; i++) &#123;</span><br><span class="line">            cell = row.createCell(i);</span><br><span class="line">            cell.setCellValue(title[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// è¿½åŠ æ•°æ®</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; <span class="number">10</span>; i++) &#123;<span class="comment">// è¿™é‡Œçš„int èµ·å§‹æ˜¯1 ä¹Ÿå°±æ˜¯ç¬¬äºŒè¡Œå¼€å§‹</span></span><br><span class="line">            HSSFRow nexTrow = sheet.createRow(i);</span><br><span class="line">            HSSFCell cell2 = nexTrow.createCell(<span class="number">0</span>);</span><br><span class="line">            cell2.setCellValue(<span class="string">"a"</span>+i);</span><br><span class="line">            cell2 = nexTrow.createCell(<span class="number">1</span>);</span><br><span class="line">            cell2.setCellValue(<span class="string">"user"</span>);</span><br><span class="line">            cell2 = nexTrow.createCell(<span class="number">2</span>);</span><br><span class="line">            cell2.setCellValue(<span class="string">"ç”·"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// åˆ›å»ºä¸€ä¸ªæ–‡ä»¶</span></span><br><span class="line">        File file = <span class="keyword">new</span> File(<span class="string">"/Users/wander/Desktop/poi.xls"</span>);</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            file.createNewFile();</span><br><span class="line">            <span class="comment">// å°†å†…å®¹å­˜ç›˜</span></span><br><span class="line">            FileOutputStream stream = FileUtils.openOutputStream(file);</span><br><span class="line">            workbook.write(stream);</span><br><span class="line"></span><br><span class="line">            stream.close();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>ç”Ÿæˆçš„EXCELæ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/63f38366ec2325afd6574c0b23806257-726454" alt="ç”Ÿæˆçš„EXCELå†…å®¹"></p>
</li>
</ol>
<h2 id="è¯»å–ä¸å†™å…¥docx"><a href="#è¯»å–ä¸å†™å…¥docx" class="headerlink" title="è¯»å–ä¸å†™å…¥docx"></a>è¯»å–ä¸å†™å…¥docx</h2><h3 id="è¯»å–docxï¼š"><a href="#è¯»å–docxï¼š" class="headerlink" title="è¯»å–docxï¼š"></a>è¯»å–docxï¼š</h3><ol>
<li><p>æµ‹è¯•ä»£ç ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">testReadDocx</span><span class="params">()</span></span>&#123;</span><br><span class="line">    FileInputStream in;</span><br><span class="line">    String text = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">try</span></span><br><span class="line">    &#123;</span><br><span class="line">        OPCPackage opcPackage = POIXMLDocument.openPackage(<span class="string">"/Users/wander/Desktop/test.docx"</span>);</span><br><span class="line">        POIXMLTextExtractor extractor = <span class="keyword">new</span> XWPFWordExtractor(opcPackage);</span><br><span class="line">        text = extractor.getText();</span><br><span class="line">   </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">catch</span> (FileNotFoundException e)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">        <span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line">    System.out.println(text);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">testReadDocx</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="comment">//è§£ædocxæ¨¡æ¿å¹¶è·å–documentå¯¹è±¡</span></span><br><span class="line">        XWPFDocument document = <span class="keyword">new</span> XWPFDocument(POIXMLDocument.openPackage(<span class="string">"/Users/wander/Desktop/test.docx"</span>));</span><br><span class="line">        <span class="comment">//è·å–æ•´ä¸ªæ–‡æœ¬å¯¹è±¡</span></span><br><span class="line">        List&lt;XWPFParagraph&gt; allParagraph = document.getParagraphs();</span><br><span class="line">   </span><br><span class="line">        <span class="comment">//è·å–XWPFRunå¯¹è±¡è¾“å‡ºæ•´ä¸ªæ–‡æœ¬å†…å®¹</span></span><br><span class="line">        StringBuffer tempText = <span class="keyword">new</span> StringBuffer();</span><br><span class="line">        <span class="keyword">for</span> (XWPFParagraph xwpfParagraph : allParagraph) &#123;</span><br><span class="line">            List&lt;XWPFRun&gt; runList = xwpfParagraph.getRuns();</span><br><span class="line">            <span class="keyword">for</span> (XWPFRun xwpfRun : runList) &#123;</span><br><span class="line">                tempText.append(xwpfRun.toString());</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(tempText.toString());</span><br><span class="line">   </span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        <span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ–‡æ¡£å†…å®¹ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/6bcd50fd7e034164ca11e07456112441-400366" alt="æ–‡æ¡£å†…å®¹"></p>
</li>
<li><p>æµ‹è¯•è¾“å‡ºï¼š</p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">2020-07-01 20:01:35.198  INFO 68808 --- [           main] c.w.t.t.TesthttpclientApplicationTests   : Starting TesthttpclientApplicationTests on WanderROSiMac.local with PID 68808 (started by wander in /Volumes/Daily/Project/testhttpclient)</span><br><span class="line">2020-07-01 20:01:35.199  INFO 68808 --- [           main] c.w.t.t.TesthttpclientApplicationTests   : No active profile set, falling back to default profiles: default</span><br><span class="line">2020-07-01 20:01:36.161  INFO 68808 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'</span><br><span class="line">2020-07-01 20:01:36.366  INFO 68808 --- [           main] c.w.t.t.TesthttpclientApplicationTests   : Started TesthttpclientApplicationTests in 1.705 seconds (JVM running for 3.191)</span><br><span class="line"></span><br><span class="line">WARNING: An illegal reflective access operation has occurred</span><br><span class="line">WARNING: Illegal reflective access by org.dom4j.io.SAXContentHandler (file:/usr/local/apache-maven-3.6.3/respository/dom4j/dom4j/1.6.1/dom4j-1.6.1.jar) to method com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser$LocatorProxy.getEncoding()</span><br><span class="line">WARNING: Please consider reporting this to the maintainers of org.dom4j.io.SAXContentHandler</span><br><span class="line">WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations</span><br><span class="line">WARNING: All illegal access operations will be denied in a future release</span><br><span class="line">æµ‹è¯•è¯»å–æ–‡æ¡£å†…å®¹</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h3 id="åˆ›å»ºï¼ˆä¿®æ”¹ï¼‰docx"><a href="#åˆ›å»ºï¼ˆä¿®æ”¹ï¼‰docx" class="headerlink" title="åˆ›å»ºï¼ˆä¿®æ”¹ï¼‰docx"></a>åˆ›å»ºï¼ˆä¿®æ”¹ï¼‰docx</h3><ol>
<li><p>æµ‹è¯•ä»£ç ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">testChangeDocx</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="comment">//è·å–wordæ–‡æ¡£è§£æå¯¹è±¡</span></span><br><span class="line">        XWPFDocument doucument = <span class="keyword">new</span> XWPFDocument(POIXMLDocument.openPackage(<span class="string">"/Users/wander/Desktop/test.docx"</span>));</span><br><span class="line">        <span class="comment">//è·å–æ®µè½æ–‡æœ¬å¯¹è±¡</span></span><br><span class="line">        List&lt;XWPFParagraph&gt; paragraph = doucument.getParagraphs();</span><br><span class="line">        <span class="comment">//è·å–é¦–è¡Œrunå¯¹è±¡</span></span><br><span class="line">        XWPFRun run = paragraph.get(<span class="number">0</span>).getRuns().get(<span class="number">0</span>);</span><br><span class="line">        <span class="comment">//è®¾ç½®æ–‡æœ¬å†…å®¹</span></span><br><span class="line">        run.setText(<span class="string">"ä¿®æ”¹äº†çš„word"</span>);</span><br><span class="line">        <span class="comment">//ç”Ÿæˆæ–°çš„word</span></span><br><span class="line">        File file = <span class="keyword">new</span> File(<span class="string">"/Users/wander/Desktop/test2.docx"</span>);</span><br><span class="line">   </span><br><span class="line">        FileOutputStream stream = <span class="keyword">new</span> FileOutputStream(file);</span><br><span class="line">        doucument.write(stream);</span><br><span class="line">        stream.close();</span><br><span class="line">   </span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        <span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ–‡æ¡£å†…å®¹ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/6bcd50fd7e034164ca11e07456112441-400366" alt="æ–‡æ¡£å†…å®¹"></p>
</li>
<li><p>ä¿®æ”¹è¾“å‡ºæ–‡æ¡£ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/3feffbef59a8bb13f02f82fe01e49a1d-414946" alt="ä¿®æ”¹è¾“å‡ºæ–‡æ¡£"></p>
</li>
</ol>
<h3 id="è¯»å–docæ–‡æ¡£"><a href="#è¯»å–docæ–‡æ¡£" class="headerlink" title="è¯»å–docæ–‡æ¡£"></a>è¯»å–docæ–‡æ¡£</h3><ol>
<li><p>ä»£ç ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">testReadDoc</span><span class="params">()</span></span>&#123;</span><br><span class="line">    FileInputStream in;</span><br><span class="line">    String text = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">try</span></span><br><span class="line">    &#123;</span><br><span class="line">        in = <span class="keyword">new</span> FileInputStream(<span class="string">"/Users/wander/Desktop/test.doc"</span>);</span><br><span class="line">        WordExtractor extractor = <span class="keyword">new</span> WordExtractor(in);</span><br><span class="line">        text = extractor.getText();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">catch</span> (FileNotFoundException e)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">        <span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line">   log.info(text);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>è¾“å‡ºï¼š</p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">2020-07-01 20:17:19.352  INFO 69101 --- [           main] c.w.t.t.TesthttpclientApplicationTests   : Starting TesthttpclientApplicationTests on WanderROSiMac.local with PID 69101 (started by wander in /Volumes/Daily/Project/testhttpclient)</span><br><span class="line">2020-07-01 20:17:19.353  INFO 69101 --- [           main] c.w.t.t.TesthttpclientApplicationTests   : No active profile set, falling back to default profiles: default</span><br><span class="line">2020-07-01 20:17:20.790  INFO 69101 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'</span><br><span class="line">2020-07-01 20:17:21.068  INFO 69101 --- [           main] c.w.t.t.TesthttpclientApplicationTests   : Started TesthttpclientApplicationTests in 2.338 seconds (JVM running for 4.422)</span><br><span class="line"></span><br><span class="line">2020-07-01 20:17:21.848  INFO 69101 --- [           main] c.w.t.t.TesthttpclientApplicationTests   : æµ‹è¯•è¯»å–æ–‡æ¡£å†…å®¹</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h3 id="åˆ›å»ºï¼ˆä¿®æ”¹ï¼‰doc"><a href="#åˆ›å»ºï¼ˆä¿®æ”¹ï¼‰doc" class="headerlink" title="åˆ›å»ºï¼ˆä¿®æ”¹ï¼‰doc"></a>åˆ›å»ºï¼ˆä¿®æ”¹ï¼‰doc</h3><ol>
<li><p>ä»£ç ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">testWriteDoc</span><span class="params">()</span></span>&#123;</span><br><span class="line">    String text=<span class="string">"hello"</span>;</span><br><span class="line">    <span class="keyword">try</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//è·å–åˆ°æ–‡æ¡£</span></span><br><span class="line">        HWPFDocument doc = <span class="keyword">new</span> HWPFDocument(<span class="keyword">new</span> FileInputStream(<span class="string">"/Users/wander/Desktop/test.doc"</span>));</span><br><span class="line">        Range range = doc.getRange();</span><br><span class="line">        <span class="comment">//æŸ¥çœ‹æ®µè½æ•°é‡</span></span><br><span class="line">        <span class="keyword">int</span> paraNum = range.numParagraphs();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;paraNum;i++)&#123;</span><br><span class="line">            <span class="comment">//è·å–æ®µè½</span></span><br><span class="line">            Paragraph paragraph =range.getParagraph(i);</span><br><span class="line">            paragraph.replaceText(<span class="string">"æ–‡æ¡£"</span>,text);</span><br><span class="line">        &#125;</span><br><span class="line">        doc.write(<span class="keyword">new</span> FileOutputStream(<span class="string">"/Users/wander/Desktop/test2.doc"</span>));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">catch</span> (FileNotFoundException e)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">        <span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä¿®æ”¹è¾“å‡ºæ–‡æ¡£ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/048bc71aed08e5598885ceba5627b588-407075" alt="è¾“å‡ºdocå†…å®¹"></p>
</li>
</ol>
<h2 id="è¯»å–å†™å…¥XLSX"><a href="#è¯»å–å†™å…¥XLSX" class="headerlink" title="è¯»å–å†™å…¥XLSX"></a>è¯»å–å†™å…¥XLSX</h2><h3 id="è¯»å–xlsx"><a href="#è¯»å–xlsx" class="headerlink" title="è¯»å–xlsx"></a>è¯»å–xlsx</h3><ol>
<li><p>ä»£ç ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testPoiReadExcel</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="comment">// å¼•å…¥éœ€è¦è§£æçš„æ–‡ä»¶</span></span><br><span class="line">        File file = <span class="keyword">new</span> File(<span class="string">"/Users/wander/Desktop/poi.xls"</span>);</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">// åˆ›å»ºExcel è¯»å–æ–‡ä»¶å†…å®¹</span></span><br><span class="line">            HSSFWorkbook workbook = <span class="keyword">new</span> HSSFWorkbook(FileUtils.openInputStream(file));</span><br><span class="line">            <span class="comment">/**</span></span><br><span class="line"><span class="comment">             * ç¬¬ä¸€ç§æ–¹å¼è¯»å–Sheeté¡µ</span></span><br><span class="line"><span class="comment">             */</span></span><br><span class="line"><span class="comment">//            HSSFSheet sheet = workbook.getSheet("Sheet0");</span></span><br><span class="line">            <span class="comment">/**</span></span><br><span class="line"><span class="comment">             * ç¬¬äºŒç§æ–¹å¼è¯»å–Sheeté¡µ</span></span><br><span class="line"><span class="comment">             */</span></span><br><span class="line">            HSSFSheet sheet = workbook.getSheetAt(<span class="number">0</span>);</span><br><span class="line">            <span class="keyword">int</span> firstRowNum = <span class="number">0</span>;<span class="comment">// èµ·å§‹è¡Œç¬¬0è¡Œ</span></span><br><span class="line">            <span class="keyword">int</span> lasrRowNum = sheet.getLastRowNum();<span class="comment">// ä¸€ç›´è¯»åˆ°æœ€åä¸€è¡Œ</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; lasrRowNum; i++) &#123;</span><br><span class="line">                HSSFRow row = sheet.getRow(i);</span><br><span class="line">                <span class="comment">// è·å–å½“å‰æœ€åå•å…ƒæ ¼åˆ—å·</span></span><br><span class="line">                <span class="keyword">int</span> lastCellNum = row.getLastCellNum();</span><br><span class="line">                log.error(Integer.toString(lastCellNum));</span><br><span class="line">               <span class="comment">// for (int j = 0; j &lt; lastCellNum; j++) &#123;</span></span><br><span class="line">                    HSSFCell cell = row.getCell(<span class="number">0</span>);</span><br><span class="line">                    <span class="keyword">double</span> value = cell.getNumericCellValue();<span class="comment">// æ³¨æ„ï¼ å¦‚æœExcel é‡Œé¢çš„å€¼æ˜¯String é‚£ä¹ˆgetStringCellValue å¦‚æœæ˜¯å…¶ä»–ç±»å‹ åˆ™éœ€è¦ä¿®æ”¹</span></span><br><span class="line">                    log.info(value + <span class="string">"  "</span>);</span><br><span class="line">              <span class="comment">//  &#125;</span></span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h3 id="å†™å…¥xlsx"><a href="#å†™å…¥xlsx" class="headerlink" title="å†™å…¥xlsx"></a>å†™å…¥xlsx</h3><ol>
<li><p>ä»£ç ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testPoiCreateExcel</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="comment">// åˆ›å»ºè¡¨å¤´</span></span><br><span class="line">    String[] title = &#123;<span class="string">"id"</span>,<span class="string">"name"</span>,<span class="string">"sex"</span>&#125;;</span><br><span class="line">    <span class="comment">//åˆ›å»ºExcelå·¥ä½œè–„</span></span><br><span class="line">    HSSFWorkbook workbook = <span class="keyword">new</span> HSSFWorkbook();</span><br><span class="line">    <span class="comment">//åˆ›å»ºä¸€ä¸ªå·¥ä½œè¡¨sheet</span></span><br><span class="line">    HSSFSheet sheet = workbook.createSheet();</span><br><span class="line">    <span class="comment">//åˆ›å»ºç¬¬ä¸€è¡Œ</span></span><br><span class="line">    HSSFRow row = sheet.createRow(<span class="number">0</span>);</span><br><span class="line">    HSSFCell cell = <span class="keyword">null</span>;</span><br><span class="line">    <span class="comment">// æ’å…¥ç¬¬ä¸€è¡Œ</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; title.length; i++) &#123;</span><br><span class="line">        cell = row.createCell(i);</span><br><span class="line">        cell.setCellValue(title[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// è¿½åŠ æ•°æ®</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; <span class="number">10</span>; i++) &#123;<span class="comment">// è¿™é‡Œçš„int èµ·å§‹æ˜¯1 ä¹Ÿå°±æ˜¯ç¬¬äºŒè¡Œå¼€å§‹</span></span><br><span class="line">        HSSFRow nexTrow = sheet.createRow(i);</span><br><span class="line">        HSSFCell cell2 = nexTrow.createCell(<span class="number">0</span>);</span><br><span class="line">        cell2.setCellValue(<span class="string">"a"</span>+i);</span><br><span class="line">        cell2 = nexTrow.createCell(<span class="number">1</span>);</span><br><span class="line">        cell2.setCellValue(<span class="string">"user"</span>);</span><br><span class="line">        cell2 = nexTrow.createCell(<span class="number">2</span>);</span><br><span class="line">        cell2.setCellValue(<span class="string">"ç”·"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// åˆ›å»ºä¸€ä¸ªæ–‡ä»¶</span></span><br><span class="line">    File file = <span class="keyword">new</span> File(<span class="string">"/Users/wander/Desktop/poi.xls"</span>);</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        file.createNewFile();</span><br><span class="line">        <span class="comment">// å°†å†…å®¹å­˜ç›˜</span></span><br><span class="line">        FileOutputStream stream = FileUtils.openOutputStream(file);</span><br><span class="line">        workbook.write(stream);</span><br><span class="line">   </span><br><span class="line">        stream.close();</span><br><span class="line">    &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h3 id="è®¾ç½®å•å…ƒæ ¼æ ·å¼"><a href="#è®¾ç½®å•å…ƒæ ¼æ ·å¼" class="headerlink" title="è®¾ç½®å•å…ƒæ ¼æ ·å¼"></a>è®¾ç½®å•å…ƒæ ¼æ ·å¼</h3><ol>
<li><p>ä»£ç ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testPoiExcelStyle</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="comment">// åˆ›å»ºè¡¨å¤´</span></span><br><span class="line">    String[] title = &#123;<span class="string">"id"</span>,<span class="string">"name"</span>,<span class="string">"sex"</span>&#125;;</span><br><span class="line">    <span class="comment">//åˆ›å»ºExcelå·¥ä½œè–„</span></span><br><span class="line">    HSSFWorkbook workbook = <span class="keyword">new</span> HSSFWorkbook();</span><br><span class="line">    <span class="keyword">short</span> colorIndex = <span class="number">10</span>;</span><br><span class="line">    HSSFPalette palette = workbook.getCustomPalette();<span class="comment">//è‡ªå®šä¹‰é¢œè‰²</span></span><br><span class="line">    Color rgb = Color.GREEN;</span><br><span class="line">    <span class="keyword">short</span> bgIndex = colorIndex ++; <span class="comment">//èƒŒæ™¯é¢œè‰²ä¸‹æ ‡å€¼</span></span><br><span class="line">    palette.setColorAtIndex(bgIndex, (<span class="keyword">byte</span>) rgb.getRed(), (<span class="keyword">byte</span>) rgb.getGreen(), (<span class="keyword">byte</span>) rgb.getBlue());</span><br><span class="line">    <span class="keyword">short</span> bdIndex = colorIndex ++; <span class="comment">//è¾¹æ¡†é¢œè‰²ä¸‹æ ‡å€¼</span></span><br><span class="line">    rgb = Color.BLACK;</span><br><span class="line">    palette.setColorAtIndex(bdIndex, (<span class="keyword">byte</span>) rgb.getRed(), (<span class="keyword">byte</span>) rgb.getGreen(), (<span class="keyword">byte</span>) rgb.getBlue());</span><br><span class="line">   </span><br><span class="line">    <span class="comment">//åˆ›å»ºä¸€ä¸ªå·¥ä½œè¡¨sheet</span></span><br><span class="line">    HSSFSheet sheet = workbook.createSheet();</span><br><span class="line">    <span class="comment">//åˆ›å»ºç¬¬ä¸€è¡Œ</span></span><br><span class="line">    HSSFRow row = sheet.createRow(<span class="number">0</span>);</span><br><span class="line">    HSSFCell cell = <span class="keyword">null</span>;</span><br><span class="line">    <span class="comment">// æ’å…¥ç¬¬ä¸€è¡Œ</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; title.length; i++) &#123;</span><br><span class="line">        cell = row.createCell(i);</span><br><span class="line">        cell.setCellValue(title[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// è¿½åŠ æ•°æ®</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; <span class="number">10</span>; i++) &#123;<span class="comment">// è¿™é‡Œçš„int èµ·å§‹æ˜¯1 ä¹Ÿå°±æ˜¯ç¬¬äºŒè¡Œå¼€å§‹</span></span><br><span class="line">        HSSFRow nexTrow = sheet.createRow(i);</span><br><span class="line">        HSSFCell cell2 = nexTrow.createCell(<span class="number">0</span>);</span><br><span class="line">        cell2.setCellValue(<span class="string">"a"</span>+i);</span><br><span class="line">        cell2 = nexTrow.createCell(<span class="number">1</span>);</span><br><span class="line">        cell2.setCellValue(<span class="string">"user"</span>);</span><br><span class="line">        cell2 = nexTrow.createCell(<span class="number">2</span>);</span><br><span class="line">        cell2.setCellValue(<span class="string">"ç”·"</span>);</span><br><span class="line">        HSSFCellStyle cellStyle = workbook.createCellStyle();</span><br><span class="line">        cellStyle.setFillForegroundColor(bgIndex); <span class="comment">//bgIndex èƒŒæ™¯é¢œè‰²ä¸‹æ ‡å€¼</span></span><br><span class="line">        cellStyle.setFillPattern(CellStyle.SOLID_FOREGROUND);</span><br><span class="line">   </span><br><span class="line">        cellStyle.setBorderBottom(HSSFCellStyle.BORDER_THIN);</span><br><span class="line">        cellStyle.setBorderLeft(HSSFCellStyle.BORDER_THIN);</span><br><span class="line">        cellStyle.setBorderTop(HSSFCellStyle.BORDER_THIN);</span><br><span class="line">        cellStyle.setBorderRight(HSSFCellStyle.BORDER_THIN);</span><br><span class="line">        <span class="comment">//bdIndex è¾¹æ¡†é¢œè‰²ä¸‹æ ‡å€¼</span></span><br><span class="line">        cellStyle.setBottomBorderColor(bdIndex);</span><br><span class="line">        cellStyle.setLeftBorderColor(bdIndex);</span><br><span class="line">        cellStyle.setRightBorderColor(bdIndex);</span><br><span class="line">        cellStyle.setTopBorderColor(bdIndex);</span><br><span class="line">   </span><br><span class="line">        cellStyle.setAlignment(HSSFCellStyle.ALIGN_CENTER);</span><br><span class="line">        cellStyle.setVerticalAlignment(HSSFCellStyle.VERTICAL_CENTER);</span><br><span class="line">   </span><br><span class="line">        cell2.setCellStyle(cellStyle);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// åˆ›å»ºä¸€ä¸ªæ–‡ä»¶</span></span><br><span class="line">    File file = <span class="keyword">new</span> File(<span class="string">"/Users/wander/Desktop/poi.xls"</span>);</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        file.createNewFile();</span><br><span class="line">        <span class="comment">// å°†å†…å®¹å­˜ç›˜</span></span><br><span class="line">        FileOutputStream stream = FileUtils.openOutputStream(file);</span><br><span class="line">        workbook.write(stream);</span><br><span class="line">   </span><br><span class="line">        stream.close();</span><br><span class="line">    &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>è®¾ç½®å•å…ƒæ ¼æ•ˆæœï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/4c72733ffddb63ca3b756a13b3ceb0fa-380472" alt="å•å…ƒæ ¼æ•ˆæœ"></p>
</li>
<li><p>å•å…ƒæ ¼å¯ä»¥è®¾ç½®å±…å·¦ã€å±…ä¸­ã€å±…å³ã€ä¸Šä¸‹å±…ä¸­ã€è®¾ç½®è¾¹æ¡†ã€è®¾ç½®è¾¹æ¡†é¢œè‰²ã€è®¾ç½®å•å…ƒæ ¼èƒŒæ™¯é¢œè‰²ç­‰, excelè®¾ç½®å•å…ƒæ ¼æœ‰ä¸€ä¸ªHSSFCellStyleç±»å¯ä»¥è®¾ç½®æ ·å¼ï¼Œå•å…ƒæ ¼é¢œè‰²æ¯”è¾ƒéº»çƒ¦ï¼Œexcelé¢œè‰²å¯¹åº”ä¸€ä¸ªä¸‹æ ‡å€¼ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨è‡ªå®šä¹‰é¢œè‰²ï¼Œä½†ä¸‹æ ‡å€¼ä»11å¼€å§‹ï¼Œå‰1-10è¢«poiå·²ç»ä½¿ç”¨ï¼Œé€šè¿‡palette.setColorAtIndexæ–¹æ³•å°†é¢œè‰²ä¸ä¸‹æ ‡å€¼å¯¹åº”ï¼Œä¸‹é¢cellStyle.setFillForegroundColor(bgIndex)è®¾ç½®èƒŒæ™¯é¢œè‰²æ—¶set ä¸‹æ ‡å€¼å¹¶ä¸æ˜¯é¢œè‰²Colorï¼Œä¸€ä¸ªä¸‹æ ‡å€¼å¦‚11ä¸èƒ½è¢«é‡å¤è®¾ç½®é¢œè‰²ï¼Œå¦åˆ™excelå•å…ƒæ ¼æ˜¾ç¤ºçš„éƒ½æ˜¯é»‘è‰²ã€‚</p>
</li>
<li><p>è®¾ç½®å•å…ƒæ ¼å­—ä½“æ ·å¼ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">HSSFCellStyle cellStyle = workbook.createCellStyle();</span><br><span class="line"> </span><br><span class="line">HSSFFont font = workbook.createFont();</span><br><span class="line">font.setItalic(<span class="keyword">true</span>);</span><br><span class="line">font.setUnderline(HSSFFont.U_SINGLE);</span><br><span class="line">font.setBoldweight(HSSFFont.BOLDWEIGHT_BOLD);</span><br><span class="line">font.setFontHeightInPoints((<span class="keyword">short</span>)<span class="number">14</span>);</span><br><span class="line">cellStyle.setFont(font);</span><br></pre></td></tr></table></figure>
</li>
<li><p>åˆå¹¶å•å…ƒæ ¼ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">CellRangeAddress region = <span class="keyword">new</span> CellRangeAddress(<span class="number">0</span>, <span class="comment">// first row</span></span><br><span class="line">        <span class="number">0</span>, <span class="comment">// last row</span></span><br><span class="line">        <span class="number">0</span>, <span class="comment">// first column</span></span><br><span class="line">        <span class="number">2</span> <span class="comment">// last column</span></span><br><span class="line">);</span><br><span class="line">sheet.addMergedRegion(region);</span><br></pre></td></tr></table></figure>
</li>
<li><p>å•å…ƒæ ¼ä¸­åŠ å…¥å›¾ç‰‡:</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//åŠ å…¥å›¾ç‰‡</span></span><br><span class="line"><span class="keyword">byte</span>[] bt = FileUtils.readFileToByteArray(<span class="keyword">new</span> File(<span class="string">"/test/pie.png"</span>));</span><br><span class="line"><span class="keyword">int</span> pictureIdx = wb.addPicture(bt, Workbook.PICTURE_TYPE_PNG);</span><br><span class="line">CreationHelper helper = wb.getCreationHelper();</span><br><span class="line">Drawing drawing = sheet.createDrawingPatriarch();</span><br><span class="line">ClientAnchor anchor = helper.createClientAnchor();</span><br><span class="line">anchor.setCol1(<span class="number">0</span>); <span class="comment">//å›¾ç‰‡å¼€å§‹åˆ—æ•°</span></span><br><span class="line">anchor.setRow1(<span class="number">4</span>); <span class="comment">//å›¾ç‰‡å¼€å§‹è¡Œæ•°</span></span><br><span class="line">anchor.setCol2(<span class="number">3</span>); <span class="comment">//å›¾ç‰‡ç»“æŸåˆ—æ•°</span></span><br><span class="line">anchor.setRow2(<span class="number">25</span>);<span class="comment">//å›¾ç‰‡ç»“æŸè¡Œæ•°</span></span><br><span class="line">drawing.createPicture(anchor, pictureIdx);</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ’å…¥æµ®åŠ¨å±‚å›¾ç‰‡ç±»ä¼¼htmlä¸­div:</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//åŠ å…¥å›¾ç‰‡</span></span><br><span class="line"><span class="keyword">int</span> pictureIdx = wb.addPicture(bt, Workbook.PICTURE_TYPE_PNG);</span><br><span class="line">CreationHelper helper = wb.getCreationHelper();</span><br><span class="line">Drawing drawing = sheet.createDrawingPatriarch();</span><br><span class="line">ClientAnchor anchor = helper.createClientAnchor();</span><br><span class="line">anchor.setCol1(<span class="number">0</span>); <span class="comment">//å›¾ç‰‡å¼€å§‹åˆ—æ•°</span></span><br><span class="line">anchor.setRow1(<span class="number">4</span>); <span class="comment">//å›¾ç‰‡å¼€å§‹è¡Œæ•°</span></span><br><span class="line">Picture picture = drawing.createPicture(anchor, pictureIdx);</span><br><span class="line">picture.resize();</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h2 id="XLSXæ“ä½œç»†èŠ‚"><a href="#XLSXæ“ä½œç»†èŠ‚" class="headerlink" title="XLSXæ“ä½œç»†èŠ‚"></a>XLSXæ“ä½œç»†èŠ‚</h2><h3 id="åˆ›å»ºWorkbookå’ŒSheet"><a href="#åˆ›å»ºWorkbookå’ŒSheet" class="headerlink" title="åˆ›å»ºWorkbookå’ŒSheet"></a>åˆ›å»ºWorkbookå’ŒSheet</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">HSSFWorkbookÂ workbookÂ =Â <span class="keyword">new</span>Â HSSFWorkbook();<span class="comment">//åˆ›å»ºExcelæ–‡ä»¶(Workbook)</span></span><br><span class="line">HSSFSheetÂ sheetÂ =Â workbook.createSheet();<span class="comment">//åˆ›å»ºå·¥ä½œè¡¨(Sheet)</span></span><br><span class="line">sheetÂ =Â workbook.createSheet(<span class="string">"Test"</span>);<span class="comment">//åˆ›å»ºå·¥ä½œè¡¨(Sheet)</span></span><br><span class="line">FileOutputStreamÂ outÂ =Â <span class="keyword">new</span>Â FileOutputStream(filePath);</span><br><span class="line">workbook.write(out);<span class="comment">//ä¿å­˜Excelæ–‡ä»¶</span></span><br></pre></td></tr></table></figure>

<h3 id="åˆ›å»ºå•å…ƒæ ¼"><a href="#åˆ›å»ºå•å…ƒæ ¼" class="headerlink" title="åˆ›å»ºå•å…ƒæ ¼"></a>åˆ›å»ºå•å…ƒæ ¼</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">HSSFSheetÂ sheetÂ =Â workbook.createSheet(<span class="string">"Test"</span>);<span class="comment">// åˆ›å»ºå·¥ä½œè¡¨(Sheet),è¡¨æ ¼åç§°ä¸ºTest</span></span><br><span class="line">HSSFRowÂ rowÂ =Â sheet.createRow(<span class="number">0</span>);<span class="comment">// åˆ›å»ºè¡Œ,ä»0å¼€å§‹</span></span><br><span class="line">HSSFCellÂ cellÂ =Â row.createCell(<span class="number">0</span>);<span class="comment">// åˆ›å»ºè¡Œçš„å•å…ƒæ ¼,ä¹Ÿæ˜¯ä»0å¼€å§‹</span></span><br><span class="line">cell.setCellValue(<span class="string">"TestContent"</span>);<span class="comment">// è®¾ç½®å•å…ƒæ ¼å†…å®¹</span></span><br><span class="line">row.createCell(<span class="number">1</span>).setCellValue(<span class="keyword">false</span>);<span class="comment">// è®¾ç½®å•å…ƒæ ¼å†…å®¹,é‡è½½</span></span><br><span class="line">row.createCell(<span class="number">2</span>).setCellValue(<span class="keyword">new</span>Â Date());<span class="comment">// è®¾ç½®å•å…ƒæ ¼å†…å®¹,é‡è½½</span></span><br><span class="line">row.createCell(<span class="number">3</span>).setCellValue(<span class="number">12.345</span>);<span class="comment">// è®¾ç½®å•å…ƒæ ¼å†…å®¹,é‡è½½</span></span><br></pre></td></tr></table></figure>

<h3 id="åˆ›å»ºæ–‡æ¡£æ‘˜è¦ä¿¡æ¯"><a href="#åˆ›å»ºæ–‡æ¡£æ‘˜è¦ä¿¡æ¯" class="headerlink" title="åˆ›å»ºæ–‡æ¡£æ‘˜è¦ä¿¡æ¯"></a>åˆ›å»ºæ–‡æ¡£æ‘˜è¦ä¿¡æ¯</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">testDocumentDesc</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">    HSSFWorkbook workbook = <span class="keyword">new</span> HSSFWorkbook();<span class="comment">//åˆ›å»ºExcelæ–‡ä»¶(Workbook)</span></span><br><span class="line">    workbook.createSheet();</span><br><span class="line">    workbook.createInformationProperties();<span class="comment">//åˆ›å»ºæ–‡æ¡£ä¿¡æ¯</span></span><br><span class="line">    DocumentSummaryInformation dsi=workbook.getDocumentSummaryInformation();<span class="comment">//æ‘˜è¦ä¿¡æ¯</span></span><br><span class="line">    dsi.setCategory(<span class="string">"ç±»åˆ«:Excelæ–‡ä»¶"</span>);<span class="comment">//ç±»åˆ«</span></span><br><span class="line">    dsi.setManager(<span class="string">"ç®¡ç†è€…:W"</span>);<span class="comment">//ç®¡ç†è€…</span></span><br><span class="line">    dsi.setCompany(<span class="string">"å…¬å¸:--"</span>);<span class="comment">//å…¬å¸</span></span><br><span class="line">    SummaryInformation si =workbook.getSummaryInformation();<span class="comment">//æ‘˜è¦ä¿¡æ¯</span></span><br><span class="line">    si.setSubject(<span class="string">"ä¸»é¢˜:--"</span>);<span class="comment">//ä¸»é¢˜</span></span><br><span class="line">    si.setTitle(<span class="string">"æ ‡é¢˜:æµ‹è¯•æ–‡æ¡£"</span>);<span class="comment">//æ ‡é¢˜</span></span><br><span class="line">    si.setAuthor(<span class="string">"ä½œè€…:w"</span>);<span class="comment">//ä½œè€…</span></span><br><span class="line">    si.setComments(<span class="string">"å¤‡æ³¨:POIæµ‹è¯•æ–‡æ¡£"</span>);<span class="comment">//å¤‡æ³¨</span></span><br><span class="line">    workbook.write(<span class="keyword">new</span> FileOutputStream(<span class="string">"/Users/wander/Desktop/poi2.xls"</span>));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/e3f2e05dc95cb0c1e670572b0cc20967-189990" alt="æ–‡æ¡£ä¿¡æ¯"></p>
<h3 id="åˆ›å»ºæ‰¹æ³¨"><a href="#åˆ›å»ºæ‰¹æ³¨" class="headerlink" title="åˆ›å»ºæ‰¹æ³¨"></a>åˆ›å»ºæ‰¹æ³¨</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">testCreateNotation</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">    HSSFWorkbook workbook = <span class="keyword">new</span> HSSFWorkbook();<span class="comment">//åˆ›å»ºExcelæ–‡ä»¶(Workbook)</span></span><br><span class="line">    HSSFSheet sheet = workbook.createSheet(<span class="string">"Test"</span>);<span class="comment">// åˆ›å»ºå·¥ä½œè¡¨(Sheet)</span></span><br><span class="line">    HSSFPatriarch patr = sheet.createDrawingPatriarch();</span><br><span class="line">    HSSFClientAnchor anchor = patr.createAnchor(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>,<span class="number">0</span>,<span class="number">5</span>,<span class="number">1</span>,<span class="number">8</span>,<span class="number">3</span>);<span class="comment">//åˆ›å»ºæ‰¹æ³¨ä½ç½®</span></span><br><span class="line">    HSSFComment comment = patr.createCellComment(anchor);<span class="comment">//åˆ›å»ºæ‰¹æ³¨</span></span><br><span class="line">    comment.setString(<span class="keyword">new</span> HSSFRichTextString(<span class="string">"è¿™æ˜¯ä¸€ä¸ªæ‰¹æ³¨æ®µè½ï¼"</span>));<span class="comment">//è®¾ç½®æ‰¹æ³¨å†…å®¹</span></span><br><span class="line">    comment.setAuthor(<span class="string">"W"</span>);<span class="comment">//è®¾ç½®æ‰¹æ³¨ä½œè€…</span></span><br><span class="line">    comment.setVisible(<span class="keyword">true</span>);<span class="comment">//è®¾ç½®æ‰¹æ³¨é»˜è®¤æ˜¾ç¤º</span></span><br><span class="line">    HSSFCell cell = sheet.createRow(<span class="number">2</span>).createCell(<span class="number">1</span>);</span><br><span class="line">    cell.setCellValue(<span class="string">"æµ‹è¯•"</span>);</span><br><span class="line">    cell.setCellComment(comment);<span class="comment">//æŠŠæ‰¹æ³¨èµ‹å€¼ç»™å•å…ƒæ ¼</span></span><br><span class="line">    workbook.write(<span class="keyword">new</span> FileOutputStream(<span class="string">"/Users/wander/Desktop/poi2.xls"</span>));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>åˆ›å»ºæ‰¹æ³¨ä½ç½®HSSFPatriarch.createAnchor(dx1, dy1, dx2, dy2, col1, row1, col2, row2)æ–¹æ³•å‚æ•°è¯´æ˜ï¼š<ul>
<li>dx1 ç¬¬1ä¸ªå•å…ƒæ ¼ä¸­xè½´çš„åç§»é‡</li>
<li>dy1 ç¬¬1ä¸ªå•å…ƒæ ¼ä¸­yè½´çš„åç§»é‡</li>
<li>dx2 ç¬¬2ä¸ªå•å…ƒæ ¼ä¸­xè½´çš„åç§»é‡</li>
<li>dy2 ç¬¬2ä¸ªå•å…ƒæ ¼ä¸­yè½´çš„åç§»é‡</li>
<li>col1 ç¬¬1ä¸ªå•å…ƒæ ¼çš„åˆ—å·</li>
<li>row1 ç¬¬1ä¸ªå•å…ƒæ ¼çš„è¡Œå·</li>
<li>col2 ç¬¬2ä¸ªå•å…ƒæ ¼çš„åˆ—å·</li>
<li>row2 ç¬¬2ä¸ªå•å…ƒæ ¼çš„è¡Œå·</li>
</ul>
</li>
</ul>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/7b935176de472835b15c1eef6e5be473-369124" alt="åˆ›å»ºæ‰¹æ³¨"></p>
<h3 id="è®¾ç½®é¡µçœ‰é¡µè„š"><a href="#è®¾ç½®é¡µçœ‰é¡µè„š" class="headerlink" title="è®¾ç½®é¡µçœ‰é¡µè„š"></a>è®¾ç½®é¡µçœ‰é¡µè„š</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">testFooter</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">    HSSFWorkbook workbook = <span class="keyword">new</span> HSSFWorkbook();<span class="comment">//åˆ›å»ºExcelæ–‡ä»¶(Workbook)</span></span><br><span class="line">    HSSFSheet sheet = workbook.createSheet(<span class="string">"Test"</span>);<span class="comment">// åˆ›å»ºå·¥ä½œè¡¨(Sheet)</span></span><br><span class="line">    HSSFHeader header=sheet.getHeader();<span class="comment">//å¾—åˆ°é¡µçœ‰</span></span><br><span class="line">    header.setLeft(<span class="string">"é¡µçœ‰å·¦è¾¹"</span>);</span><br><span class="line">    header.setRight(<span class="string">"é¡µçœ‰å³è¾¹"</span>);</span><br><span class="line">    header.setCenter(<span class="string">"é¡µçœ‰ä¸­é—´"</span>);</span><br><span class="line">    HSSFFooter footer=sheet.getFooter();<span class="comment">//å¾—åˆ°é¡µè„š</span></span><br><span class="line">    footer.setLeft(<span class="string">"é¡µè„šå·¦è¾¹"</span>);</span><br><span class="line">    footer.setRight(<span class="string">"é¡µè„šå³è¾¹"</span>);</span><br><span class="line">    footer.setCenter(<span class="string">"é¡µè„šä¸­é—´"</span>);</span><br><span class="line">    workbook.write(<span class="keyword">new</span> FileOutputStream(<span class="string">"/Users/wander/Desktop/poi2.xls"</span>));</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/cde5996c5b72fab7389b92160aae6cea-165247" alt="é¡µçœ‰é¡µè„š"></p>
<h3 id="å•å…ƒæ ¼æ ¼å¼"><a href="#å•å…ƒæ ¼æ ¼å¼" class="headerlink" title="å•å…ƒæ ¼æ ¼å¼"></a>å•å…ƒæ ¼æ ¼å¼</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">testFormat</span><span class="params">()</span></span>&#123;</span><br><span class="line">    HSSFWorkbook workbook = <span class="keyword">new</span> HSSFWorkbook();<span class="comment">//åˆ›å»ºExcelæ–‡ä»¶(Workbook)</span></span><br><span class="line">    <span class="comment">//åˆ›å»ºä¸€ä¸ªå·¥ä½œè¡¨sheet</span></span><br><span class="line">    HSSFSheet sheet = workbook.createSheet(<span class="string">"ç¬¬ä¸€ä¸ªsheet"</span>);</span><br><span class="line">    <span class="comment">//åˆ›å»ºç¬¬ä¸€è¡Œ</span></span><br><span class="line">    HSSFRow row = sheet.createRow(<span class="number">0</span>);</span><br><span class="line">    HSSFCell cell = row.createCell(<span class="number">0</span>);</span><br><span class="line">    HSSFCellStyle style=workbook.createCellStyle();</span><br><span class="line">    <span class="comment">// è®¾ç½®æ—¥æœŸæ ¼å¼--ä½¿ç”¨Excelå†…åµŒçš„æ ¼å¼</span></span><br><span class="line">    style.setDataFormat(HSSFDataFormat.getBuiltinFormat(<span class="string">"m/d/yy h:mm"</span>));</span><br><span class="line">    <span class="comment">// è®¾ç½®ä¿ç•™2ä½å°æ•°--ä½¿ç”¨Excelå†…åµŒçš„æ ¼å¼</span></span><br><span class="line">    style.setDataFormat(HSSFDataFormat.getBuiltinFormat(<span class="string">"0.00"</span>));</span><br><span class="line">    <span class="comment">//è®¾ç½®è´§å¸æ ¼å¼--ä½¿ç”¨è‡ªå®šä¹‰çš„æ ¼å¼</span></span><br><span class="line">    style.setDataFormat(workbook.createDataFormat().getFormat(<span class="string">"ï¿¥#,##0"</span>));</span><br><span class="line">    <span class="comment">//è®¾ç½®ç™¾åˆ†æ¯”æ ¼å¼--ä½¿ç”¨è‡ªå®šä¹‰çš„æ ¼å¼</span></span><br><span class="line">    style.setDataFormat(workbook.createDataFormat().getFormat(<span class="string">"0.00%"</span>));</span><br><span class="line">    <span class="comment">//è®¾ç½®ä¸­æ–‡å¤§å†™æ ¼å¼--ä½¿ç”¨è‡ªå®šä¹‰çš„æ ¼å¼</span></span><br><span class="line">    style.setDataFormat(workbook.createDataFormat().getFormat(<span class="string">"[DbNum2][$-804]0"</span>));</span><br><span class="line">    <span class="comment">//è®¾ç½®ç§‘å­¦è®¡æ•°æ³•æ ¼å¼--ä½¿ç”¨è‡ªå®šä¹‰çš„æ ¼å¼</span></span><br><span class="line">    style.setDataFormat(workbook.createDataFormat().getFormat(<span class="string">"0.00E+00"</span>));</span><br><span class="line">    cell.setCellStyle(style);</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="åˆå¹¶å•å…ƒæ ¼"><a href="#åˆå¹¶å•å…ƒæ ¼" class="headerlink" title="åˆå¹¶å•å…ƒæ ¼"></a>åˆå¹¶å•å…ƒæ ¼</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">HSSFWorkbook workbook = <span class="keyword">new</span> HSSFWorkbook();<span class="comment">//åˆ›å»ºExcelæ–‡ä»¶(Workbook)</span></span><br><span class="line"><span class="comment">//åˆ›å»ºä¸€ä¸ªå·¥ä½œè¡¨sheet</span></span><br><span class="line">HSSFSheet sheet = workbook.createSheet(<span class="string">"ç¬¬ä¸€ä¸ªsheet"</span>);</span><br><span class="line"><span class="comment">//åˆ›å»ºç¬¬ä¸€è¡Œ</span></span><br><span class="line">HSSFRow row = sheet.createRow(<span class="number">0</span>);</span><br><span class="line"><span class="comment">//åˆå¹¶åˆ—</span></span><br><span class="line">HSSFCell cell=row.createCell(<span class="number">0</span>);</span><br><span class="line">cell.setCellValue(<span class="string">"åˆå¹¶åˆ—"</span>);</span><br><span class="line">CellRangeAddress region=<span class="keyword">new</span> CellRangeAddress(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">5</span>);</span><br><span class="line">sheet.addMergedRegion(region);</span><br><span class="line"><span class="comment">//åˆå¹¶è¡Œ</span></span><br><span class="line">cell=row.createCell(<span class="number">6</span>);</span><br><span class="line">cell.setCellValue(<span class="string">"åˆå¹¶è¡Œ"</span>);</span><br><span class="line">region=<span class="keyword">new</span> CellRangeAddress(<span class="number">0</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">6</span>);</span><br><span class="line">sheet.addMergedRegion(region);</span><br></pre></td></tr></table></figure>

<ul>
<li>CellRangeAddresså¯¹è±¡å…¶å®å°±æ˜¯è¡¨ç¤ºä¸€ä¸ªåŒºåŸŸï¼Œå…¶æ„é€ æ–¹æ³•å¦‚ä¸‹ï¼šCellRangeAddress(firstRow, lastRow, firstCol, lastCol)ï¼Œå‚æ•°çš„è¯´æ˜ï¼š<ul>
<li>firstRow åŒºåŸŸä¸­ç¬¬ä¸€ä¸ªå•å…ƒæ ¼çš„è¡Œå·</li>
<li>lastRow åŒºåŸŸä¸­æœ€åä¸€ä¸ªå•å…ƒæ ¼çš„è¡Œå·</li>
<li>firstCol åŒºåŸŸä¸­ç¬¬ä¸€ä¸ªå•å…ƒæ ¼çš„åˆ—å·</li>
<li>lastCol åŒºåŸŸä¸­æœ€åä¸€ä¸ªå•å…ƒæ ¼çš„åˆ—å·</li>
</ul>
</li>
</ul>
<h3 id="å•å…ƒæ ¼å¯¹é½"><a href="#å•å…ƒæ ¼å¯¹é½" class="headerlink" title="å•å…ƒæ ¼å¯¹é½"></a>å•å…ƒæ ¼å¯¹é½</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">HSSFCell cell=row.createCell(<span class="number">0</span>);</span><br><span class="line">cell.setCellValue(<span class="string">"å•å…ƒæ ¼å¯¹é½"</span>);</span><br><span class="line">HSSFCellStyle style=workbook.createCellStyle();</span><br><span class="line">style.setAlignment(HSSFCellStyle.ALIGN_CENTER);<span class="comment">//æ°´å¹³å±…ä¸­</span></span><br><span class="line">style.setVerticalAlignment(HSSFCellStyle.VERTICAL_CENTER);<span class="comment">//å‚ç›´å±…ä¸­</span></span><br><span class="line">style.setWrapText(<span class="keyword">true</span>);<span class="comment">//è‡ªåŠ¨æ¢è¡Œ</span></span><br><span class="line">style.setIndention((<span class="keyword">short</span>)<span class="number">5</span>);<span class="comment">//ç¼©è¿›</span></span><br><span class="line">style.setRotation((<span class="keyword">short</span>)<span class="number">60</span>);<span class="comment">//æ–‡æœ¬æ—‹è½¬ï¼Œè¿™é‡Œçš„å–å€¼æ˜¯ä»-90åˆ°90ï¼Œè€Œä¸æ˜¯0-180åº¦ã€‚</span></span><br><span class="line">cell.setCellStyle(style);</span><br></pre></td></tr></table></figure>

<ul>
<li>æ°´å¹³å¯¹é½ç›¸å…³å‚æ•°:<ul>
<li>å¦‚æœæ˜¯å·¦ä¾§å¯¹é½å°±æ˜¯ HSSFCellStyle.ALIGN_FILL</li>
<li>å¦‚æœæ˜¯å±…ä¸­å¯¹é½å°±æ˜¯ HSSFCellStyle.ALIGN_CENTER</li>
<li>å¦‚æœæ˜¯å³ä¾§å¯¹é½å°±æ˜¯ HSSFCellStyle.ALIGN_RIGHT</li>
<li>å¦‚æœæ˜¯è·¨åˆ—ä¸¾ä¸­å°±æ˜¯ HSSFCellStyle.ALIGN_CENTER_SELECTION</li>
<li>å¦‚æœæ˜¯ä¸¤ç«¯å¯¹é½å°±æ˜¯ HSSFCellStyle.ALIGN_JUSTIFY</li>
<li>å¦‚æœæ˜¯å¡«å……å°±æ˜¯ HSSFCellStyle.ALIGN_FILL</li>
</ul>
</li>
<li>å‚ç›´å¯¹é½ç›¸å…³å‚æ•°:<ul>
<li>å¦‚æœæ˜¯é ä¸Šå°±æ˜¯ HSSFCellStyle.VERTICAL_TOP</li>
<li>å¦‚æœæ˜¯å±…ä¸­å°±æ˜¯ HSSFCellStyle.VERTICAL_CENTER;</li>
<li>å¦‚æœæ˜¯é ä¸‹å°±æ˜¯ HSSFCellStyle.VERTICAL_BOTTOM</li>
<li>å¦‚æœæ˜¯ä¸¤ç«¯å¯¹é½å°±æ˜¯ HSSFCellStyle.VERTICAL_JUSTIFY</li>
</ul>
</li>
</ul>
<h3 id="å•å…ƒæ ¼è¾¹æ¡†"><a href="#å•å…ƒæ ¼è¾¹æ¡†" class="headerlink" title="å•å…ƒæ ¼è¾¹æ¡†"></a>å•å…ƒæ ¼è¾¹æ¡†</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">testBorder</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">    HSSFWorkbook workbook = <span class="keyword">new</span> HSSFWorkbook();<span class="comment">//åˆ›å»ºExcelæ–‡ä»¶(Workbook)</span></span><br><span class="line">    <span class="comment">//åˆ›å»ºä¸€ä¸ªå·¥ä½œè¡¨sheet</span></span><br><span class="line">    HSSFSheet sheet = workbook.createSheet(<span class="string">"ç¬¬ä¸€ä¸ªsheet"</span>);</span><br><span class="line">    <span class="comment">//åˆ›å»ºç¬¬ä¸€è¡Œ</span></span><br><span class="line">    HSSFRow row = sheet.createRow(<span class="number">1</span>);</span><br><span class="line">    HSSFCell cell=row.createCell(<span class="number">1</span>);</span><br><span class="line">    cell.setCellValue(<span class="string">"è®¾ç½®è¾¹æ¡†"</span>);</span><br><span class="line">    HSSFCellStyle style=workbook.createCellStyle();</span><br><span class="line">    style.setBorderTop(HSSFCellStyle.BORDER_DOTTED);<span class="comment">//ä¸Šè¾¹æ¡†</span></span><br><span class="line">    style.setBorderBottom(HSSFCellStyle.BORDER_THICK);<span class="comment">//ä¸‹è¾¹æ¡†</span></span><br><span class="line">    style.setBorderLeft(HSSFCellStyle.BORDER_DOUBLE);<span class="comment">//å·¦è¾¹æ¡†</span></span><br><span class="line">    style.setBorderRight(HSSFCellStyle.BORDER_SLANTED_DASH_DOT);<span class="comment">//å³è¾¹æ¡†</span></span><br><span class="line">    style.setTopBorderColor(HSSFColor.RED.index);<span class="comment">//ä¸Šè¾¹æ¡†é¢œè‰²</span></span><br><span class="line">    style.setBottomBorderColor(HSSFColor.BLUE.index);<span class="comment">//ä¸‹è¾¹æ¡†é¢œè‰²</span></span><br><span class="line">    style.setLeftBorderColor(HSSFColor.GREEN.index);<span class="comment">//å·¦è¾¹æ¡†é¢œè‰²</span></span><br><span class="line">    style.setRightBorderColor(HSSFColor.PINK.index);<span class="comment">//å³è¾¹æ¡†é¢œè‰²</span></span><br><span class="line">    cell.setCellStyle(style);</span><br><span class="line">    workbook.write(<span class="keyword">new</span> FileOutputStream(<span class="string">"/Users/wander/Desktop/poi2.xls"</span>));</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/6b9373f5fede0ebe8d04975b38b56214-364988" alt="è¾¹æ¡†æ ·å¼"></p>
<ul>
<li><p>è¾¹æ¡†ç±»å‹åˆ†ä¸ºä»¥ä¸‹å‡ ç§ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/083e62a03a338b97ad91db084d26039b-163337" alt="è¾¹æ¡†ç±»å‹"></p>
</li>
</ul>
<h3 id="è®¾ç½®å­—ä½“"><a href="#è®¾ç½®å­—ä½“" class="headerlink" title="è®¾ç½®å­—ä½“"></a>è®¾ç½®å­—ä½“</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">testFont</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">    HSSFWorkbook workbook = <span class="keyword">new</span> HSSFWorkbook();<span class="comment">//åˆ›å»ºExcelæ–‡ä»¶(Workbook)</span></span><br><span class="line">    <span class="comment">//åˆ›å»ºä¸€ä¸ªå·¥ä½œè¡¨sheet</span></span><br><span class="line">    HSSFSheet sheet = workbook.createSheet(<span class="string">"ç¬¬ä¸€ä¸ªsheet"</span>);</span><br><span class="line">    <span class="comment">//åˆ›å»ºç¬¬ä¸€è¡Œ</span></span><br><span class="line">    HSSFRow row = sheet.createRow(<span class="number">1</span>);</span><br><span class="line">    HSSFCell cell = row.createCell(<span class="number">1</span>);</span><br><span class="line">    cell.setCellValue(<span class="string">"è®¾ç½®å­—ä½“"</span>);</span><br><span class="line">    HSSFCellStyle style =workbook.createCellStyle();</span><br><span class="line">    HSSFFont font = workbook.createFont();</span><br><span class="line">    font.setFontName(<span class="string">"åæ–‡è¡Œæ¥·"</span>);<span class="comment">//è®¾ç½®å­—ä½“åç§°</span></span><br><span class="line">    font.setFontHeightInPoints((<span class="keyword">short</span>)<span class="number">28</span>);<span class="comment">//è®¾ç½®å­—å·</span></span><br><span class="line">    font.setColor(HSSFColor.RED.index);<span class="comment">//è®¾ç½®å­—ä½“é¢œè‰²</span></span><br><span class="line">    font.setUnderline(FontFormatting.U_SINGLE);<span class="comment">//è®¾ç½®ä¸‹åˆ’çº¿</span></span><br><span class="line">    font.setTypeOffset(FontFormatting.SS_SUPER);<span class="comment">//è®¾ç½®ä¸Šæ ‡ä¸‹æ ‡</span></span><br><span class="line">    font.setStrikeout(<span class="keyword">true</span>);<span class="comment">//è®¾ç½®åˆ é™¤çº¿</span></span><br><span class="line">    style.setFont(font);</span><br><span class="line">    cell.setCellStyle(style);</span><br><span class="line">    workbook.write(<span class="keyword">new</span> FileOutputStream(<span class="string">"/Users/wander/Desktop/poi2.xls"</span>));</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/503863e6eb17f698060bbb7dc2f0ba1b-362963" alt="è®¾ç½®å­—ä½“æ•ˆæœ"></p>
<ul>
<li>ä¸‹åˆ’çº¿é€‰é¡¹å€¼ï¼š<ul>
<li>å•ä¸‹åˆ’çº¿ FontFormatting.U_SINGLE</li>
<li>åŒä¸‹åˆ’çº¿ FontFormatting.U_DOUBLE</li>
<li>ä¼šè®¡ç”¨å•ä¸‹åˆ’çº¿ FontFormatting.U_SINGLE_ACCOUNTING</li>
<li>ä¼šè®¡ç”¨åŒä¸‹åˆ’çº¿ FontFormatting.U_DOUBLE_ACCOUNTING</li>
<li>æ— ä¸‹åˆ’çº¿ FontFormatting.U_NONE</li>
</ul>
</li>
<li>ä¸Šæ ‡ä¸‹æ ‡é€‰é¡¹å€¼ï¼š<ul>
<li>ä¸Šæ ‡ FontFormatting.SS_SUPER</li>
<li>ä¸‹æ ‡ FontFormatting.SS_SUB</li>
<li>æ™®é€šï¼Œé»˜è®¤å€¼ FontFormatting.SS_NONE</li>
</ul>
</li>
</ul>
<h3 id="èƒŒæ™¯å’Œçº¹ç†"><a href="#èƒŒæ™¯å’Œçº¹ç†" class="headerlink" title="èƒŒæ™¯å’Œçº¹ç†"></a>èƒŒæ™¯å’Œçº¹ç†</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">HSSFCellStyle style = workbook.createCellStyle();</span><br><span class="line">style.setFillForegroundColor(HSSFColor.GREEN.index);<span class="comment">//è®¾ç½®å›¾æ¡ˆé¢œè‰²</span></span><br><span class="line">style.setFillBackgroundColor(HSSFColor.RED.index);<span class="comment">//è®¾ç½®å›¾æ¡ˆèƒŒæ™¯è‰²</span></span><br><span class="line">style.setFillPattern(HSSFCellStyle.SQUARES);<span class="comment">//è®¾ç½®å›¾æ¡ˆæ ·å¼</span></span><br><span class="line">cell.setCellStyle(style);</span><br></pre></td></tr></table></figure>

<ul>
<li><p>å›¾æ¡ˆæ ·å¼å’Œå¯¹åº”çš„å€¼ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/a7d694439db575ec7919aba2d9a5ebe0-238741" alt="å›¾æ¡ˆæ ·å¼"></p>
</li>
</ul>
<h3 id="è®¾ç½®å®½åº¦å’Œé«˜åº¦"><a href="#è®¾ç½®å®½åº¦å’Œé«˜åº¦" class="headerlink" title="è®¾ç½®å®½åº¦å’Œé«˜åº¦"></a>è®¾ç½®å®½åº¦å’Œé«˜åº¦</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">HSSFSheet sheet = workbook.createSheet(<span class="string">"Test"</span>);<span class="comment">// åˆ›å»ºå·¥ä½œè¡¨(Sheet)</span></span><br><span class="line">HSSFRow row = sheet.createRow(<span class="number">1</span>);</span><br><span class="line">HSSFCell cell = row.createCell(<span class="number">1</span>);</span><br><span class="line">cell.setCellValue(<span class="string">"123456789012345678901234567890"</span>);</span><br><span class="line">sheet.setColumnWidth(<span class="number">1</span>, <span class="number">31</span> * <span class="number">256</span>);<span class="comment">//è®¾ç½®ç¬¬ä¸€åˆ—çš„å®½åº¦æ˜¯31ä¸ªå­—ç¬¦å®½åº¦</span></span><br><span class="line">row.setHeightInPoints(<span class="number">50</span>);<span class="comment">//è®¾ç½®è¡Œçš„é«˜åº¦æ˜¯50ä¸ªç‚¹</span></span><br></pre></td></tr></table></figure>

<ul>
<li>è®¾ç½®è¡Œé«˜ä½¿ç”¨HSSFRowå¯¹è±¡çš„setHeightå’ŒsetHeightInPointsæ–¹æ³•ï¼Œè¿™ä¸¤ä¸ªæ–¹æ³•çš„åŒºåˆ«åœ¨äºsetHeightInPointsçš„å•ä½æ˜¯ç‚¹ï¼Œè€ŒsetHeightçš„å•ä½æ˜¯1/20ä¸ªç‚¹ï¼Œæ‰€ä»¥setHeightçš„å€¼æ°¸è¿œæ˜¯setHeightInPointsçš„20å€ï¼›</li>
<li>å¯ä»¥ä½¿ç”¨HSSFSheet.setDefaultColumnWidthã€HSSFSheet.setDefaultRowHeightå’ŒHSSFSheet.setDefaultRowHeightInPointsæ–¹æ³•è®¾ç½®é»˜è®¤çš„åˆ—å®½æˆ–è¡Œé«˜ï¼›</li>
</ul>
<h3 id="Excelå…¬å¼çš„ä½¿ç”¨"><a href="#Excelå…¬å¼çš„ä½¿ç”¨" class="headerlink" title="Excelå…¬å¼çš„ä½¿ç”¨"></a>Excelå…¬å¼çš„ä½¿ç”¨</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">testCal</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    HSSFSheet sheet = workbook.createSheet(<span class="string">"Test"</span>);<span class="comment">// åˆ›å»ºå·¥ä½œè¡¨(Sheet)</span></span><br><span class="line">    HSSFRow row = sheet.createRow(<span class="number">0</span>);</span><br><span class="line">    HSSFCell cell = row.createCell(<span class="number">0</span>);</span><br><span class="line">    cell.setCellFormula(<span class="string">"2+3*4"</span>);<span class="comment">//è®¾ç½®å…¬å¼</span></span><br><span class="line">    cell = row.createCell(<span class="number">1</span>);</span><br><span class="line">    cell.setCellValue(<span class="number">10</span>);</span><br><span class="line">    cell = row.createCell(<span class="number">2</span>);</span><br><span class="line">    cell.setCellFormula(<span class="string">"A1*B1"</span>);<span class="comment">//è®¾ç½®å…¬å¼</span></span><br><span class="line">    row.createCell(<span class="number">0</span>).setCellFormula(<span class="string">"sum(A1,C1)"</span>);<span class="comment">//ç­‰ä»·äº"A1+C1"</span></span><br><span class="line">    row.createCell(<span class="number">1</span>).setCellFormula(<span class="string">"sum(B1:D1)"</span>);<span class="comment">//ç­‰ä»·äº"B1+C1+D1"</span></span><br><span class="line">    cell.setCellFormula(<span class="string">"CONCATENATE(DATEDIF(A1,B1,\"y\"),\"å¹´\")"</span>);</span><br><span class="line">    cell=row.createCell(<span class="number">4</span>);</span><br><span class="line">    cell.setCellFormula(<span class="string">"CONCATENATE(DATEDIF(A1,B1,\"m\"),\"æœˆ\")"</span>);</span><br><span class="line">    cell=row.createCell(<span class="number">5</span>);</span><br><span class="line">    cell.setCellFormula(<span class="string">"CONCATENATE(DATEDIF(A1,B1,\"d\"),\"æ—¥\")"</span>);</span><br><span class="line">    row.createCell(<span class="number">3</span>).setCellFormula(<span class="string">"UPPER(A1)"</span>);</span><br><span class="line">    row.createCell(<span class="number">4</span>).setCellFormula(<span class="string">"PROPER(B1)"</span>);</span><br><span class="line">    row.createCell(<span class="number">3</span>).setCellFormula(<span class="string">"IF(A1&gt;B1,\"A1å¤§äºB1\",\"A1å°äºç­‰äºB1\")"</span>);</span><br><span class="line">    row.createCell(<span class="number">7</span>).setCellFormula(<span class="string">"COUNTIF(A1:F1,\"&gt;=60\")"</span>);</span><br><span class="line">    row.createCell(<span class="number">8</span>).setCellFormula(<span class="string">"SUMIF(A1:F1,\"&gt;=60\",A1:F1)"</span>);</span><br><span class="line">    row.createCell(<span class="number">1</span>).setCellFormula(<span class="string">"LOOKUP(A5,$A$1:$A$4,$C$1:$C$4)"</span>);</span><br><span class="line">    row.createCell(<span class="number">2</span>).setCellFormula(<span class="string">"VLOOKUP(A5,$A$1:$C$4,3,true)"</span>);</span><br><span class="line">    row.createCell(<span class="number">0</span>).setCellFormula(<span class="string">"RAND()"</span>);<span class="comment">//å–0-1ä¹‹é—´çš„éšæœºæ•°</span></span><br><span class="line">    row.createCell(<span class="number">1</span>).setCellFormula(<span class="string">"int(RAND()*100)"</span>);<span class="comment">//å–0-100ä¹‹é—´çš„éšæœºæ•´æ•°</span></span><br><span class="line">    row.createCell(<span class="number">2</span>).setCellFormula(<span class="string">"rand()*10+10"</span>);<span class="comment">//å–10-20ä¹‹é—´çš„éšæœºå®æ•°</span></span><br><span class="line">    row.createCell(<span class="number">3</span>).setCellFormula(<span class="string">"CHAR(INT(RAND()*26)+97)"</span>);<span class="comment">//éšæœºå°å†™å­—æ¯</span></span><br><span class="line">    row.createCell(<span class="number">4</span>).setCellFormula(<span class="string">"CHAR(INT(RAND()*26)+65)"</span>);<span class="comment">//éšæœºå¤§å†™å­—æ¯</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Excelå›¾å½¢"><a href="#Excelå›¾å½¢" class="headerlink" title="Excelå›¾å½¢"></a>Excelå›¾å½¢</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">testFigure</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">    HSSFWorkbook workbook = <span class="keyword">new</span> HSSFWorkbook();<span class="comment">//åˆ›å»ºExcelæ–‡ä»¶(Workbook)</span></span><br><span class="line">    HSSFSheet sheet = workbook.createSheet(<span class="string">"Test"</span>);<span class="comment">// åˆ›å»ºå·¥ä½œè¡¨(Sheet)</span></span><br><span class="line">    HSSFPatriarch patriarch=sheet.createDrawingPatriarch();</span><br><span class="line">    HSSFClientAnchor anchor = <span class="keyword">new</span> HSSFClientAnchor(<span class="number">10</span>,<span class="number">10</span>,<span class="number">10</span>,<span class="number">10</span>,(<span class="keyword">short</span>)<span class="number">1</span>,<span class="number">0</span>,(<span class="keyword">short</span>)<span class="number">4</span>,<span class="number">4</span>);</span><br><span class="line">    HSSFSimpleShape line = patriarch.createSimpleShape(anchor);</span><br><span class="line">    line.setShapeType(HSSFSimpleShape.OBJECT_TYPE_PICTURE);<span class="comment">//è®¾ç½®å›¾å½¢ç±»å‹</span></span><br><span class="line"> 	  line.setShapeType(HSSFSimpleShape.OBJECT_TYPE_RECTANGLE); <span class="comment">//çŸ©å½¢</span></span><br><span class="line">    line.setShapeType(HSSFSimpleShape.OBJECT_TYPE_OVAL); <span class="comment">//åœ†å½¢</span></span><br><span class="line">    line.setLineStyle(HSSFShape.LINESTYLE_SOLID);<span class="comment">//è®¾ç½®å›¾å½¢æ ·å¼</span></span><br><span class="line">    line.setLineWidth(<span class="number">6350</span>);<span class="comment">//åœ¨POIä¸­çº¿çš„å®½åº¦12700è¡¨ç¤º1pt,æ‰€ä»¥è¿™é‡Œæ˜¯0.5ptç²—çš„çº¿æ¡ã€‚</span></span><br><span class="line">    workbook.write(<span class="keyword">new</span> FileOutputStream(<span class="string">"/Users/wander/Desktop/poi2.xls"</span>));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>åˆ©ç”¨POIç”»å›¾ä¸»è¦æœ‰ä»¥ä¸‹å‡ ä¸ªæ­¥éª¤ï¼š<ul>
<li>åˆ›å»ºä¸€ä¸ªPatriarchï¼ˆæ³¨æ„ï¼Œä¸€ä¸ªsheetä¸­é€šå¸¸åªåˆ›å»ºä¸€ä¸ªPatriarchå¯¹è±¡ï¼‰ï¼›</li>
<li>åˆ›å»ºä¸€ä¸ªAnchorï¼Œä»¥ç¡®å®šå›¾å½¢çš„ä½ç½®</li>
<li>è°ƒç”¨Patriarchåˆ›å»ºå›¾å½¢</li>
<li>è®¾ç½®å›¾å½¢ç±»å‹(ç›´çº¿ï¼ŒçŸ©å½¢ï¼Œåœ†å½¢ç­‰)åŠæ ·å¼ï¼ˆé¢œè‰²ï¼Œç²—ç»†ç­‰ï¼‰</li>
</ul>
</li>
</ul>
<h3 id="è¡¨æ ¼æ“ä½œ"><a href="#è¡¨æ ¼æ“ä½œ" class="headerlink" title="è¡¨æ ¼æ“ä½œ"></a>è¡¨æ ¼æ“ä½œ</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// è®¾ç½®é»˜è®¤å·¥ä½œè¡¨</span></span><br><span class="line">  HSSFWorkbook workbook = <span class="keyword">new</span> HSSFWorkbook();<span class="comment">// åˆ›å»ºExcelæ–‡ä»¶(Workbook)</span></span><br><span class="line">  workbook.createSheet(<span class="string">"Test0"</span>);<span class="comment">// åˆ›å»ºå·¥ä½œè¡¨(Sheet)</span></span><br><span class="line">  workbook.createSheet(<span class="string">"Test1"</span>);<span class="comment">// åˆ›å»ºå·¥ä½œè¡¨(Sheet)</span></span><br><span class="line">  workbook.createSheet(<span class="string">"Test2"</span>);<span class="comment">// åˆ›å»ºå·¥ä½œè¡¨(Sheet)</span></span><br><span class="line">  workbook.createSheet(<span class="string">"Test3"</span>);<span class="comment">// åˆ›å»ºå·¥ä½œè¡¨(Sheet)</span></span><br><span class="line">  workbook.setActiveSheet(<span class="number">2</span>);<span class="comment">//è®¾ç½®é»˜è®¤å·¥ä½œè¡¨</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// é‡å‘½åå·¥ä½œè¡¨</span></span><br><span class="line">	workbook.setSheetName(<span class="number">2</span>, <span class="string">"1234"</span>);<span class="comment">//é‡å‘½åå·¥ä½œè¡¨</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// è°ƒæ•´è¡¨å•æ˜¾ç¤ºæ¯”ä¾‹</span></span><br><span class="line">  HSSFSheet sheet1= workbook.createSheet(<span class="string">"Test0"</span>);<span class="comment">// åˆ›å»ºå·¥ä½œè¡¨(Sheet)</span></span><br><span class="line">  HSSFSheet sheet2=workbook.createSheet(<span class="string">"Test1"</span>);<span class="comment">// åˆ›å»ºå·¥ä½œè¡¨(Sheet)</span></span><br><span class="line">  HSSFSheet sheet3=workbook.createSheet(<span class="string">"Test2"</span>);<span class="comment">// åˆ›å»ºå·¥ä½œè¡¨(Sheet)</span></span><br><span class="line">  sheet1.setZoom(<span class="number">1</span>,<span class="number">2</span>);<span class="comment">//50%æ˜¾ç¤ºæ¯”ä¾‹</span></span><br><span class="line">  sheet2.setZoom(<span class="number">2</span>,<span class="number">1</span>);<span class="comment">//200%æ˜¾ç¤ºæ¯”ä¾‹</span></span><br><span class="line">  sheet3.setZoom(<span class="number">1</span>,<span class="number">10</span>);<span class="comment">//10%æ˜¾ç¤ºæ¯”ä¾‹</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//æ˜¾ç¤º/éšè—ç½‘æ ¼çº¿</span></span><br><span class="line">	sheet1.setDisplayGridlines(<span class="keyword">false</span>);<span class="comment">//éšè—Excelç½‘æ ¼çº¿,é»˜è®¤å€¼ä¸ºtrue</span></span><br><span class="line">	sheet2.setGridsPrinted(<span class="keyword">true</span>);<span class="comment">//æ‰“å°æ—¶æ˜¾ç¤ºç½‘æ ¼çº¿,é»˜è®¤å€¼ä¸ºfalse</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// éå†Sheet</span></span><br><span class="line"> HSSFSheet sheet = workbook.getSheet(<span class="string">"Test0"</span>);<span class="comment">//å¾—åˆ°æŒ‡å®šåç§°çš„Sheet</span></span><br><span class="line">        <span class="keyword">for</span> (Row row : sheet) &#123;</span><br><span class="line">            <span class="keyword">for</span> (Cell cell : row) &#123;</span><br><span class="line">                System.out.print(cell + <span class="string">"\t"</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h3 id="å•å…ƒæ ¼å¯†ç "><a href="#å•å…ƒæ ¼å¯†ç " class="headerlink" title="å•å…ƒæ ¼å¯†ç "></a>å•å…ƒæ ¼å¯†ç </h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">testPasswd</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">    HSSFWorkbook workbook = <span class="keyword">new</span> HSSFWorkbook();<span class="comment">// åˆ›å»ºExcelæ–‡ä»¶(Workbook)</span></span><br><span class="line">    HSSFSheet sheet= workbook.createSheet(<span class="string">"Test0"</span>);<span class="comment">// åˆ›å»ºå·¥ä½œè¡¨(Sheet)</span></span><br><span class="line">    HSSFRow row=sheet.createRow(<span class="number">1</span>);</span><br><span class="line">    HSSFCell cell=row.createCell(<span class="number">1</span>);</span><br><span class="line">    cell.setCellValue(<span class="string">"å·²é”å®š"</span>);</span><br><span class="line">    HSSFCellStyle locked = workbook.createCellStyle();</span><br><span class="line">    locked.setLocked(<span class="keyword">true</span>);<span class="comment">//è®¾ç½®é”å®š</span></span><br><span class="line">    cell.setCellStyle(locked);</span><br><span class="line">    cell=row.createCell(<span class="number">2</span>);</span><br><span class="line">    cell.setCellValue(<span class="string">"æœªé”å®š"</span>);</span><br><span class="line">    HSSFCellStyle unlocked = workbook.createCellStyle();</span><br><span class="line">    unlocked.setLocked(<span class="keyword">false</span>);<span class="comment">//è®¾ç½®ä¸é”å®š</span></span><br><span class="line">    cell.setCellStyle(unlocked);</span><br><span class="line">    sheet.protectSheet(<span class="string">"password"</span>);<span class="comment">//è®¾ç½®ä¿æŠ¤å¯†ç </span></span><br><span class="line">    workbook.write(<span class="keyword">new</span> FileOutputStream(<span class="string">"/Users/wander/Desktop/poi2.xls"</span>));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/e89c8af42d00108f7d49d559ba0a30a5-507232" alt="å•å…ƒæ ¼ä¿æŠ¤æ•ˆæœ"></p>
<h3 id="ä¸‹æ‹‰åˆ—è¡¨"><a href="#ä¸‹æ‹‰åˆ—è¡¨" class="headerlink" title="ä¸‹æ‹‰åˆ—è¡¨"></a>ä¸‹æ‹‰åˆ—è¡¨</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">CellRangeAddressList regions = <span class="keyword">new</span> CellRangeAddressList(<span class="number">0</span>, <span class="number">65535</span>,<span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">DVConstraint constraint =DVConstraint.createExplicitListConstraint(<span class="keyword">new</span> String[] &#123; <span class="string">"C++"</span>,<span class="string">"Java"</span>, <span class="string">"C#"</span> &#125;);</span><br><span class="line">HSSFDataValidation dataValidate = <span class="keyword">new</span> HSSFDataValidation(regions,constraint);</span><br><span class="line">sheet.addValidationData(dataValidate);</span><br></pre></td></tr></table></figure>

<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/5ef724590f58ecf36cce0bd4f1e8d040-250458" alt="ä¸‹æ‹‰åˆ—è¡¨æ•ˆæœ"></p>
<h3 id="è¶…é“¾æ¥"><a href="#è¶…é“¾æ¥" class="headerlink" title="è¶…é“¾æ¥"></a>è¶…é“¾æ¥</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">        CreationHelper createHelper = workbook.getCreationHelper();</span><br><span class="line"><span class="comment">// å…³è”åˆ°ç½‘ç«™</span></span><br><span class="line">        Hyperlink link =createHelper.createHyperlink(Hyperlink.LINK_URL);</span><br><span class="line">        link.setAddress(<span class="string">"https://wanderros.github.io/"</span>);</span><br><span class="line">        sheet.createRow(<span class="number">0</span>).createCell(<span class="number">0</span>).setHyperlink(link);</span><br><span class="line"><span class="comment">// å…³è”åˆ°å½“å‰ç›®å½•çš„æ–‡ä»¶</span></span><br><span class="line">        link = createHelper.createHyperlink(Hyperlink.LINK_FILE);</span><br><span class="line">        link.setAddress(<span class="string">"sample.xls"</span>);</span><br><span class="line">        sheet.createRow(<span class="number">3</span>).createCell(<span class="number">1</span>).setHyperlink(link);</span><br><span class="line"><span class="comment">// e-mail å…³è”</span></span><br><span class="line">        link = createHelper.createHyperlink(Hyperlink.LINK_EMAIL);</span><br><span class="line">        link.setAddress(<span class="string">"mailto:poi@apache.org?subject=Hyperlinks"</span>);</span><br><span class="line">        sheet.createRow(<span class="number">3</span>).createCell(<span class="number">2</span>).setHyperlink(link);</span><br><span class="line"><span class="comment">//å…³è”åˆ°å·¥ä½œç°¿ä¸­çš„ä½ç½®</span></span><br><span class="line">        link = createHelper.createHyperlink(Hyperlink.LINK_DOCUMENT);</span><br><span class="line">        link.setAddress(<span class="string">"'Test0'!C3"</span>);<span class="comment">//Sheetåä¸ºTest0çš„C3ä½ç½®</span></span><br><span class="line">        sheet.createRow(<span class="number">3</span>).createCell(<span class="number">3</span>).setHyperlink(link);</span><br></pre></td></tr></table></figure>

<hr>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>ä½¿ç”¨Javaå¼€æºåº“ç”Ÿæˆwordã€excelçœŸçš„æ˜¯å¾ˆæ–¹ä¾¿ï¼è¿™éƒ¨åˆ†å­¦ä¹ èŠ±è´¹çš„æ—¶é—´æ˜¯éå¸¸å€¼å¾—çš„ï¼åç»­å¯ä»¥åœ¨è‡ªå·±çš„é¡¹ç›®ä¸­ä½¿ç”¨ã€‚</p>
]]></content>
      <categories>
        <category>SpringBoot</category>
      </categories>
  </entry>
  <entry>
    <title>SpringBoot å¼‚æ­¥æ¶ˆæ¯</title>
    <url>/2020/05/22/SpringBoot-%E5%BC%82%E6%AD%A5%E6%B6%88%E6%81%AF/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>å¼‚æ­¥æ¶ˆæ¯ä¸»è¦ä¸ºäº†ç³»ç»Ÿä¸ç³»ç»Ÿä¹‹é—´çš„é€šä¿¡ã€‚å¼‚æ­¥æ¶ˆæ¯å³æ¶ˆæ¯å‘é€è€…æ— éœ€ç­‰å¾…æ¶ˆæ¯æ¥æ”¶è€…çš„å¤„ç†ä»¥åŠè¿”å›ï¼Œç”šè‡³æ— é¡»å…³å¿ƒæ¶ˆæ¯æ˜¯å¦å‘é€æˆåŠŸï¼æ¶ˆæ¯æ€»çº¿(Message Queue)ï¼Œæ˜¯ä¸€ç§è·¨è¿›ç¨‹ã€å¼‚æ­¥çš„é€šä¿¡æœºåˆ¶ï¼Œç”¨äºä¸Šä¸‹æ¸¸ä¼ é€’æ¶ˆæ¯ã€‚ç”±æ¶ˆæ¯ç³»ç»Ÿæ¥ç¡®ä¿æ¶ˆæ¯çš„å¯é ä¼ é€’ã€‚</p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="åŸºç¡€çŸ¥è¯†"><a href="#åŸºç¡€çŸ¥è¯†" class="headerlink" title="åŸºç¡€çŸ¥è¯†"></a>åŸºç¡€çŸ¥è¯†</h2><ol>
<li>æ¶ˆæ¯ä»£ç†ï¼ˆmessage brokerï¼‰ï¼šå½“æ¶ˆæ¯å‘é€è€…å‘é€æ¶ˆæ¯ä¹‹åï¼Œæ¶ˆæ¯å°†ä¼šç”±æ¶ˆæ¯ä»£ç†æ¥ç®¡ï¼Œæ¶ˆæ¯ä»£ç†ä¿è¯æ¶ˆæ¯ä¼ é€’åˆ°æŒ‡å®šçš„ç›®çš„åœ°ï¼ˆdestinationï¼‰ï¼›</li>
<li>å¼‚æ­¥æ¶ˆæ¯ä¸»è¦æœ‰ä¸¤ç§å½¢å¼çš„ç›®çš„åœ°ï¼šé˜Ÿåˆ—ï¼ˆqueueï¼‰å’Œä¸»é¢˜ï¼ˆtopicï¼‰<ol>
<li>é˜Ÿåˆ—ç”¨äºç‚¹å¯¹ç‚¹å¼ï¼ˆpoint-to-pointï¼‰çš„æ¶ˆæ¯é€šä¿¡</li>
<li>ä¸»é¢˜ç”¨äºå‘å¸ƒ/è®¢é˜…å¼ï¼ˆpublish/subsrcibeï¼‰çš„æ¶ˆæ¯é€šä¿¡</li>
</ol>
</li>
<li>å½“æ¶ˆæ¯å‘é€è€…å‘é€æ¶ˆæ¯ï¼Œæ¶ˆæ¯ä»£ç†è·å¾—æ¶ˆæ¯åå°†æ¶ˆæ¯æ”¾è¿›ä¸€ä¸ªé˜Ÿåˆ—ï¼ˆqueueï¼‰é‡Œï¼Œå½“æœ‰æ¶ˆæ¯æ¥æ”¶è€…æ¥æ¥æ”¶æ¶ˆæ¯çš„æ—¶å€™ï¼Œæ¶ˆæ¯å°†ä»é˜Ÿåˆ—é‡Œå–å‡ºæ¥ä¼ é€’ç»™æ¥æ”¶è€…ï¼Œè¿™æ—¶å€™é˜Ÿåˆ—é‡Œå°±æ²¡æœ‰äº†è¿™æ¡æ¶ˆæ¯ï¼›</li>
<li>æ³¨æ„ï¼š<strong>ç‚¹å¯¹ç‚¹å¼åªä¿è¯æ¯ä¸€æ¡æ¶ˆæ¯åªæœ‰å”¯ä¸€çš„å‘é€è€…å’Œæ¥æ”¶è€…ï¼›</strong></li>
<li>å‘å¸ƒ/è®¢é˜…å¼æ˜¯æ¶ˆæ¯å‘é€è€…å‘é€æ¶ˆæ¯åˆ°ä¸»é¢˜ï¼Œè€Œå¤šä¸ªæ¶ˆæ¯æ¥æ”¶è€…ç›‘å¬è¿™ä¸ªä¸»é¢˜ï¼›</li>
<li>JMS(Java Message Serviceï¼ŒJavaæ¶ˆæ¯æœåŠ¡)ï¼ŒåŸºäºJVMæ¶ˆæ¯ä»£ç†çš„è§„èŒƒï¼ŒActiveMQã€HornetQæ˜¯ä¸€ä¸ªJMSæ¶ˆæ¯ä»£ç†çš„å®ç°ï¼›</li>
<li>AMQPï¼ˆAdvanced Message Queuing Protocolï¼‰ä¹Ÿæ˜¯ä¸€ä¸ªæ¶ˆæ¯ä»£ç†çš„è§„èŒƒï¼Œä¸ä»…å…¼å®¹JMSï¼Œè€Œä¸”è¿˜æ”¯æŒè·¨è¯­è¨€å’Œå¹³å°ï¼Œä¸»è¦å®ç°æœ‰RabbitMQï¼›</li>
<li>Springä¸ºJMSã€AMQPæä¾›äº†@JmsListenerã€@RabbitListeneræ³¨è§£åœ¨æ–¹æ³•ä¸Šç›‘å¬æ¶ˆæ¯ä»£ç†å‘å¸ƒçš„æ¶ˆæ¯ï¼Œéœ€è¦åˆ†åˆ«é€šè¿‡@EnableJmsã€@EnableRabbitå¼€å¯æ”¯æŒ;</li>
</ol>
<h2 id="å¯åŠ¨ActiveMQæœåŠ¡"><a href="#å¯åŠ¨ActiveMQæœåŠ¡" class="headerlink" title="å¯åŠ¨ActiveMQæœåŠ¡"></a>å¯åŠ¨ActiveMQæœåŠ¡</h2><ol>
<li><p>Dockerä¸‹è½½é•œåƒï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker pull webcenter/activemq</span><br></pre></td></tr></table></figure>
</li>
<li><p>è¿è¡Œé•œåƒï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker run --rm -d -p 61616:61616 -p 8161:8161 webcenter/activemq</span><br></pre></td></tr></table></figure>
</li>
<li><p>å¯ä»¥é€šè¿‡<a href="http://localhost:8161" target="_blank" rel="noopener">http://localhost:8161</a> è®¿é—®æœåŠ¡ï¼Œè´¦æˆ·å’Œå¯†ç éƒ½æ˜¯admin</p>
</li>
</ol>
<h2 id="åˆ›å»ºSpringBootå¼‚æ­¥æ¶ˆæ¯é¡¹ç›®"><a href="#åˆ›å»ºSpringBootå¼‚æ­¥æ¶ˆæ¯é¡¹ç›®" class="headerlink" title="åˆ›å»ºSpringBootå¼‚æ­¥æ¶ˆæ¯é¡¹ç›®"></a>åˆ›å»ºSpringBootå¼‚æ­¥æ¶ˆæ¯é¡¹ç›®</h2><h3 id="æ·»åŠ ä¾èµ–"><a href="#æ·»åŠ ä¾èµ–" class="headerlink" title="æ·»åŠ ä¾èµ–"></a>æ·»åŠ ä¾èµ–</h3><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-activemq<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">       <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-devtools<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">scope</span>&gt;</span>runtime<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">optional</span>&gt;</span>true<span class="tag">&lt;/<span class="name">optional</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-test<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">exclusions</span>&gt;</span></span><br><span class="line">               <span class="tag">&lt;<span class="name">exclusion</span>&gt;</span></span><br><span class="line">                   <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.junit.vintage<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">                   <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit-vintage-engine<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">               <span class="tag">&lt;/<span class="name">exclusion</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;/<span class="name">exclusions</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="é…ç½®æ–‡ä»¶"><a href="#é…ç½®æ–‡ä»¶" class="headerlink" title="é…ç½®æ–‡ä»¶"></a>é…ç½®æ–‡ä»¶</h3><figure class="highlight properties"><table><tr><td class="code"><pre><span class="line"><span class="meta">spring.activemq.broker-url</span>=<span class="string">tcp://localhost:61616</span></span><br><span class="line"><span class="meta">spring.activemq.user</span>=<span class="string">admin</span></span><br><span class="line"><span class="meta">spring.activemq.password</span>=<span class="string">admin</span></span><br><span class="line"><span class="meta">spring.jms.pub-sub-domain</span>=<span class="string">false</span></span><br><span class="line"><span class="meta">spring.activemq.pool.enabled</span>=<span class="string">false</span></span><br></pre></td></tr></table></figure>

<h3 id="ä¸»ç¨‹åº"><a href="#ä¸»ç¨‹åº" class="headerlink" title="ä¸»ç¨‹åº"></a>ä¸»ç¨‹åº</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="meta">@EnableJms</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DemoApplication</span> <span class="keyword">implements</span> <span class="title">CommandLineRunner</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    JmsTemplate jmsTemplate;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        SpringApplication.run(DemoApplication<span class="class">.<span class="keyword">class</span>, <span class="title">args</span>)</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">(String... args)</span><span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">        jmsTemplate.send(<span class="string">"my-destination"</span>,<span class="keyword">new</span> Msg());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="æ¥æ”¶æ¶ˆæ¯ç±»"><a href="#æ¥æ”¶æ¶ˆæ¯ç±»" class="headerlink" title="æ¥æ”¶æ¶ˆæ¯ç±»"></a>æ¥æ”¶æ¶ˆæ¯ç±»</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Receiver</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@JmsListener</span>(destination = <span class="string">"my-destination"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">receiveMessage</span><span class="params">(String message)</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"æ¥æ”¶åˆ°æ¶ˆæ¯ï¼š"</span> + message);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="æ¶ˆæ¯ç±»"><a href="#æ¶ˆæ¯ç±»" class="headerlink" title="æ¶ˆæ¯ç±»"></a>æ¶ˆæ¯ç±»</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Msg</span> <span class="keyword">implements</span> <span class="title">MessageCreator</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Message <span class="title">createMessage</span><span class="params">(Session session)</span> <span class="keyword">throws</span> JMSException </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> session.createTextMessage(<span class="string">"æµ‹è¯•æ¶ˆæ¯"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="è¿è¡Œç¨‹åº"><a href="#è¿è¡Œç¨‹åº" class="headerlink" title="è¿è¡Œç¨‹åº"></a>è¿è¡Œç¨‹åº</h3><p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/31469ff63dfdc9fa671912c8957b4b01-76910" alt=""></p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/950e215ff18c1819ae87efeabaaf01fc-55933" alt=""></p>
<h2 id="RocketMQ"><a href="#RocketMQ" class="headerlink" title="RocketMQ"></a>RocketMQ</h2><h3 id="åŸºç¡€çŸ¥è¯†-1"><a href="#åŸºç¡€çŸ¥è¯†-1" class="headerlink" title="åŸºç¡€çŸ¥è¯†"></a>åŸºç¡€çŸ¥è¯†</h3><ol>
<li><p>RocketMQ æ˜¯é˜¿é‡Œå·´å·´åœ¨2012å¹´å¼€æºçš„åˆ†å¸ƒå¼æ¶ˆæ¯ä¸­é—´ä»¶ï¼Œç›®å‰å·²ç»æèµ ç»™ Apache è½¯ä»¶åŸºé‡‘ä¼šï¼Œå¹¶äº2017å¹´9æœˆ25æ—¥æˆä¸º Apache çš„é¡¶çº§é¡¹ç›®ï¼</p>
</li>
<li><p>ä¸€ä¸ªå…¸å‹çš„æ¶ˆæ¯ä¸­é—´ä»¶æ”¶å‘æ¶ˆæ¯çš„æ¨¡å‹å¦‚ä¸‹æ‰€ç¤ºï¼ŒRocketMQä¹Ÿæ˜¯æŒ‰ç…§è¿™ç§æ¨¡å‹è¿›è¡Œçš„è®¾è®¡ï¼›</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/f9890ccbf0daaf661bb14714d74cbda0-26350" alt="å…¸å‹æ¶ˆæ¯ä¸­é—´ä»¶æ”¶å‘æ¶ˆæ¯çš„æ¨¡å‹"></p>
</li>
<li><p>RocketMQçš„ç‰¹ç‚¹ï¼š</p>
<ul>
<li>ä¸€ä¸ªé˜Ÿåˆ—æ¨¡å‹çš„æ¶ˆæ¯ä¸­é—´ä»¶ï¼Œå…·æœ‰é«˜æ€§èƒ½ã€é«˜å¯é ã€é«˜å®æ—¶ã€åˆ†å¸ƒå¼ç‰¹ç‚¹</li>
<li>Producerã€Consumerã€é˜Ÿåˆ—éƒ½å¯ä»¥åˆ†å¸ƒå¼</li>
<li>Producerå‘ä¸€äº›é˜Ÿåˆ—è½®æµå‘é€æ¶ˆæ¯ï¼Œé˜Ÿåˆ—é›†åˆç§°ä¸ºTopicï¼ŒConsumerå¦‚æœåšå¹¿æ’­æ¶ˆè´¹ï¼Œåˆ™ä¸€ä¸ªConsumerå®ä¾‹æ¶ˆè´¹è¿™ä¸ªTopicå¯¹åº”çš„æ‰€æœ‰é˜Ÿåˆ—ï¼Œå¦‚æœåšé›†ç¾¤æ¶ˆè´¹ï¼Œåˆ™å¤šä¸ªConsumerå®ä¾‹å¹³å‡æ¶ˆè´¹è¿™ä¸ªtopicå¯¹åº”çš„é˜Ÿåˆ—é›†åˆ</li>
<li>æ”¯æŒäº‹åŠ¡æ¶ˆæ¯ï¼Œè¿™ä¸ªç‰¹æ€§å¯¹äºåˆ†å¸ƒå¼äº‹åŠ¡æ¥è¯´æä¾›äº†åˆä¸€ç§è§£å†³æ€è·¯</li>
<li>å›æº¯æ¶ˆè´¹ï¼Œæ¶ˆè´¹è€…å·²ç»æ¶ˆè´¹æˆåŠŸçš„æ¶ˆæ¯ï¼Œç”±äºä¸šåŠ¡ä¸Šéœ€æ±‚éœ€è¦é‡æ–°æ¶ˆè´¹ï¼ŒRocketMQ æ”¯æŒæŒ‰ç…§æ—¶é—´å›æº¯æ¶ˆè´¹ï¼Œæ—¶é—´ç»´åº¦ç²¾ç¡®åˆ°æ¯«ç§’ï¼Œå¯ä»¥å‘å‰å›æº¯ï¼Œä¹Ÿå¯ä»¥å‘åå›æº¯</li>
<li>èƒ½å¤Ÿä¿è¯ä¸¥æ ¼çš„æ¶ˆæ¯é¡ºåº</li>
<li>æä¾›ä¸°å¯Œçš„æ¶ˆæ¯æ‹‰å–æ¨¡å¼</li>
<li>é«˜æ•ˆçš„è®¢é˜…è€…æ°´å¹³æ‰©å±•èƒ½åŠ›</li>
<li>å®æ—¶çš„æ¶ˆæ¯è®¢é˜…æœºåˆ¶</li>
<li>äº¿çº§æ¶ˆæ¯å †ç§¯èƒ½åŠ›</li>
<li>è¾ƒå°‘çš„ä¾èµ–</li>
</ul>
</li>
<li><p>RocketMQçš„ç‰©ç†éƒ¨ç½²ç»“æ„å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/2f6234928a8897dbd9878e653486d88b-132764" alt="RocketMQçš„ç‰©ç†éƒ¨ç½²ç»“æ„"></p>
<ul>
<li>Name Serveræ˜¯ä¸€ä¸ªå‡ ä¹æ— çŠ¶æ€èŠ‚ç‚¹ï¼Œå¯é›†ç¾¤éƒ¨ç½²ï¼ŒèŠ‚ç‚¹ä¹‹é—´æ— ä»»ä½•ä¿¡æ¯åŒæ­¥</li>
<li>Brokeréƒ¨ç½²ç›¸å¯¹å¤æ‚ï¼ŒBrokeråˆ†ä¸ºMasterä¸Slaveï¼Œä¸€ä¸ªMasterå¯ä»¥å¯¹åº”å¤šä¸ªSlaveï¼Œä½†æ˜¯ä¸€ä¸ªSlaveåªèƒ½å¯¹åº”ä¸€ä¸ªMasterï¼ŒMasterä¸Slaveçš„å¯¹åº”å…³ç³»é€šè¿‡æŒ‡å®šç›¸åŒçš„BrokerNameï¼Œä¸åŒçš„BrokerIdæ¥å®šä¹‰ï¼ŒBrokerIdä¸º0è¡¨ç¤ºMasterï¼Œé0è¡¨ç¤ºSlaveã€‚Masterä¹Ÿå¯ä»¥éƒ¨ç½²å¤šä¸ªã€‚æ¯ä¸ªBrokerä¸Name Serveré›†ç¾¤ä¸­çš„æ‰€æœ‰èŠ‚ç‚¹å»ºç«‹é•¿è¿æ¥ï¼Œå®šæ—¶æ³¨å†ŒTopicä¿¡æ¯åˆ°æ‰€æœ‰Name Server</li>
<li>Producerä¸Name Serveré›†ç¾¤ä¸­çš„å…¶ä¸­ä¸€ä¸ªèŠ‚ç‚¹ï¼ˆéšæœºé€‰æ‹©ï¼‰å»ºç«‹é•¿è¿æ¥ï¼Œå®šæœŸä»Name Serverå–Topicè·¯ç”±ä¿¡æ¯ï¼Œå¹¶å‘æä¾›TopicæœåŠ¡çš„Masterå»ºç«‹é•¿è¿æ¥ï¼Œä¸”å®šæ—¶å‘Masterå‘é€å¿ƒè·³ã€‚Producerå®Œå…¨æ— çŠ¶æ€ï¼Œå¯é›†ç¾¤éƒ¨ç½²</li>
</ul>
</li>
<li><p><strong>ç”Ÿäº§è€…ï¼š</strong>è´Ÿè´£äº§ç”Ÿæ¶ˆæ¯ï¼Œç”Ÿäº§è€…å‘æ¶ˆæ¯æœåŠ¡å™¨å‘é€ç”±ä¸šåŠ¡åº”ç”¨ç¨‹åºç³»ç»Ÿç”Ÿæˆçš„æ¶ˆæ¯ã€‚RocketMQ æä¾›äº†ä¸‰ç§æ–¹å¼å‘é€æ¶ˆæ¯ï¼šåŒæ­¥ã€å¼‚æ­¥å’Œå•å‘ï¼›</p>
</li>
<li><p><strong>åŒæ­¥å‘é€ï¼š</strong>æ¶ˆæ¯å‘é€æ–¹å‘å‡ºæ•°æ®åä¼šåœ¨æ”¶åˆ°æ¥æ”¶æ–¹å‘å›å“åº”ä¹‹åæ‰å‘ä¸‹ä¸€ä¸ªæ•°æ®åŒ…ã€‚ä¸€èˆ¬ç”¨äºé‡è¦é€šçŸ¥æ¶ˆæ¯ï¼Œä¾‹å¦‚é‡è¦é€šçŸ¥é‚®ä»¶ã€è¥é”€çŸ­ä¿¡ï¼›</p>
</li>
<li><p><strong>å¼‚æ­¥å‘é€ï¼š</strong>å‘é€æ–¹å‘å‡ºæ•°æ®åï¼Œä¸ç­‰æ¥æ”¶æ–¹å‘å›å“åº”ï¼Œæ¥ç€å‘é€ä¸‹ä¸ªæ•°æ®åŒ…ã€‚ä¸€èˆ¬ç”¨äºå¯èƒ½é“¾è·¯è€—æ—¶è¾ƒé•¿è€Œå¯¹å“åº”æ—¶é—´æ•æ„Ÿçš„ä¸šåŠ¡åœºæ™¯ï¼Œä¾‹å¦‚ç”¨æˆ·è§†é¢‘ä¸Šä¼ åé€šçŸ¥å¯åŠ¨è½¬ç æœåŠ¡ï¼›</p>
</li>
<li><p><strong>å•å‘å‘é€ï¼š</strong>åªè´Ÿè´£å‘é€æ¶ˆæ¯è€Œä¸ç­‰å¾…æœåŠ¡å™¨å›åº”ä¸”æ²¡æœ‰å›è°ƒå‡½æ•°è§¦å‘ã€‚é€‚ç”¨äºæŸäº›è€—æ—¶éå¸¸çŸ­ä½†å¯¹å¯é æ€§è¦æ±‚å¹¶ä¸é«˜çš„åœºæ™¯ï¼Œä¾‹å¦‚æ—¥å¿—æ”¶é›†ï¼›</p>
</li>
<li><p><strong>æ¶ˆè´¹è€…ï¼š</strong>è´Ÿè´£æ¶ˆè´¹æ¶ˆæ¯ï¼Œæ¶ˆè´¹è€…ä»æ¶ˆæ¯æœåŠ¡å™¨æ‹‰å–ä¿¡æ¯å¹¶å°†å…¶è¾“å…¥ç”¨æˆ·åº”ç”¨ç¨‹åºã€‚ç«™åœ¨ç”¨æˆ·åº”ç”¨çš„è§’åº¦æ¶ˆè´¹è€…æœ‰ä¸¤ç§ç±»å‹ï¼šæ‹‰å–å‹æ¶ˆè´¹è€…ã€æ¨é€å‹æ¶ˆè´¹è€…ï¼›</p>
</li>
<li><p><strong>æ‹‰å–å‹æ¶ˆè´¹è€…ï¼š</strong>ä¸»åŠ¨ä»æ¶ˆæ¯æœåŠ¡å™¨æ‹‰å–ä¿¡æ¯ï¼Œåªè¦æ‰¹é‡æ‹‰å–åˆ°æ¶ˆæ¯ï¼Œç”¨æˆ·åº”ç”¨å°±ä¼šå¯åŠ¨æ¶ˆè´¹è¿‡ç¨‹ï¼›</p>
</li>
<li><p><strong>æ¨é€å‹æ¶ˆè´¹è€…ï¼š</strong>å°è£…äº†æ¶ˆæ¯çš„æ‹‰å–ã€æ¶ˆè´¹è¿›åº¦å’Œå…¶ä»–çš„å†…éƒ¨ç»´æŠ¤å·¥ä½œï¼Œå°†æ¶ˆæ¯åˆ°è¾¾æ—¶æ‰§è¡Œçš„å›è°ƒæ¥å£ç•™ç»™ç”¨æˆ·åº”ç”¨ç¨‹åºæ¥å®ç°ï¼›</p>
</li>
<li><p><strong>æ¶ˆæ¯æœåŠ¡å™¨ï¼ˆBrokerï¼‰ï¼š</strong>æ¶ˆæ¯å­˜å‚¨ä¸­å¿ƒï¼Œä¸»è¦ä½œç”¨æ˜¯æ¥æ”¶æ¥è‡ª Producer çš„æ¶ˆæ¯å¹¶å­˜å‚¨ï¼Œ Consumer ä»è¿™é‡Œå–å¾—æ¶ˆæ¯ï¼›</p>
</li>
<li><p><strong>åç§°æœåŠ¡å™¨ï¼ˆNameServerï¼‰ï¼š</strong>ç”¨æ¥ä¿å­˜ Broker ç›¸å…³å…ƒä¿¡æ¯å¹¶ç»™ Producer å’Œ Consumer æŸ¥æ‰¾ Broker ä¿¡æ¯ï¼›</p>
</li>
<li><p><strong>æ¶ˆæ¯ï¼ˆMessageï¼‰ï¼š</strong>è¦ä¼ è¾“çš„ä¿¡æ¯ã€‚ä¸€æ¡æ¶ˆæ¯å¿…é¡»æœ‰ä¸€ä¸ªä¸»é¢˜ï¼ˆTopicï¼‰ï¼Œä¸»é¢˜å¯ä»¥çœ‹åšæ˜¯ä¿¡ä»¶è¦é‚®å¯„çš„åœ°å€ã€‚ä¸€æ¡æ¶ˆæ¯ä¹Ÿå¯ä»¥æ‹¥æœ‰ä¸€ä¸ªå¯é€‰çš„æ ‡ç­¾ï¼ˆTagï¼‰å’Œé¢å¤„çš„é”®å€¼å¯¹ï¼Œå®ƒä»¬å¯ä»¥ç”¨äºè®¾ç½®ä¸€ä¸ªä¸šåŠ¡ key å¹¶åœ¨ Broker ä¸ŠæŸ¥æ‰¾æ­¤æ¶ˆæ¯ä»¥ä¾¿åœ¨å¼€å‘æœŸé—´æŸ¥æ‰¾é—®é¢˜ï¼›</p>
</li>
<li><p>é€šä¿¡å…³ç³»å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/7f9d07fec27304367e55f9899f1e9fe2-33277" alt="é€šä¿¡å…³ç³»"></p>
</li>
<li><p>GitHubç½‘å€ï¼š<a href="https://github.com/apache/rocketmq" target="_blank" rel="noopener">https://github.com/apache/rocketmq</a></p>
</li>
<li><p>ç›®å‰åœ¨ Spring æ¡†æ¶ä¸­é›†æˆ RocketMQ æœ‰ä¸‰ç§æ–¹å¼ï¼š</p>
<ul>
<li>å°†æ¶ˆæ¯ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…å®šä¹‰æˆ bean å¯¹è±¡äº¤ç”± Spring å®¹å™¨ç®¡ç†</li>
<li>ä½¿ç”¨ RocketMQ ç¤¾åŒºçš„å¤–éƒ¨é¡¹ç›® rocketmq-jmsï¼ˆ<a href="https://github.com/apache/rocketmq-externals/tree/master/rocketmq-jmsï¼‰ç„¶åé€šè¿‡" target="_blank" rel="noopener">https://github.com/apache/rocketmq-externals/tree/master/rocketmq-jmsï¼‰ç„¶åé€šè¿‡</a> spring-jms æ–¹å¼é›†æˆä½¿ç”¨</li>
<li>åº”ç”¨å¦‚æœæ˜¯åŸºäºSpringBootå¼€å‘çš„ï¼Œå¯ä»¥ä½¿ç”¨ RocketMQ çš„å¤–éƒ¨é¡¹ç›® rocketmq-spring-boot-starterï¼ˆ<a href="https://github.com/apache/rocketmq-externals/tree/master/rocketmq-spring-boot-starterï¼‰æ¯”è¾ƒæ–¹ä¾¿çš„æ”¶å‘æ¶ˆæ¯" target="_blank" rel="noopener">https://github.com/apache/rocketmq-externals/tree/master/rocketmq-spring-boot-starterï¼‰æ¯”è¾ƒæ–¹ä¾¿çš„æ”¶å‘æ¶ˆæ¯</a></li>
</ul>
</li>
</ol>
<h3 id="Dockerå¿«é€Ÿéƒ¨ç½²RocketMQ"><a href="#Dockerå¿«é€Ÿéƒ¨ç½²RocketMQ" class="headerlink" title="Dockerå¿«é€Ÿéƒ¨ç½²RocketMQ"></a>Dockerå¿«é€Ÿéƒ¨ç½²RocketMQ</h3><p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/ac7614b8fce87cc9bfc9814b7d6aabb4-23397" alt="Dockerå’ŒRocketMQ"></p>
<h4 id="ä¸‹è½½é•œåƒï¼š"><a href="#ä¸‹è½½é•œåƒï¼š" class="headerlink" title="ä¸‹è½½é•œåƒï¼š"></a>ä¸‹è½½é•œåƒï¼š</h4><ol>
<li><p>ä¸‹è½½RocketMQé•œåƒï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker pull rocketmqinc/rocketmq</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä¸‹è½½RocketMQå¯è§†åŒ–æ§åˆ¶å°ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker pull pangliang/rocketmq-console-ng</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ³¨æ„ï¼šè¿™é‡Œä¸‹è½½çš„RocketMQç‰ˆæœ¬æ˜¯4.4.0ï¼ŒSpringBootä¸­çš„ä¾èµ–ç‰ˆæœ¬è¦å’Œè¿™ä¸ªç‰ˆæœ¬ä¸€è‡´ï¼›</p>
</li>
</ol>
<h4 id="å¯åŠ¨åç§°æœåŠ¡ä»¥åŠæ¶ˆæ¯æœåŠ¡"><a href="#å¯åŠ¨åç§°æœåŠ¡ä»¥åŠæ¶ˆæ¯æœåŠ¡" class="headerlink" title="å¯åŠ¨åç§°æœåŠ¡ä»¥åŠæ¶ˆæ¯æœåŠ¡"></a>å¯åŠ¨åç§°æœåŠ¡ä»¥åŠæ¶ˆæ¯æœåŠ¡</h4><ol>
<li><p>å¯åŠ¨åç§°æœåŠ¡ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker run -d -p 9876:9876 -v &#123;RmHome&#125;/data/namesrv/logs:/root/logs -v &#123;RmHome&#125;/data/namesrv/store:/root/store --name rmqnamesrv -e "MAX_POSSIBLE_HEAP=100000000" rocketmqinc/rocketmq:4.4.0 sh mqnamesrv</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>{RmHome}</strong> è¦æ›¿æ¢æˆä½ çš„å®¿ä¸»æœºæƒ³ä¿å­˜ MQ çš„æ—¥å¿—ä¸æ•°æ®çš„åœ°æ–¹</li>
<li>å¦‚æœä¸ä¿å­˜çš„è¯ï¼Œæ‰€æœ‰æ•°æ®éƒ½é»˜è®¤ä¿å­˜åœ¨å®¹å™¨è¿è¡Œæ—¶çš„å†…å­˜ä¸­ï¼Œé‡å¯ä¹‹åå°±åˆå›åˆ°æœ€åˆçš„èµ·ç‚¹</li>
</ul>
</li>
<li><p>å¯åŠ¨æ¶ˆæ¯æœåŠ¡ï¼š</p>
<ol>
<li><p>åœ¨ {RmHome}/conf ç›®å½•ä¸‹åˆ›å»º broker.conf æ–‡ä»¶</p>
</li>
<li><p>åœ¨ broker.conf ä¸­å†™å…¥å¦‚ä¸‹å†…å®¹ï¼š</p>
<figure class="highlight properties"><table><tr><td class="code"><pre><span class="line"><span class="attr">brokerClusterName</span> = <span class="string">DefaultCluster</span></span><br><span class="line"><span class="attr">brokerName</span> = <span class="string">broker-a</span></span><br><span class="line"><span class="attr">brokerId</span> = <span class="string">0</span></span><br><span class="line"><span class="attr">deleteWhen</span> = <span class="string">04</span></span><br><span class="line"><span class="attr">fileReservedTime</span> = <span class="string">48</span></span><br><span class="line"><span class="attr">brokerRole</span> = <span class="string">ASYNC_MASTER</span></span><br><span class="line"><span class="attr">flushDiskType</span> = <span class="string">ASYNC_FLUSH</span></span><br><span class="line"><span class="attr">brokerIP1</span> = <span class="string">&#123;æœ¬åœ°å¤–ç½‘ IP&#125;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>brokerIP1 è¦ä¿®æ”¹æˆä½ è‡ªå·±å®¿ä¸»æœºçš„ IP</li>
</ul>
</li>
<li><p>å¯åŠ¨å®¹å™¨ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker run -d -p 10911:10911 -p 10909:10909 -v  &#123;RmHome&#125;/data/broker/logs:/root/logs -v  &#123;RmHome&#125;/rocketmq/data/broker/store:/root/store -v  &#123;RmHome&#125;/conf/broker.conf:/opt/rocketmq-4.4.0/conf/broker.conf --name rmqbroker --link rmqnamesrv:namesrv -e "NAMESRV_ADDR=namesrv:9876" -e "MAX_POSSIBLE_HEAP=200000000" rocketmqinc/rocketmq:4.4.0 sh mqbroker -c /opt/rocketmq-4.4.0/conf/broker.conf</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>{RmHome}</strong>è¦æ›¿æ¢æˆä½ çš„å®¿ä¸»æœºæƒ³ä¿å­˜ MQ çš„æ—¥å¿—ä¸æ•°æ®çš„åœ°æ–¹</li>
<li>broker.conf çš„æ–‡ä»¶ä¸­çš„ brokerIP1 æ˜¯ broker æ³¨å†Œåˆ° Namesrv ä¸­çš„ ip</li>
</ul>
</li>
</ol>
</li>
</ol>
<h4 id="å¯åŠ¨RocketMQæ§åˆ¶å°"><a href="#å¯åŠ¨RocketMQæ§åˆ¶å°" class="headerlink" title="å¯åŠ¨RocketMQæ§åˆ¶å°"></a>å¯åŠ¨RocketMQæ§åˆ¶å°</h4><ol>
<li><p>å¯åŠ¨å®¹å™¨ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker run -d -e "JAVA_OPTS=-Drocketmq.namesrv.addr=&#123;æœ¬åœ°å¤–ç½‘ IP&#125;:9876 -Dcom.rocketmq.sendMessageWithVIPChannel=false" -p 8080:8080 -t pangliang/rocketmq-console-ng</span><br></pre></td></tr></table></figure>

<ul>
<li>{æœ¬åœ°å¤–ç½‘ IP}ä¸ºæœ¬æœºIPåœ°å€</li>
</ul>
</li>
</ol>
<h3 id="SpringBootæ•´åˆRocketMQ"><a href="#SpringBootæ•´åˆRocketMQ" class="headerlink" title="SpringBootæ•´åˆRocketMQ"></a>SpringBootæ•´åˆRocketMQ</h3><ol>
<li><p>åˆ›å»ºä¸€ä¸ªSpringBooté¡¹ç›®ï¼Œç„¶åæ·»åŠ RocketMQä¾èµ–ï¼ˆpom.xmlï¼‰:</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--æ³¨æ„ï¼š è¿™é‡Œçš„ç‰ˆæœ¬,è¦å’Œéƒ¨ç½²åœ¨æœåŠ¡å™¨ä¸Šçš„ç‰ˆæœ¬å·ä¸€è‡´--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.rocketmq<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>rocketmq-client<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.4.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>åˆ›å»ºé…ç½®ç±»JmsConfig(è¿æ¥RocketMQæœåŠ¡å™¨é…ç½®ç±»)ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span>: å®‰è£…å®é™…å¼€å‘è¿™é‡Œçš„ä¿¡æ¯ éƒ½æ˜¯åº”è¯¥å†™åœ¨é…ç½®é‡Œï¼Œæ¥è¯»å–ï¼Œè¿™é‡Œä¸ºäº†æ–¹ä¾¿æ‰€ä»¥å†™æˆå¸¸é‡</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">JmsConfig</span> </span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Name Server åœ°å€ï¼Œå› ä¸ºæ˜¯é›†ç¾¤éƒ¨ç½² æ‰€ä»¥æœ‰å¤šä¸ªç”¨ åˆ†å· éš”å¼€</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String NAME_SERVER = <span class="string">"127.12.15.6:9876;127.12.15.6:9877"</span>;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ä¸»é¢˜åç§° ä¸»é¢˜ä¸€èˆ¬æ˜¯æœåŠ¡å™¨è®¾ç½®å¥½ è€Œä¸èƒ½åœ¨ä»£ç é‡Œå»æ–°å»ºtopicï¼ˆ å¦‚æœæ²¡æœ‰åˆ›å»ºå¥½ï¼Œç”Ÿäº§è€…å¾€è¯¥ä¸»é¢˜å‘é€æ¶ˆæ¯ ä¼šæŠ¥æ‰¾ä¸åˆ°topicé”™è¯¯ï¼‰</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String TOPIC = <span class="string">"topic_family"</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>ç”Ÿäº§è€…ç±»Producerï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Slf</span>4j</span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Producer</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String producerGroup = <span class="string">"test_producer"</span>;</span><br><span class="line">    <span class="keyword">private</span> DefaultMQProducer producer;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Producer</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="comment">//ç¤ºä¾‹ç”Ÿäº§è€…</span></span><br><span class="line">        producer = <span class="keyword">new</span> DefaultMQProducer(producerGroup);</span><br><span class="line">        <span class="comment">//ä¸å¼€å¯vipé€šé“</span></span><br><span class="line">        producer.setVipChannelEnabled(<span class="keyword">false</span>);</span><br><span class="line">        <span class="comment">//ç»‘å®šname server</span></span><br><span class="line">        producer.setNamesrvAddr(JmsConfig.NAME_SERVER);</span><br><span class="line">        start();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å¯¹è±¡åœ¨ä½¿ç”¨ä¹‹å‰å¿…é¡»è¦è°ƒç”¨ä¸€æ¬¡ï¼Œåªèƒ½åˆå§‹åŒ–ä¸€æ¬¡</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">start</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">this</span>.producer.start();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (MQClientException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> DefaultMQProducer <span class="title">getProducer</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.producer;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ä¸€èˆ¬åœ¨åº”ç”¨ä¸Šä¸‹æ–‡ï¼Œä½¿ç”¨ä¸Šä¸‹æ–‡ç›‘å¬å™¨ï¼Œè¿›è¡Œå…³é—­</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">shutdown</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.producer.shutdown();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ¶ˆè´¹è€…ç±»Consumerï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Slf</span>4j</span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Consumer</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ¶ˆè´¹è€…å®ä½“å¯¹è±¡</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> DefaultMQPushConsumer consumer;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ¶ˆè´¹è€…ç»„</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String CONSUMER_GROUP = <span class="string">"test_consumer"</span>;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * é€šè¿‡æ„é€ å‡½æ•° å®ä¾‹åŒ–å¯¹è±¡</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Consumer</span><span class="params">()</span> <span class="keyword">throws</span> MQClientException </span>&#123;</span><br><span class="line"></span><br><span class="line">        consumer = <span class="keyword">new</span> DefaultMQPushConsumer(CONSUMER_GROUP);</span><br><span class="line">        consumer.setNamesrvAddr(JmsConfig.NAME_SERVER);</span><br><span class="line">        <span class="comment">//æ¶ˆè´¹æ¨¡å¼:ä¸€ä¸ªæ–°çš„è®¢é˜…ç»„ç¬¬ä¸€æ¬¡å¯åŠ¨ä»é˜Ÿåˆ—çš„æœ€åä½ç½®å¼€å§‹æ¶ˆè´¹ åç»­å†å¯åŠ¨æ¥ç€ä¸Šæ¬¡æ¶ˆè´¹çš„è¿›åº¦å¼€å§‹æ¶ˆè´¹</span></span><br><span class="line">        consumer.setConsumeFromWhere(ConsumeFromWhere.CONSUME_FROM_LAST_OFFSET);</span><br><span class="line">        <span class="comment">//è®¢é˜…ä¸»é¢˜å’Œ æ ‡ç­¾ï¼ˆ * ä»£è¡¨æ‰€æœ‰æ ‡ç­¾)ä¸‹ä¿¡æ¯</span></span><br><span class="line">        consumer.subscribe(JmsConfig.TOPIC, <span class="string">"*"</span>);</span><br><span class="line">        <span class="comment">// //æ³¨å†Œæ¶ˆè´¹çš„ç›‘å¬ å¹¶åœ¨æ­¤ç›‘å¬ä¸­æ¶ˆè´¹ä¿¡æ¯ï¼Œå¹¶è¿”å›æ¶ˆè´¹çš„çŠ¶æ€ä¿¡æ¯</span></span><br><span class="line">        consumer.registerMessageListener((MessageListenerConcurrently) (msgs, context) -&gt; &#123;</span><br><span class="line">            <span class="comment">// msgsä¸­åªæ”¶é›†åŒä¸€ä¸ªtopicï¼ŒåŒä¸€ä¸ªtagï¼Œå¹¶ä¸”keyç›¸åŒçš„message</span></span><br><span class="line">            <span class="comment">// ä¼šæŠŠä¸åŒçš„æ¶ˆæ¯åˆ†åˆ«æ”¾ç½®åˆ°ä¸åŒçš„é˜Ÿåˆ—ä¸­</span></span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="keyword">for</span> (Message msg : msgs) &#123;</span><br><span class="line"></span><br><span class="line">                    <span class="comment">//æ¶ˆè´¹è€…è·å–æ¶ˆæ¯ è¿™é‡Œåªè¾“å‡º ä¸åšåé¢é€»è¾‘å¤„ç†</span></span><br><span class="line">                    String body = <span class="keyword">new</span> String(msg.getBody(), <span class="string">"utf-8"</span>);</span><br><span class="line">                    log.info(<span class="string">"Consumer-è·å–æ¶ˆæ¯-ä¸»é¢˜topicä¸º=&#123;&#125;, æ¶ˆè´¹æ¶ˆæ¯ä¸º=&#123;&#125;"</span>, msg.getTopic(), body);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">catch</span> (UnsupportedEncodingException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">                <span class="keyword">return</span> ConsumeConcurrentlyStatus.RECONSUME_LATER;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> ConsumeConcurrentlyStatus.CONSUME_SUCCESS;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        consumer.start();</span><br><span class="line">        System.out.println(<span class="string">"æ¶ˆè´¹è€… å¯åŠ¨æˆåŠŸ======="</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>æµ‹è¯•æ§åˆ¶å™¨Controllerï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Slf</span>4j</span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Controller</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> Producer producer;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> List&lt;String&gt; mesList;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * åˆå§‹åŒ–æ¶ˆæ¯</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Controller</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        mesList = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        mesList.add(<span class="string">"å°å°"</span>);</span><br><span class="line">        mesList.add(<span class="string">"çˆ¸çˆ¸"</span>);</span><br><span class="line">        mesList.add(<span class="string">"å¦ˆå¦ˆ"</span>);</span><br><span class="line">        mesList.add(<span class="string">"çˆ·çˆ·"</span>);</span><br><span class="line">        mesList.add(<span class="string">"å¥¶å¥¶"</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping</span>(<span class="string">"/text/rocketmq"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Object <span class="title">callback</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="comment">//æ€»å…±å‘é€äº”æ¬¡æ¶ˆæ¯</span></span><br><span class="line">        <span class="keyword">for</span> (String s : mesList) &#123;</span><br><span class="line">            <span class="comment">//åˆ›å»ºç”Ÿäº§ä¿¡æ¯</span></span><br><span class="line">            Message message = <span class="keyword">new</span> Message(JmsConfig.TOPIC, <span class="string">"testtag"</span>, (<span class="string">"å°å°ä¸€å®¶äººçš„ç§°è°“:"</span> + s).getBytes());</span><br><span class="line">            <span class="comment">//å‘é€</span></span><br><span class="line">            SendResult sendResult = producer.getProducer().send(message);</span><br><span class="line">            log.info(<span class="string">"è¾“å‡ºç”Ÿäº§è€…ä¿¡æ¯=&#123;&#125;"</span>,sendResult);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"æˆåŠŸ"</span>;</span><br><span class="line">    &#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>æµ‹è¯•çš„æ—¶å€™éœ€è¦æ³¨æ„çš„æ˜¯åœ¨å‘é€æ¶ˆæ¯æ—¶è¦å…ˆåˆ›å»ºä¸€ä¸ªTOPICï¼Œåç§°æ˜¯topic_familyï¼›</p>
</li>
</ol>
<h2 id="RabbitMQ"><a href="#RabbitMQ" class="headerlink" title="RabbitMQ"></a>RabbitMQ</h2><h3 id="åŸºç¡€çŸ¥è¯†-2"><a href="#åŸºç¡€çŸ¥è¯†-2" class="headerlink" title="åŸºç¡€çŸ¥è¯†"></a>åŸºç¡€çŸ¥è¯†</h3><ol>
<li><p>RabbitMQ æ˜¯ç›®å‰åº”ç”¨ç›¸å½“å¹¿æ³›çš„æ¶ˆæ¯ä¸­é—´ä»¶ï¼Œåœ¨ä¼ä¸šçº§åº”ç”¨ã€å¾®æœåŠ¡åº”ç”¨ä¸­å……å½“ç€é‡è¦çš„è§’è‰²ã€‚ç‰¹åˆ«æ˜¯åœ¨ä¸€äº›å…¸å‹çš„åº”ç”¨åœºæ™¯ä»¥åŠä¸šåŠ¡æ¨¡å—ä¸­å…·æœ‰é‡è¦çš„ä½œç”¨ï¼Œæ¯”å¦‚ä¸šåŠ¡æœåŠ¡æ¨¡å—è§£è€¦ã€å¼‚æ­¥é€šä¿¡ã€é«˜å¹¶å‘é™æµã€è¶…æ—¶ä¸šåŠ¡ã€æ•°æ®å»¶è¿Ÿå¤„ç†ç­‰ï¼›</p>
</li>
<li><p>RabbitMQæ˜¯ä¸€ä¸ªå¼€æºçš„æ¶ˆæ¯ä»£ç†å’Œé˜Ÿåˆ—æœåŠ¡å™¨ï¼Œç”¨æ¥åœ¨ä¸åŒçš„åº”ç”¨ä¹‹é—´å…±äº«æ•°æ®(è·¨å¹³å°è·¨è¯­è¨€)ï¼ŒåŸºäºAMQPåè®®å®ç°ï¼›</p>
</li>
<li><p>RabbitMQçš„ä¼˜ç‚¹ï¼š</p>
<ul>
<li>å¯é æ€§(Reliablity)ï¼Œä½¿ç”¨äº†ä¸€äº›æœºåˆ¶æ¥ä¿è¯å¯é æ€§ï¼Œæ¯”å¦‚æŒä¹…åŒ–ã€ä¼ è¾“ç¡®è®¤ã€å‘å¸ƒç¡®è®¤</li>
<li>çµæ´»çš„è·¯ç”±(Flexible Routing)ï¼Œåœ¨æ¶ˆæ¯è¿›å…¥é˜Ÿåˆ—ä¹‹å‰ï¼Œé€šè¿‡Exchangeæ¥è·¯ç”±æ¶ˆæ¯ã€‚å¯¹äºå…¸å‹çš„è·¯ç”±åŠŸèƒ½ï¼ŒRabbitå·²ç»æä¾›äº†ä¸€äº›å†…ç½®çš„Exchangeæ¥å®ç°ã€‚é’ˆå¯¹æ›´å¤æ‚çš„è·¯ç”±åŠŸèƒ½ï¼Œå¯ä»¥å°†å¤šä¸ªExchangeç»‘å®šåœ¨ä¸€èµ·ï¼Œä¹Ÿé€šè¿‡æ’ä»¶æœºåˆ¶å®ç°è‡ªå·±çš„Exchange</li>
<li>æ¶ˆæ¯é›†ç¾¤(Clustering)ï¼Œå¤šä¸ªRabbitMQæœåŠ¡å™¨å¯ä»¥ç»„æˆä¸€ä¸ªé›†ç¾¤ï¼Œå½¢æˆä¸€ä¸ªé€»è¾‘Broker</li>
<li>é«˜å¯ç”¨(Highly Avaliable Queues)ï¼Œé˜Ÿåˆ—å¯ä»¥åœ¨é›†ç¾¤ä¸­çš„æœºå™¨ä¸Šè¿›è¡Œé•œåƒï¼Œä½¿å¾—åœ¨éƒ¨åˆ†èŠ‚ç‚¹å‡ºé—®é¢˜çš„æƒ…å†µä¸‹é˜Ÿåˆ—ä»ç„¶å¯ç”¨</li>
<li>å¤šç§åè®®(Multi-protocol)ï¼Œæ”¯æŒå¤šç§æ¶ˆæ¯é˜Ÿåˆ—åè®®ï¼Œå¦‚STOMPã€MQTTç­‰</li>
<li>å¤šç§è¯­è¨€å®¢æˆ·ç«¯(Many Clients)ï¼Œå‡ ä¹æ”¯æŒæ‰€æœ‰å¸¸ç”¨è¯­è¨€ï¼Œæ¯”å¦‚Javaã€.NETã€Rubyç­‰</li>
<li>ç®¡ç†ç•Œé¢(Management UI)ï¼Œæä¾›äº†æ˜“ç”¨çš„ç”¨æˆ·ç•Œé¢ï¼Œä½¿å¾—ç”¨æˆ·å¯ä»¥ç›‘æ§å’Œç®¡ç†æ¶ˆæ¯Brokerçš„è®¸å¤šæ–¹é¢</li>
<li>è·Ÿè¸ªæœºåˆ¶(Tracing)ï¼Œå¦‚æœæ¶ˆæ¯å¼‚å¸¸ï¼ŒRabbitMQæä¾›äº†æ¶ˆæ¯çš„è·Ÿè¸ªæœºåˆ¶ï¼Œä½¿ç”¨è€…å¯ä»¥æ‰¾å‡ºå‘ç”Ÿäº†ä»€ä¹ˆ</li>
<li>æ’ä»¶æœºåˆ¶(Plugin System)ï¼Œæä¾›äº†è®¸å¤šæ’ä»¶ï¼Œæ¥ä»å¤šæ–¹é¢è¿›è¡Œæ‰©å±•ï¼Œä¹Ÿå¯ä»¥ç¼–è¾‘è‡ªå·±çš„æ’ä»¶</li>
</ul>
</li>
<li><p>RabbitMQçš„æ•´ä½“æ¶æ„ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/4de694ab2161fa40bb6d67ad0185d740-136300" alt="æ•´ä½“æ¶æ„"></p>
</li>
<li><p>RabbitMQå„ç»„ä»¶åŠŸèƒ½ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/fba8977266cb8a29d3d42b942b0c4c4e-27124" alt="å„ç»„ä»¶åŠŸèƒ½"></p>
<ul>
<li>Brokerâ€”â€”æ ‡è¯†æ¶ˆæ¯é˜Ÿåˆ—æœåŠ¡å™¨å®ä½“</li>
<li>Virtual Hostâ€”â€”æ ‡è¯†ä¸€æ‰¹äº¤æ¢æœºã€æ¶ˆæ¯é˜Ÿåˆ—å’Œç›¸å…³å¯¹è±¡ï¼Œè™šæ‹Ÿä¸»æœºæ˜¯å…±äº«ç›¸åŒçš„èº«ä»½è®¤è¯å’ŒåŠ å¯†ç¯å¢ƒçš„ç‹¬ç«‹æœåŠ¡å™¨åŸŸã€‚æ¯ä¸ªvhostæœ¬è´¨ä¸Šå°±æ˜¯ä¸€ä¸ªminiç‰ˆçš„RabbitMQæœåŠ¡å™¨ï¼Œæ‹¥æœ‰è‡ªå·±çš„é˜Ÿåˆ—ã€äº¤æ¢å™¨ã€ç»‘å®šå’Œæƒé™æœºåˆ¶ã€‚vhostæ˜¯AMQPæ¦‚å¿µçš„åŸºç¡€ï¼Œå¿…é¡»åœ¨é“¾æ¥æ—¶æŒ‡å®šï¼ŒRabbitMQé»˜è®¤çš„vhostæ˜¯ /</li>
<li>Exchangeâ€”â€”ç”¨æ¥æ¥æ”¶ç”Ÿäº§è€…å‘é€çš„æ¶ˆæ¯å¹¶å°†è¿™äº›æ¶ˆæ¯è·¯ç”±ç»™æœåŠ¡å™¨ä¸­çš„é˜Ÿåˆ—</li>
<li>Queueâ€”â€”ç”¨æ¥ä¿å­˜æ¶ˆæ¯ç›´åˆ°å‘é€ç»™æ¶ˆè´¹è€…ã€‚æ˜¯æ¶ˆæ¯çš„å®¹å™¨ï¼Œä¹Ÿæ˜¯æ¶ˆæ¯çš„ç»ˆç‚¹ã€‚ä¸€ä¸ªæ¶ˆæ¯å¯æŠ•å…¥ä¸€ä¸ªæˆ–å¤šä¸ªé˜Ÿåˆ—ã€‚æ¶ˆæ¯ä¸€ç›´åœ¨é˜Ÿåˆ—é‡Œé¢ï¼Œç­‰å¾…æ¶ˆè´¹è€…è¿æ¥åˆ°è¿™ä¸ªé˜Ÿåˆ—å°†å…¶å–èµ°</li>
<li>Bandingâ€”â€”ç”¨äºæ¶ˆæ¯é˜Ÿåˆ—å’Œäº¤æ¢æœºä¹‹é—´çš„å…³è”ã€‚ä¸€ä¸ªç»‘å®šå°±æ˜¯åŸºäºè·¯ç”±é”®å°†äº¤æ¢æœºå’Œæ¶ˆæ¯é˜Ÿåˆ—è¿æ¥èµ·æ¥çš„è·¯ç”±è§„åˆ™</li>
<li>Channelâ€”â€”ä¿¡é“æ˜¯å»ºç«‹åœ¨çœŸå®çš„TCPè¿æ¥å†…åœ°è™šæ‹Ÿé“¾æ¥ï¼ŒAMQPå‘½ä»¤éƒ½æ˜¯é€šè¿‡ä¿¡é“å‘å‡ºå»çš„ï¼Œä¸ç®¡æ˜¯å‘å¸ƒæ¶ˆæ¯ã€è®¢é˜…é˜Ÿåˆ—è¿˜æ˜¯æ¥æ”¶æ¶ˆæ¯ï¼Œè¿™äº›åŠ¨ä½œéƒ½æ˜¯é€šè¿‡ä¿¡é“å®Œæˆã€‚å› ä¸ºå¯¹äºæ“ä½œç³»ç»Ÿæ¥è¯´ï¼Œå»ºç«‹å’Œé”€æ¯TCPéƒ½æ˜¯éå¸¸æ˜‚è´µçš„å¼€é”€ï¼Œæ‰€ä»¥å¼•å…¥äº†ä¿¡é“çš„æ¦‚å¿µï¼Œä»¥å¤ç”¨ä¸€æ¡TCPè¿æ¥</li>
<li>Connectionâ€”â€”ç½‘ç»œè¿æ¥ï¼Œæ¯”å¦‚ä¸€ä¸ªTCPè¿æ¥</li>
<li>Publisherâ€”â€”æ¶ˆæ¯çš„ç”Ÿäº§è€…ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªå‘äº¤æ¢å™¨å‘å¸ƒæ¶ˆæ¯çš„å®¢æˆ·ç«¯åº”ç”¨ç¨‹åº</li>
<li>Consumerâ€”â€”æ¶ˆæ¯çš„æ¶ˆè´¹è€…ï¼Œè¡¨ç¤ºä¸€ä¸ªä»ä¸€ä¸ªæ¶ˆæ¯é˜Ÿåˆ—ä¸­å–å¾—æ¶ˆæ¯çš„å®¢æˆ·ç«¯åº”ç”¨ç¨‹åº</li>
<li>Messageâ€”â€”æ¶ˆæ¯æ˜¯ä¸å…·åçš„ï¼Œæ˜¯ç”±æ¶ˆæ¯å¤´å’Œæ¶ˆæ¯ä½“ç»„æˆã€‚æ¶ˆæ¯ä½“æ˜¯ä¸é€æ˜çš„ï¼Œè€Œæ¶ˆæ¯å¤´åˆ™æ˜¯ç”±ä¸€ç³»åˆ—çš„å¯é€‰å±æ€§ç»„æˆï¼Œè¿™äº›å±æ€§åŒ…æ‹¬routing-key(è·¯ç”±é”®)ã€priority(ä¼˜å…ˆçº§)ã€delivery-mode(æ¶ˆæ¯å¯èƒ½éœ€è¦æŒä¹…æ€§å­˜å‚¨[æ¶ˆæ¯çš„è·¯ç”±æ¨¡å¼])ç­‰</li>
</ul>
</li>
<li><p>ä¸€ä¸ªæ¶ˆæ¯æ¨é€åˆ°æ¥æ”¶çš„æµç¨‹å¦‚ä¸‹ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/77371d3dff941e1fbcfc30866ce0acd7-182833" alt="ä¸€ä¸ªæ¶ˆæ¯æ¨é€åˆ°æ¥æ”¶çš„æµç¨‹"></p>
<ul>
<li>é»„è‰²çš„åœˆåœˆå°±æ˜¯æ¶ˆæ¯æ¨é€æœåŠ¡ï¼Œå°†æ¶ˆæ¯æ¨é€åˆ° ä¸­é—´æ–¹æ¡†é‡Œé¢ä¹Ÿå°±æ˜¯ RabbitMQçš„æœåŠ¡å™¨ï¼Œç„¶åç»è¿‡æœåŠ¡å™¨é‡Œé¢çš„äº¤æ¢æœºã€é˜Ÿåˆ—ç­‰å„ç§å…³ç³»å°†æ•°æ®å¤„ç†å…¥åˆ—åï¼Œæœ€ç»ˆå³è¾¹çš„è“è‰²åœˆåœˆæ¶ˆè´¹è€…è·å–å¯¹åº”ç›‘å¬çš„æ¶ˆæ¯</li>
</ul>
</li>
<li><p>RabbitMQæä¾›äº†ä¸€ä¸ªWebç®¡ç†é¡µé¢ï¼ˆhttp:localhost:15672ï¼‰ï¼Œå¯ä»¥æ‰‹åŠ¨åˆ›å»ºè™šæ‹Ÿhostï¼Œåˆ›å»ºç”¨æˆ·ï¼Œåˆ†é…æƒé™ï¼Œåˆ›å»ºäº¤æ¢æœºï¼Œåˆ›å»ºé˜Ÿåˆ—ç­‰ï¼Œè¿˜æœ‰æŸ¥çœ‹é˜Ÿåˆ—æ¶ˆæ¯ï¼Œæ¶ˆè´¹æ•ˆç‡ï¼Œæ¨é€æ•ˆç‡ç­‰ç­‰åŠŸèƒ½ï¼›</p>
</li>
</ol>
<h3 id="Dockerè¿è¡ŒRabbitMQ"><a href="#Dockerè¿è¡ŒRabbitMQ" class="headerlink" title="Dockerè¿è¡ŒRabbitMQ"></a>Dockerè¿è¡ŒRabbitMQ</h3><ol>
<li><p>ä¸‹è½½RabbitMQé•œåƒï¼Œéœ€è¦è®¿é—®webç®¡ç†é¡µé¢ï¼Œå°±é€‰æ‹©tagä¸ºmanagementçš„é•œåƒï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker pull rabbitmqï¼šmanagement</span><br></pre></td></tr></table></figure>
</li>
<li><p>åˆ›å»ºä¸€ä¸ªRabbitMQå®ä¾‹ï¼Œè¿è¡Œå¦‚ä¸‹çš„å‘½ä»¤ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker run -dit --name Myrabbitmq -e RABBITMQ_DEFAULT_USER=admin -e RABBITMQ_DEFAULT_PASS=admin -e RABBITMQ_DEFAULT_VHOST=my_vhost  -p 15672:15672 -p 5672:5672 rabbitmq:management</span><br></pre></td></tr></table></figure>

<ul>
<li>15672æ˜¯ç®¡ç†ç•Œé¢çš„ç«¯å£</li>
<li>5672æ˜¯æœåŠ¡çš„ç«¯å£</li>
<li>ç®¡ç†ç³»ç»Ÿçš„ç”¨æˆ·åå’Œå¯†ç è®¾ç½®ä¸ºadmin admin</li>
<li>vhostè®¾ç½®ä¸ºmy_vhost</li>
</ul>
</li>
</ol>
<h3 id="åˆ›å»ºSpringBooté¡¹ç›®"><a href="#åˆ›å»ºSpringBooté¡¹ç›®" class="headerlink" title="åˆ›å»ºSpringBooté¡¹ç›®"></a>åˆ›å»ºSpringBooté¡¹ç›®</h3><h4 id="ç”Ÿäº§è€…"><a href="#ç”Ÿäº§è€…" class="headerlink" title="ç”Ÿäº§è€…"></a>ç”Ÿäº§è€…</h4><ol>
<li><p>åˆ›å»ºä¸€ä¸ªSpringBooté¡¹ç›®ï¼Œæ·»åŠ RabbitMQä¾èµ–ï¼ˆpom.xmlï¼‰:</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--rabbitmq--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-amqp<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>é…ç½®application.ymlï¼š</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">8080</span></span><br><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="comment">#ç»™é¡¹ç›®æ¥ä¸ªåå­—</span></span><br><span class="line">  <span class="attr">application:</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">rabbitmq-provider</span></span><br><span class="line">  <span class="comment">#é…ç½®rabbitMq æœåŠ¡å™¨</span></span><br><span class="line">  <span class="attr">rabbitmq:</span></span><br><span class="line">    <span class="attr">host:</span> <span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span></span><br><span class="line">    <span class="attr">port:</span> <span class="number">5672</span></span><br><span class="line">    <span class="attr">username:</span> <span class="string">admin</span></span><br><span class="line">    <span class="attr">password:</span> <span class="string">admin</span></span><br><span class="line">    <span class="comment">#è™šæ‹Ÿhost å¯ä»¥ä¸è®¾ç½®,ä½¿ç”¨serveré»˜è®¤host</span></span><br><span class="line">    <span class="attr">virtual-host:</span> <span class="string">my_vhost</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>åˆ›å»ºé…ç½®ç±»DirectRabbitConfigï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DirectRabbitConfig</span> </span>&#123;</span><br><span class="line"> </span><br><span class="line">    <span class="comment">//é˜Ÿåˆ— èµ·åï¼šTestDirectQueue</span></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Queue <span class="title">TestDirectQueue</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">// durable:æ˜¯å¦æŒä¹…åŒ–,é»˜è®¤æ˜¯false,æŒä¹…åŒ–é˜Ÿåˆ—ï¼šä¼šè¢«å­˜å‚¨åœ¨ç£ç›˜ä¸Šï¼Œå½“æ¶ˆæ¯ä»£ç†é‡å¯æ—¶ä»ç„¶å­˜åœ¨ï¼Œæš‚å­˜é˜Ÿåˆ—ï¼šå½“å‰è¿æ¥æœ‰æ•ˆ</span></span><br><span class="line">        <span class="comment">// exclusive:é»˜è®¤ä¹Ÿæ˜¯falseï¼Œåªèƒ½è¢«å½“å‰åˆ›å»ºçš„è¿æ¥ä½¿ç”¨ï¼Œè€Œä¸”å½“è¿æ¥å…³é—­åé˜Ÿåˆ—å³è¢«åˆ é™¤ã€‚æ­¤å‚è€ƒä¼˜å…ˆçº§é«˜äºdurable</span></span><br><span class="line">        <span class="comment">// autoDelete:æ˜¯å¦è‡ªåŠ¨åˆ é™¤ï¼Œå½“æ²¡æœ‰ç”Ÿäº§è€…æˆ–è€…æ¶ˆè´¹è€…ä½¿ç”¨æ­¤é˜Ÿåˆ—ï¼Œè¯¥é˜Ÿåˆ—ä¼šè‡ªåŠ¨åˆ é™¤ã€‚</span></span><br><span class="line">        <span class="comment">//   return new Queue("TestDirectQueue",true,true,false);</span></span><br><span class="line"> </span><br><span class="line">        <span class="comment">//ä¸€èˆ¬è®¾ç½®ä¸€ä¸‹é˜Ÿåˆ—çš„æŒä¹…åŒ–å°±å¥½,å…¶ä½™ä¸¤ä¸ªå°±æ˜¯é»˜è®¤false</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Queue(<span class="string">"TestDirectQueue"</span>,<span class="keyword">true</span>);</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="comment">//Directäº¤æ¢æœº èµ·åï¼šTestDirectExchange</span></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function">DirectExchange <span class="title">TestDirectExchange</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      <span class="comment">//  return new DirectExchange("TestDirectExchange",true,true);</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> DirectExchange(<span class="string">"TestDirectExchange"</span>,<span class="keyword">true</span>,<span class="keyword">false</span>);</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="comment">//ç»‘å®š  å°†é˜Ÿåˆ—å’Œäº¤æ¢æœºç»‘å®š, å¹¶è®¾ç½®ç”¨äºåŒ¹é…é”®ï¼šTestDirectRouting</span></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function">Binding <span class="title">bindingDirect</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> BindingBuilder.bind(TestDirectQueue()).to(TestDirectExchange()).with(<span class="string">"TestDirectRouting"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function">DirectExchange <span class="title">lonelyDirectExchange</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> DirectExchange(<span class="string">"lonelyDirectExchange"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>å†™ä¸ªç®€å•çš„æ¥å£è¿›è¡Œæ¶ˆæ¯æ¨é€SendMessageControllerï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SendMessageController</span> </span>&#123;</span><br><span class="line"> </span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    RabbitTemplate rabbitTemplate;  <span class="comment">//ä½¿ç”¨RabbitTemplate,è¿™æä¾›äº†æ¥æ”¶/å‘é€ç­‰ç­‰æ–¹æ³•</span></span><br><span class="line"> </span><br><span class="line">    <span class="meta">@GetMapping</span>(<span class="string">"/sendDirectMessage"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">sendDirectMessage</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        String messageId = String.valueOf(UUID.randomUUID());</span><br><span class="line">        String messageData = <span class="string">"test message, hello!"</span>;</span><br><span class="line">        String createTime = LocalDateTime.now().format(DateTimeFormatter.ofPattern(<span class="string">"yyyy-MM-dd HH:mm:ss"</span>));</span><br><span class="line">        Map&lt;String,Object&gt; map=<span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        map.put(<span class="string">"messageId"</span>,messageId);</span><br><span class="line">        map.put(<span class="string">"messageData"</span>,messageData);</span><br><span class="line">        map.put(<span class="string">"createTime"</span>,createTime);</span><br><span class="line">        <span class="comment">//å°†æ¶ˆæ¯æºå¸¦ç»‘å®šé”®å€¼ï¼šTestDirectRouting å‘é€åˆ°äº¤æ¢æœºTestDirectExchange</span></span><br><span class="line">        rabbitTemplate.convertAndSend(<span class="string">"TestDirectExchange"</span>, <span class="string">"TestDirectRouting"</span>, map);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"ok"</span>;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h4 id="æ¶ˆè´¹è€…"><a href="#æ¶ˆè´¹è€…" class="headerlink" title="æ¶ˆè´¹è€…"></a>æ¶ˆè´¹è€…</h4><ol>
<li><p>åˆ›å»ºä¸€ä¸ªSpringBooté¡¹ç›®ï¼Œæ·»åŠ RabbitMQä¾èµ–ï¼ˆpom.xmlï¼‰:</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--rabbitmq--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-amqp<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>é…ç½®application.ymlï¼š</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">8081</span></span><br><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="comment">#ç»™é¡¹ç›®æ¥ä¸ªåå­—</span></span><br><span class="line">  <span class="attr">application:</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">rabbitmq-consumer</span></span><br><span class="line">  <span class="comment">#é…ç½®rabbitMq æœåŠ¡å™¨</span></span><br><span class="line">  <span class="attr">rabbitmq:</span></span><br><span class="line">    <span class="attr">host:</span> <span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span></span><br><span class="line">    <span class="attr">port:</span> <span class="number">5672</span></span><br><span class="line">    <span class="attr">username:</span> <span class="string">admin</span></span><br><span class="line">    <span class="attr">password:</span> <span class="string">admin</span></span><br><span class="line">    <span class="comment">#è™šæ‹Ÿhost å¯ä»¥ä¸è®¾ç½®,ä½¿ç”¨serveré»˜è®¤host</span></span><br><span class="line">    <span class="attr">virtual-host:</span> <span class="string">my_vhost</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>åˆ›å»ºé…ç½®ç±»DirectRabbitConfigï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DirectRabbitConfig</span> </span>&#123;</span><br><span class="line"> </span><br><span class="line">    <span class="comment">//é˜Ÿåˆ— èµ·åï¼šTestDirectQueue</span></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Queue <span class="title">TestDirectQueue</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Queue(<span class="string">"TestDirectQueue"</span>,<span class="keyword">true</span>);</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="comment">//Directäº¤æ¢æœº èµ·åï¼šTestDirectExchange</span></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function">DirectExchange <span class="title">TestDirectExchange</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> DirectExchange(<span class="string">"TestDirectExchange"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="comment">//ç»‘å®š  å°†é˜Ÿåˆ—å’Œäº¤æ¢æœºç»‘å®š, å¹¶è®¾ç½®ç”¨äºåŒ¹é…é”®ï¼šTestDirectRouting</span></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function">Binding <span class="title">bindingDirect</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> BindingBuilder.bind(TestDirectQueue()).to(TestDirectExchange()).with(<span class="string">"TestDirectRouting"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>æ¶ˆè´¹è€…å•çº¯çš„ä½¿ç”¨ï¼Œå…¶å®å¯ä»¥ä¸ç”¨æ·»åŠ è¿™ä¸ªé…ç½®ï¼Œä½¿ç”¨æ³¨è§£æ¥è®©ç›‘å¬å™¨ç›‘å¬å¯¹åº”çš„é˜Ÿåˆ—å³å¯</li>
<li>é…ç½®ä¸Šäº†çš„è¯ï¼Œå…¶å®æ¶ˆè´¹è€…ä¹Ÿæ˜¯ç”Ÿäº§è€…çš„èº«ä»½ï¼Œä¹Ÿèƒ½æ¨é€è¯¥æ¶ˆæ¯</li>
</ul>
</li>
<li><p>åˆ›å»ºæ¶ˆæ¯æ¥æ”¶ç›‘å¬ç±»DirectReceiverï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@RabbitListener</span>(queues = <span class="string">"TestDirectQueue"</span>)<span class="comment">//ç›‘å¬çš„é˜Ÿåˆ—åç§° TestDirectQueue</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DirectReceiver</span> </span>&#123;</span><br><span class="line"> </span><br><span class="line">    <span class="meta">@RabbitHandler</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">process</span><span class="params">(Map testMessage)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"DirectReceiveræ¶ˆè´¹è€…æ”¶åˆ°æ¶ˆæ¯  : "</span> + testMessage.toString());</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>è¿è¡Œç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…é¡¹ç›®å³å¯è¿›è¡Œæµ‹è¯•ã€‚</p>
</li>
<li><p>æ¨èåšå®¢ï¼š<a href="https://blog.csdn.net/qq_35387940/article/details/100514134" target="_blank" rel="noopener">https://blog.csdn.net/qq_35387940/article/details/100514134</a></p>
</li>
</ol>
<hr>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>å¼‚æ­¥æ¶ˆæ¯è¿˜æ˜¯æœ‰å¾ˆå¤šç”¨å¤„çš„ï¼Œç›®å‰å°±å½“äº†è§£ä¸€ä¸‹å¼‚æ­¥æ¶ˆæ¯åœ¨SpringBootä¸­çš„å¿«é€Ÿå¼€å‘ï¼Œè¿™éƒ¨åˆ†æ²¡æœ‰RabbitMQçš„Demoæ ·ä¾‹ï¼Œå¦‚æœæœ‰éœ€è¦å¯ä»¥è€ƒè™‘åœ¨å­¦ä¹ ä¸‹ï¼è¿™éƒ¨åˆ†æŒºç®€å•çš„ï¼Œä½†æ˜¯ä¹Ÿå‡ºç°äº†ç¨‹åºæ— æ³•è¿è¡Œçš„æƒ…å†µï¼Œä¸»è¦æ˜¯é…ç½®æ–‡ä»¶propertiesè¿™ä¸ªæ–‡ä»¶çš„é…ç½®ï¼Œä»¥åçš„é¡¹ç›®è¿˜æ˜¯å¤šå¤šä½¿ç”¨ymlæ–‡ä»¶å§ï¼</p>
]]></content>
      <categories>
        <category>Java</category>
      </categories>
  </entry>
  <entry>
    <title>SpringBoot æ•´åˆRedis</title>
    <url>/2020/05/26/SpringBoot-%E6%95%B4%E5%90%88Redis/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>Redis æ˜¯ä¸€ä¸ªå¼€æºï¼ˆBSDè®¸å¯ï¼‰çš„ï¼Œå†…å­˜ä¸­çš„æ•°æ®ç»“æ„å­˜å‚¨ç³»ç»Ÿï¼Œå¯ä»¥ç”¨ä½œæ•°æ®åº“ã€ç¼“å­˜å’Œæ¶ˆæ¯ä¸­é—´ä»¶ï¼Œé¢‘ç¹ä½¿ç”¨MySQLè¿›è¡Œæ•°æ®æŒä¹…åŒ–éå¸¸çš„è´¹æ—¶ï¼Œä¸€èˆ¬ä¼šè€ƒè™‘ä½¿ç”¨Redisè¿›è¡Œç¼“å­˜ã€‚Spring Bootå¯ä»¥éå¸¸å¿«é€Ÿçš„æ•´åˆRedisï¼Œä¼˜åŒ–è‡ªå·±çš„é¡¹ç›®ï¼è¿™é‡Œä¸»è¦ä»‹ç»ä¸€ä¸‹ä½¿ç”¨DataGripè¿›è¡ŒRedisæ•°æ®åº“çš„å¯è§†åŒ–ä»¥åŠå¦‚ä½•é…ç½®Macä¸Šçš„RedisæœåŠ¡å™¨ã€‚</p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="Redis"><a href="#Redis" class="headerlink" title="Redis"></a>Redis</h2><h3 id="ä¼˜ç‚¹"><a href="#ä¼˜ç‚¹" class="headerlink" title="ä¼˜ç‚¹"></a>ä¼˜ç‚¹</h3><ul>
<li>å¼‚å¸¸å¿« - Rediséå¸¸å¿«</li>
<li>æ”¯æŒä¸°å¯Œçš„æ•°æ®ç±»å‹ - Redisæ”¯æŒå¼€å‘äººå‘˜å¸¸ç”¨çš„å¤§å¤šæ•°æ•°æ®ç±»å‹ï¼Œä¾‹å¦‚åˆ—è¡¨ï¼Œé›†åˆï¼Œæ’åºé›†å’Œæ•£åˆ—ç­‰ç­‰</li>
<li>æ“ä½œå…·æœ‰åŸå­æ€§ - æ‰€æœ‰Redisæ“ä½œéƒ½æ˜¯åŸå­æ“ä½œï¼Œè¿™ç¡®ä¿å¦‚æœä¸¤ä¸ªå®¢æˆ·ç«¯å¹¶å‘è®¿é—®ï¼ŒRedisæœåŠ¡å™¨èƒ½æ¥æ”¶æ›´æ–°çš„å€¼</li>
<li>å¤šå®ç”¨å·¥å…· - Redisæ˜¯ä¸€ä¸ªå¤šå®ç”¨å·¥å…·ï¼Œå¯ç”¨äºå¤šç§ç”¨ä¾‹ï¼Œå¦‚ï¼šç¼“å­˜ï¼Œæ¶ˆæ¯é˜Ÿåˆ—(Redisæœ¬åœ°æ”¯æŒå‘å¸ƒ/è®¢é˜…)ï¼Œåº”ç”¨ç¨‹åºä¸­çš„ä»»ä½•çŸ­æœŸæ•°æ®</li>
</ul>
<h3 id="Macä¸Šå®‰è£…åŠé…ç½®"><a href="#Macä¸Šå®‰è£…åŠé…ç½®" class="headerlink" title="Macä¸Šå®‰è£…åŠé…ç½®"></a>Macä¸Šå®‰è£…åŠé…ç½®</h3><ol>
<li><p>å®‰è£…ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">brew install redis</span><br></pre></td></tr></table></figure>
</li>
<li><p>å®‰è£…å¥½çš„redisçš„é…ç½®æ–‡ä»¶åœ¨/usr/local/ectç›®å½•ä¸‹ï¼Œå¯ä»¥ä¿®æ”¹é…ç½®æ–‡ä»¶redis.confï¼Œæ·»åŠ æ¯”å¦‚å¯†ç ï¼ˆä¸‹é¢æ˜¯éƒ¨åˆ†åŸé…ç½®æ–‡ä»¶ä¿®æ”¹æ·»åŠ å¯†ç ï¼Œé»˜è®¤æ²¡æœ‰å¯†ç ï¼‰ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"># Redis configuration file example.</span><br><span class="line">#</span><br><span class="line"># Note that in order to read the configuration file, Redis must be</span><br><span class="line"># started with the file path as first argument:</span><br><span class="line">#</span><br><span class="line"># ./redis-server /path/to/redis.conf</span><br><span class="line"></span><br><span class="line"># This should stay commented out for backward compatibility and because most</span><br><span class="line"># people do not need auth (e.g. they run their own servers).</span><br><span class="line">#</span><br><span class="line"># Warning: since Redis is pretty fast an outside user can try up to</span><br><span class="line"># 150k passwords per second against a good box. This means that you should</span><br><span class="line"># use a very strong password otherwise it will be very easy to break.</span><br><span class="line">#</span><br><span class="line"># è®¾ç½®å¯†ç </span><br><span class="line"> requirepass 123456</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h3 id="DataGripé…ç½®Rediså¯è§†åŒ–"><a href="#DataGripé…ç½®Rediså¯è§†åŒ–" class="headerlink" title="DataGripé…ç½®Rediså¯è§†åŒ–"></a>DataGripé…ç½®Rediså¯è§†åŒ–</h3><ol>
<li><p>æ’ä»¶æœç´¢å¹¶å®‰è£…</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/fc48ec14475c7210705c9ff7335ca053-381339" alt="å®‰è£…ledisæ’ä»¶"></p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/2d851cf1c74b115c1197dd435a8506c9-322296" alt="å®‰è£…redisæ’ä»¶"></p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/b05670b501baa4c2004bf83915be7f3a-385595" alt="é‡æ–°å¯åŠ¨DataGrip"></p>
</li>
<li><p>å¼€å¯æœ¬åœ°redisæœåŠ¡å™¨ï¼Œç„¶åä½¿ç”¨DataGripçš„redisæ’ä»¶å»è¿æ¥redisæœåŠ¡å™¨ï¼Œé€‰æ‹©Views-&gt;Tool Windows -&gt;Redis Explorer</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/4bfca65f921b2a4e8e338c238adc51bb-256667" alt="redisæ•°æ®å±•ç¤º"></p>
</li>
</ol>
<h2 id="å¿«é€Ÿä½¿ç”¨Redis-å•æ•°æ®æº"><a href="#å¿«é€Ÿä½¿ç”¨Redis-å•æ•°æ®æº" class="headerlink" title="å¿«é€Ÿä½¿ç”¨Redis(å•æ•°æ®æº)"></a>å¿«é€Ÿä½¿ç”¨Redis(å•æ•°æ®æº)</h2><ol>
<li><p>SpringBootä¸­é»˜è®¤çš„redisé…ç½®æ˜¯åªèƒ½å¯¹å•ä¸ªredisåº“è¿›è¡Œæ“ä½œçš„ï¼›</p>
</li>
<li><p>æ·»åŠ redisç›¸å…³ä¾èµ–ï¼ˆpom.xmlï¼‰:</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span>	</span><br><span class="line">		<span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-data-redis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>åœ¨é…ç½®æ–‡ä»¶ä¸­æ·»åŠ redisç›¸å…³é…ç½®ï¼ˆapplication.propertiesï¼‰:</p>
<figure class="highlight properties"><table><tr><td class="code"><pre><span class="line"><span class="comment">### Redisé…ç½® ###</span></span><br><span class="line"><span class="comment"># Redisæ•°æ®åº“ç´¢å¼•ï¼ˆé»˜è®¤ä¸º0ï¼‰</span></span><br><span class="line"><span class="meta">spring.redis.database</span>=<span class="string">0</span></span><br><span class="line"><span class="comment"># RedisæœåŠ¡å™¨åœ°å€</span></span><br><span class="line"><span class="meta">spring.redis.host</span>=<span class="string">127.0.0.1</span></span><br><span class="line"><span class="comment"># RedisæœåŠ¡å™¨è¿æ¥ç«¯å£</span></span><br><span class="line"><span class="meta">spring.redis.port</span>=<span class="string">6379</span></span><br><span class="line"><span class="comment"># RedisæœåŠ¡å™¨è¿æ¥å¯†ç ï¼ˆé»˜è®¤ä¸ºç©ºï¼‰</span></span><br><span class="line"><span class="meta">spring.redis.password</span>=<span class="string"></span></span><br></pre></td></tr></table></figure>
</li>
<li><p>é…ç½®Redisé…ç½®ç±»RedisConfig:</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@EnableCaching</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RedisConfig</span> <span class="keyword">extends</span> <span class="title">CachingConfigurerSupport</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * redis templateç›¸å…³é…ç½®</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> factory</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> RedisTemplate&lt;String, Object&gt; <span class="title">redisTemplate</span><span class="params">(RedisConnectionFactory factory)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        RedisTemplate&lt;String, Object&gt; template = <span class="keyword">new</span> RedisTemplate&lt;&gt;();</span><br><span class="line">        <span class="comment">// é…ç½®è¿æ¥å·¥å‚</span></span><br><span class="line">        template.setConnectionFactory(factory);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//ä½¿ç”¨Jackson2JsonRedisSerializeræ¥åºåˆ—åŒ–å’Œååºåˆ—åŒ–redisçš„valueå€¼ï¼ˆé»˜è®¤ä½¿ç”¨JDKçš„åºåˆ—åŒ–æ–¹å¼ï¼‰</span></span><br><span class="line">        Jackson2JsonRedisSerializer jacksonSeial = <span class="keyword">new</span> Jackson2JsonRedisSerializer(Object<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line"></span><br><span class="line">        ObjectMapper om = <span class="keyword">new</span> ObjectMapper();</span><br><span class="line">        <span class="comment">// æŒ‡å®šè¦åºåˆ—åŒ–çš„åŸŸï¼Œfield,getå’Œset,ä»¥åŠä¿®é¥°ç¬¦èŒƒå›´ï¼ŒANYæ˜¯éƒ½æœ‰åŒ…æ‹¬privateå’Œpublic</span></span><br><span class="line">        om.setVisibility(PropertyAccessor.ALL, JsonAutoDetect.Visibility.ANY);</span><br><span class="line">        <span class="comment">// æŒ‡å®šåºåˆ—åŒ–è¾“å…¥çš„ç±»å‹ï¼Œç±»å¿…é¡»æ˜¯éfinalä¿®é¥°çš„ï¼Œfinalä¿®é¥°çš„ç±»ï¼Œæ¯”å¦‚String,Integerç­‰ä¼šè·‘å‡ºå¼‚å¸¸</span></span><br><span class="line">        om.enableDefaultTyping(ObjectMapper.DefaultTyping.NON_FINAL);</span><br><span class="line">        jacksonSeial.setObjectMapper(om);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å€¼é‡‡ç”¨jsonåºåˆ—åŒ–</span></span><br><span class="line">        template.setValueSerializer(jacksonSeial);</span><br><span class="line">        <span class="comment">//ä½¿ç”¨StringRedisSerializeræ¥åºåˆ—åŒ–å’Œååºåˆ—åŒ–redisçš„keyå€¼</span></span><br><span class="line">        template.setKeySerializer(<span class="keyword">new</span> StringRedisSerializer());</span><br><span class="line"></span><br><span class="line">        <span class="comment">// è®¾ç½®hash key å’Œvalueåºåˆ—åŒ–æ¨¡å¼</span></span><br><span class="line">        template.setHashKeySerializer(<span class="keyword">new</span> StringRedisSerializer());</span><br><span class="line">        template.setHashValueSerializer(jacksonSeial);</span><br><span class="line">        template.afterPropertiesSet();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> template;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å¯¹hashç±»å‹çš„æ•°æ®æ“ä½œ</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> redisTemplate</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> HashOperations&lt;String, String, Object&gt; <span class="title">hashOperations</span><span class="params">(RedisTemplate&lt;String, Object&gt; redisTemplate)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> redisTemplate.opsForHash();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å¯¹rediså­—ç¬¦ä¸²ç±»å‹æ•°æ®æ“ä½œ</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> redisTemplate</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> ValueOperations&lt;String, Object&gt; <span class="title">valueOperations</span><span class="params">(RedisTemplate&lt;String, Object&gt; redisTemplate)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> redisTemplate.opsForValue();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å¯¹é“¾è¡¨ç±»å‹çš„æ•°æ®æ“ä½œ</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> redisTemplate</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> ListOperations&lt;String, Object&gt; <span class="title">listOperations</span><span class="params">(RedisTemplate&lt;String, Object&gt; redisTemplate)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> redisTemplate.opsForList();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å¯¹æ— åºé›†åˆç±»å‹çš„æ•°æ®æ“ä½œ</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> redisTemplate</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> SetOperations&lt;String, Object&gt; <span class="title">setOperations</span><span class="params">(RedisTemplate&lt;String, Object&gt; redisTemplate)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> redisTemplate.opsForSet();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å¯¹æœ‰åºé›†åˆç±»å‹çš„æ•°æ®æ“ä½œ</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> redisTemplate</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> ZSetOperations&lt;String, Object&gt; <span class="title">zSetOperations</span><span class="params">(RedisTemplate&lt;String, Object&gt; redisTemplate)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> redisTemplate.opsForZSet();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>åˆ›å»ºRediså·¥å…·ç±»RedisUtil:</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RedisUtil</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> RedisTemplate&lt;String, Object&gt; redisTemplate;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">RedisUtil</span><span class="params">(RedisTemplate&lt;String, Object&gt; redisTemplate)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.redisTemplate = redisTemplate;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æŒ‡å®šç¼“å­˜å¤±æ•ˆæ—¶é—´</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> key é”®</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> time æ—¶é—´(ç§’)</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">expire</span><span class="params">(String key,<span class="keyword">long</span> time)</span></span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">if</span>(time&gt;<span class="number">0</span>)&#123;</span><br><span class="line">                redisTemplate.expire(key, time, TimeUnit.SECONDS);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ ¹æ®key è·å–è¿‡æœŸæ—¶é—´</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> key é”® ä¸èƒ½ä¸ºnull</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> æ—¶é—´(ç§’) è¿”å›0ä»£è¡¨ä¸ºæ°¸ä¹…æœ‰æ•ˆ</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">long</span> <span class="title">getExpire</span><span class="params">(String key)</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> redisTemplate.getExpire(key,TimeUnit.SECONDS);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * åˆ¤æ–­keyæ˜¯å¦å­˜åœ¨</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> key é”®</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> true å­˜åœ¨ falseä¸å­˜åœ¨</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">hasKey</span><span class="params">(String key)</span></span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> redisTemplate.hasKey(key);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * åˆ é™¤ç¼“å­˜</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> key å¯ä»¥ä¼ ä¸€ä¸ªå€¼ æˆ–å¤šä¸ª</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@SuppressWarnings</span>(<span class="string">"unchecked"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">del</span><span class="params">(String ... key)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(key!=<span class="keyword">null</span>&amp;&amp;key.length&gt;<span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span>(key.length==<span class="number">1</span>)&#123;</span><br><span class="line">                redisTemplate.delete(key[<span class="number">0</span>]);</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                redisTemplate.delete(CollectionUtils.arrayToList(key));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//============================String=============================</span></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ™®é€šç¼“å­˜è·å–</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> key é”®</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> å€¼</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Object <span class="title">get</span><span class="params">(String key)</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> key==<span class="keyword">null</span>?<span class="keyword">null</span>:redisTemplate.opsForValue().get(key);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ™®é€šç¼“å­˜æ”¾å…¥</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> key é”®</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> value å€¼</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> trueæˆåŠŸ falseå¤±è´¥</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">set</span><span class="params">(String key,Object value)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            redisTemplate.opsForValue().set(key, value);</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ™®é€šç¼“å­˜æ”¾å…¥å¹¶è®¾ç½®æ—¶é—´</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> key é”®</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> value å€¼</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> time æ—¶é—´(ç§’) timeè¦å¤§äº0 å¦‚æœtimeå°äºç­‰äº0 å°†è®¾ç½®æ— é™æœŸ</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> trueæˆåŠŸ false å¤±è´¥</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">set</span><span class="params">(String key,Object value,<span class="keyword">long</span> time)</span></span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">if</span>(time&gt;<span class="number">0</span>)&#123;</span><br><span class="line">                redisTemplate.opsForValue().set(key, value, time, TimeUnit.SECONDS);</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                set(key, value);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * é€’å¢</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> key é”®</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> delta è¦å¢åŠ å‡ (å¤§äº0)</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">long</span> <span class="title">incr</span><span class="params">(String key, <span class="keyword">long</span> delta)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(delta&lt;<span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">"é€’å¢å› å­å¿…é¡»å¤§äº0"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> redisTemplate.opsForValue().increment(key, delta);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * é€’å‡</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> key é”®</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> delta è¦å‡å°‘å‡ (å°äº0)</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">long</span> <span class="title">decr</span><span class="params">(String key, <span class="keyword">long</span> delta)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(delta&lt;<span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">"é€’å‡å› å­å¿…é¡»å¤§äº0"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> redisTemplate.opsForValue().increment(key, -delta);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//================================Map=================================</span></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * HashGet</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> key é”® ä¸èƒ½ä¸ºnull</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> item é¡¹ ä¸èƒ½ä¸ºnull</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> å€¼</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Object <span class="title">hget</span><span class="params">(String key,String item)</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> redisTemplate.opsForHash().get(key, item);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è·å–hashKeyå¯¹åº”çš„æ‰€æœ‰é”®å€¼</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> key é”®</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> å¯¹åº”çš„å¤šä¸ªé”®å€¼</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Map&lt;Object,Object&gt; <span class="title">hmget</span><span class="params">(String key)</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> redisTemplate.opsForHash().entries(key);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * HashSet</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> key é”®</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> map å¯¹åº”å¤šä¸ªé”®å€¼</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> true æˆåŠŸ false å¤±è´¥</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">hmset</span><span class="params">(String key, Map&lt;String,Object&gt; map)</span></span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            redisTemplate.opsForHash().putAll(key, map);</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * HashSet å¹¶è®¾ç½®æ—¶é—´</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> key é”®</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> map å¯¹åº”å¤šä¸ªé”®å€¼</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> time æ—¶é—´(ç§’)</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> trueæˆåŠŸ falseå¤±è´¥</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">hmset</span><span class="params">(String key, Map&lt;String,Object&gt; map, <span class="keyword">long</span> time)</span></span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            redisTemplate.opsForHash().putAll(key, map);</span><br><span class="line">            <span class="keyword">if</span>(time&gt;<span class="number">0</span>)&#123;</span><br><span class="line">                expire(key, time);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å‘ä¸€å¼ hashè¡¨ä¸­æ”¾å…¥æ•°æ®,å¦‚æœä¸å­˜åœ¨å°†åˆ›å»º</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> key é”®</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> item é¡¹</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> value å€¼</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> true æˆåŠŸ falseå¤±è´¥</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">hset</span><span class="params">(String key,String item,Object value)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            redisTemplate.opsForHash().put(key, item, value);</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å‘ä¸€å¼ hashè¡¨ä¸­æ”¾å…¥æ•°æ®,å¦‚æœä¸å­˜åœ¨å°†åˆ›å»º</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> key é”®</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> item é¡¹</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> value å€¼</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> time æ—¶é—´(ç§’)  æ³¨æ„:å¦‚æœå·²å­˜åœ¨çš„hashè¡¨æœ‰æ—¶é—´,è¿™é‡Œå°†ä¼šæ›¿æ¢åŸæœ‰çš„æ—¶é—´</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> true æˆåŠŸ falseå¤±è´¥</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">hset</span><span class="params">(String key,String item,Object value,<span class="keyword">long</span> time)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            redisTemplate.opsForHash().put(key, item, value);</span><br><span class="line">            <span class="keyword">if</span>(time&gt;<span class="number">0</span>)&#123;</span><br><span class="line">                expire(key, time);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * åˆ é™¤hashè¡¨ä¸­çš„å€¼</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> key é”® ä¸èƒ½ä¸ºnull</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> item é¡¹ å¯ä»¥ä½¿å¤šä¸ª ä¸èƒ½ä¸ºnull</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">hdel</span><span class="params">(String key, Object... item)</span></span>&#123;</span><br><span class="line">        redisTemplate.opsForHash().delete(key,item);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * åˆ¤æ–­hashè¡¨ä¸­æ˜¯å¦æœ‰è¯¥é¡¹çš„å€¼</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> key é”® ä¸èƒ½ä¸ºnull</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> item é¡¹ ä¸èƒ½ä¸ºnull</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> true å­˜åœ¨ falseä¸å­˜åœ¨</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">hHasKey</span><span class="params">(String key, String item)</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> redisTemplate.opsForHash().hasKey(key, item);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * hashé€’å¢ å¦‚æœä¸å­˜åœ¨,å°±ä¼šåˆ›å»ºä¸€ä¸ª å¹¶æŠŠæ–°å¢åçš„å€¼è¿”å›</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> key é”®</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> item é¡¹</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> by è¦å¢åŠ å‡ (å¤§äº0)</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">hincr</span><span class="params">(String key, String item,<span class="keyword">double</span> by)</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> redisTemplate.opsForHash().increment(key, item, by);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * hashé€’å‡</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> key é”®</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> item é¡¹</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> by è¦å‡å°‘è®°(å°äº0)</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">hdecr</span><span class="params">(String key, String item,<span class="keyword">double</span> by)</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> redisTemplate.opsForHash().increment(key, item,-by);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//============================set=============================</span></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ ¹æ®keyè·å–Setä¸­çš„æ‰€æœ‰å€¼</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> key é”®</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Set&lt;Object&gt; <span class="title">sGet</span><span class="params">(String key)</span></span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> redisTemplate.opsForSet().members(key);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ ¹æ®valueä»ä¸€ä¸ªsetä¸­æŸ¥è¯¢,æ˜¯å¦å­˜åœ¨</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> key é”®</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> value å€¼</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> true å­˜åœ¨ falseä¸å­˜åœ¨</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">sHasKey</span><span class="params">(String key,Object value)</span></span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> redisTemplate.opsForSet().isMember(key, value);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å°†æ•°æ®æ”¾å…¥setç¼“å­˜</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> key é”®</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> values å€¼ å¯ä»¥æ˜¯å¤šä¸ª</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> æˆåŠŸä¸ªæ•°</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">long</span> <span class="title">sSet</span><span class="params">(String key, Object...values)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> redisTemplate.opsForSet().add(key, values);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å°†setæ•°æ®æ”¾å…¥ç¼“å­˜</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> key é”®</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> time æ—¶é—´(ç§’)</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> values å€¼ å¯ä»¥æ˜¯å¤šä¸ª</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> æˆåŠŸä¸ªæ•°</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">long</span> <span class="title">sSetAndTime</span><span class="params">(String key,<span class="keyword">long</span> time,Object...values)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Long count = redisTemplate.opsForSet().add(key, values);</span><br><span class="line">            <span class="keyword">if</span>(time&gt;<span class="number">0</span>) &#123;</span><br><span class="line">                expire(key, time);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> count;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è·å–setç¼“å­˜çš„é•¿åº¦</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> key é”®</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">long</span> <span class="title">sGetSetSize</span><span class="params">(String key)</span></span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> redisTemplate.opsForSet().size(key);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ç§»é™¤å€¼ä¸ºvalueçš„</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> key é”®</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> values å€¼ å¯ä»¥æ˜¯å¤šä¸ª</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> ç§»é™¤çš„ä¸ªæ•°</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">long</span> <span class="title">setRemove</span><span class="params">(String key, Object ...values)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Long count = redisTemplate.opsForSet().remove(key, values);</span><br><span class="line">            <span class="keyword">return</span> count;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//===============================list=================================</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è·å–listç¼“å­˜çš„å†…å®¹</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> key é”®</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> start å¼€å§‹</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> end ç»“æŸ  0 åˆ° -1ä»£è¡¨æ‰€æœ‰å€¼</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;Object&gt; <span class="title">lGet</span><span class="params">(String key, <span class="keyword">long</span> start, <span class="keyword">long</span> end)</span></span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> redisTemplate.opsForList().range(key, start, end);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è·å–listç¼“å­˜çš„é•¿åº¦</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> key é”®</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">long</span> <span class="title">lGetListSize</span><span class="params">(String key)</span></span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> redisTemplate.opsForList().size(key);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * é€šè¿‡ç´¢å¼• è·å–listä¸­çš„å€¼</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> key é”®</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> index ç´¢å¼•  index&gt;=0æ—¶ï¼Œ 0 è¡¨å¤´ï¼Œ1 ç¬¬äºŒä¸ªå…ƒç´ ï¼Œä¾æ¬¡ç±»æ¨ï¼›index&lt;0æ—¶ï¼Œ-1ï¼Œè¡¨å°¾ï¼Œ-2å€’æ•°ç¬¬äºŒä¸ªå…ƒç´ ï¼Œä¾æ¬¡ç±»æ¨</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Object <span class="title">lGetIndex</span><span class="params">(String key,<span class="keyword">long</span> index)</span></span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> redisTemplate.opsForList().index(key, index);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å°†listæ”¾å…¥ç¼“å­˜</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> key é”®</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> value å€¼</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">lSet</span><span class="params">(String key, Object value)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            redisTemplate.opsForList().rightPush(key, value);</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å°†listæ”¾å…¥ç¼“å­˜</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> key é”®</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> value å€¼</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> time æ—¶é—´(ç§’)</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">lSet</span><span class="params">(String key, Object value, <span class="keyword">long</span> time)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            redisTemplate.opsForList().rightPush(key, value);</span><br><span class="line">            <span class="keyword">if</span> (time &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                expire(key, time);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å°†listæ”¾å…¥ç¼“å­˜</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> key é”®</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> value å€¼</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">lSet</span><span class="params">(String key, List&lt;Object&gt; value)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            redisTemplate.opsForList().rightPushAll(key, value);</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å°†listæ”¾å…¥ç¼“å­˜</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> key é”®</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> value å€¼</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> time æ—¶é—´(ç§’)</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">lSet</span><span class="params">(String key, List&lt;Object&gt; value, <span class="keyword">long</span> time)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            redisTemplate.opsForList().rightPushAll(key, value);</span><br><span class="line">            <span class="keyword">if</span> (time &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                expire(key, time);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ ¹æ®ç´¢å¼•ä¿®æ”¹listä¸­çš„æŸæ¡æ•°æ®</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> key é”®</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> index ç´¢å¼•</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> value å€¼</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">lUpdateIndex</span><span class="params">(String key, <span class="keyword">long</span> index,Object value)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            redisTemplate.opsForList().set(key, index, value);</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ç§»é™¤Nä¸ªå€¼ä¸ºvalue</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> key é”®</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> count ç§»é™¤å¤šå°‘ä¸ª</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> value å€¼</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> ç§»é™¤çš„ä¸ªæ•°</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">long</span> <span class="title">lRemove</span><span class="params">(String key,<span class="keyword">long</span> count,Object value)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Long remove = redisTemplate.opsForList().remove(key, count, value);</span><br><span class="line">            <span class="keyword">return</span> remove;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ¨¡ç³ŠæŸ¥è¯¢è·å–keyå€¼</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> pattern</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Set <span class="title">keys</span><span class="params">(String pattern)</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> redisTemplate.keys(pattern);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ä½¿ç”¨Redisçš„æ¶ˆæ¯é˜Ÿåˆ—</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> channel</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> message æ¶ˆæ¯å†…å®¹</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">convertAndSend</span><span class="params">(String channel, Object message)</span></span>&#123;</span><br><span class="line">        redisTemplate.convertAndSend(channel,message);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//=========BoundListOperations ç”¨æ³• start============</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ ¹æ®èµ·å§‹ç»“æŸåºå·éå†Redisä¸­çš„list</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> listKey</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> start  èµ·å§‹åºå·</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> end  ç»“æŸåºå·</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;Object&gt; <span class="title">rangeList</span><span class="params">(String listKey, <span class="keyword">long</span> start, <span class="keyword">long</span> end)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//ç»‘å®šæ“ä½œ</span></span><br><span class="line">        BoundListOperations&lt;String, Object&gt; boundValueOperations = redisTemplate.boundListOps(listKey);</span><br><span class="line">        <span class="comment">//æŸ¥è¯¢æ•°æ®</span></span><br><span class="line">        <span class="keyword">return</span> boundValueOperations.range(start, end);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å¼¹å‡ºå³è¾¹çš„å€¼ --- å¹¶ä¸”ç§»é™¤è¿™ä¸ªå€¼</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> listKey</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Object <span class="title">rifhtPop</span><span class="params">(String listKey)</span></span>&#123;</span><br><span class="line">        <span class="comment">//ç»‘å®šæ“ä½œ</span></span><br><span class="line">        BoundListOperations&lt;String, Object&gt; boundValueOperations = redisTemplate.boundListOps(listKey);</span><br><span class="line">        <span class="keyword">return</span> boundValueOperations.rightPop();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//=========BoundListOperations ç”¨æ³• End============</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>åˆ›å»ºå®ä½“ç±»UserEntityï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserEntity</span>  <span class="keyword">implements</span> <span class="title">Serializable</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Long id;</span><br><span class="line">    <span class="keyword">private</span> String guid;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> String age;</span><br><span class="line">    <span class="keyword">private</span> Date createTime;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">UserEntity</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Long <span class="title">getId</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setId</span><span class="params">(Long id)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.id = id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getGuid</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> guid;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setGuid</span><span class="params">(String guid)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.guid = guid;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getAge</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAge</span><span class="params">(String age)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Date <span class="title">getCreateTime</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> createTime;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setCreateTime</span><span class="params">(Date createTime)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.createTime = createTime;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>åˆ›å»ºæ§åˆ¶å™¨RedisController:</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@RequestMapping</span>(<span class="string">"/redis"</span>)</span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RedisController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> ExpireTime = <span class="number">60</span>;   <span class="comment">// redisä¸­å­˜å‚¨çš„è¿‡æœŸæ—¶é—´60s</span></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Resource</span></span><br><span class="line">    <span class="keyword">private</span> RedisUtil redisUtil;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping</span>(<span class="string">"set"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">redisset</span><span class="params">(String key, String value)</span></span>&#123;</span><br><span class="line">        UserEntity userEntity =<span class="keyword">new</span> UserEntity();</span><br><span class="line">        userEntity.setId(Long.valueOf(<span class="number">1</span>));</span><br><span class="line">        userEntity.setGuid(String.valueOf(<span class="number">1</span>));</span><br><span class="line">        userEntity.setName(<span class="string">"wanderros"</span>);</span><br><span class="line">        userEntity.setAge(String.valueOf(<span class="number">20</span>));</span><br><span class="line">        userEntity.setCreateTime(<span class="keyword">new</span> Date());</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> redisUtil.set(key,userEntity,ExpireTime);</span><br><span class="line"></span><br><span class="line">       <span class="comment">// return redisUtil.set(key,value);</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping</span>(<span class="string">"get"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Object <span class="title">redisget</span><span class="params">(String key)</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> redisUtil.get(key);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping</span>(<span class="string">"expire"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">expire</span><span class="params">(String key)</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> redisUtil.expire(key,ExpireTime);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>ç¼–è¯‘å¹¶è¿è¡Œ</p>
<ol>
<li><p>è®¿é—®é“¾æ¥ï¼š<a href="http://localhost:8080/redis/set?key=test&amp;value=fuck" target="_blank" rel="noopener">http://localhost:8080/redis/set?key=test&amp;value=fuck</a></p>
</li>
<li><p>æŸ¥çœ‹redisæœåŠ¡å™¨ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/48a17bc9dca335565bd68663d5e89ca4-277962" alt="æ’å…¥æ•°æ®æˆåŠŸ"></p>
</li>
<li><p>ä½¿ç”¨postmanè·å–redisæ•°æ®ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/afbb2543e7f10dbd562ebf16a73a9a7d-37139" alt="postmanè·å–"></p>
</li>
<li><p>è®¾ç½®è¶…æ—¶å°±åˆ é™¤æ•°æ®ï¼š<a href="http://localhost:8080/redis/expire?key=hello" target="_blank" rel="noopener">http://localhost:8080/redis/expire?key=hello</a></p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/950a7c03c6504afe545a71516391b898-35457" alt="è¶…æ—¶åˆ é™¤"></p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/498286337d3b1007f391a35159b54ad7-257765" alt="åˆ é™¤æˆåŠŸ"></p>
</li>
</ol>
</li>
</ol>
<h2 id="Jedis"><a href="#Jedis" class="headerlink" title="Jedis"></a>Jedis</h2><ol>
<li><p>æ·»åŠ ä¾èµ–ï¼ˆMavenä¸­çš„pom.xmlï¼‰ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>redis.clients<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jedis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.9.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>æ§åˆ¶å™¨ä¸­ä½¿ç”¨jedisï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@Slf</span>4j</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RedisController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping</span>(value = <span class="string">"/jedistest"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">jedisTest</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="comment">// åˆ›å»ºä¸€ä¸ªjediså¯¹è±¡</span></span><br><span class="line">        Jedis jedis = <span class="keyword">new</span> Jedis(<span class="string">"127.0.0.1"</span>, <span class="number">6379</span>);</span><br><span class="line">        <span class="comment">// ç›´æ¥è°ƒç”¨jediså¯¹è±¡çš„æ–¹æ³•ï¼Œæ–¹æ³•åç§°å’Œredisçš„å‘½ä»¤ä¸€è‡´</span></span><br><span class="line">        jedis.set(<span class="string">"key1"</span>, <span class="string">"test01"</span>);</span><br><span class="line">        String key1 = jedis.get(<span class="string">"key1"</span>);</span><br><span class="line">        log.info(key1);</span><br><span class="line">        <span class="comment">// å…³é—­jedis</span></span><br><span class="line">        jedis.close();</span><br><span class="line">        <span class="keyword">return</span> key1;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>è¾“å‡ºï¼š</p>
<figure class="highlight properties"><table><tr><td class="code"><pre><span class="line"><span class="meta">2020-07-01</span> <span class="string">16:26:24.863 DEBUG 65597 --- [nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.wander.testredis.testredis.RedisController#jedisTest()</span></span><br><span class="line"><span class="meta">2020-07-01</span> <span class="string">16:26:24.878  INFO 65597 --- [nio-8080-exec-1] c.w.testredis.testredis.RedisController  : test01</span></span><br><span class="line"><span class="meta">2020-07-01</span> <span class="string">16:26:24.894 DEBUG 65597 --- [nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'text/html', given [text/html, application/xhtml+xml, image/webp, image/apng, application/xml;q=0.9, application/signed-exchange;v=b3;q=0.9, */*;q=0.8] and supported [text/plain, */*, text/plain, */*, application/json, application/*+json, application/json, application/*+json]</span></span><br><span class="line"><span class="meta">2020-07-01</span> <span class="string">16:26:24.894 DEBUG 65597 --- [nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing ["test01"]</span></span><br><span class="line"><span class="meta">2020-07-01</span> <span class="string">16:26:24.901 DEBUG 65597 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK</span></span><br></pre></td></tr></table></figure>

</li>
</ol>
<h2 id="Rediså¤šæ•°æ®æº"><a href="#Rediså¤šæ•°æ®æº" class="headerlink" title="Rediså¤šæ•°æ®æº"></a>Rediså¤šæ•°æ®æº</h2><hr>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p><a href="https://www.jianshu.com/p/c79b65b253fa" target="_blank" rel="noopener">https://www.jianshu.com/p/c79b65b253fa</a></p>
<p><a href="https://www.cnblogs.com/zeng1994/p/03303c805731afc9aa9c60dbbd32a323.html" target="_blank" rel="noopener">https://www.cnblogs.com/zeng1994/p/03303c805731afc9aa9c60dbbd32a323.html</a></p>
<p><a href="https://blog.csdn.net/weixin_44018338/article/details/99948158" target="_blank" rel="noopener">https://blog.csdn.net/weixin_44018338/article/details/99948158</a></p>
<p><a href="https://cloud.tencent.com/developer/article/1441532" target="_blank" rel="noopener">https://cloud.tencent.com/developer/article/1441532</a></p>
<p>ä¸»æ•°æ®æº<strong>@Primary</strong></p>
]]></content>
      <categories>
        <category>Java</category>
      </categories>
  </entry>
  <entry>
    <title>SpringBootä¸­çš„JPA</title>
    <url>/2020/04/19/SpringBoot%E4%B8%AD%E7%9A%84JPA/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p><strong>JPA(Java Persistence API)</strong>æ˜¯Sunå…¬å¸æå‡ºçš„ä¸€ç§JavaæŒä¹…åŒ–è§„èŒƒã€‚ä½¿å¾—Javaå¼€å‘äººå‘˜å¯ä»¥ä»¥ä¸€ç§å¯¹è±¡/å…³ç³»æ˜ å°„çš„æ–¹å¼æ¥ç®¡ç†Javaåº”ç”¨ä¸­çš„å…³ç³»æ•°æ®ã€‚</p>
<ul>
<li>æŒä¹…åŒ–ï¼ˆPersistenceï¼‰ï¼šæŠŠæ•°æ®ä¿å­˜åˆ°å¯ä»¥æ°¸ä¹…å­˜å‚¨çš„è®¾å¤‡ä¸­ã€‚JDBCå°±æ˜¯ä¸€ç§æŒä¹…åŒ–æœºåˆ¶ï¼›æ–‡ä»¶I/Oä¹Ÿæ˜¯ä¸€ç§æŒä¹…åŒ–æœºåˆ¶ã€‚</li>
<li>è§„èŒƒï¼šæ˜æ–‡è§„å®šæˆ–è€…çº¦å®šä¿—æˆçš„æ ‡å‡†ã€‚</li>
<li>Hibernateæ˜¯ä¸€ä¸ªå¼€æºçš„å¯¹è±¡å…³ç³»æ˜ å°„æ¡†æ¶ï¼Œå¯¹JDBCè¿›è¡Œäº†éå¸¸è½»é‡çº§çš„å¯¹è±¡å°è£…ï¼Œå°†POJOä¸æ•°æ®åº“è¡¨å»ºç«‹æ˜ å°„å…³ç³»ï¼Œèƒ½è‡ªåŠ¨ç”ŸæˆSQLè¯­å¥ï¼Œè‡ªåŠ¨æ‰§è¡Œã€‚</li>
<li>ORMï¼ˆObject Relational Mappingï¼‰ï¼šç”¨äºå®ç°é¢å‘å¯¹è±¡ç¼–ç¨‹è¯­è¨€é‡Œä¸åŒç³»ç»Ÿç±»å‹çš„ç³»ç»Ÿä¹‹é—´çš„æ•°æ®è½¬æ¢ã€‚</li>
<li>Spring Dataï¼šç”¨äºç®€åŒ–æ•°æ®åº“è®¿é—®ï¼Œå¹¶æ”¯æŒäº‘æœåŠ¡çš„å¼€æºæ¡†æ¶ã€‚</li>
</ul>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><ol>
<li><strong>Spring Data JPAçš„ä¼˜åŠ¿ï¼š</strong></li>
</ol>
<ul>
<li>å¯ä»¥æå¤§ç®€åŒ–JPAçš„å†™æ³•ï¼›</li>
<li>æ”¯æŒCRUD,åˆ†é¡µã€æ’åºç­‰å¸¸ç”¨çš„åŠŸèƒ½ï¼›</li>
<li>åªéœ€è¦ç¼–å†™ä¸€ä¸ªæ¥å£ç»§æ‰¿ä¸€ä¸ªç±»å°±èƒ½å¤Ÿå®ç°CRUDæ“ä½œäº†ã€‚</li>
</ul>
<ol start="2">
<li><strong>Spring Data JPAä¾èµ–ï¼š</strong></li>
</ol>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-data-jpa<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">scope</span>&gt;</span>runtime<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-data-jdbc<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-data-jdbc<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ol start="3">
<li><strong>åˆ›å»ºJPAå¯ä»¥è®¿é—®çš„ç±»ï¼Œæˆ‘è¿™é‡Œæ˜¯Girlç±»:</strong></li>
</ol>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.demo;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.persistence.Entity;</span><br><span class="line"><span class="keyword">import</span> javax.persistence.GeneratedValue;</span><br><span class="line"><span class="keyword">import</span> javax.persistence.Id;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* <span class="doctag">@author</span> wander</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="meta">@Entity</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Girl</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Id</span></span><br><span class="line">    <span class="meta">@GeneratedValue</span></span><br><span class="line">    <span class="keyword">private</span> Integer id;</span><br><span class="line">    <span class="keyword">private</span> String cupSize;</span><br><span class="line">    <span class="keyword">private</span> Integer age;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Girl</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Integer <span class="title">getId</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setId</span><span class="params">(Integer id)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.id = id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getCupSize</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> cupSize;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setCupSize</span><span class="params">(String cupSize)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.cupSize = cupSize;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Integer <span class="title">getAge</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAge</span><span class="params">(Integer age)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="4">
<li><strong>åˆ›å»ºç»§æ‰¿äºJpaRepositoryçš„ç±»ï¼š</strong></li>
</ol>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.demo;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.data.jpa.repository.JpaRepository;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* <span class="doctag">@author</span> wander</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">GirlRepository</span> <span class="keyword">extends</span> <span class="title">JpaRepository</span>&lt;<span class="title">Girl</span>,<span class="title">Integer</span>&gt; </span>&#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">abstract</span> <span class="keyword">public</span> List&lt;Girl&gt; <span class="title">findByAge</span><span class="params">(Integer age)</span></span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="5">
<li><strong>åˆ›å»ºè®¿é—®ç±»ï¼ˆå¢åˆ æ”¹æŸ¥ï¼‰ï¼š</strong></li>
</ol>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.demo;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.*;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.Optional;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">girlController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> GirlRepository girlRepository;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping</span>(value = <span class="string">"/girls"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;Girl&gt; <span class="title">girlList</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> girlRepository.findAll();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@PostMapping</span>(value = <span class="string">"/girls"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Girl <span class="title">girlAdd</span><span class="params">(@RequestParam(<span class="string">"cupSize"</span>)</span> String cupSize,@<span class="title">RequestParam</span><span class="params">(<span class="string">"age"</span>)</span> Integer age)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        Girl girl=<span class="keyword">new</span> Girl();</span><br><span class="line">        girl.setCupSize(cupSize);</span><br><span class="line">        girl.setAge(age);</span><br><span class="line">        <span class="keyword">return</span> girlRepository.save(girl);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@GetMapping</span>(<span class="string">"/girls/&#123;id&#125;"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Optional&lt;Girl&gt; <span class="title">girlSearch</span><span class="params">(@PathVariable(<span class="string">"id"</span>)</span> Integer id)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> girlRepository.findById(id);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@PutMapping</span>(<span class="string">"/girls/&#123;id&#125;"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Girl <span class="title">updateGirl</span><span class="params">(@PathVariable(<span class="string">"id"</span>)</span> Integer id,@<span class="title">RequestParam</span><span class="params">(<span class="string">"age"</span>)</span> Integer age,@<span class="title">RequestParam</span><span class="params">(<span class="string">"cupSize"</span>)</span>String cupSize)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        Girl girl=<span class="keyword">new</span> Girl();</span><br><span class="line">        girl.setId(id);</span><br><span class="line">        girl.setAge(age);</span><br><span class="line">        girl.setCupSize(cupSize);</span><br><span class="line">        <span class="keyword">return</span> girlRepository.save(girl);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@DeleteMapping</span>(<span class="string">"/girls/&#123;id&#125;"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span>  <span class="title">deleteGirl</span><span class="params">(@PathVariable(<span class="string">"id"</span>)</span> Integer id)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        Girl girl=<span class="keyword">new</span> Girl();</span><br><span class="line">        girl.setId(id);</span><br><span class="line">        girlRepository.delete(girl);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@PostMapping</span>(<span class="string">"/girls/&#123;age&#125;"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;Girl&gt; <span class="title">findgirlbyage</span><span class="params">(@PathVariable(<span class="string">"age"</span>)</span> Integer age)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> girlRepository.findByAge(age);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="6">
<li><strong><em>é…ç½®å‚æ•°ï¼š</em></strong></li>
</ol>
<figure class="highlight properties"><table><tr><td class="code"><pre><span class="line"><span class="attr">server</span>:<span class="string"></span></span><br><span class="line">  <span class="attr">port</span>: <span class="string">80</span></span><br><span class="line"></span><br><span class="line"><span class="attr">spring</span>:<span class="string"></span></span><br><span class="line">  <span class="attr">datasource</span>:<span class="string"></span></span><br><span class="line">    <span class="attr">username</span>: <span class="string">root</span></span><br><span class="line">    <span class="attr">password</span>: <span class="string">helloworld</span></span><br><span class="line">    <span class="attr">url</span>: <span class="string">jdbc:mysql://localhost:3306/jdbc</span></span><br><span class="line">    <span class="meta">driver-class-name</span>: <span class="string">com.mysql.cj.jdbc.Driver</span></span><br><span class="line">  <span class="attr">jpa</span>:<span class="string"></span></span><br><span class="line">    <span class="attr">hibernate</span>:<span class="string"></span></span><br><span class="line">      <span class="meta">ddl-auto</span>: <span class="string">validate</span></span><br><span class="line">    <span class="meta">show-sql</span>: <span class="string">true</span></span><br></pre></td></tr></table></figure>

<ol start="7">
<li><strong>JPAäº‹åŠ¡ï¼š</strong>ä½¿ç”¨@Transactionalè¿›è¡Œäº‹åŠ¡çš„ç»‘å®šã€‚</li>
</ol>
<hr>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>ä»é…ç½®çš„è§’åº¦å¯ä»¥çœ‹åˆ°ä½¿ç”¨Spring Bootçš„JPAè¿›è¡Œæ•°æ®åº“çš„æ“ä½œéå¸¸æ–¹ä¾¿ï¼Œéƒ½æ²¡æœ‰å»å†™æ•°æ®åº“çš„æ“ä½œå‡½æ•°ï¼Œè¿™å°±æ˜¯è‡ªåŠ¨åŒ–é…ç½®å¸¦æ¥çš„é­”åŠ›ï¼Œè™½ç„¶å¯ä»¥å¿«é€Ÿè¿›è¡Œä½¿ç”¨ï¼Œä½†æ˜¯è¿˜æ˜¯éœ€è¦èŠ±æ—¶é—´å»è¿›è¡Œå­¦ä¹ ã€‚</p>
]]></content>
      <categories>
        <category>Java</category>
      </categories>
  </entry>
  <entry>
    <title>SpringBoot æ³¨è§£è¯´æ˜</title>
    <url>/2020/07/01/SpringBoot-%E6%B3%A8%E8%A7%A3%E8%AF%B4%E6%98%8E/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>SpringBootä¸­å¤§é‡ä½¿ç”¨æ³¨è§£ï¼Œé€šè¿‡ä½¿ç”¨æ³¨è§£æ¥å®ç°é›¶é…ï¼Œè™½ç„¶ç®€åŒ–äº†é…ç½®ï¼Œä½†æ˜¯éœ€è¦å­¦ä¹ æ³¨è§£ï¼Œä¸‹é¢ä»‹ç»çš„æ˜¯å¸¸ç”¨çš„æ³¨è§£ï¼Œç„¶åè¿›è¡Œäº†åˆ†ç±»ä¸åŒºåˆ«ï¼Œå¹³æ—¶ä½¿ç”¨çš„æ—¶å€™ç¨ç¨æ³¨æ„å°±èƒ½æ·±å…¥ç†è§£ï¼</p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="Resource-Autowired-Inject"><a href="#Resource-Autowired-Inject" class="headerlink" title="@Resource,@Autowired,@Inject"></a>@Resource,@Autowired,@Inject</h2><ol>
<li><p>åŠŸèƒ½ï¼šéƒ½æ˜¯ç”¨æ¥æ³¨å…¥beançš„æ³¨è§£ï¼›</p>
</li>
<li><p>åŒºåˆ«ï¼š</p>
<table>
<thead>
<tr>
<th>annotation</th>
<th>package</th>
<th>source</th>
<th>ä½œç”¨åŸŸ</th>
<th>å®ç°æ–¹å¼</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>@AutoWired</td>
<td>org.springframework.bean.factoryï¼ŒSpringè‡ªå¸¦çš„æ–¹å¼</td>
<td>Spring 2.5+</td>
<td>å¯ä»¥ç”¨åœ¨æ„é€ å™¨ã€æ–¹æ³•ã€å±æ€§ã€å‚æ•°ã€æ³¨è§£ä¸Šé¢</td>
<td>é€šè¿‡AutowireAnnotationBeanPostProcessorç±»å®ç°ä¾èµ–æ³¨å…¥</td>
<td>æ³¨å…¥å¯ä»¥æ ¹æ®åå­—/ç±»å‹ï¼Œå¯ä»¥è®¾ç½®requiredå±æ€§ä¸ºfalseæŒ‡å®šæ‰¾ä¸åˆ°ç›¸åº”beanæ—¶ä¸æŠ›å¼‚å¸¸</td>
</tr>
<tr>
<td>@Resource</td>
<td>javax.annotation,æ˜¯JSR-250æ ‡å‡†ï¼ŒJDK6ä»¥ä¸Šè‡ªå¸¦ï¼ŒSpringç‰ˆæœ¬è¦æ±‚2.5ä»¥ä¸Š</td>
<td>Java JSR-250</td>
<td>å¯ä»¥ç”¨åœ¨æ–¹æ³•ã€å±æ€§ã€ç±»ä¸Š</td>
<td>é€šè¿‡CommonAnnotationBeanPostProcessorç±»å®ç°ä¾èµ–æ³¨å…¥</td>
<td>ä¸@AutoWiredä¸€è‡´ã€‚ä½†å¯ä»¥æŒ‡å®šnameå±æ€§æ¥æŒ‡å®šbeanName,ä½†å¦‚æœnameå¯¹åº”çš„beanä¸å­˜åœ¨ï¼Œåˆ™ä¼šæŠ›å‡ºå¼‚å¸¸ï¼Œä¸”æ²¡æœ‰requiredå±æ€§</td>
</tr>
<tr>
<td>@Inject</td>
<td>javax.inject,æ˜¯JSR-303æ ‡å‡†ï¼ŒSpringç‰ˆæœ¬3ä»¥ä¸Šï¼Œéœ€è¦å¯¼å…¥å¤–éƒ¨ä¾èµ–</td>
<td>Java JSR-330</td>
<td>å¯ä»¥ç”¨åœ¨æ–¹æ³•ã€å±æ€§ã€æ„é€ å™¨ä¸Š</td>
<td>é€šè¿‡AutowiredAnnotationBeanPostProcessorç±»å®ç°ä¾èµ–æ³¨å…¥</td>
<td>ä¸@AutoWiredä¸€è‡´ï¼ŒåŒºåˆ«åœ¨äº@Injectæ²¡æœ‰requiredå±æ€§</td>
</tr>
</tbody></table>
</li>
<li><p>æ ·ä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ä¸åŠ @Namedæ³¨è§£ï¼Œåˆ™éœ€è¦é…ç½®ä¸å˜é‡åä¸€è‡´</span></span><br><span class="line"><span class="meta">@Inject</span></span><br><span class="line"><span class="meta">@Named</span>(<span class="string">"mongo"</span>)</span><br><span class="line"><span class="keyword">private</span> Mongo mongo;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å±æ€§requiredï¼Œå¯ä»¥é…ç½®ä¸ºfalseï¼Œå¦‚æœé…ç½®ä¸ºfalseä¹‹åï¼Œå½“æ²¡æœ‰æ‰¾åˆ°ç›¸åº”beançš„æ—¶å€™ï¼Œç³»ç»Ÿä¸ä¼šæŠ›é”™</span></span><br><span class="line"><span class="meta">@Autowired</span></span><br><span class="line"><span class="keyword">private</span> MongoTemplate mongoTemplate;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¸€èˆ¬ä¼šæŒ‡å®šä¸€ä¸ªnameå±æ€§</span></span><br><span class="line"><span class="meta">@Resource</span>(name = <span class="string">"testMapper"</span>)</span><br><span class="line"><span class="keyword">private</span> TestMapper testMapper;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h2 id="Repository-Service-Controller-Component"><a href="#Repository-Service-Controller-Component" class="headerlink" title="@Repository,@Service,@Controller,@Component"></a>@Repository,@Service,@Controller,@Component</h2><ol>
<li><p>åœ¨ç›®å‰çš„ Spring ç‰ˆæœ¬ä¸­ï¼Œ@Repositoryã€@Service å’Œ @Controlleræ³¨è§£å’Œ @Component æ˜¯ç­‰æ•ˆçš„ï¼›</p>
</li>
<li><p>å‘½åè§„åˆ™ï¼š</p>
<ul>
<li>@Serviceç”¨äºæ ‡æ³¨ä¸šåŠ¡å±‚ç»„ä»¶</li>
<li>@Controllerç”¨äºæ ‡æ³¨æ§åˆ¶å±‚ç»„ä»¶ï¼ˆå¦‚strutsä¸­çš„action)</li>
<li>@Repositoryç”¨äºæ ‡æ³¨æ•°æ®è®¿é—®ç»„ä»¶ï¼Œå³DAOç»„ä»¶</li>
<li>@Componentæ³›æŒ‡ç»„ä»¶ï¼Œå½“ç»„ä»¶ä¸å¥½å½’ç±»çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨è¿™ä¸ªæ³¨è§£è¿›è¡Œæ ‡æ³¨</li>
</ul>
</li>
<li><p>é€šè¿‡åœ¨ç±»ä¸Šä½¿ç”¨ @Serviceã€@Controllerã€@Repositoryå’Œ@Componentæ³¨è§£ï¼ŒSpringä¼šè‡ªåŠ¨åˆ›å»ºç›¸åº”çš„ BeanDefinition å¯¹è±¡ï¼Œå¹¶æ³¨å†Œåˆ° ApplicationContext ä¸­ã€‚å½“ä¸€ä¸ª Bean è¢«è‡ªåŠ¨æ£€æµ‹åˆ°æ—¶ï¼Œä¼šæ ¹æ®é‚£ä¸ªæ‰«æå™¨çš„ BeanNameGenerator ç­–ç•¥ç”Ÿæˆå®ƒçš„ beanåç§°ï¼›</p>
</li>
<li><p>æ ·ä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Service</span>  </span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserServiceImpl</span> <span class="keyword">implements</span> <span class="title">UserService</span> </span>&#123;     </span><br><span class="line">&#125;  </span><br><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserController</span> </span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">@Repository</span>  </span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserDaoImpl</span> <span class="keyword">implements</span> <span class="title">UserDao</span> </span>&#123;   </span><br><span class="line">&#125;  </span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserUtil</span> </span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h2 id="Value-Import-ImportResource-PropertySource"><a href="#Value-Import-ImportResource-PropertySource" class="headerlink" title="@Value, @Import,@ImportResource,@PropertySource"></a>@Value, @Import,@ImportResource,@PropertySource</h2><ol>
<li><p>é€šè¿‡@Valueå¯ä»¥å°†å¤–éƒ¨çš„å€¼åŠ¨æ€æ³¨å…¥åˆ°Beanä¸­,æ¯”å¦‚application.propertiesä¸­çš„å±æ€§ï¼›</p>
</li>
<li><p>@Import ç”¨äºå°†æŒ‡å®šçš„ç±»å®ä¾‹æ³¨å…¥ä¹‹Spring IOC Containerä¸­ï¼›</p>
</li>
<li><p>Spring Booté‡Œé¢æ²¡æœ‰Springçš„é…ç½®æ–‡ä»¶ï¼Œè‡ªå·±ç¼–å†™çš„é…ç½®æ–‡ä»¶ï¼Œä¹Ÿä¸èƒ½è‡ªåŠ¨è¯†åˆ«ã€‚æƒ³è®©Springçš„é…ç½®æ–‡ä»¶ç”Ÿæ•ˆï¼ŒåŠ è½½è¿›æ¥ï¼Œéœ€è¦ä½¿ç”¨@ImportResourceæ ‡æ³¨åœ¨ä¸€ä¸ªé…ç½®ç±»ä¸Šï¼›</p>
</li>
<li><p>è‡ªå®šä¹‰é…ç½®æ–‡ä»¶æ—¶ï¼Œä½¿ç”¨@PropertySourceæ¥å°†é…ç½®æ–‡ä»¶ä¸å®ä½“å±æ€§æ˜ å°„ï¼›</p>
</li>
<li><p>æ ·ä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Value</span>(<span class="string">"å­—ç¬¦ä¸²1"</span>)</span><br><span class="line"><span class="keyword">private</span> String testName; <span class="comment">// æ³¨å…¥æ™®é€šå­—ç¬¦ä¸²</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@Value</span>(<span class="string">"#&#123;systemProperties['os.name']&#125;"</span>)</span><br><span class="line"><span class="keyword">private</span> String systemPropertiesName; <span class="comment">// æ³¨å…¥æ“ä½œç³»ç»Ÿå±æ€§</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@Value</span>(<span class="string">"#&#123; T(java.lang.Math).random() * 100.0 &#125;"</span>)</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">double</span> randomNumber; <span class="comment">//æ³¨å…¥è¡¨è¾¾å¼ç»“æœ</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@Value</span>(<span class="string">"$&#123;domain.name&#125;"</span>)</span><br><span class="line"><span class="keyword">private</span> String domainName; <span class="comment">// æ³¨å…¥application.propertiesçš„é…ç½®å±æ€§</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@ComponentScan</span></span><br><span class="line"><span class="comment">/*æŠŠç”¨åˆ°çš„èµ„æºå¯¼å…¥åˆ°å½“å‰å®¹å™¨ä¸­*/</span></span><br><span class="line"><span class="meta">@Import</span>(&#123;Dog<span class="class">.<span class="keyword">class</span>, <span class="title">Cat</span>.<span class="title">class</span>&#125;)</span></span><br><span class="line"><span class="class"><span class="title">public</span> <span class="title">class</span> <span class="title">App</span> </span>&#123;</span><br><span class="line"> </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line"> </span><br><span class="line">        ConfigurableApplicationContext context = SpringApplication.run(App<span class="class">.<span class="keyword">class</span>, <span class="title">args</span>)</span>;</span><br><span class="line">        System.out.println(context.getBean(Dog<span class="class">.<span class="keyword">class</span>))</span>;</span><br><span class="line">        System.out.println(context.getBean(Cat<span class="class">.<span class="keyword">class</span>))</span>;</span><br><span class="line">        context.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@ImportResource</span>(locations = &#123;<span class="string">"classpath:applicationContext.xml"</span>&#125;)</span><br><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SpringBootConfigApplication</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        SpringApplication.run(SpringBootConfigApplication<span class="class">.<span class="keyword">class</span>, <span class="title">args</span>)</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@PropertySource</span>(value = &#123;<span class="string">"classpath:person.properties"</span>&#125;)</span><br><span class="line"><span class="meta">@ConfigurationProperties</span>(prefix = <span class="string">"person"</span>)</span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String lastName;</span><br><span class="line">    <span class="keyword">private</span> Integer age;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">boolean</span> isBoss;</span><br><span class="line">    <span class="keyword">private</span> Date birth;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Map&lt;String, Object&gt; maps;</span><br><span class="line">    <span class="keyword">private</span> List&lt;Object&gt; lists;</span><br><span class="line">    <span class="keyword">private</span> Dog dog;</span><br><span class="line">   <span class="comment">// ...setter/getter/toString...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
]]></content>
      <categories>
        <category>SpringBoot</category>
      </categories>
  </entry>
  <entry>
    <title>SpringBootä¹‹Webæ–‡ä»¶ä¸Šä¼ </title>
    <url>/2020/07/14/SpringBoot%E4%B9%8BWeb%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>æ–‡ä»¶ä¸Šä¼ ä¸€èˆ¬æœ‰ä¸¤ç§ç­–ç•¥ï¼Œä¸€ç§æ˜¯é€šè¿‡IOæµä¸Šä¼ ï¼Œè¿˜æœ‰ä¸€ç§æ˜¯é€šè¿‡è¡¨å•ä¸Šä¼ ã€‚è¿™é‡Œä¸»è¦æ˜¯è®°å½•åå°å¦‚ä½•å¤„ç†æ–‡ä»¶ä¸Šä¼ é—®é¢˜ï¼</p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="åŸºç¡€çŸ¥è¯†"><a href="#åŸºç¡€çŸ¥è¯†" class="headerlink" title="åŸºç¡€çŸ¥è¯†"></a>åŸºç¡€çŸ¥è¯†</h2><h3 id="åŠŸèƒ½å®ç°æ­¥éª¤"><a href="#åŠŸèƒ½å®ç°æ­¥éª¤" class="headerlink" title="åŠŸèƒ½å®ç°æ­¥éª¤"></a>åŠŸèƒ½å®ç°æ­¥éª¤</h3><ol>
<li>å¼•å…¥ä¾èµ–</li>
<li>åˆ›å»ºæ–‡ä»¶ä¸Šä¼ é¡µé¢</li>
<li>Webé…ç½®</li>
<li>ç¼–å†™æ§åˆ¶å™¨</li>
</ol>
<h2 id="åŠ¨æ‰‹å®æ“"><a href="#åŠ¨æ‰‹å®æ“" class="headerlink" title="åŠ¨æ‰‹å®æ“"></a>åŠ¨æ‰‹å®æ“</h2><ol>
<li><p>å¼•å…¥æ–‡ä»¶ä¸Šä¼ ä¾èµ–ï¼ˆpom.xmlï¼‰ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>commons-fileupload<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>commons-fileupload<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.3.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>commons-io<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>commons-io<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.5<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>ä¸€ä¸ªç”¨æ¥è§£å†³æ–‡ä»¶ä¸Šä¼ ï¼Œä¸€ä¸ªç®€åŒ–IOæ“ä½œ</li>
</ul>
</li>
<li><p>åˆ›å»ºæ–‡ä»¶ä¸Šä¼ é¡µé¢ï¼Œå·æ‡’ç›´æ¥é™æ€é¡µé¢ï¼Œæ”¾ç½®åœ¨resourcesï¼Œstaticç›®å½•ä¸‹ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">HTML</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Image Upload<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"Content-Type"</span> <span class="attr">content</span>=<span class="string">"text/html; charset=UTF-8"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">form</span> <span class="attr">method</span>=<span class="string">"POST"</span> <span class="attr">action</span>=<span class="string">"/upload"</span> <span class="attr">enctype</span>=<span class="string">"multipart/form-data"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">table</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">label</span> <span class="attr">path</span>=<span class="string">"file_upload"</span>&gt;</span>Select a file to upload<span class="tag">&lt;/<span class="name">label</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"file"</span> <span class="attr">name</span>=<span class="string">"file_upload"</span> <span class="attr">id</span>=<span class="string">"upload_file"</span>/&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">value</span>=<span class="string">"Submit"</span>/&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>æ³¨æ„enctype=â€multipart/form-dataâ€</li>
</ul>
</li>
<li><p>è‡ªå®šä¹‰æ–‡ä»¶ä¸Šä¼ é…ç½®ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UploadConfig</span> </span>&#123;</span><br><span class="line">    <span class="comment">//æ˜¾ç¤ºå£°æ˜CommonsMultipartResolverä¸ºmutipartResolver</span></span><br><span class="line">    <span class="meta">@Bean</span>(name = <span class="string">"multipartResolver"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> MultipartResolver <span class="title">multipartResolver</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        CommonsMultipartResolver resolver = <span class="keyword">new</span> CommonsMultipartResolver();</span><br><span class="line">        resolver.setDefaultEncoding(<span class="string">"UTF-8"</span>);</span><br><span class="line">        <span class="comment">//resolveLazilyå±æ€§å¯ç”¨æ˜¯ä¸ºäº†æ¨è¿Ÿæ–‡ä»¶è§£æï¼Œä»¥åœ¨åœ¨UploadActionä¸­æ•è·æ–‡ä»¶å¤§å°å¼‚å¸¸</span></span><br><span class="line">        resolver.setResolveLazily(<span class="keyword">true</span>);</span><br><span class="line">        resolver.setMaxInMemorySize(<span class="number">50</span>*<span class="number">1024</span>*<span class="number">1024</span>);</span><br><span class="line">        <span class="comment">//ä¸Šä¼ æ–‡ä»¶å¤§å° 5M 5*1024*1024</span></span><br><span class="line">        resolver.setMaxUploadSize(<span class="number">50</span> * <span class="number">1024</span> * <span class="number">1024</span>);</span><br><span class="line">        <span class="keyword">return</span> resolver;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>æ’é™¤è‡ªåŠ¨åŒ–é…ç½®@SpringBootApplication(exclude = {MultipartAutoConfiguration.class})</li>
</ul>
</li>
<li><p>å®šä¹‰æ–‡ä»¶ä¸Šä¼ çš„æ§åˆ¶å™¨ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UploadController</span> </span>&#123;</span><br><span class="line">    <span class="meta">@PostMapping</span>(value = <span class="string">"/upload"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">upload</span><span class="params">(@RequestParam(<span class="string">"file_upload"</span>)</span> MultipartFile file) </span>&#123;</span><br><span class="line">        System.out.println(file.getOriginalFilename());</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            String uploadDir=<span class="string">"/Users/wander/test/files"</span>;</span><br><span class="line">            File dir=<span class="keyword">new</span> File(uploadDir);</span><br><span class="line">            <span class="keyword">if</span>(!dir.exists())&#123;</span><br><span class="line">                dir.mkdir();</span><br><span class="line">            &#125;</span><br><span class="line">            String filename=file.getOriginalFilename();</span><br><span class="line">            File serverFile=<span class="keyword">new</span> File(uploadDir+File.separator+filename);</span><br><span class="line">            file.transferTo(serverFile);</span><br><span class="line">           <span class="comment">// FileUtils.writeByteArrayToFile(new File("/Users/wander/test/files"+file.getOriginalFilename()),file.getBytes());</span></span><br><span class="line">            System.out.println(<span class="string">"æˆåŠŸ"</span>);</span><br><span class="line">            <span class="keyword">return</span> <span class="string">"ä¸Šä¼ æˆåŠŸ"</span>;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">            <span class="keyword">return</span> <span class="string">"ä¸Šä¼ å¤±è´¥"</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>ç¼–è¯‘å¹¶è¿è¡Œé¡¹ç›®ä»¥åŠæµ‹è¯•ï¼Œæµ‹è¯•æ•ˆæœå¦‚ä¸‹ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/9efeb52cffda35d72225916c38869832-43520" alt="ä¸Šä¼ æ–‡ä»¶"></p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/487ca2cdd07f17d479a0805bab3d8762-98896" alt="ä¸Šä¼ ç»“æœ"></p>
</li>
</ol>
<hr>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1>]]></content>
      <categories>
        <category>SpringBoot</category>
      </categories>
  </entry>
  <entry>
    <title>SpringBootå›½é™…åŒ–å¿«é€Ÿå…¥é—¨</title>
    <url>/2020/07/12/SpringBoot%E5%9B%BD%E9%99%85%E5%8C%96%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>å›½é™…åŒ–ï¼Œå›½é™…åŒ–è‹±æ–‡æ˜¯ internationalization ï¼Œåœ¨ i å’Œ n ä¹‹é—´æœ‰ 18 ä¸ªå­—æ¯ï¼Œå› æ­¤ä¹Ÿå« i18nã€‚å¼€å‘çš„åº”ç”¨å¦‚æœåšäº†å›½é™…åŒ–å°±å¯ä»¥åœ¨ä¸åŒçš„è¯­è¨€ç¯å¢ƒä¸‹ï¼Œæ–¹ä¾¿çš„è¿›è¡Œåˆ‡æ¢ï¼Œæœ€å¸¸è§çš„å°±æ˜¯ä¸­æ–‡å’Œè‹±æ–‡ä¹‹é—´çš„åˆ‡æ¢ï¼Œå›½é™…åŒ–è¿™ä¸ªåŠŸèƒ½ä¹Ÿæ˜¯ç›¸å½“çš„å¸¸è§ï¼è¿™é‡Œä¸»è¦è®°å½•å¦‚ä½•å¿«é€Ÿä½¿ç”¨SpringBootè¿›è¡Œæ”¯æŒå›½é™…åŒ–çš„åº”ç”¨çš„å¼€å‘ã€‚</p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="åŸºç¡€çŸ¥è¯†"><a href="#åŸºç¡€çŸ¥è¯†" class="headerlink" title="åŸºç¡€çŸ¥è¯†"></a>åŸºç¡€çŸ¥è¯†</h2><ol>
<li>åœ¨ Spring ä¸­ï¼Œé€šè¿‡ AcceptHeaderLocaleResolver å¯¹å›½é™…åŒ–æä¾›äº†æ”¯æŒï¼Œå¼€å‘è€…é€šè¿‡ç®€å•é…ç½®ï¼Œå°±å¯ä»¥åœ¨é¡¹ç›®ä¸­ç›´æ¥ä½¿ç”¨å›½é™…åŒ–åŠŸèƒ½äº†ï¼Œé»˜è®¤æ˜¯é€šè¿‡è¯·æ±‚å¤´çš„ Accept-Language å­—æ®µæ¥åˆ¤æ–­å½“å‰è¯·æ±‚æ‰€å±çš„ç¯å¢ƒçš„ï¼Œè¿›è€Œç»™å‡ºåˆé€‚çš„å“åº”ï¼›</li>
<li>åœ¨ Spring Boot ä¸­å¯¹å›½é™…åŒ–è¿›ä¸€æ­¥çš„ç®€åŒ–ï¼Œä½¿å¾—æ›´æ–¹ä¾¿çš„è¿›è¡Œå›½é™…åŒ–é¡¹ç›®çš„å¼€å‘ï¼›</li>
<li>é¡¹ç›®ä¸­çš„å›½é™…åŒ–å¾€å¾€éœ€è¦å¤šæ–¹é¢çš„æ”¯æŒï¼Œä¾‹å¦‚åç«¯åšå›½é™…åŒ–ã€å‰ç«¯é¡µé¢ä¹Ÿè¦åšå›½é™…åŒ–ï¼Œå…±åŒæ­é…ï¼Œæ‰èƒ½çœŸæ­£å®ç°å›½é™…åŒ–çš„åŠŸèƒ½ï¼</li>
</ol>
<h2 id="åŠ¨æ‰‹å®æ“"><a href="#åŠ¨æ‰‹å®æ“" class="headerlink" title="åŠ¨æ‰‹å®æ“"></a>åŠ¨æ‰‹å®æ“</h2><h3 id="åˆ›å»ºä¸€ä¸ªSpringBooté¡¹ç›®"><a href="#åˆ›å»ºä¸€ä¸ªSpringBooté¡¹ç›®" class="headerlink" title="åˆ›å»ºä¸€ä¸ªSpringBooté¡¹ç›®"></a>åˆ›å»ºä¸€ä¸ªSpringBooté¡¹ç›®</h3><ol>
<li><p>åœ¨resourcesç›®å½•ä¸‹åˆ›å»ºå¤šä¸ªmessages.propertiesæ–‡ä»¶ï¼š</p>
<figure class="highlight properties"><table><tr><td class="code"><pre><span class="line"><span class="comment"># messages.properties</span></span><br><span class="line"><span class="meta">user.name</span>=<span class="string">test</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># messages_en_US.properties</span></span><br><span class="line"><span class="meta">user.name</span>=<span class="string">test</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># messages_zh_CN.properties</span></span><br><span class="line"><span class="meta">user.name</span>=<span class="string">æµ‹è¯•</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># messages_zh_TW.properties</span></span><br><span class="line"><span class="meta">user.name</span>=<span class="string">æ¸¬è©¦</span></span><br></pre></td></tr></table></figure>

<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/516a8bbb77860be49aa111ef9278f6d8-79349" alt="æ³¨æ„äº‹é¡¹"></p>
</li>
<li><p>é¡¹ç›®ä¾èµ–é…ç½®ï¼ˆpom.xmlï¼‰ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  	<span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  	<span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  	<span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  	<span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-devtools<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  	<span class="tag">&lt;<span class="name">scope</span>&gt;</span>runtime<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">  	<span class="tag">&lt;<span class="name">optional</span>&gt;</span>true<span class="tag">&lt;/<span class="name">optional</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  	<span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  	<span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-configuration-processor<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  	<span class="tag">&lt;<span class="name">optional</span>&gt;</span>true<span class="tag">&lt;/<span class="name">optional</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  	<span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.projectlombok<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  	<span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>lombok<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"> 	  <span class="tag">&lt;<span class="name">optional</span>&gt;</span>true<span class="tag">&lt;/<span class="name">optional</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>åˆ›å»ºä¸€ä¸ªRESTfulæ§åˆ¶å™¨ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HelloController</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    MessageSource messageSource;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping</span>(<span class="string">"/hello"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">hello</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> messageSource.getMessage(<span class="string">"user.name"</span>, <span class="keyword">null</span>, LocaleContextHolder.getLocale());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>POSTMANæµ‹è¯•ï¼š</p>
<ul>
<li>åœ¨æ¥å£è°ƒç”¨æ—¶ï¼Œé€šè¿‡è¯·æ±‚å¤´çš„ Accept-Language æ¥é…ç½®å½“å‰çš„ç¯å¢ƒ</li>
</ul>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/e60892c483b8875931fab58de00081b4-47927" alt="æµ‹è¯•ä¸­æ–‡"></p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/b789c2610fad2016b5435d851de241fa-47484" alt="æµ‹è¯•è‹±æ–‡"></p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/e686583f295d69ba7d49be161d6a1127-48595" alt="æµ‹è¯•ç¹ä½“"></p>
</li>
</ol>
<h3 id="è‡ªå®šä¹‰é…ç½®"><a href="#è‡ªå®šä¹‰é…ç½®" class="headerlink" title="è‡ªå®šä¹‰é…ç½®"></a>è‡ªå®šä¹‰é…ç½®</h3><ol>
<li><p>é…ç½®ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">WebConfig</span> <span class="keyword">implements</span> <span class="title">WebMvcConfigurer</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addInterceptors</span><span class="params">(InterceptorRegistry registry)</span> </span>&#123;</span><br><span class="line">        LocaleChangeInterceptor interceptor = <span class="keyword">new</span> LocaleChangeInterceptor();</span><br><span class="line">        interceptor.setParamName(<span class="string">"lang"</span>);</span><br><span class="line">        registry.addInterceptor(interceptor);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">     <span class="function"><span class="keyword">public</span> LocaleResolver <span class="title">localeResolver</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        SessionLocaleResolver localeResolver = <span class="keyword">new</span> SessionLocaleResolver();</span><br><span class="line">        localeResolver.setDefaultLocale(Locale.SIMPLIFIED_CHINESE);</span><br><span class="line">        <span class="keyword">return</span> localeResolver;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>é¦–å…ˆæä¾›äº†ä¸€ä¸ª SessionLocaleResolver å®ä¾‹ï¼Œè¿™ä¸ªå®ä¾‹ä¼šæ›¿æ¢æ‰é»˜è®¤çš„ AcceptHeaderLocaleResolverï¼Œä¸åŒäº AcceptHeaderLocaleResolver é€šè¿‡è¯·æ±‚å¤´æ¥åˆ¤æ–­å½“å‰çš„ç¯å¢ƒä¿¡æ¯ï¼ŒSessionLocaleResolver å°†å®¢æˆ·ç«¯çš„ Locale ä¿å­˜åˆ° HttpSession å¯¹è±¡ä¸­ï¼Œå¹¶ä¸”å¯ä»¥è¿›è¡Œä¿®æ”¹ï¼ˆè¿™æ„å‘³ç€å½“å‰ç¯å¢ƒä¿¡æ¯ï¼Œå‰ç«¯ç»™æµè§ˆå™¨å‘é€ä¸€æ¬¡å³å¯è®°ä½ï¼Œåªè¦ session æœ‰æ•ˆï¼Œæµè§ˆå™¨å°±ä¸å¿…å†æ¬¡å‘Šè¯‰æœåŠ¡ç«¯å½“å‰çš„ç¯å¢ƒä¿¡æ¯ï¼‰;</p>
</li>
<li><p>è¿˜é…ç½®äº†ä¸€ä¸ªæ‹¦æˆªå™¨ï¼Œè¿™ä¸ªæ‹¦æˆªå™¨ä¼šæ‹¦æˆªè¯·æ±‚ä¸­ key ä¸º lang çš„å‚æ•°ï¼ˆä¸é…ç½®çš„è¯æ˜¯ localeï¼‰ï¼Œè¿™ä¸ªå‚æ•°åˆ™æŒ‡å®šäº†å½“å‰çš„ç¯å¢ƒä¿¡æ¯ï¼›</p>
</li>
<li><p>POSTMANæµ‹è¯•ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/034fdad84ab122fc286d2940a60f940e-45659" alt="ä¸­æ–‡æµ‹è¯•"></p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/7158f8a7bef094101c171444b2a48ecc-44547" alt="è‹±æ–‡æµ‹è¯•"></p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/b7976407767de49c6644d8c5ee729805-44628" alt="ç¹ä½“æµ‹è¯•"></p>
</li>
<li><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œé…ç½®æ–‡ä»¶æ”¾åœ¨ resources ç›®å½•ä¸‹ï¼Œå¦‚æœæƒ³è‡ªå®šä¹‰ï¼Œåˆ™å¯ä»¥ä¿®æ”¹application.propertiesï¼š</p>
<figure class="highlight properties"><table><tr><td class="code"><pre><span class="line"><span class="meta">spring.messages.basename</span>=<span class="string">i18n/messages</span></span><br><span class="line"><span class="meta">spring.messages.cache-duration</span>=<span class="string">3600</span></span><br><span class="line"><span class="meta">spring.messages.encoding</span>=<span class="string">UTF-8</span></span><br><span class="line"><span class="meta">spring.messages.fallback-to-system-locale</span>=<span class="string">true</span></span><br></pre></td></tr></table></figure>

<ul>
<li>spring.messages.cache-duration è¡¨ç¤º messages æ–‡ä»¶çš„ç¼“å­˜å¤±æ•ˆæ—¶é—´ï¼Œå¦‚æœä¸é…ç½®åˆ™ç¼“å­˜ä¸€ç›´æœ‰æ•ˆ</li>
<li>spring.messages.fallback-to-system-locale å±æ€§åœ¨æ‰¾ä¸åˆ°å½“å‰ç³»ç»Ÿå¯¹åº”çš„èµ„æºæ–‡ä»¶æ—¶ï¼Œå¦‚æœè¯¥å±æ€§ä¸º trueï¼Œåˆ™ä¼šé»˜è®¤æŸ¥æ‰¾å½“å‰ç³»ç»Ÿå¯¹åº”çš„èµ„æºæ–‡ä»¶ï¼Œå¦åˆ™å°±è¿”å› nullï¼Œè¿”å› null ä¹‹åï¼Œæœ€ç»ˆåˆä¼šè°ƒç”¨åˆ°ç³»ç»Ÿé»˜è®¤çš„ messages.properties æ–‡ä»¶</li>
</ul>
</li>
<li><p>è¯­è¨€ç®€ç§°ï¼š</p>
<table>
<thead>
<tr>
<th align="left">è¯­è¨€</th>
<th align="left">ç®€ç§°</th>
</tr>
</thead>
<tbody><tr>
<td align="left">ç®€ä½“ä¸­æ–‡(ä¸­å›½)</td>
<td align="left">zh_CN</td>
</tr>
<tr>
<td align="left">ç¹ä½“ä¸­æ–‡(ä¸­å›½å°æ¹¾)</td>
<td align="left">zh_TW</td>
</tr>
<tr>
<td align="left">ç¹ä½“ä¸­æ–‡(ä¸­å›½é¦™æ¸¯)</td>
<td align="left">zh_HK</td>
</tr>
<tr>
<td align="left">è‹±è¯­(ä¸­å›½é¦™æ¸¯)</td>
<td align="left">en_HK</td>
</tr>
<tr>
<td align="left">è‹±è¯­(ç¾å›½)</td>
<td align="left">en_US</td>
</tr>
<tr>
<td align="left">è‹±è¯­(è‹±å›½)</td>
<td align="left">en_GB</td>
</tr>
<tr>
<td align="left">è‹±è¯­(å…¨çƒ)</td>
<td align="left">en_WW</td>
</tr>
<tr>
<td align="left">è‹±è¯­(åŠ æ‹¿å¤§)</td>
<td align="left">en_CA</td>
</tr>
<tr>
<td align="left">è‹±è¯­(æ¾³å¤§åˆ©äºš)</td>
<td align="left">en_AU</td>
</tr>
<tr>
<td align="left">è‹±è¯­(çˆ±å°”å…°)</td>
<td align="left">en_IE</td>
</tr>
<tr>
<td align="left">è‹±è¯­(èŠ¬å…°)</td>
<td align="left">en_FI</td>
</tr>
<tr>
<td align="left">èŠ¬å…°è¯­(èŠ¬å…°)</td>
<td align="left">fi_FI</td>
</tr>
<tr>
<td align="left">è‹±è¯­(ä¸¹éº¦)</td>
<td align="left">en_DK</td>
</tr>
<tr>
<td align="left">ä¸¹éº¦è¯­(ä¸¹éº¦)</td>
<td align="left">da_DK</td>
</tr>
<tr>
<td align="left">è‹±è¯­(ä»¥è‰²åˆ—)</td>
<td align="left">en_IL</td>
</tr>
<tr>
<td align="left">å¸Œä¼¯æ¥è¯­(ä»¥è‰²åˆ—)</td>
<td align="left">he_IL</td>
</tr>
<tr>
<td align="left">è‹±è¯­(å—é)</td>
<td align="left">en_ZA</td>
</tr>
<tr>
<td align="left">è‹±è¯­(å°åº¦)</td>
<td align="left">en_IN</td>
</tr>
<tr>
<td align="left">è‹±è¯­(æŒªå¨)</td>
<td align="left">en_NO</td>
</tr>
<tr>
<td align="left">è‹±è¯­(æ–°åŠ å¡)</td>
<td align="left">en_SG</td>
</tr>
<tr>
<td align="left">è‹±è¯­(æ–°è¥¿å…°)</td>
<td align="left">en_NZ</td>
</tr>
<tr>
<td align="left">è‹±è¯­(å°åº¦å°¼è¥¿äºš)</td>
<td align="left">en_ID</td>
</tr>
<tr>
<td align="left">è‹±è¯­(è²å¾‹å®¾)</td>
<td align="left">en_PH</td>
</tr>
<tr>
<td align="left">è‹±è¯­(æ³°å›½)</td>
<td align="left">en_TH</td>
</tr>
<tr>
<td align="left">è‹±è¯­(é©¬æ¥è¥¿äºš)</td>
<td align="left">en_MY</td>
</tr>
<tr>
<td align="left">è‹±è¯­(é˜¿æ‹‰ä¼¯)</td>
<td align="left">en_XA</td>
</tr>
<tr>
<td align="left">éŸ©æ–‡(éŸ©å›½)</td>
<td align="left">ko_KR</td>
</tr>
<tr>
<td align="left">æ—¥è¯­(æ—¥æœ¬)</td>
<td align="left">ja_JP</td>
</tr>
<tr>
<td align="left">è·å…°è¯­(è·å…°)</td>
<td align="left">nl_NL</td>
</tr>
<tr>
<td align="left">è·å…°è¯­(æ¯”åˆ©æ—¶)</td>
<td align="left">nl_BE</td>
</tr>
<tr>
<td align="left">è‘¡è„ç‰™è¯­(è‘¡è„ç‰™)</td>
<td align="left">pt_PT</td>
</tr>
<tr>
<td align="left">è‘¡è„ç‰™è¯­(å·´è¥¿)</td>
<td align="left">pt_BR</td>
</tr>
<tr>
<td align="left">æ³•è¯­(æ³•å›½)</td>
<td align="left">fr_FR</td>
</tr>
<tr>
<td align="left">æ³•è¯­(å¢æ£®å ¡)</td>
<td align="left">fr_LU</td>
</tr>
<tr>
<td align="left">æ³•è¯­(ç‘å£«)</td>
<td align="left">fr_CH</td>
</tr>
<tr>
<td align="left">æ³•è¯­(æ¯”åˆ©æ—¶)</td>
<td align="left">fr_BE</td>
</tr>
<tr>
<td align="left">æ³•è¯­(åŠ æ‹¿å¤§)</td>
<td align="left">fr_CA</td>
</tr>
<tr>
<td align="left">è¥¿ç­ç‰™è¯­(æ‹‰ä¸ç¾æ´²)</td>
<td align="left">es_LA</td>
</tr>
<tr>
<td align="left">è¥¿ç­ç‰™è¯­(è¥¿ç­ç‰™)</td>
<td align="left">es_ES</td>
</tr>
<tr>
<td align="left">è¥¿ç­ç‰™è¯­(é˜¿æ ¹å»·)</td>
<td align="left">es_AR</td>
</tr>
<tr>
<td align="left">è¥¿ç­ç‰™è¯­(ç¾å›½)</td>
<td align="left">es_US</td>
</tr>
<tr>
<td align="left">è¥¿ç­ç‰™è¯­(å¢¨è¥¿å“¥)</td>
<td align="left">es_MX</td>
</tr>
<tr>
<td align="left">è¥¿ç­ç‰™è¯­(å“¥ä¼¦æ¯”äºš)</td>
<td align="left">es_CO</td>
</tr>
<tr>
<td align="left">è¥¿ç­ç‰™è¯­(æ³¢å¤šé»å„)</td>
<td align="left">es_PR</td>
</tr>
<tr>
<td align="left">å¾·è¯­(å¾·å›½)</td>
<td align="left">de_DE</td>
</tr>
<tr>
<td align="left">å¾·è¯­(å¥¥åœ°åˆ©)</td>
<td align="left">de_AT</td>
</tr>
<tr>
<td align="left">å¾·è¯­(ç‘å£«)</td>
<td align="left">de_CH</td>
</tr>
<tr>
<td align="left">ä¿„è¯­(ä¿„ç½—æ–¯)</td>
<td align="left">ru_RU</td>
</tr>
<tr>
<td align="left">æ„å¤§åˆ©è¯­(æ„å¤§åˆ©)</td>
<td align="left">it_IT</td>
</tr>
<tr>
<td align="left">å¸Œè…Šè¯­(å¸Œè…Š)</td>
<td align="left">el_GR</td>
</tr>
<tr>
<td align="left">æŒªå¨è¯­(æŒªå¨)</td>
<td align="left">no_NO</td>
</tr>
<tr>
<td align="left">åŒˆç‰™åˆ©è¯­(åŒˆç‰™åˆ©)</td>
<td align="left">hu_HU</td>
</tr>
<tr>
<td align="left">åœŸè€³å…¶è¯­(åœŸè€³å…¶)</td>
<td align="left">tr_TR</td>
</tr>
<tr>
<td align="left">æ·å…‹è¯­(æ·å…‹å…±å’Œå›½)</td>
<td align="left">cs_CZ</td>
</tr>
<tr>
<td align="left">æ–¯æ´›æ–‡å°¼äºšè¯­</td>
<td align="left">sl_SL</td>
</tr>
<tr>
<td align="left">æ³¢å…°è¯­(æ³¢å…°)</td>
<td align="left">pl_PL</td>
</tr>
<tr>
<td align="left">ç‘å…¸è¯­(ç‘å…¸)</td>
<td align="left">sv_SE</td>
</tr>
<tr>
<td align="left">è¥¿ç­ç‰™è¯­(æ™ºåˆ©)</td>
<td align="left">es_CL</td>
</tr>
</tbody></table>
</li>
</ol>
]]></content>
      <categories>
        <category>SpringBoot</category>
      </categories>
  </entry>
  <entry>
    <title>SpringBootå®šæ—¶ä»»åŠ¡å¿«é€Ÿå…¥é—¨</title>
    <url>/2020/07/12/SpringBoot%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>åœ¨åå°å¼€å‘ä¸­ç»å¸¸ç”¨åˆ°å®šæ—¶ä»»åŠ¡ï¼Œåœ¨SpringBootä¸­å®ç°å®šæ—¶ä»»åŠ¡æœ‰ä¸¤ç§æ–¹å¼ï¼šä¸€ç§æ˜¯ä½¿ç”¨ Spring è‡ªå¸¦çš„å®šæ—¶ä»»åŠ¡å¤„ç†å™¨ @Scheduled æ³¨è§£ï¼Œå¦ä¸€ç§å°±æ˜¯ä½¿ç”¨ç¬¬ä¸‰æ–¹æ¡†æ¶ Quartzã€‚</p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="Schedule"><a href="#Schedule" class="headerlink" title="Schedule"></a>Schedule</h2><ol>
<li><p>ä½¿ç”¨ @Scheduled éå¸¸å®¹æ˜“ï¼Œç›´æ¥åˆ›å»ºä¸€ä¸ª Spring Boot é¡¹ç›®ï¼Œé¡¹ç›®åˆ›å»ºæˆåŠŸåï¼Œæ·»åŠ  @EnableScheduling æ³¨è§£ï¼Œå¼€å¯å®šæ—¶ä»»åŠ¡ï¼›</p>
</li>
<li><p>ç„¶åä½¿ç”¨ @Scheduled æ³¨è§£å¼€å¯ä¸€ä¸ªå®šæ—¶ä»»åŠ¡ï¼›</p>
</li>
<li><p>ç¤ºä¾‹ä»£ç ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@EnableScheduling</span></span><br><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="meta">@Slf</span>4j</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestscheduleApplication</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        SpringApplication.run(TestscheduleApplication<span class="class">.<span class="keyword">class</span>, <span class="title">args</span>)</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Scheduled</span>(fixedRate = <span class="number">2000</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Fixtimedout</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        log.info(<span class="string">"hello fixed 2000msï¼"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> lombok.extern.slf4j.Slf4j;</span><br><span class="line"><span class="keyword">import</span> org.springframework.scheduling.annotation.EnableScheduling;</span><br><span class="line"><span class="keyword">import</span> org.springframework.scheduling.annotation.Scheduled;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Service;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Slf</span>4j</span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SchedTask</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Scheduled</span>(fixedRate = <span class="number">2000</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Fixtimedout</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        log.info(<span class="string">"hello fixed 2000ms"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Scheduled</span>(cron = <span class="string">"0/5 * * * * *"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Cron5s</span><span class="params">()</span></span>&#123;</span><br><span class="line">        log.info(<span class="string">"cron 5 sec task!"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>fixedRate è¡¨ç¤ºä»»åŠ¡æ‰§è¡Œä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå…·ä½“æ˜¯æŒ‡ä¸¤æ¬¡ä»»åŠ¡çš„å¼€å§‹æ—¶é—´é—´éš”ï¼Œå³ç¬¬äºŒæ¬¡ä»»åŠ¡å¼€å§‹æ—¶ï¼Œç¬¬ä¸€æ¬¡ä»»åŠ¡å¯èƒ½è¿˜æ²¡ç»“æŸï¼›</p>
</li>
<li><p>fixedDelay è¡¨ç¤ºä»»åŠ¡æ‰§è¡Œä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå…·ä½“æ˜¯æŒ‡æœ¬æ¬¡ä»»åŠ¡ç»“æŸåˆ°ä¸‹æ¬¡ä»»åŠ¡å¼€å§‹ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼›</p>
</li>
<li><p>initialDelay è¡¨ç¤ºé¦–æ¬¡ä»»åŠ¡å¯åŠ¨çš„å»¶è¿Ÿæ—¶é—´ï¼›</p>
</li>
<li><p>æ‰€æœ‰æ—¶é—´çš„å•ä½éƒ½æ˜¯æ¯«ç§’ã€‚</p>
</li>
<li><p>@Scheduled æ³¨è§£ä¹Ÿæ”¯æŒ cron è¡¨è¾¾å¼ï¼Œä½¿ç”¨ cron è¡¨è¾¾å¼ï¼Œå¯ä»¥éå¸¸ä¸°å¯Œçš„æè¿°å®šæ—¶ä»»åŠ¡çš„æ—¶é—´ã€‚cron è¡¨è¾¾å¼æ ¼å¼å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">[ç§’] [åˆ†] [å°æ—¶] [æ—¥] [æœˆ] [å‘¨] [å¹´]</span><br></pre></td></tr></table></figure>
</li>
<li><p>Cronè§„åˆ™ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/e5fcad3a8029f66b52b397b0516e35ea-36157" alt="cronè§„åˆ™"></p>
</li>
<li><p>é€šé…ç¬¦å«ä¹‰ï¼š</p>
<ul>
<li>? è¡¨ç¤ºä¸æŒ‡å®šå€¼ï¼Œå³ä¸å…³å¿ƒæŸä¸ªå­—æ®µçš„å–å€¼æ—¶ä½¿ç”¨ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæœˆä»½ä¸­çš„æ—¥æœŸå’Œæ˜ŸæœŸå¯èƒ½ä¼šèµ·å†²çªï¼Œå› æ­¤åœ¨é…ç½®æ—¶è¿™ä¸¤ä¸ªå¾—æœ‰ä¸€ä¸ªæ˜¯ ?</li>
<li>* è¡¨ç¤ºæ‰€æœ‰å€¼ï¼Œä¾‹å¦‚:åœ¨ç§’çš„å­—æ®µä¸Šè®¾ç½® *,è¡¨ç¤ºæ¯ä¸€ç§’éƒ½ä¼šè§¦å‘</li>
<li>, ç”¨æ¥åˆ†å¼€å¤šä¸ªå€¼ï¼Œä¾‹å¦‚åœ¨å‘¨å­—æ®µä¸Šè®¾ç½® â€œMON,WED,FRIâ€ è¡¨ç¤ºå‘¨ä¸€ï¼Œå‘¨ä¸‰å’Œå‘¨äº”è§¦å‘</li>
<li>- è¡¨ç¤ºåŒºé—´ï¼Œä¾‹å¦‚åœ¨ç§’ä¸Šè®¾ç½® â€œ10-12â€,è¡¨ç¤º 10,11,12ç§’éƒ½ä¼šè§¦å‘</li>
<li>/ ç”¨äºé€’å¢è§¦å‘ï¼Œå¦‚åœ¨ç§’ä¸Šé¢è®¾ç½®â€5/15â€ è¡¨ç¤ºä»5ç§’å¼€å§‹ï¼Œæ¯å¢15ç§’è§¦å‘(5,20,35,50)</li>
<li><code>#</code> åºå·(è¡¨ç¤ºæ¯æœˆçš„ç¬¬å‡ ä¸ªå‘¨å‡ )ï¼Œä¾‹å¦‚åœ¨å‘¨å­—æ®µä¸Šè®¾ç½®â€6#3â€è¡¨ç¤ºåœ¨æ¯æœˆçš„ç¬¬ä¸‰ä¸ªå‘¨å…­ï¼Œ(ç”¨åœ¨æ¯äº²èŠ‚å’Œçˆ¶äº²èŠ‚å†åˆé€‚ä¸è¿‡äº†)</li>
<li>å‘¨å­—æ®µçš„è®¾ç½®ï¼Œè‹¥ä½¿ç”¨è‹±æ–‡å­—æ¯æ˜¯ä¸åŒºåˆ†å¤§å°å†™çš„ ï¼Œå³ MON ä¸monç›¸åŒ</li>
<li><code>L</code> è¡¨ç¤ºæœ€åçš„æ„æ€ã€‚åœ¨æ—¥å­—æ®µè®¾ç½®ä¸Šï¼Œè¡¨ç¤ºå½“æœˆçš„æœ€åä¸€å¤©(ä¾æ®å½“å‰æœˆä»½ï¼Œå¦‚æœæ˜¯äºŒæœˆè¿˜ä¼šè‡ªåŠ¨åˆ¤æ–­æ˜¯å¦æ˜¯æ¶¦å¹´), åœ¨å‘¨å­—æ®µä¸Šè¡¨ç¤ºæ˜ŸæœŸå…­ï¼Œç›¸å½“äºâ€7â€æˆ–â€SATâ€ï¼ˆæ³¨æ„å‘¨æ—¥ç®—æ˜¯ç¬¬ä¸€å¤©ï¼‰ã€‚å¦‚æœåœ¨â€Lâ€å‰åŠ ä¸Šæ•°å­—ï¼Œåˆ™è¡¨ç¤ºè¯¥æ•°æ®çš„æœ€åä¸€ä¸ªã€‚ä¾‹å¦‚åœ¨å‘¨å­—æ®µä¸Šè®¾ç½®â€6Lâ€è¿™æ ·çš„æ ¼å¼,åˆ™è¡¨ç¤ºâ€æœ¬æœˆæœ€åä¸€ä¸ªæ˜ŸæœŸäº”â€</li>
<li><code>W</code> è¡¨ç¤ºç¦»æŒ‡å®šæ—¥æœŸçš„æœ€è¿‘å·¥ä½œæ—¥(å‘¨ä¸€è‡³å‘¨äº”)ï¼Œä¾‹å¦‚åœ¨æ—¥å­—æ®µä¸Šè®¾ç½®â€15Wâ€ï¼Œè¡¨ç¤ºç¦»æ¯æœˆ15å·æœ€è¿‘çš„é‚£ä¸ªå·¥ä½œæ—¥è§¦å‘ã€‚å¦‚æœ15å·æ­£å¥½æ˜¯å‘¨å…­ï¼Œåˆ™æ‰¾æœ€è¿‘çš„å‘¨äº”(14å·)è§¦å‘, å¦‚æœ15å·æ˜¯å‘¨æœªï¼Œåˆ™æ‰¾æœ€è¿‘çš„ä¸‹å‘¨ä¸€(16å·)è§¦å‘ï¼Œå¦‚æœ15å·æ­£å¥½åœ¨å·¥ä½œæ—¥(å‘¨ä¸€è‡³å‘¨äº”)ï¼Œåˆ™å°±åœ¨è¯¥å¤©è§¦å‘ã€‚å¦‚æœæŒ‡å®šæ ¼å¼ä¸º â€œ1Wâ€,å®ƒåˆ™è¡¨ç¤ºæ¯æœˆ1å·å¾€åæœ€è¿‘çš„å·¥ä½œæ—¥è§¦å‘ã€‚å¦‚æœ1å·æ­£æ˜¯å‘¨å…­ï¼Œåˆ™å°†åœ¨3å·ä¸‹å‘¨ä¸€è§¦å‘ã€‚(æ³¨ï¼Œâ€Wâ€å‰åªèƒ½è®¾ç½®å…·ä½“çš„æ•°å­—,ä¸å…è®¸åŒºé—´â€-â€œ)</li>
<li><code>L</code> å’Œ <code>W</code> å¯ä»¥ä¸€ç»„åˆä½¿ç”¨ã€‚å¦‚æœåœ¨æ—¥å­—æ®µä¸Šè®¾ç½®â€LWâ€,åˆ™è¡¨ç¤ºåœ¨æœ¬æœˆçš„æœ€åä¸€ä¸ªå·¥ä½œæ—¥è§¦å‘(ä¸€èˆ¬æŒ‡å‘å·¥èµ„ )</li>
</ul>
</li>
<li><p>æ‰§è¡Œæ•ˆæœï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/5a5a443888904f4806f8b17bc026712a-47105" alt="æ‰§è¡Œæ•ˆæœ"></p>
</li>
</ol>
<h2 id="Quartz"><a href="#Quartz" class="headerlink" title="Quartz"></a>Quartz</h2><ol>
<li><p>ä¸€èˆ¬åœ¨é¡¹ç›®ä¸­ï¼Œé™¤éå®šæ—¶ä»»åŠ¡æ¶‰åŠåˆ°çš„ä¸šåŠ¡å®åœ¨æ˜¯å¤ªç®€å•ï¼Œä½¿ç”¨ @Scheduled æ³¨è§£æ¥è§£å†³å®šæ—¶ä»»åŠ¡ï¼›</p>
</li>
<li><p>åœ¨ Spring Boot ä¸­ä½¿ç”¨ Quartz ï¼Œåªéœ€è¦åœ¨åˆ›å»ºé¡¹ç›®æ—¶ï¼Œæ·»åŠ  Quartz ä¾èµ–å³å¯ï¼›</p>
</li>
<li><p>Quartz åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­ï¼Œæœ‰ä¸¤ä¸ªå…³é”®æ¦‚å¿µï¼Œä¸€ä¸ªæ˜¯JobDetailï¼ˆè¦åšçš„äº‹æƒ…ï¼‰ï¼Œå¦ä¸€ä¸ªæ˜¯è§¦å‘å™¨ï¼ˆä»€ä¹ˆæ—¶å€™åšï¼‰ï¼›</p>
</li>
<li><p>éœ€è¦æ·»åŠ å¼€å¯å®šæ—¶ä»»åŠ¡çš„æ³¨è§£@EnableSchedulingï¼›</p>
</li>
<li><p>å®šä¹‰ JobDetailï¼Œéœ€è¦å…ˆå®šä¹‰ Jobï¼ŒJob çš„å®šä¹‰æœ‰ä¸¤ç§æ–¹å¼ï¼š</p>
<ol>
<li><p>ç›´æ¥å®šä¹‰ä¸€ä¸ªBeanï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> lombok.extern.slf4j.Slf4j;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@Slf</span>4j</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyJob1</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sayHello</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        log.info(<span class="string">"MyJob1&gt;&gt;&gt;"</span>+<span class="keyword">new</span> Date());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>é¦–å…ˆå°†è¿™ä¸ª Job æ³¨å†Œåˆ° Spring å®¹å™¨ä¸­</li>
<li>è¿™ç§å®šä¹‰æ–¹å¼æœ‰ä¸€ä¸ªç¼ºé™·ï¼Œå°±æ˜¯æ— æ³•ä¼ å‚</li>
</ul>
</li>
<li><p>ç»§æ‰¿ QuartzJobBean å¹¶å®ç°é»˜è®¤çš„æ–¹æ³•ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> lombok.extern.slf4j.Slf4j;</span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Slf</span>4j</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HelloService</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sayHello</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        log.info(<span class="string">"hello service &gt;&gt;&gt;"</span> + <span class="keyword">new</span> Date());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> org.quartz.JobExecutionContext;</span><br><span class="line"><span class="keyword">import</span> org.quartz.JobExecutionException;</span><br><span class="line"><span class="keyword">import</span> org.springframework.scheduling.quartz.QuartzJobBean;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyJob2</span> <span class="keyword">extends</span> <span class="title">QuartzJobBean</span> </span>&#123;</span><br><span class="line">    HelloService helloService;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> HelloService <span class="title">getHelloService</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> helloService;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setHelloService</span><span class="params">(HelloService helloService)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.helloService = helloService;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">executeInternal</span><span class="params">(JobExecutionContext jobExecutionContext)</span> <span class="keyword">throws</span> JobExecutionException </span>&#123;</span><br><span class="line">        helloService.sayHello();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>è¿™ç§æ–¹å¼æ”¯æŒä¼ å‚ï¼Œä»»åŠ¡å¯åŠ¨æ—¶ï¼ŒexecuteInternal æ–¹æ³•å°†ä¼šè¢«æ‰§è¡Œ</li>
</ul>
</li>
<li><p>Job æœ‰äº†ä¹‹åï¼Œæ¥ä¸‹æ¥åˆ›å»ºç±»ï¼Œé…ç½® JobDetail å’Œ Trigger è§¦å‘å™¨ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> org.quartz.JobDataMap;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Bean;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"><span class="keyword">import</span> org.springframework.scheduling.quartz.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">QuartzConfig</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function">MethodInvokingJobDetailFactoryBean <span class="title">methodInvokingJobDetailFactoryBean</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        MethodInvokingJobDetailFactoryBean bean = <span class="keyword">new</span> MethodInvokingJobDetailFactoryBean();</span><br><span class="line">        bean.setTargetBeanName(<span class="string">"myJob1"</span>);</span><br><span class="line">        bean.setTargetMethod(<span class="string">"sayHello"</span>);</span><br><span class="line">        <span class="keyword">return</span> bean;</span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function">JobDetailFactoryBean <span class="title">jobDetailFactoryBean</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        JobDetailFactoryBean bean = <span class="keyword">new</span> JobDetailFactoryBean();</span><br><span class="line">        bean.setJobClass(MyJob2<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">        JobDataMap map = <span class="keyword">new</span> JobDataMap();</span><br><span class="line">        map.put(<span class="string">"helloService"</span>, helloService());</span><br><span class="line">        bean.setJobDataMap(map);</span><br><span class="line">        <span class="keyword">return</span> bean;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function">SimpleTriggerFactoryBean <span class="title">simpleTriggerFactoryBean</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        SimpleTriggerFactoryBean bean = <span class="keyword">new</span> SimpleTriggerFactoryBean();</span><br><span class="line">        bean.setStartTime(<span class="keyword">new</span> Date());</span><br><span class="line">        bean.setRepeatCount(<span class="number">5</span>);</span><br><span class="line">        bean.setJobDetail(methodInvokingJobDetailFactoryBean().getObject());</span><br><span class="line">        bean.setRepeatInterval(<span class="number">3000</span>);</span><br><span class="line">        <span class="keyword">return</span> bean;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function">CronTriggerFactoryBean <span class="title">cronTrigger</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        CronTriggerFactoryBean bean = <span class="keyword">new</span> CronTriggerFactoryBean();</span><br><span class="line">        bean.setCronExpression(<span class="string">"0/10 * * * * ?"</span>);</span><br><span class="line">        bean.setJobDetail(jobDetailFactoryBean().getObject());</span><br><span class="line">        <span class="keyword">return</span> bean;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function">SchedulerFactoryBean <span class="title">schedulerFactoryBean</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        SchedulerFactoryBean bean = <span class="keyword">new</span> SchedulerFactoryBean();</span><br><span class="line">        bean.setTriggers(cronTrigger().getObject(), simpleTriggerFactoryBean().getObject());</span><br><span class="line">        <span class="keyword">return</span> bean;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function">HelloService <span class="title">helloService</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> HelloService();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>JobDetail çš„é…ç½®æœ‰ä¸¤ç§æ–¹å¼ï¼šMethodInvokingJobDetailFactoryBean å’Œ JobDetailFactoryBean</li>
<li>ä½¿ç”¨ MethodInvokingJobDetailFactoryBean å¯ä»¥é…ç½®ç›®æ ‡ Bean çš„åå­—å’Œç›®æ ‡æ–¹æ³•çš„åå­—ï¼Œè¿™ç§æ–¹å¼ä¸æ”¯æŒä¼ å‚</li>
<li>ä½¿ç”¨ JobDetailFactoryBean å¯ä»¥é…ç½® JobDetail ï¼Œä»»åŠ¡ç±»ç»§æ‰¿è‡ª QuartzJobBean ï¼Œè¿™ç§æ–¹å¼æ”¯æŒä¼ å‚ï¼Œå°†å‚æ•°å°è£…åœ¨ JobDataMap ä¸­è¿›è¡Œä¼ é€’</li>
<li>Trigger æ˜¯æŒ‡è§¦å‘å™¨ï¼ŒQuartz ä¸­å®šä¹‰äº†å¤šä¸ªè§¦å‘å™¨ï¼Œè¿™é‡Œå‘å¤§å®¶å±•ç¤ºå…¶ä¸­ä¸¤ç§çš„ç”¨æ³•ï¼ŒSimpleTrigger å’Œ CronTrigger</li>
<li>SimpleTrigger æœ‰ç‚¹ç±»ä¼¼äºå‰é¢è¯´çš„ @Scheduled çš„åŸºæœ¬ç”¨æ³•</li>
<li>CronTrigger åˆ™æœ‰ç‚¹ç±»ä¼¼äº @Scheduled ä¸­ cron è¡¨è¾¾å¼çš„ç”¨æ³•</li>
</ul>
</li>
<li><p>Quartzæ¶æ„å›¾ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/eefde60c34d56673f4aa501f4e4928d2-95878" alt="Quartzæ¶æ„å›¾"></p>
</li>
<li><p>æ‰§è¡Œæ•ˆæœå›¾ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/465108d969a2ccdca04799b41b448f5f-61804" alt="æ‰§è¡Œæ•ˆæœå›¾"></p>
</li>
</ol>
</li>
</ol>
]]></content>
      <categories>
        <category>SpringBoot</category>
      </categories>
  </entry>
  <entry>
    <title>SpringBootå¿«é€Ÿæ•´åˆhttpClient</title>
    <url>/2020/07/01/SpringBoot%E5%BF%AB%E9%80%9F%E6%95%B4%E5%90%88httpClient/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>HTTPåè®®è¿‡å»ä»¥åŠç°åœ¨éƒ½æ˜¯ Internet ä¸Šä½¿ç”¨å¾—æœ€å¤šã€æœ€é‡è¦çš„åè®®ï¼Œè¶Šæ¥è¶Šå¤šçš„ Java åº”ç”¨ç¨‹åºéœ€è¦ç›´æ¥é€šè¿‡ HTTP åè®®æ¥è®¿é—®ç½‘ç»œèµ„æºã€‚è™½ç„¶åœ¨ JDK ä¸­å·²ç»æä¾›äº†è®¿é—® HTTP åè®®çš„åŸºæœ¬åŠŸèƒ½ï¼Œä½†æ˜¯å¯¹äºå¤§éƒ¨åˆ†åº”ç”¨ç¨‹åºæ¥è¯´ï¼ŒJDK åº“æœ¬èº«æä¾›çš„åŠŸèƒ½è¿˜ä¸å¤Ÿä¸°å¯Œå’Œçµæ´»ï¼HttpClient æ˜¯ Apache Jakarta Common ä¸‹çš„å­é¡¹ç›®ï¼Œç”¨æ¥æä¾›é«˜æ•ˆçš„ã€æœ€æ–°çš„ã€åŠŸèƒ½ä¸°å¯Œçš„æ”¯æŒ HTTP åè®®çš„å®¢æˆ·ç«¯ç¼–ç¨‹å·¥å…·åŒ…ï¼Œå¹¶ä¸”å®ƒæ”¯æŒ HTTP åè®®æœ€æ–°çš„ç‰ˆæœ¬å’Œå»ºè®®ã€‚</p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="åŸºç¡€çŸ¥è¯†"><a href="#åŸºç¡€çŸ¥è¯†" class="headerlink" title="åŸºç¡€çŸ¥è¯†"></a>åŸºç¡€çŸ¥è¯†</h2><ol>
<li><p>HttpClientæ˜¯ä¸€ä¸ªHTTPå®¢æˆ·ç«¯ç¼–ç¨‹å·¥å…·ï¼Œæ˜¯ä¸€ä¸ªHTTPé€šä¿¡åº“ï¼Œå› æ­¤åªæä¾›ä¸€ä¸ªé€šç”¨æµè§ˆå™¨åº”ç”¨ç¨‹åºæ‰€æœŸæœ›çš„åŠŸèƒ½å­é›†ï¼Œåªèƒ½ä»¥ç¼–ç¨‹çš„æ–¹å¼é€šè¿‡å…¶APIç”¨äºä¼ è¾“å’Œæ¥æ”¶HTTPæ¶ˆæ¯ï¼›</p>
</li>
<li><p>HttpClientå·²ç»åº”ç”¨åœ¨å¾ˆå¤šçš„é¡¹ç›®ä¸­ï¼Œæ¯”å¦‚Apache Jakartaä¸Šå¾ˆè‘—åçš„å¦å¤–ä¸¤ä¸ªå¼€æºé¡¹ç›®Cactuså’ŒHTMLUnitéƒ½ä½¿ç”¨äº†HttpClientï¼</p>
</li>
<li><p><strong>HttpClientçš„ä¸»è¦åŠŸèƒ½ï¼š</strong></p>
<ul>
<li>å®ç°äº†æ‰€æœ‰ HTTP çš„æ–¹æ³•ï¼ˆGETã€POSTã€PUTã€HEADã€DELETEã€HEADã€OPTIONS ç­‰ï¼‰</li>
<li>æ”¯æŒ HTTPS åè®®</li>
<li>æ”¯æŒä»£ç†æœåŠ¡å™¨ï¼ˆNginxç­‰ï¼‰ç­‰</li>
<li>æ”¯æŒè‡ªåŠ¨ï¼ˆè·³è½¬ï¼‰è½¬å‘</li>
</ul>
</li>
<li><p>å®˜æ–¹ç½‘å€ï¼š<a href="http://hc.apache.org/" target="_blank" rel="noopener">http://hc.apache.org/</a></p>
</li>
<li><p>å®˜æ–¹æ•™ç¨‹ï¼š<a href="http://hc.apache.org/httpcomponents-client-ga/tutorial/html/" target="_blank" rel="noopener">http://hc.apache.org/httpcomponents-client-ga/tutorial/html/</a></p>
</li>
<li><p>å®˜æ–¹æ ·ä¾‹ï¼š<a href="http://hc.apache.org/httpcomponents-client-ga/examples.html" target="_blank" rel="noopener">http://hc.apache.org/httpcomponents-client-ga/examples.html</a></p>
</li>
<li><p>å¼‚æ­¥httpClientï¼š<a href="http://hc.apache.org/httpcomponents-asyncclient-dev/index.html" target="_blank" rel="noopener">http://hc.apache.org/httpcomponents-asyncclient-dev/index.html</a></p>
</li>
<li><p>ä½¿ç”¨HttpClientå‘é€è¯·æ±‚ã€æ¥æ”¶å“åº”çš„æ­¥éª¤å¤§è‡´å¦‚ä¸‹ï¼š</p>
<ol>
<li>åˆ›å»ºHttpClientå¯¹è±¡</li>
<li>åˆ›å»ºè¯·æ±‚æ–¹æ³•çš„å®ä¾‹ï¼Œå¹¶æŒ‡å®šè¯·æ±‚URLã€‚å¦‚æœéœ€è¦å‘é€GETè¯·æ±‚ï¼Œåˆ›å»ºHttpGetå¯¹è±¡ï¼›å¦‚æœéœ€è¦å‘é€POSTè¯·æ±‚ï¼Œåˆ›å»ºHttpPostå¯¹è±¡</li>
<li>å¦‚æœéœ€è¦å‘é€è¯·æ±‚å‚æ•°ï¼Œå¯è°ƒç”¨HttpGetã€HttpPostå…±åŒçš„setParams(HttpParams params)æ–¹æ³•æ¥æ·»åŠ è¯·æ±‚å‚æ•°ï¼›å¯¹äºHttpPostå¯¹è±¡è€Œè¨€ï¼Œä¹Ÿå¯è°ƒç”¨setEntity(HttpEntity entity)æ–¹æ³•æ¥è®¾ç½®è¯·æ±‚å‚æ•°</li>
<li>è°ƒç”¨HttpClientå¯¹è±¡çš„execute(HttpUriRequest request)å‘é€è¯·æ±‚ï¼Œè¯¥æ–¹æ³•è¿”å›ä¸€ä¸ªHttpResponse</li>
<li>è°ƒç”¨HttpResponseçš„getAllHeaders()ã€getHeaders(String name)ç­‰æ–¹æ³•å¯è·å–æœåŠ¡å™¨çš„å“åº”å¤´ï¼›è°ƒç”¨HttpResponseçš„getEntity()æ–¹æ³•å¯è·å–HttpEntityå¯¹è±¡ï¼Œè¯¥å¯¹è±¡åŒ…è£…äº†æœåŠ¡å™¨çš„å“åº”å†…å®¹ï¼Œç¨‹åºå¯é€šè¿‡è¯¥å¯¹è±¡è·å–æœåŠ¡å™¨çš„å“åº”å†…å®¹</li>
<li><strong>é‡Šæ”¾è¿æ¥ã€‚æ— è®ºæ‰§è¡Œæ–¹æ³•æ˜¯å¦æˆåŠŸï¼Œéƒ½å¿…é¡»é‡Šæ”¾è¿æ¥</strong></li>
</ol>
</li>
<li><p>å¦‚æœHttpClientä¸ä¸»åŠ¨å‘èµ·closeï¼Œé“¾æ¥ä¼šç»´æŒä¸€æ®µæ—¶é—´ï¼Œè€Œè¯¥é“¾æ¥åˆæ²¡æœ‰è¿›è¡Œå¤ç”¨ï¼Œåœ¨ç»´æŒçš„æ—¶é—´å†…ï¼Œå…¶ä»–å¹¶å‘ä¸€è¿›æ¥ï¼Œå¯èƒ½å°±ä¼šæŠ›å‡ºå¥æŸ„ä¸å¤Ÿç”¨çš„å¼‚å¸¸ï¼Œä¸€èˆ¬å¤„ç†åŠæ³•ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">HttpClient client = <span class="keyword">new</span> HttpClient(<span class="keyword">new</span> HttpClientParams(),<span class="keyword">new</span> SimpleHttpConnectionManager(<span class="keyword">true</span>));</span><br><span class="line"><span class="comment">// æ¯æ¬¡è°ƒç”¨å®Œæˆéƒ½ä¼šå…³é—­ HttpClient</span></span><br><span class="line"><span class="comment">// æ¯æ¬¡new\closeçš„æµç¨‹å¯¹JVMçš„å†…å­˜æ¶ˆè€—å¾ˆå¤§ï¼Œåœ¨ä¸€å®šç¨‹åº¦ä¸Šååˆ†å½±å“æ€§èƒ½,å¯ä»¥è€ƒè™‘HttpClientæ± </span></span><br></pre></td></tr></table></figure>
</li>
<li><p>è¿˜æœ‰ä¸€ä¸ªå¼€æºé¡¹ç›®jsoupï¼Œå®ƒæ˜¯ä¸€ä¸ªç®€å•çš„HTMLè§£æå™¨ï¼Œå¯ä»¥ç›´æ¥è§£ææŒ‡å®šURLè¯·æ±‚åœ°å€çš„å†…å®¹ï¼Œå¯ä»¥é€šè¿‡DOMæ–¹å¼æ¥å–æ•°æ®ï¼Œé€šå¸¸ä¼šç”¨HttpClienté…åˆJsoupåšç½‘é¡µçˆ¬è™«ï¼›</p>
</li>
<li><p>HttpCoreæ˜¯å¯¹HTTPåè®®çš„åŸºç¡€å°è£…çš„ä¸€å¥—ç»„ä»¶ã€‚å¯ä»¥ç”¨HttpCoreæ¥å»ºç«‹å®¢æˆ·ç«¯ã€ä»£ç†ã€æœåŠ¡ç«¯HttpæœåŠ¡ï¼›æ”¯æŒåŒæ­¥å¼‚æ­¥æœåŠ¡ï¼›ä¸€ç³»åˆ—åŸºäºé˜»å¡å’Œéé˜»å¡IOæ¨¡å‹ç­‰ï¼›</p>
</li>
<li><p>åº”ç”¨åœºæ™¯ï¼ˆåŒ…å«ä½†ä¸é™äºæ­¤ï¼‰ï¼š</p>
<ul>
<li>æ¨¡æ‹Ÿæµè§ˆå™¨å‘é€HTTPè¯·æ±‚ï¼Œå¹¶æ¥æ”¶å“åº”</li>
<li>RPCæ¥å£è°ƒç”¨</li>
<li>çˆ¬å–ç½‘é¡µæºç </li>
<li>æ‰¹é‡äº‹åŠ¡è¯·æ±‚</li>
</ul>
</li>
</ol>
<h2 id="WebSocket"><a href="#WebSocket" class="headerlink" title="WebSocket"></a>WebSocket</h2><ol>
<li><p>WebSocket æ˜¯åŸºäºTCP/IPåè®®ï¼Œç‹¬ç«‹äºHTTPåè®®çš„é€šä¿¡åè®®ã€‚WebSocket æ˜¯åŒå‘é€šè®¯ï¼Œæœ‰çŠ¶æ€ï¼Œå®¢æˆ·ç«¯ä¸€ï¼ˆå¤šï¼‰ä¸ªä¸æœåŠ¡ç«¯ä¸€ï¼ˆå¤šï¼‰åŒå‘å®æ—¶å“åº”ï¼ˆå®¢æˆ·ç«¯ â‡„ æœåŠ¡ç«¯ï¼‰ï¼</p>
</li>
<li><p>å·¥ä½œæµç¨‹ï¼š</p>
<ol>
<li>ç”¨æˆ·æ‰“å¼€Webæµè§ˆå™¨ï¼Œå¹¶è®¿é—®Webç«™ç‚¹</li>
<li>Webæµè§ˆå™¨ï¼ˆå®¢æˆ·ç«¯ï¼‰ä¸WebæœåŠ¡ç«¯å»ºç«‹è¿æ¥</li>
<li>Webæµè§ˆå™¨ï¼ˆå®¢æˆ·ç«¯ï¼‰èƒ½å®šæ—¶æ”¶å‘WebæœåŠ¡ç«¯æ•°æ®ï¼ŒWebæœåŠ¡ç«¯ä¹Ÿèƒ½å®šæ—¶æ”¶å‘Webæµè§ˆå™¨æ•°æ®</li>
</ol>
<ul>
<li>WebSocketåè®®ä¸å—åŒæºç­–ç•¥å½±å“</li>
</ul>
</li>
<li><p>è¯·æ±‚æ¶ˆæ¯ä½“ï¼š</p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line"># è¯·æ±‚å¤´éƒ¨åˆ†</span><br><span class="line"># [è¯·æ±‚æ–¹å¼] [èµ„æºè·¯å¾„] [ç‰ˆæœ¬]</span><br><span class="line">GET /xxx HTTP/1.1</span><br><span class="line"># ä¸»æœºã€‚</span><br><span class="line">Host: server.example.com</span><br><span class="line"># åè®®å‡çº§ã€‚</span><br><span class="line">Upgrade: websocket</span><br><span class="line"># è¿æ¥çŠ¶æ€ã€‚</span><br><span class="line">Connection: Upgrade</span><br><span class="line"># websocketå®¢æˆ·ç«¯ç”Ÿæˆçš„éšæœºå­—ç¬¦ã€‚</span><br><span class="line">Sec-WebSocket-Key: dGhlIHNhbXBsZSBub25jZQ==</span><br><span class="line"># websocketåè®®çš„å­åè®®ï¼Œè‡ªå®šä¹‰å­—ç¬¦ï¼Œå¯ä»¥ç†è§£ä¸ºé¢‘é“ã€‚</span><br><span class="line">Sec-WebSocket-Protocol: chat, superchat</span><br><span class="line"># websocketåè®®çš„ç‰ˆæœ¬æ˜¯13ã€‚</span><br><span class="line">Sec-WebSocket-Version: 13</span><br></pre></td></tr></table></figure>
</li>
<li><p>å“åº”æ¶ˆæ¯ä½“ï¼š</p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line"># å“åº”å¤´éƒ¨åˆ†</span><br><span class="line"># [ç‰ˆæœ¬] [çŠ¶æ€ç ]</span><br><span class="line">HTTP/1.1 101 Switching Protocols</span><br><span class="line"># åè®®å‡çº§ã€‚</span><br><span class="line">Upgrade: websocket</span><br><span class="line"># è¿æ¥çŠ¶æ€ã€‚</span><br><span class="line">Connection: Upgrade</span><br><span class="line"># WebSocketæœåŠ¡ç«¯æ ¹æ®Sec-WebSocket-Keyç”Ÿæˆçš„éšæœºå­—ç¬¦ã€‚</span><br><span class="line">Sec-WebSocket-Accept: s3pPLMBiTxaQ9kYGzzhZRbK+xOo=</span><br><span class="line"># WebSocketåè®®çš„å­åè®®ï¼Œè‡ªå®šä¹‰å­—ç¬¦ï¼Œå¯ä»¥ç†è§£ä¸ºé¢‘é“ã€‚</span><br><span class="line">Sec-WebSocket-Protocol: chat</span><br></pre></td></tr></table></figure>



</li>
</ol>
<h1 id="åŠ¨æ‰‹å®æ“"><a href="#åŠ¨æ‰‹å®æ“" class="headerlink" title="åŠ¨æ‰‹å®æ“"></a>åŠ¨æ‰‹å®æ“</h1><h2 id="åŸºç¡€å·¥ç¨‹ï¼ˆMavenï¼‰"><a href="#åŸºç¡€å·¥ç¨‹ï¼ˆMavenï¼‰" class="headerlink" title="åŸºç¡€å·¥ç¨‹ï¼ˆMavenï¼‰"></a>åŸºç¡€å·¥ç¨‹ï¼ˆMavenï¼‰</h2><ol>
<li><p>åˆ›å»ºä¸€ä¸ªåŸºç¡€çš„SpingBootå·¥ç¨‹ï¼Œåœ¨pom.xmlä¸­æ·»åŠ httpClientç›¸å…³çš„ä¾èµ–ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--HTTPè¯·æ±‚æ’ä»¶--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.httpcomponents<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>httpclient<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--FastJsonè½¬POJO--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.fasterxml.jackson.core<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jackson-databind<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- jsoupç”Ÿæˆdom --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.jsoup<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jsoup<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.13.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"> <span class="comment">&lt;!-- å¦‚æœéœ€è¦çµæ´»çš„ä¼ è¾“æ–‡ä»¶ï¼Œå¼•å…¥æ­¤ä¾èµ–åä¼šæ›´åŠ æ–¹ä¾¿ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.httpcomponents<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>httpmime<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.5.5<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>æµ‹è¯•GETè¯·æ±‚ï¼ˆæ— å‚æ•°ï¼‰ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">testGetHttp</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="comment">// è·å–httpå®¢æˆ·ç«¯</span></span><br><span class="line">    CloseableHttpClient httpClient = HttpClientBuilder.create().build();</span><br><span class="line">    <span class="comment">// åˆ›å»ºä¸€ä¸ªhttp getè¯·æ±‚</span></span><br><span class="line">    HttpGet httpGet=<span class="keyword">new</span> HttpGet(<span class="string">"http://t.weather.sojson.com/api/weather/city/101030100"</span>);</span><br><span class="line">    <span class="comment">// å“åº”æ¨¡å‹</span></span><br><span class="line">    CloseableHttpResponse response = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">try</span>&#123;</span><br><span class="line">        <span class="comment">// ç”±å®¢æˆ·ç«¯æ‰§è¡Œ(å‘é€)Getè¯·æ±‚</span></span><br><span class="line">        response = httpClient.execute(httpGet);</span><br><span class="line">        <span class="comment">// å¤´éƒ¨å†…å®¹</span></span><br><span class="line">       <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;response.getAllHeaders().length;++i)</span><br><span class="line">       &#123;</span><br><span class="line">           System.out.println(response.getAllHeaders()[i]);</span><br><span class="line">       &#125;</span><br><span class="line">        <span class="comment">// ä»å“åº”æ¨¡å‹ä¸­è·å–å“åº”å®ä½“</span></span><br><span class="line">        HttpEntity responseEntity = response.getEntity();</span><br><span class="line">        System.out.println(<span class="string">"å“åº”çŠ¶æ€ä¸º:"</span> + response.getStatusLine());</span><br><span class="line">        <span class="keyword">if</span> (responseEntity != <span class="keyword">null</span>) &#123;</span><br><span class="line">            System.out.println(<span class="string">"å“åº”å†…å®¹é•¿åº¦ä¸º:"</span> + responseEntity.getContentLength());</span><br><span class="line">            System.out.println(<span class="string">"å“åº”å†…å®¹ä¸º:"</span> + EntityUtils.toString(responseEntity));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;<span class="keyword">catch</span> (ClientProtocolException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">// é‡Šæ”¾èµ„æº ä¸€å®šè¦é‡Šæ”¾</span></span><br><span class="line">            <span class="keyword">if</span> (httpClient != <span class="keyword">null</span>) &#123;</span><br><span class="line">                httpClient.close();</span><br><span class="line">                System.out.println(<span class="string">"é‡Šæ”¾èµ„æº httpclientï¼"</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (response != <span class="keyword">null</span>) &#123;</span><br><span class="line">                response.close();</span><br><span class="line">                System.out.println(<span class="string">"é‡Šæ”¾èµ„æº responseï¼"</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>æµ‹è¯•GETè¯·æ±‚ï¼ˆæœ‰å‚æ•°ï¼‰ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">  <span class="meta">@Test</span></span><br><span class="line">  <span class="function"><span class="keyword">void</span> <span class="title">testGetParam1</span><span class="params">()</span></span>&#123;</span><br><span class="line">      <span class="comment">// è·å–httpå®¢æˆ·ç«¯</span></span><br><span class="line">      CloseableHttpClient httpClient = HttpClientBuilder.create().build();</span><br><span class="line">      StringBuffer params=<span class="keyword">new</span> StringBuffer();</span><br><span class="line">      params.append(<span class="string">"province=ä¸Šæµ·"</span>);</span><br><span class="line">      <span class="comment">// åˆ›å»ºGetè¯·æ±‚</span></span><br><span class="line">      HttpGet httpGet = <span class="keyword">new</span> HttpGet(<span class="string">"http://test2.zhinengxiyifang.cn:12316/price"</span> + <span class="string">"?"</span> + params);</span><br><span class="line">      <span class="comment">// å“åº”æ¨¡å‹</span></span><br><span class="line">      CloseableHttpResponse response = <span class="keyword">null</span>;</span><br><span class="line">      <span class="keyword">try</span> &#123;</span><br><span class="line">          <span class="comment">// é…ç½®ä¿¡æ¯</span></span><br><span class="line">          RequestConfig requestConfig = RequestConfig.custom()</span><br><span class="line">                  <span class="comment">// è®¾ç½®è¿æ¥è¶…æ—¶æ—¶é—´(å•ä½æ¯«ç§’) --&gt;æŒ‡çš„æ˜¯è¿æ¥ä¸€ä¸ªurlçš„è¿æ¥ç­‰å¾…æ—¶é—´</span></span><br><span class="line">                  .setConnectTimeout(<span class="number">5000</span>)</span><br><span class="line">                  <span class="comment">// è®¾ç½®è¯·æ±‚è¶…æ—¶æ—¶é—´(å•ä½æ¯«ç§’)  --&gt;æŒ‡çš„æ˜¯è¿æ¥ä¸Šä¸€ä¸ªurlï¼Œè·å–responseçš„è¿”å›ç­‰å¾…æ—¶é—´</span></span><br><span class="line">                  .setConnectionRequestTimeout(<span class="number">5000</span>)</span><br><span class="line">                  <span class="comment">// socketè¯»å†™è¶…æ—¶æ—¶é—´(å•ä½æ¯«ç§’) --&gt;ä»è¿æ¥æ± è·å–è¿æ¥çš„è¶…æ—¶æ—¶é—´</span></span><br><span class="line">                  .setSocketTimeout(<span class="number">5000</span>)</span><br><span class="line">                  <span class="comment">// è®¾ç½®æ˜¯å¦å…è®¸é‡å®šå‘(é»˜è®¤ä¸ºtrue)</span></span><br><span class="line">                  .setRedirectsEnabled(<span class="keyword">true</span>).build();</span><br><span class="line">   </span><br><span class="line">          <span class="comment">// å°†ä¸Šé¢çš„é…ç½®ä¿¡æ¯ è¿ç”¨åˆ°è¿™ä¸ªGetè¯·æ±‚é‡Œ</span></span><br><span class="line">          httpGet.setConfig(requestConfig);</span><br><span class="line">   </span><br><span class="line">          <span class="comment">// ç”±å®¢æˆ·ç«¯æ‰§è¡Œ(å‘é€)Getè¯·æ±‚</span></span><br><span class="line">          response = httpClient.execute(httpGet);</span><br><span class="line">   </span><br><span class="line">          <span class="comment">// ä»å“åº”æ¨¡å‹ä¸­è·å–å“åº”å®ä½“</span></span><br><span class="line">          HttpEntity responseEntity = response.getEntity();</span><br><span class="line">          System.out.println(<span class="string">"å“åº”çŠ¶æ€ä¸º:"</span> + response.getStatusLine());</span><br><span class="line">          <span class="keyword">if</span> (responseEntity != <span class="keyword">null</span>) &#123;</span><br><span class="line">              System.out.println(<span class="string">"å“åº”å†…å®¹é•¿åº¦ä¸º:"</span> + responseEntity.getContentLength());</span><br><span class="line">              System.out.println(<span class="string">"å“åº”å†…å®¹ä¸º:"</span> + EntityUtils.toString(responseEntity));</span><br><span class="line">          &#125;</span><br><span class="line">      &#125; <span class="keyword">catch</span> (ClientProtocolException e) &#123;</span><br><span class="line">          e.printStackTrace();</span><br><span class="line">      &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">          e.printStackTrace();</span><br><span class="line">      &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">          <span class="keyword">try</span> &#123;</span><br><span class="line">              <span class="comment">// é‡Šæ”¾èµ„æº</span></span><br><span class="line">              <span class="keyword">if</span> (httpClient != <span class="keyword">null</span>) &#123;</span><br><span class="line">                  httpClient.close();</span><br><span class="line">              &#125;</span><br><span class="line">              <span class="keyword">if</span> (response != <span class="keyword">null</span>) &#123;</span><br><span class="line">                  response.close();</span><br><span class="line">              &#125;</span><br><span class="line">          &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">              e.printStackTrace();</span><br><span class="line">          &#125;</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br><span class="line">   </span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line">  <span class="function"><span class="keyword">void</span> <span class="title">testGetParam2</span><span class="params">()</span></span>&#123;</span><br><span class="line">      <span class="comment">// è·å–httpå®¢æˆ·ç«¯</span></span><br><span class="line">      CloseableHttpClient httpClient = HttpClientBuilder.create().build();</span><br><span class="line">      <span class="comment">// uri</span></span><br><span class="line">      URI uri=<span class="keyword">null</span>;</span><br><span class="line">      <span class="keyword">try</span>&#123;</span><br><span class="line">          List&lt;NameValuePair&gt; params=<span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">          params.add(<span class="keyword">new</span> BasicNameValuePair(<span class="string">"province"</span>,<span class="string">"ä¸Šæµ·"</span>));</span><br><span class="line">          uri=<span class="keyword">new</span> URIBuilder().setScheme(<span class="string">"http"</span>).setHost(<span class="string">"test2.zhinengxiyifang.cn"</span>)</span><br><span class="line">                  .setPort(<span class="number">12316</span>).setPath(<span class="string">"/price"</span>)</span><br><span class="line">                  .setParameters(params).build();</span><br><span class="line">      &#125;<span class="keyword">catch</span> (URISyntaxException e)&#123;</span><br><span class="line">          e.printStackTrace();</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="comment">// åˆ›å»ºGetè¯·æ±‚</span></span><br><span class="line">      HttpGet httpGet=<span class="keyword">new</span> HttpGet(uri);</span><br><span class="line">      <span class="comment">// å“åº”æ¨¡å‹</span></span><br><span class="line">      CloseableHttpResponse response = <span class="keyword">null</span>;</span><br><span class="line">      <span class="keyword">try</span> &#123;</span><br><span class="line">          <span class="comment">// é…ç½®ä¿¡æ¯</span></span><br><span class="line">          RequestConfig requestConfig = RequestConfig.custom()</span><br><span class="line">                  <span class="comment">// è®¾ç½®è¿æ¥è¶…æ—¶æ—¶é—´(å•ä½æ¯«ç§’)</span></span><br><span class="line">                  .setConnectTimeout(<span class="number">5000</span>)</span><br><span class="line">                  <span class="comment">// è®¾ç½®è¯·æ±‚è¶…æ—¶æ—¶é—´(å•ä½æ¯«ç§’)</span></span><br><span class="line">                  .setConnectionRequestTimeout(<span class="number">5000</span>)</span><br><span class="line">                  <span class="comment">// socketè¯»å†™è¶…æ—¶æ—¶é—´(å•ä½æ¯«ç§’)</span></span><br><span class="line">                  .setSocketTimeout(<span class="number">5000</span>)</span><br><span class="line">                  <span class="comment">// è®¾ç½®æ˜¯å¦å…è®¸é‡å®šå‘(é»˜è®¤ä¸ºtrue)</span></span><br><span class="line">                  .setRedirectsEnabled(<span class="keyword">true</span>).build();</span><br><span class="line">   </span><br><span class="line">          <span class="comment">// å°†ä¸Šé¢çš„é…ç½®ä¿¡æ¯ è¿ç”¨åˆ°è¿™ä¸ªGetè¯·æ±‚é‡Œ</span></span><br><span class="line">          httpGet.setConfig(requestConfig);</span><br><span class="line">   </span><br><span class="line">          <span class="comment">// ç”±å®¢æˆ·ç«¯æ‰§è¡Œ(å‘é€)Getè¯·æ±‚</span></span><br><span class="line">          response = httpClient.execute(httpGet);</span><br><span class="line">   </span><br><span class="line">          <span class="comment">// ä»å“åº”æ¨¡å‹ä¸­è·å–å“åº”å®ä½“</span></span><br><span class="line">          HttpEntity responseEntity = response.getEntity();</span><br><span class="line">          System.out.println(<span class="string">"å“åº”çŠ¶æ€ä¸º:"</span> + response.getStatusLine());</span><br><span class="line">          <span class="keyword">if</span> (responseEntity != <span class="keyword">null</span>) &#123;</span><br><span class="line">              System.out.println(<span class="string">"å“åº”å†…å®¹é•¿åº¦ä¸º:"</span> + responseEntity.getContentLength());</span><br><span class="line">              System.out.println(<span class="string">"å“åº”å†…å®¹ä¸º:"</span> + EntityUtils.toString(responseEntity));</span><br><span class="line">          &#125;</span><br><span class="line">      &#125; <span class="keyword">catch</span> (ClientProtocolException e) &#123;</span><br><span class="line">          e.printStackTrace();</span><br><span class="line">      &#125;  <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">          e.printStackTrace();</span><br><span class="line">      &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">          <span class="keyword">try</span> &#123;</span><br><span class="line">              <span class="comment">// é‡Šæ”¾èµ„æº</span></span><br><span class="line">              <span class="keyword">if</span> (httpClient != <span class="keyword">null</span>) &#123;</span><br><span class="line">                  httpClient.close();</span><br><span class="line">              &#125;</span><br><span class="line">              <span class="keyword">if</span> (response != <span class="keyword">null</span>) &#123;</span><br><span class="line">                  response.close();</span><br><span class="line">              &#125;</span><br><span class="line">          &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">              e.printStackTrace();</span><br><span class="line">          &#125;</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>æµ‹è¯•POSTè¯·æ±‚ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testPost</span><span class="params">()</span> </span>&#123;</span><br><span class="line">   </span><br><span class="line">       <span class="comment">// è·å¾—Httpå®¢æˆ·ç«¯(å¯ä»¥ç†è§£ä¸º:ä½ å¾—å…ˆæœ‰ä¸€ä¸ªæµè§ˆå™¨;æ³¨æ„:å®é™…ä¸ŠHttpClientä¸æµè§ˆå™¨æ˜¯ä¸ä¸€æ ·çš„)</span></span><br><span class="line">       CloseableHttpClient httpClient = HttpClientBuilder.create().build();</span><br><span class="line">   </span><br><span class="line">       <span class="comment">// å‚æ•°</span></span><br><span class="line">       StringBuffer params = <span class="keyword">new</span> StringBuffer();</span><br><span class="line">       <span class="comment">// å­—ç¬¦æ•°æ®æœ€å¥½encodingä»¥ä¸‹;è¿™æ ·ä¸€æ¥ï¼ŒæŸäº›ç‰¹æ®Šå­—ç¬¦æ‰èƒ½ä¼ è¿‡å»(å¦‚:æŸäººçš„åå­—å°±æ˜¯â€œ&amp;â€,ä¸encodingçš„è¯,ä¼ ä¸è¿‡å»)</span></span><br><span class="line">       params.append(<span class="string">"applianceid=12345"</span>);</span><br><span class="line">       params.append(<span class="string">"&amp;"</span>);</span><br><span class="line">       params.append(<span class="string">"peakvalleyswitch=true"</span>);</span><br><span class="line">       params.append(<span class="string">"&amp;"</span>);</span><br><span class="line">       params.append(<span class="string">"userphone=1234"</span>);</span><br><span class="line">   </span><br><span class="line">       <span class="comment">// åˆ›å»ºPostè¯·æ±‚</span></span><br><span class="line">       HttpPost httpPost = <span class="keyword">new</span> HttpPost(<span class="string">"http://test2.zhinengxiyifang.cn:12316/update/db/12345?"</span>  + params);</span><br><span class="line">   </span><br><span class="line">       <span class="comment">// è®¾ç½®ContentType(æ³¨:å¦‚æœåªæ˜¯ä¼ æ™®é€šå‚æ•°çš„è¯,ContentTypeä¸ä¸€å®šéè¦ç”¨application/json)</span></span><br><span class="line">       httpPost.setHeader(<span class="string">"Content-Type"</span>, <span class="string">"application/json;charset=utf8"</span>);</span><br><span class="line">   </span><br><span class="line">       <span class="comment">// å“åº”æ¨¡å‹</span></span><br><span class="line">       CloseableHttpResponse response = <span class="keyword">null</span>;</span><br><span class="line">       <span class="keyword">try</span> &#123;</span><br><span class="line">           <span class="comment">// ç”±å®¢æˆ·ç«¯æ‰§è¡Œ(å‘é€)Postè¯·æ±‚</span></span><br><span class="line">           response = httpClient.execute(httpPost);</span><br><span class="line">           <span class="comment">// ä»å“åº”æ¨¡å‹ä¸­è·å–å“åº”å®ä½“</span></span><br><span class="line">           HttpEntity responseEntity = response.getEntity();</span><br><span class="line">   </span><br><span class="line">           System.out.println(<span class="string">"å“åº”çŠ¶æ€ä¸º:"</span> + response.getStatusLine());</span><br><span class="line">           <span class="keyword">if</span> (responseEntity != <span class="keyword">null</span>) &#123;</span><br><span class="line">               System.out.println(<span class="string">"å“åº”å†…å®¹é•¿åº¦ä¸º:"</span> + responseEntity.getContentLength());</span><br><span class="line">               System.out.println(<span class="string">"å“åº”å†…å®¹ä¸º:"</span> + EntityUtils.toString(responseEntity));</span><br><span class="line">           &#125;</span><br><span class="line">       &#125; <span class="keyword">catch</span> (ClientProtocolException e) &#123;</span><br><span class="line">           e.printStackTrace();</span><br><span class="line">       &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">           e.printStackTrace();</span><br><span class="line">       &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">           <span class="keyword">try</span> &#123;</span><br><span class="line">               <span class="comment">// é‡Šæ”¾èµ„æº</span></span><br><span class="line">               <span class="keyword">if</span> (httpClient != <span class="keyword">null</span>) &#123;</span><br><span class="line">                   httpClient.close();</span><br><span class="line">               &#125;</span><br><span class="line">               <span class="keyword">if</span> (response != <span class="keyword">null</span>) &#123;</span><br><span class="line">                   response.close();</span><br><span class="line">               &#125;</span><br><span class="line">           &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">               e.printStackTrace();</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><p>æ³¨æ„å¤„ç†å“åº”å­—ç¬¦ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ä¸»åŠ¨è®¾ç½®ç¼–ç ï¼Œé˜²æ­¢å“åº”ä¹±ç </span></span><br><span class="line">String responsestr=EntityUtils.toString(responseEntity, StandardCharsets.UTF_8);</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>æµ‹è¯•ä¸Šä¼ æ–‡ä»¶ï¼š</p>
<ul>
<li>æœåŠ¡ç«¯ä»£ç </li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FileProcess</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@PostMapping</span>(<span class="string">"/file"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span>  String <span class="title">fileController</span><span class="params">(@RequestParam(<span class="string">"name"</span>)</span> String name, @<span class="title">RequestParam</span><span class="params">(<span class="string">"age"</span>)</span> Integer age, @<span class="title">RequestParam</span><span class="params">(<span class="string">"files"</span>)</span>List&lt;MultipartFile&gt; multipartFiles) <span class="keyword">throws</span> UnsupportedEncodingException </span>&#123;</span><br><span class="line">        StringBuilder stringBuilder=<span class="keyword">new</span> StringBuilder(<span class="number">64</span>);</span><br><span class="line">        stringBuilder.append(<span class="string">"\n"</span>);</span><br><span class="line">        stringBuilder.append(<span class="string">"name="</span>).append(name);</span><br><span class="line">        stringBuilder.append(<span class="string">"\t age="</span>).append(age);</span><br><span class="line">        String fileName;</span><br><span class="line">        <span class="keyword">for</span>(MultipartFile file:multipartFiles)&#123;</span><br><span class="line">            stringBuilder.append(<span class="string">"\n æ–‡ä»¶ä¿¡æ¯ï¼š \n"</span>);</span><br><span class="line">            fileName=file.getOriginalFilename();</span><br><span class="line">            <span class="keyword">if</span>(fileName==<span class="keyword">null</span>)&#123;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            fileName= URLDecoder.decode(fileName,<span class="string">"utf-8"</span>);</span><br><span class="line">            stringBuilder.append(fileName);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span>  stringBuilder.toString();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><p>æµ‹è¯•ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testUploadFiles</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    CloseableHttpClient httpClient = HttpClientBuilder.create().build();</span><br><span class="line">    HttpPost httpPost = <span class="keyword">new</span> HttpPost(<span class="string">"http://localhost:8080/file"</span>);</span><br><span class="line">    CloseableHttpResponse response = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        MultipartEntityBuilder multipartEntityBuilder = MultipartEntityBuilder.create();</span><br><span class="line">        <span class="comment">// ç¬¬ä¸€ä¸ªæ–‡ä»¶</span></span><br><span class="line">        String filesKey = <span class="string">"files"</span>;</span><br><span class="line">        File file1 = <span class="keyword">new</span> File(<span class="string">"/Users/wander/Desktop/docker_zookeeper/myid"</span>);</span><br><span class="line">        multipartEntityBuilder.addBinaryBody(filesKey, file1);</span><br><span class="line">        <span class="comment">// ç¬¬äºŒä¸ªæ–‡ä»¶(å¤šä¸ªæ–‡ä»¶çš„è¯ï¼Œä½¿ç”¨åŒä¸€ä¸ªkeyå°±è¡Œï¼Œåç«¯ç”¨æ•°ç»„æˆ–é›†åˆè¿›è¡Œæ¥æ”¶å³å¯)</span></span><br><span class="line">        File file2 = <span class="keyword">new</span> File(<span class="string">"/Users/wander/Desktop/docker_zookeeper/zoo.cfg"</span>);</span><br><span class="line">        <span class="comment">// é˜²æ­¢æœåŠ¡ç«¯æ”¶åˆ°çš„æ–‡ä»¶åä¹±ç ã€‚ æˆ‘ä»¬è¿™é‡Œå¯ä»¥å…ˆå°†æ–‡ä»¶åURLEncodeï¼Œç„¶åæœåŠ¡ç«¯æ‹¿åˆ°æ–‡ä»¶åæ—¶åœ¨URLDecodeã€‚å°±èƒ½é¿å…ä¹±ç é—®é¢˜ã€‚</span></span><br><span class="line">        <span class="comment">// æ–‡ä»¶åå…¶å®æ˜¯æ”¾åœ¨è¯·æ±‚å¤´çš„Content-Dispositioné‡Œé¢è¿›è¡Œä¼ è¾“çš„ï¼Œå¦‚å…¶å€¼ä¸ºform-data; name="files"; filename="å¤´åƒ.jpg"</span></span><br><span class="line">        multipartEntityBuilder.addBinaryBody(filesKey, file2, ContentType.DEFAULT_BINARY, URLEncoder.encode(file2.getName(), <span class="string">"utf-8"</span>));</span><br><span class="line">        <span class="comment">// å…¶å®ƒå‚æ•°(æ³¨:è‡ªå®šä¹‰contentTypeï¼Œè®¾ç½®UTF-8æ˜¯ä¸ºäº†é˜²æ­¢æœåŠ¡ç«¯æ‹¿åˆ°çš„å‚æ•°å‡ºç°ä¹±ç )</span></span><br><span class="line">        ContentType contentType = ContentType.create(<span class="string">"text/plain"</span>, Charset.forName(<span class="string">"UTF-8"</span>));</span><br><span class="line">        multipartEntityBuilder.addTextBody(<span class="string">"name"</span>, <span class="string">"é‚“æ²™åˆ©æ–‡"</span>, contentType);</span><br><span class="line">        multipartEntityBuilder.addTextBody(<span class="string">"age"</span>, <span class="string">"25"</span>, contentType);</span><br><span class="line">     </span><br><span class="line">        HttpEntity httpEntity = multipartEntityBuilder.build();</span><br><span class="line">        httpPost.setEntity(httpEntity);</span><br><span class="line">     </span><br><span class="line">        response = httpClient.execute(httpPost);</span><br><span class="line">        HttpEntity responseEntity = response.getEntity();</span><br><span class="line">        System.out.println(<span class="string">"HTTPSå“åº”çŠ¶æ€ä¸º:"</span> + response.getStatusLine());</span><br><span class="line">        <span class="keyword">if</span> (responseEntity != <span class="keyword">null</span>) &#123;</span><br><span class="line">            System.out.println(<span class="string">"HTTPSå“åº”å†…å®¹é•¿åº¦ä¸º:"</span> + responseEntity.getContentLength());</span><br><span class="line">            <span class="comment">// ä¸»åŠ¨è®¾ç½®ç¼–ç ï¼Œæ¥é˜²æ­¢å“åº”ä¹±ç </span></span><br><span class="line">            String responseStr = EntityUtils.toString(responseEntity, StandardCharsets.UTF_8);</span><br><span class="line">            System.out.println(<span class="string">"HTTPSå“åº”å†…å®¹ä¸º:"</span> + responseStr);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">catch</span> ( IOException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">// é‡Šæ”¾èµ„æº</span></span><br><span class="line">            <span class="keyword">if</span> (httpClient != <span class="keyword">null</span>) &#123;</span><br><span class="line">                httpClient.close();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (response != <span class="keyword">null</span>) &#123;</span><br><span class="line">                response.close();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ol>
]]></content>
      <categories>
        <category>SpringBoot</category>
      </categories>
  </entry>
  <entry>
    <title>SpringBootæ•´åˆDubbo&amp;Zookeeper</title>
    <url>/2020/07/03/SpringBoot%E6%95%B4%E5%90%88Dubbo-Zookeeper/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>åœ¨å¤§è§„æ¨¡æœåŠ¡åŒ–ä¹‹å‰ï¼Œåº”ç”¨å¯èƒ½åªæ˜¯é€šè¿‡ RMI æˆ– Hessian ç­‰å·¥å…·ï¼Œç®€å•çš„æš´éœ²å’Œå¼•ç”¨è¿œç¨‹æœåŠ¡ï¼Œé€šè¿‡é…ç½®æœåŠ¡çš„URLåœ°å€è¿›è¡Œè°ƒç”¨ï¼Œé€šè¿‡ F5 ç­‰ç¡¬ä»¶è¿›è¡Œè´Ÿè½½å‡è¡¡ã€‚éšç€äº’è”ç½‘çš„å‘å±•ï¼Œç½‘ç«™åº”ç”¨çš„è§„æ¨¡ä¸æ–­æ‰©å¤§ï¼Œå¸¸è§„çš„å‚ç›´åº”ç”¨æ¶æ„å·²æ— æ³•åº”å¯¹ï¼Œåˆ†å¸ƒå¼æœåŠ¡æ¶æ„ä»¥åŠæµåŠ¨è®¡ç®—æ¶æ„åŠ¿åœ¨å¿…è¡Œã€‚SpringBootå¯ä»¥éå¸¸æ–¹ä¾¿åœ°é›†æˆDubboä¸Zookeeperè¿›è¡Œåˆ†å¸ƒå¼æœåŠ¡ï¼</p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="åŸºç¡€çŸ¥è¯†"><a href="#åŸºç¡€çŸ¥è¯†" class="headerlink" title="åŸºç¡€çŸ¥è¯†"></a>åŸºç¡€çŸ¥è¯†</h2><h3 id="æ¶æ„åˆ†ç±»"><a href="#æ¶æ„åˆ†ç±»" class="headerlink" title="æ¶æ„åˆ†ç±»"></a>æ¶æ„åˆ†ç±»</h3><ol>
<li><strong>å•ä¸€åº”ç”¨æ¶æ„</strong>ï¼šå½“ç½‘ç«™æµé‡å¾ˆå°æ—¶ï¼Œåªéœ€ä¸€ä¸ªåº”ç”¨ï¼Œå°†æ‰€æœ‰åŠŸèƒ½éƒ½éƒ¨ç½²åœ¨ä¸€èµ·ï¼Œä»¥å‡å°‘éƒ¨ç½²èŠ‚ç‚¹å’Œæˆæœ¬ã€‚æ­¤æ—¶ï¼Œç”¨äºç®€åŒ–å¢åˆ æ”¹æŸ¥å·¥ä½œé‡çš„æ•°æ®è®¿é—®æ¡†æ¶(ORM)æ˜¯å…³é”®</li>
<li><strong>å‚ç›´åº”ç”¨æ¶æ„</strong>ï¼šå½“è®¿é—®é‡é€æ¸å¢å¤§ï¼Œå•ä¸€åº”ç”¨å¢åŠ æœºå™¨å¸¦æ¥çš„åŠ é€Ÿåº¦è¶Šæ¥è¶Šå°ï¼Œæå‡æ•ˆç‡çš„æ–¹æ³•ä¹‹ä¸€æ˜¯å°†åº”ç”¨æ‹†æˆäº’ä¸ç›¸å¹²çš„å‡ ä¸ªåº”ç”¨ï¼Œä»¥æå‡æ•ˆç‡ã€‚æ­¤æ—¶ï¼Œç”¨äºåŠ é€Ÿå‰ç«¯é¡µé¢å¼€å‘çš„Webæ¡†æ¶(MVCç­‰)æ˜¯å…³é”®</li>
<li><strong>åˆ†å¸ƒå¼æœåŠ¡æ¶æ„</strong>ï¼šå½“å‚ç›´åº”ç”¨è¶Šæ¥è¶Šå¤šï¼Œåº”ç”¨ä¹‹é—´äº¤äº’ä¸å¯é¿å…ï¼Œå°†æ ¸å¿ƒä¸šåŠ¡æŠ½å–å‡ºæ¥ï¼Œä½œä¸ºç‹¬ç«‹çš„æœåŠ¡ï¼Œé€æ¸å½¢æˆç¨³å®šçš„æœåŠ¡ä¸­å¿ƒï¼Œä½¿å‰ç«¯åº”ç”¨èƒ½æ›´å¿«é€Ÿçš„å“åº”å¤šå˜çš„å¸‚åœºéœ€æ±‚ã€‚æ­¤æ—¶ï¼Œç”¨äºæé«˜ä¸šåŠ¡å¤ç”¨åŠæ•´åˆçš„åˆ†å¸ƒå¼æœåŠ¡æ¡†æ¶(RPC)æ˜¯å…³é”®</li>
<li><strong>æµåŠ¨è®¡ç®—æ¶æ„</strong>ï¼šå½“æœåŠ¡è¶Šæ¥è¶Šå¤šï¼Œå®¹é‡çš„è¯„ä¼°ï¼Œå°æœåŠ¡èµ„æºçš„æµªè´¹ç­‰é—®é¢˜é€æ¸æ˜¾ç°ï¼Œæ­¤æ—¶éœ€å¢åŠ ä¸€ä¸ªè°ƒåº¦ä¸­å¿ƒåŸºäºè®¿é—®å‹åŠ›å®æ—¶ç®¡ç†é›†ç¾¤å®¹é‡ï¼Œæé«˜é›†ç¾¤åˆ©ç”¨ç‡ã€‚æ­¤æ—¶ï¼Œç”¨äºæé«˜æœºå™¨åˆ©ç”¨ç‡çš„èµ„æºè°ƒåº¦å’Œæ²»ç†ä¸­å¿ƒ(SOA)æ˜¯å…³é”®</li>
</ol>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/23791576e8f92918933e5ec1909d4538-33931" alt="æ¶æ„çš„å‘å±•è·¯çº¿"></p>
<h3 id="åˆ†å¸ƒå¼æœåŠ¡éœ€æ±‚"><a href="#åˆ†å¸ƒå¼æœåŠ¡éœ€æ±‚" class="headerlink" title="åˆ†å¸ƒå¼æœåŠ¡éœ€æ±‚"></a>åˆ†å¸ƒå¼æœåŠ¡éœ€æ±‚</h3><ol>
<li>æ¶æ„æ˜¯æ ¹æ®éœ€æ±‚ä¸æ–­è¿­ä»£å‡çº§çš„ï¼Œåˆ†å¸ƒå¼æœåŠ¡æ¶æ„çš„æ¼”è¿›ä¹Ÿæ˜¯éœ€æ±‚ä¿ƒè¿›çš„ï¼</li>
<li>å½“æœåŠ¡è¶Šæ¥è¶Šå¤šæ—¶ï¼ŒæœåŠ¡ URL é…ç½®ç®¡ç†å˜å¾—éå¸¸å›°éš¾ï¼ŒF5 ç¡¬ä»¶è´Ÿè½½å‡è¡¡å™¨çš„å•ç‚¹å‹åŠ›ä¹Ÿè¶Šæ¥è¶Šå¤§ï¼›</li>
<li>å½“è¿›ä¸€æ­¥å‘å±•ï¼ŒæœåŠ¡é—´ä¾èµ–å…³ç³»å˜å¾—é”™è¸ªå¤æ‚ï¼Œç”šè‡³åˆ†ä¸æ¸…å“ªä¸ªåº”ç”¨è¦åœ¨å“ªä¸ªåº”ç”¨ä¹‹å‰å¯åŠ¨ï¼Œæ¶æ„å¸ˆéƒ½ä¸èƒ½å®Œæ•´çš„æè¿°åº”ç”¨çš„æ¶æ„å…³ç³»ï¼›</li>
<li>æœåŠ¡çš„è°ƒç”¨é‡è¶Šæ¥è¶Šå¤§ï¼ŒæœåŠ¡çš„å®¹é‡é—®é¢˜å°±æš´éœ²å‡ºæ¥ï¼Œè¿™ä¸ªæœåŠ¡éœ€è¦å¤šå°‘æœºå™¨æ”¯æ’‘ï¼Ÿä»€ä¹ˆæ—¶å€™è¯¥åŠ æœºå™¨ï¼Ÿ</li>
<li>è§£å†³é—®é¢˜ï¼š<ol>
<li>è¦å°†æœåŠ¡ç°åœ¨æ¯å¤©çš„è°ƒç”¨é‡ï¼Œå“åº”æ—¶é—´ï¼Œéƒ½ç»Ÿè®¡å‡ºæ¥ï¼Œä½œä¸ºå®¹é‡è§„åˆ’çš„å‚è€ƒæŒ‡æ ‡</li>
<li>è¦å¯ä»¥åŠ¨æ€è°ƒæ•´æƒé‡ï¼Œåœ¨çº¿ä¸Šï¼Œå°†æŸå°æœºå™¨çš„æƒé‡ä¸€ç›´åŠ å¤§ï¼Œå¹¶åœ¨åŠ å¤§çš„è¿‡ç¨‹ä¸­è®°å½•å“åº”æ—¶é—´çš„å˜åŒ–ï¼Œç›´åˆ°å“åº”æ—¶é—´åˆ°è¾¾é˜ˆå€¼ï¼Œè®°å½•æ­¤æ—¶çš„è®¿é—®é‡</li>
<li>å†ä»¥æ­¤è®¿é—®é‡ä¹˜ä»¥æœºå™¨æ•°åæ¨æ€»å®¹é‡</li>
</ol>
</li>
</ol>
<h3 id="Dubboä¿¡æ¯"><a href="#Dubboä¿¡æ¯" class="headerlink" title="Dubboä¿¡æ¯"></a>Dubboä¿¡æ¯</h3><ol>
<li>å®˜ç½‘ï¼š<a href="http://dubbo.apache.org/zh-cn/" target="_blank" rel="noopener">http://dubbo.apache.org/zh-cn/</a></li>
<li>Dubboæ˜¯é˜¿é‡Œå·´å·´å¼€æºçš„åŸºäº Java çš„é«˜æ€§èƒ½ RPCï¼ˆä¸€ç§è¿œç¨‹è°ƒç”¨ï¼‰ åˆ†å¸ƒå¼æœåŠ¡æ¡†æ¶ï¼ˆSOAï¼‰ï¼Œè‡´åŠ›äºæä¾›é«˜æ€§èƒ½å’Œé€æ˜åŒ–çš„RPCè¿œç¨‹æœåŠ¡è°ƒç”¨æ–¹æ¡ˆï¼Œä»¥åŠSOAæœåŠ¡æ²»ç†æ–¹æ¡ˆï¼</li>
<li>Dubboå’ŒSpringCloudçš„åŒºåˆ«ï¼š<ul>
<li>é€šä¿¡æ–¹å¼ä¸åŒï¼šDubbo ä½¿ç”¨çš„æ˜¯ RPC é€šä¿¡ï¼Œè€ŒSpring Cloud ä½¿ç”¨çš„æ˜¯HTTP RESTFul æ–¹å¼</li>
<li>ç»„æˆä¸ä¸€æ ·ï¼šdubboçš„æœåŠ¡æ³¨å†Œä¸­å¿ƒä¸ºZookeerperï¼ŒæœåŠ¡ç›‘æ§ä¸­å¿ƒä¸ºdubbo-monitor,æ— æ¶ˆæ¯æ€»çº¿ï¼ŒæœåŠ¡è·Ÿè¸ªã€æ‰¹é‡ä»»åŠ¡ç­‰ç»„ä»¶ï¼›spring-cloudçš„æœåŠ¡æ³¨å†Œä¸­å¿ƒä¸ºspring-cloud netflix  enrukaï¼ŒæœåŠ¡ç›‘æ§ä¸­å¿ƒä¸ºspring-boot admin,æœ‰æ¶ˆæ¯æ€»çº¿ï¼Œæ•°æ®æµã€æœåŠ¡è·Ÿè¸ªã€æ‰¹é‡ä»»åŠ¡ç­‰ç»„ä»¶</li>
</ul>
</li>
<li>dubboéƒ½æ”¯æŒçš„åè®®ï¼š<ul>
<li>dubbo</li>
<li>http</li>
<li>rest</li>
<li>redis</li>
<li>memcached</li>
</ul>
</li>
<li>Dubboè´Ÿè½½å‡è¡¡ç­–ç•¥:<ul>
<li>random loadbalanceï¼šæŒ‰æƒé‡è®¾ç½®éšæœºæ¦‚ç‡ï¼ˆé»˜è®¤ï¼‰</li>
<li>roundrobin loadbalanceï¼šè½®å¯»ï¼ŒæŒ‰ç…§å…¬çº¦åæƒé‡è®¾ç½®è½®è®­æ¯”ä¾‹</li>
<li>lastactive loadbalanceï¼šæœ€å°‘æ´»è·ƒè°ƒç”¨æ•°ï¼Œè‹¥ç›¸åŒåˆ™éšæœº</li>
<li>consistenthash loadbalanceï¼šä¸€è‡´æ€§hashï¼Œç›¸åŒå‚æ•°çš„è¯·æ±‚æ€»æ˜¯å‘é€åˆ°åŒä¸€æä¾›è€…</li>
</ul>
</li>
<li>RPCï¼ˆRemote Procedure Callï¼Œè¿œç¨‹è¿‡ç¨‹è°ƒç”¨ï¼‰æ˜¯ä¸€ç§è¿›ç¨‹é—´é€šä¿¡æ–¹å¼ï¼Œä¸€ç§æŠ€æœ¯æ€æƒ³ï¼Œè€Œä¸æ˜¯è§„èŒƒã€‚å®ƒå…è®¸ç¨‹åºè°ƒç”¨å¦ä¸€ä¸ªåœ°å€ç©ºé—´ï¼ˆé€šå¸¸æ˜¯å…±äº«ç½‘ç»œçš„å¦ä¸€å°æœºå™¨ä¸Šï¼‰çš„è¿‡ç¨‹æˆ–å‡½æ•°ï¼Œè€Œä¸ç”¨ç¨‹åºå‘˜æ˜¾å¼ç¼–ç è¿™ä¸ªè¿œç¨‹è°ƒç”¨çš„ç»†èŠ‚ã€‚å³ç¨‹åºå‘˜æ— è®ºæ˜¯è°ƒç”¨æœ¬åœ°çš„è¿˜æ˜¯è¿œç¨‹çš„å‡½æ•°ï¼Œæœ¬è´¨ä¸Šç¼–å†™çš„è°ƒç”¨ä»£ç åŸºæœ¬ç›¸åŒï¼›</li>
</ol>
<h2 id="Dubboæ¶æ„"><a href="#Dubboæ¶æ„" class="headerlink" title="Dubboæ¶æ„"></a>Dubboæ¶æ„</h2><h3 id="Dubboè¯´æ˜"><a href="#Dubboè¯´æ˜" class="headerlink" title="Dubboè¯´æ˜"></a>Dubboè¯´æ˜</h3><ol>
<li><p>èŠ‚ç‚¹è§’è‰²è¯´æ˜ï¼š</p>
<ul>
<li>Providerâ€”â€”æš´éœ²æœåŠ¡çš„æœåŠ¡æä¾›æ–¹</li>
<li>Consumerâ€”â€”è°ƒç”¨è¿œç¨‹æœåŠ¡çš„æœåŠ¡æ¶ˆè´¹æ–¹</li>
<li>Registryâ€”â€”æœåŠ¡æ³¨å†Œä¸å‘ç°çš„æ³¨å†Œä¸­å¿ƒ</li>
<li>Monitorâ€”â€”ç»Ÿè®¡æœåŠ¡çš„è°ƒç”¨æ¬¡æ•°å’Œè°ƒç”¨æ—¶é—´çš„ç›‘æ§ä¸­å¿ƒ</li>
<li>Containerâ€”â€”æœåŠ¡è¿è¡Œå®¹å™¨</li>
</ul>
</li>
<li><p>Dubboæ¶æ„å›¾ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/f07431ff8daafff6906882197d395a2a-18810" alt="Dubboæ¶æ„å›¾"></p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/834268c031cf5cbbfafa1a7fe0377e81-67000" alt="æœåŠ¡æ²»ç†"></p>
</li>
<li><p>æœåŠ¡å¯åŠ¨æµç¨‹ï¼š</p>
<ol>
<li>æœåŠ¡å®¹å™¨è´Ÿè´£å¯åŠ¨ï¼ŒåŠ è½½ï¼Œè¿è¡ŒæœåŠ¡æä¾›è€…</li>
<li>æœåŠ¡æä¾›è€…åœ¨å¯åŠ¨æ—¶ï¼Œå‘æ³¨å†Œä¸­å¿ƒæ³¨å†Œè‡ªå·±æä¾›çš„æœåŠ¡</li>
<li>æœåŠ¡æ¶ˆè´¹è€…åœ¨å¯åŠ¨æ—¶ï¼Œå‘æ³¨å†Œä¸­å¿ƒè®¢é˜…è‡ªå·±æ‰€éœ€çš„æœåŠ¡</li>
<li>æ³¨å†Œä¸­å¿ƒè¿”å›æœåŠ¡æä¾›è€…åœ°å€åˆ—è¡¨ç»™æ¶ˆè´¹è€…ï¼Œå¦‚æœæœ‰å˜æ›´ï¼Œæ³¨å†Œä¸­å¿ƒå°†åŸºäºé•¿è¿æ¥æ¨é€å˜æ›´æ•°æ®ç»™æ¶ˆè´¹è€…</li>
<li>æœåŠ¡æ¶ˆè´¹è€…ï¼Œä»æä¾›è€…åœ°å€åˆ—è¡¨ä¸­ï¼ŒåŸºäºè½¯è´Ÿè½½å‡è¡¡ç®—æ³•ï¼Œé€‰ä¸€å°æä¾›è€…è¿›è¡Œè°ƒç”¨ï¼Œå¦‚æœè°ƒç”¨å¤±è´¥ï¼Œå†é€‰å¦ä¸€å°è°ƒç”¨</li>
<li>æœåŠ¡æ¶ˆè´¹è€…å’Œæä¾›è€…ï¼Œåœ¨å†…å­˜ä¸­ç´¯è®¡è°ƒç”¨æ¬¡æ•°å’Œè°ƒç”¨æ—¶é—´ï¼Œå®šæ—¶æ¯åˆ†é’Ÿå‘é€ä¸€æ¬¡ç»Ÿè®¡æ•°æ®åˆ°ç›‘æ§ä¸­å¿ƒ</li>
</ol>
</li>
</ol>
<h3 id="Dubboç‰¹ç‚¹"><a href="#Dubboç‰¹ç‚¹" class="headerlink" title="Dubboç‰¹ç‚¹"></a>Dubboç‰¹ç‚¹</h3><ol>
<li>è¿é€šæ€§ï¼š<ul>
<li>æ³¨å†Œä¸­å¿ƒè´Ÿè´£æœåŠ¡åœ°å€çš„æ³¨å†Œä¸æŸ¥æ‰¾ï¼Œç›¸å½“äº<strong>ç›®å½•æœåŠ¡</strong>ï¼ŒæœåŠ¡æä¾›è€…å’Œæ¶ˆè´¹è€…åªåœ¨å¯åŠ¨æ—¶ä¸æ³¨å†Œä¸­å¿ƒäº¤äº’ï¼Œæ³¨å†Œä¸­å¿ƒä¸è½¬å‘è¯·æ±‚ï¼Œå‹åŠ›è¾ƒå°</li>
<li>ç›‘æ§ä¸­å¿ƒè´Ÿè´£ç»Ÿè®¡å„æœåŠ¡è°ƒç”¨æ¬¡æ•°ï¼Œè°ƒç”¨æ—¶é—´ç­‰ï¼Œç»Ÿè®¡å…ˆåœ¨å†…å­˜æ±‡æ€»åæ¯åˆ†é’Ÿä¸€æ¬¡å‘é€åˆ°ç›‘æ§ä¸­å¿ƒæœåŠ¡å™¨ï¼Œå¹¶ä»¥æŠ¥è¡¨å±•ç¤º</li>
<li>æœåŠ¡æä¾›è€…å‘æ³¨å†Œä¸­å¿ƒæ³¨å†Œå…¶æä¾›çš„æœåŠ¡ï¼Œå¹¶æ±‡æŠ¥è°ƒç”¨æ—¶é—´åˆ°ç›‘æ§ä¸­å¿ƒï¼Œæ­¤æ—¶é—´ä¸åŒ…å«ç½‘ç»œå¼€é”€</li>
<li>æœåŠ¡æ¶ˆè´¹è€…å‘æ³¨å†Œä¸­å¿ƒè·å–æœåŠ¡æä¾›è€…åœ°å€åˆ—è¡¨ï¼Œå¹¶æ ¹æ®è´Ÿè½½ç®—æ³•ç›´æ¥è°ƒç”¨æä¾›è€…ï¼ŒåŒæ—¶æ±‡æŠ¥è°ƒç”¨æ—¶é—´åˆ°ç›‘æ§ä¸­å¿ƒï¼Œæ­¤æ—¶é—´åŒ…å«ç½‘ç»œå¼€é”€</li>
<li>æ³¨å†Œä¸­å¿ƒï¼ŒæœåŠ¡æä¾›è€…ï¼ŒæœåŠ¡æ¶ˆè´¹è€…ä¸‰è€…ä¹‹é—´å‡ä¸ºé•¿è¿æ¥ï¼Œç›‘æ§ä¸­å¿ƒé™¤å¤–</li>
<li>æ³¨å†Œä¸­å¿ƒé€šè¿‡é•¿è¿æ¥æ„ŸçŸ¥æœåŠ¡æä¾›è€…çš„å­˜åœ¨ï¼ŒæœåŠ¡æä¾›è€…å®•æœºï¼Œæ³¨å†Œä¸­å¿ƒå°†ç«‹å³æ¨é€äº‹ä»¶é€šçŸ¥æ¶ˆè´¹è€…</li>
<li>æ³¨å†Œä¸­å¿ƒå’Œç›‘æ§ä¸­å¿ƒå…¨éƒ¨å®•æœºï¼Œä¸å½±å“å·²è¿è¡Œçš„æä¾›è€…å’Œæ¶ˆè´¹è€…ï¼Œæ¶ˆè´¹è€…åœ¨æœ¬åœ°ç¼“å­˜äº†æä¾›è€…åˆ—è¡¨</li>
<li>æ³¨å†Œä¸­å¿ƒå’Œç›‘æ§ä¸­å¿ƒéƒ½æ˜¯å¯é€‰çš„ï¼ŒæœåŠ¡æ¶ˆè´¹è€…å¯ä»¥ç›´è¿æœåŠ¡æä¾›è€…</li>
</ul>
</li>
<li>å¥å£®æ€§ï¼š<ul>
<li>ç›‘æ§ä¸­å¿ƒå®•æ‰ä¸å½±å“ä½¿ç”¨ï¼Œåªæ˜¯ä¸¢å¤±éƒ¨åˆ†é‡‡æ ·æ•°æ®</li>
<li>æ•°æ®åº“å®•æ‰åï¼Œæ³¨å†Œä¸­å¿ƒä»èƒ½é€šè¿‡ç¼“å­˜æä¾›æœåŠ¡åˆ—è¡¨æŸ¥è¯¢ï¼Œä½†ä¸èƒ½æ³¨å†Œæ–°æœåŠ¡</li>
<li>æ³¨å†Œä¸­å¿ƒå¯¹ç­‰é›†ç¾¤ï¼Œä»»æ„ä¸€å°å®•æ‰åï¼Œå°†è‡ªåŠ¨åˆ‡æ¢åˆ°å¦ä¸€å°</li>
<li>æ³¨å†Œä¸­å¿ƒå…¨éƒ¨å®•æ‰åï¼ŒæœåŠ¡æä¾›è€…å’ŒæœåŠ¡æ¶ˆè´¹è€…ä»èƒ½é€šè¿‡æœ¬åœ°ç¼“å­˜é€šè®¯</li>
<li>æœåŠ¡æä¾›è€…æ— çŠ¶æ€ï¼Œä»»æ„ä¸€å°å®•æ‰åï¼Œä¸å½±å“ä½¿ç”¨</li>
<li>æœåŠ¡æä¾›è€…å…¨éƒ¨å®•æ‰åï¼ŒæœåŠ¡æ¶ˆè´¹è€…åº”ç”¨å°†æ— æ³•ä½¿ç”¨ï¼Œå¹¶æ— é™æ¬¡é‡è¿ç­‰å¾…æœåŠ¡æä¾›è€…æ¢å¤</li>
</ul>
</li>
<li>ä¼¸ç¼©æ€§ï¼š<ul>
<li>æ³¨å†Œä¸­å¿ƒä¸ºå¯¹ç­‰é›†ç¾¤ï¼Œå¯åŠ¨æ€å¢åŠ æœºå™¨éƒ¨ç½²å®ä¾‹ï¼Œæ‰€æœ‰å®¢æˆ·ç«¯å°†è‡ªåŠ¨å‘ç°æ–°çš„æ³¨å†Œä¸­å¿ƒ</li>
<li>æœåŠ¡æä¾›è€…æ— çŠ¶æ€ï¼Œå¯åŠ¨æ€å¢åŠ æœºå™¨éƒ¨ç½²å®ä¾‹ï¼Œæ³¨å†Œä¸­å¿ƒå°†æ¨é€æ–°çš„æœåŠ¡æä¾›è€…ä¿¡æ¯ç»™æ¶ˆè´¹è€…</li>
</ul>
</li>
<li>å‡çº§æ€§ï¼š<ul>
<li>å½“æœåŠ¡é›†ç¾¤è§„æ¨¡è¿›ä¸€æ­¥æ‰©å¤§ï¼Œå¸¦åŠ¨ITæ²»ç†ç»“æ„è¿›ä¸€æ­¥å‡çº§ï¼Œéœ€è¦å®ç°åŠ¨æ€éƒ¨ç½²ï¼Œè¿›è¡ŒæµåŠ¨è®¡ç®—ï¼Œç°æœ‰åˆ†å¸ƒå¼æœåŠ¡æ¶æ„ä¸ä¼šå¸¦æ¥é˜»åŠ›</li>
</ul>
</li>
<li>æœªæ¥çš„æ¶æ„ï¼ˆå¯èƒ½ï¼‰ï¼š<ul>
<li><img src="https://app.yinxiang.com/FileSharing.action?hash=1/fba33dd6b7e20c35b1a04fb368f33224-55605" alt="æœªæ¥å¯èƒ½æ¶æ„"></li>
<li>Deployerâ€”â€”è‡ªåŠ¨éƒ¨ç½²æœåŠ¡çš„æœ¬åœ°ä»£ç†</li>
<li>Repositoryâ€”â€”ä»“åº“ç”¨äºå­˜å‚¨æœåŠ¡åº”ç”¨å‘å¸ƒåŒ…</li>
<li>Schedulerâ€”â€”è°ƒåº¦ä¸­å¿ƒåŸºäºè®¿é—®å‹åŠ›è‡ªåŠ¨å¢å‡æœåŠ¡æä¾›è€…</li>
<li>Adminâ€”â€”ç»Ÿä¸€ç®¡ç†æ§åˆ¶å°</li>
<li>Registryâ€”â€”æœåŠ¡æ³¨å†Œä¸å‘ç°çš„æ³¨å†Œä¸­å¿ƒ</li>
<li>Monitorâ€”â€”ç»Ÿè®¡æœåŠ¡çš„è°ƒç”¨æ¬¡æ•°å’Œè°ƒç”¨æ—¶é—´çš„ç›‘æ§ä¸­å¿ƒ</li>
</ul>
</li>
</ol>
<h1 id="åŠ¨æ‰‹å®æ“"><a href="#åŠ¨æ‰‹å®æ“" class="headerlink" title="åŠ¨æ‰‹å®æ“"></a>åŠ¨æ‰‹å®æ“</h1><h2 id="åˆ›å»ºæ¥å£é¡¹ç›®"><a href="#åˆ›å»ºæ¥å£é¡¹ç›®" class="headerlink" title="åˆ›å»ºæ¥å£é¡¹ç›®"></a>åˆ›å»ºæ¥å£é¡¹ç›®</h2><ol>
<li><p>ç›®çš„ï¼šç”¨äºå­˜æ”¾æ¶ˆè´¹è€…ä¸æä¾›è€…è°ƒç”¨çš„æ¥å£ï¼›</p>
</li>
<li><p>ç›´æ¥åˆ›å»ºä¸€ä¸ªæµ‹è¯•çš„serviceçš„æ¥å£ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">CostService</span> </span>&#123;</span><br><span class="line">    <span class="function">Integer <span class="title">add</span><span class="params">(<span class="keyword">int</span> cost)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>xmlä¸­ä¸»è¦å†…å®¹ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.dubbo.api<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">version</span>&gt;</span>0.0.1-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">name</span>&gt;</span>api<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">description</span>&gt;</span>Demo project for Spring Boot<span class="tag">&lt;/<span class="name">description</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>å¯ä»¥æ‰“åŒ…ç”Ÿæˆjaræˆ–è€…åœ¨è‡ªå·±çš„é¡¹ç›®é‡Œä½œä¸ºmoduleæ·»åŠ ã€‚</p>
</li>
</ol>
<h2 id="åˆ›å»ºç”Ÿäº§è€…"><a href="#åˆ›å»ºç”Ÿäº§è€…" class="headerlink" title="åˆ›å»ºç”Ÿäº§è€…"></a>åˆ›å»ºç”Ÿäº§è€…</h2><ol>
<li><p>åˆ›å»ºä¸€ä¸ªSpringé¡¹ç›®ï¼Œæ·»åŠ Dubboç­‰çš„ä¾èµ–ï¼ˆpom.xmlï¼‰ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- APIè‡ªå»ºåŒ… --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.dubbo.api<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>0.0.1-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">scope</span>&gt;</span>compile<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- å¼•å…¥dubboç¯å¢ƒ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.alibaba.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>dubbo-spring-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>0.2.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>ä½¿ç”¨@EnableDubboæ³¨è§£å¼€å¯Dubboï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@EnableDubbo</span></span><br><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ProviderApplication</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        SpringApplication.run(ProviderApplication<span class="class">.<span class="keyword">class</span>, <span class="title">args</span>)</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>é…ç½®æ–‡ä»¶ä¸­é…ç½®Dubboï¼ˆapplication.propertiesï¼‰ï¼š</p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">dubbo.application.name=dubbo-provider</span><br><span class="line">dubbo.registry.address=127.0.0.1:2181</span><br><span class="line">dubbo.registry.protocol=zookeeper</span><br><span class="line">dubbo.registry.check=false</span><br><span class="line">dubbo.protocol.name=dubbo</span><br><span class="line">dubbo.protocol.port=30003</span><br><span class="line">dubbo.monitor.protocol=register</span><br><span class="line">dubbo.consumer.check=false</span><br><span class="line">dubbo.consumer.timeout=3000</span><br><span class="line">dubbo.scan.base-packages=com.dubbo.provider</span><br><span class="line">server.port=8061</span><br></pre></td></tr></table></figure>
</li>
<li><p>å®ç°æ¥å£ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CostServiceImpl</span> <span class="keyword">implements</span> <span class="title">CostService</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> Integer totalCost=<span class="number">1200</span>;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Integer <span class="title">add</span><span class="params">(<span class="keyword">int</span> cost)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> totalCost+cost;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h2 id="åˆ›å»ºæ¶ˆè´¹è€…"><a href="#åˆ›å»ºæ¶ˆè´¹è€…" class="headerlink" title="åˆ›å»ºæ¶ˆè´¹è€…"></a>åˆ›å»ºæ¶ˆè´¹è€…</h2><ol>
<li><p>åˆ›å»ºä¸€ä¸ªSpringé¡¹ç›®,æ·»åŠ Dubboç­‰çš„ä¾èµ–ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- APIè‡ªå»ºåŒ… --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.dubbo.api<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>0.0.1-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">scope</span>&gt;</span>compile<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- å¼•å…¥dubboç¯å¢ƒ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.alibaba.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>dubbo-spring-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>0.2.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>ä½¿ç”¨@EnableDubboæ³¨è§£å¼€å¯Dubboï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@EnableDubbo</span></span><br><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ConsumerApplication</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        SpringApplication.run(ConsumerApplication<span class="class">.<span class="keyword">class</span>, <span class="title">args</span>)</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>é…ç½®æ–‡ä»¶ä¸­é…ç½®Dubboï¼ˆapplication.propertiesï¼‰ï¼š</p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">dubbo.application.name=dubbo-consumer</span><br><span class="line">dubbo.registry.address=127.0.0.1:2181</span><br><span class="line">dubbo.registry.protocol=zookeeper</span><br><span class="line">dubbo.registry.check=false</span><br><span class="line">dubbo.monitor.protocol=register</span><br><span class="line">dubbo.consumer.check=false</span><br><span class="line">dubbo.consumer.timeout=3000</span><br><span class="line">server.port=8062</span><br></pre></td></tr></table></figure>
</li>
<li><p>åˆ›å»ºæ¥å£ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">ProductService</span> </span>&#123;</span><br><span class="line">    <span class="function">Integer <span class="title">getCost</span><span class="params">(<span class="keyword">int</span> a)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>è¿œç«¯æœåŠ¡å®ä¾‹åŒ–ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ProductServiceImpl</span> <span class="keyword">implements</span> <span class="title">ProductService</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Reference</span></span><br><span class="line">   <span class="keyword">private</span> CostService costService;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Integer <span class="title">getCost</span><span class="params">(<span class="keyword">int</span> a)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> costService.add(a);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ§åˆ¶å™¨ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ProductController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> ProductService productService;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping</span>(<span class="string">"/add"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getCost</span><span class="params">(<span class="keyword">int</span> a)</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"è¯¥äº§å“å…±æ¶ˆè´¹ï¼š "</span>+productService.getCost(a);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h2 id="Dockeræ³¨å†Œä¸­å¿ƒ"><a href="#Dockeræ³¨å†Œä¸­å¿ƒ" class="headerlink" title="Dockeræ³¨å†Œä¸­å¿ƒ"></a>Dockeræ³¨å†Œä¸­å¿ƒ</h2><ol>
<li><p>ä¸‹è½½å®˜æ–¹é•œåƒï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker pull zookeeper</span><br></pre></td></tr></table></figure>
</li>
<li><p>å®ä¾‹åŒ–zookeeperï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker run -d  -p 2181:2181 -p 2888:2888 -p 3888:3888 --name zook1 zookeeper</span><br></pre></td></tr></table></figure>
</li>
<li><p>Dubboç®¡ç†ä¸­å¿ƒdockerä¸‹è½½ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker pull webuilder/dubboadmin</span><br></pre></td></tr></table></figure>
</li>
<li><p>dubboadmin dockerå®˜æ–¹ç½‘å€ï¼š<a href="https://hub.docker.com/r/webuilder/dubboadmin/" target="_blank" rel="noopener">https://hub.docker.com/r/webuilder/dubboadmin/</a></p>
</li>
<li><p>å®ä¾‹åŒ–dubboadminï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker run -itd -p 8080:8080 --add-host zookeeper-server:172.17.0.2 --link zook1:zook1 webuilder/dubboadmin</span><br></pre></td></tr></table></figure>
</li>
<li><p>zookeeperä»¥åŠdubboadminéƒ½è¿è¡ŒæˆåŠŸçš„è¯å°±å¯ä»¥è®¿é—®ç®¡ç†ç•Œé¢äº†ï¼Œç½‘å€ï¼š<a href="http://127.0.0.1:8080/ï¼Œè´¦æˆ·ï¼šrootï¼Œå¯†ç ï¼šroot" target="_blank" rel="noopener">http://127.0.0.1:8080/ï¼Œè´¦æˆ·ï¼šrootï¼Œå¯†ç ï¼šroot</a></p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/8b62f93bd267cca0ef99e87f636bb414-199091" alt="ç®¡ç†ç•Œé¢"></p>
</li>
</ol>
<h2 id="æµ‹è¯•"><a href="#æµ‹è¯•" class="headerlink" title="æµ‹è¯•"></a>æµ‹è¯•</h2><ol>
<li><p>è¿è¡Œæ¶ˆè´¹è€…æœåŠ¡ï¼Œå¯ä»¥çœ‹ç®¡ç†ç•Œé¢çš„å˜åŒ–ï¼›</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/8cb38b8520f3de6a83c0124e1407f8ad-220283" alt="æ¶ˆè´¹è€…å¯åŠ¨"></p>
</li>
<li><p>è¿è¡Œç”Ÿäº§è€…ï¼Œå†æ¬¡æŸ¥çœ‹ç®¡ç†ç•Œé¢çš„å˜åŒ–ï¼›</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/8e34a4145daca064c3c7818c2b3cc33f-179424" alt="ç”Ÿäº§è€…å¯åŠ¨"></p>
</li>
<li><p>è®¿é—®æ¶ˆè´¹è€…çš„ç½‘å€ï¼š<a href="http://localhost:8062/add?a=1012" target="_blank" rel="noopener">http://localhost:8062/add?a=1012</a></p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/79ab03639c981f0a45ef65309ccbf86f-32682" alt="è®¿é—®æ¶ˆè´¹è€…"></p>
</li>
<li><p>æŸ¥çœ‹zookeeperçŠ¶æ€ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker exec -it zook1 /bin/bash</span><br><span class="line">bin/.zkCli.sh</span><br><span class="line">ls /</span><br></pre></td></tr></table></figure>

<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/a86729b0053a9bc84c837b7b268a7e5a-460406" alt="zookeeperçŠ¶æ€"></p>
</li>
<li><p>åœæ­¢dockerçš„zookeeperå®¹å™¨ï¼Œè™½ç„¶è¿æ¥ä¸ä¸Šæ³¨å†Œä¸­å¿ƒäº†ï¼Œä½†æ˜¯æœåŠ¡è¿˜æ˜¯èƒ½è¿è¡Œï¼</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/45e33e22ce8cdaff7e7a6465f0d1678a-59903" alt="åœæ­¢dockerå®¹å™¨"></p>
</li>
</ol>
]]></content>
      <categories>
        <category>SpringBoot</category>
      </categories>
  </entry>
  <entry>
    <title>SpringBootç®¡ç†å·¥å…·MavenåŸºç¡€å­¦ä¹ </title>
    <url>/2020/07/08/SpringBoot%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7Maven%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>Mavenæ˜¯ä¸€ä¸ªé¡¹ç›®ç®¡ç†å·¥å…·ï¼Œå®ƒåŒ…å«äº†ä¸€ä¸ªé¡¹ç›®å¯¹è±¡æ¨¡å‹ï¼ˆPOMï¼‰ï¼Œä¸€ç»„æ ‡å‡†é›†åˆï¼Œä¸€ä¸ªé¡¹ç›®ç”Ÿå‘½å‘¨æœŸï¼Œä¸€ä¸ªä¾èµ–ç®¡ç†ç³»ç»Ÿå’Œç”¨æ¥è¿è¡Œå®šä¹‰åœ¨ç”Ÿå‘½å‘¨æœŸé˜¶æ®µä¸­æ’ä»¶ç›®æ ‡çš„é€»è¾‘ã€‚SpringBootå¯ä»¥ä½¿ç”¨Mavenæˆ–è€…Gradleæ¥ç®¡ç†é¡¹ç›®ï¼Œåœ¨æœ€åˆæ¥è§¦SpringBootçš„æ—¶å€™ä½¿ç”¨çš„å°±æ˜¯Mavenç®¡ç†å·¥å…·ï¼Œè¿™é‡Œå­¦ä¹ ä¸€ä¸‹Mavenç®¡ç†å·¥å…·ç›¸å…³å†…å®¹ã€‚</p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="Mavenè§£å†³çš„é—®é¢˜"><a href="#Mavenè§£å†³çš„é—®é¢˜" class="headerlink" title="Mavenè§£å†³çš„é—®é¢˜"></a>Mavenè§£å†³çš„é—®é¢˜</h2><ol>
<li>åœ¨é¡¹ç›®ä¸­ç»å¸¸éœ€è¦å¼•å…¥å„ç§jaråŒ…ï¼Œå°¤å…¶æ˜¯æ¯”è¾ƒå¤§çš„å·¥ç¨‹ï¼Œå¼•ç”¨çš„jaråŒ…å¾€å¾€æœ‰å‡ åä¹ƒè‡³ä¸Šç™¾ä¸ªï¼Œæ¯ç”¨åˆ°ä¸€ç§jaråŒ…ï¼Œéƒ½éœ€è¦æ‰‹åŠ¨å¼•å…¥å·¥ç¨‹ç›®å½•ï¼Œè€Œä¸”ç»å¸¸é‡åˆ°å„ç§è®©äººæŠ“ç‹‚çš„jaråŒ…å†²çªï¼Œç‰ˆæœ¬å†²çªç­‰ï¼›</li>
<li>javaä»£ç æ–‡ä»¶çš„ç¼–è¯‘ï¼Œå¦‚æœæ‰‹åŠ¨ä¸€ä¸ªä¸ªç¼–è¯‘ï¼Œç®€ç›´è¦æŠ“ç‹‚äº†ï¼›</li>
<li>å¼€å‘äººå‘˜éœ€è¦å†™ä¸€äº›å•å…ƒæµ‹è¯•ï¼Œç„¶åä¸€ä¸ªä¸ªåœ°è¿è¡Œæ¥æ£€æµ‹ä»£ç è´¨é‡ï¼›</li>
<li>å¼€å‘äººå‘˜éœ€è¦æŠŠä»£ç å’Œå„ç§é…ç½®æ–‡ä»¶ã€èµ„æºæ•´åˆåˆ°ä¸€èµ·ï¼Œå®šå‹æ‰“åŒ…ï¼›</li>
<li>Mavenèƒ½å¸®åŠ©æˆ‘ä»¬æ„å»ºå·¥ç¨‹ï¼Œç®¡ç†jaråŒ…ï¼Œç¼–è¯‘ä»£ç ï¼Œè¿˜èƒ½å¸®æˆ‘ä»¬è‡ªåŠ¨è¿è¡Œå•å…ƒæµ‹è¯•ï¼Œæ‰“åŒ…ï¼Œç”ŸæˆæŠ¥è¡¨ï¼Œç”šè‡³èƒ½å¸®æˆ‘ä»¬éƒ¨ç½²é¡¹ç›®ï¼Œç”Ÿæˆwebç«™ç‚¹ï¼</li>
</ol>
<h2 id="Mavenç»å…¸åº”ç”¨"><a href="#Mavenç»å…¸åº”ç”¨" class="headerlink" title="Mavenç»å…¸åº”ç”¨"></a>Mavenç»å…¸åº”ç”¨</h2><h3 id="ä¾èµ–ç®¡ç†"><a href="#ä¾èµ–ç®¡ç†" class="headerlink" title="ä¾èµ–ç®¡ç†"></a>ä¾èµ–ç®¡ç†</h3><ol>
<li><p>å½“æˆ‘ä»¬è®¾è®¡åˆ°å¤šæ¨¡å—çš„é¡¹ç›®ï¼ˆåŒ…å«æˆåƒä¸Šç™¾ä¸ªæ¨¡å—æˆ–è€…å­é¡¹ç›®ï¼‰ï¼Œç®¡ç†ä¾èµ–å°±ä¼šå˜æˆä¸€é¡¹å›°éš¾çš„ä»»åŠ¡ã€‚Mavenå±•ç¤ºäº†å®ƒå¯¹å¤„ç†è¿™ç§æƒ…å½¢çš„é«˜åº¦æ§åˆ¶ï¼›</p>
</li>
<li><p>Mavenå·¥ç¨‹ä¸­ä¸ç›´æ¥å°†jaråŒ…å¯¼å…¥åˆ°å·¥ç¨‹ä¸­ï¼Œè€Œæ˜¯é€šè¿‡åœ¨pom.xmlæ–‡ä»¶ä¸­æ·»åŠ æ‰€éœ€è¦çš„jaråŒ…çš„åæ ‡ï¼Œé¿å…äº†jaråŒ…çš„ç›´æ¥å¼•å…¥ï¼Œåœ¨éœ€è¦ç”¨åˆ°jaråŒ…çš„æ—¶å€™ï¼Œåªè¦æŸ¥æ‰¾pom.xmlæ–‡ä»¶ ,å†æ ¹æ®pom.xmlæ–‡ä»¶ä¸­çš„åæ ‡ï¼Œåˆ°ä¸€ä¸ªä¸“é—¨ç”¨äºâ€œå­˜æ”¾jaråŒ…çš„ä»“åº“ï¼ˆMavenä»“åº“ï¼‰â€ä¸­æ ¹æ®åæ ‡ä»è€Œæ‰¾åˆ°æ‰€éœ€è¦çš„jaråŒ…ï¼Œå†æ‹¿è¿™äº›jaråŒ…è¿è¡Œå³å¯ï¼</p>
</li>
<li><p>ä¾èµ–ç®¡ç†ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/51e490aab31b3a99a16755c6934269bf-32114" alt="ä¾èµ–ç®¡ç†"></p>
</li>
</ol>
<h3 id="ä¸€é”®æ„å»ºé¡¹ç›®"><a href="#ä¸€é”®æ„å»ºé¡¹ç›®" class="headerlink" title="ä¸€é”®æ„å»ºé¡¹ç›®"></a>ä¸€é”®æ„å»ºé¡¹ç›®</h3><ol>
<li><p>é¡¹ç›®å¼€å‘è¿‡ç¨‹ä¸­æ€»æ˜¯è¿›è¡Œç€ç¼–è¯‘ã€æµ‹è¯•ã€è¿è¡Œã€æ‰“åŒ…ã€å®‰è£…ã€éƒ¨ç½²ç­‰ä¸€ç³»åˆ—è¿‡ç¨‹ï¼›</p>
</li>
<li><p>æ„å»ºæŒ‡çš„æ˜¯é¡¹ç›®ä»ç¼–è¯‘ã€æµ‹è¯•ã€è¿è¡Œã€æ‰“åŒ…ã€å®‰è£…ã€éƒ¨ç½²æ•´ä¸ªè¿‡ç¨‹éƒ½äº¤ç»™Mavenè¿›è¡Œç®¡ç†ï¼›</p>
</li>
<li><p>ä¸€é”®æ„å»ºæŒ‡çš„æ˜¯æ•´ä¸ªæ„å»ºè¿‡ç¨‹ï¼Œä½¿ç”¨Mavenä¸€ä¸ªå‘½ä»¤å°±å¯ä»¥è½»æ¾å®Œæˆæ•´ä¸ªå·¥ä½œï¼›</p>
</li>
<li><p>Mavenæ„å»ºæµç¨‹ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/77d9d75fc6ff713d027f802daa9d969c-25646" alt="Mavenæ„å»ºæµç¨‹"></p>
</li>
</ol>
<h2 id="Mavençš„å…¶ä»–ä¿¡æ¯"><a href="#Mavençš„å…¶ä»–ä¿¡æ¯" class="headerlink" title="Mavençš„å…¶ä»–ä¿¡æ¯"></a>Mavençš„å…¶ä»–ä¿¡æ¯</h2><ol>
<li><p>Mavençš„ç›®å½•ç»“æ„å¦‚ä¸‹ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/0891ba575cfd0744f88b358476f232f3-40089" alt="Mavenç›®å½•ç»“æ„"></p>
</li>
<li><p>æœ¬åœ°çš„é¡¹ç›®éƒ½ä¼šé€šè¿‡Mavenè½¯ä»¶ä»è¿œç¨‹ä»“åº“ï¼ˆå¯ä»¥ç†è§£ä¸ºäº’è”ç½‘ä¸Šçš„ä»“åº“ï¼‰ä¸‹è½½jaråŒ…å¹¶å­˜æ”¾åˆ°æœ¬åœ°ä»“åº“ï¼ˆæœ¬åœ°ä»“åº“å…¶å®å°±æ˜¯æœ¬åœ°çš„ä¸€ä¸ªæ–‡ä»¶å¤¹è€Œå·²ï¼‰ã€‚å½“ç¬¬äºŒæ¬¡éœ€è¦jaråŒ…çš„æ—¶å€™å°±ä¸éœ€è¦å†ä»è¿œç¨‹ä»“åº“ä¸‹è½½äº†ï¼Œå› ä¸ºæœ¬åœ°ä»“åº“å·²ç»å­˜åœ¨äº†ï¼ˆå¯ä»¥å°†æœ¬åœ°ä»“åº“ç†è§£ä¸ºç¼“å­˜ï¼‰ï¼›</p>
</li>
<li><p>ä»“åº“åˆ†ç±»ï¼š</p>
<ul>
<li>è¿œç¨‹ä»“åº“ï¼šå¦‚æœæœ¬åœ°éœ€è¦æ’ä»¶æˆ–è€…jaråŒ…ï¼Œåœ¨æœ¬åœ°ä»“åº“æ²¡æœ‰æ‰¾åˆ°ï¼Œé»˜è®¤ä¼šå»è¿œç¨‹ä»“åº“ä¸‹è½½ã€‚è¿œç¨‹ä»“åº“å¯ä»¥åœ¨äº’è”ç½‘å†…ä¹Ÿå¯ä»¥åœ¨å±€åŸŸç½‘å†…</li>
<li>ä¸­å¤®ä»“åº“ï¼šåœ¨mavenè½¯ä»¶ä¸­å†…ç½®äº†ä¸€ä¸ªè¿œç¨‹ä»“åº“åœ°å€ï¼Œå®ƒæ˜¯ä¸­å¤®ä»“åº“ï¼ŒæœåŠ¡äºæ•´ä¸ªäº’è”ç½‘ï¼Œå®ƒæ˜¯ç”±Mavenå›¢é˜Ÿè‡ªå·±ç»´æŠ¤ï¼Œé‡Œé¢å­˜å‚¨äº†éå¸¸å…¨çš„jaråŒ…ï¼ŒåŒ…å«äº†ä¸–ç•Œä¸Šå¤§éƒ¨åˆ†æµè¡Œçš„å¼€æºé¡¹ç›®ç»„ä»¶</li>
</ul>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/6339375732ed0c74775d2c01db61110d-46648" alt="ä»“åº“åˆ†ç±»"></p>
</li>
<li><p>Mavenå·¥ç¨‹ç›®å½•ç»“æ„ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/9b5eb1e3908db5bb02287e2e7fdcc3ed-43420" alt="Mavenå·¥ç¨‹ç›®å½•ç»“æ„"></p>
</li>
<li><p>Mavené¡¹ç›®æ–‡ä»¶ç›®å½•è¯´æ˜:</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/58d51e7c96c1acf783ae034f24b525b5-51861" alt="Mavené¡¹ç›®æ–‡ä»¶ç›®å½•è¯´æ˜"></p>
</li>
<li><p>MavenåŒ…å«äº†ä¸€ä¸ªé¡¹ç›®å¯¹è±¡æ¨¡å‹ï¼ˆProject Object Modelï¼‰ï¼Œä¸€ç»„æ ‡å‡†é›†åˆï¼Œä¸€ä¸ªé¡¹ç›®ç”Ÿå‘½å‘¨æœŸï¼ˆProject Lifecycleï¼‰ï¼Œä¸€ä¸ªä¾èµ–ç®¡ç†ç³»ç»Ÿï¼ˆDependency Management Systemï¼‰ï¼Œå’Œç”¨æ¥è¿è¡Œå®šä¹‰åœ¨ç”Ÿå‘½å‘¨æœŸé˜¶æ®µä¸­æ’ä»¶ç›®æ ‡çš„é€»è¾‘</p>
<ul>
<li>é¡¹ç›®å¯¹è±¡æ¨¡å‹ï¼šä¸€ä¸ªMavenå·¥ç¨‹éƒ½æœ‰ä¸€ä¸ªpom.xmlï¼Œé€šè¿‡pom.xmlæ–‡ä»¶å®šä¹‰é¡¹ç›®çš„åæ ‡ã€é¡¹ç›®ä¾èµ–ã€é¡¹ç›®ä¿¡æ¯ã€æ’ä»¶ç›®æ ‡ç­‰</li>
<li>ä¾èµ–ç®¡ç†ç³»ç»Ÿï¼šé€šè¿‡Mavençš„ä¾èµ–ç®¡ç†å¯¹é¡¹ç›®æ‰€ä¾èµ–çš„jaråŒ…è¿›è¡Œç»Ÿä¸€ç®¡ç†</li>
<li>ä¸€ä¸ªé¡¹ç›®ç”Ÿå‘½å‘¨æœŸï¼šä½¿ç”¨Mavenå®Œæˆé¡¹ç›®çš„æ„å»ºï¼Œé¡¹ç›®æ„å»ºåŒ…æ‹¬ï¼šæ¸…ç†ã€ç¼–è¯‘ã€æµ‹è¯•ã€éƒ¨ç½²ç­‰è¿‡ç¨‹ï¼ŒMavenå°†è¿™äº›è¿‡ç¨‹è§„èŒƒä¸ºä¸€ä¸ªç”Ÿå‘½å‘¨æœŸ</li>
<li>ä¸€ç»„æ ‡å‡†é›†åˆï¼šMavenå°†æ•´ä¸ªé¡¹ç›®ç®¡ç†è¿‡ç¨‹å®šä¹‰ä¸ºä¸€ç»„æ ‡å‡†ã€‚æ¯”å¦‚ï¼šé€šè¿‡Mavenæ„å»ºå·¥ç¨‹æœ‰æ ‡å‡†çš„ç›®å½•ç»“æ„ï¼Œæœ‰æ ‡å‡†çš„ç”Ÿå‘½å‘¨æœŸé˜¶æ®µï¼Œæœ‰æ ‡å‡†çš„ä¾èµ–ç®¡ç†åæ ‡å®šä¹‰ç­‰</li>
</ul>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/5604719533e44ae67ad5877478d27528-285772" alt="Mavenæ¦‚å¿µæ¨¡å‹"></p>
</li>
<li><p>jaråŒ…çš„åæ ‡åœ¨pom.xmlæ–‡ä»¶ä¸Šå±äºé ä¸Šçš„ä½ç½®ï¼Œè¿™ä¸ªjaråŒ…å°±æ˜¯å…ˆå£°æ˜çš„ã€‚å…ˆå£°æ˜çš„jaråŒ…åæ ‡ä¸‹çš„ä¾èµ–åŒ…ï¼Œå¯ä»¥ä¼˜å…ˆè¿›å…¥é¡¹ç›®ä¸­ï¼›</p>
</li>
<li><p>é¡¹ç›®ä¸­ç›´æ¥å¯¼å…¥çš„jaråŒ…å°±æ˜¯è¯¥é¡¹ç›®çš„ç›´æ¥ä¾èµ–åŒ…ï¼Œé¡¹ç›®ä¸­æ²¡æœ‰ç›´æ¥å¯¼å…¥çš„jaråŒ…ï¼Œå¯ä»¥é€šè¿‡é¡¹ç›®çš„ç›´æ¥ä¾èµ–jaråŒ…ä¼ é€’åˆ°é¡¹ç›®ä¸­ï¼›</p>
</li>
<li><p>pom.xmlä¸­å¯ä»¥ä½¿ç”¨exclusionsæ ‡ç­¾æ¥æ’é™¤ä¾èµ–ï¼›</p>
</li>
<li><p>ä½¿ç”¨&lt;properties&gt;æ ‡ç­¾ã€&lt;dependencyManagement&gt;ã€&lt;depencencies&gt;ã€ELè¡¨è¾¾å¼æ¥è¿›è¡Œç‰ˆæœ¬é”å®šï¼›</p>
</li>
<li><p>Springæ¨¡å—åˆ’åˆ†çš„å¥½å¤„ï¼š</p>
<ul>
<li>åŠŸèƒ½åˆ’åˆ†æ¸…æ™°ï¼Œæ¨¡å—åŒ–å¼€å‘</li>
<li>ä½¿ç”¨è€…ä¸éœ€è¦å°†æ•´ä¸ªSpringå®Œå…¨å¯¼å…¥åˆ°æœ¬é¡¹ç›®ä¸­ï¼Œéœ€è¦å“ªä¸ªæ¨¡å—å°±å¯¼å…¥å“ªä¸ªæ¨¡å—</li>
</ul>
</li>
<li><p>ä¿®æ”¹SpringBooté…ç½®ï¼Œä½¿å¾—æ‰“åŒ…è¿‡ç¨‹è·³è¿‡æµ‹è¯•æ­¥éª¤ï¼Œä¿®æ”¹pom.xmlæ–‡ä»¶ï¼Œåœ¨ <strong>properties</strong> èŠ‚ç‚¹ä¸­å¢åŠ  <strong>skipTests</strong> è®¾ç½®å³å¯ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">java.version</span>&gt;</span>11<span class="tag">&lt;/<span class="name">java.version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">skipTests</span>&gt;</span>true<span class="tag">&lt;/<span class="name">skipTests</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br></pre></td></tr></table></figure>

</li>
</ol>
<hr>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>Mavenç®¡ç†é¡¹ç›®è¿˜æ˜¯æŒºç®€å•çš„ï¼Œå¯ä»¥åœ¨ç®¡ç†ä»“åº“ä¸­æœç´¢ä¾èµ–ï¼Œæœç´¢ç½‘å€ä¸ºï¼š<a href="https://search.maven.org/ï¼Œä¸Šè¿°ä»‹ç»çš„çŸ¥è¯†è¿˜æ˜¯æ¯”è¾ƒåŸºç¡€çš„ï¼Œéœ€è¦äº†è§£ä¸€ä¸‹ï¼Œèƒ½æ›´å¥½çš„å¸®åŠ©æˆ‘ä»¬ç®¡ç†è‡ªå·±çš„å·¥ç¨‹" target="_blank" rel="noopener">https://search.maven.org/ï¼Œä¸Šè¿°ä»‹ç»çš„çŸ¥è¯†è¿˜æ˜¯æ¯”è¾ƒåŸºç¡€çš„ï¼Œéœ€è¦äº†è§£ä¸€ä¸‹ï¼Œèƒ½æ›´å¥½çš„å¸®åŠ©æˆ‘ä»¬ç®¡ç†è‡ªå·±çš„å·¥ç¨‹</a></p>
]]></content>
      <categories>
        <category>Java</category>
      </categories>
  </entry>
  <entry>
    <title>SpringBootç®¡ç†Dockerå¿«é€Ÿå…¥é—¨</title>
    <url>/2020/08/26/SpringBoot%E7%AE%A1%E7%90%86Docker%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>Dockeræä¾›äº†Remote APIï¼Œå¯ä»¥é€šè¿‡RESTæ¥å£è¿›è¡ŒDockeræœåŠ¡çš„æ§åˆ¶ï¼ŒåŒ…æ‹¬pull/pushç­‰æ‰€æœ‰æ“ä½œï¼Œç»“æœä¸æœ¬æœºçš„æ“ä½œå®Œå…¨ä¸€æ ·ã€‚ä½¿ç”¨Docker Remote APIå¯ä»¥é€šè¿‡è„šæœ¬è¿›è¡ŒDockeré›†ç¾¤çš„è‡ªåŠ¨åŒ–æ§åˆ¶ã€‚åœ¨SpringBooté¡¹ç›®ä¸­å¯ä»¥é€šè¿‡å¼•å…¥Docker-Javaç›¸å…³çš„ä¾èµ–ç„¶åå°±å¯ä»¥è¿›è¡ŒDockerçš„ç®¡ç†ï¼Œæœ¬æ–‡ä¸»è¦è®°å½•å¦‚ä½•åœ¨Macä¸Šå¼€å¯Docker Remote APIä»¥åŠä½¿ç”¨Docker-Javaè¿›è¡ŒDockerçš„ç®¡ç†ã€‚</p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="åŸºæœ¬ç”¨æ³•"><a href="#åŸºæœ¬ç”¨æ³•" class="headerlink" title="åŸºæœ¬ç”¨æ³•"></a>åŸºæœ¬ç”¨æ³•</h2><ol>
<li><p>è¿æ¥æœåŠ¡å™¨ã€è·å–ä¿¡æ¯ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// è¿æ¥dockeræœåŠ¡å™¨</span></span><br><span class="line">DockerClient dockerClient = DockerClientBuilder</span><br><span class="line">  .getInstance(<span class="string">"tcp://localhost:2375"</span>).build();</span><br><span class="line"></span><br><span class="line"><span class="comment">// è·å–æœåŠ¡å™¨ä¿¡æ¯</span></span><br><span class="line">Info info = dockerClient.infoCmd().exec();</span><br></pre></td></tr></table></figure>
</li>
<li><p>è·å–æœåŠ¡å™¨ä¸Šæ‰€æœ‰çš„é•œåƒï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// è·å–æœåŠ¡å™¨ä¸Šçš„é•œåƒ</span></span><br><span class="line">List&lt;Image&gt; images = dockerClient.listImagesCmd().exec();</span><br><span class="line"><span class="keyword">for</span>(Image image : images) &#123;</span><br><span class="line">    System.out.println(image.getRepoTags()[<span class="number">0</span>]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>åˆ¤æ–­æœåŠ¡å™¨ä¸Šæ˜¯å¦å­˜åœ¨æŸä¸ªé•œåƒï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ç­›é€‰æœåŠ¡å™¨ä¸Šçš„é•œåƒ</span></span><br><span class="line">List&lt;Image&gt; images = dockerClient.listImagesCmd().withImageNameFilter(<span class="string">"busybox"</span>).exec();</span><br><span class="line"><span class="keyword">if</span> (images.isEmpty()) &#123;</span><br><span class="line">    System.out.println(<span class="string">"ä¸å­˜åœ¨ busybox é•œåƒã€‚"</span>);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    System.out.println(<span class="string">"å­˜åœ¨ busybox é•œåƒã€‚"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>æœç´¢é•œåƒï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// æœç´¢é•œåƒ</span></span><br><span class="line">List&lt;SearchItem&gt; dockerSearch = dockerClient.searchImagesCmd(<span class="string">"busybox"</span>).exec();</span><br><span class="line"><span class="keyword">for</span>(SearchItem item : dockerSearch) &#123;</span><br><span class="line">    System.out.println(item.getName());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä¸‹è½½é•œåƒï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">dockerClient.pullImageCmd(<span class="string">"busybox:latest"</span>).exec(<span class="keyword">new</span> ResultCallback&lt;PullResponseItem&gt;() &#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onStart</span><span class="params">(Closeable closeable)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"å¼€å§‹ä¸‹è½½!"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onNext</span><span class="params">(PullResponseItem object)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// å®æ—¶æ˜¾ç¤ºå‡ºä¸‹è½½ä¿¡æ¯</span></span><br><span class="line">        System.out.println(object.getStatus());</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onError</span><span class="params">(Throwable throwable)</span> </span>&#123;</span><br><span class="line">        throwable.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onComplete</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"ä¸‹è½½å®Œæ¯•!"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">close</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line"> </span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
</li>
<li><p>åˆ é™¤é•œåƒï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// åˆ é™¤é•œåƒ</span></span><br><span class="line">dockerClient.removeImageCmd(<span class="string">"busybox"</span>).exec();</span><br><span class="line">System.out.println(<span class="string">"åˆ é™¤å®Œæ¯•"</span>);</span><br></pre></td></tr></table></figure>
</li>
<li><p>åˆ›å»ºã€è¿è¡Œå®¹å™¨ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//åˆ›å»ºå®¹å™¨</span></span><br><span class="line">CreateContainerResponse container1 = dockerClient.createContainerCmd(<span class="string">"httpd:latest"</span>)</span><br><span class="line">        .withName(<span class="string">"hangge_http_server"</span>) <span class="comment">//ç»™å®¹å™¨å‘½å</span></span><br><span class="line">        .withPortBindings(PortBinding.parse(<span class="string">"8080:80"</span>)) <span class="comment">//Apacheç«¯å£æ˜¯80ï¼Œæ˜ å°„åˆ°ä¸»æœºçš„8080ç«¯å£</span></span><br><span class="line">        .withBinds(Bind.parse(<span class="string">"/home/user/htdocs:/usr/local/apache2/htdocs"</span>)) <span class="comment">//ç›®å½•æŒ‚è½½</span></span><br><span class="line">        .exec();</span><br><span class="line"> </span><br><span class="line"><span class="comment">//è¿è¡Œå®¹å™¨</span></span><br><span class="line">dockerClient.startContainerCmd(container1.getId()).exec();</span><br></pre></td></tr></table></figure>
</li>
<li><p>è¿›å…¥å®¹å™¨æ‰§è¡Œå‘½ä»¤ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// åˆ›å»ºå‘½ä»¤</span></span><br><span class="line">ExecCreateCmdResponse execCreateCmdResponse = dockerClient.execCreateCmd(container1.getId())</span><br><span class="line">        .withAttachStdout(<span class="keyword">true</span>)</span><br><span class="line">        .withAttachStderr(<span class="keyword">true</span>)</span><br><span class="line">        .withCmd(<span class="string">"bash"</span>, <span class="string">"-c"</span>, <span class="string">"ls"</span>) <span class="comment">//å½“å‰ç›®å½•ä¸‹åˆ—å‡ºæ‰€æœ‰æ–‡ä»¶</span></span><br><span class="line">        .exec();</span><br><span class="line"> </span><br><span class="line"><span class="comment">// æ‰§è¡Œå‘½ä»¤</span></span><br><span class="line">dockerClient.execStartCmd(execCreateCmdResponse.getId()).exec(</span><br><span class="line">        <span class="keyword">new</span> ExecStartResultCallback(System.out, System.err));</span><br></pre></td></tr></table></figure>
</li>
<li><p>è·å–æœåŠ¡å™¨ä¸Šæ‰€æœ‰è¿è¡Œçš„å®¹å™¨ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//è·å–æ‰€æœ‰è¿è¡Œçš„å®¹å™¨</span></span><br><span class="line">List&lt;Container&gt; containers = dockerClient.listContainersCmd().exec();</span><br><span class="line"><span class="keyword">for</span> (Container container: containers)&#123;</span><br><span class="line">    System.out.println(container.getId() + <span class="string">": "</span> + container.getNames()[<span class="number">0</span>]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>è·å–æœåŠ¡å™¨ä¸Šæ‰€æœ‰è¿è¡Œç»“æŸçš„å®¹å™¨ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//è·å–æ‰€æœ‰è¿è¡Œçš„å®¹å™¨</span></span><br><span class="line">List&lt;Container&gt; containers = dockerClient.listContainersCmd().withStatusFilter(<span class="string">"exited"</span>).exec();</span><br><span class="line"><span class="keyword">for</span> (Container container: containers)&#123;</span><br><span class="line">    System.out.println(container.getId() + <span class="string">": "</span> + container.getNames()[<span class="number">0</span>]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>è·å–æŒ‡å®šåå­—çš„å®¹å™¨ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//è·å–æŒ‡å®šåå­—çš„å®¹å™¨</span></span><br><span class="line">ListContainersCmd listContainersCmd = dockerClient.listContainersCmd();</span><br><span class="line">listContainersCmd.getFilters().put(<span class="string">"name"</span>, Arrays.asList(<span class="string">"jenkins"</span>));</span><br><span class="line">List&lt;Container&gt; containers = listContainersCmd.exec();</span><br><span class="line"><span class="keyword">for</span> (Container container: containers)&#123;</span><br><span class="line">    System.out.println(container.getId() + <span class="string">": "</span> + container.getNames()[<span class="number">0</span>]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>åœæ­¢ã€é‡å¯ã€æš‚åœ/æ¢å¤ã€åˆ é™¤å®¹å™¨ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// åœæ­¢å®¹å™¨</span></span><br><span class="line">dockerClient.stopContainerCmd(container1.getId()).exec();</span><br><span class="line"> </span><br><span class="line"><span class="comment">// é‡å¯å®¹å™¨</span></span><br><span class="line">dockerClient.restartContainerCmd(container1.getId()).exec();</span><br><span class="line"> </span><br><span class="line"><span class="comment">// æš‚åœå®¹å™¨</span></span><br><span class="line">dockerClient.pauseContainerCmd(container1.getId()).exec();</span><br><span class="line"> </span><br><span class="line"><span class="comment">// æ¢å¤å®¹å™¨</span></span><br><span class="line">dockerClient.unpauseContainerCmd(container1.getId()).exec();</span><br><span class="line"> </span><br><span class="line"><span class="comment">// åˆ é™¤å®¹å™¨</span></span><br><span class="line">dockerClient.removeContainerCmd(container1.getId()).exec();</span><br></pre></td></tr></table></figure>
</li>
<li><p>åˆ›å»ºä¸€ä¸ªåä¸º java-docker-mssql çš„è‡ªå®šä¹‰ç½‘ç»œï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">CreateNetworkResponse networkResponse = dockerClient.createNetworkCmd()</span><br><span class="line">        .withName(<span class="string">"java-docker-mssql"</span>)</span><br><span class="line">        .withDriver(<span class="string">"bridge"</span>).exec();</span><br></pre></td></tr></table></figure>
</li>
<li><p>è¿è¡Œå®¹å™¨çš„æ—¶å€™ä½¿ç”¨ java-docker-mssql è¿™ä¸ªè‡ªå®šä¹‰ç½‘ç»œï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//åˆ›å»ºå®¹å™¨</span></span><br><span class="line">CreateContainerResponse container1 = dockerClient.createContainerCmd(<span class="string">"busybox"</span>)</span><br><span class="line">        .withNetworkMode(<span class="string">"java-docker-mssql"</span>) <span class="comment">//è®¾ç½®ç½‘ç»œ</span></span><br><span class="line">        .exec();</span><br><span class="line"> </span><br><span class="line"><span class="comment">//è¿è¡Œå®¹å™¨</span></span><br><span class="line">dockerClient.startContainerCmd(container1.getId()).exec();</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h2 id="Macå¼€å¯Docker-Remote-API"><a href="#Macå¼€å¯Docker-Remote-API" class="headerlink" title="Macå¼€å¯Docker Remote API"></a>Macå¼€å¯Docker Remote API</h2><h3 id="socat"><a href="#socat" class="headerlink" title="socat"></a>socat</h3><ol>
<li><p>å®‰è£…socatï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">brew install socat</span><br></pre></td></tr></table></figure>
</li>
<li><p>å¯åŠ¨socatï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">socat -d TCP-LISTEN:2375,range=127.0.0.1/32,reuseaddr,fork UNIX:/var/run/docker.sock</span><br></pre></td></tr></table></figure>
</li>
<li><p>å¼€æ”¾å…¨éƒ¨ç«¯å£ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">socat -d TCP-LISTEN:2375,reuseaddr,fork UNIX:/var/run/docker.sock</span><br></pre></td></tr></table></figure>
</li>
<li><p>æµ‹è¯•ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">curl localhost:2375/version</span><br><span class="line"><span class="meta">#</span><span class="bash"> è¾“å‡º</span></span><br><span class="line">&#123;"Platform":&#123;"Name":"Docker Engine - Community"&#125;,"Components":[&#123;"Name":"Engine","Version":"19.03.12","Details":&#123;"ApiVersion":"1.40","Arch":"amd64","BuildTime":"2020-06-22T15:49:27.000000000+00:00","Experimental":"false","GitCommit":"48a66213fe","GoVersion":"go1.13.10","KernelVersion":"4.19.76-linuxkit","MinAPIVersion":"1.12","Os":"linux"&#125;&#125;,&#123;"Name":"containerd","Version":"v1.2.13","Details":&#123;"GitCommit":"7ad184331fa3e55e52b890ea95e65ba581ae3429"&#125;&#125;,&#123;"Name":"runc","Version":"1.0.0-rc10","Details":&#123;"GitCommit":"dc9208a3303feef5b3839f4323d9beb36df0a9dd"&#125;&#125;,&#123;"Name":"docker-init","Version":"0.18.0","Details":&#123;"GitCommit":"fec3683"&#125;&#125;],"Version":"19.03.12","ApiVersion":"1.40","MinAPIVersion":"1.12","GitCommit":"48a66213fe","GoVersion":"go1.13.10","Os":"linux","Arch":"amd64","KernelVersion":"4.19.76-linuxkit","BuildTime":"2020-06-22T15:49:27.000000000+00:00"&#125;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h3 id="Docker"><a href="#Docker" class="headerlink" title="Docker"></a>Docker</h3><ol>
<li><p>ä¸‹è½½é•œåƒï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker pull bobrik/socat</span><br><span class="line">docker pull shipyard/docker-proxy</span><br></pre></td></tr></table></figure>
</li>
<li><p>åˆ›å»ºé•œåƒbobrik/socatå®ä¾‹ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker run -d -v /var/run/docker.sock:/var/run/docker.sock -p 2375:2375 \</span><br><span class="line"> bobrik/socat TCP4-LISTEN:2375,fork,reuseaddr UNIX-CONNECT:/var/run/docker.sock</span><br></pre></td></tr></table></figure>
</li>
<li><p>åˆ›å»ºé•œåƒshipyard/docker-proxyå®ä¾‹ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker run -p 2375:2375 -v /var/run/docker.sock:/var/run/docker.sock \</span><br><span class="line"> -d -e PORT=2375 shipyard/docker-proxy</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ³¨æ„ï¼šä¸Šè¿°ä¸¤ä¸ªé•œåƒåªè¦å¯åŠ¨å…¶ä¸­çš„ä¸€ä¸ªå³å¯ï¼ŒåŠŸèƒ½éƒ½æ˜¯ä¸€æ ·çš„ï¼</p>
</li>
<li><p>æµ‹è¯•ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">curl localhost:2375/version</span><br><span class="line"><span class="meta">#</span><span class="bash"> è¾“å‡º</span></span><br><span class="line">&#123;"Platform":&#123;"Name":"Docker Engine - Community"&#125;,"Components":[&#123;"Name":"Engine","Version":"19.03.12","Details":&#123;"ApiVersion":"1.40","Arch":"amd64","BuildTime":"2020-06-22T15:49:27.000000000+00:00","Experimental":"false","GitCommit":"48a66213fe","GoVersion":"go1.13.10","KernelVersion":"4.19.76-linuxkit","MinAPIVersion":"1.12","Os":"linux"&#125;&#125;,&#123;"Name":"containerd","Version":"v1.2.13","Details":&#123;"GitCommit":"7ad184331fa3e55e52b890ea95e65ba581ae3429"&#125;&#125;,&#123;"Name":"runc","Version":"1.0.0-rc10","Details":&#123;"GitCommit":"dc9208a3303feef5b3839f4323d9beb36df0a9dd"&#125;&#125;,&#123;"Name":"docker-init","Version":"0.18.0","Details":&#123;"GitCommit":"fec3683"&#125;&#125;],"Version":"19.03.12","ApiVersion":"1.40","MinAPIVersion":"1.12","GitCommit":"48a66213fe","GoVersion":"go1.13.10","Os":"linux","Arch":"amd64","KernelVersion":"4.19.76-linuxkit","BuildTime":"2020-06-22T15:49:27.000000000+00:00"&#125;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h2 id="åŠ¨æ‰‹å®æ“"><a href="#åŠ¨æ‰‹å®æ“" class="headerlink" title="åŠ¨æ‰‹å®æ“"></a>åŠ¨æ‰‹å®æ“</h2><ol>
<li><p>docker-java æ˜¯ Dockerçš„ Java ç‰ˆæœ¬ APIï¼›</p>
</li>
<li><p>åˆ›å»ºä¸€ä¸ªSpringBooté¡¹ç›®ï¼Œæ·»åŠ Dockerå¼€å‘ç›¸å…³çš„ä¾èµ–ï¼ˆpom.xmlï¼‰ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--docker client begin--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.github.docker-java<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>docker-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.0.14<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.ws.rs<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>javax.ws.rs-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.glassfish.jersey.inject<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jersey-hk2<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.26<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--docker client end--&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>åˆ›å»ºæ§åˆ¶å™¨ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HelloController</span> </span>&#123;</span><br><span class="line">    <span class="meta">@RequestMapping</span>(<span class="string">"/test"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">// è¿æ¥dockeræœåŠ¡å™¨</span></span><br><span class="line">        DockerClient dockerClient = DockerClientBuilder</span><br><span class="line">                .getInstance(<span class="string">"tcp://localhost:2375"</span>).build();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// è·å–æœåŠ¡å™¨ä¿¡æ¯</span></span><br><span class="line">        Info info = dockerClient.infoCmd().exec();</span><br><span class="line"></span><br><span class="line">        System.out.println(info.toString());</span><br><span class="line">        <span class="keyword">return</span> info.toString();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping</span>(<span class="string">"/images"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">images</span><span class="params">()</span></span>&#123;</span><br><span class="line">        DockerClient dockerClient = DockerClientBuilder</span><br><span class="line">                .getInstance(<span class="string">"tcp://localhost:2375"</span>).build();</span><br><span class="line">        List&lt;Image&gt; images = dockerClient.listImagesCmd().exec();</span><br><span class="line">        <span class="keyword">for</span>(Image image : images) &#123;</span><br><span class="line">            System.out.println(image.getRepoTags()[<span class="number">0</span>]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@RequestMapping</span>(<span class="string">"/exist"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">imagesexist</span><span class="params">()</span></span>&#123;</span><br><span class="line">        DockerClient dockerClient = DockerClientBuilder</span><br><span class="line">                .getInstance(<span class="string">"tcp://localhost:2375"</span>).build();</span><br><span class="line">        List&lt;Image&gt; images = dockerClient.listImagesCmd().withImageNameFilter(<span class="string">"jenkins"</span>).exec();</span><br><span class="line">        <span class="keyword">if</span> (images.isEmpty()) &#123;</span><br><span class="line">            System.out.println(<span class="string">"ä¸å­˜åœ¨ jenkins é•œåƒã€‚"</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">"å­˜åœ¨ jenkins é•œåƒã€‚"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@RequestMapping</span>(<span class="string">"/search"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">imagesearch</span><span class="params">()</span></span>&#123;</span><br><span class="line">        DockerClient dockerClient = DockerClientBuilder</span><br><span class="line">                .getInstance(<span class="string">"tcp://localhost:2375"</span>).build();</span><br><span class="line">        List&lt;SearchItem&gt; dockerSearch = dockerClient.searchImagesCmd(<span class="string">"busybox"</span>).exec();</span><br><span class="line">        <span class="keyword">for</span>(SearchItem item : dockerSearch) &#123;</span><br><span class="line">            System.out.println(item.getName());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@RequestMapping</span>(<span class="string">"/download"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">imageload</span><span class="params">()</span></span>&#123;</span><br><span class="line">        DockerClient dockerClient = DockerClientBuilder</span><br><span class="line">                .getInstance(<span class="string">"tcp://localhost:2375"</span>).build();</span><br><span class="line">        dockerClient.pullImageCmd(<span class="string">"busybox:latest"</span>).exec(<span class="keyword">new</span> ResultCallback&lt;PullResponseItem&gt;() &#123;</span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onStart</span><span class="params">(Closeable closeable)</span> </span>&#123;</span><br><span class="line">                System.out.println(<span class="string">"å¼€å§‹ä¸‹è½½!"</span>);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onNext</span><span class="params">(PullResponseItem object)</span> </span>&#123;</span><br><span class="line">                <span class="comment">// å®æ—¶æ˜¾ç¤ºå‡ºä¸‹è½½ä¿¡æ¯</span></span><br><span class="line">                System.out.println(object.getStatus());</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onError</span><span class="params">(Throwable throwable)</span> </span>&#123;</span><br><span class="line">                throwable.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onComplete</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                System.out.println(<span class="string">"ä¸‹è½½å®Œæ¯•!"</span>);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">close</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@RequestMapping</span>(<span class="string">"/delete"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">imagedelete</span><span class="params">()</span></span>&#123;</span><br><span class="line">        DockerClient dockerClient = DockerClientBuilder</span><br><span class="line">                .getInstance(<span class="string">"tcp://localhost:2375"</span>).build();</span><br><span class="line">        <span class="comment">// åˆ é™¤é•œåƒ</span></span><br><span class="line">        dockerClient.removeImageCmd(<span class="string">"busybox"</span>).exec();</span><br><span class="line">        System.out.println(<span class="string">"åˆ é™¤å®Œæ¯•"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@RequestMapping</span>(<span class="string">"/run"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">imagerun</span><span class="params">()</span></span>&#123;</span><br><span class="line">        DockerClient dockerClient = DockerClientBuilder</span><br><span class="line">                .getInstance(<span class="string">"tcp://localhost:2375"</span>).build();</span><br><span class="line"><span class="comment">//åˆ›å»ºå®¹å™¨</span></span><br><span class="line">        CreateContainerResponse container1 = dockerClient.createContainerCmd(<span class="string">"nginx:latest"</span>)</span><br><span class="line">                .withName(<span class="string">"nginx"</span>) <span class="comment">//ç»™å®¹å™¨å‘½å</span></span><br><span class="line">                .withPortBindings(PortBinding.parse(<span class="string">"8081:80"</span>)) <span class="comment">//Apacheç«¯å£æ˜¯80ï¼Œæ˜ å°„åˆ°ä¸»æœºçš„8080ç«¯å£</span></span><br><span class="line">              <span class="comment">//  .withBinds(Bind.parse("/home/user/htdocs:/usr/local/apache")) //ç›®å½•æŒ‚è½½</span></span><br><span class="line">                .exec();</span><br><span class="line"></span><br><span class="line"><span class="comment">//è¿è¡Œå®¹å™¨</span></span><br><span class="line">        dockerClient.startContainerCmd(container1.getId()).exec();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@RequestMapping</span>(<span class="string">"/exec"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">imageexec</span><span class="params">()</span></span>&#123;</span><br><span class="line">        DockerClient dockerClient = DockerClientBuilder</span><br><span class="line">                .getInstance(<span class="string">"tcp://localhost:2375"</span>).build();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//åˆ›å»ºå®¹å™¨</span></span><br><span class="line">        CreateContainerResponse container1 = dockerClient.createContainerCmd(<span class="string">"nginx:latest"</span>)</span><br><span class="line">                .withName(<span class="string">"nginx"</span>) <span class="comment">//ç»™å®¹å™¨å‘½å</span></span><br><span class="line">                .withPortBindings(PortBinding.parse(<span class="string">"8081:80"</span>)) <span class="comment">//Apacheç«¯å£æ˜¯80ï¼Œæ˜ å°„åˆ°ä¸»æœºçš„8080ç«¯å£</span></span><br><span class="line">                <span class="comment">//  .withBinds(Bind.parse("/home/user/htdocs:/usr/local/apache")) //ç›®å½•æŒ‚è½½</span></span><br><span class="line">                .exec();</span><br><span class="line"></span><br><span class="line"><span class="comment">//è¿è¡Œå®¹å™¨</span></span><br><span class="line">        dockerClient.startContainerCmd(container1.getId()).exec();</span><br><span class="line"><span class="comment">// åˆ›å»ºå‘½ä»¤</span></span><br><span class="line">        ExecCreateCmdResponse execCreateCmdResponse = dockerClient.execCreateCmd(container1.getId())</span><br><span class="line">                .withAttachStdout(<span class="keyword">true</span>)</span><br><span class="line">                .withAttachStderr(<span class="keyword">true</span>)</span><br><span class="line">                .withCmd(<span class="string">"bash"</span>, <span class="string">"-c"</span>, <span class="string">"ls"</span>) <span class="comment">//å½“å‰ç›®å½•ä¸‹åˆ—å‡ºæ‰€æœ‰æ–‡ä»¶</span></span><br><span class="line">                .exec();</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ‰§è¡Œå‘½ä»¤</span></span><br><span class="line">        dockerClient.execStartCmd(execCreateCmdResponse.getId()).exec(</span><br><span class="line">                <span class="keyword">new</span> ExecStartResultCallback(System.out, System.err));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping</span>(<span class="string">"/list"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">containerlist</span><span class="params">()</span></span>&#123;</span><br><span class="line">        DockerClient dockerClient = DockerClientBuilder</span><br><span class="line">                .getInstance(<span class="string">"tcp://localhost:2375"</span>).build();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//è·å–æ‰€æœ‰è¿è¡Œçš„å®¹å™¨</span></span><br><span class="line">        List&lt;Container&gt; containers = dockerClient.listContainersCmd().withStatusFilter(<span class="string">"exited"</span>).exec();</span><br><span class="line">        <span class="keyword">for</span> (Container container: containers)&#123;</span><br><span class="line">            System.out.println(container.getId() + <span class="string">": "</span> + container.getNames()[<span class="number">0</span>]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping</span>(<span class="string">"/some"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">containerlistsome</span><span class="params">()</span></span>&#123;</span><br><span class="line">        DockerClient dockerClient = DockerClientBuilder</span><br><span class="line">                .getInstance(<span class="string">"tcp://localhost:2375"</span>).build();</span><br><span class="line"></span><br><span class="line">        ListContainersCmd listContainersCmd = dockerClient.listContainersCmd();</span><br><span class="line">        listContainersCmd.getFilters().put(<span class="string">"name"</span>, Arrays.asList(<span class="string">"nginx"</span>));</span><br><span class="line">        List&lt;Container&gt; containers = listContainersCmd.exec();</span><br><span class="line">        <span class="keyword">for</span> (Container container: containers)&#123;</span><br><span class="line">            System.out.println(container.getId() + <span class="string">": "</span> + container.getNames()[<span class="number">0</span>]);</span><br><span class="line">            <span class="comment">// åœæ­¢å®¹å™¨</span></span><br><span class="line">            dockerClient.stopContainerCmd(container.getId()).exec();</span><br><span class="line">            dockerClient.removeContainerCmd(container.getId()).exec();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>å¯åŠ¨é¡¹ç›®å³å¯æµ‹è¯•ï¼</p>
</li>
</ol>
]]></content>
      <categories>
        <category>SpringBoot</category>
      </categories>
  </entry>
  <entry>
    <title>SpringBootè¿œç¨‹è®¿é—®httpæœåŠ¡æ–¹æ³•æ±‡æ€»</title>
    <url>/2020/08/07/SpringBoot%E8%BF%9C%E7%A8%8B%E8%AE%BF%E9%97%AEhttp%E6%9C%8D%E5%8A%A1%E6%96%B9%E6%B3%95%E6%B1%87%E6%80%BB/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>è¿›è¡Œå¾®æœåŠ¡å¼€å‘æ—¶ï¼Œå¯ä»¥ä½¿ç”¨@Controllerä»¥åŠ@RestControlleræ³¨è§£æ¥å¯¹å¤–æä¾›æœåŠ¡ï¼Œä½†æ˜¯ä¹Ÿé¿å…ä¸äº†è¦ä½¿ç”¨HTTPå®¢æˆ·ç«¯è®¿é—®å…¶ä»–æœåŠ¡æä¾›è€…è·å–ä¸€äº›å†…å®¹ã€‚åœ¨Springä¸­æœ‰å¾ˆå¤šå°è£…å¥½çš„å·¥å…·æ¥è¿›è¡ŒHTTPå†…å®¹è·å–ï¼Œæœ¬æ–‡å°†è®°å½•è¿™äº›è®¿é—®æ–¹æ³•ï¼Œå¹¶å¯¹å„ç§æ–¹æ³•çš„ä¼˜åŠ£è¿›è¡Œåˆ†æã€‚</p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="RestTemplate"><a href="#RestTemplate" class="headerlink" title="RestTemplate"></a>RestTemplate</h2><h3 id="åŸºç¡€çŸ¥è¯†"><a href="#åŸºç¡€çŸ¥è¯†" class="headerlink" title="åŸºç¡€çŸ¥è¯†"></a>åŸºç¡€çŸ¥è¯†</h3><ol>
<li><p>RestTemplateæ˜¯Springæä¾›çš„ç”¨äºè®¿é—®RestæœåŠ¡çš„å®¢æˆ·ç«¯ï¼ŒRestTemplateæä¾›äº†å¤šç§ä¾¿æ·è®¿é—®è¿œç¨‹HTTPæœåŠ¡çš„æ–¹æ³•ï¼Œç®€åŒ–äº†å¼€å‘äººå‘˜ä¸HTTPæœåŠ¡çš„é€šä¿¡æ–¹å¼ï¼Œç»Ÿä¸€äº†RESTfulå¾—åˆ°æ ‡å‡†ï¼Œå°è£…äº†HTTPé“¾æ¥ï¼›</p>
</li>
<li><p>ç›¸è¾ƒäºä¹‹å‰å¸¸ç”¨çš„ HttpClientï¼ŒRestTemplate æ˜¯ä¸€ç§æ›´ä¼˜é›…çš„è°ƒç”¨ RESTful æœåŠ¡çš„æ–¹å¼ï¼›</p>
</li>
<li><p>RestTemplate é»˜è®¤ä¾èµ–JDKçš„HTTPè¿æ¥å·¥å…·(HttpURLConnection)ï¼Œå¦‚æœæœ‰éœ€è¦çš„è¯ä¹Ÿå¯ä»¥é€šè¿‡setRequestFactoryæ–¹æ³•æ›¿æ¢ä¸ºä¾‹å¦‚ Apache HttpComponentsã€Nettyæˆ–OkHttpç­‰å…¶å®ƒHTTPåº“ï¼›</p>
</li>
<li><p>RestTemplateé»˜è®¤ä½¿ç”¨HttpMessageConverterå®ä¾‹å°†HTTPæ¶ˆæ¯è½¬æ¢æˆPOJOæˆ–è€…ä»POJOè½¬æ¢æˆHTTPæ¶ˆæ¯ï¼›</p>
</li>
<li><p>RestTemplateæ˜¯Springçš„ä¸€ä¸ªRESTfulå®¢æˆ·ç«¯ï¼Œåªè¦åŒ…å«äº†spring-webå°±å¯ä»¥åœ¨é¡¹ç›®ä¸­ä½¿ç”¨äº†ï¼›</p>
</li>
<li><p>RestTemplateä½¿ç”¨æµç¨‹ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/873f83a509d8f64d97aae2480b87008b-155759" alt="RestTemplateä½¿ç”¨æµç¨‹"></p>
</li>
<li><p>ä¸»è¦æ–¹æ³•ï¼š</p>
<table>
<thead>
<tr>
<th>HTTPMethod</th>
<th>RestTemplate Method</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>Post</td>
<td><strong>postForLocation</strong></td>
<td>POST æ•°æ®åˆ°ä¸€ä¸ªURLï¼Œè¿”å›æ–°åˆ›å»ºèµ„æºçš„URL</td>
</tr>
<tr>
<td>Post</td>
<td><strong>postForEntity</strong></td>
<td>POST æ•°æ®åˆ°ä¸€ä¸ªURLï¼Œè¿”å›åŒ…å«ä¸€ä¸ªå¯¹è±¡çš„ResponseEntity</td>
</tr>
<tr>
<td>Post</td>
<td><strong>postForObject</strong></td>
<td>POST æ•°æ®åˆ°ä¸€ä¸ªURLï¼Œè¿”å›æ ¹æ®å“åº”ä½“åŒ¹é…å½¢æˆçš„å¯¹è±¡</td>
</tr>
<tr>
<td>Get</td>
<td><strong>getForObject</strong></td>
<td>å‘é€ä¸€ä¸ªHTTP GETè¯·æ±‚ï¼Œè¿”å›çš„è¯·æ±‚ä½“å°†æ˜ å°„ä¸ºä¸€ä¸ªå¯¹è±¡</td>
</tr>
<tr>
<td>Get</td>
<td><strong>getForEntity</strong></td>
<td>å‘é€ä¸€ä¸ªHTTP GETè¯·æ±‚ï¼Œè¿”å›çš„ResponseEntityåŒ…å«äº†å“åº”ä½“æ‰€æ˜ å°„æˆçš„å¯¹è±¡</td>
</tr>
<tr>
<td>Delete</td>
<td><strong>delete</strong></td>
<td></td>
</tr>
<tr>
<td>head</td>
<td><strong>headForHeaders</strong></td>
<td></td>
</tr>
<tr>
<td>put</td>
<td><strong>put</strong></td>
<td></td>
</tr>
<tr>
<td>any</td>
<td><strong>exchange</strong></td>
<td></td>
</tr>
<tr>
<td>any</td>
<td><strong>execute</strong></td>
<td>æ‰€æœ‰çš„getã€postã€deleteã€putã€optionsã€headã€exchangeæ–¹æ³•æœ€ç»ˆè°ƒç”¨çš„éƒ½æ˜¯excuteæ–¹æ³•</td>
</tr>
</tbody></table>
</li>
<li><p>éœ€è¦æ³¨æ„çš„æ˜¯<strong>RestTemplateåªæ˜¯å¯¹å…¶å®ƒRestå®¢æˆ·ç«¯çš„ä¸€ä¸ªå°è£…ï¼Œæœ¬èº«å¹¶æ²¡æœ‰è‡ªå·±çš„å®ç°</strong>ï¼Œæœ€å¸¸ç”¨çš„å‡ ç§å®¢æˆ·ç«¯æœ‰ï¼š</p>
<ul>
<li>SimpleClientHttpRequestFactoryï¼ˆå°è£…URLConnectionï¼‰</li>
<li>HttpComponentsClientHttpRequestFactoryï¼ˆå°è£…HttpClientï¼‰</li>
<li>OkHttp3ClientHttpRequestFactory(å°è£…OKHttp)</li>
</ul>
</li>
<li><p>å¸¸ç”¨HTTPå®¢æˆ·ç«¯çš„ä¾èµ–ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.httpcomponents<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>httpclient<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.squareup.okhttp3<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>okhttp<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>httpclientâ€”â€”HttpComponentsClientHttpRequestFactory</li>
<li>okhttpâ€”â€”OkHttp3ClientHttpRequestFactory</li>
<li>ä½¿ç”¨æŸä¸ªå·¥å‚æ–¹æ³•åˆå§‹åŒ–RestTemplateæ—¶å¿…é¡»å¯¹åº”æ·»åŠ åº•å±‚ä¾èµ–</li>
<li>ä½¿ç”¨çš„æ—¶å€™ä¸€èˆ¬éƒ½ä¼šåªé€‰æ‹©å…¶ä¸­çš„ä¸€ç§æ–¹å¼</li>
</ul>
</li>
<li><p>RestTemplateåœ¨ä½¿ç”¨å‰å¯ä»¥åšä¸€äº›åˆå§‹åŒ–æ“ä½œï¼Œæ¯”å¦‚è®¾ç½®è¶…æ—¶æ—¶é—´ã€å“åº”å‚æ•°è½¬æ¢å™¨ç­‰ï¼</p>
</li>
</ol>
<h3 id="åŸºç¡€è¯·æ±‚"><a href="#åŸºç¡€è¯·æ±‚" class="headerlink" title="åŸºç¡€è¯·æ±‚"></a>åŸºç¡€è¯·æ±‚</h3><ol>
<li><p>åˆ›å»ºä¸€ä¸ªSpringBooté¡¹ç›®ï¼Œæ·»åŠ ä¾èµ–ï¼ˆpom.xmlï¼‰ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.httpcomponents<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>httpclient<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.squareup.okhttp3<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>okhttp<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>åˆ›å»ºRestTemplateé…ç½®ç±»ï¼ˆé»˜è®¤é…ç½®ï¼‰ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RestTemplateConfig</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> RestTemplate <span class="title">restTemplate</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        RestTemplate restTemplate = <span class="keyword">new</span> RestTemplate();</span><br><span class="line">        <span class="keyword">return</span> restTemplate;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Bean</span>(<span class="string">"urlConnection"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> RestTemplate <span class="title">urlConnectionRestTemplate</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        RestTemplate restTemplate = <span class="keyword">new</span> RestTemplate(<span class="keyword">new</span> SimpleClientHttpRequestFactory());</span><br><span class="line">        <span class="keyword">return</span> restTemplate;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Bean</span>(<span class="string">"httpClient"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> RestTemplate <span class="title">httpClientRestTemplate</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        RestTemplate restTemplate = <span class="keyword">new</span> RestTemplate(<span class="keyword">new</span> HttpComponentsClientHttpRequestFactory());</span><br><span class="line">        <span class="keyword">return</span> restTemplate;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">   <span class="meta">@Bean</span>(<span class="string">"OKHttp3"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> RestTemplate <span class="title">OKHttp3RestTemplate</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        RestTemplate restTemplate = <span class="keyword">new</span> RestTemplate(<span class="keyword">new</span> OkHttp3ClientHttpRequestFactory());</span><br><span class="line">        <span class="keyword">return</span> restTemplate;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>å¸¦æœ‰é…ç½®çš„RestTemplateé…ç½®ç±»ï¼ˆè‡ªå®šä¹‰é…ç½®ï¼‰ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> lombok.extern.slf4j.Slf4j;</span><br><span class="line"><span class="keyword">import</span> org.apache.http.Header;</span><br><span class="line"><span class="keyword">import</span> org.apache.http.config.Registry;</span><br><span class="line"><span class="keyword">import</span> org.apache.http.config.RegistryBuilder;</span><br><span class="line"><span class="keyword">import</span> org.apache.http.conn.socket.ConnectionSocketFactory;</span><br><span class="line"><span class="keyword">import</span> org.apache.http.conn.socket.PlainConnectionSocketFactory;</span><br><span class="line"><span class="keyword">import</span> org.apache.http.conn.ssl.NoopHostnameVerifier;</span><br><span class="line"><span class="keyword">import</span> org.apache.http.conn.ssl.SSLConnectionSocketFactory;</span><br><span class="line"><span class="keyword">import</span> org.apache.http.impl.client.*;</span><br><span class="line"><span class="keyword">import</span> org.apache.http.impl.conn.PoolingHttpClientConnectionManager;</span><br><span class="line"><span class="keyword">import</span> org.apache.http.message.BasicHeader;</span><br><span class="line"><span class="keyword">import</span> org.apache.http.ssl.SSLContextBuilder;</span><br><span class="line"><span class="keyword">import</span> org.apache.http.ssl.TrustStrategy;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Bean;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"><span class="keyword">import</span> org.springframework.http.client.ClientHttpRequestFactory;</span><br><span class="line"><span class="keyword">import</span> org.springframework.http.client.HttpComponentsClientHttpRequestFactory;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.client.DefaultResponseErrorHandler;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.client.RestTemplate;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.security.KeyManagementException;</span><br><span class="line"><span class="keyword">import</span> java.security.NoSuchAlgorithmException;</span><br><span class="line"><span class="keyword">import</span> java.security.cert.X509Certificate;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> wander</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Slf</span>4j</span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RestTemplateConfig</span> </span>&#123;</span><br><span class="line">    <span class="comment">/** å»ºç«‹è¿æ¥çš„è¶…æ—¶æ—¶é—´ */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span>	connectTimeout		= <span class="number">20000</span>;</span><br><span class="line">    <span class="comment">/** è¿æ¥ä¸å¤Ÿç”¨çš„ç­‰å¾…æ—¶é—´ */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span>	requestTimeout		= <span class="number">20000</span>;</span><br><span class="line">    <span class="comment">/** æ¯æ¬¡è¯·æ±‚ç­‰å¾…è¿”å›çš„è¶…æ—¶æ—¶é—´ */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span>	socketTimeout		= <span class="number">3000</span>;</span><br><span class="line">    <span class="comment">/** æ¯ä¸ªä¸»æœºæœ€å¤§è¿æ¥æ•° */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span>	defaultMaxPerRoute	= <span class="number">100</span>;</span><br><span class="line">    <span class="comment">/** æœ€å¤§è¿æ¥æ•° */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span>	maxTotalConnections	= <span class="number">300</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> RestTemplate <span class="title">buildRestTemplate</span><span class="params">(ClientHttpRequestFactory factory)</span> </span>&#123;</span><br><span class="line">        RestTemplate restTemplate = <span class="keyword">new</span> RestTemplate(factory);</span><br><span class="line">        restTemplate.setErrorHandler(<span class="keyword">new</span> DefaultResponseErrorHandler());</span><br><span class="line">        <span class="keyword">return</span> restTemplate;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> HttpComponentsClientHttpRequestFactory <span class="title">createFactory</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">// httpClientè¿æ¥é…ç½®</span></span><br><span class="line">        SSLContextBuilder builder = <span class="keyword">new</span> SSLContextBuilder();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            TrustStrategy acceptingTrustStrategy = <span class="keyword">new</span> TrustStrategy() &#123;</span><br><span class="line">                <span class="meta">@Override</span></span><br><span class="line">                <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isTrusted</span><span class="params">(X509Certificate[] chain, String authType)</span> </span>&#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;;</span><br><span class="line"></span><br><span class="line">            builder.loadTrustMaterial(<span class="keyword">null</span>, acceptingTrustStrategy);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            log.error(<span class="string">"Pooling Connection Manager Initialisation failure because of "</span> + e.getMessage(), e);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        SSLConnectionSocketFactory socketFactory = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            socketFactory = <span class="keyword">new</span> SSLConnectionSocketFactory(builder.build(), NoopHostnameVerifier.INSTANCE);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (KeyManagementException | NoSuchAlgorithmException e) &#123;</span><br><span class="line">            log.error(<span class="string">"Pooling Connection Manager Initialisation failure because of "</span> + e.getMessage(), e);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ³¨å†Œhttpå’Œhttpsè¯·æ±‚</span></span><br><span class="line">        Registry&lt;ConnectionSocketFactory&gt; registry = RegistryBuilder.&lt;ConnectionSocketFactory&gt; create()</span><br><span class="line">                .register(<span class="string">"http"</span>, PlainConnectionSocketFactory.getSocketFactory())</span><br><span class="line">                .register(<span class="string">"https"</span>, socketFactory).build();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å¼€å§‹è®¾ç½®è¿æ¥æ± </span></span><br><span class="line">        PoolingHttpClientConnectionManager phccm = <span class="keyword">new</span> PoolingHttpClientConnectionManager(registry);</span><br><span class="line">        <span class="comment">// æœ€å¤§è¿æ¥æ•°</span></span><br><span class="line">        phccm.setMaxTotal(maxTotalConnections);</span><br><span class="line">        <span class="comment">// åŒè·¯ç”±å¹¶å‘æ•°</span></span><br><span class="line">        phccm.setDefaultMaxPerRoute(defaultMaxPerRoute);</span><br><span class="line"></span><br><span class="line">        HttpClientBuilder httpClientBuilder = HttpClients.custom();</span><br><span class="line">        httpClientBuilder.setSSLSocketFactory(socketFactory);</span><br><span class="line">        httpClientBuilder.setConnectionManager(phccm);</span><br><span class="line">        httpClientBuilder.setConnectionManagerShared(<span class="keyword">true</span>);</span><br><span class="line">        <span class="comment">// é‡è¯•æ¬¡æ•°ï¼Œé»˜è®¤æ˜¯3æ¬¡ï¼Œæ²¡æœ‰å¼€å¯</span></span><br><span class="line">        httpClientBuilder.setRetryHandler(<span class="keyword">new</span> DefaultHttpRequestRetryHandler(<span class="number">3</span>, <span class="keyword">true</span>));</span><br><span class="line">        <span class="comment">// ä¿æŒé•¿è¿æ¥é…ç½®ï¼Œéœ€è¦åœ¨å¤´æ·»åŠ Keep-Alive</span></span><br><span class="line">        httpClientBuilder.setKeepAliveStrategy(DefaultConnectionKeepAliveStrategy.INSTANCE);</span><br><span class="line"></span><br><span class="line">        List&lt;Header&gt; headers = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        headers.add(<span class="keyword">new</span> BasicHeader(<span class="string">"User-Agent"</span>,</span><br><span class="line">                <span class="string">"Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.59 Safari/537.36"</span>));</span><br><span class="line">        headers.add(<span class="keyword">new</span> BasicHeader(<span class="string">"Connection"</span>, <span class="string">"keep-alive"</span>));</span><br><span class="line"></span><br><span class="line">        httpClientBuilder.setDefaultHeaders(headers);</span><br><span class="line"></span><br><span class="line">        CloseableHttpClient httpClient = httpClientBuilder.build();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// httpClientè¿æ¥é…ç½®ï¼Œåº•å±‚æ˜¯é…ç½®RequestConfig</span></span><br><span class="line">        HttpComponentsClientHttpRequestFactory factory = <span class="keyword">new</span> HttpComponentsClientHttpRequestFactory();</span><br><span class="line"></span><br><span class="line">        factory.setHttpClient(httpClient);</span><br><span class="line">        <span class="comment">// è¿æ¥è¶…æ—¶</span></span><br><span class="line">        factory.setConnectTimeout(connectTimeout);</span><br><span class="line">        <span class="comment">// æ•°æ®è¯»å–è¶…æ—¶æ—¶é—´ï¼Œå³SocketTimeout</span></span><br><span class="line">        factory.setReadTimeout(socketTimeout);</span><br><span class="line">        <span class="comment">// è¿æ¥ä¸å¤Ÿç”¨çš„ç­‰å¾…æ—¶é—´ï¼Œä¸å®œè¿‡é•¿ï¼Œå¿…é¡»è®¾ç½®ï¼Œæ¯”å¦‚è¿æ¥ä¸å¤Ÿç”¨æ—¶ï¼Œæ—¶é—´è¿‡é•¿å°†æ˜¯ç¾éš¾æ€§çš„</span></span><br><span class="line">        factory.setConnectionRequestTimeout(requestTimeout);</span><br><span class="line">        <span class="comment">// ç¼“å†²è¯·æ±‚æ•°æ®ï¼Œé»˜è®¤å€¼æ˜¯trueã€‚é€šè¿‡POSTæˆ–è€…PUTå¤§é‡å‘é€æ•°æ®æ—¶ï¼Œå»ºè®®å°†æ­¤å±æ€§æ›´æ”¹ä¸ºfalseï¼Œä»¥å…è€—å°½å†…å­˜ã€‚</span></span><br><span class="line">        factory.setBufferRequestBody(<span class="keyword">false</span>);</span><br><span class="line">        <span class="keyword">return</span> factory;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>é…ç½®RestControllerï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HelloWorld</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping</span>(<span class="string">"/"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Map&lt;String,String&gt; <span class="title">mainRequest</span><span class="params">()</span> <span class="keyword">throws</span> InterruptedException </span>&#123;</span><br><span class="line">        Map&lt;String,String&gt; ret=<span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        ret.put(<span class="string">"hello"</span>,<span class="string">"world"</span>);</span><br><span class="line">        ret.put(<span class="string">"msg"</span>,<span class="string">"OK"</span>);</span><br><span class="line">        Thread.sleep(<span class="number">5000</span>); <span class="comment">// æ•…æ„ç¡çœ 5ç§’è¿”å›ï¼Œæµ‹è¯•é…ç½®ç±»</span></span><br><span class="line">        <span class="keyword">return</span> ret;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>ç¼–è¯‘é¡¹ç›®å¹¶è¿è¡Œï¼Œä½¿ç”¨æµè§ˆå™¨æµ‹è¯•æ¥å£ï¼ˆ<a href="http://localhost:8080ï¼‰ï¼š">http://localhost:8080ï¼‰ï¼š</a></p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/643ddaac77abcec75dd1c84fab99332c-45541" alt="æµè§ˆå™¨è¯·æ±‚"></p>
</li>
<li><p>ç¼–å†™æµ‹è¯•è¯·æ±‚ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Slf</span>4j</span><br><span class="line"><span class="meta">@SpringBootTest</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ResttemplateApplicationTests</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    RestTemplate restTemplate;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">contextLoads</span><span class="params">()</span> </span>&#123;</span><br><span class="line">     String res=restTemplate.getForObject(<span class="string">"http://localhost:8080"</span>,String<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">     log.info(res);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/06d894f2d6c803746aa66f84d34f9c25-380316" alt="restTemplateè®¿é—®"></p>
</li>
<li><p>å±è”½mainRequestä¸­çš„ Thread.sleep(5000); å†æ¬¡æµ‹è¯•è®¿é—®æ¥å£ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/1822cb00c40e9aa20b1798d96a9f7f21-41651" alt="å±è”½ç¡çœ æ•ˆæœ"></p>
</li>
</ol>
<h3 id="Getè¯·æ±‚"><a href="#Getè¯·æ±‚" class="headerlink" title="Getè¯·æ±‚"></a>Getè¯·æ±‚</h3><h4 id="getForObject"><a href="#getForObject" class="headerlink" title="getForObject"></a>getForObject</h4><ol>
<li><p>getForObjectæ˜¯å¯¹getForEntityå‡½æ•°çš„è¿›ä¸€æ­¥å°è£…ï¼Œè¿”å›å€¼è¿”å›çš„æ˜¯è¯·æ±‚çš„å“åº”ä½“ï¼Œçœå»äº†å†å»è°ƒç”¨getBodyï¼›</p>
</li>
<li><p>å®æ“ï¼š</p>
<ol>
<li><p>åˆ›å»ºä¸€ä¸ªInfoç±»ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Info</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String hello;</span><br><span class="line">    <span class="keyword">private</span> String msg;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Info</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getHello</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> hello;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setHello</span><span class="params">(String hello)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.hello = hello;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getMsg</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> msg;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setMsg</span><span class="params">(String msg)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.msg = msg;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>RestTemplateé…ç½®ç±»ä½¿ç”¨åŸºç¡€è¯·æ±‚çš„é…ç½®ç±»ï¼›</p>
</li>
<li><p>åˆ›å»ºæµ‹è¯•ç”¨ä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Slf</span>4j</span><br><span class="line"><span class="meta">@SpringBootTest</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ResttemplateApplicationTests</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    RestTemplate restTemplate;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">contextLoads</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        Info res=restTemplate.getForObject(<span class="string">"http://localhost:8080"</span>,Info<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">        log.info(res.getHello());</span><br><span class="line">        log.info(res.getMsg());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>è¯·æ±‚ç»“æœï¼š</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="number">2020</span><span class="number">-08</span><span class="number">-07</span> <span class="number">10</span><span class="string">:02:14.615</span>  <span class="string">INFO</span> <span class="number">52858</span> <span class="string">---</span> <span class="string">[</span>           <span class="string">main]</span> <span class="attr">c.w.t.r.ResttemplateApplicationTests     :</span> <span class="string">world</span></span><br><span class="line"><span class="number">2020</span><span class="number">-08</span><span class="number">-07</span> <span class="number">10</span><span class="string">:02:14.615</span>  <span class="string">INFO</span> <span class="number">52858</span> <span class="string">---</span> <span class="string">[</span>           <span class="string">main]</span> <span class="attr">c.w.t.r.ResttemplateApplicationTests     :</span> <span class="string">OK</span></span><br></pre></td></tr></table></figure>

</li>
</ol>
<h4 id="getForEntity"><a href="#getForEntity" class="headerlink" title="getForEntity"></a>getForEntity</h4><ol>
<li><p>è¿”å›å€¼ç±»å‹ ResponseEntityï¼Œç»§æ‰¿è‡ªHttpEntityï¼Œå°è£…äº†è¿”å›çš„å“åº”ä¿¡æ¯ï¼ŒåŒ…æ‹¬å“åº”çŠ¶æ€ã€å“åº”å¤´ã€å“åº”ä½“ç­‰ï¼›</p>
</li>
<li><p>å®æ“ï¼š</p>
<ol>
<li><p>Infoç±»ä¸Šé¢çš„getForObjectå·²ç»åˆ›å»ºäº†ï¼›</p>
</li>
<li><p>é…ç½®ç±»æ²¿ç”¨ï¼›</p>
</li>
<li><p>åˆ›å»ºæµ‹è¯•ç”¨ä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Slf</span>4j</span><br><span class="line"><span class="meta">@SpringBootTest</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ResttemplateApplicationTests</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    RestTemplate restTemplate;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">contextLoads</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        ResponseEntity response=restTemplate.getForEntity(<span class="string">"http://localhost:8080"</span>,Info<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">        HttpHeaders resheader=response.getHeaders(); <span class="comment">// å“åº”å¤´</span></span><br><span class="line">        HttpStatus httpStatus=response.getStatusCode(); <span class="comment">// å“åº”ç </span></span><br><span class="line">        Info info=(Info)response.getBody(); <span class="comment">// å“åº”ä½“</span></span><br><span class="line">        System.out.println(resheader);</span><br><span class="line">        System.out.println(httpStatus);</span><br><span class="line">        System.out.println(info.getHello());</span><br><span class="line">        System.out.println(info.getMsg());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>è¯·æ±‚ç»“æœï¼š</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="string">[Content-Type:"application/json",</span> <span class="string">Transfer-Encoding:"chunked",</span> <span class="string">Date:"Fri,</span> <span class="number">07</span> <span class="string">Aug</span> <span class="number">2020</span> <span class="number">02</span><span class="string">:22:45</span> <span class="string">GMT",</span> <span class="string">Keep-Alive:"timeout=60",</span> <span class="string">Connection:"keep-alive"]</span></span><br><span class="line"><span class="number">200</span> <span class="string">OK</span></span><br><span class="line"><span class="string">world</span></span><br><span class="line"><span class="string">OK</span></span><br></pre></td></tr></table></figure>

</li>
</ol>
</li>
</ol>
</li>
</ol>
<h3 id="POSTè¯·æ±‚"><a href="#POSTè¯·æ±‚" class="headerlink" title="POSTè¯·æ±‚"></a>POSTè¯·æ±‚</h3><ol>
<li><p>postForObjectå‘é€ä¸€ä¸ªPOSTè¯·æ±‚ï¼Œå¹¶è¿”å›ä¸€ä¸ªObjectå¯¹è±¡ï¼›</p>
</li>
<li><p>postForEntityå‘é€ä¸€ä¸ªPOSTè¯·æ±‚ï¼Œå¹¶è¿”å›ä¸€ä¸ªResponseEntityå¯¹è±¡ï¼›</p>
</li>
<li><p>postForLocationæäº¤æ–°èµ„æºï¼Œæäº¤æˆåŠŸä¹‹åï¼Œè¿”å›æ–°èµ„æºçš„URIã€‚å‚æ•°å’Œå‰é¢ä¸¤ç§çš„å‚æ•°åŸºæœ¬ä¸€è‡´ï¼Œåªä¸è¿‡è¯¥æ–¹æ³•çš„è¿”å›å€¼ä¸ºURIã€‚æœåŠ¡æä¾›è€…éœ€è¦åœ¨Headersä¸­æ·»åŠ Locationå­—æ®µæ‰èƒ½è¾“å‡ºURIï¼›</p>
</li>
<li><p>å®æ“ï¼š</p>
<ol>
<li><p>åˆ›å»ºä¸€ä¸ªPOSTè·¯ç”±ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@PostMapping</span>(<span class="string">"/"</span>)</span><br><span class="line"><span class="function"><span class="keyword">public</span> Map&lt;String,Object&gt; <span class="title">mainPost</span><span class="params">( @RequestBody String body,String hello)</span></span>&#123;</span><br><span class="line">    Map&lt;String,Object&gt;ret=<span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    ret.put(<span class="string">"put"</span>,hello);</span><br><span class="line">    ret.put(<span class="string">"msg"</span>,<span class="string">"OK"</span>);</span><br><span class="line">    ret.put(<span class="string">"body"</span>,body);</span><br><span class="line">    <span class="keyword">return</span> ret;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>é…ç½®ç±»æ²¿ç”¨Getè¯·æ±‚çš„é…ç½®ç±»ï¼›</p>
</li>
<li><p>åˆ›å»ºæµ‹è¯•postForObjectçš„æ ·ä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Slf</span>4j</span><br><span class="line"><span class="meta">@SpringBootTest</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ResttemplateApplicationTests</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    RestTemplate restTemplate;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">contextLoads</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        String ret=restTemplate.postForObject("http://localhost:8080?hello=&#123;1&#125;","null",String.class,"test");</span><br><span class="line">        System.out.println(ret);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>postForObjectæµ‹è¯•è¾“å‡ºï¼š</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="string">&#123;"msg":"OK","body":"null","put":"test"&#125;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>åˆ›å»ºæµ‹è¯•postForEntityçš„æ ·ä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Slf</span>4j</span><br><span class="line"><span class="meta">@SpringBootTest</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ResttemplateApplicationTests</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    RestTemplate restTemplate;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">contextLoads</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        ResponseEntity responseEntity=restTemplate.postForEntity("http://localhost:8080?hello=&#123;1&#125;","null",String.class,"test");</span><br><span class="line">        System.out.println(responseEntity.getStatusCode());</span><br><span class="line">        System.out.println(responseEntity.getHeaders());</span><br><span class="line">        System.out.println(responseEntity.getBody());</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>postForEntityæµ‹è¯•è¾“å‡ºï¼š</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="number">200</span> <span class="string">OK</span></span><br><span class="line"><span class="string">[Content-Type:"application/json",</span> <span class="string">Transfer-Encoding:"chunked",</span> <span class="string">Date:"Fri,</span> <span class="number">07</span> <span class="string">Aug</span> <span class="number">2020</span> <span class="number">02</span><span class="string">:50:57</span> <span class="string">GMT",</span> <span class="string">Keep-Alive:"timeout=60",</span> <span class="string">Connection:"keep-alive"]</span></span><br><span class="line"><span class="string">&#123;"msg":"OK","body":"null","put":"test"&#125;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>åˆ›å»ºä¸€ä¸ªæ–°çš„POSTæœåŠ¡ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@PostMapping</span>(<span class="string">"/uri"</span>)</span><br><span class="line"><span class="function"><span class="keyword">public</span> URI <span class="title">mainPostUri</span><span class="params">(HttpServletResponse response)</span> <span class="keyword">throws</span> URISyntaxException </span>&#123;</span><br><span class="line">    response.setHeader(<span class="string">"Location"</span>,<span class="string">"test"</span>);</span><br><span class="line">    URI uri=<span class="keyword">new</span> URI(<span class="string">"https://www.hao123.com"</span>);</span><br><span class="line">    <span class="keyword">return</span> uri;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>åˆ›å»ºæµ‹è¯•postForLocationçš„æ ·ä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Slf</span>4j</span><br><span class="line"><span class="meta">@SpringBootTest</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ResttemplateApplicationTests</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    RestTemplate restTemplate;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">contextLoads</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        URI uri=restTemplate.postForLocation(<span class="string">"http://localhost:8080/uri"</span>,<span class="string">"null"</span>,String<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">        System.out.println(uri);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>postForLocationæµ‹è¯•è¾“å‡ºï¼š</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="string">test</span></span><br></pre></td></tr></table></figure>

<ul>
<li>ä»æµ‹è¯•è¾“å‡ºå¯ä»¥çœ‹åˆ°å“åº”ä½“çš„Locationå¾—åˆ°è¾“å‡º</li>
</ul>
</li>
</ol>
</li>
</ol>
<h3 id="å…¶ä»–æ–¹æ³•"><a href="#å…¶ä»–æ–¹æ³•" class="headerlink" title="å…¶ä»–æ–¹æ³•"></a>å…¶ä»–æ–¹æ³•</h3><ol>
<li><p>deleteæ–¹æ³•æµ‹è¯•ï¼š</p>
<ol>
<li><p>åˆ›å»ºä¸€ä¸ªdeleteè·¯ç”±ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@DeleteMapping</span>(<span class="string">"/"</span>)</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">mainDelete</span><span class="params">(String hello)</span></span>&#123;</span><br><span class="line">    Map&lt;String,Object&gt;ret=<span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    ret.put(<span class="string">"put"</span>,hello);</span><br><span class="line">    ret.put(<span class="string">"msg"</span>,<span class="string">"OK"</span>);</span><br><span class="line">    System.out.println(ret);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>é…ç½®ç±»æ²¿ç”¨Getè¯·æ±‚çš„é…ç½®ç±»ï¼›</p>
</li>
<li><p>åˆ›å»ºdeleteæµ‹è¯•æ ·ä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Slf</span>4j</span><br><span class="line"><span class="meta">@SpringBootTest</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ResttemplateApplicationTests</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    RestTemplate restTemplate;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">contextLoads</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        restTemplate.delete(<span class="string">"http://localhost:8080?hello=hello"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>è¿è¡Œæµ‹è¯•æ ·ä¾‹æ—¶ï¼Œåº”ç”¨è¾“å‡ºï¼š</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="string">&#123;msg=OK,</span> <span class="string">put=hello&#125;</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
<li><p>putæ–¹æ³•æµ‹è¯•ï¼š</p>
<ol>
<li><p>åˆ›å»ºä¸€ä¸ªputè·¯ç”±ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@PutMapping</span>(<span class="string">"/"</span>)</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">mainPut</span><span class="params">(String hello)</span></span>&#123;</span><br><span class="line">    Map&lt;String,Object&gt;ret=<span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    ret.put(<span class="string">"put"</span>,hello);</span><br><span class="line">    ret.put(<span class="string">"msg"</span>,<span class="string">"OK"</span>);</span><br><span class="line">    System.out.println(ret);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>é…ç½®ç±»æ²¿ç”¨Getè¯·æ±‚çš„é…ç½®ç±»ï¼›</p>
</li>
<li><p>åˆ›å»ºputæµ‹è¯•æ ·ä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Slf</span>4j</span><br><span class="line"><span class="meta">@SpringBootTest</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ResttemplateApplicationTests</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    RestTemplate restTemplate;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">contextLoads</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        restTemplate.put(<span class="string">"http://localhost:8080?hello=hello"</span>,<span class="keyword">null</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>è¿è¡Œæµ‹è¯•æ ·ä¾‹æ—¶ï¼Œåº”ç”¨è¾“å‡ºï¼š</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="string">&#123;msg=OK,</span> <span class="string">put=hello&#125;</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
<li><p>exchangeæ–¹æ³•æµ‹è¯•ï¼š</p>
<ol>
<li><p>exchangeæ–¹æ³•è·ŸgetForObjectã€getForEntityã€postForObjectã€postForEntityç­‰æ–¹æ³•ä¸åŒä¹‹å¤„åœ¨äºå®ƒå¯ä»¥æŒ‡å®šè¯·æ±‚çš„HTTPç±»å‹ï¼›</p>
</li>
<li><p>åˆ›å»ºexchangeæµ‹è¯•æ ·ä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Slf</span>4j</span><br><span class="line"><span class="meta">@SpringBootTest</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ResttemplateApplicationTests</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    RestTemplate restTemplate;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">contextLoads</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        ResponseEntity responseEntity=restTemplate.exchange(<span class="string">"http://localhost:8080"</span>, HttpMethod.GET,<span class="keyword">null</span>,String<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">        System.out.println(responseEntity.getBody());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>è¿è¡Œæµ‹è¯•æ ·ä¾‹æ—¶è¾“å‡ºï¼š</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;<span class="attr">"msg"</span>:<span class="string">"OK"</span>,<span class="attr">"hello"</span>:<span class="string">"world"</span>&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
<li><p>excuteçš„ç”¨æ³•ä¸ exchangeå¤§åŒå°å¼‚äº†ï¼Œå®ƒåŒæ ·å¯ä»¥æŒ‡å®šä¸åŒçš„ HttpMethodï¼Œä¸åŒçš„æ˜¯å®ƒè¿”å›çš„å¯¹è±¡æ˜¯å“åº”ä½“æ‰€æ˜ å°„æˆçš„å¯¹è±¡ ï¼Œè€Œä¸æ˜¯ ResponseEntity!</p>
</li>
<li><p>å¯ä»¥é€šè¿‡ä¸‹é¢çš„æ–¹æ³•è®¾ç½®Headersï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testPostHeaders</span><span class="params">()</span></span>&#123;</span><br><span class="line">       <span class="comment">//è®¾ç½®è¯·æ±‚å¤´</span></span><br><span class="line">       HttpHeaders httpHeaders = <span class="keyword">new</span> HttpHeaders();</span><br><span class="line">       httpHeaders.add(<span class="string">"Content-Type"</span>, <span class="string">"application/json;charset=utf-8"</span>);</span><br><span class="line">   </span><br><span class="line">       <span class="comment">//è®¾ç½®è¯·æ±‚å‚æ•°</span></span><br><span class="line">       Map&lt;String, Object&gt; postData = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">       postData.put(<span class="string">"id"</span>, <span class="number">1L</span>);</span><br><span class="line">       postData.put(<span class="string">"name"</span>, <span class="string">"æµ‹è¯•"</span>);</span><br><span class="line">       postData.put(<span class="string">"age"</span>, <span class="number">18</span>);</span><br><span class="line">   </span><br><span class="line">       <span class="comment">//å°†è¯·æ±‚å¤´å’Œè¯·æ±‚å‚æ•°è®¾ç½®åˆ°HttpEntityä¸­</span></span><br><span class="line">       HttpEntity&lt;Map&lt;String, Object&gt;&gt; httpEntity = <span class="keyword">new</span> HttpEntity&lt;&gt;(postData, httpHeaders);</span><br><span class="line">   </span><br><span class="line">       User user = restTemplate.postForObject(<span class="string">"http://localhost:8080/getUser"</span>, httpEntity, User<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">       System.out.println(user);</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h2 id="FeignClient"><a href="#FeignClient" class="headerlink" title="FeignClient"></a>FeignClient</h2><h3 id="åŸºç¡€çŸ¥è¯†-1"><a href="#åŸºç¡€çŸ¥è¯†-1" class="headerlink" title="åŸºç¡€çŸ¥è¯†"></a>åŸºç¡€çŸ¥è¯†</h3><ol>
<li><p>å¾®æœåŠ¡åœºæ™¯ï¼šé¡¹ç›®ä¸­ç»å¸¸è°ƒç”¨åŸºäºHttpåè®®çš„æœåŠ¡ï¼Œå¸¸ä½¿ç”¨çš„æ¡†æ¶å¯èƒ½æœ‰HttpURLConnectionã€Apache HttpComponnetsã€OkHttp3 ã€Nettyç­‰ï¼</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/c9c774b00744eba08980fdcd8e6e779b-37844" alt="HTTPå®¢æˆ·ç«¯æµç¨‹"></p>
</li>
<li><p>Feign æ˜¯Netflixæä¾›çš„ä¸€ä¸ªå®ç°äº†REST API å®¢æˆ·ç«¯çš„å£°æ˜å¼å¼€å‘æ¡†æ¶ï¼ŒFeignå…è®¸ä½¿ç”¨æ ‡ç­¾æ³¨è§£æ¥å£è¾¾åˆ°å£°æ˜å¼çš„åˆ›å»ºRESTå®¢æˆ·ç«¯ï¼Œå…·ä½“çš„å®ç°åœ¨è¿è¡Œæ—¶æä¾›ã€‚Feignå°†è¯·æ±‚æ¨¡æ¿åŒ–ï¼Œå½“å®é™…è°ƒç”¨çš„æ—¶å€™ï¼Œä¼ å…¥å‚æ•°ï¼Œæ ¹æ®å‚æ•°å†åº”ç”¨åˆ°è¯·æ±‚ä¸Šï¼Œè¿›è€Œè½¬åŒ–æˆçœŸæ­£çš„è¯·æ±‚ï¼›</p>
</li>
<li><p>ç›®çš„ï¼šè®©RESTè°ƒç”¨æ›´åŠ ç®€å•ï¼Œå¯ä»¥å’ŒSpringCloudè¿›è¡Œæ— ç¼é›†æˆï¼Œéå¸¸æ–¹ä¾¿åœ°è¿›è¡ŒæœåŠ¡ç†”æ–­ç­‰æ“ä½œï¼›</p>
</li>
<li><p>Feignæä¾›äº†HTTPè¯·æ±‚çš„æ¨¡æ¿ï¼Œé€šè¿‡ç¼–å†™ç®€å•çš„æ¥å£å’Œæ’å…¥æ³¨è§£ï¼Œå°±å¯ä»¥å®šä¹‰å¥½HTTPè¯·æ±‚çš„å‚æ•°ã€æ ¼å¼ã€åœ°å€ç­‰ä¿¡æ¯ï¼›</p>
</li>
<li><p>Feignä¼šå®Œå…¨ä»£ç†HTTPè¯·æ±‚ï¼Œåªéœ€è¦åƒè°ƒç”¨æ–¹æ³•ä¸€æ ·è°ƒç”¨å®ƒå°±å¯ä»¥å®ŒæˆæœåŠ¡è¯·æ±‚åŠç›¸å…³å¤„ç†ï¼›</p>
</li>
<li><p>SpringCloudå¯¹Feignè¿›è¡Œäº†å°è£…ï¼Œæ”¯æŒäº†SpringMVCæ ‡å‡†æ³¨è§£å’ŒHttpMessageConvertersï¼ŒFeignå¯ä»¥ä¸Eurekaå’ŒRibbonç»„åˆä½¿ç”¨ä»è€Œèƒ½æ”¯æŒè´Ÿè½½å‡è¡¡ã€‚Feignè¢«å¹¿æ³›åº”ç”¨åœ¨Spring Cloud çš„è§£å†³æ–¹æ¡ˆä¸­ï¼Œæ˜¯å­¦ä¹ åŸºäºSpring Cloud å¾®æœåŠ¡æ¶æ„ä¸å¯æˆ–ç¼ºçš„é‡è¦ç»„ä»¶ï¼›</p>
</li>
<li><p>Feignå¤„ç†HTTPè¯·æ±‚æµç¨‹å¦‚ä¸‹ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/ac828770011b727ac1cc6cc15a073da2-92628" alt="Feignç»“æ„"></p>
</li>
<li><p>åœ¨Feign åº•å±‚ï¼Œé€šè¿‡åŸºäºé¢å‘æ¥å£çš„åŠ¨æ€ä»£ç†æ–¹å¼ç”Ÿæˆå®ç°ç±»ï¼Œå°†è¯·æ±‚è°ƒç”¨å§”æ‰˜åˆ°åŠ¨æ€ä»£ç†å®ç°ç±»ï¼ŒåŸºæœ¬åŸç†å¦‚ä¸‹ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/93d962fc3be45e9eec3f8373e26abecf-21999" alt="Feignåº•å±‚åŸç†"></p>
</li>
<li><p><strong>ç”¨äº†Feignä¹‹åè°ƒç”¨æ¥å£åªéœ€è¦å®šä¹‰ç›¸åŒçš„æ¥å£å³å¯å®ç°è°ƒç”¨ï¼</strong></p>
</li>
<li><p>ä½¿ç”¨Feignéœ€è¦å¼•å…¥ä¾èµ–ï¼Œç„¶åè¿˜è¦åœ¨å¯åŠ¨ç±»ä¸ŠåŠ ä¸Š<code>@EnableFeignClients</code>æ³¨è§£ï¼Œå¦‚æœå®šä¹‰çš„Feignæ¥å£è·Ÿå¯åŠ¨ç±»ä¸åœ¨ä¸€ä¸ªåŒ…åä¸‹ï¼Œè¿˜éœ€è¦æŒ‡å®šæ‰«æçš„åŒ…å@EnableFeignClients(basePackages = â€œxx.xx.xx.xxâ€)ã€‚@EnableFeignClientsæ³¨è§£çš„ä¸»è¦åŠŸèƒ½æ˜¯åˆå§‹åŒ–FeignClientçš„é…ç½®å’ŒåŠ¨æ€æ‰§è¡Œclientçš„è¯·æ±‚ï¼›</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-openfeign<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.0.2.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>io.github.openfeign<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>feign-core<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>9.7.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>io.github.openfeign<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>feign-slf4j<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>9.7.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>å»ºè®®å°†æ¥å£å®šä¹‰å•ç‹¬æŠ½å‡ºæ¥ï¼Œå•ç‹¬æˆä¸ºä¸€ä¸ªæ¥å£é¡¹ç›®ï¼Œè¿™æ ·æ— è®ºæ˜¯å“ªä¸ªé¡¹ç›®éœ€è¦è°ƒç”¨æ¥å£æ—¶ï¼Œå¼•å…¥å…¬å…±çš„æ¥å£JaråŒ…å³å¯ï¼Œè€Œæ— éœ€å†é‡æ–°å®šä¹‰ä¸€æ¬¡ï¼</p>
</li>
<li><p>Feignçš„ä½¿ç”¨éå¸¸ç®€å•ï¼Œå’Œæ™®é€šçš„Serviceçš„ç±»ä¸€æ ·ä½¿ç”¨ï¼Œæ³¨å…¥è¿›æ¥ï¼Œç„¶åç›´æ¥è°ƒç”¨æ–¹æ³•å°±ç›¸å½“äºè°ƒç”¨è¿œç¨‹æ¥å£äº†ï¼›</p>
</li>
<li><p>Feignçš„GitHubæºç åœ°å€ï¼š<a href="https://github.com/OpenFeign/feign" target="_blank" rel="noopener">https://github.com/OpenFeign/feign</a></p>
</li>
</ol>
<h3 id="SpringBootåŸºç¡€ä½¿ç”¨"><a href="#SpringBootåŸºç¡€ä½¿ç”¨" class="headerlink" title="SpringBootåŸºç¡€ä½¿ç”¨"></a>SpringBootåŸºç¡€ä½¿ç”¨</h3><ol>
<li><p>åˆ›å»ºä¸€ä¸ªSpringBooté¡¹ç›®ï¼Œæ·»åŠ ä¾èµ–(pom.xml)ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-openfeign<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.0.2.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>io.github.openfeign<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>feign-core<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>9.7.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>io.github.openfeign<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>feign-slf4j<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>9.7.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>åˆ›å»ºRESTfulæœåŠ¡ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HelloWorld</span> </span>&#123;</span><br><span class="line">    <span class="meta">@GetMapping</span>(<span class="string">"/"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Map&lt;String, String&gt; <span class="title">Hello</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        Map&lt;String, String&gt; res = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        res.put(<span class="string">"hello"</span>, <span class="string">"world"</span>);</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@GetMapping</span>(<span class="string">"getString"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getString</span><span class="params">(String src)</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> src;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@PostMapping</span>(<span class="string">"getUser"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> User <span class="title">getUser</span><span class="params">(@RequestBody User user)</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> user;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@PostMapping</span>(value = <span class="string">"/upload"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">upload</span><span class="params">(@RequestParam(<span class="string">"file_upload"</span>)</span> MultipartFile file) </span>&#123;</span><br><span class="line">        System.out.println(file.getOriginalFilename());</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            String uploadDir=<span class="string">"/home/wanderros/vue_learn/"</span>;</span><br><span class="line">            File dir=<span class="keyword">new</span> File(uploadDir);</span><br><span class="line">            <span class="keyword">if</span>(!dir.exists())&#123;</span><br><span class="line">                dir.mkdir();</span><br><span class="line">            &#125;</span><br><span class="line">            String filename=file.getOriginalFilename();</span><br><span class="line">            File serverFile=<span class="keyword">new</span> File(uploadDir+File.separator+filename);</span><br><span class="line">            file.transferTo(serverFile);</span><br><span class="line">            <span class="comment">// FileUtils.writeByteArrayToFile(new File("/Users/wander/test/files"+file.getOriginalFilename()),file.getBytes());</span></span><br><span class="line">            System.out.println(<span class="string">"æˆåŠŸ"</span>);</span><br><span class="line">            <span class="keyword">return</span> <span class="string">"ä¸Šä¼ æˆåŠŸ"</span>;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">            <span class="keyword">return</span> <span class="string">"ä¸Šä¼ å¤±è´¥"</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>åœ¨å¯åŠ¨ç±»ä¸Šæ·»åŠ æ³¨è§£@EnableFeignClientsï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@EnableFeignClients</span></span><br><span class="line"><span class="meta">@SpringBootApplication</span>(exclude = &#123;MultipartAutoConfiguration<span class="class">.<span class="keyword">class</span>&#125;)</span></span><br><span class="line"><span class="class"><span class="title">public</span> <span class="title">class</span> <span class="title">WebApplication</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        SpringApplication.run(WebApplication<span class="class">.<span class="keyword">class</span>, <span class="title">args</span>)</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>åˆ›å»ºFeignæ¥å£ç±»ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@FeignClient</span>(name = <span class="string">"myFeignClient"</span>, url = <span class="string">"http://127.0.0.1:8080"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">MyFeignClient</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping</span>(method = RequestMethod.GET, value = <span class="string">"/getString"</span>)</span><br><span class="line">    <span class="function">String <span class="title">getCategorys</span><span class="params">(@RequestParam String src)</span></span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>åˆ›å»ºæµ‹è¯•ç±»ï¼Œè‡ªåŠ¨æ³¨å…¥æ¥å£ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@SpringBootTest</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">WebApplicationTests</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> MyFeignClient myFeignClient;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">contextLoads</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        String str = myFeignClient.getCategorys(<span class="string">"hello-world"</span>);</span><br><span class="line">        System.out.println(str);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>æµ‹è¯•è¾“å‡ºï¼š</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="string">hello-world</span></span><br></pre></td></tr></table></figure>

</li>
</ol>
<h3 id="Feignå•æ–‡ä»¶ä¸Šä¼ ï¼ˆåŸºç¡€ä½¿ç”¨å¤–æ‹“ï¼‰"><a href="#Feignå•æ–‡ä»¶ä¸Šä¼ ï¼ˆåŸºç¡€ä½¿ç”¨å¤–æ‹“ï¼‰" class="headerlink" title="Feignå•æ–‡ä»¶ä¸Šä¼ ï¼ˆåŸºç¡€ä½¿ç”¨å¤–æ‹“ï¼‰"></a>Feignå•æ–‡ä»¶ä¸Šä¼ ï¼ˆåŸºç¡€ä½¿ç”¨å¤–æ‹“ï¼‰</h3><ol>
<li><p>è¿™éƒ¨åˆ†éœ€è¦ç†è§£ä¹‹å‰çš„è®°å½•ï¼ˆSpringBootä¹‹Webæ–‡ä»¶ä¸Šä¼ ï¼‰ï¼Œåˆ›å»ºé¡¹ç›®æ—¶æ·»åŠ è¿™éƒ¨åˆ†çš„æ”¯æŒï¼›</p>
</li>
<li><p>åœ¨æ–°é¡¹ç›®ä¸­æ·»åŠ Feignæ–‡ä»¶ä¸Šä¼ çš„ä¾èµ–ï¼ˆpom.xmlï¼‰ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- æ–‡ä»¶ä¸Šä¼   --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>io.github.openfeign.form<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>feign-form<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.4.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>io.github.openfeign.form<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>feign-form-spring<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.4.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>commons-fileupload<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>commons-fileupload<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.3.3<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>æ³¨æ„ï¼šå‰é¢åŸºç¡€çš„ä¾èµ–ä¹Ÿéœ€è¦æ·»åŠ ï¼Œå¦‚æœåˆ›å»ºä¸€ä¸ªæ–°é¡¹ç›®çš„è¯</li>
</ul>
</li>
<li><p>ç”±äºåœ¨ä¹‹å‰çš„é¡¹ç›®ä¸Šåˆ›å»ºçš„ï¼Œå› æ­¤åªéœ€ä¿®æ”¹æ¥å£ç­‰ï¼š</p>
<ol>
<li><p>Feignæ¥å£</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@FeignClient</span>(name = <span class="string">"myFeignClient"</span>, url = <span class="string">"http://127.0.0.1:8080"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">MyFeignClient</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping</span>(method = RequestMethod.GET, value = <span class="string">"/"</span>)</span><br><span class="line">    <span class="function">Map&lt;String,String&gt; <span class="title">getCategorys</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping</span>(method = RequestMethod.POST,value = <span class="string">"upload"</span>, consumes = MediaType.MULTIPART_FORM_DATA_VALUE)</span><br><span class="line">    <span class="function">String <span class="title">upload</span><span class="params">(@RequestPart(<span class="string">"file_upload"</span>)</span> MultipartFile file)</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ§åˆ¶å™¨ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@PostMapping</span>(value = <span class="string">"/upload"</span>)</span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">upload</span><span class="params">(@RequestParam(<span class="string">"file_upload"</span>)</span> MultipartFile file) </span>&#123;</span><br><span class="line">    System.out.println(file.getOriginalFilename());</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        String uploadDir=<span class="string">"/Users/wander/test/file"</span>;</span><br><span class="line">        File dir=<span class="keyword">new</span> File(uploadDir);</span><br><span class="line">        <span class="keyword">if</span>(!dir.exists())&#123;</span><br><span class="line">            dir.mkdir();</span><br><span class="line">        &#125;</span><br><span class="line">        String filename=file.getOriginalFilename();</span><br><span class="line">        File serverFile=<span class="keyword">new</span> File(uploadDir+ File.separator+filename);</span><br><span class="line">        file.transferTo(serverFile);</span><br><span class="line">       <span class="comment">//  FileUtils.writeByteArrayToFile(new File("/Users/wander/test/files"+file.getOriginalFilename()),file.getBytes());</span></span><br><span class="line">        System.out.println(<span class="string">"æˆåŠŸ"</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"ä¸Šä¼ æˆåŠŸ"</span>;</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"ä¸Šä¼ å¤±è´¥"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">@Autowired</span></span><br><span class="line">MyFeignClient myFeignClient;</span><br><span class="line"><span class="meta">@PostMapping</span>(value = <span class="string">"/upload2"</span>)</span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">upload2</span><span class="params">(@RequestPart(<span class="string">"file_upload"</span>)</span> MultipartFile file) </span>&#123;</span><br><span class="line"> <span class="keyword">return</span>   myFeignClient.upload(file);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ³¨æ„ï¼šæ¥å£çš„å‚æ•°æ³¨è§£æ˜¯@RequestPartã€‚@RequestParamæ˜¯ä¸å¯ä»¥çš„</p>
</li>
<li><p>æ·»åŠ æ§åˆ¶å™¨upload2æ˜¯ä¸ºäº†æµ‹è¯•Feignå®¢æˆ·ç«¯çš„å•æ–‡ä»¶ä¸Šä¼ ï¼ŒçœŸçš„æ˜¯è¸©äº†ä¸å°‘å‘ä¹‹åæ‰è§£å†³</p>
</li>
</ol>
</li>
<li><p>æµ‹è¯•æ–‡ä»¶ç¼–å†™ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Slf</span>4j</span><br><span class="line"><span class="meta">@SpringBootTest</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ResttemplateApplicationTests</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    MyFeignClient myFeignClient;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    RestTemplate restTemplate;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">contextLoads</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        </span><br><span class="line">        File file=<span class="keyword">new</span> File(<span class="string">"/Volumes/Daily/Project/MideaLua/midea/src/D9/T_0000_D9_14.lua"</span>);</span><br><span class="line">        MultipartFile multipartFile = <span class="keyword">new</span> MockMultipartFile(<span class="string">"file_upload"</span>,file.getName(),toString(),<span class="keyword">new</span> FileInputStream(file));</span><br><span class="line">        System.out.println(myFeignClient.upload(multipartFile));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>éœ€è¦æ³¨æ„MockMultipartFileçš„å‡½æ•°çš„å‚æ•°ï¼Œç¬¬ä¸€ä¸ªâ€file_uploadâ€å¿…é¡»å’Œæ¥å£çš„å‚æ•°åç§°ä¸€è‡´</li>
</ul>
</li>
<li><p>æµ‹è¯•æ•ˆæœå¦‚ä¸‹ï¼š</p>
<ol>
<li><p>æœªè¿è¡Œä¹‹å‰ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/7957b5ba0ba864dcf6684f0b909485ac-108323" alt="æœªè¿è¡Œä¹‹å‰"></p>
</li>
<li><p>è¿è¡Œæµ‹è¯•ä¹‹åï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/fabbe96d7b96d718a09a0e2ff389e93f-120781" alt="è¿è¡Œæµ‹è¯•ä¹‹å"></p>
</li>
<li><p>æµè§ˆå™¨ä¸Šä¼ ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/314fce51363618078c0c394962141f87-28690" alt="æµè§ˆå™¨ä¸Šä¼ "></p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/04404220141069a623f894344ece1467-135941" alt="ä¸Šä¼ ç»“æœ"></p>
</li>
</ol>
</li>
</ol>
<ol start="8">
<li></li>
</ol>
<p>ä½¿ç”¨Apacheçš„httpclientçš„è¿æ¥æ± â€“å¯ç”¨Apacheçš„httpclientæ›¿æ¢å…¶å†…åµŒhttpclientï¼Œå¯ç”¨Httpclientçš„è¿æ¥æ± æ–¹å¼å¯èƒ½ä¼šæ¯”Ribbonçš„å®¢æˆ·ç«¯loadbalanceæ–¹å¼æ›´å¥½ã€‚</p>
<p>ä¾èµ–ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.httpcomponents<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>httpclient<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.5.6<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>io.github.openfeign<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>feign-httpclient<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>9.7.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.httpcomponents<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>httpcore<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.httpcomponents<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>httpmime<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>æ·»åŠ å±æ€§é…ç½®</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">feign:</span></span><br><span class="line">  <span class="attr">okhttp:</span> </span><br><span class="line">    <span class="attr">enabled:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">httpclient:</span></span><br><span class="line">    <span class="attr">enabled:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">maxConnections:</span> <span class="number">20480</span></span><br><span class="line">    <span class="attr">maxConnectionsPerRoute:</span> <span class="number">512</span></span><br><span class="line">    <span class="attr">timeToLive:</span> <span class="number">60</span></span><br><span class="line">    <span class="attr">connectionTimeout:</span> <span class="number">10000</span></span><br><span class="line">    <span class="attr">userAgent:</span> <span class="string">'Mozilla/5.0 (Windows NT 6.1; WOW64; rv:37.0) Gecko/20100101 Firefox/37.0'</span></span><br></pre></td></tr></table></figure>

<p>å¼•å…¥FeignAutoConfigurationé…ç½®</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Import</span>(FeignAutoConfiguration<span class="class">.<span class="keyword">class</span>)</span></span><br><span class="line"><span class="class">@<span class="title">Configuration</span></span></span><br><span class="line"><span class="class"><span class="title">public</span> <span class="title">class</span> <span class="title">FeignConfig</span> </span>&#123;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>å¯ç”¨hystrixç†”æ–­é™çº§</p>
<p>æ·»åŠ ä¾èµ–ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>io.github.openfeign<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>feign-hystrix<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>9.7.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>å±æ€§é…ç½®</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">feign:</span></span><br><span class="line">  <span class="attr">hystrix:</span> </span><br><span class="line">    <span class="attr">enabled:</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="attr">hystrix:</span></span><br><span class="line">  <span class="attr">command:</span></span><br><span class="line">    <span class="attr">default:</span></span><br><span class="line">      <span class="attr">execution:</span></span><br><span class="line">        <span class="attr">isolation:</span></span><br><span class="line">          <span class="attr">thread:</span></span><br><span class="line">            <span class="attr">timeoutInMilliseconds:</span> <span class="number">15000</span></span><br><span class="line">  <span class="attr">threadpool:</span></span><br><span class="line">    <span class="attr">default:</span></span><br><span class="line">      <span class="attr">coreSize:</span> <span class="number">40</span></span><br><span class="line">      <span class="attr">maximumSize:</span> <span class="number">100</span></span><br><span class="line">      <span class="attr">maxQueueSize:</span> <span class="number">100</span></span><br></pre></td></tr></table></figure>

<p>é™çº§ç­–ç•¥</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyFeignClientFallback</span> <span class="keyword">implements</span> <span class="title">MyFeignClient</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> ReturnResult&lt;ImageVO&gt; <span class="title">uploadFile</span><span class="params">(MultipartFile file, String bucketName)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> ReturnResult&lt;&gt;(<span class="number">5001</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//Beané…ç½®</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@Bean</span></span><br><span class="line"><span class="meta">@Scope</span>(<span class="string">"prototype"</span>)</span><br><span class="line"><span class="keyword">public</span> Feign.<span class="function">Builder <span class="title">feignBuilder</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> HystrixFeign.builder();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Bean</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> MyFeignClientFallback <span class="title">fb</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> MyFeignClientFallback();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"><span class="doctag">@FeignClient</span>(</span></span><br><span class="line"><span class="comment">    name = "myFeignClient", </span></span><br><span class="line"><span class="comment">    url = "http://127.0.0.1:8001",</span></span><br><span class="line"><span class="comment">    fallback = MyFeignClientFallback.class,</span></span><br><span class="line"><span class="comment">    configuration = &#123;FeignConfig.class&#125;)</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<p>æƒ³å¤„ç†ç†”æ–­çš„å…·ä½“åŸå› ,æ›´æ–°ç†”æ–­ç­–ç•¥ä»£ç å®ç°FallbackFactoryæ¥å£</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyFeignClientFallback</span> <span class="keyword">implements</span> <span class="title">FallbackFactory</span>&lt;<span class="title">MyFeignClient</span>&gt; </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> MyFeignClient <span class="title">create</span><span class="params">(<span class="keyword">final</span> Throwable cause)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> MyFeignClient() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> ReturnResult&lt;ImageVO&gt; <span class="title">uploadFile</span><span class="params">(MultipartFile file, String bucketName)</span> </span>&#123;</span><br><span class="line">                <span class="comment">// å¤„ç†cause</span></span><br><span class="line">                </span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">new</span> ReturnResult&lt;&gt;(<span class="number">5001</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Bean</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> MyFeignClientFallback <span class="title">fbf</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> MyFeignClientFallback();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"><span class="doctag">@FeignClient</span>(</span></span><br><span class="line"><span class="comment">    name = "myFeignClient", </span></span><br><span class="line"><span class="comment">    url = "http://127.0.0.1:8001",</span></span><br><span class="line"><span class="comment">    fallbackFactory = MyFeignClientFallback.class,</span></span><br><span class="line"><span class="comment">    configuration = &#123;FeignConfig.class&#125;)</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>



<hr>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1>]]></content>
      <categories>
        <category>SpringBoot</category>
      </categories>
  </entry>
  <entry>
    <title>SpringBooté—å¿˜ç‚¹é€Ÿè®°</title>
    <url>/2020/08/10/SpringBoot%E9%81%97%E5%BF%98%E7%82%B9%E9%80%9F%E8%AE%B0/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>SpringBootè™½ç„¶ç®€åŒ–äº†é…ç½®ï¼Œä½†æ˜¯è¿˜æ˜¯æœ‰å¾ˆå¤šé€Ÿé…çš„åœ°æ–¹å®¹æ˜“è¢«å¿˜è®°ï¼Œå¯¼è‡´é¡¹ç›®ç¼–è¯‘ä¸è¿‡å»ï¼Œè¿™é‡Œè®°å½•ä¸€ä¸‹SpringBootä¸­çš„ä¸€äº›å®¹æ˜“å¿˜è®°çš„ç‚¹ï¼Œæ–¹ä¾¿å‡ºé—®é¢˜é€ŸæŸ¥ï¼</p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><ol>
<li><p>SpringBooté»˜è®¤æ‰«æåŒ…çš„æœºåˆ¶æ˜¯ï¼šä»å¯åŠ¨ç±»å¼€å§‹ï¼Œæ‰«æå¯åŠ¨ç±»æ‰€åœ¨åŒ…å’Œå­åŒ…ä¸­çš„æ‰€æœ‰ç±»ã€‚å¦‚æœæƒ³è¦æ‰«æå…¶ä»–åŒ…ä¸‹çš„ç±»ï¼Œå¯ä»¥ä¿®æ”¹@SpringBootApplication(scanBasePackages = {â€œdemo.testâ€, â€œdemo.springâ€})ï¼›</p>
</li>
<li><p>é€šè¿‡ä¿®æ”¹application.ymlè®¾ç½®è¾“å‡ºçš„çº§åˆ«ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼ŒSpring Bootä»…è®°å½•åˆ°æ§åˆ¶å°ï¼Œä¸ä¼šå†™å…¥æ—¥å¿—æ–‡ä»¶ã€‚å¦‚æœéœ€è¦è¾“å‡ºåˆ°æ–‡ä»¶ï¼Œåˆ™éœ€è¦è®¾ç½® logging.fileæˆ–logging.pathå±æ€§ï¼š</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">logging:</span> </span><br><span class="line">  <span class="attr">level:</span></span><br><span class="line">    <span class="comment">#rootæ—¥å¿—ä»¥errorçº§åˆ«è¾“å‡º</span></span><br><span class="line">    <span class="attr">root:</span> <span class="string">error</span></span><br><span class="line">    <span class="comment">#demo.springbootåŒ…ä¸‹çš„æ—¥å¿—ä»¥debugçº§åˆ«è¾“å‡º</span></span><br><span class="line">    <span class="attr">demo.springboot:</span> <span class="string">debug</span></span><br><span class="line">  <span class="attr">file:</span> <span class="string">xxx-log.log</span></span><br></pre></td></tr></table></figure>

<ul>
<li>logging.fileï¼šä¼šåœ¨é¡¹ç›®çš„å½“å‰è·¯å¾„ä¸‹ç”Ÿæˆä¸€ä¸ª xxx.log æ—¥å¿—æ–‡ä»¶</li>
<li>logging.pathï¼šåœ¨æŒ‡å®šæ–‡ä»¶å¤¹ç”Ÿæˆä¸€ä¸ªæ—¥å¿—æ–‡ä»¶ä¸ºspring.log</li>
<li>äºŒè€…ä¸èƒ½åŒæ—¶ä½¿ç”¨ï¼Œå¦‚è‹¥åŒæ—¶ä½¿ç”¨ï¼Œåˆ™åªæœ‰logging.fileç”Ÿæ•ˆ</li>
</ul>
</li>
<li><p>æ ¹æ®ä¸åŒçš„æ—¥å¿—ç³»ç»Ÿï¼Œå¦‚æœæœ‰ä»¥ä¸‹æ–‡ä»¶ï¼Œå°†é»˜è®¤åŠ è½½ï¼š</p>
<ul>
<li><p>Logbackï¼šlogback-spring.xml, logback-spring.groovy, logback.xml, logback.groovy</p>
</li>
<li><p>Log4j2ï¼šlog4j2-spring.xml, log4j2.xml</p>
</li>
<li><p>JDK (Java Util Logging)ï¼šlogging.properties</p>
</li>
<li><p>SpringBootå»ºè®®ä½¿ç”¨-springå˜é‡è¿›è¡Œæ—¥å¿—è®°å½•é…ç½®</p>
</li>
<li><p>å¦‚æœä¸ä½¿ç”¨ä»¥ä¸Šæ–‡ä»¶åï¼Œåˆ™éœ€è¦åœ¨application.ymlé…ç½®åŠ è½½</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">logging:</span> </span><br><span class="line">  <span class="attr">config:</span> <span class="string">classpath:log-config.xml</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>SpringBootä¸ä¼šè‡ªåŠ¨æ³¨å†ŒRestTemplateï¼Œéœ€è¦è‡ªå·±æ³¨å†Œbeanï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> RestTemplate <span class="title">restTemplate</span><span class="params">(RestTemplateBuilder builder)</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> builder.build();</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>SpringBootå†…ç½®æ”¯æŒçš„Webå®¹å™¨æœ‰Tomcatã€Undertowã€Jettyå’ŒNettyï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œè¿™äº›WebæœåŠ¡çš„Accessæ—¥å¿—æ˜¯ä¸å¼€å¯çš„ï¼Œå¦‚æœéœ€è¦å¼€å¯æ—¥å¿—çš„è¯å°±éœ€è¦è¿›è¡Œç›¸åº”çš„é…ç½®ï¼š</p>
<ol>
<li><p><strong>Tomcatå®¹å™¨æ—¥å¿—é…ç½®</strong>ï¼šé»˜è®¤æ”¯æŒçš„æ˜¯Tomcat Webå®¹å™¨ï¼Œé…ç½®å¦‚ä¸‹</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">8080</span></span><br><span class="line">  <span class="attr">tomcat:</span></span><br><span class="line">    <span class="attr">basedir:</span> <span class="string">/home/wanderros/tomcat</span></span><br><span class="line">    <span class="attr">background-processor-delay:</span> <span class="number">30</span></span><br><span class="line">    <span class="attr">port-header:</span> <span class="string">X-Forwarded-Port</span></span><br><span class="line">    <span class="attr">protocol-header:</span> <span class="string">X-Forwarded-Proto</span></span><br><span class="line">    <span class="attr">protocol-header-https-value:</span> <span class="string">https</span></span><br><span class="line">    <span class="attr">redirect-context-root:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">remote-ip-header:</span> <span class="string">X-Forwarded-For</span></span><br><span class="line">    <span class="attr">uri-encoding:</span> <span class="string">UTF-8</span></span><br><span class="line">    <span class="attr">accesslog:</span></span><br><span class="line">      <span class="attr">enabled:</span> <span class="literal">true</span></span><br><span class="line">      <span class="attr">buffered:</span> <span class="literal">true</span></span><br><span class="line">      <span class="attr">directory:</span> <span class="string">./log</span></span><br><span class="line">      <span class="attr">file-date-format:</span> <span class="string">.yyyy-MM-dd</span></span><br><span class="line">      <span class="attr">pattern:</span> <span class="string">'%h %l %u %t "%r" %s %b "<span class="template-variable">%&#123;Referer&#125;</span>i" "<span class="template-variable">%&#123;User-Agent&#125;</span>i" %D ms'</span></span><br><span class="line">      <span class="attr">prefix:</span> <span class="string">access_log</span></span><br><span class="line">      <span class="attr">rename-on-rotate:</span> <span class="literal">false</span></span><br><span class="line">      <span class="attr">request-attributes-enabled:</span> <span class="literal">false</span></span><br><span class="line">      <span class="attr">rotate:</span> <span class="literal">true</span></span><br><span class="line">      <span class="attr">suffix:</span> <span class="string">.log</span></span><br></pre></td></tr></table></figure>

<ul>
<li>server.tomcat.basedirå±æ€§æ˜¯å¿…é¡»è¦é…ç½®çš„ï¼Œå¦‚æœä¸é…ç½®è¯¥å±æ€§ï¼Œæ—¥å¿—æ˜¯ä¸ä¼šè¾“å‡ºçš„</li>
</ul>
</li>
<li><p><strong>Undertowå®¹å™¨æ—¥å¿—é…ç½®</strong>ï¼šå¼•å…¥Undertowä¾èµ–åŒ…åï¼Œåœ¨é…ç½®æ–‡ä»¶æ·»åŠ å¦‚ä¸‹é…ç½®ï¼ˆæ³¨æ„éœ€è¦æ’é™¤tomcatä¾èµ–åŒ…ï¼‰</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">server:</span> </span><br><span class="line">  <span class="attr">undertow:</span> </span><br><span class="line">    <span class="attr">max-http-post-size:</span> <span class="string">10MB</span></span><br><span class="line">    <span class="attr">buffer-size:</span> <span class="string">1024KB</span></span><br><span class="line">    <span class="attr">io-threads:</span> <span class="number">8</span></span><br><span class="line">    <span class="attr">worker-threads:</span> <span class="number">64</span></span><br><span class="line">    <span class="attr">direct-buffers:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">eager-filter-init:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">accesslog:</span> </span><br><span class="line">      <span class="attr">enabled:</span> <span class="literal">true</span></span><br><span class="line">      <span class="attr">pattern:</span> <span class="string">common</span></span><br><span class="line">      <span class="attr">prefix:</span> <span class="string">access_log.</span></span><br><span class="line">      <span class="attr">suffix:</span> <span class="string">log</span></span><br><span class="line">      <span class="attr">dir:</span> <span class="string">/var/undertow/logs</span></span><br><span class="line">      <span class="attr">rotate:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Jettyå®¹å™¨æ—¥å¿—é…ç½®</strong>ï¼šå¼•å…¥Jettyä¾èµ–åŒ…åï¼Œåœ¨é…ç½®æ–‡ä»¶æ·»åŠ å¦‚ä¸‹é…ç½®ï¼ˆæ³¨æ„éœ€è¦æ’é™¤tomcatä¾èµ–åŒ…ï¼‰</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">server:</span> </span><br><span class="line">  <span class="attr">jetty:</span> </span><br><span class="line">    <span class="attr">max-http-post-size:</span> <span class="string">4MB</span></span><br><span class="line">    <span class="attr">acceptors:</span> <span class="number">32</span></span><br><span class="line">    <span class="attr">selectors:</span> <span class="number">32</span></span><br><span class="line">    <span class="attr">accesslog:</span> </span><br><span class="line">      <span class="attr">enabled:</span> <span class="literal">true</span></span><br><span class="line">      <span class="attr">filename:</span> <span class="string">/var/jetty/logs/access_log.yyyy_MM_dd.log</span></span><br><span class="line">      <span class="attr">file-date-format:</span> <span class="string">yyyy-MM-dd</span></span><br><span class="line">      <span class="attr">retention-period:</span> <span class="number">20</span></span><br><span class="line">      <span class="attr">append:</span> <span class="literal">true</span></span><br><span class="line">      <span class="attr">extended-format:</span> <span class="literal">true</span></span><br><span class="line">      <span class="attr">date-format:</span> <span class="string">'dd/MMM/yyyy:HH:mm:ss Z'</span></span><br><span class="line">      <span class="attr">locale:</span> <span class="string">zh</span></span><br><span class="line">      <span class="attr">timeZone:</span> <span class="string">GMT+8</span></span><br><span class="line">      <span class="attr">log-cookies:</span> <span class="literal">false</span></span><br><span class="line">      <span class="attr">log-server:</span> <span class="literal">true</span></span><br><span class="line">      <span class="attr">log-latency:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
<li></li>
</ol>
<hr>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1>]]></content>
  </entry>
  <entry>
    <title>SpringBooté›†æˆé‚®ä»¶å‘é€</title>
    <url>/2020/07/10/SpringBoot%E9%9B%86%E6%88%90%E9%82%AE%E4%BB%B6%E5%8F%91%E9%80%81/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>é‚®ä»¶å‘é€æ˜¯ä¸€ä¸ªéå¸¸å¸¸è§çš„éœ€æ±‚ï¼Œåœ¨ä¸€ä¸ªæœåŠ¡ç³»ç»Ÿä¸­è¿›è¡Œç”¨æˆ·æ³¨å†Œï¼Œæ‰¾å›å¯†ç ç­‰è¡Œä¸ºæ—¶éƒ½ä¼šç”¨åˆ°ã€‚Spring Boot ä¸­å¯¹äºé‚®ä»¶å‘é€æä¾›äº†ç›¸å…³çš„è‡ªåŠ¨åŒ–é…ç½®ç±»ï¼Œä½¿å¾—é‚®ä»¶å‘é€å˜å¾—éå¸¸å®¹æ˜“ï¼Œè¿™éƒ¨åˆ†ä¸»è¦è®°å½•å¦‚ä½•ä½¿ç”¨SpringBootå‘é€é‚®ä»¶ï¼</p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="åŸºç¡€çŸ¥è¯†"><a href="#åŸºç¡€çŸ¥è¯†" class="headerlink" title="åŸºç¡€çŸ¥è¯†"></a>åŸºç¡€çŸ¥è¯†</h2><ol>
<li><p>ç»å¸¸ç”¨åˆ°çš„é‚®ä»¶åè®®æœ‰SMTPã€POP3ã€IMAPï¼›</p>
</li>
<li><p>SMTP ï¼ˆ Simple Mail Transfer Protocolï¼Œç®€å•é‚®ä»¶ä¼ è¾“åè®®ï¼‰æ˜¯ä¸€ä¸ªåŸºäº TCP/IP çš„åº”ç”¨å±‚åè®®ï¼Œå®šä¹‰äº†é‚®ä»¶å®¢æˆ·ç«¯è½¯ä»¶ä¸ SMTP æœåŠ¡å™¨ä¹‹é—´ï¼Œä»¥åŠ SMTP æœåŠ¡å™¨ä¸ SMTP æœåŠ¡å™¨ä¹‹é—´çš„é€šä¿¡è§„åˆ™ã€‚æ±Ÿæ¹–åœ°ä½æœ‰ç‚¹ç±»ä¼¼äº HTTPï¼ŒSMTP æœåŠ¡å™¨é»˜è®¤ç›‘å¬çš„ç«¯å£å·ä¸º 25ï¼›</p>
</li>
<li><p>POP3 ï¼ˆPost Office Protocol ï¼Œé‚®å±€åè®®ï¼‰å®šä¹‰äº†é‚®ä»¶å®¢æˆ·ç«¯ä¸ POP3 æœåŠ¡å™¨ä¹‹é—´çš„é€šä¿¡è§„åˆ™ï¼›</p>
</li>
<li><p>é‚®ä»¶æœåŠ¡å•†ä¼šä¸ºæ¯ä¸€ä¸ªç”¨æˆ·æä¾›ä¸“é—¨çš„é‚®ä»¶å­˜å‚¨ç©ºé—´ï¼ŒSMTP æœåŠ¡å™¨æ”¶åˆ°é‚®ä»¶ä¹‹åï¼Œå°±å°†é‚®ä»¶ä¿å­˜åˆ°ç›¸åº”ç”¨æˆ·çš„é‚®ä»¶å­˜å‚¨ç©ºé—´ä¸­ï¼Œå¦‚æœç”¨æˆ·è¦è¯»å–é‚®ä»¶ï¼Œå°±éœ€è¦é€šè¿‡é‚®ä»¶æœåŠ¡å•†çš„ POP3 é‚®ä»¶æœåŠ¡å™¨æ¥å®Œæˆï¼›</p>
</li>
<li><p>IMAP åè®®ï¼Œè¿™ä¸ªåè®®æ˜¯å¯¹ POP3 åè®®çš„æ‰©å±•ï¼ŒåŠŸèƒ½æ›´å¼ºï¼Œä½œç”¨ç±»ä¼¼ï¼›</p>
</li>
<li><p>ç›®å‰å›½å†…å¤§éƒ¨åˆ†çš„é‚®ä»¶æœåŠ¡å•†éƒ½ä¸å…è®¸ç›´æ¥ä½¿ç”¨ç”¨æˆ·å/å¯†ç çš„æ–¹å¼æ¥åœ¨ä»£ç ä¸­å‘é€é‚®ä»¶ï¼Œéƒ½æ˜¯è¦å…ˆç”³è¯·æˆæƒç ï¼Œç„¶åä½¿ç”¨æˆæƒç è¿›è¡Œé‚®ä»¶çš„å‘é€ï¼</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/51fcdef174009fb54d405a77cbee28dc-85900" alt="QQé‚®ç®±æˆæƒç ç”³è¯·"></p>
</li>
</ol>
<h1 id="åŠ¨æ‰‹å®æ“"><a href="#åŠ¨æ‰‹å®æ“" class="headerlink" title="åŠ¨æ‰‹å®æ“"></a>åŠ¨æ‰‹å®æ“</h1><h2 id="åˆ›å»ºä¸€ä¸ªSpringBooté¡¹ç›®"><a href="#åˆ›å»ºä¸€ä¸ªSpringBooté¡¹ç›®" class="headerlink" title="åˆ›å»ºä¸€ä¸ªSpringBooté¡¹ç›®"></a>åˆ›å»ºä¸€ä¸ªSpringBooté¡¹ç›®</h2><ol>
<li><p>æ·»åŠ ç›¸å…³çš„ä¾èµ–ï¼ˆpom.xmlï¼‰ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- é‚®ä»¶å‘é€ç›¸å…³ä¾èµ– --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-mail<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- webä¾èµ– --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- thymeleafæ¨¡æ¿å¼•æ“ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-thymeleaf<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>é…ç½®é‚®ä»¶å±æ€§ï¼š</p>
<figure class="highlight properties"><table><tr><td class="code"><pre><span class="line"><span class="comment"># é…ç½® SMTP æœåŠ¡å™¨åœ°å€</span></span><br><span class="line"><span class="meta">spring.mail.host</span>=<span class="string">smtp.qq.com</span></span><br><span class="line"><span class="comment"># SMTP æœåŠ¡å™¨çš„ç«¯å£</span></span><br><span class="line"><span class="meta">spring.mail.port</span>=<span class="string">465</span></span><br><span class="line"><span class="comment"># é…ç½®é‚®ç®±ç”¨æˆ·å</span></span><br><span class="line"><span class="meta">spring.mail.username</span>=<span class="string">1194409532@qq.com</span></span><br><span class="line"><span class="comment"># é…ç½®å¯†ç ï¼Œæ³¨æ„ï¼Œä¸æ˜¯çœŸæ­£çš„å¯†ç ï¼Œè€Œæ˜¯åˆšåˆšç”³è¯·åˆ°çš„æˆæƒç </span></span><br><span class="line"><span class="meta">spring.mail.password</span>=<span class="string">buvoyedfresigfjf</span></span><br><span class="line"><span class="comment"># é»˜è®¤çš„é‚®ä»¶ç¼–ç </span></span><br><span class="line"><span class="meta">spring.mail.default-encoding</span>=<span class="string">UTF-8</span></span><br><span class="line"><span class="comment"># SSLåŠ å¯†ä½¿èƒ½ï¼Œå¿…é¡»</span></span><br><span class="line"><span class="meta">spring.mail.properties.mail.smtp.ssl.enable</span>=<span class="string">true</span></span><br><span class="line"><span class="comment"># é…ç½® SSL åŠ å¯†å·¥å‚</span></span><br><span class="line"><span class="meta">spring.mail.properties.mail.smtp.socketFactoryClass</span>=<span class="string">javax.net.ssl.SSLSocketFactory</span></span><br><span class="line"><span class="comment"># å¼€å¯ DEBUG æ¨¡å¼ï¼Œè¿™æ ·ï¼Œé‚®ä»¶å‘é€è¿‡ç¨‹çš„æ—¥å¿—ä¼šåœ¨æ§åˆ¶å°æ‰“å°å‡ºæ¥ï¼Œæ–¹ä¾¿æ’æŸ¥é”™è¯¯</span></span><br><span class="line"><span class="meta">spring.mail.properties.mail.debug</span>=<span class="string">true</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>è…¾è®¯çš„é‚®ç®±æ–‡æ¡£ï¼š<a href="https://service.mail.qq.com/cgi-bin/help?subtype=1&amp;&amp;id=28&amp;&amp;no=371" target="_blank" rel="noopener">https://service.mail.qq.com/cgi-bin/help?subtype=1&amp;&amp;id=28&amp;&amp;no=371</a></p>
</li>
<li><p>é…ç½®å®Œè¿™äº›ä¹‹åï¼ŒSpring Boot å°±ä¼šè‡ªåŠ¨å¸®æˆ‘ä»¬é…ç½®å¥½é‚®ä»¶å‘é€ç±»ï¼Œç›¸å…³çš„é…ç½®åœ¨org.springframework.boot.autoconfigure.mail.MailSenderAutoConfiguration ç±»ä¸­ï¼›</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@ConditionalOnClass</span>(&#123; MimeMessage<span class="class">.<span class="keyword">class</span>, <span class="title">MimeType</span>.<span class="title">class</span>, <span class="title">MailSender</span>.<span class="title">class</span> &#125;)</span></span><br><span class="line"><span class="class">@<span class="title">ConditionalOnMissingBean</span>(<span class="title">MailSender</span>.<span class="title">class</span>)</span></span><br><span class="line"><span class="class">@<span class="title">Conditional</span>(<span class="title">MailSenderCondition</span>.<span class="title">class</span>)</span></span><br><span class="line"><span class="class">@<span class="title">EnableConfigurationProperties</span>(<span class="title">MailProperties</span>.<span class="title">class</span>)</span></span><br><span class="line"><span class="class">@<span class="title">Import</span>(</span>&#123; MailSenderJndiConfiguration<span class="class">.<span class="keyword">class</span>, <span class="title">MailSenderPropertiesConfiguration</span>.<span class="title">class</span> &#125;)</span></span><br><span class="line"><span class="class"><span class="title">public</span> <span class="title">class</span> <span class="title">MailSenderAutoConfiguration</span> </span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>é…ç½®ç±»<code>MailSenderPropertiesConfiguration</code>æä¾›äº†é‚®ä»¶å‘é€ç›¸å…³çš„å·¥å…·ç±»:</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@ConditionalOnProperty</span>(prefix = <span class="string">"spring.mail"</span>, name = <span class="string">"host"</span>)</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MailSenderPropertiesConfiguration</span> </span>&#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">final</span> MailProperties properties;</span><br><span class="line">        MailSenderPropertiesConfiguration(MailProperties properties) &#123;</span><br><span class="line">                <span class="keyword">this</span>.properties = properties;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="meta">@Bean</span></span><br><span class="line">        <span class="meta">@ConditionalOnMissingBean</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> JavaMailSenderImpl <span class="title">mailSender</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                JavaMailSenderImpl sender = <span class="keyword">new</span> JavaMailSenderImpl();</span><br><span class="line">                applyProperties(sender);</span><br><span class="line">                <span class="keyword">return</span> sender;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h2 id="å‘é€ç®€å•é‚®ä»¶"><a href="#å‘é€ç®€å•é‚®ä»¶" class="headerlink" title="å‘é€ç®€å•é‚®ä»¶"></a>å‘é€ç®€å•é‚®ä»¶</h2><ol>
<li><p>ç®€å•é‚®ä»¶å°±æ˜¯æŒ‡é‚®ä»¶å†…å®¹æ˜¯ä¸€ä¸ªæ™®é€šçš„æ–‡æœ¬æ–‡æ¡£ï¼›</p>
</li>
<li><p>ç¤ºä¾‹ä»£ç ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">helloController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    JavaMailSender javaMailSender;</span><br><span class="line">    <span class="meta">@GetMapping</span>(<span class="string">"/"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">sendMail</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="comment">// æ„å»ºä¸€ä¸ªé‚®ä»¶å¯¹è±¡</span></span><br><span class="line">        SimpleMailMessage message = <span class="keyword">new</span> SimpleMailMessage();</span><br><span class="line">        <span class="comment">// è®¾ç½®é‚®ä»¶ä¸»é¢˜</span></span><br><span class="line">        message.setSubject(<span class="string">"è¿™æ˜¯ä¸€å°æµ‹è¯•é‚®ä»¶"</span>);</span><br><span class="line">      	<span class="comment">// è®¾ç½®é‚®ä»¶å‘é€è€…</span></span><br><span class="line">        message.setFrom(<span class="string">"1194409532@qq.com"</span>);</span><br><span class="line">      	<span class="comment">// è®¾ç½®é‚®ä»¶æ¥æ”¶è€…ï¼Œå¯ä»¥æœ‰å¤šä¸ªæ¥æ”¶è€…</span></span><br><span class="line">        message.setTo(<span class="string">"wangshipeng100@163.com"</span>);</span><br><span class="line">      	<span class="comment">// è®¾ç½®é‚®ä»¶æŠ„é€äººï¼Œå¯ä»¥æœ‰å¤šä¸ªæŠ„é€äºº</span></span><br><span class="line">        message.setCc(<span class="string">"wangshipeng100@163.com"</span>);</span><br><span class="line">      	<span class="comment">// è®¾ç½®éšç§˜æŠ„é€äººï¼Œå¯ä»¥æœ‰å¤šä¸ª</span></span><br><span class="line">        message.setBcc(<span class="string">"wangshipeng100@163.com"</span>);</span><br><span class="line">      	<span class="comment">// è®¾ç½®é‚®ä»¶å‘é€æ—¥æœŸ</span></span><br><span class="line">        message.setSentDate(<span class="keyword">new</span> Date());</span><br><span class="line">      	<span class="comment">// è®¾ç½®é‚®ä»¶çš„æ­£æ–‡</span></span><br><span class="line">        message.setText(<span class="string">"è¿™æ˜¯æµ‹è¯•é‚®ä»¶çš„æ­£æ–‡"</span>);</span><br><span class="line">      	<span class="comment">// å‘é€é‚®ä»¶</span></span><br><span class="line">        javaMailSender.send(message);</span><br><span class="line">        <span class="keyword">return</span>  <span class="string">"success!"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>è®¿é—®ç½‘é¡µæ‰§è¡Œæ•ˆæœï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/a12c4aa629f3c6eee1072290a59f8e98-39237" alt="ç®€å•é‚®ä»¶"></p>
</li>
</ol>
<h2 id="å‘é€å¤æ‚é‚®ä»¶"><a href="#å‘é€å¤æ‚é‚®ä»¶" class="headerlink" title="å‘é€å¤æ‚é‚®ä»¶"></a>å‘é€å¤æ‚é‚®ä»¶</h2><ol>
<li><p>é€šè¿‡ javaMailSender æ¥è·å–ä¸€ä¸ªå¤æ‚é‚®ä»¶å¯¹è±¡ï¼Œç„¶åå†åˆ©ç”¨ MimeMessageHelper å¯¹é‚®ä»¶è¿›è¡Œé…ç½®ï¼ŒMimeMessageHelper æ˜¯ä¸€ä¸ªé‚®ä»¶é…ç½®çš„è¾…åŠ©å·¥å…·ç±»ï¼Œåˆ›å»ºæ—¶å€™çš„ true è¡¨ç¤ºæ„å»ºä¸€ä¸ª multipart message ç±»å‹çš„é‚®ä»¶ï¼Œæœ‰äº† MimeMessageHelper ä¹‹åï¼Œæˆ‘ä»¬é’ˆå¯¹é‚®ä»¶çš„é…ç½®éƒ½æ˜¯ç”± MimeMessageHelper æ¥ä»£åŠ³ï¼›</p>
</li>
<li><p>é€šè¿‡ addAttachment æ–¹æ³•æ¥æ·»åŠ ä¸€ä¸ªé™„ä»¶ï¼›</p>
</li>
<li><p>ç¤ºä¾‹ä»£ç ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@GetMapping</span>(<span class="string">"/sendimg"</span>)</span><br><span class="line"> <span class="function"><span class="keyword">public</span> String <span class="title">sendPicture</span><span class="params">()</span> <span class="keyword">throws</span>  Exception</span>&#123;</span><br><span class="line">     MimeMessage mimeMessage = javaMailSender.createMimeMessage();</span><br><span class="line">     MimeMessageHelper helper = <span class="keyword">new</span> MimeMessageHelper(mimeMessage,<span class="keyword">true</span>);</span><br><span class="line">     helper.setSubject(<span class="string">"è¿™æ˜¯ä¸€å°æµ‹è¯•é‚®ä»¶"</span>);</span><br><span class="line">     helper.setFrom(<span class="string">"1194409532@qq.com"</span>);</span><br><span class="line">     helper.setTo(<span class="string">"wangshipeng100@163.com"</span>);</span><br><span class="line">     helper.setCc(<span class="string">"wangshipeng100@163.com"</span>);</span><br><span class="line">     helper.setBcc(<span class="string">"wangshipeng100@163.com"</span>);</span><br><span class="line">     helper.setSentDate(<span class="keyword">new</span> Date());</span><br><span class="line">     helper.setText(<span class="string">"è¿™æ˜¯æµ‹è¯•é‚®ä»¶çš„æ­£æ–‡"</span>);</span><br><span class="line">     helper.addAttachment(<span class="string">"test.jpg"</span>,<span class="keyword">new</span> File(<span class="string">"/Users/wander/Downloads/test.jpg"</span>));</span><br><span class="line">     javaMailSender.send(mimeMessage);</span><br><span class="line">     <span class="keyword">return</span> <span class="string">"success two!"</span>;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>è®¿é—®ç½‘é¡µæ‰§è¡Œæ•ˆæœï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/805267f91d2623d0f29b8abd80b3a4bd-38110" alt="è®¿é—®ç½‘é¡µæ‰§è¡Œæ•ˆæœ"></p>
</li>
</ol>
<h2 id="é‚®ä»¶å†…å®¹æ’å…¥å›¾ç‰‡"><a href="#é‚®ä»¶å†…å®¹æ’å…¥å›¾ç‰‡" class="headerlink" title="é‚®ä»¶å†…å®¹æ’å…¥å›¾ç‰‡"></a>é‚®ä»¶å†…å®¹æ’å…¥å›¾ç‰‡</h2><ol>
<li><p>é‚®ä»¶ text æ˜¯ä¸€ä¸ª HTML æ–‡æœ¬ï¼Œé‡Œè¾¹æ¶‰åŠåˆ°çš„å›¾ç‰‡èµ„æºå…ˆç”¨ä¸€ä¸ªå ä½ç¬¦å ç€ï¼ŒsetText æ–¹æ³•çš„ç¬¬äºŒä¸ªå‚æ•° true è¡¨ç¤ºç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä¸€ä¸ª HTML æ–‡æœ¬ï¼›</p>
</li>
<li><p>setText ä¹‹åï¼Œå†é€šè¿‡ addInline æ–¹æ³•æ¥æ·»åŠ å›¾ç‰‡èµ„æºï¼›</p>
</li>
<li><p>ç¤ºä¾‹ä»£ç ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@GetMapping</span>(<span class="string">"/inline"</span>)</span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">sendInPicture</span><span class="params">()</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">    MimeMessage mimeMessage = javaMailSender.createMimeMessage();</span><br><span class="line">    MimeMessageHelper helper = <span class="keyword">new</span> MimeMessageHelper(mimeMessage, <span class="keyword">true</span>);</span><br><span class="line">    helper.setSubject(<span class="string">"è¿™æ˜¯ä¸€å°æµ‹è¯•é‚®ä»¶"</span>);</span><br><span class="line">    helper.setFrom(<span class="string">"1194409532@qq.com"</span>);</span><br><span class="line">    helper.setTo(<span class="string">"wangshipeng100@163.com"</span>);</span><br><span class="line">    helper.setCc(<span class="string">"wangshipeng100@163.com"</span>);</span><br><span class="line">    helper.setBcc(<span class="string">"wangshipeng100@163.com"</span>);</span><br><span class="line">    helper.setSentDate(<span class="keyword">new</span> Date());</span><br><span class="line">    helper.setText(<span class="string">"&lt;p&gt;hello å¤§å®¶å¥½ï¼Œè¿™æ˜¯ä¸€å°æµ‹è¯•é‚®ä»¶ï¼Œè¿™å°é‚®ä»¶åŒ…å«ä¸¤ç§å›¾ç‰‡ï¼Œåˆ†åˆ«å¦‚ä¸‹&lt;/p&gt;&lt;p&gt;ç¬¬ä¸€å¼ å›¾ç‰‡ï¼š&lt;/p&gt;&lt;img src='cid:p01'/&gt;&lt;p&gt;ç¬¬äºŒå¼ å›¾ç‰‡ï¼š&lt;/p&gt;&lt;img src='cid:p02'/&gt;"</span>,<span class="keyword">true</span>);</span><br><span class="line">    helper.addInline(<span class="string">"p01"</span>,<span class="keyword">new</span> FileSystemResource(<span class="keyword">new</span> File(<span class="string">"/Users/wander/Downloads/test.jpg"</span>)));</span><br><span class="line">    helper.addInline(<span class="string">"p02"</span>,<span class="keyword">new</span> FileSystemResource(<span class="keyword">new</span> File(<span class="string">"/Users/wander/Downloads/test.jpg"</span>)));</span><br><span class="line">    javaMailSender.send(mimeMessage);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"Inline success!"</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>è®¿é—®ç½‘é¡µæ‰§è¡Œæ•ˆæœï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/d151dd088d4f482ec02cd71e06be9fe9-199681" alt="è®¿é—®ç½‘é¡µæ‰§è¡Œæ•ˆæœ"></p>
</li>
</ol>
<h2 id="ä½¿ç”¨-Thymeleaf-ä½œé‚®ä»¶æ¨¡æ¿"><a href="#ä½¿ç”¨-Thymeleaf-ä½œé‚®ä»¶æ¨¡æ¿" class="headerlink" title="ä½¿ç”¨ Thymeleaf ä½œé‚®ä»¶æ¨¡æ¿"></a>ä½¿ç”¨ Thymeleaf ä½œé‚®ä»¶æ¨¡æ¿</h2><ol>
<li><p>Thymeleaf çš„è‡ªåŠ¨åŒ–é…ç½®æä¾›äº†ä¸€ä¸ª TemplateEngineï¼Œé€šè¿‡ TemplateEngine å¯ä»¥æ–¹ä¾¿çš„å°† Thymeleaf æ¨¡æ¿æ¸²æŸ“ä¸º HTML ;</p>
</li>
<li><p>HTMLæ¨¡æ¿ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span> <span class="attr">xmlns:th</span>=<span class="string">"http://www.thymeleaf.org"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>hello æ¬¢è¿åŠ å…¥ xxx å¤§å®¶åº­ï¼Œæ‚¨çš„å…¥èŒä¿¡æ¯å¦‚ä¸‹ï¼š<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">table</span> <span class="attr">border</span>=<span class="string">"1"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>å§“å<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span> <span class="attr">th:text</span>=<span class="string">"$&#123;username&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>å·¥å·<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span> <span class="attr">th:text</span>=<span class="string">"$&#123;num&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>è–ªæ°´<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span> <span class="attr">th:text</span>=<span class="string">"$&#123;salary&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"color: #ff1a0e"</span>&gt;</span>ä¸€èµ·åŠªåŠ›åˆ›é€ è¾‰ç…Œ<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>ç¤ºä¾‹ä»£ç ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Autowired</span></span><br><span class="line">TemplateEngine templateEngine;</span><br><span class="line"><span class="meta">@GetMapping</span>(<span class="string">"/model"</span>)</span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">sendThymleaf</span><span class="params">()</span> <span class="keyword">throws</span>  Exception</span>&#123;</span><br><span class="line">    MimeMessage mimeMessage = javaMailSender.createMimeMessage();</span><br><span class="line">    MimeMessageHelper helper = <span class="keyword">new</span> MimeMessageHelper(mimeMessage, <span class="keyword">true</span>);</span><br><span class="line">    helper.setSubject(<span class="string">"è¿™æ˜¯ä¸€å°æµ‹è¯•é‚®ä»¶"</span>);</span><br><span class="line">    helper.setFrom(<span class="string">"1194409532@qq.com"</span>);</span><br><span class="line">    helper.setTo(<span class="string">"wangshipeng100@163.com"</span>);</span><br><span class="line">    helper.setCc(<span class="string">"wangshipeng100@163.com"</span>);</span><br><span class="line">    helper.setBcc(<span class="string">"wangshipeng100@163.com"</span>);</span><br><span class="line">    helper.setSentDate(<span class="keyword">new</span> Date());</span><br><span class="line">    Context context = <span class="keyword">new</span> Context();</span><br><span class="line">    context.setVariable(<span class="string">"username"</span>, <span class="string">"test"</span>);</span><br><span class="line">    context.setVariable(<span class="string">"num"</span>,<span class="string">"000001"</span>);</span><br><span class="line">    context.setVariable(<span class="string">"salary"</span>, <span class="string">"99999"</span>);</span><br><span class="line">    String process = templateEngine.process(<span class="string">"mail.html"</span>, context);</span><br><span class="line">    helper.setText(process,<span class="keyword">true</span>);</span><br><span class="line">    javaMailSender.send(mimeMessage);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"model success!"</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>è®¿é—®ç½‘é¡µæ‰§è¡Œæ•ˆæœï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/291207ca23b8e7675fddfc6978d0e774-54814" alt="è®¿é—®ç½‘é¡µæ‰§è¡Œæ•ˆæœ"></p>
</li>
</ol>
]]></content>
      <categories>
        <category>SpringBoot</category>
      </categories>
  </entry>
  <entry>
    <title>SpringCloud Consul Quick Start</title>
    <url>/2020/08/28/SpringCloud-Consul-Quick-Start/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>åœ¨å¾®æœåŠ¡æ¶æ„ä½“ç³»ä¸­ï¼ŒæœåŠ¡å‘ç°æ˜¯éå¸¸é‡è¦çš„ç»„ä»¶ã€‚Euerkaã€Consulã€zookeeperã€etcdã€Nacosç­‰éƒ½æ˜¯æ³¨å†Œä¸­å¿ƒï¼Œæœ¬ä¸»è¦è®°å½•Consulä½œä¸ºæ³¨å†Œä¸­å¿ƒï¼Œå¦‚ä½•è¿›è¡ŒæœåŠ¡æ³¨å†Œä»¥åŠè¿›è¡Œé…ç½®ä¸­å¿ƒé…ç½®ã€‚</p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="åŸºç¡€çŸ¥è¯†"><a href="#åŸºç¡€çŸ¥è¯†" class="headerlink" title="åŸºç¡€çŸ¥è¯†"></a>åŸºç¡€çŸ¥è¯†</h2><ol>
<li><p>æœåŠ¡ç½‘æ ¼ï¼ˆService Meshï¼‰æ˜¯ç”¨äºæ§åˆ¶å’Œç›‘æ§å¾®æœåŠ¡åº”ç”¨ç¨‹åºä¸­çš„å†…éƒ¨æœåŠ¡åˆ°æœåŠ¡æµé‡çš„è½¯ä»¶åŸºç¡€ç»“æ„å±‚ã€‚åœ¨æ­¤æ¨¡å‹ä¸­ï¼ŒæœåŠ¡ç½‘æ ¼å¯¹äºå¼€å‘äººå‘˜ (æœåŠ¡æ‰€æœ‰è€…) æ˜¯é€æ˜çš„ï¼Œ è€Œè¿ç»´äººå‘˜ (å¹³å°å·¥ç¨‹å¸ˆ) åˆ™è¢«æˆäºˆä¸€å¥—æ–°çš„å·¥å…·ï¼Œä»¥ç¡®ä¿å¯é æ€§ã€å®‰å…¨æ€§å’Œå¯è§æ€§ï¼›</p>
</li>
<li><p>æœåŠ¡ç½‘æ ¼çš„ç”±æ¥ï¼šå¯¹è®¸å¤šå…¬å¸æ¥è¯´ï¼ŒDocker å’Œ Kubernetes è¿™æ ·çš„å·¥å…·å·²ç» â€œè§£å†³äº†éƒ¨ç½²é—®é¢˜â€ï¼ˆDocker å’Œ Kubernetes æ‰€æä¾›äº†å¼ºå¤§çš„æŠ½è±¡ï¼Œå¹¶ä¸”å°†æœåŠ¡æ‰“åŒ…å’Œéƒ¨ç½²æ¨¡å¼è¿‡ç¨‹æ ‡å‡†åŒ–äº†ï¼‰ï¼Œä½†æ˜¯è¿˜æ²¡æœ‰è§£å†³è¿è¡Œæ—¶é—®é¢˜ï¼ŒæœåŠ¡ç½‘æ ¼ä¸ºäº†è§£å†³è¯¥é—®é¢˜è€Œäº§ç”Ÿï¼›</p>
</li>
<li><p>æœåŠ¡ç½‘æ ¼çš„æ ¸å¿ƒï¼šæä¾›ç»Ÿä¸€çš„å…¨å±€æ–¹æ³•æ¥æ§åˆ¶å’Œæµ‹é‡åº”ç”¨æˆ–æœåŠ¡ä¹‹é—´çš„æ‰€æœ‰è¯·æ±‚æµé‡ï¼ˆä¸œè¥¿æµé‡ï¼ŒEast-West Trafficï¼‰ã€‚åœ¨å¾®æœåŠ¡æ¶æ„ä¸­ï¼Œä¸œè¥¿æµé‡åœ¨ç³»ç»Ÿè¿è¡Œä¸­å‘æŒ¥ç€è‡³å…³é‡è¦çš„ä½œç”¨ï¼Œè¯¥æµé‡æ˜¯å†³å®šåº”ç”¨ç¨‹åºåœ¨è¿è¡Œæ—¶è¡Œä¸ºçš„å…³é”®å› ç´ ã€‚å› æ­¤æ ‡å‡†åŒ–æ­¤æµé‡çš„ç®¡ç†å°†æˆä¸ºæ ‡å‡†åŒ–åº”ç”¨ç¨‹åºè¿è¡Œæ—¶æ“ä½œçš„åˆ‡å…¥å£ï¼›</p>
<ul>
<li>å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´çš„æµé‡è¢«ç§°ä¸ºå—åŒ—æµé‡ï¼ˆSouth-North Trafficï¼‰</li>
<li>ä¸åŒæœåŠ¡å™¨ä¹‹é—´çš„æµé‡ä¸æ•°æ®ä¸­å¿ƒæˆ–ä¸åŒæ•°æ®ä¸­å¿ƒä¹‹é—´çš„ç½‘ç»œæµè¢«ç§°ä¸ºä¸œè¥¿æµé‡ï¼ˆEast-West Trafficï¼‰</li>
<li>ä¸œè¥¿æµé‡å’Œå—åŒ—æµé‡çš„å‘½åæºäºå…¸å‹Network Diagramsçš„ä¹ æƒ¯ï¼Œåœ¨å›¾è¡¨ä¸­ï¼Œé€šå¸¸æ ¸å¿ƒç½‘ç»œç»„ä»¶ç»˜åˆ¶åœ¨é¡¶éƒ¨ï¼ˆNorthï¼‰ï¼Œå®¢æˆ·ç«¯ç»˜åˆ¶åœ¨åº•éƒ¨ï¼ˆSouthï¼‰ï¼Œè€Œæ•°æ®ä¸­å¿ƒå†…çš„ä¸åŒæœåŠ¡å™¨æ°´å¹³ï¼ˆEast-Westï¼‰ç»˜åˆ¶</li>
</ul>
</li>
<li><p>Consulæ˜¯ä¸€ä¸ªæœåŠ¡ç½‘æ ¼è§£å†³æ–¹æ¡ˆï¼Œæä¾›äº†ä¸€ä¸ªåŠŸèƒ½é½å…¨çš„æ§åˆ¶å¹³é¢ï¼Œä¸»è¦ç‰¹ç‚¹æ˜¯ï¼šæœåŠ¡å‘ç°ã€å¥åº·æ£€æŸ¥ã€é”®å€¼å­˜å‚¨ã€å®‰å…¨æœåŠ¡é€šä¿¡ã€å¤šæ•°æ®ä¸­å¿ƒï¼›</p>
</li>
<li><p>Consulå·¥ä½œåŸç†å¦‚ä¸‹ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/b37089065f72f6cfc8cddf0bdf8aa006-45510" alt="Consulå·¥ä½œåŸç†"></p>
</li>
<li><p>Consulçš„ä½¿ç”¨åœºæ™¯åŒ…æ‹¬æœåŠ¡å‘ç°ã€æœåŠ¡éš”ç¦»ã€æœåŠ¡é…ç½®ï¼š</p>
<ul>
<li>æœåŠ¡å‘ç°åœºæ™¯ä¸­consulä½œä¸ºæ³¨å†Œä¸­å¿ƒï¼ŒæœåŠ¡åœ°å€è¢«æ³¨å†Œåˆ°consulä¸­ä»¥åï¼Œå¯ä»¥ä½¿ç”¨consulæä¾›çš„dnsã€httpæ¥å£æŸ¥è¯¢ï¼Œconsulæ”¯æŒhealth check</li>
<li>æœåŠ¡éš”ç¦»åœºæ™¯ä¸­consulæ”¯æŒä»¥æœåŠ¡ä¸ºå•ä½è®¾ç½®è®¿é—®ç­–ç•¥ï¼Œèƒ½åŒæ—¶æ”¯æŒç»å…¸çš„å¹³å°å’Œæ–°å…´çš„å¹³å°ï¼Œæ”¯æŒtlsè¯ä¹¦åˆ†å‘ï¼Œservice-to-serviceåŠ å¯†</li>
<li>æœåŠ¡é…ç½®åœºæ™¯ä¸­consulæä¾›key-valueæ•°æ®å­˜å‚¨åŠŸèƒ½ï¼Œå¹¶ä¸”èƒ½å°†å˜åŠ¨è¿…é€Ÿåœ°é€šçŸ¥å‡ºå»ï¼Œå€ŸåŠ©consulå¯ä»¥å®ç°é…ç½®å…±äº«ï¼Œéœ€è¦è¯»å–é…ç½®çš„æœåŠ¡å¯ä»¥ä»consulä¸­è¯»å–åˆ°å‡†ç¡®çš„é…ç½®ä¿¡æ¯</li>
<li>consulå¯ä»¥å¸®åŠ©ç³»ç»Ÿç®¡ç†è€…æ›´æ¸…æ™°çš„äº†è§£å¤æ‚ç³»ç»Ÿå†…éƒ¨çš„ç³»ç»Ÿæ¶æ„ï¼Œè¿ç»´äººå‘˜å¯ä»¥å°†consulçœ‹æˆä¸€ç§ç›‘æ§è½¯ä»¶ï¼Œä¹Ÿå¯ä»¥çœ‹æˆä¸€ç§èµ„äº§ï¼ˆèµ„æºï¼‰ç®¡ç†ç³»ç»Ÿ</li>
</ul>
</li>
<li><p>Consul å’Œå…¶ä»–æ³¨å†Œä¸­å¿ƒçš„å¯¹æ¯”ï¼š</p>
<table>
<thead>
<tr>
<th align="left">Feature</th>
<th align="left">euerka</th>
<th align="left">Consul</th>
<th align="left">zookeeper</th>
<th align="left">etcd</th>
</tr>
</thead>
<tbody><tr>
<td align="left">æœåŠ¡å¥åº·æ£€æŸ¥</td>
<td align="left">å¯é…æ”¯æŒ</td>
<td align="left">æœåŠ¡çŠ¶æ€ï¼Œå†…å­˜ï¼Œç¡¬ç›˜ç­‰</td>
<td align="left">(å¼±)é•¿è¿æ¥ï¼Œkeepalive</td>
<td align="left">è¿æ¥å¿ƒè·³</td>
</tr>
<tr>
<td align="left">å¤šæ•°æ®ä¸­å¿ƒ</td>
<td align="left">â€”</td>
<td align="left">æ”¯æŒ</td>
<td align="left">â€”</td>
<td align="left">â€”</td>
</tr>
<tr>
<td align="left">kv å­˜å‚¨æœåŠ¡</td>
<td align="left">â€”</td>
<td align="left">æ”¯æŒ</td>
<td align="left">æ”¯æŒ</td>
<td align="left">æ”¯æŒ</td>
</tr>
<tr>
<td align="left">ä¸€è‡´æ€§</td>
<td align="left">â€”</td>
<td align="left">raft</td>
<td align="left">paxos</td>
<td align="left">raft</td>
</tr>
<tr>
<td align="left">cap</td>
<td align="left">ap</td>
<td align="left">ca</td>
<td align="left">cp</td>
<td align="left">cp</td>
</tr>
<tr>
<td align="left">ä½¿ç”¨æ¥å£(å¤šè¯­è¨€èƒ½åŠ›)</td>
<td align="left">httpï¼ˆsidecarï¼‰</td>
<td align="left">æ”¯æŒ http å’Œ dns</td>
<td align="left">å®¢æˆ·ç«¯</td>
<td align="left">http/grpc</td>
</tr>
<tr>
<td align="left">watch æ”¯æŒ</td>
<td align="left">æ”¯æŒ long polling/å¤§éƒ¨åˆ†å¢é‡</td>
<td align="left">å…¨é‡/æ”¯æŒlong polling</td>
<td align="left">æ”¯æŒ</td>
<td align="left">æ”¯æŒ long polling</td>
</tr>
<tr>
<td align="left">è‡ªèº«ç›‘æ§</td>
<td align="left">metrics</td>
<td align="left">metrics</td>
<td align="left">â€”</td>
<td align="left">metrics</td>
</tr>
<tr>
<td align="left">å®‰å…¨</td>
<td align="left">â€”</td>
<td align="left">acl /https</td>
<td align="left">acl</td>
<td align="left">https æ”¯æŒï¼ˆå¼±ï¼‰</td>
</tr>
<tr>
<td align="left">spring cloud é›†æˆ</td>
<td align="left">å·²æ”¯æŒ</td>
<td align="left">å·²æ”¯æŒ</td>
<td align="left">å·²æ”¯æŒ</td>
<td align="left">å·²æ”¯æŒ</td>
</tr>
</tbody></table>
</li>
<li><p>Consulçš„ä¼˜åŠ¿ï¼š</p>
<ul>
<li>ä½¿ç”¨ Raft ç®—æ³•æ¥ä¿è¯ä¸€è‡´æ€§, æ¯”å¤æ‚çš„ Paxos ç®—æ³•æ›´ç›´æ¥</li>
<li>æ”¯æŒå¤šæ•°æ®ä¸­å¿ƒï¼Œå†…å¤–ç½‘çš„æœåŠ¡é‡‡ç”¨ä¸åŒçš„ç«¯å£è¿›è¡Œç›‘å¬</li>
<li>æ”¯æŒå¥åº·æ£€æŸ¥</li>
<li>æ”¯æŒ http å’Œ dns åè®®æ¥å£</li>
<li>å®˜æ–¹æä¾› web ç®¡ç†ç•Œé¢</li>
</ul>
</li>
<li><p>SpringCloudå®˜ç½‘è¯´æ˜æ–‡æ¡£ï¼š<a href="https://cloud.spring.io/spring-cloud-consul/reference/html/" target="_blank" rel="noopener">https://cloud.spring.io/spring-cloud-consul/reference/html/</a></p>
</li>
<li><p>Eurekaé—­æºäº†ï¼š<a href="https://github.com/Netflix/eureka/wiki" target="_blank" rel="noopener">https://github.com/Netflix/eureka/wiki</a></p>
</li>
</ol>
<h1 id="åŠ¨æ‰‹å®æ“"><a href="#åŠ¨æ‰‹å®æ“" class="headerlink" title="åŠ¨æ‰‹å®æ“"></a>åŠ¨æ‰‹å®æ“</h1><h2 id="æ³¨å†ŒæœåŠ¡"><a href="#æ³¨å†ŒæœåŠ¡" class="headerlink" title="æ³¨å†ŒæœåŠ¡"></a>æ³¨å†ŒæœåŠ¡</h2><ol>
<li><p>ä¸‹è½½consulçš„Dockeré•œåƒï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker pull consul</span><br></pre></td></tr></table></figure>
</li>
<li><p>åˆ›å»ºconsulé•œåƒå®ä¾‹ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker run --name consul -d -p 8500:8500 consul</span><br></pre></td></tr></table></figure>
</li>
<li><p>åˆ›å»ºä¸€ä¸ªconsulæœåŠ¡ç«¯åº”ç”¨ç¨‹åºï¼ŒåŒ…å«consulæ³¨å†Œä¾èµ–ï¼ˆpom.xmlï¼‰ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-actuator<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-consul-discovery<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>æ·»åŠ é…ç½®ï¼ˆapplication.ymlï¼‰:</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">application:</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">service</span></span><br><span class="line">  <span class="attr">cloud:</span></span><br><span class="line">    <span class="attr">consul:</span></span><br><span class="line">      <span class="attr">host:</span> <span class="string">localhost</span></span><br><span class="line">      <span class="attr">port:</span> <span class="number">8500</span></span><br><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">8501</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>å¯åŠ¨ç±»æ·»åŠ æ³¨è§£@EnableDiscoveryClientï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@EnableDiscoveryClient</span></span><br><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ConsulServiceApplication</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        SpringApplication.run(ConsulServiceApplication<span class="class">.<span class="keyword">class</span>, <span class="title">args</span>)</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>åˆ›å»ºæ§åˆ¶å™¨ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HelloController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping</span>(<span class="string">"/hello"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">hello</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"helle consul"</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping</span>(<span class="string">"/hello2"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">hello2</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"helle consul2"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>å¯åŠ¨æœåŠ¡å³å¯åœ¨<a href="http://localhost:8500/uiè§‚å¯Ÿæ³¨å†Œæƒ…å†µäº†ï¼Œå¯ä»¥ä¿®æ”¹é…ç½®å†å¯åŠ¨ä¸€ä¸ªæœåŠ¡ï¼Œæ•ˆæœå¦‚ä¸‹ï¼š" target="_blank" rel="noopener">http://localhost:8500/uiè§‚å¯Ÿæ³¨å†Œæƒ…å†µäº†ï¼Œå¯ä»¥ä¿®æ”¹é…ç½®å†å¯åŠ¨ä¸€ä¸ªæœåŠ¡ï¼Œæ•ˆæœå¦‚ä¸‹ï¼š</a></p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/467b4ded29d20ea4a7bfd30cbac9c5a3-68256" alt="consulä¸­æ³¨å†ŒæœåŠ¡"></p>
<ul>
<li></li>
</ul>
</li>
</ol>
<h2 id="æœåŠ¡æ¶ˆè´¹è€…"><a href="#æœåŠ¡æ¶ˆè´¹è€…" class="headerlink" title="æœåŠ¡æ¶ˆè´¹è€…"></a>æœåŠ¡æ¶ˆè´¹è€…</h2><ol>
<li><p>åˆ›å»ºä¸€ä¸ªConsulæœåŠ¡æ¶ˆè´¹è€…ï¼Œä¾èµ–å’ŒæœåŠ¡ä¸€è‡´ï¼›</p>
</li>
<li><p>é…ç½®æ–‡ä»¶å¦‚ä¸‹ï¼ˆapplication.propertiesï¼‰ï¼š</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="string">spring.application.name=customer</span></span><br><span class="line"><span class="string">server.port=8504</span></span><br><span class="line"><span class="string">spring.cloud.consul.host=127.0.0.1</span></span><br><span class="line"><span class="string">spring.cloud.consul.port=8500</span></span><br><span class="line"><span class="comment">#è®¾ç½®ä¸éœ€è¦æ³¨å†Œåˆ° consul ä¸­</span></span><br><span class="line"><span class="string">spring.cloud.consul.discovery.register=true</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>å¯åŠ¨ç±»æ·»åŠ æ³¨è§£@EnableDiscoveryClientï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@EnableDiscoveryClient</span></span><br><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ConsulCustomerApplication</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        SpringApplication.run(ConsulCustomerApplication<span class="class">.<span class="keyword">class</span>, <span class="title">args</span>)</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>åˆ›å»ºServiceControllerï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.cloud.client.discovery.DiscoveryClient;</span><br><span class="line"><span class="keyword">import</span> org.springframework.cloud.client.loadbalancer.LoadBalancerClient;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RestController;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ServiceController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> LoadBalancerClient loadBalancer;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> DiscoveryClient discoveryClient;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è·å–æ‰€æœ‰æœåŠ¡</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@RequestMapping</span>(<span class="string">"/services"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Object <span class="title">services</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> discoveryClient.getInstances(<span class="string">"service"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ä»æ‰€æœ‰æœåŠ¡ä¸­é€‰æ‹©ä¸€ä¸ªæœåŠ¡ï¼ˆè½®è¯¢ï¼‰</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@RequestMapping</span>(<span class="string">"/discover"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Object <span class="title">discover</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> loadBalancer.choose(<span class="string">"service"</span>).getUri().toString();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>åˆ›å»ºæœåŠ¡æ¶ˆè´¹CallHelloControllerï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.cloud.client.ServiceInstance;</span><br><span class="line"><span class="keyword">import</span> org.springframework.cloud.client.loadbalancer.LoadBalancerClient;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RestController;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.client.RestTemplate;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CallHelloController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> LoadBalancerClient loadBalancer;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping</span>(<span class="string">"/call"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">call</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        ServiceInstance serviceInstance = loadBalancer.choose(<span class="string">"service"</span>);</span><br><span class="line">        System.out.println(<span class="string">"æœåŠ¡åœ°å€ï¼š"</span> + serviceInstance.getUri());</span><br><span class="line">        System.out.println(<span class="string">"æœåŠ¡åç§°ï¼š"</span> + serviceInstance.getServiceId());</span><br><span class="line"></span><br><span class="line">        String callServiceResult = <span class="keyword">new</span> RestTemplate().getForObject(serviceInstance.getUri().toString() + <span class="string">"/hello2"</span>, String<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">        System.out.println(callServiceResult);</span><br><span class="line">        <span class="keyword">return</span> callServiceResult;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>å¯åŠ¨æœåŠ¡å³å¯ï¼ç„¶åå°±å¯ä»¥è®¿é—®<a href="http://localhost:8504/call" target="_blank" rel="noopener">http://localhost:8504/call</a></p>
</li>
</ol>
<h2 id="é…ç½®ä¸­å¿ƒ"><a href="#é…ç½®ä¸­å¿ƒ" class="headerlink" title="é…ç½®ä¸­å¿ƒ"></a>é…ç½®ä¸­å¿ƒ</h2><ol>
<li><p>åˆ›å»ºä¸€ä¸ªä½¿ç”¨consulçš„é…ç½®é¡¹ç›®ï¼Œæ·»åŠ ç›¸å…³ä¾èµ–ï¼ˆpom.xmlï¼‰:</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-actuator<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-consul-config<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-consul-discovery<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>é…ç½®æ–‡ä»¶å¦‚ä¸‹ï¼ˆapplication.ymlï¼‰ï¼š</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">cloud:</span></span><br><span class="line">    <span class="attr">consul:</span></span><br><span class="line">      <span class="attr">config:</span></span><br><span class="line">        <span class="attr">enabled:</span> <span class="literal">true</span>    <span class="comment"># å¯ç”¨é…ç½®ä¸­å¿ƒ</span></span><br><span class="line">        <span class="attr">format:</span> <span class="string">yaml</span>     <span class="comment"># æŒ‡å®šé…ç½®æ ¼å¼ä¸º yaml</span></span><br><span class="line">        <span class="attr">data-key:</span> <span class="string">config_get</span> <span class="comment"># ä¹Ÿå°±æ˜¯ consul ä¸­ key/value ä¸­çš„ key</span></span><br><span class="line">        <span class="attr">prefix:</span> <span class="string">config</span>         <span class="comment"># å¯ä»¥ç†è§£ä¸ºé…ç½®æ–‡ä»¶æ‰€åœ¨çš„æœ€å¤–å±‚ç›®å½•</span></span><br><span class="line">        <span class="attr">defaultContext:</span> <span class="string">consul-config</span>  <span class="comment"># å¯ä»¥ç†è§£ä¸º mysql_config çš„ä¸Šçº§ç›®å½•</span></span><br><span class="line">      <span class="attr">discovery:</span></span><br><span class="line">        <span class="attr">register:</span> <span class="literal">true</span></span><br><span class="line">      <span class="attr">host:</span> <span class="string">localhost</span></span><br><span class="line">      <span class="attr">port:</span> <span class="number">8500</span></span><br><span class="line">  <span class="attr">application:</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">config-get</span></span><br><span class="line"><span class="attr">logging:</span></span><br><span class="line">  <span class="attr">level:</span></span><br><span class="line">    <span class="attr">root:</span> <span class="string">debug</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>å¯åŠ¨ç±»æ·»åŠ æ³¨è§£@EnableDiscoveryClientï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="meta">@EnableDiscoveryClient</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ConsulConfigApplication</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        SpringApplication.run(ConsulConfigApplication<span class="class">.<span class="keyword">class</span>, <span class="title">args</span>)</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>Consulé…ç½®ä¸­å¿ƒæ·»åŠ é…ç½®ï¼Œé…ç½®å¦‚å›¾æ‰€ç¤ºï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/430a649526c7053038b83598cfd17e71-121736" alt="Consulé…ç½®"></p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">management:</span></span><br><span class="line">  <span class="attr">endpoints:</span></span><br><span class="line">    <span class="attr">web:</span></span><br><span class="line">      <span class="attr">exposure:</span></span><br><span class="line">        <span class="attr">include:</span> <span class="string">"*"</span></span><br><span class="line"></span><br><span class="line"><span class="attr">logging:</span></span><br><span class="line">  <span class="attr">level:</span></span><br><span class="line">    <span class="attr">root:</span> <span class="string">warn</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>å¯åŠ¨é¡¹ç›®å³å¯ï¼Œç„¶åå®æ—¶ä¿®æ”¹Consulé…ç½®çš„Key/Vauleä¸­çš„é…ç½®ï¼Œä¼šå®æ—¶é…ç½®åº”ç”¨ç¨‹åºï¼Œè¿™ä¸ªå’ŒEurekaè¿˜ä¸æ˜¯å¤ªä¸€æ ·ã€‚</p>
</li>
</ol>
]]></content>
      <categories>
        <category>SpringCloud</category>
      </categories>
  </entry>
  <entry>
    <title>SpringCloud Eureka Quick Start</title>
    <url>/2020/08/05/SpringCloud-Eureka-Quick-Start/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>æœåŠ¡å‘ç°æ˜¯åŸºäºå¾®æœåŠ¡ä½“ç³»ç»“æ„çš„å…³é”®åŸåˆ™ä¹‹ä¸€ã€‚å°è¯•æ‰‹å·¥é…ç½®æ¯ä¸ªå®¢æˆ·ç«¯æˆ–æŸç§å½¢å¼çš„çº¦å®šå¯èƒ½å¾ˆå›°éš¾ï¼Œè€Œä¸”å¾ˆè„†å¼±ã€‚Eurekaæ˜¯Netflixçš„æœåŠ¡å‘ç°æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯ï¼Œå¯ä»¥å°†æœåŠ¡å™¨é…ç½®å’Œéƒ¨ç½²ä¸ºé«˜å¯ç”¨æ€§ï¼Œæ¯ä¸ªæœåŠ¡å™¨å°†æ³¨å†ŒæœåŠ¡çš„çŠ¶æ€å¤åˆ¶åˆ°å…¶ä»–æœåŠ¡å™¨ã€‚æœ¬æ–‡ä¸»è¦è®°å½•SpringCloud Eurekaç›¸å…³æŠ€æœ¯çš„æ“ä½œï¼ŒçœŸå®çš„ä½¿ç”¨è¿˜éœ€è¦è¿›è¡Œå®æˆ˜æ‰èƒ½å¼ºåŒ–ï¼</p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="åŸºç¡€çŸ¥è¯†"><a href="#åŸºç¡€çŸ¥è¯†" class="headerlink" title="åŸºç¡€çŸ¥è¯†"></a>åŸºç¡€çŸ¥è¯†</h2><ol>
<li><p>æœåŠ¡å‘ç°çš„ä¸¤ç§æ–¹å¼ï¼š</p>
<ul>
<li><p>å®¢æˆ·ç«¯å‘ç°</p>
<ul>
<li>Eureka</li>
</ul>
</li>
<li><p>æœåŠ¡ç«¯å‘ç°</p>
<ul>
<li>Nginx</li>
<li>Zookeeper</li>
<li>Kubernetes</li>
</ul>
</li>
</ul>
</li>
<li><p>åº·å¨å®šå¾‹ï¼šä»»ä½•ç»„ç»‡åœ¨è®¾è®¡ä¸€å¥—ç³»ç»Ÿæ—¶ï¼Œæ‰€äº¤ä»˜çš„è®¾è®¡æ–¹æ¡ˆåœ¨ç»“æ„ä¸Šéƒ½ä¸è¯¥ç»„ç»‡çš„æ²Ÿé€šç»“æ„ä¿æŒä¸€è‡´ï¼â€”â€”æ²Ÿé€šçš„é—®é¢˜ä¼šå½±å“æ¶æ„ç»“æ„ã€‚</p>
</li>
<li><p>å¾®æœåŠ¡ç‰¹ç‚¹ä¹‹ä¸€æ˜¯å¼‚æ„ï¼Œä¸»è¦è¡¨ç°åœ¨ï¼š</p>
<ul>
<li>ä¸åŒè¯­è¨€</li>
<li>ä¸åŒç±»å‹çš„æ•°æ®åº“</li>
</ul>
</li>
<li><p>åº”ç”¨é—´é€šä¿¡æ–¹å¼æœ‰HTTPå’ŒRPCï¼Œå…¸å‹ä»£è¡¨æœ‰ï¼š</p>
<ul>
<li>HTTPâ€”â€”SpringCloud</li>
<li>RPCâ€”â€”Dubbo</li>
</ul>
</li>
<li><p>SpringCloudä¸­æœåŠ¡é—´æœ‰ä¸¤ç§RESTfulè°ƒç”¨æ–¹å¼ï¼š</p>
<ul>
<li>RestTemplate</li>
<li>Feign</li>
</ul>
</li>
<li><p>SpringCloudä¸­å„ç§ç»„ä»¶çš„åŠŸèƒ½æè¿°ï¼š</p>
<ul>
<li>Eureka Clientâ€”â€”è´Ÿè´£å°†æœåŠ¡çš„ä¿¡æ¯æ³¨å†Œåˆ°Eureka Serverä¸­</li>
<li>Eureka Serverâ€”â€”æ³¨å†Œä¸­å¿ƒï¼Œé‡Œé¢æœ‰ä¸€ä¸ªæ³¨å†Œè¡¨ï¼Œä¿å­˜äº†å„ä¸ªæœåŠ¡æ‰€åœ¨çš„æœºå™¨å’Œç«¯å£å·</li>
<li>Feignâ€”â€”ä½¿ç”¨åŠ¨æ€ä»£ç†æŠ€æœ¯ï¼Œæ¥åŠ¨æ€æ„é€ å‡ºè¯·æ±‚çš„æœåŠ¡çš„åœ°å€</li>
<li>Ribbonâ€”â€”å’ŒFeignä»¥åŠEurekaç´§å¯†åä½œå®Œæˆè´Ÿè½½å‡è¡¡çš„åŠŸèƒ½</li>
<li>Hystrixâ€”â€”éš”ç¦»ã€ç†”æ–­ä»¥åŠé™çº§çš„ä¸€ä¸ªæ¡†æ¶</li>
<li>Zuulâ€”â€”ï¼ˆå¾®æœåŠ¡ç½‘å…³ç»„ä»¶ï¼‰è´Ÿè´£ç½‘ç»œè·¯ç”±ï¼Œä¸€èˆ¬å¾®æœåŠ¡æ¶æ„ä¸­éƒ½å¿…ç„¶ä¼šè®¾è®¡ä¸€ä¸ªç½‘å…³åœ¨é‡Œé¢</li>
</ul>
</li>
</ol>
<h2 id="ç½‘å…³Zuul"><a href="#ç½‘å…³Zuul" class="headerlink" title="ç½‘å…³Zuul"></a>ç½‘å…³Zuul</h2><ol>
<li><p>Zuulæ˜¯Netflixå¼€æºçš„å¾®æœåŠ¡ç½‘å…³ï¼Œå¯ä»¥å’ŒEurekaã€Ribbonã€Hystrixç­‰ç»„ä»¶é…åˆä½¿ç”¨ï¼ŒSpring Cloudå¯¹Zuulè¿›è¡Œäº†æ•´åˆä¸å¢å¼ºï¼ŒZuulé»˜è®¤ä½¿ç”¨çš„HTTPå®¢æˆ·ç«¯æ˜¯Apache HTTPClientï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨RestClientæˆ–okhttp3.OkHttpClientï¼›</p>
</li>
<li><p>ä¸»è¦åŠŸèƒ½ï¼šè·¯ç”±è½¬å‘å’Œè¿‡æ»¤å™¨</p>
</li>
<li><p>å·¥ä½œåŸç†ï¼šåœ¨æŠŠè¯·æ±‚è·¯ç”±åˆ°ç½‘å…³ä¹‹åçš„æœåŠ¡è¿‡ç¨‹ä¸­ï¼Œé€šè¿‡ä¸€ç³»åˆ—çš„è¿‡æ»¤å™¨è¿›è¡Œå¤„ç†ï¼Œè¾¾åˆ°é¢„æœŸçš„æ•ˆæœï¼Œå’ŒServletæ¡†æ¶çš„Filterä»¥åŠAOPç±»ä¼¼ï¼›</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/06b983e45d45493ba85a05ad9a34476b-109561" alt="ZuulåŸç†"></p>
</li>
<li><p>è¿‡æ»¤å™¨çš„ä¸»è¦åº”ç”¨ï¼š</p>
<ul>
<li>èº«ä»½éªŒè¯å’Œå®‰å…¨æ€§ - ç¡®å®šæ¯ä¸ªèµ„æºçš„èº«ä»½éªŒè¯è¦æ±‚å¹¶æ‹’ç»ä¸æ»¡è¶³è¿™äº›è¦æ±‚çš„è¯·æ±‚</li>
<li>æ´å¯Ÿå’Œç›‘æ§ - åœ¨è¾¹ç¼˜è·Ÿè¸ªæœ‰æ„ä¹‰çš„æ•°æ®å’Œç»Ÿè®¡æ•°æ®ï¼Œä»¥ä¾¿ä¸ºæˆ‘ä»¬æä¾›å‡†ç¡®çš„ç”Ÿäº§è§†å›¾</li>
<li>åŠ¨æ€è·¯ç”± - æ ¹æ®éœ€è¦åŠ¨æ€åœ°å°†è¯·æ±‚è·¯ç”±åˆ°ä¸åŒçš„åç«¯é›†ç¾¤</li>
<li>å‹åŠ›æµ‹è¯• - é€æ¸å¢åŠ é›†ç¾¤çš„æµé‡ä»¥è¡¡é‡æ€§èƒ½</li>
<li>Load Shedding - ä¸ºæ¯ç§ç±»å‹çš„è¯·æ±‚åˆ†é…å®¹é‡å¹¶åˆ é™¤è¶…è¿‡é™åˆ¶çš„è¯·æ±‚</li>
<li>é™æ€å“åº”å¤„ç† - ç›´æ¥åœ¨è¾¹ç¼˜æ„å»ºä¸€äº›å“åº”ï¼Œè€Œä¸æ˜¯å°†å®ƒä»¬è½¬å‘åˆ°å†…éƒ¨é›†ç¾¤</li>
</ul>
</li>
<li><p>è¿‡æ»¤å™¨çš„ç”Ÿå‘½å‘¨æœŸï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/c1ecae7ac44b251fbda1c7d696fe5da5-38780" alt="è¿‡æ»¤å™¨çš„ç”Ÿå‘½å‘¨æœŸ"></p>
</li>
<li><p>Zuulçš„ç»„ä»¶ï¼š</p>
<ul>
<li>zuul-coreâ€”â€”zuulæ ¸å¿ƒåº“ï¼ŒåŒ…å«ç¼–è¯‘å’Œæ‰§è¡Œè¿‡æ»¤å™¨çš„æ ¸å¿ƒåŠŸèƒ½</li>
<li>zuul-simple-webappâ€”â€”zuul Webåº”ç”¨ç¨‹åºç¤ºä¾‹ï¼Œå±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨zuul-coreæ„å»ºåº”ç”¨ç¨‹åº</li>
<li>zuul-netflixâ€”â€”libåŒ…ï¼Œå°†å…¶ä»–NetflixOSSç»„ä»¶æ·»åŠ åˆ°Zuulä¸­ï¼Œä¾‹å¦‚ä½¿ç”¨åŠŸèƒ½åŒºè¿›å»è·¯ç”±è¯·æ±‚å¤„ç†</li>
<li>zuul-netflix-webappâ€”â€”webappï¼Œå®ƒå°†zuul-coreå’Œzuul-netflixå°è£…æˆä¸€ä¸ªç®€æ˜“çš„webappå·¥ç¨‹åŒ…</li>
</ul>
</li>
<li><p>åœ¨zuulä¸­ï¼Œè·¯ç”±åŒ¹é…çš„è·¯å¾„è¡¨è¾¾å¼é‡‡ç”¨anté£æ ¼å®šä¹‰</p>
<table>
<thead>
<tr>
<th>é€šé…ç¬¦</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>ï¼Ÿ</td>
<td>åŒ¹é…ä»»æ„å•ä¸ªå­—ç¬¦</td>
</tr>
<tr>
<td>*</td>
<td>åŒ¹é…ä»»æ„æ•°é‡çš„å­—ç¬¦</td>
</tr>
<tr>
<td>**</td>
<td>åŒ¹é…ä»»æ„æ•°é‡çš„å­—ç¬¦ï¼Œæ”¯æŒå¤šçº§ç›®å½•</td>
</tr>
</tbody></table>
<ul>
<li><p>é»˜è®¤æƒ…å†µä¸‹ï¼ŒZuulåœ¨è¯·æ±‚è·¯ç”±æ—¶ï¼Œä¼šè¿‡æ»¤æ‰httpè¯·æ±‚å¤´ä¿¡æ¯ä¸­ä¸€äº›æ•æ„Ÿä¿¡æ¯ï¼Œé˜²æ­¢å®ƒä»¬è¢«ä¼ é€’åˆ°ä¸‹æ¸¸çš„å¤–éƒ¨æœåŠ¡å™¨ï¼Œé€šè¿‡zuul.sensitive-headersæ¥è¿›è¡Œé…ç½®ï¼Œä¸è¿‡æ»¤æ‰ç›´æ¥å¡«ç©ºå€¼å³å¯</p>
</li>
<li><p>å‚è€ƒé…ç½®ï¼š</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æ„å»ºè·¯ç”±åœ°å€</span></span><br><span class="line"><span class="attr">zuul:</span></span><br><span class="line">  <span class="attr">routes:</span></span><br><span class="line">    <span class="comment"># è¿™é‡Œå¯ä»¥è‡ªå®šä¹‰</span></span><br><span class="line">    <span class="attr">demo2:</span></span><br><span class="line">      <span class="comment"># åŒ¹é…çš„è·¯ç”±è§„åˆ™</span></span><br><span class="line">      <span class="attr">path:</span> <span class="string">/demo/**</span></span><br><span class="line">      <span class="comment"># è·¯ç”±çš„ç›®æ ‡æœåŠ¡å</span></span><br><span class="line">      <span class="attr">url:</span> <span class="string">demo</span></span><br><span class="line"><span class="comment"># å…³é—­ä½¿ç”¨eurekaè´Ÿè½½è·¯ç”±</span></span><br><span class="line"><span class="attr">ribbon:</span></span><br><span class="line">  <span class="attr">eureka:</span></span><br><span class="line">    <span class="attr">enabled:</span> <span class="literal">false</span></span><br><span class="line"><span class="comment"># å¦‚æœä¸ä½¿ç”¨eurekaçš„è¯ï¼Œéœ€è¦è‡ªå·±å®šä¹‰è·¯ç”±çš„é‚£ä¸ªæœåŠ¡çš„å…¶ä»–è´Ÿè½½æœåŠ¡</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
</li>
</ol>
<h2 id="é™æµã€ç†”æ–­å’Œé™çº§Hystrix-hÉªstâ€™rÉªks"><a href="#é™æµã€ç†”æ–­å’Œé™çº§Hystrix-hÉªstâ€™rÉªks" class="headerlink" title="é™æµã€ç†”æ–­å’Œé™çº§Hystrix [hÉªstâ€™rÉªks]"></a>é™æµã€ç†”æ–­å’Œé™çº§Hystrix [hÉªstâ€™rÉªks]</h2><ol>
<li><p>Hystrixæ˜¯ç”±Netflixå¼€æºçš„ä¸€ä¸ªå»¶è¿Ÿå’Œå®¹é”™åº“ï¼Œç”¨äºéš”ç¦»è®¿é—®è¿œç¨‹ç³»ç»Ÿã€æœåŠ¡æˆ–è€…ç¬¬ä¸‰æ–¹åº“ï¼Œé˜²æ­¢çº§è”å¤±è´¥ï¼Œä»è€Œæå‡ç³»ç»Ÿçš„å¯ç”¨æ€§ã€å®¹é”™æ€§ä¸å±€éƒ¨åº”ç”¨çš„å¼¹æ€§ï¼Œæ˜¯ä¸€ä¸ªå®ç°äº†è¶…æ—¶æœºåˆ¶å’Œæ–­è·¯å™¨æ¨¡å¼çš„å·¥å…·ç±»åº“ï¼</p>
</li>
<li><p>åœ¨ç†æƒ³çŠ¶æ€ä¸‹ï¼Œä¸€ä¸ªåº”ç”¨ä¾èµ–çš„æœåŠ¡éƒ½æ˜¯å¥åº·å¯ç”¨çš„ï¼Œå¯ä»¥æ­£å¸¸çš„å¤„ç†æ‰€æœ‰çš„è¯·æ±‚ã€‚ä½†æ˜¯å½“æŸä¸€ä¸ªæœåŠ¡å‡ºç°å»¶è¿Ÿæ—¶ï¼Œæ‰€æœ‰çš„è¯·æ±‚éƒ½é˜»å¡åœ¨ä¾èµ–çš„æœåŠ¡ä¸Šï¼Œä¼šå¯¼è‡´æœåŠ¡é˜»å¡ï¼Œå¯èƒ½å¼•èµ·æœåŠ¡é›ªå´©ï¼›</p>
</li>
<li><p>ä½¿ç”¨äº†Hystrixæ—¶ï¼ŒHystrixå°†æ‰€æœ‰çš„å¤–éƒ¨è°ƒç”¨éƒ½å°è£…æˆä¸€ä¸ªHystrixCommandæˆ–è€…HystrixObservableCommandå¯¹è±¡ï¼Œè¿™äº›å¤–éƒ¨è°ƒç”¨å°†ä¼šåœ¨ä¸€ä¸ªç‹¬ç«‹çš„çº¿ç¨‹ä¸­è¿è¡Œã€‚å¯ä»¥å°†å‡ºç°é—®é¢˜çš„æœåŠ¡é€šè¿‡ç†”æ–­ã€é™çº§ç­‰æ‰‹æ®µéš”ç¦»å¼€æ¥ï¼Œè¿™æ ·ä¸å½±å“æ•´ä¸ªç³»ç»Ÿçš„ä¸»ä¸šåŠ¡ï¼›</p>
</li>
<li><p>Hystrixå·¥ä½œåŸç†ï¼š</p>
<ul>
<li>ä½¿ç”¨å‘½ä»¤æ¨¡å¼å°†æ‰€æœ‰å¯¹å¤–éƒ¨æœåŠ¡ï¼ˆæˆ–ä¾èµ–å…³ç³»ï¼‰çš„è°ƒç”¨åŒ…è£…åœ¨HystrixCommandæˆ–HystrixObservableCommandå¯¹è±¡ä¸­ï¼Œå¹¶å°†è¯¥å¯¹è±¡æ”¾åœ¨å•ç‹¬çš„çº¿ç¨‹ä¸­æ‰§è¡Œ</li>
<li>æ¯ä¸ªä¾èµ–éƒ½ç»´æŠ¤ç€ä¸€ä¸ªçº¿ç¨‹æ± ï¼ˆæˆ–ä¿¡å·é‡ï¼‰ï¼Œçº¿ç¨‹æ± è¢«è€—å°½åˆ™æ‹’ç»è¯·æ±‚ï¼ˆè€Œä¸æ˜¯è®©è¯·æ±‚æ’é˜Ÿï¼‰</li>
<li>è®°å½•è¯·æ±‚æˆåŠŸï¼Œå¤±è´¥ï¼Œè¶…æ—¶å’Œçº¿ç¨‹æ‹’ç»</li>
<li>æœåŠ¡é”™è¯¯ç™¾åˆ†æ¯”è¶…è¿‡äº†é˜ˆå€¼ï¼Œç†”æ–­å™¨å¼€å…³è‡ªåŠ¨æ‰“å¼€ï¼Œä¸€æ®µæ—¶é—´å†…åœæ­¢å¯¹è¯¥æœåŠ¡çš„æ‰€æœ‰è¯·æ±‚</li>
<li>è¯·æ±‚å¤±è´¥ï¼Œè¢«æ‹’ç»ï¼Œè¶…æ—¶æˆ–ç†”æ–­æ—¶æ‰§è¡Œé™çº§é€»è¾‘</li>
<li>è¿‘å®æ—¶åœ°ç›‘æ§æŒ‡æ ‡å’Œé…ç½®çš„ä¿®æ”¹</li>
</ul>
</li>
<li><p>Hystrixé…ç½®ç¤ºä¾‹ï¼š</p>
<figure class="highlight properties"><table><tr><td class="code"><pre><span class="line"><span class="comment"># çº¿ç¨‹æ± å¤§å°</span></span><br><span class="line"><span class="meta">hystrix.threadpool.default.coreSize</span>=<span class="string">1</span></span><br><span class="line"><span class="comment"># ç¼“å†²åŒºå¤§å°ï¼Œ å¦‚æœä¸º-1ï¼Œåˆ™ä¸ç¼“å†²ï¼Œç›´æ¥è¿›è¡Œé™çº§ fallback</span></span><br><span class="line"><span class="meta">hystrix.threadpool.default.maxQueueSize</span>=<span class="string">200</span></span><br><span class="line"><span class="comment"># ç¼“å†²åŒºå¤§å°è¶…é™çš„é˜ˆå€¼ï¼Œè¶…é™å°±ç›´æ¥é™çº§</span></span><br><span class="line"><span class="meta">hystrix.threadpool.default.queueSizeRejectionThreshold</span>=<span class="string">2</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ‰§è¡Œç­–ç•¥</span></span><br><span class="line"><span class="comment"># èµ„æºéš”ç¦»æ¨¡å¼ï¼Œé»˜è®¤threadã€‚ è¿˜æœ‰ä¸€ç§å«ä¿¡å·é‡</span></span><br><span class="line"><span class="meta">hystrix.command.default.execution.isolation.strategy</span>=<span class="string">THREAD</span></span><br><span class="line"><span class="comment"># æ˜¯å¦æ‰“å¼€è¶…æ—¶</span></span><br><span class="line"><span class="meta">hystrix.command.default.execution.timeout.enabled</span>=<span class="string">true</span></span><br><span class="line"><span class="comment"># è¶…æ—¶æ—¶é—´ï¼Œé»˜è®¤1000æ¯«ç§’</span></span><br><span class="line"><span class="meta">hystrix.command.default.execution.isolation.thread.timeoutInMilliseconds</span>=<span class="string">15000</span></span><br><span class="line"><span class="comment"># è¶…æ—¶æ—¶ä¸­æ–­çº¿ç¨‹</span></span><br><span class="line"><span class="meta">hystrix.command.default.execution.isolation.thread.interruptOnTimeout</span>=<span class="string">true</span></span><br><span class="line"><span class="comment"># å–æ¶ˆæ—¶å€™ä¸­æ–­çº¿ç¨‹</span></span><br><span class="line"><span class="meta">hystrix.command.default.execution.isolation.thread.interruptOnFutureCancel</span>=<span class="string">false</span></span><br><span class="line"><span class="comment"># ä¿¡å·é‡æ¨¡å¼ä¸‹ï¼Œæœ€å¤§å¹¶å‘é‡</span></span><br><span class="line"><span class="meta">hystrix.command.default.execution.isolation.semaphore.maxConcurrentRequests</span>=<span class="string">2</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># é™çº§ç­–ç•¥</span></span><br><span class="line"><span class="comment"># æ˜¯å¦å¼€å¯æœåŠ¡é™çº§</span></span><br><span class="line"><span class="meta">hystrix.command.default.fallback.enabled</span>=<span class="string">true</span></span><br><span class="line"><span class="comment"># fallbackæ‰§è¡Œå¹¶å‘é‡</span></span><br><span class="line"><span class="meta">hystrix.command.default.fallback.isolation.semaphore.maxConcurrentRequests</span>=<span class="string">100</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ç†”æ–­ç­–ç•¥</span></span><br><span class="line"><span class="comment"># å¯ç”¨/ç¦ç”¨ç†”æ–­æœºåˆ¶</span></span><br><span class="line"><span class="meta">hystrix.command.default.circuitBreaker.enabled</span>=<span class="string">true</span></span><br><span class="line"><span class="comment"># å¼ºåˆ¶å¼€å¯ç†”æ–­</span></span><br><span class="line"><span class="meta">hystrix.command.default.circuitBreaker.forceOpen</span>=<span class="string">false</span></span><br><span class="line"><span class="comment"># å¼ºåˆ¶å…³é—­ç†”æ–­</span></span><br><span class="line"><span class="meta">hystrix.command.default.circuitBreaker.forceClosed</span>=<span class="string">false</span></span><br><span class="line"><span class="comment"># å‰ææ¡ä»¶ï¼Œä¸€å®šæ—¶é—´å†…å‘èµ·ä¸€å®šæ•°é‡çš„è¯·æ±‚ã€‚  ä¹Ÿå°±æ˜¯5ç§’é’Ÿå†…(è¿™ä¸ª5ç§’å¯¹åº”ä¸‹é¢çš„æ»šåŠ¨çª—å£é•¿åº¦)è‡³å°‘è¯·æ±‚4æ¬¡ï¼Œç†”æ–­å™¨æ‰å‘æŒ¥èµ·ä½œç”¨ã€‚  é»˜è®¤20</span></span><br><span class="line"><span class="meta">hystrix.command.default.circuitBreaker.requestVolumeThreshold</span>=<span class="string">4</span></span><br><span class="line"><span class="comment"># é”™è¯¯ç™¾åˆ†æ¯”ã€‚è¾¾åˆ°æˆ–è¶…è¿‡è¿™ä¸ªç™¾åˆ†æ¯”ï¼Œç†”æ–­å™¨æ‰“å¼€ã€‚  æ¯”å¦‚ï¼š5ç§’å†…æœ‰4ä¸ªè¯·æ±‚ï¼Œ2ä¸ªè¯·æ±‚è¶…æ—¶æˆ–è€…å¤±è´¥ï¼Œå°±ä¼šè‡ªåŠ¨å¼€å¯ç†”æ–­</span></span><br><span class="line"><span class="meta">hystrix.command.default.circuitBreaker.errorThresholdPercentage</span>=<span class="string">50</span></span><br><span class="line"><span class="comment"># 10ç§’åï¼Œè¿›å…¥åŠæ‰“å¼€çŠ¶æ€ï¼ˆç†”æ–­å¼€å¯ï¼Œé—´éš”ä¸€æ®µæ—¶é—´åï¼Œä¼šè®©ä¸€éƒ¨åˆ†çš„å‘½ä»¤å»è¯·æ±‚æœåŠ¡æä¾›è€…ï¼Œå¦‚æœç»“æœä¾æ—§æ˜¯å¤±è´¥ï¼Œåˆ™åˆä¼šè¿›å…¥ç†”æ–­çŠ¶æ€ï¼Œå¦‚æœæˆåŠŸï¼Œå°±å…³é—­ç†”æ–­ï¼‰ã€‚ é»˜è®¤5ç§’</span></span><br><span class="line"><span class="meta">hystrix.command.default.circuitBreaker.sleepWindowInMilliseconds</span>=<span class="string">10000</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># åº¦é‡ç­–ç•¥</span></span><br><span class="line"><span class="comment"># 5ç§’ä¸ºä¸€æ¬¡ç»Ÿè®¡å‘¨æœŸï¼Œæœ¯è¯­æè¿°ï¼šæ»šåŠ¨çª—å£çš„é•¿åº¦ä¸º5ç§’</span></span><br><span class="line"><span class="meta">hystrix.command.default.metrics.rollingStats.timeInMilliseconds</span>=<span class="string">5000</span></span><br><span class="line"><span class="comment"># ç»Ÿè®¡å‘¨æœŸå†… åº¦é‡æ¡¶çš„æ•°é‡ï¼Œå¿…é¡»è¢«timeInMillisecondsæ•´é™¤ã€‚ä½œç”¨ï¼š</span></span><br><span class="line"><span class="meta">hystrix.command.default.metrics.rollingStats.numBuckets</span>=<span class="string">10</span></span><br><span class="line"><span class="comment"># æ˜¯å¦æ”¶é›†æ‰§è¡Œæ—¶é—´ï¼Œå¹¶è®¡ç®—å„ä¸ªæ—¶é—´æ®µçš„ç™¾åˆ†æ¯”</span></span><br><span class="line"><span class="meta">hystrix.command.default.metrics.rollingPercentile.enabled</span>=<span class="string">true</span></span><br><span class="line"><span class="comment"># è®¾ç½®æ‰§è¡Œæ—¶é—´ç»Ÿè®¡å‘¨æœŸä¸ºå¤šä¹…ï¼Œç”¨æ¥è®¡ç®—ç™¾åˆ†æ¯”</span></span><br><span class="line"><span class="meta">hystrix.command.default.metrics.rollingPercentile.timeInMilliseconds</span>=<span class="string">60000</span></span><br><span class="line"><span class="comment"># æ‰§è¡Œæ—¶é—´ç»Ÿè®¡å‘¨æœŸå†…ï¼Œåº¦é‡æ¡¶çš„æ•°é‡</span></span><br><span class="line"><span class="meta">hystrix.command.default.metrics.rollingPercentile.numBuckets</span>=<span class="string">6</span></span><br><span class="line"><span class="comment"># æ‰§è¡Œæ—¶é—´ç»Ÿè®¡å‘¨æœŸå†…ï¼Œæ¯ä¸ªåº¦é‡æ¡¶æœ€å¤šç»Ÿè®¡å¤šå°‘æ¡è®°å½•ã€‚è®¾ç½®ä¸º50ï¼Œæœ‰100æ¬¡è¯·æ±‚ï¼Œåˆ™åªä¼šç»Ÿè®¡æœ€è¿‘çš„10æ¬¡</span></span><br><span class="line"><span class="meta">hystrix.command.default.metrics.rollingPercentile.bucketSize</span>=<span class="string">100</span></span><br><span class="line"><span class="comment"># æ•°æ®å–æ ·æ—¶é—´é—´éš”</span></span><br><span class="line"><span class="meta">hystrix.command.default.metrics.healthSnapshot.intervalInMilliseconds</span>=<span class="string">500</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½®æ˜¯å¦ç¼“å­˜è¯·æ±‚ï¼Œrequest-scopeå†…ç¼“å­˜</span></span><br><span class="line"><span class="meta">hystrix.command.default.requestCache.enabled</span>=<span class="string">false</span></span><br><span class="line"><span class="comment"># è®¾ç½®HystrixCommandæ‰§è¡Œå’Œäº‹ä»¶æ˜¯å¦æ‰“å°åˆ°HystrixRequestLogä¸­</span></span><br><span class="line"><span class="meta">hystrix.command.default.requestLog.enabled</span>=<span class="string">false</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># é™æµç­–ç•¥</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#å¦‚æœæ²¡æœ‰å®šä¹‰HystrixThreadPoolKeyï¼ŒHystrixThreadPoolKeyä¼šé»˜è®¤å®šä¹‰ä¸ºHystrixCommandGroupKeyçš„å€¼</span></span><br><span class="line"><span class="meta">hystrix.threadpool.userGroup.coreSize</span>=<span class="string">1</span></span><br><span class="line"><span class="meta">hystrix.threadpool.userGroup.maxQueueSize</span>=<span class="string">-1</span></span><br><span class="line"><span class="meta">hystrix.threadpool.userGroup.queueSizeRejectionThreshold</span>=<span class="string">800</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">hystrix.threadpool.userThreadPool.coreSize</span>=<span class="string">1</span></span><br><span class="line"><span class="meta">hystrix.threadpool.userThreadPool.maxQueueSize</span>=<span class="string">-1</span></span><br><span class="line"><span class="meta">hystrix.threadpool.userThreadPool.queueSizeRejectionThreshold</span>=<span class="string">800</span></span><br><span class="line"><span class="meta">hystrix.command.userCommandKey.execution.isolation.thread.timeoutInMilliseconds</span>=<span class="string">5000</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>Hystrixæ”¯æŒä»¥æ³¨è§£çš„å½¢å¼é…ç½®ï¼Œé€šè¿‡@HystrixCommandæ³¨è§£çš„fallbackMethodå±æ€§æŒ‡å®šé™çº§æ–¹æ³•ï¼›é€šè¿‡@HystrixPropertyçš„name valueé”®å€¼å¯¹è¿›è¡Œé…ç½®commandProperties<code>å’Œ</code>threadPoolPropertiesï¼›</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@HystrixCommand</span>(fallbackMethod = <span class="string">"timeoutFallback"</span>, threadPoolProperties = &#123;</span><br><span class="line">            <span class="meta">@HystrixProperty</span>(name = <span class="string">"coreSize"</span>, value = <span class="string">"20"</span>),</span><br><span class="line">            <span class="meta">@HystrixProperty</span>(name = <span class="string">"queueSizeRejectionThreshold"</span>, value = <span class="string">"20"</span>)</span><br><span class="line">    &#125;, commandProperties = &#123;</span><br><span class="line">            <span class="meta">@HystrixProperty</span>(name = <span class="string">"execution.isolation.thread.timeoutInMilliseconds"</span>, value = <span class="string">"8000"</span>)</span><br><span class="line">    &#125;)</span><br></pre></td></tr></table></figure>
</li>
<li><p>åœ¨å®¢æˆ·ç«¯éœ€è¦ä½¿ç”¨@EnableCircuitBreakerå¯ç”¨ç†”æ–­æœºåˆ¶ï¼›</p>
</li>
<li><p>Hystrixé…ç½®å±æ€§è¯´æ˜ï¼š<a href="https://github.com/Netflix/Hystrix/wiki/Configuration" target="_blank" rel="noopener">https://github.com/Netflix/Hystrix/wiki/Configuration</a></p>
</li>
</ol>
<h2 id="é…ç½®ConfigServer"><a href="#é…ç½®ConfigServer" class="headerlink" title="é…ç½®ConfigServer"></a>é…ç½®ConfigServer</h2><ol>
<li><p>åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ï¼ŒSpring Cloudæä¾›ä¸€ä¸ªConfigå­é¡¹ç›®ï¼Œè¯¥é¡¹ç›®æ ¸å¿ƒå°±æ˜¯é…ç½®ä¸­å¿ƒï¼Œé€šè¿‡ä¸€ä¸ªæœåŠ¡ç«¯å’Œå¤šä¸ªå®¢æˆ·ç«¯å®ç°é…ç½®æœåŠ¡ï¼</p>
</li>
<li><p>åŠŸèƒ½ï¼šä½¿ç”¨é…ç½®æœåŠ¡å™¨é›†ä¸­çš„ç®¡ç†æ‰€æœ‰æœåŠ¡çš„å„ç§ç¯å¢ƒé…ç½®æ–‡ä»¶ï¼›</p>
</li>
<li><p>éœ€è¦ä½¿ç”¨@EnableConfigServeræ¥å¯åŠ¨é…ç½®æœåŠ¡ï¼›é…åˆEurekeå¯å®ç°æœåŠ¡å‘ç°ï¼Œé…åˆCloud Buså¯å®ç°é…ç½®æ¨é€æ›´æ–°ï¼›</p>
</li>
<li><p>éœ€è¦æ·»åŠ bootstrap.ymlé…ç½®æ–‡ä»¶ï¼Œæ–‡ä»¶å†…å®¹ç±»ä¼¼ä¸‹é¢çš„ï¼š</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">7001</span></span><br><span class="line"></span><br><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">application:</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">config-server</span></span><br><span class="line">  <span class="attr">cloud:</span></span><br><span class="line">    <span class="attr">config:</span></span><br><span class="line">      <span class="attr">server:</span></span><br><span class="line">        <span class="attr">git:</span></span><br><span class="line">          <span class="attr">uri:</span> <span class="string">https://github.com/hellxz/SpringCloudlearn</span></span><br><span class="line">          <span class="attr">search-paths:</span> <span class="string">config-repo</span></span><br><span class="line">          <span class="attr">username:</span> <span class="string">username</span> </span><br><span class="line">          <span class="attr">password:</span> <span class="string">password</span></span><br></pre></td></tr></table></figure>

<ul>
<li>search-pathsæŒ‡å®šçš„æ˜¯åŒ¹é…æŸ¥è¯¢çš„è·¯å¾„å</li>
<li>usernameå’Œpasswordæ˜¯è®¿é—®ä»“åº“çš„ç”¨æˆ·åå’Œå¯†ç </li>
</ul>
</li>
<li><p>Configæ”¯æŒä½¿ç”¨çš„è¯·æ±‚çš„å‚æ•°è§„åˆ™æœ‰ï¼š</p>
<ul>
<li>/ { åº”ç”¨å } / { ç¯å¢ƒå } [ / { åˆ†æ”¯å } ]</li>
<li>/ { åº”ç”¨å } - { ç¯å¢ƒå }.yml</li>
<li>/ { åº”ç”¨å } - { ç¯å¢ƒå }.properties</li>
<li>/ { åˆ†æ”¯å } / { åº”ç”¨å } - { ç¯å¢ƒå }.yml</li>
<li>/ { åˆ†æ”¯å } / { åº”ç”¨å } - { ç¯å¢ƒå }.properties</li>
</ul>
</li>
<li><p>Config Serverå·¥ä½œåŸç†ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/a4de5d67c6fdab86808d2cd3ba8ce204-26808" alt="Config Serverå·¥ä½œåŸç†"></p>
<ul>
<li>è¿œç¨‹gitä»“åº“â€”â€”ç”¨æ¥å­˜å‚¨é…ç½®æ–‡ä»¶çš„åœ°æ–¹</li>
<li>Config Serverâ€”â€”åˆ†å¸ƒå¼é…ç½®ä¸­å¿ƒ</li>
<li>å¾®æœåŠ¡åº”ç”¨â€”â€”é…ç½®äº†ConfigClientçš„å¾®æœåŠ¡</li>
</ul>
</li>
<li><p>Config Serverå¯åŠ¨æµç¨‹ï¼š</p>
<ol>
<li>å¾®æœåŠ¡åº”ç”¨å¯åŠ¨ï¼Œæ ¹æ®bootstrap.ymlï¼ˆpropertiesï¼‰ä¸­é…ç½®çš„åº”ç”¨åï¼ˆapplicationï¼‰ã€ç¯å¢ƒåï¼ˆprofileï¼‰ã€åˆ†æ”¯åï¼ˆlabelï¼‰ï¼Œå‘Config Serverè¯·æ±‚é…ç½®ä¿¡æ¯</li>
<li>Config Server æ ¹æ®è‡ªå·±bootstrap.ymlï¼ˆpropertiesï¼‰ä¸­çš„Gitï¼ˆæˆ–SVNï¼‰ä»“åº“ä¿¡æ¯åŠ ä¸Šå®¢æˆ·ç«¯ä¼ æ¥çš„é…ç½®å®šä½ä¿¡æ¯å»æŸ¥é…ç½®ä¿¡æ¯çš„è·¯å¾„</li>
<li>Config Server æ‰§è¡Œgit cloneå‘½ä»¤ï¼Œå°†é…ç½®ä¿¡æ¯ä¸‹è½½åˆ°æœ¬åœ°Gitä»“åº“ä¸­ï¼Œå°†é…ç½®ä¿¡æ¯åŠ è½½åˆ°Springçš„ApplicationContextè¯»å–å†…å®¹è¿”å›ç»™å®¢æˆ·ç«¯ï¼ˆå¾®æœåŠ¡åº”ç”¨ï¼‰</li>
<li>å®¢æˆ·ç«¯å°†å†…å®¹åŠ è½½åˆ°ApplicationContextï¼Œé…ç½®å†…å®¹çš„ä¼˜å…ˆçº§å¤§äºå®¢æˆ·ç«¯å†…éƒ¨çš„é…ç½®å†…å®¹ï¼Œè¿›è¡Œå¿½ç•¥</li>
</ol>
<ul>
<li>å½“Config Serverå› ä¸ºç½‘ç»œåŸå› æ— æ³•è¿æ¥åˆ°Gitæˆ–SVNæ—¶ï¼Œå®¢æˆ·ç«¯çš„è¯·æ±‚è¿‡æ¥åï¼Œä¼šå…ˆè¿æ¥Gitæˆ–SVNï¼Œå¦‚æœæ²¡è¿ä¸Šï¼Œå°±ä½¿ç”¨æœ¬åœ°ä»“åº“çš„é…ç½®æ–‡ä»¶å†…å®¹è¿›è¡Œè¿”å›ç»™å®¢æˆ·ç«¯</li>
</ul>
</li>
<li><p>Config Serverå¯ä»¥é…ç½®å¤šä¸ªä»“åº“ï¼Œé…ç½®ç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">cloud:</span></span><br><span class="line">    <span class="attr">config:</span></span><br><span class="line">      <span class="attr">server:</span></span><br><span class="line">        <span class="attr">git:</span></span><br><span class="line">          <span class="attr">uri:</span> <span class="string">https://github.com/spring-cloud-samples/config-repo</span>   <span class="comment">#é»˜è®¤çš„ä»“åº“</span></span><br><span class="line">          <span class="attr">repos:</span></span><br><span class="line">            <span class="attr">simple:</span> <span class="string">https://github.com/simple/config-repo</span></span><br><span class="line">            <span class="attr">special:</span></span><br><span class="line">              <span class="attr">pattern:</span> <span class="string">special*/dev*,*special*/dev*</span></span><br><span class="line">              <span class="attr">uri:</span> <span class="string">https://github.com/special/config-repo</span></span><br><span class="line">            <span class="attr">local:</span></span><br><span class="line">              <span class="attr">pattern:</span> <span class="string">local*</span></span><br><span class="line">              <span class="attr">uri:</span> <span class="string">file:/home/configsvc/config-repo</span></span><br><span class="line">            <span class="attr">test:</span> </span><br><span class="line">              <span class="attr">pattern:</span> </span><br><span class="line">                <span class="bullet">-</span> <span class="string">'*/development'</span></span><br><span class="line">                <span class="bullet">-</span> <span class="string">'*/staging'</span></span><br><span class="line">              <span class="attr">uri:</span> <span class="string">https://github.com/development/config-repo</span></span><br></pre></td></tr></table></figure>

<ul>
<li>simple ä»“åº“è‡ªåŠ¨åŒ¹é…åˆ° simple/*</li>
<li>special ä»“åº“çš„patternï¼Œç¬¬ä¸€ä¸ªæ˜¯åº”ç”¨åä»¥specialå¼€å¤´ï¼Œç¯å¢ƒåä»¥devå¼€å¤´ï¼›ç¬¬äºŒä¸ªæ˜¯åº”ç”¨ååŒ…å«specialï¼Œç¯å¢ƒåä»¥devå¼€å¤´ï¼›å¤šä¸ªåŒ¹é…åˆ°åŒä¸€uriçš„patternç”¨é€—å·åˆ†å‰²</li>
<li>local ä»“åº“çš„çš„patternä¹Ÿä¼šè‡ªåŠ¨è¡¥å…¨ä¸ºlocal<em>/</em></li>
<li>testä»“åº“ä¸­çš„ pattern æ˜¯ä»¥é€šé…ç¬¦å¼€å§‹çš„ï¼Œéœ€è¦ä½¿ç”¨å•å¼•å·</li>
<li><strong>é…ç½®å¤šä¸ªä»“åº“æ—¶ï¼ŒConfig Server åœ¨å¯åŠ¨æ—¶ä¼šç›´æ¥å…‹éš†ç¬¬ä¸€ä¸ªä»“åº“çš„é…ç½®åº“ï¼Œå…¶ä»–é…ç½®åº“åªæœ‰è¯·æ±‚æ—¶æ‰ä¼šcloneåˆ°æœ¬åœ°</strong></li>
</ul>
</li>
</ol>
<h2 id="æ³¨æ„ç‚¹"><a href="#æ³¨æ„ç‚¹" class="headerlink" title="æ³¨æ„ç‚¹"></a>æ³¨æ„ç‚¹</h2><ol>
<li><p><strong>SpringCloud Configçš„æ‰‹åŠ¨åˆ·æ–°ï¼š</strong>åœ¨Config Serverä»¥åŠConfig Clientéƒ½åœ¨è¿è¡Œçš„æƒ…å†µä¸‹ï¼Œä¿®æ”¹GitHubä¸­çš„é…ç½®æ–‡ä»¶ä¸­çš„å†…å®¹ï¼Œç„¶åå†æ‰‹åŠ¨åˆ·æ–°Config Clientå°±å¯ä»¥ä¸é‡å¯ä»»ä½•æœåŠ¡çš„æƒ…å†µè¾¾åˆ°æ•ˆæœï¼Œä½†æ˜¯éœ€è¦æ³¨æ„ä»¥ä¸‹ç‚¹ï¼š</p>
<ul>
<li><p>Config Clientéœ€è¦æ·»åŠ actuatorä¾èµ–ï¼Œå¹¶ä¸”æš´éœ²refreshç«¯ç‚¹çš„é…ç½®ï¼š</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">management:</span></span><br><span class="line">	<span class="attr">endpoint:</span></span><br><span class="line">		<span class="attr">web:</span></span><br><span class="line">			<span class="attr">exposure:</span></span><br><span class="line">				<span class="attr">include:</span> <span class="string">refresh</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>å¯¹äºå¼•ç”¨äº†GitHubé…ç½®æ–‡ä»¶çš„ç±»ä¸ŠåŠ ä¸Šæ³¨è§£@RefreshScope</p>
</li>
<li><p>æ‰‹åŠ¨POST Config Clientçš„/actuator/refreshæ¥å£</p>
</li>
</ul>
</li>
<li><p>åœ¨é…ç½®ä½¿ç”¨Feignæ—¶ï¼Œæ·»åŠ äº†ä¹‹å‰å¯ä»¥ä½¿ç”¨çš„ä¸€äº›ä¾èµ–ä½†æ˜¯å¯¼è‡´åœ¨é¡¹ç›®ä¸­ä¸€ç›´å‡ºç°å¦‚ä¸‹é”™è¯¯ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">nested exception is java.lang.NoClassDefFoundError</span><br></pre></td></tr></table></figure>

<ul>
<li>åªæ·»åŠ spring-cloud-starter-openfeignå³å¯ï¼Œå…¶ä»–çš„ä¾èµ–é¡¹æ·»åŠ ä¸å¯¹çš„è¯ï¼Œä¼šå¯¼è‡´ä¾èµ–å‡ºç°é—®é¢˜</li>
</ul>
</li>
<li><p>Ribbonçš„è´Ÿè½½å‡è¡¡ç­–ç•¥ä¸»è¦æœ‰ä»¥ä¸‹å‡ ç§ï¼š</p>
<ul>
<li>com.netflix.loadbalancer.RandomRule #é…ç½®è§„åˆ™ éšæœº</li>
<li>com.netflix.loadbalancer.RoundRobinRule #é…ç½®è§„åˆ™ è½®è¯¢</li>
<li>com.netflix.loadbalancer.RetryRule #é…ç½®è§„åˆ™ é‡è¯•</li>
<li>com.netflix.loadbalancer.WeightedResponseTimeRule #é…ç½®è§„åˆ™ å“åº”æ—¶é—´æƒé‡</li>
<li>com.netflix.loadbalancer.BestAvailableRule #é…ç½®è§„åˆ™ æœ€ç©ºé—²è¿æ¥ç­–ç•¥</li>
</ul>
</li>
<li><p>@FeignClientæ³¨è§£å‚æ•°è¯´æ˜ï¼š</p>
<ul>
<li>nameâ€”â€”æŒ‡å®šFeignClientçš„åç§°ï¼Œå¦‚æœé¡¹ç›®ä½¿ç”¨äº†Ribbonï¼Œnameå±æ€§ä¼šä½œä¸ºå¾®æœåŠ¡çš„åç§°ï¼Œç”¨äºæœåŠ¡å‘ç°</li>
<li>fallbackâ€”â€”å®šä¹‰å®¹é”™çš„å¤„ç†ç±»ï¼Œå½“è°ƒç”¨è¿œç¨‹æ¥å£å¤±è´¥æˆ–è¶…æ—¶æ—¶ï¼Œä¼šè°ƒç”¨å¯¹åº”æ¥å£çš„å®¹é”™é€»è¾‘ï¼ŒfallbackæŒ‡å®šçš„ç±»å¿…é¡»å®ç°@FeignClientæ ‡è®°çš„æ¥å£</li>
<li>fallbackFactoryâ€”â€”å·¥å‚ç±»ï¼Œç”¨äºç”Ÿæˆfallbackç±»ç¤ºä¾‹ï¼Œé€šè¿‡è¿™ä¸ªå±æ€§æˆ‘ä»¬å¯ä»¥å®ç°æ¯ä¸ªæ¥å£é€šç”¨çš„å®¹é”™é€»è¾‘ï¼Œå‡å°‘é‡å¤çš„ä»£ç </li>
<li>pathâ€”â€”å®šä¹‰å½“å‰FeignClientçš„ç»Ÿä¸€å‰ç¼€ï¼Œç±»ä¼¼äºæ³¨è§£åˆ°ç±»ä¸Šçš„@RequestMappingçš„åŠŸèƒ½</li>
<li><strong>æ³¨æ„ï¼š</strong>å‡ºç°fallback method wasnâ€™t foundå¼‚å¸¸æ—¶ï¼Œæ˜¯å› ä¸ºæŒ‡å®šçš„å¤‡ç”¨æ–¹æ³•å’ŒåŸæ–¹æ³•çš„å‚æ•°ä¸ªæ•°æˆ–ç±»å‹ä¸åŒé€ æˆçš„ï¼Œéœ€è¦ç»Ÿä¸€å‚æ•°çš„ç±»å‹å’Œä¸ªæ•°</li>
</ul>
</li>
<li><p>åœ¨æ³¨å†Œå®ŒæœåŠ¡ä¹‹åï¼ŒæœåŠ¡æä¾›è€…ä¼šç»´æŠ¤ä¸€ä¸ªå¿ƒè·³ç”¨æ¥æŒç»­å‘Šè¯‰ Eureka Serverâ€œæˆ‘è¿˜æ´»ç€â€ï¼Œä»¥é˜²æ­¢ Eureka Server çš„â€œå‰”é™¤ä»»åŠ¡â€å°†è¯¥æœåŠ¡å®ä¾‹ä»æœåŠ¡åˆ—è¡¨ä¸­æ’é™¤å‡ºå»ï¼Œæˆ‘ä»¬ç§°è¯¥æ“ä½œä¸ºæœåŠ¡ç»­çº¦ï¼ˆRenewï¼‰ï¼Œå…³äºæœåŠ¡ç»­çº¦æœ‰å¦‚ä¸‹ä¸¤ä¸ªé‡è¦å±æ€§ï¼Œå¯ä»¥æ ¹æ®éœ€æ±‚æ¥è°ƒæ•´ï¼š</p>
<figure class="highlight properties"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å®šä¹‰æœåŠ¡ç»­çº¦ä»»åŠ¡çš„è°ƒç”¨æ—¶é—´é—´éš”ï¼ˆå³å‘é€å¿ƒè·³ç»™serverç«¯çš„é¢‘ç‡ï¼‰ï¼Œé»˜è®¤ä¸º30ç§’</span></span><br><span class="line"><span class="meta">eureka.instance.lease-renewal-interval-in-seconds</span>=<span class="string">30</span></span><br><span class="line"><span class="comment"># å®šäºæœåŠ¡å¤±æ•ˆçš„æ—¶é—´ï¼ˆå³serverç«¯å¤šé•¿æ—¶é—´æ²¡æ”¶åˆ°å¿ƒè·³åå°±å°†æ­¤å®ä¾‹å‰”é™¤)ï¼Œé»˜è®¤ä¸º90ç§’</span></span><br><span class="line"><span class="meta">eureka.instance.lease-expiration-duration-in-seconds</span>=<span class="string">90</span></span><br></pre></td></tr></table></figure>

</li>
</ol>
<h1 id="åŠ¨æ‰‹å®æ“"><a href="#åŠ¨æ‰‹å®æ“" class="headerlink" title="åŠ¨æ‰‹å®æ“"></a>åŠ¨æ‰‹å®æ“</h1><h2 id="EurekaæœåŠ¡ç«¯"><a href="#EurekaæœåŠ¡ç«¯" class="headerlink" title="EurekaæœåŠ¡ç«¯"></a>EurekaæœåŠ¡ç«¯</h2><ol>
<li><p>åˆ›å»ºä¸€ä¸ªSpringCloud Eurekaçš„æ³¨å†Œä¸­å¿ƒæœåŠ¡ç«¯é¡¹ç›®ï¼Œé€‰ä¸­Spring Cloud Discoveryä¸‹çš„Eureka Serverå³å¯ï¼›</p>
</li>
<li><p>å¼€å¯æ³¨è§£@EnableEurekaServer</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="meta">@EnableEurekaServer</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">EurekaApplication</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        SpringApplication.run(EurekaApplication<span class="class">.<span class="keyword">class</span>, <span class="title">args</span>)</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>ç›´æ¥å¯åŠ¨èƒ½å¤Ÿæ‰“å¼€<a href="http://localhost:8080ï¼Œä½†æ˜¯ç»ˆç«¯ä¼šæŠ¥é”™è¯¯ï¼Œæ•ˆæœå¦‚ä¸‹ï¼š">http://localhost:8080ï¼Œä½†æ˜¯ç»ˆç«¯ä¼šæŠ¥é”™è¯¯ï¼Œæ•ˆæœå¦‚ä¸‹ï¼š</a></p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/2822219a5796fa99ab43b0ff472d5dc7-121093" alt="Eurekaç½‘é¡µ"></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server</span><br><span class="line">	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:<span class="number">112</span>) ~[eureka-client-<span class="number">1.9</span><span class="number">.21</span>.jar:<span class="number">1.9</span><span class="number">.21</span>]</span><br><span class="line">	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:<span class="number">56</span>) ~[eureka-client-<span class="number">1.9</span><span class="number">.21</span>.jar:<span class="number">1.9</span><span class="number">.21</span>]</span><br><span class="line">	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$<span class="number">1</span>.execute(EurekaHttpClientDecorator.java:<span class="number">59</span>) ~[eureka-client-<span class="number">1.9</span><span class="number">.21</span>.jar:<span class="number">1.9</span><span class="number">.21</span>]</span><br><span class="line">	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:<span class="number">77</span>) ~[eureka-client-<span class="number">1.9</span><span class="number">.21</span>.jar:<span class="number">1.9</span><span class="number">.21</span>]</span><br><span class="line">	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:<span class="number">56</span>) ~[eureka-client-<span class="number">1.9</span><span class="number">.21</span>.jar:<span class="number">1.9</span><span class="number">.21</span>]</span><br><span class="line">	at com.netflix.discovery.DiscoveryClient.register(DiscoveryClient.java:<span class="number">857</span>) ~[eureka-client-<span class="number">1.9</span><span class="number">.21</span>.jar:<span class="number">1.9</span><span class="number">.21</span>]</span><br><span class="line">	at com.netflix.discovery.InstanceInfoReplicator.run(InstanceInfoReplicator.java:<span class="number">121</span>) ~[eureka-client-<span class="number">1.9</span><span class="number">.21</span>.jar:<span class="number">1.9</span><span class="number">.21</span>]</span><br><span class="line">	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:<span class="number">515</span>) ~[na:na]</span><br><span class="line">	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:<span class="number">264</span>) ~[na:na]</span><br><span class="line">	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:<span class="number">304</span>) ~[na:na]</span><br><span class="line">	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:<span class="number">1128</span>) ~[na:na]</span><br><span class="line">	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:<span class="number">628</span>) ~[na:na]</span><br><span class="line">	at java.base/java.lang.Thread.run(Thread.java:<span class="number">834</span>) ~[na:na]</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ·»åŠ é…ç½®å¦‚ä¸‹ï¼ˆapplication.ymlï¼‰ï¼š</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">eureka:</span></span><br><span class="line">  <span class="attr">client:</span></span><br><span class="line">    <span class="attr">service-url:</span></span><br><span class="line">      <span class="attr">defaultZone:</span> <span class="string">http://localhost:8761/eureka/</span> <span class="comment"># æœ¬èº«ä¹Ÿæ˜¯å®¢æˆ·ç«¯ï¼Œæ³¨å†Œåˆ°è‡ªå·±çš„æœåŠ¡ä¸­å¿ƒ</span></span><br><span class="line">   <span class="comment"># register-with-eureka: false # å…³é—­åœ¨æ³¨å†Œä¸­å¿ƒçš„æ˜¾ç¤º</span></span><br><span class="line"></span><br><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">application:</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">eureka</span> <span class="comment"># ä¿®æ”¹åº”ç”¨å</span></span><br><span class="line"></span><br><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">8761</span> <span class="comment"># ä¿®æ”¹ç«¯å£å·</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// EurekaClientConfigBean.class    </span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">EurekaClientConfigBean</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.serviceUrl.put(<span class="string">"defaultZone"</span>, <span class="string">"http://localhost:8761/eureka/"</span>);</span><br><span class="line">        <span class="keyword">this</span>.gZipContent = <span class="keyword">true</span>;</span><br><span class="line">        <span class="keyword">this</span>.useDnsForFetchingServiceUrls = <span class="keyword">false</span>;</span><br><span class="line">        <span class="keyword">this</span>.registerWithEureka = <span class="keyword">true</span>;</span><br><span class="line">        <span class="keyword">this</span>.preferSameZoneEureka = <span class="keyword">true</span>;</span><br><span class="line">        <span class="keyword">this</span>.availabilityZones = <span class="keyword">new</span> HashMap();</span><br><span class="line">        <span class="keyword">this</span>.filterOnlyUpInstances = <span class="keyword">true</span>;</span><br><span class="line">        <span class="keyword">this</span>.fetchRegistry = <span class="keyword">true</span>;</span><br><span class="line">        <span class="keyword">this</span>.dollarReplacement = <span class="string">"_-"</span>;</span><br><span class="line">        <span class="keyword">this</span>.escapeCharReplacement = <span class="string">"__"</span>;</span><br><span class="line">        <span class="keyword">this</span>.allowRedirects = <span class="keyword">false</span>;</span><br><span class="line">        <span class="keyword">this</span>.onDemandUpdateStatusChange = <span class="keyword">true</span>;</span><br><span class="line">        <span class="keyword">this</span>.clientDataAccept = EurekaAccept.full.name();</span><br><span class="line">        <span class="keyword">this</span>.shouldUnregisterOnShutdown = <span class="keyword">true</span>;</span><br><span class="line">        <span class="keyword">this</span>.shouldEnforceRegistrationAtInit = <span class="keyword">false</span>;</span><br><span class="line">        <span class="keyword">this</span>.order = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>é‡æ–°å¯åŠ¨æœåŠ¡ä¹‹åï¼Œç­‰å¾…ä¸€æ®µæ—¶é—´å°±å¯ä»¥æŸ¥çœ‹<a href="http://localhost:8761ï¼Œæ•ˆæœå¦‚ä¸‹ï¼š">http://localhost:8761ï¼Œæ•ˆæœå¦‚ä¸‹ï¼š</a></p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/79d1fd2acf5008e79aaa18086e7bf20d-122728" alt="Eurekaè‡ªæ³¨å†Œ"></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="number">2020</span>-<span class="number">08</span>-<span class="number">05</span> <span class="number">09</span>:<span class="number">44</span>:<span class="number">00.893</span>  INFO <span class="number">25750</span> --- [freshExecutor-<span class="number">0</span>] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server</span><br><span class="line"><span class="number">2020</span>-<span class="number">08</span>-<span class="number">05</span> <span class="number">09</span>:<span class="number">44</span>:<span class="number">00.897</span>  INFO <span class="number">25750</span> --- [freshExecutor-<span class="number">0</span>] com.netflix.discovery.DiscoveryClient    : The response status is <span class="number">200</span></span><br><span class="line"><span class="number">2020</span>-<span class="number">08</span>-<span class="number">05</span> <span class="number">09</span>:<span class="number">44</span>:<span class="number">01.041</span>  INFO <span class="number">25750</span> --- [      Thread-<span class="number">16</span>] c.n.e.registry.AbstractInstanceRegistry  : Registered instance EUREKA/<span class="number">192.168</span><span class="number">.3</span><span class="number">.108</span>:eureka:<span class="number">8761</span> <span class="function">with status <span class="title">UP</span> <span class="params">(replication=<span class="keyword">true</span>)</span></span></span><br><span class="line"><span class="function">2020-08-05 09:44:01.041  INFO 25750 --- [      Thread-16] c.n.e.r.PeerAwareInstanceRegistryImpl    : Got 1 instances from neighboring DS node</span></span><br><span class="line"><span class="function">2020-08-05 09:44:01.041  INFO 25750 --- [      Thread-16] c.n.e.r.PeerAwareInstanceRegistryImpl    : Renew threshold is: 1</span></span><br><span class="line"><span class="function">2020-08-05 09:44:01.041  INFO 25750 --- [      Thread-16] c.n.e.r.PeerAwareInstanceRegistryImpl    : Changing status to UP</span></span><br><span class="line"><span class="function">2020-08-05 09:44:01.047  INFO 25750 --- [      Thread-16] e.s.EurekaServerInitializerConfiguration : Started Eureka Server</span></span><br><span class="line"><span class="function">2020-08-05 09:45:01.044  INFO 25750 --- [a-EvictionTimer] c.n.e.registry.AbstractInstanceRegistry  : Running the evict task with compensationTime 0ms</span></span><br></pre></td></tr></table></figure>

<ul>
<li>é€šè¿‡ç»ˆç«¯å¯ä»¥çœ‹åˆ°è‡ªå·±æ³¨å†Œåˆ°äº†æœåŠ¡ä¸­</li>
<li>ä½¿ç”¨register-with-eureka: false å¯ä»¥å…³é—­è‡ªæ³¨å†Œï¼Œå–æ¶ˆé…ç½®æ–‡ä»¶ä¸­çš„æ³¨é‡Šå°±çœ‹ä¸åˆ°è‡ªæ³¨å†Œäº†</li>
</ul>
</li>
<li><p><strong>ä¿®æ”¹é…ç½®ï¼Œæ”¯æŒå¯†ç ä¿æŠ¤ï¼š</strong></p>
<ul>
<li><p>æ·»åŠ å®‰å…¨ä¾èµ–ï¼ˆpom.xmlï¼‰ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-security<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼ˆapplication.ymlï¼‰</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">eureka:</span></span><br><span class="line">  <span class="attr">instance:</span></span><br><span class="line">    <span class="attr">prefer-ip-address:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">client:</span></span><br><span class="line">    <span class="attr">service-url:</span></span><br><span class="line">      <span class="attr">defaultZone:</span> <span class="string">http://admin:admin@127.0.0.1:8761/eureka/</span> <span class="comment"># æœ¬èº«ä¹Ÿæ˜¯å®¢æˆ·ç«¯ï¼Œæ³¨å†Œåˆ°è‡ªå·±çš„æœåŠ¡ä¸­å¿ƒ username : password@</span></span><br><span class="line">    <span class="comment"># register-with-eureka: false # å…³é—­åœ¨æ³¨å†Œä¸­å¿ƒçš„æ˜¾ç¤º</span></span><br><span class="line"></span><br><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">application:</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">eureka</span> <span class="comment"># ä¿®æ”¹åº”ç”¨å</span></span><br><span class="line">  <span class="attr">security:</span></span><br><span class="line">    <span class="attr">basic:</span></span><br><span class="line">      <span class="attr">enabled:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">user:</span></span><br><span class="line">      <span class="attr">name:</span> <span class="string">admin</span></span><br><span class="line">      <span class="attr">password:</span> <span class="string">admin</span></span><br><span class="line"></span><br><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">8761</span> <span class="comment"># ä¿®æ”¹ç«¯å£å·</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>å®‰å…¨é…ç½®ï¼ˆè·¨åŸŸé—®é¢˜ï¼Œè´¦æˆ·ç™»å½•é—®é¢˜ï¼‰</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@EnableWebSecurity</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">WebSecurityConfig</span> <span class="keyword">extends</span> <span class="title">WebSecurityConfigurerAdapter</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">configure</span><span class="params">(HttpSecurity http)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        http.csrf().disable();</span><br><span class="line">        <span class="keyword">super</span>.configure(http);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>å¦‚æœä¸å°†csrfæ£€éªŒå…³é—­ï¼Œä¼šå‡ºç°å…¶ä»–æœåŠ¡æ— æ³•æ³¨å†Œè¿› eurekaæ³¨å†Œä¸­å¿ƒçš„æƒ…å†µ</li>
<li>å¦‚æœä¸æ·»åŠ çˆ¶ç±»çš„é…ç½®ï¼Œåˆ™æ— æ³•è¿›è¡Œå®‰å…¨è®¤è¯çš„æƒ…å†µ</li>
</ul>
</li>
<li><p>å®¢æˆ·ç«¯çš„æ³¨å†Œåœ°å€è¦ä¿®æ”¹æˆ<a href="http://admin:admin@127.0.0.1:8761/eureka/ç±»ä¼¼çš„åœ°å€" target="_blank" rel="noopener">http://admin:admin@127.0.0.1:8761/eureka/ç±»ä¼¼çš„åœ°å€</a></p>
</li>
</ul>
</li>
</ol>
<h2 id="Eurekaå®¢æˆ·ç«¯"><a href="#Eurekaå®¢æˆ·ç«¯" class="headerlink" title="Eurekaå®¢æˆ·ç«¯"></a>Eurekaå®¢æˆ·ç«¯</h2><ol>
<li><p>åˆ›å»ºä¸€ä¸ªSpringCloudé¡¹ç›®ï¼Œé€‰æ‹©Webä¸‹çš„Spring Webä»¥åŠSpring Cloud Discoveryä¸‹çš„Eureka Discovery Clientï¼›</p>
</li>
<li><p>å¼€å¯æ³¨è§£@EnableDiscoveryClientï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="meta">@EnableDiscoveryClient</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">EurekaclientApplication</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        SpringApplication.run(EurekaclientApplication<span class="class">.<span class="keyword">class</span>, <span class="title">args</span>)</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ·»åŠ é…ç½®æ–‡ä»¶ï¼ˆapplication.ymlï¼‰:</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">eureka:</span></span><br><span class="line">  <span class="attr">client:</span></span><br><span class="line">    <span class="attr">service-url:</span></span><br><span class="line">      <span class="attr">defaultZone:</span> <span class="string">http://localhost:8761/eureka/</span></span><br><span class="line"><span class="comment">#  instance:</span></span><br><span class="line"><span class="comment">#    hostname: test</span></span><br><span class="line"></span><br><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">application:</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">eurekaclient</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>å¯åŠ¨æœåŠ¡ï¼ŒæŸ¥çœ‹EurekaæœåŠ¡ç«¯ç½‘å€<a href="http://localhost:8761" target="_blank" rel="noopener">http://localhost:8761</a></p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/1968f2b0984809bf464876564eef9f14-116933" alt="Eurekaå®¢æˆ·ç«¯æ³¨å†Œ"></p>
</li>
<li><p>å¼€å‘è¿‡ç¨‹ä¸­å¯ä»¥å…³é—­EurekaæœåŠ¡çš„è‡ªæˆ‘ä¿æŠ¤æ¨¡å¼ï¼Œåœ¨æ³¨å†Œä¸­å¿ƒé…ç½®application.ymlï¼š</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">eureka:</span></span><br><span class="line">  <span class="attr">client:</span></span><br><span class="line">    <span class="attr">service-url:</span></span><br><span class="line">      <span class="attr">defaultZone:</span> <span class="string">http://localhost:8761/eureka/</span> <span class="comment"># æœ¬èº«ä¹Ÿæ˜¯å®¢æˆ·ç«¯ï¼Œæ³¨å†Œåˆ°è‡ªå·±çš„æœåŠ¡ä¸­å¿ƒ</span></span><br><span class="line">    <span class="attr">register-with-eureka:</span> <span class="literal">false</span> <span class="comment"># å…³é—­åœ¨æ³¨å†Œä¸­å¿ƒçš„æ˜¾ç¤º</span></span><br><span class="line">  <span class="attr">server:</span></span><br><span class="line">    <span class="attr">enable-self-preservation:</span> <span class="literal">false</span> <span class="comment"># å…³é—­è‡ªæˆ‘ä¿æŠ¤</span></span><br><span class="line"></span><br><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">application:</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">eureka</span> <span class="comment"># ä¿®æ”¹åº”ç”¨å</span></span><br><span class="line"></span><br><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">8761</span> <span class="comment"># ä¿®æ”¹ç«¯å£å·</span></span><br></pre></td></tr></table></figure>

</li>
</ol>
<h2 id="Eurekaé«˜å¯ç”¨æ³¨å†Œ"><a href="#Eurekaé«˜å¯ç”¨æ³¨å†Œ" class="headerlink" title="Eurekaé«˜å¯ç”¨æ³¨å†Œ"></a>Eurekaé«˜å¯ç”¨æ³¨å†Œ</h2><ol>
<li><p>å¤šä¸ªæ³¨å†Œä¸­å¿ƒç›¸äº’æ³¨å†Œè‡ªå·±çš„å®¢æˆ·ç«¯ï¼Œä¿®æ”¹application.ymlå³å¯ï¼š</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ä¸¤ä¸ªæ³¨å†Œä¸­å¿ƒ,æ³¨å†Œä¸­å¿ƒé…ç½®æ–‡ä»¶</span></span><br><span class="line"><span class="attr">eureka:</span></span><br><span class="line">  <span class="attr">client:</span></span><br><span class="line">    <span class="attr">service-url:</span></span><br><span class="line">      <span class="attr">defaultZone:</span> <span class="string">http://localhost:8761/eureka/,http://localhost:8762/eureka/</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>å®¢æˆ·ç«¯æ³¨å†Œçš„æ—¶å€™è¦æ³¨å†Œåˆ°<strong>æ¯ä¸ªæ³¨å†Œä¸­å¿ƒ</strong>ï¼Œé˜²æ­¢å…¶ä¸­ä»»ä½•ä¸€ä¸ªæ³¨å†Œä¸­å¿ƒå®•æœºéƒ½è¿˜æ˜¯å¯ç”¨çš„</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å®¢æˆ·ç«¯é…ç½®æ–‡ä»¶</span></span><br><span class="line"><span class="attr">eureka:</span></span><br><span class="line">  <span class="attr">client:</span></span><br><span class="line">    <span class="attr">service-url:</span></span><br><span class="line">      <span class="attr">defaultZone:</span> <span class="string">http://localhost:8761/eureka/,http://localhost:8762/eureka/</span></span><br><span class="line"><span class="comment">#  instance:</span></span><br><span class="line"><span class="comment">#    hostname: test</span></span><br><span class="line"></span><br><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">application:</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">eurekaclient</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>æ•ˆæœï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/732ec4bbbf754ffaedb2cdc4f9bc93cf-137465" alt="Eureka1å·æ³¨å†Œä¸­å¿ƒ"></p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/a12149d58adf941cebceaca9406b2bf0-140073" alt="Eureka2å·æ³¨å†Œä¸­å¿ƒ"></p>
</li>
<li><p>åœ¨å¼€å‘çš„é¡¹ç›®çš„æ­£å¼å‘å¸ƒç¯å¢ƒä¸­ä¸€èˆ¬è‡³å°‘ä¿è¯æœ‰ä¸¤ä¸ªæ³¨å†Œä¸­å¿ƒã€‚</p>
</li>
</ol>
<h2 id="ConfigServeræœåŠ¡"><a href="#ConfigServeræœåŠ¡" class="headerlink" title="ConfigServeræœåŠ¡"></a>ConfigServeræœåŠ¡</h2><ol>
<li><p>åˆ›å»ºä¸€ä¸ªSpringCloud ConfigServeræœåŠ¡çš„é¡¹ç›®ï¼Œä¸»è¦ä¾èµ–å¦‚ä¸‹ï¼ˆpom.xmlï¼‰ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--SpringCloud æ•´åˆ config-server --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-config-server<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- SpringCloud æ•´åˆ eurekaå®¢æˆ·ç«¯ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-netflix-eureka-client<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>åœ¨å¯åŠ¨ç±»ä¸Šæ·»åŠ Eurekaå®¢æˆ·ç«¯ä»¥åŠConfigServeræ³¨è§£ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="meta">@EnableConfigServer</span></span><br><span class="line"><span class="meta">@EnableDiscoveryClient</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ConfigserverApplication</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        SpringApplication.run(ConfigserverApplication<span class="class">.<span class="keyword">class</span>, <span class="title">args</span>)</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>åœ¨GitHubä¸Šåˆ›å»ºä¸€ä¸ªgithubé…ç½®æ–‡ä»¶é¡¹ç›®ï¼Œå¯ä»¥å…¬å¼€æˆ–è€…ç§æœ‰ï¼Œç§æœ‰çš„è¯ï¼ŒSpringCloudçš„ConfigServeré¡¹ç›®é…ç½®æ–‡ä»¶ä¸­å°±è¦è¾“å…¥å¯†ç ï¼›</p>
</li>
<li><p>ä¿®æ”¹åº”ç”¨é…ç½®æ–‡ä»¶ï¼ˆapplication.ymlï¼‰:</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">eureka:</span></span><br><span class="line">  <span class="attr">instance:</span></span><br><span class="line">    <span class="attr">prefer-ip-address:</span> <span class="literal">true</span> <span class="comment"># ä½¿ç”¨ip</span></span><br><span class="line">  <span class="attr">client:</span></span><br><span class="line">    <span class="attr">service-url:</span></span><br><span class="line">      <span class="attr">defaultZone:</span> <span class="string">http://admin:admin@localhost:8761/eureka/</span>  <span class="comment"># ä¿®æ”¹äº†å®‰å…¨ï¼Œè¿™ä¸ªä¼šå•ç‹¬è¯´æ˜</span></span><br><span class="line">    <span class="attr">instance:</span></span><br><span class="line">      <span class="attr">prefer-ip-address:</span> <span class="literal">true</span> <span class="comment"># ä½¿ç”¨ip</span></span><br><span class="line"></span><br><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">application:</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">configserver</span>  <span class="comment"># é¡¹ç›®åç§°</span></span><br><span class="line">  <span class="attr">cloud:</span></span><br><span class="line">    <span class="attr">config:</span></span><br><span class="line">      <span class="attr">server:</span></span><br><span class="line">        <span class="attr">git:</span></span><br><span class="line">          <span class="attr">uri:</span> <span class="string">https://github.com/WanderROS/cloudconfig</span> <span class="comment"># é…ç½®gitä»“åº“çš„åœ°å€ï¼ˆæœ€åä¸éœ€è¦å¸¦/ï¼Œå¦åˆ™ä¼šå‡ºç°ï¼šNo custom http config found for URL: XXXï¼‰</span></span><br><span class="line">          <span class="attr">search-paths:</span> <span class="string">/</span> <span class="comment"># gitä»“åº“åœ°å€ä¸‹çš„ç›¸å¯¹æœç´¢åœ°å€ï¼ˆå¯ç”¨ä½¿ç”¨é€šé…ç¬¦ï¼‰ï¼Œå¯ä»¥é…ç½®å¤šä¸ªï¼Œç”¨,åˆ†å‰²ã€‚å¯ä»¥&#123;application&#125;å®ç°æŒ‰åº”ç”¨æŸ¥é…ç½®</span></span><br><span class="line">          <span class="attr">username:</span> <span class="string">wanderros</span></span><br><span class="line">          <span class="attr">password:</span> <span class="string">******</span></span><br><span class="line">          <span class="attr">default-label:</span> <span class="string">master</span> <span class="comment">#é€‰æ‹©åˆ†æ”¯</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>é…ç½®å¥½äº†å°±å¯ä»¥ç›´æ¥å¯åŠ¨é…ç½®æœåŠ¡å™¨äº†ï¼Œç„¶åè®¿é—®é…ç½®æœåŠ¡å™¨çš„åœ°å€ï¼š<a href="http://localhost:8080/service-dev.jsonï¼Œæ³¨æ„è¿™ä¸ªæ˜¯è¦åœ¨githubé…ç½®ä¸­æœ‰ï¼Œä¸ç„¶æ˜¯è®¿é—®ä¸åˆ°çš„ï¼š" target="_blank" rel="noopener">http://localhost:8080/service-dev.jsonï¼Œæ³¨æ„è¿™ä¸ªæ˜¯è¦åœ¨githubé…ç½®ä¸­æœ‰ï¼Œä¸ç„¶æ˜¯è®¿é—®ä¸åˆ°çš„ï¼š</a></p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/67ff71ae722b14068bf54ec71013db35-35448" alt="githubå†…å®¹"></p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/d3cd3bf9c1169c1c7a60a3a7c6d06cc9-21040" alt="configç½‘å€å†…å®¹"></p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/90d1ce032ea695483d0bc7ae1a41c05e-120477" alt="configæ·»åŠ åˆ°æ³¨å†Œä¸­å¿ƒ"></p>
</li>
</ol>
<h2 id="ConfigClient"><a href="#ConfigClient" class="headerlink" title="ConfigClient"></a>ConfigClient</h2><ol>
<li><p>åˆ›å»ºä¸€ä¸ªæœåŠ¡ï¼Œä½¿ç”¨ConfigServerçš„é…ç½®ï¼Œé¡¹ç›®ä¸»è¦ä¾èµ–å¦‚ä¸‹ï¼ˆpom.xmlï¼‰:</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-actuator<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-config<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-netflix-eureka-client<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>åœ¨å¯åŠ¨ç±»ä¸Šæ·»åŠ Eurekaå®¢æˆ·ç«¯æ³¨è§£ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="meta">@EnableDiscoveryClient</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ClientserviceApplication</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        SpringApplication.run(ClientserviceApplication<span class="class">.<span class="keyword">class</span>, <span class="title">args</span>)</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>åˆ›å»ºé…ç½®æ–‡ä»¶bootstrap.ymlï¼Œå¹¶æ·»åŠ å†…å®¹ï¼š</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">application:</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">service</span>   <span class="comment">#æŒ‡å®šäº†é…ç½®æ–‡ä»¶çš„åº”ç”¨å</span></span><br><span class="line">  <span class="attr">cloud:</span></span><br><span class="line">    <span class="attr">config:</span></span><br><span class="line">      <span class="attr">uri:</span> <span class="string">http://localhost:8080/</span>  <span class="comment">#Config serverçš„uri </span></span><br><span class="line">      <span class="attr">profile:</span> <span class="string">dev</span>     <span class="comment">#æŒ‡å®šçš„ç¯å¢ƒ</span></span><br><span class="line">      <span class="attr">label:</span> <span class="string">master</span>                      <span class="comment">#æŒ‡å®šåˆ†æ”¯</span></span><br><span class="line"></span><br><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">8081</span></span><br><span class="line"></span><br><span class="line"><span class="attr">eureka:</span></span><br><span class="line">  <span class="attr">instance:</span></span><br><span class="line">    <span class="attr">prefer-ip-address:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">client:</span></span><br><span class="line">    <span class="attr">service-url:</span></span><br><span class="line">      <span class="attr">defaultZone:</span> <span class="string">http://admin:admin@localhost:8761/eureka/</span></span><br><span class="line">    <span class="attr">instance:</span></span><br><span class="line">      <span class="attr">prefer-ip-address:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">management:</span></span><br><span class="line">  <span class="attr">endpoints:</span></span><br><span class="line">    <span class="attr">web:</span></span><br><span class="line">      <span class="attr">exposure:</span></span><br><span class="line">        <span class="attr">include:</span> <span class="string">"*"</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>åˆ›å»ºä¸€ä¸ªRESTfulæ§åˆ¶å™¨ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@RefreshScope</span></span><br><span class="line"><span class="meta">@RestController</span> </span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ServiceController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Value</span>(<span class="string">"$&#123;hello&#125;"</span>)</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping</span>(<span class="string">"/"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Map&lt;String, Object&gt; <span class="title">serviceHello</span><span class="params">()</span> <span class="keyword">throws</span> InterruptedException </span>&#123;</span><br><span class="line">        Map&lt;String, Object&gt; ret = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        ret.put(<span class="string">"test"</span>, <span class="string">"hello"</span>);</span><br><span class="line">        ret.put(<span class="string">"age"</span>, <span class="number">18</span>);</span><br><span class="line">        ret.put(<span class="string">"status"</span>, <span class="string">"success"</span>);</span><br><span class="line">        ret.put(<span class="string">"hello"</span>, name);</span><br><span class="line">        <span class="keyword">return</span> ret;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>æ³¨æ„æ³¨å…¥äº†é…ç½®æœåŠ¡å™¨ä¸­çš„helloå­—æ®µçš„å†…å®¹ï¼Œå¦‚æœé…ç½®æœåŠ¡å™¨æ²¡å¯åŠ¨ä¼šæŠ¥é”™çš„</li>
<li>è¿˜æ·»åŠ äº†@RefreshScopeæ³¨è§£ï¼Œè¿™ä¸ªæ˜¯githubé…ç½®æ–‡ä»¶ä¿®æ”¹åè¿›è¡Œæ‰‹åŠ¨åˆ·æ–°ä¹‹åå¿…é¡»è¦é…ç½®çš„ï¼ˆå‘ç‚¹ä¹‹ä¸€ï¼‰ï¼Œæœ‰ç”¨åˆ°é…ç½®æœåŠ¡å™¨çš„å†…å®¹çš„ç±»éƒ½è¦æ·»åŠ </li>
<li>å°†æ‰€æœ‰çš„actuatoræ¥å£éƒ½æš´éœ²å‡ºæ¥ï¼Œæ˜¯ä¸ºäº†POST actuator/refreshæ¥å£ï¼Œè¿™æ ·å°±èƒ½å¤Ÿæ‰‹åŠ¨åˆ·æ–°æœåŠ¡ï¼Œè€Œæ— éœ€é‡æ–°å¯åŠ¨æœåŠ¡å°±æ›´æ–°é…ç½®äº†</li>
</ul>
</li>
<li><p>å¯åŠ¨æœåŠ¡ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯å‰é¢çš„EurekaServeræœåŠ¡ä»¥åŠConfigServeræœåŠ¡éƒ½è¦æ˜¯å¯åŠ¨çš„ï¼Œç„¶åè®¿é—®<a href="http://localhost:8081ï¼š">http://localhost:8081ï¼š</a></p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/771cc7a70145406b92427b148d684592-18014" alt="è®¿é—®ServiceæœåŠ¡"></p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/5393c5d00ad35c6d857235785be3cc7c-42683" alt="ä¿®æ”¹githubé…ç½®æ–‡ä»¶"></p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/f519dacdf40981351c0a16f9e3a7b881-110812" alt="POSTåˆ·æ–°é…ç½®"></p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/dca44713c7e8eba2be6f80be99ea50a6-20091" alt="åˆ·æ–°åè®¿é—®ServiceæœåŠ¡"></p>
</li>
</ol>
<h2 id="FeignæœåŠ¡"><a href="#FeignæœåŠ¡" class="headerlink" title="FeignæœåŠ¡"></a>FeignæœåŠ¡</h2><ol>
<li><p>åˆ›å»ºè¿™ä¸ªé¡¹ç›®ä¸»è¦ä¸ºäº†ä½¿ç”¨Feignè¿›è¡ŒæœåŠ¡çš„è®¿é—®ï¼Œä¸»è¦ä¾èµ–é…ç½®å¦‚ä¸‹ï¼ˆpom.xmlï¼‰ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-actuator<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-netflix-eureka-client<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-openfeign<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-netflix-hystrix<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>éœ€è¦æ³¨æ„çš„æ˜¯è¦æ·»åŠ çš„æ˜¯spring-cloud-starter-openfeignï¼Œå…¶ä»–çš„ä¼šé»˜è®¤æ·»åŠ ä¸Šï¼Œä¸è¦ä¹±æ·»åŠ ï¼Œå¦åˆ™ä¼šå‡ºç°é—®é¢˜</li>
</ul>
</li>
<li><p>åœ¨å¯åŠ¨ç±»ä¸Šæ·»åŠ æ³¨è§£ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@EnableFeignClients</span></span><br><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="meta">@EnableDiscoveryClient</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ConsumerApplication</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        SpringApplication.run(ConsumerApplication<span class="class">.<span class="keyword">class</span>, <span class="title">args</span>)</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ·»åŠ é…ç½®ï¼ˆä½¿ç”¨é…ç½®æœåŠ¡ï¼Œå› æ­¤æ–‡ä»¶è¦ä¸ºbootstrap.ymlï¼‰ï¼š</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">application:</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">consumer</span>   <span class="comment">#æŒ‡å®šäº†é…ç½®æ–‡ä»¶çš„åº”ç”¨å</span></span><br><span class="line">  <span class="attr">cloud:</span></span><br><span class="line">    <span class="attr">config:</span></span><br><span class="line">      <span class="attr">uri:</span> <span class="string">http://localhost:8080/</span>  <span class="comment">#Config serverçš„uri</span></span><br><span class="line">      <span class="attr">profile:</span> <span class="string">dev</span>     <span class="comment">#æŒ‡å®šçš„ç¯å¢ƒ</span></span><br><span class="line">      <span class="attr">label:</span> <span class="string">master</span>                      <span class="comment">#æŒ‡å®šåˆ†æ”¯</span></span><br><span class="line"></span><br><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">9000</span></span><br><span class="line"></span><br><span class="line"><span class="attr">eureka:</span></span><br><span class="line">  <span class="attr">instance:</span></span><br><span class="line">    <span class="attr">prefer-ip-address:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">client:</span></span><br><span class="line">    <span class="attr">service-url:</span></span><br><span class="line">      <span class="attr">defaultZone:</span> <span class="string">http://admin:admin@localhost:8761/eureka/</span></span><br><span class="line"></span><br><span class="line"><span class="attr">management:</span></span><br><span class="line">  <span class="attr">endpoints:</span></span><br><span class="line">    <span class="attr">web:</span></span><br><span class="line">      <span class="attr">exposure:</span></span><br><span class="line">        <span class="attr">include:</span> <span class="string">"*"</span></span><br><span class="line"></span><br><span class="line"><span class="attr">feign:</span></span><br><span class="line">  <span class="attr">hystrix:</span></span><br><span class="line">    <span class="comment"># feignç†”æ–­å™¨å¼€å…³</span></span><br><span class="line">    <span class="attr">enabled:</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="attr">hystrix:</span></span><br><span class="line">  <span class="attr">command:</span></span><br><span class="line">    <span class="attr">default:</span></span><br><span class="line">      <span class="attr">execution:</span></span><br><span class="line">        <span class="attr">isolation:</span></span><br><span class="line">          <span class="attr">thread:</span></span><br><span class="line">            <span class="attr">timeoutInMilliseconds:</span> <span class="number">1000</span>  <span class="comment">#1ç§’</span></span><br><span class="line"></span><br><span class="line"><span class="attr">service:</span></span><br><span class="line">  <span class="attr">ribbon:</span></span><br><span class="line">    <span class="attr">NFLoadBalancerRuleClassName:</span> <span class="string">com.netflix.loadbalancer.RandomRule</span> <span class="comment">#é…ç½®è§„åˆ™ éšæœº</span></span><br><span class="line">    <span class="comment">#NFLoadBalancerRuleClassName: com.netflix.loadbalancer.RoundRobinRule #é…ç½®è§„åˆ™ è½®è¯¢</span></span><br><span class="line">    <span class="comment"># NFLoadBalancerRuleClassName: com.netflix.loadbalancer.BestAvailableRule #é…ç½®è§„åˆ™ æœ€ç©ºé—²è¿æ¥ç­–ç•¥</span></span><br><span class="line">    <span class="attr">ConnectTimeout:</span> <span class="number">500</span> <span class="comment">#è¯·æ±‚è¿æ¥è¶…æ—¶æ—¶é—´</span></span><br><span class="line">    <span class="attr">ReadTimeout:</span> <span class="number">1000</span> <span class="comment">#è¯·æ±‚å¤„ç†çš„è¶…æ—¶æ—¶é—´</span></span><br><span class="line">    <span class="attr">OkToRetryOnAllOperations:</span> <span class="literal">true</span> <span class="comment">#å¯¹æ‰€æœ‰è¯·æ±‚éƒ½è¿›è¡Œé‡è¯•</span></span><br><span class="line">    <span class="attr">MaxAutoRetriesNextServer:</span> <span class="number">2</span> <span class="comment">#åˆ‡æ¢å®ä¾‹çš„é‡è¯•æ¬¡æ•°</span></span><br><span class="line">    <span class="attr">MaxAutoRetries:</span> <span class="number">1</span> <span class="comment">#å¯¹å½“å‰å®ä¾‹çš„é‡è¯•æ¬¡æ•°</span></span><br></pre></td></tr></table></figure>

<ul>
<li>æ³¨æ„feginå’Œhystrixç»“åˆçš„æ¯”è¾ƒå¥½ï¼Œè¦é…ç½®æœåŠ¡é™çº§çš„è¯ï¼Œæ·»åŠ feign.hystrix.enabled=trueå³å¯</li>
<li>é»˜è®¤è´Ÿè½½å‡è¡¡æ˜¯è½®è¯¢ï¼Œä¹Ÿæ˜¯å¯ä»¥ä¿®æ”¹çš„</li>
</ul>
</li>
<li><p>é…ç½®Feignæ¥å£ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Component</span>(value = <span class="string">"myFeignClient"</span>)</span><br><span class="line"><span class="meta">@FeignClient</span>(value = <span class="string">"service"</span>,fallback=ServiceFallback<span class="class">.<span class="keyword">class</span>)</span></span><br><span class="line"><span class="class"><span class="title">public</span> <span class="title">interface</span> <span class="title">MyFeignClient</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping</span>(method = RequestMethod.GET, value = <span class="string">"/"</span>)</span><br><span class="line">    <span class="function">Map&lt;String,Object&gt; <span class="title">hello</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ·»åŠ é™çº§ç±»ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ServiceFallback</span> <span class="keyword">implements</span> <span class="title">MyFeignClient</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Map&lt;String, Object&gt; <span class="title">hello</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        Map&lt;String, Object&gt; res=<span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        res.put(<span class="string">"err"</span>,<span class="string">"æœåŠ¡å´©æºƒ"</span>);</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>é…ç½®RESTfulæ§åˆ¶å™¨ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HelloController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    MyFeignClient myFeignClient;</span><br><span class="line"></span><br><span class="line">   <span class="comment">// @HystrixCommand(fallbackMethod = "getHello")</span></span><br><span class="line">    <span class="meta">@RequestMapping</span>(<span class="string">"/"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Map&lt;String,Object&gt; <span class="title">hello</span><span class="params">()</span></span>&#123;</span><br><span class="line">        Map&lt;String,Object&gt; ret=myFeignClient.hello();</span><br><span class="line">        Map&lt;String,Object&gt; res=<span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        res.put(<span class="string">"res"</span>,ret);</span><br><span class="line">        res.put(<span class="string">"msg"</span>,<span class="string">"success"</span>);</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Map&lt;String,Object&gt; <span class="title">getHello</span><span class="params">()</span></span>&#123;</span><br><span class="line">        Map&lt;String,Object&gt; res=<span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        res.put(<span class="string">"msg"</span>,<span class="string">"å¯åŠ¨ç†”æ–­"</span>);</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>å¯åŠ¨é¡¹ç›®ï¼Œå‰é¢çš„EurekaServeræœåŠ¡ã€ServiceæœåŠ¡ä»¥åŠConfigServeræœåŠ¡éƒ½è¦æ˜¯å¯åŠ¨çš„ï¼Œè®¿é—®<a href="http://localhost:9000å³å¯ï¼š">http://localhost:9000å³å¯ï¼š</a></p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/ff198fc22593c8807723ca380df04410-21126" alt="FeignæœåŠ¡"></p>
<ul>
<li><p>å…³é—­ServiceæœåŠ¡ï¼Œè®¿é—®æœåŠ¡ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/ff0e8a419bf054dbc4b6c5a06ef84d94-15952" alt="FeignæœåŠ¡é™çº§"></p>
</li>
<li><p>EurekaServerå±•ç¤ºé¡µé¢ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/bbb3d2ee423a1060a64b7cb96428814c-112832" alt="EurekaServerå±•ç¤ºé¡µé¢"></p>
</li>
</ul>
</li>
</ol>
<h2 id="RestTemplateæœåŠ¡"><a href="#RestTemplateæœåŠ¡" class="headerlink" title="RestTemplateæœåŠ¡"></a>RestTemplateæœåŠ¡</h2><ol>
<li><p>åˆ›å»ºè¿™ä¸ªé¡¹ç›®ä¸»è¦ä¸ºäº†ä½¿ç”¨RestTemplateè¿›è¡ŒæœåŠ¡çš„è®¿é—®ï¼Œä¸»è¦ä¾èµ–é…ç½®å¦‚ä¸‹ï¼ˆpom.xmlï¼‰ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-netflix-eureka-client<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-netflix-hystrix<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">   </span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-netflix-ribbon<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>åœ¨å¯åŠ¨ç±»ä¸Šæ³¨è§£å¹¶æ·»åŠ RestTemplateçš„Beanï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@EnableDiscoveryClient</span></span><br><span class="line"><span class="meta">@EnableHystrix</span></span><br><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RestconsumerApplication</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        SpringApplication.run(RestconsumerApplication<span class="class">.<span class="keyword">class</span>, <span class="title">args</span>)</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="meta">@LoadBalanced</span></span><br><span class="line">    <span class="function">RestTemplate <span class="title">restTemplate</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> RestTemplate();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>@LoadBalancedæ˜¯Ribbonçš„æ³¨è§£ï¼Œç”¨äºè´Ÿè½½å‡è¡¡</li>
<li>@EnableHystrixæ˜¯å¼€å¯Hystrixçš„æ³¨è§£ï¼Œç”¨äºæœåŠ¡ç†”æ–­</li>
</ul>
</li>
<li><p>æ·»åŠ é…ç½®ï¼ˆapplication.ymlï¼‰ï¼š</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">9500</span></span><br><span class="line"></span><br><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">application:</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">restconsumer</span></span><br><span class="line"><span class="attr">eureka:</span></span><br><span class="line">  <span class="attr">instance:</span></span><br><span class="line">    <span class="attr">prefer-ip-address:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">client:</span></span><br><span class="line">    <span class="attr">service-url:</span></span><br><span class="line">      <span class="attr">defaultZone:</span> <span class="string">http://admin:admin@localhost:8761/eureka/</span></span><br><span class="line"></span><br><span class="line"><span class="attr">management:</span></span><br><span class="line">  <span class="attr">endpoints:</span></span><br><span class="line">    <span class="attr">web:</span></span><br><span class="line">      <span class="attr">exposure:</span></span><br><span class="line">        <span class="attr">include:</span> <span class="string">"*"</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>åˆ›å»ºæ§åˆ¶å™¨ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ServiceController</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    RestTemplate restTemplate;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping</span>(<span class="string">"/"</span>)</span><br><span class="line">    <span class="meta">@HystrixCommand</span>(fallbackMethod=<span class="string">"consumerServiceRibbonFallback"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Map&lt;String,Object&gt; <span class="title">hello</span><span class="params">()</span></span>&#123;</span><br><span class="line">        String ret=restTemplate.getForObject(<span class="string">"http://service/"</span>,String<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">        Map&lt;String,Object&gt; res=<span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        res.put(<span class="string">"res"</span>,ret);</span><br><span class="line">        res.put(<span class="string">"msg"</span>,<span class="string">"success"</span>);</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Map&lt;String,Object&gt; <span class="title">consumerServiceRibbonFallback</span><span class="params">()</span></span>&#123;</span><br><span class="line">        Map&lt;String,Object&gt; res=<span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        res.put(<span class="string">"res"</span>,<span class="string">"error"</span>);</span><br><span class="line">        res.put(<span class="string">"msg"</span>,<span class="string">"err"</span>);</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>å¯åŠ¨é¡¹ç›®ï¼Œå‰é¢çš„EurekaServeræœåŠ¡ã€ServiceæœåŠ¡ä»¥åŠConfigServeræœåŠ¡éƒ½è¦æ˜¯å¯åŠ¨çš„ï¼Œè®¿é—®<a href="http://localhost:9500å³å¯ï¼š">http://localhost:9500å³å¯ï¼š</a></p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/3d4b9eb96de8e029a50c38f583ccb396-23085" alt="restTemplateå®¢æˆ·ç«¯"></p>
</li>
</ol>
<h2 id="zuulç½‘å…³"><a href="#zuulç½‘å…³" class="headerlink" title="zuulç½‘å…³"></a>zuulç½‘å…³</h2><ol>
<li><p>åˆ›å»ºé¡¹ç›®ï¼Œæ·»åŠ ä¸»è¦ä¾èµ–å¦‚ä¸‹(ä¸æ·»åŠ é…ç½®å®¢æˆ·ç«¯)ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-actuator<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-netflix-eureka-client<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-netflix-zuul<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>åœ¨å¯åŠ¨ç±»ä¸Šå¼€å¯zuulæœåŠ¡ä»¥åŠEurekaå®¢æˆ·ç«¯æ³¨è§£ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="meta">@EnableZuulProxy</span></span><br><span class="line"><span class="meta">@EnableDiscoveryClient</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ZuulgatewayApplication</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        SpringApplication.run(ZuulgatewayApplication<span class="class">.<span class="keyword">class</span>, <span class="title">args</span>)</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä¿®æ”¹é…ç½®æ–‡ä»¶(application.yml)ï¼š</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">application:</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">zuul</span>   <span class="comment">#æŒ‡å®šäº†é…ç½®æ–‡ä»¶çš„åº”ç”¨å</span></span><br><span class="line"></span><br><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">9001</span></span><br><span class="line"></span><br><span class="line"><span class="attr">management:</span></span><br><span class="line">  <span class="attr">endpoints:</span></span><br><span class="line">    <span class="attr">web:</span></span><br><span class="line">      <span class="attr">exposure:</span></span><br><span class="line">        <span class="attr">include:</span> <span class="string">"*"</span></span><br><span class="line"></span><br><span class="line"><span class="attr">eureka:</span></span><br><span class="line">  <span class="attr">instance:</span></span><br><span class="line">    <span class="attr">prefer-ip-address:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">client:</span></span><br><span class="line">    <span class="attr">service-url:</span></span><br><span class="line">      <span class="attr">defaultZone:</span> <span class="string">http://admin:admin@localhost:8761/eureka/</span></span><br><span class="line"></span><br><span class="line"><span class="attr">zuul:</span></span><br><span class="line">  <span class="attr">host:</span></span><br><span class="line">    <span class="attr">connect-timeout-millis:</span> <span class="number">15000</span> <span class="comment">#HTTPè¿æ¥è¶…æ—¶è¦æ¯”Hystrixçš„å¤§</span></span><br><span class="line">    <span class="attr">socket-timeout-millis:</span> <span class="number">60000</span>   <span class="comment">#socketè¶…æ—¶</span></span><br><span class="line"><span class="attr">ribbon:</span></span><br><span class="line">  <span class="attr">ReadTimeout:</span> <span class="number">120000</span>  <span class="comment">#è¯·æ±‚å¤„ç†çš„è¶…æ—¶æ—¶é—´</span></span><br><span class="line">  <span class="attr">ConnectTimeout:</span> <span class="number">30000</span>  <span class="comment">#è¯·æ±‚è¿æ¥çš„è¶…æ—¶æ—¶é—´</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>å¯åŠ¨zuulæœåŠ¡ï¼Œç„¶åå°±å¯ä»¥é€šè¿‡Eurekaä¸­æ³¨å†Œçš„æœåŠ¡åç§°æ·»åŠ æ¥å£åœ°å€è®¿é—®æœåŠ¡äº†ï¼Œæ¯”å¦‚ï¼š<a href="http://localhost:9001/consumer/" target="_blank" rel="noopener">http://localhost:9001/consumer/</a></p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/99d9a830b1de9837c1e1b15756ffbd43-25199" alt="zuulè®¿é—®æœåŠ¡"></p>
<ul>
<li><p>è®¿é—®è¶…æ—¶çš„æœåŠ¡æ—¶ä¼šå´©æºƒï¼Œæ¯”å¦‚ï¼š<a href="http://localhost:9001/configserver/service-dev.jsonï¼Œå› æ­¤æ·»åŠ äº†é…ç½®" target="_blank" rel="noopener">http://localhost:9001/configserver/service-dev.jsonï¼Œå› æ­¤æ·»åŠ äº†é…ç½®</a></p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">zuul:</span></span><br><span class="line">  <span class="attr">host:</span></span><br><span class="line">    <span class="attr">connect-timeout-millis:</span> <span class="number">15000</span> <span class="comment">#HTTPè¿æ¥è¶…æ—¶è¦æ¯”Hystrixçš„å¤§</span></span><br><span class="line">    <span class="attr">socket-timeout-millis:</span> <span class="number">60000</span>   <span class="comment">#socketè¶…æ—¶</span></span><br><span class="line"><span class="attr">ribbon:</span></span><br><span class="line">  <span class="attr">ReadTimeout:</span> <span class="number">120000</span>  <span class="comment">#è¯·æ±‚å¤„ç†çš„è¶…æ—¶æ—¶é—´</span></span><br><span class="line">  <span class="attr">ConnectTimeout:</span> <span class="number">30000</span>  <span class="comment">#è¯·æ±‚è¿æ¥çš„è¶…æ—¶æ—¶é—´</span></span><br></pre></td></tr></table></figure>

<ul>
<li><p>è¶…æ—¶é”™è¯¯ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/9c0f83fb94488c19d9ee0594b84272d4-195280" alt="æœªé…ç½®è¶…æ—¶æ•ˆæœ"></p>
</li>
<li><p>ä¿®æ”¹é…ç½®åï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/ad92ee11c226e8ca816f947e2182660a-28278" alt="é…ç½®ä¹‹å"></p>
</li>
<li><p>ç½‘å…³é»˜è®¤çš„ç­‰å¾…æ—¶é—´ä¸º1ç§’ï¼Œæ—¶é—´åˆ°äº†è¿˜æ²¡æœ‰å“åº”å°±ä¼šæŠ¥é”™</p>
</li>
</ul>
</li>
</ul>
</li>
<li><p>åˆ›å»ºä¸€ä¸ªæœåŠ¡è¿‡æ»¤å™¨serviceFilterç»§æ‰¿è‡ªZuulFilterï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@Slf</span>4j</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">serviceFilter</span> <span class="keyword">extends</span> <span class="title">ZuulFilter</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">filterType</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"pre"</span>;<span class="comment">// å®šä¹‰filterçš„ç±»å‹ï¼Œæœ‰preã€routeã€postã€errorå››ç§</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">filterOrder</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;<span class="comment">// å®šä¹‰filterçš„é¡ºåºï¼Œæ•°å­—è¶Šå°è¡¨ç¤ºé¡ºåºè¶Šé«˜ï¼Œè¶Šå…ˆæ‰§è¡Œ</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">shouldFilter</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>; <span class="comment">// è¡¨ç¤ºæ˜¯å¦éœ€è¦æ‰§è¡Œè¯¥filterï¼Œtrueè¡¨ç¤ºæ‰§è¡Œï¼Œfalseè¡¨ç¤ºä¸æ‰§è¡Œ</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Object <span class="title">run</span><span class="params">()</span> <span class="keyword">throws</span> ZuulException </span>&#123; <span class="comment">// filteréœ€è¦æ‰§è¡Œçš„å…·ä½“æ“ä½œ</span></span><br><span class="line">        <span class="comment">// filteréœ€è¦æ‰§è¡Œçš„å…·ä½“æ“ä½œ</span></span><br><span class="line">        RequestContext ctx = RequestContext.getCurrentContext();</span><br><span class="line">        HttpServletRequest request = ctx.getRequest();</span><br><span class="line">        String token = request.getParameter(<span class="string">"token"</span>);</span><br><span class="line">        System.out.println(token);</span><br><span class="line">        <span class="keyword">if</span>(token==<span class="keyword">null</span>)&#123;</span><br><span class="line">            log.warn(<span class="string">"there is no request token"</span>);</span><br><span class="line">            ctx.setSendZuulResponse(<span class="keyword">false</span>);</span><br><span class="line">            ctx.setResponseStatusCode(<span class="number">401</span>);</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                ctx.getResponse().getWriter().write(<span class="string">"there is no request token"</span>);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        log.info(<span class="string">"ok"</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>æ·»åŠ ç©ä¸Šè¿°è¿‡æ»¤å™¨ä¹‹åï¼Œé‡å¯ç½‘å…³æœåŠ¡</li>
<li>ç°åœ¨æ‰€æœ‰ç»è¿‡ç½‘å…³çš„æœåŠ¡ä¸­å¿…é¡»æ·»åŠ å‚æ•°tokenï¼Œå¦åˆ™ä¸å…è®¸è®¿é—®ä»»ä½•æœåŠ¡</li>
</ul>
</li>
<li><p>æµ‹è¯•è¿‡æ»¤å™¨ï¼š</p>
<ul>
<li><p>ä¸å¸¦tokenå‚æ•°ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/273facdf1cf67f2e34655f7fe6c24ed7-16109" alt="ä¸å¸¦tokenå‚æ•°"></p>
</li>
<li><p>å¸¦tokenå‚æ•°ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/fa9f6138ca8d8607fb92a57f44d4596c-26046" alt="å¸¦tokenå‚æ•°"></p>
</li>
</ul>
</li>
</ol>
<hr>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>SpringCloudç›¸å…³çš„æŠ€æœ¯çœŸçš„å¾ˆç¹çï¼Œå†…å®¹æ¯”è¾ƒå¤šï¼Œè¿™é‡Œè¿˜æœ‰å’ŒSpringCloudç›¸å…³çš„ç»„ä»¶æ²¡æœ‰ä½¿ç”¨è¿‡ï¼Œè€Œä¸”è¿™äº›ä½¿ç”¨éƒ½æ˜¯éå¸¸ç®€å•çš„å®ç°ï¼Œå¤æ‚çš„é…ç½®é€‰é¡¹ä»¥åŠæºç éƒ½æ²¡æœ‰é˜…è¯»ç†è§£ã€‚åœ¨åç»­çš„å­¦ä¹ è¿‡ç¨‹ä¸­è¿˜éœ€è¦ä¸æ–­æ‰©å……è¿™éƒ¨åˆ†çš„å†…å®¹ï¼Œæ„Ÿè§‰ç†è§£è¿˜æ˜¯ä¸å¤Ÿæ·±å…¥ï¼Œæ— æ³•æ¯”è¾ƒå¥½åœ°å»å™è¿°è¿™éƒ¨åˆ†å†…å®¹ï¼</p>
]]></content>
      <categories>
        <category>SpringCloud</category>
      </categories>
  </entry>
  <entry>
    <title>SpringCloud Stream Quick Start</title>
    <url>/2020/08/27/SpringCloud-Stream-Quick-Start/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>SpringCloud Streamæ˜¯â¼€æ¬¾ç”¨äºæ„å»ºæ¶ˆæ¯é©±åŠ¨çš„å¾®æœåŠ¡åº”ç”¨ç¨‹åºçš„è½»é‡çº§æ¡†æ¶ã€‚ç›®å‰å¸¸è§çš„æ¶ˆæ¯ä¸­é—´ä»¶çš„é…ç½®éƒ½ä¸å¤ªç›¸åŒï¼Œä½¿ç”¨ä¹Ÿå„å¼‚ï¼Œè€ŒSpringCloud Streamç±»ä¼¼äºVFSï¼ˆè™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿï¼‰ä¸€æ ·å±è”½åº•å±‚å·®å¼‚ï¼Œæä¾›ç»Ÿä¸€çš„ä½¿ç”¨æ–¹å¼æ¥å‘å¸ƒè®¢é˜…æ¶ˆæ¯ã€‚æœ¬æ–‡ä¸»è¦ä»‹ç»ä»¥åŠä½¿ç”¨SpringCloud Streamè¿›è¡Œæ¶ˆæ¯çš„å‘å¸ƒä¸è®¢é˜…ã€‚</p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="åŸºç¡€çŸ¥è¯†"><a href="#åŸºç¡€çŸ¥è¯†" class="headerlink" title="åŸºç¡€çŸ¥è¯†"></a>åŸºç¡€çŸ¥è¯†</h2><ol>
<li><p>æ¶ˆæ¯ä¸­é—´ä»¶ä¸»è¦è§£å†³åº”ç”¨è§£è€¦ã€å¼‚æ­¥æ¶ˆæ¯ã€æµé‡å‰Šé”‹ç­‰é—®é¢˜ï¼Œå®ç°é«˜æ€§èƒ½ï¼Œé«˜å¯ç”¨ï¼Œå¯ä¼¸ç¼©å’Œæœ€ç»ˆä¸€è‡´æ€§æ¶æ„ã€‚ä¸åŒçš„ä¸­é—´ä»¶å…¶å®ç°æ–¹å¼ï¼Œå†…éƒ¨ç»“æ„æ˜¯ä¸ä¸€æ ·çš„ï¼Œè¿™å°±å¯¼è‡´äº†SpringCloud Streamçš„å‡ºç°ã€‚å¯ä»¥ä½¿ç”¨SpringCloud Streamæ¥æ•´åˆæ¶ˆæ¯ä¸­é—´ä»¶ï¼Œæ¥é™ä½ç³»ç»Ÿå’Œä¸­é—´ä»¶çš„è€¦åˆæ€§ï¼›</p>
</li>
<li><p>SpringCloud Stream ä¸ºä¸€äº›å¼€å‘å•†çš„æ¶ˆæ¯ä¸­é—´ä»¶äº§å“æä¾›äº†ä¸ªæ€§åŒ–çš„è‡ªåŠ¨åŒ–é…ç½®å®ç°ï¼Œå¹¶å¼•å…¥äº†å‘å¸ƒ-è®¢é˜…ã€æ¶ˆè´¹ç»„ã€åˆ†åŒºè¿™ä¸‰ä¸ªæ ¸å¿ƒæ¦‚å¿µã€‚é€šè¿‡ä½¿ç”¨ SpringCloud Streamå¯ä»¥æœ‰æ•ˆç®€åŒ–å¼€å‘äººå‘˜å¯¹æ¶ˆæ¯ä¸­é—´ä»¶çš„ä½¿ç”¨å¤æ‚åº¦ï¼Œè®©ç³»ç»Ÿå¼€å‘äººå‘˜å¯ä»¥æœ‰æ›´å¤šçš„ç²¾åŠ›å…³æ³¨äºæ ¸å¿ƒä¸šåŠ¡é€»è¾‘çš„å¤„ç†ï¼</p>
</li>
<li><p>SpringCloud Streamåº”ç”¨æ¨¡å‹å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/7589631dca02dc399a94401b1ba974d3-16266" alt="SpringCloud Streamåº”ç”¨æ¨¡å‹"></p>
<ul>
<li>å¯ä»¥çœ‹åˆ°SpringCloud Streamåœ¨åº”ç”¨å’Œä¸­é—´ä»¶ä¹‹é—´é€šè¿‡Binderè¿›è¡Œé€šä¿¡ï¼Œä»è€Œé¿å…äº†ä¸åŒä¸­é—´ä»¶çš„å·®å¼‚åŒ–</li>
</ul>
</li>
<li><p>SpringCloud Streamæä¾›å¾ˆå¤šçš„æ¶ˆæ¯ä¸­é—´ä»¶çš„é›†æˆï¼Œæˆªæ­¢2020å¹´8æœˆæ”¯æŒçš„æ¶ˆæ¯ä¸­é—´ä»¶æœ‰ï¼š</p>
<ul>
<li>RabbitMQ</li>
<li>Apache Kafka</li>
<li>Kafka Streams</li>
<li>Amazon Kinesis</li>
<li>Google PubSubï¼ˆåˆä½œä¼™ä¼´ç»´æŠ¤ï¼‰</li>
<li>Solace PubSub+ï¼ˆåˆä½œä¼™ä¼´ç»´æŠ¤ï¼‰</li>
<li>Azure Event Hubsï¼ˆåˆä½œä¼™ä¼´ç»´æŠ¤ï¼‰</li>
<li>Apache RocketMQï¼ˆåˆä½œä¼™ä¼´ç»´æŠ¤ï¼‰</li>
</ul>
</li>
<li><p>SpringCloud Streamç‰¹æ€§ï¼š</p>
<ul>
<li>å£°æ˜å¼ç¼–ç¨‹æ¨¡å‹</li>
<li>å¼•å…¥å¤šç§æ¦‚å¿µæŠ½è±¡</li>
<li>æ”¯æŒå¤šç§æ¶ˆæ¯ä¸­é—´ä»¶</li>
</ul>
</li>
<li><p>åœ¨ SpringCloud Streamä¸­ï¼Œä¸åŒçš„æ¶ˆæ¯ä¸­é—´ä»¶ç»Ÿä¸€å°è£…æˆbinderçš„ç±»å‹ã€‚æœ‰äº†è¿™äº›binderä¹‹åï¼Œåº”ç”¨ç¨‹åºåªéœ€è¦è·Ÿbinderæ‰“äº¤é“ï¼Œå¹¶ä¸éœ€è¦å»å…³æ³¨åº•å±‚çš„ç»†èŠ‚ã€‚å¦‚æœéœ€è¦ä½¿ç”¨åˆ°æ¶ˆæ¯ä¸­é—´ä»¶ç‹¬æœ‰çš„ç‰¹æ€§ï¼ŒSpringCloud Stream æä¾›äº†ä¸€äº›é…ç½®ï¼Œå¯ä»¥å»åšä¸€ä¸ªå®šåˆ¶ï¼›</p>
</li>
<li><p>æ³¨è§£ @EnableBindingï¼šåº”ç”¨ä¸­ç”Ÿäº§è€…ã€æ¶ˆè´¹è€…ä¸æ¶ˆæ¯ç³»ç»Ÿä¹‹é—´çš„æ¡¥æ¢ï¼Œé€šè¿‡æ³¨è§£çš„æ–¹å¼å»å®šä¹‰ä¸€ä¸ªæ¥å£ï¼›</p>
</li>
<li><p>æ³¨è§£ @Inputï¼šæ³¨è§£è¦è®¢é˜…çš„æ¶ˆæ¯çš„æ–¹æ³•ï¼Œè¿”å›å€¼ç±»å‹æ˜¯SubscribableChannelï¼›</p>
</li>
<li><p>æ³¨è§£ @Outputï¼šæ³¨è§£è¦å‘é€æ¶ˆæ¯çš„æ–¹æ³•ï¼Œè¿”å›å€¼ç±»å‹æ˜¯MessageChannelã€‚ä½¿ç”¨MessageChannel ä¸­çš„ send() å¯ä»¥å‘é€æ¶ˆæ¯ï¼›</p>
</li>
<li><p>æ³¨è§£ @SendToï¼šæ³¨è§£åœ¨æ–¹æ³•ä¸Šï¼Œä¼šå°†è¿™ä¸ªæ–¹æ³•çš„è¿”å›å€¼å‘é€åˆ°ç‰¹å®šçš„æ¶ˆæ¯é˜Ÿåˆ—ä¸­å»ï¼›</p>
</li>
<li><p>æ³¨è§£ @StreamListenerï¼šæ³¨è§£åœ¨æ–¹æ³•ä¸Šï¼Œä¼šå»æ¶ˆè´¹æŒ‡å®šçš„æ¶ˆæ¯é˜Ÿåˆ—ï¼›</p>
</li>
<li><p>åœ¨ç°å®çš„ä¸šåŠ¡åœºæ™¯ä¸­ï¼Œæ¯ä¸€ä¸ªå¾®æœåŠ¡åº”ç”¨ä¸ºäº†å®ç°é«˜å¯ç”¨å’Œè´Ÿè½½å‡è¡¡ï¼Œéƒ½ä¼šé›†ç¾¤éƒ¨ç½²ï¼Œæ¶ˆæ¯å¯èƒ½ä¼šè¢«é‡å¤æ¶ˆè´¹ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒSpringCloud Streamæä¾›äº†æ¶ˆè´¹ç»„ï¼Œé€šè¿‡é…ç½®å³å¯æŒ‡å®šç»„åï¼›</p>
</li>
<li><p>SpringCloud Streamå®˜æ–¹ç½‘å€ï¼š<a href="https://spring.io/projects/spring-cloud-stream" target="_blank" rel="noopener">https://spring.io/projects/spring-cloud-stream</a></p>
</li>
</ol>
<h2 id="é‡ç‚¹æ¦‚å¿µ"><a href="#é‡ç‚¹æ¦‚å¿µ" class="headerlink" title="é‡ç‚¹æ¦‚å¿µ"></a>é‡ç‚¹æ¦‚å¿µ</h2><ol>
<li><strong>group</strong>ï¼šç»„å†…åªæœ‰1ä¸ªå®ä¾‹ä¼šæ¶ˆè´¹æ¶ˆæ¯ï¼Œç»„å†…çš„æ¯ä¸ªå®ä¾‹éƒ½ä¼šæœ‰æœºä¼šæ¶ˆè´¹æ¶ˆæ¯ï¼ˆè½®è¯¢è´Ÿè½½å‡è¡¡ï¼‰ã€‚å¦‚æœä¸è®¾ç½®groupï¼Œåˆ™streamä¼šè‡ªåŠ¨ä¸ºæ¯ä¸ªå®ä¾‹åˆ›å»ºåŒ¿åä¸”ç‹¬ç«‹çš„groupï¼Œåˆ™æ¯ä¸ªå®ä¾‹éƒ½ä¼šæ¶ˆè´¹æ¶ˆæ¯ï¼›</li>
<li><strong>destination binder</strong>ï¼šä¸å¤–éƒ¨æ¶ˆæ¯ç³»ç»Ÿé€šä¿¡çš„ç»„ä»¶ï¼Œä¸ºæ„é€  Bindingæä¾›äº† 2 ä¸ªæ–¹æ³•ï¼Œåˆ†åˆ«æ˜¯ bindConsumer å’Œ bindProducer ï¼Œç”¨äºæ„é€ ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…ã€‚Binderä½¿SpringCloud Streamåº”ç”¨ç¨‹åºå¯ä»¥çµæ´»åœ°è¿æ¥åˆ°ä¸­é—´ä»¶ï¼›</li>
<li><strong>destination binding</strong>ï¼šBinding æ˜¯è¿æ¥åº”ç”¨ç¨‹åºè·Ÿæ¶ˆæ¯ä¸­é—´ä»¶çš„æ¡¥æ¢ï¼Œç”¨äºæ¶ˆæ¯çš„æ¶ˆè´¹å’Œç”Ÿäº§ï¼Œç”±binderåˆ›å»ºï¼›</li>
<li><strong>partition</strong>ï¼šä¸€ä¸ªæˆ–å¤šä¸ªç”Ÿäº§è€…å°†æ•°æ®å‘é€åˆ°å¤šä¸ªæ¶ˆè´¹è€…ï¼Œå¹¶ç¡®ä¿æœ‰å…±åŒç‰¹å¾æ ‡è¯†çš„æ•°æ®ç”±åŒä¸€ä¸ªæ¶ˆè´¹è€…å¤„ç†ã€‚é»˜è®¤æ˜¯å¯¹æ¶ˆæ¯è¿›è¡ŒhashCodeï¼Œç„¶åæ ¹æ®åˆ†åŒºä¸ªæ•°å–ä½™ï¼Œæ‰€ä»¥å¯¹äºç›¸åŒçš„æ¶ˆæ¯ï¼Œæ€»ä¼šè½åˆ°åŒä¸€ä¸ªæ¶ˆè´¹è€…ä¸Šï¼›</li>
</ol>
<h1 id="åŠ¨æ‰‹å®æ“"><a href="#åŠ¨æ‰‹å®æ“" class="headerlink" title="åŠ¨æ‰‹å®æ“"></a>åŠ¨æ‰‹å®æ“</h1><h2 id="SCSæ•´åˆRabbitMQ"><a href="#SCSæ•´åˆRabbitMQ" class="headerlink" title="SCSæ•´åˆRabbitMQ"></a>SCSæ•´åˆRabbitMQ</h2><ol>
<li><p>å¯åŠ¨RabbitMQçš„Dockeré•œåƒï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker run -d -p 5672:5672 -p 15672:15672 -e RABBITMQ_DEFAULT_USER=admin -e RABBITMQ_DEFAULT_PASS=admin --name rabbit rabbitmq:management</span><br></pre></td></tr></table></figure>

<ul>
<li>è´¦æˆ·åï¼šadmin</li>
<li>å¯†ç ï¼šadmin</li>
<li>Webç®¡ç†é¡µé¢ç«¯å£15672</li>
</ul>
</li>
<li><p>åˆ›å»ºä¸€ä¸ªSCSé¡¹ç›®ï¼Œæ·»åŠ ä¸»è¦ä¾èµ–å¦‚ä¸‹ï¼ˆpom.xmlï¼‰ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-amqp<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-stream<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-stream-binder-rabbit<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>æ·»åŠ é…ç½®ï¼ˆapplication.ymlï¼‰ï¼š</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">rabbitmq:</span></span><br><span class="line">    <span class="attr">password:</span> <span class="string">admin</span></span><br><span class="line">    <span class="attr">username:</span> <span class="string">admin</span></span><br><span class="line">    <span class="attr">addresses:</span> <span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span></span><br><span class="line">    <span class="attr">port:</span> <span class="number">5672</span>  <span class="comment"># æ³¨æ„ï¼Œè¿™é‡Œæ˜¯5672ï¼Œä¸æ˜¯è®¿é—®ç•Œé¢ç”¨çš„15672ï¼Œè¿™ä¸ªæ˜¯é»˜è®¤å€¼</span></span><br><span class="line">  <span class="attr">cloud:</span></span><br><span class="line">    <span class="attr">stream:</span></span><br><span class="line">      <span class="comment"># å¢åŠ è¯¥é…ç½®ï¼Œå¯¹é˜Ÿåˆ—è¿›è¡Œåˆ†ç»„ã€‚ä¿è¯ä¸€ä¸ªæœåŠ¡åªæœ‰ä¸€å°å®ä¾‹æ¥å—åˆ°æ¶ˆæ¯ã€‚</span></span><br><span class="line">      <span class="attr">bindings:</span></span><br><span class="line">        <span class="comment"># ç›‘å¬çš„æ¶ˆæ¯é˜Ÿåˆ—çš„åç§°ã€‚</span></span><br><span class="line">        <span class="attr">testMessage:</span></span><br><span class="line">          <span class="comment"># æœåŠ¡çš„åç§°</span></span><br><span class="line">          <span class="attr">group:</span> <span class="string">order</span></span><br><span class="line">          <span class="comment"># å°†å‘é€çš„å¯¹è±¡æ¶ˆæ¯è½¬åŒ–ä¸ºjsonï¼Œæ–¹ä¾¿è°ƒè¯•</span></span><br><span class="line">          <span class="attr">content-type:</span> <span class="string">application/json</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>åˆ›å»ºæ¶ˆæ¯æ¥å£ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">StreamClient</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Input</span>(<span class="string">"testMessage"</span>)</span><br><span class="line">    <span class="function">SubscribableChannel <span class="title">input</span><span class="params">()</span></span>;  <span class="comment">//ç”¨äºæ¥å—æ¶ˆæ¯</span></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Output</span>(<span class="string">"testMessage"</span>)</span><br><span class="line">    <span class="function">MessageChannel <span class="title">output</span><span class="params">()</span></span>;  <span class="comment">//ç”¨äºå‘é€æ¶ˆæ¯</span></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Input</span>(<span class="string">"responseMessage"</span>)</span><br><span class="line">    <span class="function">SubscribableChannel <span class="title">responseinput</span><span class="params">()</span></span>;  <span class="comment">//ç”¨äºæ¥å—æ¶ˆæ¯</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>åˆ›å»ºæ¶ˆæ¯ç›‘å¬ç±»ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@EnableBinding</span>(StreamClient<span class="class">.<span class="keyword">class</span>)</span></span><br><span class="line"><span class="class"><span class="title">public</span> <span class="title">class</span> <span class="title">StreamReceiver</span> </span>&#123;  <span class="comment">//æ¶ˆæ¯æ¥å—ç±»</span></span><br><span class="line"></span><br><span class="line">    <span class="meta">@StreamListener</span>(<span class="string">"testMessage"</span>)  <span class="comment">//ç›‘å¬testMessageè¿™ä¸ªæ¶ˆæ¯é˜Ÿåˆ—, StreamClientç±»ä¸­å¿…é¡»å®šä¹‰ç›¸åº”çš„Inputã€‚</span></span><br><span class="line">    <span class="meta">@SendTo</span>(<span class="string">"responseMessage"</span>)  <span class="comment">//è¯¥æ³¨è§£ä¼šåœ¨æ¶ˆæ¯å¤„ç†å®Œæˆåï¼Œå‘responseMessageè¿™ä¸ªé˜Ÿåˆ—å‘é€æ¶ˆæ¯ã€‚æ¶ˆæ¯å†…å®¹å°±æ˜¯è¯¥æ–¹æ³•çš„è¿”å›å€¼ã€‚</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">receiver</span><span class="params">(Object message)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">"æ¥æ”¶åˆ°æ¶ˆæ¯ï¼š"</span> + message);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"å®Œæˆæ¶ˆæ¯å¤„ç†"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@StreamListener</span>(<span class="string">"responseMessage"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">receiverResponse</span><span class="params">(Object message)</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"æ¥æ”¶åˆ°è½¬å‘æ¶ˆæ¯ï¼š"</span> + message);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>åˆ›å»ºæµ‹è¯•æ§åˆ¶å™¨ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StreamController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> StreamClient streamClient;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping</span>(<span class="string">"/sendMessage"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">send</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="comment">//org.springframework.messaging.support.MessageBuilder;</span></span><br><span class="line">        streamClient.output().send(MessageBuilder.withPayload(<span class="string">"it is test message."</span>).build()); <span class="comment">//æ„å»ºæ¶ˆæ¯å¹¶ä¸”å‘é€</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>å¯åŠ¨é¡¹ç›®ï¼Œè®¿é—®<a href="http://localhost:8080/sendMessageå¯ä»¥çœ‹åˆ°æ§åˆ¶å°è¾“å‡ºæ¶ˆæ¯ï¼Œæ•ˆæœå¦‚ä¸‹ï¼š" target="_blank" rel="noopener">http://localhost:8080/sendMessageå¯ä»¥çœ‹åˆ°æ§åˆ¶å°è¾“å‡ºæ¶ˆæ¯ï¼Œæ•ˆæœå¦‚ä¸‹ï¼š</a></p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/1d8e27d9264c0209c663258e51935f26-171738" alt="æ¶ˆæ¯è¾“å‡º"></p>
</li>
<li><p>å› ä¸ºè®¾ç½®äº†ç»„ï¼Œå› æ­¤ï¼Œè¯¥é¡¹ç›®çš„å¤šä¸ªå®ä¾‹æ¯æ¬¡åªä¼šæœ‰ä¸€ä¸ªæ¶ˆè´¹æ¶ˆæ¯ï¼</p>
</li>
</ol>
<hr>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>SCSçš„ä½¿ç”¨è¿œä¸æ­¢å¦‚æ­¤ï¼Œè¿˜æœ‰è®¸å¤šé«˜çº§çš„ç‰¹æ€§æ²¡æœ‰ä½¿ç”¨ï¼Œåç»­æœ‰ç”¨åˆ°å†è¯¦ç»†å­¦ä¹ ï¼</p>
]]></content>
      <categories>
        <category>SpringCloud</category>
      </categories>
  </entry>
  <entry>
    <title>SpringCloud Hystrixä»ªè¡¨ç›˜</title>
    <url>/2020/08/18/SpringCloud-Hystrix%E4%BB%AA%E8%A1%A8%E7%9B%98/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>åœ¨å¾®æœåŠ¡æ¶æ„ä¸­ï¼Œä¸ºäº†ä¿è¯å¾®æœåŠ¡çš„é«˜å¯ç”¨æ€§ï¼Œé˜²æ­¢æœåŠ¡å‡ºç°æ•…éšœå¯¼è‡´çº¿ç¨‹é˜»å¡ï¼Œè€Œå‡ºç°äº†ç†”æ–­å™¨æ¨¡å‹ï¼Œç†”æ–­å™¨çš„çŠ¶å†µååº”äº†æŸä¸ªç¨‹åºçš„å¯ç”¨æ€§å’Œå¥å£®æ€§ã€‚åœ¨SpringCloudä¸­ç»å¸¸ç”¨åˆ°çš„ç†”æ–­å™¨ç»„ä»¶æ˜¯Hystrixï¼ŒHystrixçš„åŸºç¡€ä½¿ç”¨åœ¨SpringCloud Eureka Quick Startä¸­å·²æœ‰æ¶‰åŠã€‚Hystrixä»ªè¡¨ç›˜ï¼ˆHystrix Dashboardï¼‰æ˜¯ç›‘æ§Hystrixçš„ç†”æ–­å™¨çŠ¶å†µçš„ä¸€ä¸ªç»„ä»¶ï¼Œæä¾›äº†æ•°æ®ç›‘æ§å’Œå‹å¥½çš„å›¾å½¢åŒ–å±•ç¤ºç•Œé¢ï¼Œè¿™éƒ¨åˆ†ä¸»è¦è®°å½•å¦‚ä½•ä½¿ç”¨Hystrix Dashboardã€‚</p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="ç¯å¢ƒä¿¡æ¯"><a href="#ç¯å¢ƒä¿¡æ¯" class="headerlink" title="ç¯å¢ƒä¿¡æ¯"></a>ç¯å¢ƒä¿¡æ¯</h2><ol>
<li>SpringBootç‰ˆæœ¬ï¼š2.3.3</li>
<li>SpringCloudç‰ˆæœ¬ï¼šHoxton.SR7</li>
<li>IDEAç‰ˆæœ¬ï¼š2019.02</li>
<li>Mavenç‰ˆæœ¬ï¼š3.6.3</li>
</ol>
<h2 id="åŸºç¡€çŸ¥è¯†"><a href="#åŸºç¡€çŸ¥è¯†" class="headerlink" title="åŸºç¡€çŸ¥è¯†"></a>åŸºç¡€çŸ¥è¯†</h2><ol>
<li>Hystrixæä¾›äº†å¯¹äºå¾®æœåŠ¡è°ƒç”¨çŠ¶æ€çš„ç›‘æ§ä¿¡æ¯ï¼ŒHystrix Dashboardæä¾›äº†æ–­è·¯å™¨çš„ç›‘æ§é¢æ¿ï¼Œå¯ä»¥æ›´å¥½çš„ç›‘æ§æœåŠ¡å’Œé›†ç¾¤çš„çŠ¶æ€ã€‚</li>
<li>åŠŸèƒ½ï¼šHystrix Dashboardä¸»è¦ç”¨æ¥å®æ—¶ç›‘æ§Hystrixçš„å„é¡¹æŒ‡æ ‡ä¿¡æ¯ã€‚é€šè¿‡Hystrix Dashboardåé¦ˆçš„å®æ—¶ä¿¡æ¯ï¼Œå¯ä»¥å¿«é€Ÿå‘ç°ç³»ç»Ÿä¸­å­˜åœ¨çš„é—®é¢˜ï¼</li>
<li>è®¿é—®è¢«@HystrixCommandæ³¨è§£çš„æ¥å£æ—¶ï¼Œéƒ½ä¼šè®°å½•æ˜¯å¦æˆåŠŸä»¥åŠæœ€è¿‘10sé”™è¯¯ç™¾åˆ†æ¯”ã€è¶…æ—¶æ•°ã€ç†”æ–­æ•°ã€çº¿ç¨‹æ‹’ç»æ•°ã€é”™è¯¯è¯·æ±‚æ•°ã€å¤±è´¥/å¼‚å¸¸æ•°ã€æœåŠ¡è¯·æ±‚é¢‘ç‡ç­‰ç›¸å…³ä¿¡æ¯ï¼›</li>
<li>Hystrix DashBoardä½œä¸ºç›‘æ§è½¯ä»¶ä¸€èˆ¬å•ç‹¬å¼€å¯ä¸€ä¸ªæœåŠ¡ï¼Œè¿™é‡Œæ³¨è§£äº†ç¯å¢ƒä¿¡æ¯æ˜¯å› ä¸ºç‰ˆæœ¬ä¼šå¯¼è‡´ä¸€äº›å¼‚å¸¸æƒ…å†µçš„å‡ºç°ï¼Œåœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­å‡ºç°çš„é—®é¢˜éƒ½ä¼šä¸€ä¸€è®°å½•ä¸‹æ¥ï¼›</li>
<li>Hystrix Dashboardå…±æ”¯æŒä¸‰ç§ä¸åŒçš„ç›‘æ§æ–¹å¼ï¼š<ul>
<li>é»˜è®¤çš„é›†ç¾¤ç›‘æ§ï¼š<code>http://turbine-hostname:port/turbine.stream</code></li>
<li>æŒ‡å®šçš„é›†ç¾¤ç›‘æ§ï¼š<code>http://turbine-hostname:port/turbine.stream?cluster=[clusterName]</code></li>
<li>å•ä½“åº”ç”¨çš„ç›‘æ§ï¼š <code>http://hystrix-app:port/actuator/hystrix.stream</code></li>
</ul>
</li>
</ol>
<h2 id="åŠ¨æ‰‹å®æ“"><a href="#åŠ¨æ‰‹å®æ“" class="headerlink" title="åŠ¨æ‰‹å®æ“"></a>åŠ¨æ‰‹å®æ“</h2><h3 id="DashBoardé¡¹ç›®"><a href="#DashBoardé¡¹ç›®" class="headerlink" title="DashBoardé¡¹ç›®"></a>DashBoardé¡¹ç›®</h3><ol>
<li><p>åœ¨SpringCloud Eureka Quick Starté¡¹ç›®çš„åŸºç¡€ä¸Šåˆ›å»ºä¸€ä¸ªå•ç‹¬çš„DashBoardé¡¹ç›®ï¼Œæ·»åŠ ä¸»è¦ä¾èµ–ï¼ˆpom.xmlï¼‰ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-actuator<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-netflix-eureka-client<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- hystrixä»¥åŠhystrix-dashboardä¾èµ– --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-netflix-hystrix-dashboard<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-netflix-hystrix<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>åœ¨é…ç½®æ–‡ä»¶application.ymlä¸­æ·»åŠ å¦‚ä¸‹é…ç½®ï¼š</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ç«¯å£å·ï¼Œé»˜è®¤çš„å·²ç»è¢«å ç”¨äº†</span></span><br><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">9600</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å¾®æœåŠ¡åç§°é…ç½®ä»¥åŠeureka å®¢æˆ·ç«¯é…ç½®</span></span><br><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">application:</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">dashboard</span></span><br><span class="line"><span class="attr">eureka:</span></span><br><span class="line">  <span class="attr">instance:</span></span><br><span class="line">    <span class="attr">prefer-ip-address:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">client:</span></span><br><span class="line">    <span class="attr">service-url:</span></span><br><span class="line">      <span class="attr">defaultZone:</span> <span class="string">http://admin:admin@localhost:8761/eureka/</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># actuatoræš´éœ²æ‰€æœ‰ç«¯å£</span></span><br><span class="line"><span class="attr">management:</span></span><br><span class="line">  <span class="attr">endpoints:</span></span><br><span class="line">    <span class="attr">web:</span></span><br><span class="line">      <span class="attr">exposure:</span></span><br><span class="line">        <span class="attr">include:</span> <span class="string">"*"</span></span><br><span class="line">        </span><br><span class="line"><span class="comment"># dashboardå…è®¸è®¿é—®çš„æ¥å£ç»„ï¼Œå¿…é¡»è¦æ·»åŠ </span></span><br><span class="line"><span class="attr">hystrix:</span></span><br><span class="line">  <span class="attr">dashboard:</span></span><br><span class="line">    <span class="attr">proxyStreamAllowList:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="number">192.168</span><span class="number">.3</span><span class="number">.108</span></span><br><span class="line">      <span class="bullet">-</span> <span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">localhost</span></span><br></pre></td></tr></table></figure>

<ul>
<li>hystrix.dashboard.proxyStreamAllowListå¿…é¡»è¦æ·»åŠ ï¼Œå¦åˆ™æ— æ³•ç›‘æ§åˆ°å¯¹åº”æœåŠ¡çš„çŠ¶æ€</li>
</ul>
</li>
<li><p>é…ç½®å¯åŠ¨ç±»ï¼Œæ·»åŠ Hystrix DashBoardæ³¨è§£ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@EnableDiscoveryClient</span></span><br><span class="line"><span class="meta">@EnableHystrixDashboard</span></span><br><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DashboardApplication</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        SpringApplication.run(DashboardApplication<span class="class">.<span class="keyword">class</span>, <span class="title">args</span>)</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>å¯åŠ¨é¡¹ç›®ä¹‹åè®¿é—®<a href="http://localhost:9600/hystrix/ï¼Œæ•ˆæœå¦‚ä¸‹ï¼š" target="_blank" rel="noopener">http://localhost:9600/hystrix/ï¼Œæ•ˆæœå¦‚ä¸‹ï¼š</a></p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/9cb80a912abc3d61266d834c65be8260-135211" alt="Hystrix DashBoardç•Œé¢"></p>
</li>
</ol>
<h3 id="Consumeré¡¹ç›®æ”¹é€ "><a href="#Consumeré¡¹ç›®æ”¹é€ " class="headerlink" title="Consumeré¡¹ç›®æ”¹é€ "></a>Consumeré¡¹ç›®æ”¹é€ </h3><ol>
<li><p>è¿™ä¸ªé¡¹ç›®æ˜¯ä¹‹å‰çš„SpringCloudé¡¹ç›®ä¸­çš„å­é¡¹ç›®Consumerï¼Œä¹‹å‰å·²ç»åŠ äº†ç†”æ–­ç»„ä»¶Hystrixï¼Œå› æ­¤ä¾èµ–ä¸éœ€è¦æ€ä¹ˆä¿®æ”¹(pom.xml)ï¼Œä¸»è¦ä¾èµ–å¦‚ä¸‹ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-actuator<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-netflix-eureka-client<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-openfeign<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-netflix-hystrix<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>ä¿®æ”¹å¯åŠ¨ç±»ï¼Œæ·»åŠ é‡è¦çš„Beanï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@EnableFeignClients</span></span><br><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="meta">@EnableDiscoveryClient</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ConsumerApplication</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        SpringApplication.run(ConsumerApplication<span class="class">.<span class="keyword">class</span>, <span class="title">args</span>)</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> ServletRegistrationBean <span class="title">getServlet</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        HystrixMetricsStreamServlet streamServlet = <span class="keyword">new</span> HystrixMetricsStreamServlet();</span><br><span class="line">        ServletRegistrationBean registrationBean = <span class="keyword">new</span> ServletRegistrationBean(streamServlet);</span><br><span class="line">        registrationBean.setLoadOnStartup(<span class="number">1</span>);</span><br><span class="line">        registrationBean.addUrlMappings(<span class="string">"/actuator/hystrix.stream"</span>);</span><br><span class="line">        registrationBean.setName(<span class="string">"HystrixMetricsStreamServlet"</span>);</span><br><span class="line">        <span class="keyword">return</span> registrationBean;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>registrationBean.addUrlMappings(â€œ/actuator/hystrix.streamâ€);æ˜¯ä¸ºäº†æ¥å£åœ°å€å’ŒDashBoardä¸Šçš„ä¿æŒä¸€è‡´ï¼Œå¯ä»¥ä¿®æ”¹ä¸ºå…¶ä»–çš„ï¼Œæ¯”å¦‚registrationBean.addUrlMappings(â€œ/hystrix.streamâ€);</li>
<li>feignçš„é…ç½®ä¸­å·²ç»ä½¿èƒ½äº†hystrixï¼Œå› æ­¤æ²¡æœ‰æ·»åŠ æ³¨è§£@EnableHystrix</li>
</ul>
</li>
<li><p>é…ç½®æ–‡ä»¶ï¼ˆapplication.ymlï¼‰:</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">application:</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">consumer</span>   <span class="comment">#æŒ‡å®šäº†é…ç½®æ–‡ä»¶çš„åº”ç”¨å</span></span><br><span class="line">  <span class="attr">cloud:</span></span><br><span class="line">    <span class="attr">config:</span></span><br><span class="line">      <span class="attr">uri:</span> <span class="string">http://localhost:8080/</span>  <span class="comment">#Config serverçš„uri</span></span><br><span class="line">      <span class="attr">profile:</span> <span class="string">dev</span>     <span class="comment">#æŒ‡å®šçš„ç¯å¢ƒ</span></span><br><span class="line">      <span class="attr">label:</span> <span class="string">master</span>                      <span class="comment">#æŒ‡å®šåˆ†æ”¯</span></span><br><span class="line">  <span class="attr">sleuth:</span></span><br><span class="line">    <span class="attr">sampler:</span></span><br><span class="line">      <span class="attr">percentage:</span> <span class="number">1.0</span></span><br><span class="line">  <span class="attr">zipkin:</span></span><br><span class="line">    <span class="attr">base-url:</span> <span class="string">http://127.0.0.1:9411</span></span><br><span class="line">    <span class="attr">sender:</span></span><br><span class="line">      <span class="attr">type:</span> <span class="string">web</span></span><br><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">9000</span></span><br><span class="line"></span><br><span class="line"><span class="attr">eureka:</span></span><br><span class="line">  <span class="attr">instance:</span></span><br><span class="line">    <span class="attr">prefer-ip-address:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">client:</span></span><br><span class="line">    <span class="attr">service-url:</span></span><br><span class="line">      <span class="attr">defaultZone:</span> <span class="string">http://admin:admin@localhost:8761/eureka/</span></span><br><span class="line"></span><br><span class="line"><span class="attr">management:</span></span><br><span class="line">  <span class="attr">endpoints:</span></span><br><span class="line">    <span class="attr">web:</span></span><br><span class="line">      <span class="attr">exposure:</span></span><br><span class="line">        <span class="attr">include:</span> <span class="string">"*"</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="attr">feign:</span></span><br><span class="line">  <span class="attr">hystrix:</span></span><br><span class="line">    <span class="comment"># feignç†”æ–­å™¨å¼€å…³</span></span><br><span class="line">    <span class="attr">enabled:</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="attr">hystrix:</span></span><br><span class="line">  <span class="attr">command:</span></span><br><span class="line">    <span class="attr">default:</span></span><br><span class="line">      <span class="attr">execution:</span></span><br><span class="line">        <span class="attr">isolation:</span></span><br><span class="line">          <span class="attr">thread:</span></span><br><span class="line">            <span class="attr">timeoutInMilliseconds:</span> <span class="number">1000</span>  <span class="comment">#1ç§’</span></span><br><span class="line"></span><br><span class="line"><span class="attr">service:</span></span><br><span class="line">  <span class="attr">ribbon:</span></span><br><span class="line">    <span class="attr">NFLoadBalancerRuleClassName:</span> <span class="string">com.netflix.loadbalancer.RandomRule</span> <span class="comment">#é…ç½®è§„åˆ™ éšæœº</span></span><br><span class="line">    <span class="comment">#NFLoadBalancerRuleClassName: com.netflix.loadbalancer.RoundRobinRule #é…ç½®è§„åˆ™ è½®è¯¢</span></span><br><span class="line">    <span class="comment"># NFLoadBalancerRuleClassName: com.netflix.loadbalancer.BestAvailableRule #é…ç½®è§„åˆ™ æœ€ç©ºé—²è¿æ¥ç­–ç•¥</span></span><br><span class="line">    <span class="attr">ConnectTimeout:</span> <span class="number">500</span> <span class="comment">#è¯·æ±‚è¿æ¥è¶…æ—¶æ—¶é—´</span></span><br><span class="line">    <span class="attr">ReadTimeout:</span> <span class="number">1000</span> <span class="comment">#è¯·æ±‚å¤„ç†çš„è¶…æ—¶æ—¶é—´</span></span><br><span class="line">    <span class="attr">OkToRetryOnAllOperations:</span> <span class="literal">true</span> <span class="comment">#å¯¹æ‰€æœ‰è¯·æ±‚éƒ½è¿›è¡Œé‡è¯•</span></span><br><span class="line">    <span class="attr">MaxAutoRetriesNextServer:</span> <span class="number">2</span> <span class="comment">#åˆ‡æ¢å®ä¾‹çš„é‡è¯•æ¬¡æ•°</span></span><br><span class="line">    <span class="attr">MaxAutoRetries:</span> <span class="number">1</span> <span class="comment">#å¯¹å½“å‰å®ä¾‹çš„é‡è¯•æ¬¡æ•°</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>javaæ–‡ä»¶å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// MyFeignClient.java</span></span><br><span class="line"><span class="meta">@Component</span>(value = <span class="string">"myFeignClient"</span>)</span><br><span class="line"><span class="meta">@FeignClient</span>(value = <span class="string">"service"</span>,fallback=ServiceFallback<span class="class">.<span class="keyword">class</span>)</span></span><br><span class="line"><span class="class"><span class="title">public</span> <span class="title">interface</span> <span class="title">MyFeignClient</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping</span>(method = RequestMethod.GET, value = <span class="string">"/"</span>)</span><br><span class="line">    <span class="function">Map&lt;String,Object&gt; <span class="title">hello</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ServiceFallback.java</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ServiceFallback</span> <span class="keyword">implements</span> <span class="title">MyFeignClient</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Map&lt;String, Object&gt; <span class="title">hello</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        Map&lt;String, Object&gt; res=<span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        res.put(<span class="string">"err"</span>,<span class="string">"æœåŠ¡å´©æºƒ"</span>);</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// HelloController.java</span></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HelloController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    MyFeignClient myFeignClient;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//  @HystrixCommand(fallbackMethod = "getHello")</span></span><br><span class="line">    <span class="meta">@RequestMapping</span>(<span class="string">"/"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Map&lt;String,Object&gt; <span class="title">hello</span><span class="params">()</span></span>&#123;</span><br><span class="line">        Map&lt;String,Object&gt; ret=myFeignClient.hello();</span><br><span class="line">        Map&lt;String,Object&gt; res=<span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        res.put(<span class="string">"res"</span>,ret);</span><br><span class="line">        res.put(<span class="string">"msg"</span>,<span class="string">"success"</span>);</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Map&lt;String,Object&gt; <span class="title">getHello</span><span class="params">()</span></span>&#123;</span><br><span class="line">        Map&lt;String,Object&gt; res=<span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        res.put(<span class="string">"msg"</span>,<span class="string">"å¯åŠ¨ç†”æ–­"</span>);</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>ç›‘æ§æ•ˆæœå¦‚ä¸‹ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/f24031e83ae023a0029aac5f927079b7-81636" alt="Hystrix DashBoardç›‘æ§consumer"></p>
</li>
</ol>
<h3 id="restconsumeré¡¹ç›®æ”¹é€ "><a href="#restconsumeré¡¹ç›®æ”¹é€ " class="headerlink" title="restconsumeré¡¹ç›®æ”¹é€ "></a>restconsumeré¡¹ç›®æ”¹é€ </h3><ol>
<li><p>è¿™ä¸ªé¡¹ç›®æ˜¯ä¹‹å‰çš„SpringCloudé¡¹ç›®ä¸­çš„å­é¡¹ç›®restconsumerï¼Œä¹‹å‰å·²ç»åŠ äº†ç†”æ–­ç»„ä»¶Hystrixï¼Œå› æ­¤ä¾èµ–ä¸éœ€è¦æ€ä¹ˆä¿®æ”¹(pom.xml)ï¼Œä¸»è¦ä¾èµ–å¦‚ä¸‹ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-actuator<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-netflix-eureka-client<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-netflix-hystrix<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>ä¿®æ”¹å¯åŠ¨ç±»ï¼Œæ·»åŠ é‡è¦çš„Beanï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@EnableDiscoveryClient</span></span><br><span class="line"><span class="meta">@EnableHystrix</span></span><br><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RestconsumerApplication</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        SpringApplication.run(RestconsumerApplication<span class="class">.<span class="keyword">class</span>, <span class="title">args</span>)</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="meta">@LoadBalanced</span></span><br><span class="line">    <span class="function">RestTemplate <span class="title">restTemplate</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> RestTemplate();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> ServletRegistrationBean <span class="title">getServlet</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        HystrixMetricsStreamServlet streamServlet = <span class="keyword">new</span> HystrixMetricsStreamServlet();</span><br><span class="line">        ServletRegistrationBean registrationBean = <span class="keyword">new</span> ServletRegistrationBean(streamServlet);</span><br><span class="line">        registrationBean.setLoadOnStartup(<span class="number">1</span>);</span><br><span class="line">        registrationBean.addUrlMappings(<span class="string">"/actuator/hystrix.stream"</span>);</span><br><span class="line">        registrationBean.setName(<span class="string">"HystrixMetricsStreamServlet"</span>);</span><br><span class="line">        <span class="keyword">return</span> registrationBean;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>é…ç½®æ–‡ä»¶ï¼š</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">9500</span></span><br><span class="line"></span><br><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">application:</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">restconsumer</span></span><br><span class="line">  <span class="attr">sleuth:</span></span><br><span class="line">    <span class="attr">sampler:</span></span><br><span class="line">      <span class="attr">percentage:</span> <span class="number">1.0</span></span><br><span class="line"><span class="attr">eureka:</span></span><br><span class="line">  <span class="attr">instance:</span></span><br><span class="line">    <span class="attr">prefer-ip-address:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">client:</span></span><br><span class="line">    <span class="attr">service-url:</span></span><br><span class="line">      <span class="attr">defaultZone:</span> <span class="string">http://admin:admin@localhost:8761/eureka/</span></span><br><span class="line"></span><br><span class="line"><span class="attr">management:</span></span><br><span class="line">  <span class="attr">endpoints:</span></span><br><span class="line">    <span class="attr">web:</span></span><br><span class="line">      <span class="attr">exposure:</span></span><br><span class="line">        <span class="attr">include:</span> <span class="string">"*"</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>æ§åˆ¶å™¨ï¼ˆä¿®æ”¹ï¼‰ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@Slf</span>4j</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ServiceController</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    RestTemplate restTemplate;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping</span>(<span class="string">"/rest"</span>)</span><br><span class="line">    <span class="meta">@HystrixCommand</span>(fallbackMethod = <span class="string">"consumerServiceRibbonFallback"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Map&lt;String, Object&gt; <span class="title">hello</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        log.info(<span class="string">"user is registering"</span>);</span><br><span class="line">        String ret = restTemplate.getForObject(<span class="string">"http://service/"</span>, String<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">        Map&lt;String, Object&gt; res = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        res.put(<span class="string">"res"</span>, ret);</span><br><span class="line">        res.put(<span class="string">"msg"</span>, <span class="string">"success"</span>);</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@RequestMapping</span>(<span class="string">"/rest2"</span>)</span><br><span class="line">    <span class="meta">@HystrixCommand</span>(fallbackMethod = <span class="string">"consumerServiceRibbonFallback"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Map&lt;String, Object&gt; <span class="title">hello2</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        log.info(<span class="string">"user is registering2"</span>);</span><br><span class="line">        String ret = restTemplate.getForObject(<span class="string">"http://service/"</span>, String<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">        Map&lt;String, Object&gt; res = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        res.put(<span class="string">"res"</span>, ret);</span><br><span class="line">        res.put(<span class="string">"msg"</span>, <span class="string">"success"</span>);</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@RequestMapping</span>(<span class="string">"/rest3"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Map&lt;String, Object&gt; <span class="title">hello3</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        log.info(<span class="string">"user is registering2"</span>);</span><br><span class="line">        String ret = restTemplate.getForObject(<span class="string">"http://service/"</span>, String<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">        Map&lt;String, Object&gt; res = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        res.put(<span class="string">"res"</span>, ret);</span><br><span class="line">        res.put(<span class="string">"msg"</span>, <span class="string">"success"</span>);</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Map&lt;String, Object&gt; <span class="title">consumerServiceRibbonFallback</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        Map&lt;String, Object&gt; res = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        res.put(<span class="string">"res"</span>, <span class="string">"error"</span>);</span><br><span class="line">        res.put(<span class="string">"msg"</span>, <span class="string">"err"</span>);</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>å¯åŠ¨xé¡¹ç›®ï¼Œç„¶åè®¿é—®æ¥å£<code>http://localhost:9500/rest</code>ï¼Œ<code>http://localhost:9500/rest2</code>ï¼Œ<code>http://localhost:9500/rest3</code>ï¼Œå¤šæ¬¡åˆ·æ–°ï¼Œç„¶ååœ¨dashboardé¡¹ç›®çš„ç•Œé¢æ·»åŠ ç›‘æ§<code>http://localhost:9500/actuator/hystrix.stream</code>ï¼Œæ•ˆæœå¦‚ä¸‹ï¼š</p>
<ul>
<li><p>æ³¨æ„è¦å¯åŠ¨serviceç­‰å¤šä¸ªæœåŠ¡</p>
</li>
<li><p>å¯åŠ¨serviceæœåŠ¡æƒ…å†µï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/259b1e96b606dd83481137bce2ddee83-83349" alt="Hystrix DashBoardç›‘æ§restconsumer"></p>
</li>
<li><p>å…³é—­serviceæœåŠ¡æƒ…å†µï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/3b77d5450d7e534bab78d4f3f9b6ca14-52511" alt="Hystrix DashBoardç›‘æ§restconsumerå…³é—­Service"></p>
</li>
</ul>
</li>
<li><p>é¡µé¢å„éƒ¨åˆ†ä»£è¡¨çš„å«ä¹‰ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/c779814896174c8c085b41e8fe4e7ffd-108497" alt="å„éƒ¨åˆ†å«ä¹‰"></p>
</li>
</ol>
<hr>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>Hystrix DashBoardèƒ½å¤Ÿæ›´æ–¹ä¾¿åœ°è§‚çœ‹æ–­è·¯å™¨çŠ¶æ€ï¼Œä¹Ÿèƒ½çœ‹åº”ç”¨çš„è´Ÿè½½ä»¥åŠå¥åº·ç¨‹åº¦ç­‰å„ç§æœ‰ç”¨ä¿¡æ¯ï¼Œå‡ ä¹å®æ—¶ï¼Œè™½ç„¶åªæ˜¯è®°å½•äº†å•ä½“åº”ç”¨çš„ç›‘æ§ï¼Œåç»­å¦‚æœæœ‰éœ€è¦å†å­¦ä¹ é›†ç¾¤çš„ï¼</p>
]]></content>
      <categories>
        <category>SpringCloud</category>
      </categories>
  </entry>
  <entry>
    <title>SpringCloudä¹‹è´Ÿè½½å‡è¡¡</title>
    <url>/2020/08/08/SpringCloud%E4%B9%8B%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>è´Ÿè½½å‡è¡¡æ˜¯é«˜å¯ç”¨ç½‘ç»œåŸºç¡€æ¶æ„çš„å…³é”®ç»„ä»¶ï¼Œé€šå¸¸ç”¨äºå°†å·¥ä½œè´Ÿè½½åˆ†å¸ƒåˆ°å¤šä¸ªæœåŠ¡å™¨æ¥æé«˜ç½‘ç«™ã€åº”ç”¨ã€æ•°æ®åº“æˆ–å…¶ä»–æœåŠ¡çš„æ€§èƒ½å’Œå¯é æ€§ã€‚ä¸€ä¸ªæ²¡æœ‰è´Ÿè½½å‡è¡¡çš„ web æ¶æ„ç±»ä¼¼ä¸‹é¢è¿™æ ·ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/72d53920aa8e46ab55dbd28ff29c6158-14613" alt="æ²¡æœ‰è´Ÿè½½å‡è¡¡çš„æ¶æ„"></p>
<p>å¸¦æœ‰è´Ÿè½½å‡è¡¡åŠŸèƒ½çš„æ¶æ„å¯èƒ½å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/35ff5e196b0940021676361bbb294b51-24012" alt="æœ‰è´Ÿè½½å‡è¡¡çš„æ¶æ„"></p>
<p>è¿™éƒ¨åˆ†ä¸»è¦ä»‹ç»å¸¸è§çš„è´Ÿè½½å‡è¡¡ï¼Œä»¥åŠå¦‚ä½•ä½¿ç”¨è´Ÿè½½å‡è¡¡æä¾›é«˜å¯ç”¨æœåŠ¡ã€‚</p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="åŸºç¡€çŸ¥è¯†"><a href="#åŸºç¡€çŸ¥è¯†" class="headerlink" title="åŸºç¡€çŸ¥è¯†"></a>åŸºç¡€çŸ¥è¯†</h2><ol>
<li><p>è´Ÿè½½å‡è¡¡ï¼ˆLoad balancingï¼‰æ˜¯ä¸€ç§è®¡ç®—æœºæŠ€æœ¯ï¼Œç”¨æ¥åœ¨å¤šä¸ªè®¡ç®—æœºï¼ˆè®¡ç®—æœºé›†ç¾¤ï¼‰ã€ç½‘ç»œè¿æ¥ã€CPUã€ç£ç›˜é©±åŠ¨å™¨æˆ–å…¶ä»–èµ„æºä¸­åˆ†é…è´Ÿè½½ï¼Œä»¥è¾¾åˆ°æœ€ä¼˜åŒ–èµ„æºä½¿ç”¨ã€æœ€å¤§åŒ–ååç‡ã€æœ€å°åŒ–å“åº”æ—¶é—´ã€åŒæ—¶é¿å…è¿‡è½½çš„ç›®çš„ï¼›</p>
</li>
<li><p>ä»»ä½•çš„è´Ÿè½½å‡è¡¡æŠ€æœ¯éƒ½è¦æƒ³åŠæ³•å»ºç«‹æŸç§ä¸€å¯¹å¤šçš„æ˜ å°„æœºåˆ¶ï¼šä¸€ä¸ªè¯·æ±‚çš„å…¥å£æ˜ å°„åˆ°å¤šä¸ªå¤„ç†è¯·æ±‚çš„èŠ‚ç‚¹ï¼Œä»è€Œå®ç°åˆ†è€Œæ²»ä¹‹ï¼ˆDivide and Conquerï¼‰ï¼›</p>
</li>
<li><p>æ—¥å¸¸åœºæ™¯ï¼šåœ¨æ—¥å¸¸ç”Ÿæ´»ä¸­ç»å¸¸å…ä¸äº†è¦å»ä¸€äº›æ¯”è¾ƒæ‹¥æŒ¤çš„åœ°æ–¹ï¼Œæ¯”å¦‚åœ°é“ç«™ã€ç«è½¦ç«™ã€ç”µå½±é™¢ã€é“¶è¡Œç­‰ã€‚æ— è®ºæ˜¯ä¹°ç¥¨ï¼Œè¿˜æ˜¯æ’é˜Ÿå…¥åœºï¼Œè¿™äº›åœºæ‰€ä¸€èˆ¬éƒ½ä¼šè®¾ç½®å¤šä¸ªæœåŠ¡ç‚¹æˆ–è€…å…¥å£çš„ï¼Œå¦‚æœæ²¡æœ‰äººå¼•å¯¼çš„è¯ï¼Œå¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œæœ€è¿‘çš„å…¥å£ä¼šæŒ¤æ»¡äººå°±ä¼šå¤§å¤§æµªè´¹èµ„æºï¼›å¦‚æœå¯ä»¥æŠŠè¿™äº›æ’é˜Ÿçš„äººå¾ˆå¥½çš„åˆ†æ•£åˆ°å„ä¸ªå…¥å£çš„è¯ä¼šå¤§å¤§ç¼©çŸ­æ’é˜Ÿæ—¶é—´ï¼›</p>
</li>
<li><p>ç½‘ç»œåœºæ™¯ï¼šä¸ºäº†æå‡æœåŠ¡èƒ½åŠ›ï¼Œå¾ˆå¤šæœåŠ¡é‡‡ç”¨é›†ç¾¤éƒ¨ç½²ï¼Œå°±åƒè¯å‰§é™¢æœ‰å¤šä¸ªå…¥å£ä¸€æ ·ã€‚è¿™æ—¶å€™ï¼Œå°±éœ€è¦ä¸€ä¸ªåè°ƒè€…ï¼Œæ¥å‡è¡¡çš„åˆ†é…è¿™äº›ç”¨æˆ·çš„è¯·æ±‚ï¼Œå¯ä»¥è®©ç”¨æˆ·çš„å¯ä»¥å‡åŒ€çš„åˆ†æ´¾åˆ°ä¸åŒçš„æœåŠ¡å™¨ä¸Šï¼›</p>
</li>
<li><p>å®šä¹‰ï¼š<strong>å°†è´Ÿè½½ï¼ˆå·¥ä½œä»»åŠ¡ã€è®¿é—®è¯·æ±‚ï¼‰è¿›è¡Œå¹³è¡¡ã€åˆ†æ‘Šåˆ°å¤šä¸ªæ“ä½œå•å…ƒï¼ˆæœåŠ¡å™¨ã€ç»„ä»¶ï¼‰ä¸Šè¿›è¡Œæ‰§è¡Œï¼Œè§£å†³é«˜æ€§èƒ½ï¼Œå•ç‚¹æ•…éšœï¼ˆé«˜å¯ç”¨ï¼‰ï¼Œæ‰©å±•æ€§ï¼ˆæ°´å¹³ä¼¸ç¼©ï¼‰çš„ä¸€ç§è§£å†³æ–¹æ¡ˆï¼›</strong></p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/a7b7c780f6b2a4d9d8e87cb2dc4ab99a-37718" alt="è´Ÿè½½å‡è¡¡åŸç†"></p>
</li>
<li><p><strong>è´Ÿè½½å‡è¡¡æ˜¯è¦åœ¨ç½‘ç»œä¼ è¾“ä¸­åšæ–‡ç« çš„</strong>ï¼Œè¿™æ ·å¿…é¡»å¯¹ç½‘ç»œçš„ä¸ƒå±‚æ¨¡å‹æœ‰æ‰€äº†è§£ï¼›</p>
</li>
<li><p>OSIæ˜¯ä¸€ä¸ªå¼€æ”¾æ€§çš„é€šä¿¡ç³»ç»Ÿäº’è¿å‚è€ƒæ¨¡å‹ï¼Œæ˜¯ä¸€ä¸ªå®šä¹‰å¾—éå¸¸å¥½çš„åè®®è§„èŒƒï¼Œå½“ç„¶åè®®çš„å®ç°ä¸ä¼šå®Œå…¨æŒ‰ç…§OSIè§„èŒƒæ¥å®æ–½ã€‚OSIæ¨¡å‹æœ‰7å±‚ç»“æ„ï¼Œæ¯å±‚éƒ½å¯ä»¥æœ‰å‡ ä¸ªå­å±‚ï¼Œ7å±‚ä»ä¸Šåˆ°ä¸‹åˆ†åˆ«æ˜¯ åº”ç”¨å±‚ã€è¡¨ç¤ºå±‚ã€ä¼šè¯å±‚ã€ä¼ è¾“å±‚ã€ç½‘ç»œå±‚ã€æ•°æ®é“¾è·¯å±‚ã€ç‰©ç†å±‚ï¼›</p>
</li>
<li><p>åœ¨OSIä¸ƒå±‚æ¨¡å‹ä¸­ï¼Œé«˜å±‚æ¬¡éƒ½æ˜¯ä¾èµ–äºä½å±‚æ¬¡çš„ï¼Œå±‚æ¬¡è¶Šé«˜ï¼Œä½¿ç”¨èµ·æ¥è¶Šæ–¹ä¾¿ï¼Œå„ä¸ªå±‚çš„åŠŸèƒ½å¦‚ä¸‹ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/3c2ea551a8fa53076e7d2cbbd08fbc58-93389" alt="OSIä¸ƒå±‚åŠŸèƒ½"></p>
</li>
<li><p>è®¡ç®—æœºç½‘ç»œæœ‰å…³çš„æ¦‚å¿µï¼š</p>
<ul>
<li>TELNETã€HTTPã€FTPã€NFSã€SMTPã€DNSç­‰å±äºåº”ç”¨å±‚çš„åè®®</li>
<li>TCPã€UDPã€SPXç­‰å±äºä¼ è¾“å±‚çš„åè®®</li>
<li>IPã€IPXç­‰å±äºç½‘ç»œå±‚çš„åè®®</li>
<li>ATMã€FDDIç­‰å±äºæ•°æ®é“¾è·¯å±‚çš„åè®®</li>
</ul>
</li>
<li><p>æ ¹æ®OSIåˆ†å±‚æ¨¡å‹å¯¹è´Ÿè½½å‡è¡¡è¿›è¡Œåˆ†ç±»ï¼š</p>
<ul>
<li>å·¥ä½œåœ¨åº”ç”¨å±‚çš„è´Ÿè½½å‡è¡¡ï¼Œé€šå¸¸ç§°ä¹‹ä¸ºä¸ƒå±‚è´Ÿè½½å‡è¡¡</li>
<li>å·¥ä½œåœ¨ä¼ è¾“å±‚çš„è´Ÿè½½å‡è¡¡ï¼Œé€šå¸¸ç§°ä¹‹ä¸ºå››å±‚è´Ÿè½½å‡è¡¡</li>
<li>å·¥ä½œåœ¨æ•°æ®é“¾è·¯çš„è´Ÿè½½å‡è¡¡ï¼Œé€šå¸¸ç§°ä¹‹ä¸ºäºŒå±‚è´Ÿè½½å‡è¡¡</li>
</ul>
</li>
<li><p><strong>äºŒå±‚è´Ÿè½½å‡è¡¡</strong>å¯¹å¤–ä¾ç„¶æä¾›ä¸€ä¸ªVIPï¼ˆè™šæ‹ŸIPï¼‰ï¼Œä½†æ˜¯é›†ç¾¤ä¸­ä¸åŒçš„æœºå™¨é‡‡ç”¨ä¸åŒçš„IPåœ°å€ã€‚å½“è´Ÿè½½å‡è¡¡å™¨æ¥å—åˆ°è¯·æ±‚ä¹‹åï¼Œæ ¹æ®ä¸åŒçš„è´Ÿè½½å‡è¡¡ç®—æ³•ï¼Œé€šè¿‡IPå°†è¯·æ±‚è½¬å‘è‡³ä¸åŒçš„çœŸå®æœåŠ¡å™¨ï¼›</p>
</li>
<li><p><strong>å››å±‚è´Ÿè½½å‡è¡¡</strong>å·¥ä½œåœ¨ä¼ è¾“å±‚ï¼ˆTCP/UDPåè®®ï¼‰ï¼ŒTCP/UDPåè®®é™¤äº†åŒ…å«æºIPã€ç›®æ ‡IPä»¥å¤–ï¼Œè¿˜åŒ…å«æºç«¯å£å·åŠç›®çš„ç«¯å£å·ã€‚å››å±‚è´Ÿè½½å‡è¡¡å™¨åœ¨æ¥å—åˆ°å®¢æˆ·ç«¯è¯·æ±‚åï¼Œä»¥åé€šè¿‡ä¿®æ”¹æ•°æ®åŒ…çš„åœ°å€ä¿¡æ¯ï¼ˆIP+ç«¯å£å·ï¼‰å°†æµé‡è½¬å‘åˆ°åº”ç”¨æœåŠ¡å™¨ï¼›</p>
</li>
<li><p><strong>ä¸ƒå±‚è´Ÿè½½å‡è¡¡</strong>å·¥ä½œåœ¨åº”ç”¨å±‚ï¼Œåº”ç”¨å±‚åè®®è¾ƒå¤šï¼Œå¸¸ç”¨çš„æœ‰httpã€radiusã€dnsç­‰ã€‚ä¸ƒå±‚è´Ÿè½½å‡è¡¡èƒ½å¤ŸåŸºäºè¿™äº›åè®®æ¥è´Ÿè½½ï¼Œè¿™äº›åº”ç”¨å±‚åè®®ä¸­ä¼šåŒ…å«å¾ˆå¤šæœ‰æ„ä¹‰çš„å†…å®¹ï¼Œæ¯”å¦‚åŒä¸€ä¸ªWebæœåŠ¡å™¨çš„è´Ÿè½½å‡è¡¡ï¼Œé™¤äº†æ ¹æ®IPå’Œç«¯å£è¿›è¡Œè´Ÿè½½å¤–ï¼Œè¿˜å¯æ ¹æ®ä¸ƒå±‚çš„URLã€æµè§ˆå™¨ç±»åˆ«ã€è¯­è¨€æ¥å†³å®šæ˜¯å¦è¦è¿›è¡Œè´Ÿè½½å‡è¡¡ï¼›</p>
</li>
<li><p>è´Ÿè½½å‡è¡¡æ ¹æ®å®ç°æ–¹å¼æ¥åˆ†æœ‰ç¡¬ä»¶è´Ÿè½½å‡è¡¡å’Œè½¯ä»¶è´Ÿè½½å‡è¡¡ï¼›ç¡¬ä»¶è´Ÿè½½å‡è¡¡å™¨æœ‰F5å’ŒA10ï¼Œéå¸¸è´µã€‚å¸‚é¢ä¸Šæœ‰å¾ˆå¤šå¼€æºçš„è´Ÿè½½å‡è¡¡çš„å·¥å…·æˆ–è½¯ä»¶ï¼ŒNginxã€LVSã€HAProxyæ˜¯ç›®å‰ä½¿ç”¨æœ€å¹¿æ³›çš„ä¸‰ç§è´Ÿè½½å‡è¡¡è½¯ä»¶ï¼›</p>
</li>
<li><p>LVSï¼ˆLinux Virtual Serverï¼‰ä¸»è¦ç”¨æ¥åšå››å±‚è´Ÿè½½å‡è¡¡ï¼Œé€šè¿‡LVSæä¾›çš„è´Ÿè½½å‡è¡¡æŠ€æœ¯å’ŒLinuxæ“ä½œç³»ç»Ÿå®ç°ä¸€ä¸ªé«˜æ€§èƒ½ã€é«˜å¯ç”¨çš„æœåŠ¡å™¨ç¾¤é›†ï¼Œå…·æœ‰è‰¯å¥½å¯é æ€§ã€å¯æ‰©å±•æ€§å’Œå¯æ“ä½œæ€§ï¼›</p>
</li>
<li><p>Nginxä¸»è¦ç”¨æ¥åšä¸ƒå±‚è´Ÿè½½å‡è¡¡ï¼Œèƒ½åå‘ä»£ç†HTTP, HTTPS, SMTP, POP3, IMAPçš„åè®®é“¾æ¥ï¼Œè¿˜èƒ½è¿›è¡Œè´Ÿè½½å‡è¡¡ä»¥åŠHTTPç¼“å­˜ï¼›</p>
</li>
<li><p>HAProxyä¸»è¦ç”¨æ¥åšä¸ƒå±‚è´Ÿè½½å‡è¡¡ï¼Œèƒ½æä¾›é«˜å¯ç”¨æ€§ã€è´Ÿè½½å‡è¡¡ï¼Œä»¥åŠåŸºäºTCPå’ŒHTTPçš„åº”ç”¨ç¨‹åºä»£ç†ï¼›</p>
</li>
<li><p>å•ç‚¹è´Ÿè½½å‡è¡¡å™¨å¦‚æœå®•æœºäº†ï¼Œåˆ™æ•´ä¸ªç³»ç»Ÿæ— æ³•æä¾›æœåŠ¡ï¼Œå¸¸ç”¨çš„æ–¹æ¡ˆæ˜¯ä½¿ç”¨å¤šä¸ªè´Ÿè½½å‡è¡¡å™¨å®ç°è´Ÿè½½å‡è¡¡å™¨ï¼Œå°†ç¬¬äºŒä¸ªä»¥ä¸Šçš„è´Ÿè½½å‡è¡¡å™¨è¿æ¥åˆ°ç¬¬ä¸€ä¸ªä¸Šï¼Œä»è€Œå½¢æˆä¸€ä¸ªé›†ç¾¤ã€‚ä¸€ä¸ªä½¿ç”¨æµ®åŠ¨ IP çš„è´Ÿè½½å‡è¡¡æ¶æ„ç¤ºæ„å›¾ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/802345231a8459cb0834a83df042da40-618422" alt="æµ®åŠ¨IPè´Ÿè½½å‡è¡¡å™¨"></p>
</li>
</ol>
<h2 id="è´Ÿè½½å‡è¡¡ç®—æ³•"><a href="#è´Ÿè½½å‡è¡¡ç®—æ³•" class="headerlink" title="è´Ÿè½½å‡è¡¡ç®—æ³•"></a>è´Ÿè½½å‡è¡¡ç®—æ³•</h2><ol>
<li>è´Ÿè½½å‡è¡¡ç®—æ³•æ˜¯è´Ÿè½½å‡è¡¡çš„æ ¸å¿ƒï¼Œè´Ÿè½½å‡è¡¡æœåŠ¡å™¨åœ¨å†³å®šå°†è¯·æ±‚è½¬å‘åˆ°å…·ä½“å“ªå°çœŸå®æœåŠ¡å™¨çš„æ—¶å€™æ˜¯é€šè¿‡è´Ÿè½½å‡è¡¡ç®—æ³•æ¥å®ç°çš„ï¼›</li>
<li>è´Ÿè½½å‡è¡¡ç®—æ³•å¯ä»¥åˆ†ä¸ºä¸¤ç±»ï¼šé™æ€è´Ÿè½½å‡è¡¡ç®—æ³•å’ŒåŠ¨æ€è´Ÿè½½å‡è¡¡ç®—æ³•ï¼›</li>
<li>é™æ€è´Ÿè½½å‡è¡¡ç®—æ³•åŒ…æ‹¬ï¼šè½®è¯¢ã€æ¯”ç‡ã€ä¼˜å…ˆæƒ<ul>
<li>è½®è¯¢ï¼ˆRound Robinï¼‰â€”â€”å°†è¯·æ±‚æŒ‰ç…§é¡ºåºå¾ªç¯åœ°åˆ†å‘ç»™æ¯ä¸ªæœåŠ¡å™¨</li>
<li>æ¯”ç‡ï¼ˆRatioï¼‰â€”â€”ç»™æ¯ä¸ªæœåŠ¡å™¨åˆ†é…ä¸€ä¸ªåŠ æƒå€¼ï¼Œæ ¹æ¤è¿™ä¸ªæƒå€¼æŠŠç”¨æˆ·çš„è¯·æ±‚åˆ†é…åˆ°æ¯ä¸ªæœåŠ¡å™¨</li>
<li>ä¼˜å…ˆæƒï¼ˆPriorityï¼‰â€”â€”å°†æ‰€æœ‰æœåŠ¡å™¨åˆ†ç»„ï¼Œç»™æ¯ä¸ªç»„å®šä¹‰ä¼˜å…ˆæƒã€‚BIG-IP ç”¨æˆ·çš„è¯·æ±‚ï¼Œåˆ†é…ç»™ä¼˜å…ˆçº§æœ€é«˜çš„æœåŠ¡å™¨ç»„ï¼ˆåœ¨åŒä¸€ç»„å†…ï¼Œé‡‡ç”¨è½®è¯¢æˆ–æ¯”ç‡ç®—æ³•ï¼Œåˆ†é…ç”¨æˆ·çš„è¯·æ±‚ï¼‰ï¼›å½“æœ€é«˜ä¼˜å…ˆçº§ä¸­æ‰€æœ‰æœåŠ¡å™¨å‡ºç°æ•…éšœï¼ŒBIG-IP æ‰å°†è¯·æ±‚é€ç»™æ¬¡ä¼˜å…ˆçº§çš„æœåŠ¡å™¨ç»„</li>
</ul>
</li>
<li>åŠ¨æ€è´Ÿè½½å‡è¡¡ç®—æ³•åŒ…æ‹¬: æœ€å°‘è¿æ¥æ•°ã€æœ€å¿«å“åº”é€Ÿåº¦ã€è§‚å¯Ÿæ–¹æ³•ã€é¢„æµ‹æ³•ã€åŠ¨æ€æ€§èƒ½åˆ†é…ã€åŠ¨æ€æœåŠ¡å™¨è¡¥å……ã€æœåŠ¡è´¨é‡ã€æœåŠ¡ç±»å‹ã€è§„åˆ™æ¨¡å¼<ul>
<li>æœ€å°‘è¿æ¥æ•°ï¼ˆLeast Connectionï¼‰â€”â€”ä¼ é€’æ–°çš„è¿æ¥ç»™é‚£äº›è¿›è¡Œæœ€å°‘è¿æ¥å¤„ç†çš„æœåŠ¡å™¨</li>
<li>æœ€å¿«æ¨¡å¼ï¼ˆFastestï¼‰â€”â€”ä¼ é€’è¿æ¥ç»™é‚£äº›å“åº”æœ€å¿«çš„æœåŠ¡å™¨</li>
<li>è§‚å¯Ÿæ¨¡å¼ï¼ˆObservedï¼‰â€”â€”è¿æ¥æ•°ç›®å’Œå“åº”æ—¶é—´ä»¥è¿™ä¸¤é¡¹çš„æœ€ä½³å¹³è¡¡ä¸ºä¾æ®ä¸ºæ–°çš„è¯·æ±‚é€‰æ‹©æœåŠ¡å™¨</li>
<li>é¢„æµ‹æ¨¡å¼ï¼ˆPredictiveï¼‰â€”â€”BIG-IPåˆ©ç”¨æ”¶é›†åˆ°çš„æœåŠ¡å™¨å½“å‰çš„æ€§èƒ½æŒ‡æ ‡ï¼Œè¿›è¡Œé¢„æµ‹åˆ†æï¼Œé€‰æ‹©ä¸€å°æœåŠ¡å™¨åœ¨ä¸‹ä¸€ä¸ªæ—¶é—´ç‰‡å†…ï¼Œå…¶æ€§èƒ½å°†è¾¾åˆ°æœ€ä½³çš„æœåŠ¡å™¨å“åº”ç”¨æˆ·çš„è¯·æ±‚</li>
<li>åŠ¨æ€æ€§èƒ½åˆ†é…(Dynamic Ratio-APM)â€”â€”BIG-IP æ”¶é›†åº”ç”¨ç¨‹åºå’Œåº”ç”¨æœåŠ¡å™¨çš„å„é¡¹æ€§èƒ½å‚æ•°ï¼ŒåŠ¨æ€è°ƒæ•´æµé‡åˆ†é…</li>
<li>åŠ¨æ€æœåŠ¡å™¨è¡¥å……(Dynamic Server Act.)â€”â€”å½“ä¸»æœåŠ¡å™¨ç¾¤ä¸­å› æ•…éšœå¯¼è‡´æ•°é‡å‡å°‘æ—¶ï¼ŒåŠ¨æ€åœ°å°†å¤‡ä»½æœåŠ¡å™¨è¡¥å……è‡³ä¸»æœåŠ¡å™¨ç¾¤</li>
<li>æœåŠ¡è´¨é‡(QoSï¼‰â€”â€”æŒ‰ä¸åŒçš„ä¼˜å…ˆçº§å¯¹æ•°æ®æµè¿›è¡Œåˆ†é…</li>
<li>æœåŠ¡ç±»å‹(ToS)â€”â€”æŒ‰ä¸åŒçš„æœåŠ¡ç±»å‹ï¼ˆåœ¨Type of Fieldä¸­æ ‡è¯†ï¼‰è´Ÿè½½å‡è¡¡å¯¹æ•°æ®æµè¿›è¡Œåˆ†é…</li>
<li>è§„åˆ™æ¨¡å¼â€”â€”ç”¨æˆ·å¯ä»¥é’ˆå¯¹ä¸åŒçš„æ•°æ®æµè®¾ç½®å¯¼å‘è§„åˆ™</li>
</ul>
</li>
<li>ä¸åŒçš„è´Ÿè½½å‡è¡¡æœåŠ¡å™¨ä¼šé€‰æ‹©ä¸åŒçš„ç®—æ³•ï¼Œä¸åŒçš„è´Ÿè½½å‡è¡¡å™¨ä¹Ÿæ”¯æŒä¸åŒçš„ç®—æ³•ï¼Œæ ¹æ®ä¸šåŠ¡éœ€æ±‚è¿›è¡Œé…ç½®å³å¯ï¼</li>
</ol>
<h2 id="Nginxè´Ÿè½½å‡è¡¡"><a href="#Nginxè´Ÿè½½å‡è¡¡" class="headerlink" title="Nginxè´Ÿè½½å‡è¡¡"></a>Nginxè´Ÿè½½å‡è¡¡</h2><h3 id="åŸºç¡€é…ç½®"><a href="#åŸºç¡€é…ç½®" class="headerlink" title="åŸºç¡€é…ç½®"></a>åŸºç¡€é…ç½®</h3><ol>
<li><p>nginxé€šè¿‡ä»upstreamæ¨¡æ¿å®šä¹‰çš„åç«¯æœåŠ¡å™¨åˆ—è¡¨ä¸­é€‰å–ä¸€å°æœåŠ¡å™¨æ¥æ”¶ç”¨æˆ·çš„è¯·æ±‚ä»è€Œè¾¾åˆ°è´Ÿè½½å‡è¡¡ï¼›</p>
</li>
<li><p>ä¸€ä¸ªåŸºæœ¬çš„upstreamæ¨¡å—å¦‚ä¸‹ï¼š</p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">upstream [æœåŠ¡å™¨ç»„åç§°]&#123;</span><br><span class="line">ã€€ã€€server [IPåœ°å€]:[ç«¯å£å·];</span><br><span class="line">ã€€ã€€server [IPåœ°å€]:[ç«¯å£å·];</span><br><span class="line">ã€€ã€€....</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>åœ¨upstreamæ¨¡å—é…ç½®å®Œæˆåï¼Œè¦è®©æŒ‡å®šçš„è®¿é—®åå‘ä»£ç†åˆ°æœåŠ¡å™¨åˆ—è¡¨ï¼Œæ ¼å¼å¦‚ä¸‹ï¼š</p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">location ~ .*$ &#123;</span><br><span class="line">ã€€ã€€index index.jsp index.html;</span><br><span class="line">ã€€ã€€proxy_pass http://[æœåŠ¡å™¨ç»„åç§°];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä¸Šè¿°é…ç½®å°±å®Œæˆäº†æœ€åŸºç¡€çš„è´Ÿè½½å‡è¡¡ï¼Œä½†æ˜¯å¹¶ä¸æ»¡è¶³å®é™…çš„éœ€æ±‚ã€‚ç›®å‰Nginxçš„upstreamæ¨¡å—æ”¯æŒ6ç§è´Ÿè½½å‡è¡¡ç­–ç•¥ï¼ˆç®—æ³•ï¼‰ï¼šè½®è¯¢ï¼ˆé»˜è®¤æ–¹å¼ï¼‰ã€weightï¼ˆæƒé‡æ–¹å¼ï¼‰ã€ip_hashï¼ˆä¾æ®ipåˆ†é…æ–¹å¼ï¼‰ã€least_connï¼ˆæœ€å°‘è¿æ¥æ–¹å¼ï¼‰ã€fairï¼ˆç¬¬ä¸‰æ–¹æä¾›çš„å“åº”æ—¶é—´æ–¹å¼ï¼‰ã€url_hashï¼ˆç¬¬ä¸‰æ–¹é€šè¿‡çš„ä¾æ®URLåˆ†é…æ–¹å¼ï¼‰</p>
</li>
</ol>
<h3 id="è½®è¯¢-é»˜è®¤"><a href="#è½®è¯¢-é»˜è®¤" class="headerlink" title="è½®è¯¢(é»˜è®¤)"></a>è½®è¯¢(é»˜è®¤)</h3><ol>
<li><p>upstreamæ¨¡å—é»˜è®¤çš„è´Ÿè½½å‡è¡¡ç­–ç•¥ï¼Œæ¯ä¸ªè¯·æ±‚ä¼šæŒ‰æ—¶é—´é¡ºåºå¹³å‡åˆ†é…åˆ°ä¸åŒçš„åç«¯æœåŠ¡å™¨ï¼›</p>
</li>
<li><p>å‚æ•°ï¼š</p>
<table>
<thead>
<tr>
<th align="center">åç§°</th>
<th align="center">åŠŸèƒ½</th>
</tr>
</thead>
<tbody><tr>
<td align="center">max_fails</td>
<td align="center">åœ¨fail_timeoutå‚æ•°è®¾ç½®çš„æ—¶é—´å†…æœ€å¤§å¤±è´¥æ¬¡æ•°ã€‚å¦‚æœåœ¨è¿™ä¸ªæ—¶é—´å†…ï¼Œæ‰€æœ‰è¯¥æœåŠ¡å™¨çš„è¯·æ±‚éƒ½å¤±è´¥äº†ï¼Œé‚£ä¹ˆè®¤ä¸ºè¯¥æœåŠ¡å™¨åœæœº</td>
</tr>
<tr>
<td align="center">fail_time</td>
<td align="center">æœåŠ¡å™¨è¢«è®¤ä¸ºåœæœºçš„æ—¶é•¿ï¼Œé»˜è®¤10s</td>
</tr>
<tr>
<td align="center">backup</td>
<td align="center">æ ‡è®°è¯¥æœåŠ¡å™¨ä¸ºå¤‡ç”¨æœåŠ¡å™¨ã€‚å½“ä¸»æœåŠ¡å™¨åœæ­¢æ—¶ï¼Œè¯·æ±‚ä¼šè¢«å‘é€åˆ°å®ƒè¿™é‡Œ</td>
</tr>
<tr>
<td align="center">down</td>
<td align="center">æ ‡è®°æœåŠ¡å™¨æ°¸ä¹…åœæœº</td>
</tr>
<tr>
<td align="center">fail_timeout</td>
<td align="center">ä¸max_failsç»“åˆä½¿ç”¨</td>
</tr>
</tbody></table>
</li>
<li><p>æ³¨æ„ï¼š</p>
<ul>
<li>downæ ‡è®°çš„æœåŠ¡å™¨ä¼šè‡ªåŠ¨å‰”é™¤</li>
<li>ç¼ºçœå°±æ˜¯è½®è¯¢</li>
<li>æ­¤ç­–ç•¥é€‚åˆæœåŠ¡å™¨é…ç½®æ— çŠ¶æ€ä¸”çŸ­å¹³å—çš„æœåŠ¡ä½¿ç”¨</li>
</ul>
</li>
</ol>
<h3 id="æƒé‡"><a href="#æƒé‡" class="headerlink" title="æƒé‡"></a>æƒé‡</h3><ol>
<li><p>åœ¨è½®è¯¢ç­–ç•¥çš„åŸºç¡€ä¸ŠæŒ‡å®šè½®è¯¢çš„å‡ ç‡ï¼Œåœ¨è½®è¯¢çš„åŸºç¡€ä¸Šæ–°å¢äº†ä¸€ä¸ªweightçš„å‚æ•°ï¼Œæ­¤å‚æ•°æŒ‡å®šè½®è¯¢çš„å‡ ç‡ï¼Œå€¼ä¸ºnumberï¼›</p>
</li>
<li><p>upstreamæ¨¡å—é…ç½®æ¨¡æ¿å¦‚ä¸‹ï¼š</p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">upstream [æœåŠ¡å™¨ç»„åç§°]&#123;</span><br><span class="line">ã€€ã€€server [IPåœ°å€]:[ç«¯å£å·] weight=2;</span><br><span class="line">ã€€ã€€server [IPåœ°å€]:[ç«¯å£å·];</span><br><span class="line">ã€€ã€€....</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ²¡æœ‰weightå‚æ•°çš„æœåŠ¡å™¨é»˜è®¤ä¸º1ï¼Œweightçš„æ•°å€¼ä¸è®¿é—®æ¯”ä¾‹æˆæ­£æ¯”ï¼Œæ‰€æœ‰weightå€¼çš„æ€»å’Œä¸ºä¸€ä¸ªå¾ªç¯å•ä½ï¼ŒæœåŠ¡å™¨è‡ªèº«çš„weightå€¼ä¸ºå¾ªç¯å•ä½å†…çš„è½®è¯¢æ¬¡æ•°ï¼›</p>
</li>
<li><p>æ³¨æ„ï¼š</p>
<ul>
<li>æƒé‡è¶Šé«˜åˆ†é…åˆ°çš„è¯·æ±‚è¶Šå¤š</li>
<li>æ­¤ç­–ç•¥å¯ä»¥å’Œleast_connç­–ç•¥ã€iphashç­–ç•¥ç»“åˆä½¿ç”¨</li>
<li><strong>æ­¤ç­–ç•¥æ¯”è¾ƒé€‚åˆæœåŠ¡å™¨ç¡¬ä»¶é…ç½®å·®è·è¾ƒå¤§çš„æƒ…å†µ</strong></li>
</ul>
</li>
</ol>
<h3 id="ip-hash"><a href="#ip-hash" class="headerlink" title="ip_hash"></a>ip_hash</h3><ol>
<li><p>ä¾æ®ipåˆ†é…æ–¹å¼ï¼ŒæŒ‡å®šè´Ÿè½½å‡è¡¡å™¨æŒ‰ç…§åŸºäºå®¢æˆ·ç«¯IPçš„åˆ†é…æ–¹å¼ï¼Œè¿™ä¸ªæ–¹æ³•ç¡®ä¿äº†ç›¸åŒçš„å®¢æˆ·ç«¯è¯·æ±‚ä¸€è‡´å‘é€åˆ°ç›¸åŒçš„æœåŠ¡å™¨ï¼Œä»¥ä¿è¯sessionä¼šè¯ã€‚æ¯ä¸ªè®¿å®¢éƒ½å›ºå®šè®¿é—®ä¸€ä¸ªåç«¯æœåŠ¡å™¨ï¼Œå¯ä»¥è§£å†³sessionä¸èƒ½è·¨æœåŠ¡å™¨çš„é—®é¢˜ï¼›</p>
</li>
<li><p>upstreamæ¨¡å—é…ç½®æ¨¡æ¿å¦‚ä¸‹ï¼š</p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">upstream [æœåŠ¡å™¨ç»„åç§°]&#123;</span><br><span class="line">ã€€ã€€ip_hash;</span><br><span class="line">ã€€ã€€server [IPåœ°å€]:[ç«¯å£å·] weight=2;</span><br><span class="line">ã€€ã€€server [IPåœ°å€]:[ç«¯å£å·];</span><br><span class="line">ã€€ã€€....</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ³¨æ„ï¼š</p>
<ul>
<li>nginx1.3.1ä¹‹å‰çš„ç‰ˆæœ¬ä¸èƒ½åœ¨ip_hashä¸­ä½¿ç”¨æƒé‡ï¼ˆweightï¼‰</li>
<li>ip_hashä¸èƒ½ä¸backupåŒæ—¶ä½¿ç”¨</li>
<li><strong>æ­¤ç­–ç•¥é€‚åˆæœ‰çŠ¶æ€æœåŠ¡çš„ç¨‹åºï¼Œæ¯”å¦‚session</strong></li>
<li>å½“æœ‰æœåŠ¡å™¨éœ€è¦å‰”é™¤ï¼Œå¿…é¡»æ‰‹åŠ¨downæ‰</li>
</ul>
</li>
</ol>
<h3 id="least-conn"><a href="#least-conn" class="headerlink" title="least_conn"></a>least_conn</h3><ol>
<li><p>æŠŠè¯·æ±‚å‘ç»™é“¾æ¥æ•°æœ€å°‘çš„åç«¯æœåŠ¡å™¨ã€‚æœ‰äº›è¯·æ±‚å ç”¨çš„æ—¶é—´å¾ˆé•¿ï¼Œä¼šå¯¼è‡´å…¶æ‰€åœ¨çš„åç«¯è´Ÿè½½è¾ƒé«˜ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ä½¿ç”¨è¿™ç§æ–¹å¼å¯ä»¥è¾¾åˆ°æ›´å¥½çš„è´Ÿè½½å‡è¡¡æ•ˆæœï¼›</p>
</li>
<li><p>upstreamæ¨¡å—é…ç½®æ¨¡æ¿å¦‚ä¸‹ï¼š</p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">upstream [æœåŠ¡å™¨ç»„åç§°]&#123;</span><br><span class="line">ã€€ã€€least_conn;</span><br><span class="line">ã€€ã€€server [IPåœ°å€]:[ç«¯å£å·] weight=2;</span><br><span class="line">ã€€ã€€server [IPåœ°å€]:[ç«¯å£å·];</span><br><span class="line">ã€€ã€€....</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ³¨æ„ï¼š</p>
<ul>
<li>æ­¤ç­–ç•¥é€‚åˆè¯·æ±‚å¤„ç†æ—¶é—´é•¿çŸ­ä¸ä¸€é€ æˆçš„æœåŠ¡å™¨è¿‡è½½æƒ…å†µ</li>
</ul>
</li>
</ol>
<h3 id="fair"><a href="#fair" class="headerlink" title="fair"></a>fair</h3><ol>
<li><p>å“åº”æ—¶é—´æ–¹å¼ï¼ŒæŒ‰ç…§æœåŠ¡å™¨ç«¯çš„å“åº”æ—¶é—´æ¥åˆ†é…è¯·æ±‚ï¼Œå“åº”æ—¶é—´çŸ­çš„ä¼˜å…ˆåˆ†é…ï¼›</p>
</li>
<li><p>upstreamæ¨¡å—é…ç½®æ¨¡æ¿å¦‚ä¸‹ï¼š</p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">upstream [æœåŠ¡å™¨ç»„åç§°]&#123;</span><br><span class="line">ã€€ã€€server [IPåœ°å€]:[ç«¯å£å·] weight=2;</span><br><span class="line">ã€€ã€€server [IPåœ°å€]:[ç«¯å£å·];</span><br><span class="line">ã€€ã€€....</span><br><span class="line">ã€€ã€€fair;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ³¨æ„ï¼š</p>
<ul>
<li>éœ€è¦å®‰è£…ç¬¬ä¸‰æ–¹æ’ä»¶</li>
</ul>
</li>
</ol>
<h3 id="url-hash"><a href="#url-hash" class="headerlink" title="url_hash"></a>url_hash</h3><ol>
<li><p>urlåˆ†é…æ–¹å¼ï¼ŒæŒ‰è®¿é—®urlçš„hashç»“æœæ¥åˆ†é…è¯·æ±‚ï¼Œä½¿æ¯ä¸ªurlå®šå‘åˆ°åŒä¸€ä¸ªåç«¯æœåŠ¡å™¨ï¼Œè¦é…åˆç¼“å­˜å‘½ä¸­æ¥ä½¿ç”¨ï¼›</p>
</li>
<li><p>åŒä¸€ä¸ªèµ„æºå¤šæ¬¡è¯·æ±‚å¯èƒ½ä¼šåˆ°è¾¾ä¸åŒçš„æœåŠ¡å™¨ä¸Šï¼Œå¯¼è‡´ä¸å¿…è¦çš„å¤šæ¬¡ä¸‹è½½ï¼Œç¼“å­˜å‘½ä¸­ç‡ä¸é«˜ï¼Œä»¥åŠä¸€äº›èµ„æºæ—¶é—´çš„æµªè´¹ã€‚è€Œä½¿ç”¨url_hashï¼Œå¯ä»¥ä½¿å¾—åŒä¸€ä¸ªurlï¼ˆä¹Ÿå°±æ˜¯åŒä¸€ä¸ªèµ„æºè¯·æ±‚ï¼‰ä¼šåˆ°è¾¾åŒä¸€å°æœåŠ¡å™¨ï¼Œä¸€æ—¦ç¼“å­˜ä½äº†èµ„æºï¼Œå†æ¬¡æ”¶åˆ°è¯·æ±‚ï¼Œå°±å¯ä»¥åœ¨ç¼“å­˜ä¸­è¯»å–ï¼›</p>
</li>
<li><p>upstreamæ¨¡å—é…ç½®æ¨¡æ¿å¦‚ä¸‹ï¼š</p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">upstream [æœåŠ¡å™¨ç»„åç§°]&#123;</span><br><span class="line">ã€€ã€€hash $request_uri;</span><br><span class="line">ã€€ã€€server [IPåœ°å€]:[ç«¯å£å·] weight=2;</span><br><span class="line">ã€€ã€€server [IPåœ°å€]:[ç«¯å£å·];</span><br><span class="line">ã€€ã€€....</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ³¨æ„ï¼š</p>
<ul>
<li>éœ€è¦å®‰è£…ç¬¬ä¸‰æ–¹æ’ä»¶</li>
</ul>
</li>
</ol>
<h3 id="æ ·ä¾‹é…ç½®ï¼ˆå®ä½“æœºï¼‰"><a href="#æ ·ä¾‹é…ç½®ï¼ˆå®ä½“æœºï¼‰" class="headerlink" title="æ ·ä¾‹é…ç½®ï¼ˆå®ä½“æœºï¼‰"></a>æ ·ä¾‹é…ç½®ï¼ˆå®ä½“æœºï¼‰</h3><ol>
<li><p>nginx.confï¼ˆéƒ¨åˆ†ï¼‰ï¼š</p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">http &#123;</span><br><span class="line"></span><br><span class="line">	##</span><br><span class="line">	# Basic Settings</span><br><span class="line">	##</span><br><span class="line"></span><br><span class="line">	sendfile on;</span><br><span class="line">	tcp_nopush on;</span><br><span class="line">	tcp_nodelay on;</span><br><span class="line">	keepalive_timeout 65;</span><br><span class="line">	types_hash_max_size 2048;</span><br><span class="line">	# server_tokens off;</span><br><span class="line"></span><br><span class="line">	# server_names_hash_bucket_size 64;</span><br><span class="line">	# server_name_in_redirect off;</span><br><span class="line"></span><br><span class="line">	include /etc/nginx/mime.types;</span><br><span class="line">	default_type application/octet-stream;</span><br><span class="line"></span><br><span class="line">	##</span><br><span class="line">	# SSL Settings</span><br><span class="line">	##</span><br><span class="line"></span><br><span class="line">	ssl_protocols TLSv1 TLSv1.1 TLSv1.2 TLSv1.3; # Dropping SSLv3, ref: POODLE</span><br><span class="line">	ssl_prefer_server_ciphers on;</span><br><span class="line"></span><br><span class="line">	##</span><br><span class="line">	# Logging Settings</span><br><span class="line">	##</span><br><span class="line"></span><br><span class="line">	upstream org.tonny.balance &#123;</span><br><span class="line">        server 192.168.31.171:8081 weight=1;</span><br><span class="line">        server 192.168.31.171:8089 weight=1;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">       log_format main '&#123;"@timestamp":"$time_iso8601",'</span><br><span class="line">	       '"host": "$server_addr",'</span><br><span class="line">	       '"client": "$remote_addr",'</span><br><span class="line">	       '"size": $body_bytes_sent,'</span><br><span class="line">	       '"responsetime": $request_time,'</span><br><span class="line">	       '"domain": "$host",'</span><br><span class="line">	       '"url":"$request_uri",'</span><br><span class="line">	       '"referer": "$http_referer",'</span><br><span class="line">	       '"agent": "$http_user_agent",'</span><br><span class="line">	       '"status":"$status",'</span><br><span class="line">	       '"x_forwarded_for":"$http_x_forwarded_for"&#125;';</span><br><span class="line"></span><br><span class="line">	access_log /var/log/nginx/access.log main;</span><br><span class="line">	error_log /var/log/nginx/error.log;</span><br><span class="line"></span><br><span class="line">	##</span><br><span class="line">	# Gzip Settings</span><br><span class="line">	##</span><br><span class="line"></span><br><span class="line">	gzip on;</span><br><span class="line"></span><br><span class="line">	# gzip_vary on;</span><br><span class="line">	# gzip_proxied any;</span><br><span class="line">	# gzip_comp_level 6;</span><br><span class="line">	# gzip_buffers 16 8k;</span><br><span class="line">	# gzip_http_version 1.1;</span><br><span class="line">	# gzip_types text/plain text/css application/json application/javascript text/xml application/xml application/xml+rss text/javascript;</span><br><span class="line"></span><br><span class="line">	##</span><br><span class="line">	# Virtual Host Configs</span><br><span class="line">	##</span><br><span class="line"></span><br><span class="line">	include /etc/nginx/conf.d/*.conf;</span><br><span class="line">	include /etc/nginx/sites-enabled/*;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>site-available/defaultï¼ˆé‡è¦éƒ¨åˆ†ï¼‰ï¼š</p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">	listen 80 default_server;</span><br><span class="line">	listen [::]:80 default_server;</span><br><span class="line"></span><br><span class="line">	# SSL configuration</span><br><span class="line">	#</span><br><span class="line">	# listen 443 ssl default_server;</span><br><span class="line">	# listen [::]:443 ssl default_server;</span><br><span class="line">	#</span><br><span class="line">	# Note: You should disable gzip for SSL traffic.</span><br><span class="line">	# See: https://bugs.debian.org/773332</span><br><span class="line">	#</span><br><span class="line">	# Read up on ssl_ciphers to ensure a secure configuration.</span><br><span class="line">	# See: https://bugs.debian.org/765782</span><br><span class="line">	#</span><br><span class="line">	# Self signed certs generated by the ssl-cert package</span><br><span class="line">	# Don't use them in a production server!</span><br><span class="line">	#</span><br><span class="line">	# include snippets/snakeoil.conf;</span><br><span class="line"></span><br><span class="line">	root /var/www/html;</span><br><span class="line"></span><br><span class="line">	# Add index.php to the list if you are using PHP</span><br><span class="line">	index index.html index.htm index.nginx-debian.html;</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	server_name _;</span><br><span class="line"></span><br><span class="line">	location / &#123;</span><br><span class="line">		# First attempt to serve request as file, then</span><br><span class="line">		# as directory, then fall back to displaying a 404.</span><br><span class="line">		try_files $uri $uri/ =404;</span><br><span class="line">		#  visit mapping</span><br><span class="line">		proxy_pass   http://org.tonny.balance;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	# pass PHP scripts to FastCGI server</span><br><span class="line">	#</span><br><span class="line">	#location ~ \.php$ &#123;</span><br><span class="line">	#	include snippets/fastcgi-php.conf;</span><br><span class="line">	#</span><br><span class="line">	#	# With php-fpm (or other unix sockets):</span><br><span class="line">	#	fastcgi_pass unix:/var/run/php/php7.4-fpm.sock;</span><br><span class="line">	#	# With php-cgi (or other tcp sockets):</span><br><span class="line">	#	fastcgi_pass 127.0.0.1:9000;</span><br><span class="line">	#&#125;</span><br><span class="line"></span><br><span class="line">	# deny access to .htaccess files, if Apache's document root</span><br><span class="line">	# concurs with nginx's one</span><br><span class="line">	#</span><br><span class="line">	#location ~ /\.ht &#123;</span><br><span class="line">	#	deny all;</span><br><span class="line">	#&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ³¨æ„ï¼š</p>
<ul>
<li>upstreamæ¨¡æ¿æ˜¯é…ç½®åœ¨httpä¸­çš„</li>
<li>log_formatæ¨¡æ¿ä¹Ÿæ˜¯é…ç½®åœ¨httpä¸­çš„</li>
<li>niginxç‰ˆæœ¬ä¸ºnginx/1.18.0 (Ubuntu)</li>
</ul>
</li>
</ol>
<h3 id="Dockerä¸Šè´Ÿè½½å‡è¡¡"><a href="#Dockerä¸Šè´Ÿè½½å‡è¡¡" class="headerlink" title="Dockerä¸Šè´Ÿè½½å‡è¡¡"></a>Dockerä¸Šè´Ÿè½½å‡è¡¡</h3><ol>
<li><p>ä¸‹è½½nginxå®˜æ–¹é•œåƒï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker pull nginx</span><br></pre></td></tr></table></figure>
</li>
<li><p>è¿è¡Œnginxé•œåƒï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker run -p 8080:80 -d nginx</span><br></pre></td></tr></table></figure>
</li>
<li><p>è¿›å…¥é•œåƒä¸­è¿›è¡Œé…ç½®ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> docker ps </span></span><br><span class="line"></span><br><span class="line">CONTAINER ID        IMAGE               COMMAND                  CREATED             STATUS              PORTS                  NAMES</span><br><span class="line">deb661196722        nginx               "/docker-entrypoint.â€¦"   19 hours ago        Up 18 hours         0.0.0.0:8089-&gt;80/tcp   cool_torvalds</span><br><span class="line">d68d1fd15626        nginx               "/docker-entrypoint.â€¦"   19 hours ago        Up 18 hours         0.0.0.0:8080-&gt;80/tcp   trusting_lovelace</span><br><span class="line"></span><br><span class="line"><span class="meta">$</span><span class="bash"> docker <span class="built_in">exec</span> -it d68d1fd15626 bash</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>é…ç½®nginxå®ä¾‹çš„é…ç½®ï¼Œç„¶åé‡å¯(çœŸæœºç±»ä¼¼)ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker restart d68d1fd15626</span><br></pre></td></tr></table></figure>
</li>
<li><p>æµ‹è¯•è¾“å…¥åœ°å€<a href="http://localhost:8080" target="_blank" rel="noopener">http://localhost:8080</a></p>
</li>
</ol>
<h2 id="Ribbon"><a href="#Ribbon" class="headerlink" title="Ribbon"></a>Ribbon</h2><ol>
<li>Ribbon æ˜¯Netflix å…¬å¸å¼€æºçš„ä¸€æ¬¾åŸºäºå®¢æˆ·ç«¯çš„è´Ÿè½½å‡è¡¡ç»„ä»¶ï¼Œæ˜¯Spring Cloudå¤§å®¶åº­ä¸­éå¸¸é‡è¦çš„ä¸€ä¸ªæ¨¡å—ã€‚Ribbonåº”è¯¥ä¹Ÿæ˜¯æ•´ä¸ªSpring Cloudå¤§å®¶åº­ä¸­ç›¸å¯¹è€Œè¨€æ¯”è¾ƒå¤æ‚çš„æ¨¡å—ï¼Œç›´æ¥å½±å“åˆ°æœåŠ¡è°ƒåº¦çš„è´¨é‡å’Œæ€§èƒ½ï¼›</li>
<li>æŒæ¡Ribbonæœ‰åŠ©äºäº†è§£åœ¨åˆ†å¸ƒå¼å¾®æœåŠ¡é›†ç¾¤å·¥ä½œæ¨¡å¼ä¸‹ï¼ŒæœåŠ¡è°ƒåº¦åº”è¯¥è€ƒè™‘çš„å„ä¸ªç¯èŠ‚ï¼›</li>
<li></li>
</ol>
<hr>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1>]]></content>
      <categories>
        <category>SpringCloud</category>
      </categories>
  </entry>
  <entry>
    <title>SpringCloudæœåŠ¡é“¾è·¯è¿½è¸ª</title>
    <url>/2020/08/18/SpringCloud%E6%9C%8D%E5%8A%A1%E9%93%BE%E8%B7%AF%E8%BF%BD%E8%B8%AA/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>å¾®æœåŠ¡æ¶æ„æ˜¯é€šè¿‡ä¸šåŠ¡æ¥åˆ’åˆ†æœåŠ¡çš„ï¼Œåº”ç”¨ä¹‹é—´é€šè¿‡RESTè°ƒç”¨ï¼Œå¯¹å¤–åˆ™æš´éœ²çš„ä¸€ä¸ªæ¥å£ï¼Œå¯èƒ½éœ€è¦å¾ˆå¤šä¸ªæœåŠ¡ååŒæ‰èƒ½å®Œæˆè¿™ä¸ªæ¥å£åŠŸèƒ½ã€‚å¦‚æœé“¾è·¯ä¸Šä»»ä½•ä¸€ä¸ªæœåŠ¡å‡ºç°é—®é¢˜æˆ–è€…ç½‘ç»œè¶…æ—¶ï¼Œéƒ½ä¼šå¯¼è‡´æ¥å£è°ƒç”¨å¤±è´¥ï¼Œéšç€ä¸šåŠ¡çš„ä¸æ–­æ‰©å¼ ï¼ŒæœåŠ¡ä¹‹é—´äº’ç›¸è°ƒç”¨ä¼šè¶Šæ¥è¶Šå¤æ‚ï¼Œå®šä½å‡ºç°é—®é¢˜çš„æœåŠ¡å°±è¶Šæ¥è¶Šå¤æ‚ï¼Œå› æ­¤åœ¨å¾®æœåŠ¡æ¶æ„ä¸­éå¸¸éœ€è¦è¿›è¡Œé“¾è·¯è¿½è¸ªã€‚åœ¨SpringCloudä¸­ä½¿ç”¨SpringCloud Sleuthæ¥æä¾›åˆ†å¸ƒå¼ç³»ç»Ÿçš„é“¾è·¯è¿½è¸ªï¼Œæœ¬æ–‡å°†è¿›è¡Œè¿™éƒ¨åˆ†çš„å†…å®¹çš„è®°å½•ã€‚</p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="ç¯å¢ƒä¿¡æ¯"><a href="#ç¯å¢ƒä¿¡æ¯" class="headerlink" title="ç¯å¢ƒä¿¡æ¯"></a>ç¯å¢ƒä¿¡æ¯</h2><ol>
<li>SpringBootç‰ˆæœ¬ï¼š2.3.3</li>
<li>SpringCloudç‰ˆæœ¬ï¼šHoxton.SR7</li>
<li>IDEAç‰ˆæœ¬ï¼š2019.02</li>
<li>Mavenç‰ˆæœ¬ï¼š3.6.3</li>
</ol>
<h2 id="åŸºç¡€çŸ¥è¯†"><a href="#åŸºç¡€çŸ¥è¯†" class="headerlink" title="åŸºç¡€çŸ¥è¯†"></a>åŸºç¡€çŸ¥è¯†</h2><ol>
<li><p>å¾®æœåŠ¡ç°çŠ¶ï¼š</p>
<ul>
<li>éšç€ä¸šåŠ¡çš„å‘å±•ï¼Œå•ä½“æ¶æ„å˜ä¸ºå¾®æœåŠ¡æ¶æ„ï¼Œå¹¶ä¸”ç³»ç»Ÿè§„æ¨¡ä¹Ÿå˜å¾—è¶Šæ¥è¶Šå¤§ï¼Œå„å¾®æœåŠ¡é—´çš„è°ƒç”¨å…³ç³»ä¹Ÿå˜å¾—è¶Šæ¥è¶Šå¤æ‚</li>
<li>åœ¨å¾®æœåŠ¡çš„åº”ç”¨ä¸­ï¼Œä¸€ä¸ªç”±å®¢æˆ·ç«¯å‘èµ·çš„è¯·æ±‚åœ¨åç«¯ç³»ç»Ÿä¸­ä¼šç»è¿‡å¤šä¸ªä¸åŒçš„å¾®æœåŠ¡è°ƒç”¨æ¥ååŒäº§ç”Ÿæœ€åçš„è¯·æ±‚ç»“æœ</li>
<li>åœ¨å¤æ‚çš„å¾®æœåŠ¡æ¶æ„ç³»ç»Ÿä¸­ï¼Œå‡ ä¹æ¯ä¸€ä¸ªå‰ç«¯è¯·æ±‚éƒ½ä¼šå½¢æˆä¸€ä¸ªå¤æ‚çš„åˆ†å¸ƒå¼æœåŠ¡è°ƒç”¨é“¾è·¯ï¼Œåœ¨æ¯æ¡é“¾è·¯ä¸­ä»»ä½•ä¸€ä¸ªä¾èµ–æœåŠ¡å‡ºç°å»¶è¿Ÿè¶…æ—¶æˆ–è€…é”™è¯¯éƒ½æœ‰å¯èƒ½å¼•èµ·æ•´ä¸ªè¯·æ±‚æœ€åçš„å¤±è´¥</li>
</ul>
</li>
<li><p>å¾®æœåŠ¡è·Ÿè¸ª(sleuth)åœ¨æ•´ä¸ªåˆ†å¸ƒå¼ç³»ç»Ÿä¸­èƒ½è·Ÿè¸ªä¸€ä¸ªç”¨æˆ·è¯·æ±‚çš„è¿‡ç¨‹(åŒ…æ‹¬æ•°æ®é‡‡é›†ï¼Œæ•°æ®ä¼ è¾“ï¼Œæ•°æ®å­˜å‚¨ï¼Œæ•°æ®åˆ†æï¼Œæ•°æ®å¯è§†åŒ–)ï¼Œæ•è·è¿™äº›è·Ÿè¸ªæ•°æ®ï¼Œå°±èƒ½æ„å»ºå¾®æœåŠ¡çš„æ•´ä¸ªè°ƒç”¨é“¾çš„è§†å›¾ï¼</p>
</li>
<li><p>SpringCloud Sleuthç‰¹ç‚¹ï¼š</p>
<table>
<thead>
<tr>
<th>ç‰¹ç‚¹</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>æä¾›é“¾è·¯è¿½è¸ª</td>
<td>é€šè¿‡sleuthå¯ä»¥å¾ˆæ¸…æ¥šçš„çœ‹å‡ºä¸€ä¸ªè¯·æ±‚ç»è¿‡äº†å“ªäº›æœåŠ¡ï¼Œ å¯ä»¥æ–¹ä¾¿çš„ç†æ¸…æœåŠ¡é—´çš„è°ƒç”¨å…³ç³»</td>
</tr>
<tr>
<td>æ€§èƒ½åˆ†æ</td>
<td>é€šè¿‡sleuthå¯ä»¥å¾ˆæ–¹ä¾¿çš„çœ‹å‡ºæ¯ä¸ªè¯·æ±‚çš„è€—æ—¶ï¼Œ åˆ†æå‡ºå“ªäº›æœåŠ¡è°ƒç”¨æ¯”è¾ƒè€—æ—¶ï¼Œå½“æœåŠ¡è°ƒç”¨çš„è€—æ—¶éšç€è¯·æ±‚é‡çš„å¢å¤§è€Œå¢å¤§æ—¶ï¼Œä¹Ÿå¯ä»¥å¯¹æœåŠ¡çš„æ‰©å®¹æä¾›ä¸€å®šçš„æé†’ä½œç”¨</td>
</tr>
<tr>
<td>æ•°æ®åˆ†æä¼˜åŒ–é“¾è·¯</td>
<td>å¯¹äºé¢‘ç¹åœ°è°ƒç”¨ä¸€ä¸ªæœåŠ¡æˆ–è€…å¹¶è¡Œåœ°è°ƒç”¨ç­‰ï¼Œ å¯ä»¥é’ˆå¯¹ä¸šåŠ¡åšä¸€äº›ä¼˜åŒ–æªæ–½</td>
</tr>
<tr>
<td>å¯è§†åŒ–</td>
<td>å¯¹äºç¨‹åºæœªæ•è·çš„å¼‚å¸¸ï¼Œå¯ä»¥åœ¨zipkpinç•Œé¢ä¸Šçœ‹åˆ°</td>
</tr>
</tbody></table>
</li>
<li><p>SpringCloud Sleuthå®˜ç½‘æ–‡æ¡£åœ°å€ï¼š<a href="https://docs.spring.io/spring-cloud-sleuth/docs/current-SNAPSHOT/reference/html/#overview" target="_blank" rel="noopener">https://docs.spring.io/spring-cloud-sleuth/docs/current-SNAPSHOT/reference/html/#overview</a></p>
</li>
<li><p>è°ƒç”¨é“¾è·¯ï¼šä¸€ä¸ªè¯·æ±‚è¿‡æ¥ï¼Œè°ƒç”¨æœåŠ¡ï¼Œä¸€æ¡é“¾è·¯é€šè¿‡Trace Idå”¯ä¸€æ ‡è¯†ï¼ŒSpanæ ‡è¯†å‘èµ·çš„è¯·æ±‚ï¼Œå„Spané€šè¿‡parent idå…³è”èµ·æ¥</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/aca290210457f33d8488424c5bcfc16d-84961" alt="è°ƒç”¨é“¾è·¯"></p>
</li>
<li><p>zipkinçš„ä½œç”¨ï¼š</p>
<ul>
<li>zipkinä¸ºåˆ†å¸ƒå¼é“¾è·¯è°ƒç”¨ç›‘æ§ç³»ç»Ÿï¼Œèšåˆå„ä¸šåŠ¡ç³»ç»Ÿè°ƒç”¨å»¶è¿Ÿæ•°æ®ï¼Œè¾¾åˆ°é“¾è·¯è°ƒç”¨ç›‘æ§è·Ÿè¸ª</li>
<li>zipkiné€šè¿‡é‡‡é›†è·Ÿè¸ªæ•°æ®å¯ä»¥å¸®åŠ©å¼€å‘è€…æ·±å…¥äº†è§£åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­æŸä¸€ä¸ªç‰¹å®šçš„è¯·æ±‚æ—¶å¦‚ä½•æ‰§è¡Œçš„ã€‚å‡å¦‚ç°åœ¨æœ‰ä¸€ä¸ªç”¨æˆ·è¯·æ±‚è¶…æ—¶ï¼Œå°±å¯ä»¥å°†è¿™ä¸ªè¶…æ—¶çš„è¯·æ±‚è°ƒç”¨é“¾å±•ç¤ºåœ¨ç•Œé¢å½“ä¸­ï¼Œå¯ä»¥å¾ˆå¿«åº¦çš„å®šä½åˆ°å¯¼è‡´å“åº”å¾ˆæ…¢çš„æœåŠ¡ç©¶ç«Ÿæ˜¯ä»€ä¹ˆï¼Œå¦‚æœå¯¹è¿™ä¸ªæœåŠ¡ç»†èŠ‚ä¹Ÿå¾ˆå¾ˆæ¸…æ™°ï¼Œé‚£ä¹ˆè¿˜å¯ä»¥å®šä½æ˜¯æœåŠ¡ä¸­çš„å“ªä¸ªé—®é¢˜å¯¼è‡´è¶…æ—¶</li>
<li>zipkinç³»ç»Ÿè®©å¼€å‘è€…å¯é€šè¿‡ä¸€ä¸ªWebå‰ç«¯è½»æ¾çš„æ”¶é›†å’Œåˆ†ææ•°æ®ï¼Œä¾‹å¦‚ç”¨æˆ·æ¯æ¬¡è¯·æ±‚æœåŠ¡çš„å¤„ç†æ—¶é—´ç­‰ï¼Œå¯æ–¹ä¾¿çš„ç›‘æµ‹ç³»ç»Ÿä¸­å­˜åœ¨çš„ç“¶é¢ˆ</li>
</ul>
</li>
<li><p>zipkinæ ¸å¿ƒæ•°æ®ç»“æ„ï¼š</p>
<ul>
<li>Spanâ€”â€”ä¸€æ¬¡é“¾è·¯è°ƒç”¨ (å¯ä»¥æ˜¯RPCï¼ŒDBç­‰æ²¡æœ‰ç‰¹å®šçš„é™åˆ¶) åˆ›å»ºä¸€ä¸ªspanï¼Œé€šè¿‡ä¸€ä¸ª64ä½IDæ ‡è¯†</li>
<li>Traceâ€”â€”ç±»ä¼¼äºæ ‘ç»“æ„çš„Spané›†åˆï¼Œè¡¨ç¤ºä¸€æ¡è°ƒç”¨é“¾è·¯ï¼Œå­˜åœ¨å”¯ä¸€æ ‡è¯†traceId</li>
<li>Annotationâ€”â€”ç”¨äºå®šä½ä¸€ä¸ªrequestçš„å¼€å§‹å’Œç»“æŸï¼Œcs/sr/ss/crå«æœ‰é¢å¤–çš„ä¿¡æ¯<ul>
<li>csï¼ˆClient Startï¼‰è¡¨ç¤ºå®¢æˆ·ç«¯å‘èµ·è¯·æ±‚ä¸€ä¸ªspançš„å¼€å§‹</li>
<li>srï¼ˆServer Receiveï¼‰è¡¨ç¤ºæœåŠ¡ç«¯æ”¶åˆ°è¯·æ±‚</li>
<li>ssï¼ˆServer Sendï¼‰è¡¨ç¤ºæœåŠ¡ç«¯å®Œæˆå¤„ç†ï¼Œå¹¶å°†ç»“æœå‘é€ç»™å®¢æˆ·ç«¯</li>
<li>crï¼ˆClient Receivedï¼‰è¡¨ç¤ºå®¢æˆ·ç«¯è·å–åˆ°æœåŠ¡ç«¯è¿”å›ä¿¡æ¯ä¸€ä¸ªspançš„ç»“æŸ</li>
</ul>
</li>
<li>BinaryAnnotationâ€”â€”ç”¨äºæä¾›ä¸€äº›é¢å¤–ä¿¡æ¯</li>
</ul>
</li>
</ol>
<h2 id="åŠ¨æ‰‹å®æ“"><a href="#åŠ¨æ‰‹å®æ“" class="headerlink" title="åŠ¨æ‰‹å®æ“"></a>åŠ¨æ‰‹å®æ“</h2><h3 id="ZipkinServer"><a href="#ZipkinServer" class="headerlink" title="ZipkinServer"></a>ZipkinServer</h3><ol>
<li><p>å®˜æ–¹ä¸æ¨èè‡ªå·±æ­å»ºZipkinServerï¼Œæ¨èä¸‹è½½jaråŒ…æˆ–è€…Dockerè¿›è¡ŒZipkinServerçš„éƒ¨ç½²ï¼›</p>
</li>
<li><p>JaråŒ…ä¸‹è½½åœ°å€ï¼š<code>https://dl.bintray.com/openzipkin/maven/io/zipkin/zipkin-server/</code>ï¼Œä¸‹è½½å¸¦æœ‰execå­—æ®µçš„jaråŒ…åœ¨æœ¬åœ°è¿è¡Œã€‚æ¯”å¦‚ä¸‹è½½çš„zipkin-server-2.21.6-exec.jarï¼›</p>
</li>
<li><p>ç›´æ¥è¿è¡ŒjaråŒ…ï¼Œé»˜è®¤ç«¯å£9411ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">java -jar zipkin-server-2.21.6-exec.jar</span><br></pre></td></tr></table></figure>

<ul>
<li><p>è¾“å‡ºä¿¡æ¯ï¼š</p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">                  oo</span><br><span class="line">                 oooo</span><br><span class="line">                oooooo</span><br><span class="line">               oooooooo</span><br><span class="line">              oooooooooo</span><br><span class="line">             oooooooooooo</span><br><span class="line">           ooooooo  ooooooo</span><br><span class="line">          oooooo     ooooooo</span><br><span class="line">         oooooo       ooooooo</span><br><span class="line">        oooooo   o  o   oooooo</span><br><span class="line">       oooooo   oo  oo   oooooo</span><br><span class="line">     ooooooo  oooo  oooo  ooooooo</span><br><span class="line">    oooooo   ooooo  ooooo  ooooooo</span><br><span class="line">   oooooo   oooooo  oooooo  ooooooo</span><br><span class="line">  oooooooo      oo  oo      oooooooo</span><br><span class="line">  ooooooooooooo oo  oo ooooooooooooo</span><br><span class="line">      oooooooooooo  oooooooooooo</span><br><span class="line">          oooooooo  oooooooo</span><br><span class="line">              oooo  oooo</span><br><span class="line"></span><br><span class="line">     ________ ____  _  _____ _   _</span><br><span class="line">    |__  /_ _|  _ \| |/ /_ _| \ | |</span><br><span class="line">      / / | || |_) | ' / | ||  \| |</span><br><span class="line">     / /_ | ||  __/| . \ | || |\  |</span><br><span class="line">    |____|___|_|   |_|\_\___|_| \_|</span><br><span class="line"></span><br><span class="line">:: version 2.21.6 :: commit 263c266 ::</span><br><span class="line"></span><br><span class="line">2020-08-18 15:40:54.690  INFO 15507 --- [oss-http-*:9411] c.l.a.s.Server                           : Serving HTTP at /0:0:0:0:0:0:0:0:9411 - http://127.0.0.1:9411/</span><br></pre></td></tr></table></figure>
</li>
<li><p>ç•Œé¢å¦‚ä¸‹ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/72da12603ce4232ac0671714a8f113b5-189879" alt="zipkinç•Œé¢"></p>
</li>
</ul>
</li>
<li><p>JaråŒ…è¿è¡Œå‚æ•°è®¾ç½®ï¼š</p>
<ul>
<li><p>ç«¯å£è®¾ç½®ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">java -jar zipkin-server-2.21.6-exec.jar --server.port=8080</span><br></pre></td></tr></table></figure>
</li>
<li><p>RabbitMQé…ç½®ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">java -jar zipkin-server-2.21.6-exec.jar --zipkin.collector.rabbitmq.addresses=192.168.3.108:5672 --zipkin.collector.rabbitmq.username=admin --zipkin.collector.rabbitmq.password=admin</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>Dockeré•œåƒä¸‹è½½ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker pull openzipkin/zipkin</span><br></pre></td></tr></table></figure>
</li>
<li><p>Dockerè¿è¡Œzipkin Serveré•œåƒï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker run --name zipkin -d -p 9411:9411 openzipkin/zipkin</span><br></pre></td></tr></table></figure>

<ul>
<li><p>å¸¦æœ‰RabbitMQå‚æ•°çš„è¿è¡Œï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker run --name zipkin -d -p 9411:9411 -e RABBIT_ADDRESSES=192.168.3.108:5672 -e RABBIT_USER=admin -e RABBIT_PASSWORD=admin openzipkin/zipkin</span><br></pre></td></tr></table></figure>
</li>
<li><p>RabbitMQæœåŠ¡å™¨è¿è¡Œï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker run -d -p 5672:5672 -p 15672:15672 -e RABBITMQ_DEFAULT_USER=admin -e RABBITMQ_DEFAULT_PASS=admin --name rabbit rabbitmq:management</span><br></pre></td></tr></table></figure>

</li>
</ul>
</li>
</ol>
<h3 id="æ·»åŠ Sleuthä»¥åŠzipkinæ”¯æŒ"><a href="#æ·»åŠ Sleuthä»¥åŠzipkinæ”¯æŒ" class="headerlink" title="æ·»åŠ Sleuthä»¥åŠzipkinæ”¯æŒ"></a>æ·»åŠ Sleuthä»¥åŠzipkinæ”¯æŒ</h3><ol>
<li><p>åœ¨SpringCloud Eurekaçš„åŸºç¡€ä¸Šæ·»åŠ SpringCloud Sleuthæ”¯æŒï¼Œæ·»åŠ ä¾èµ–ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-sleuth-zipkin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-sleuth<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>æ·»åŠ é…ç½®ï¼š</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">sleuth:</span></span><br><span class="line">    <span class="attr">sampler:</span></span><br><span class="line">      <span class="attr">percentage:</span> <span class="number">1.0</span> <span class="comment"># é»˜è®¤0.1</span></span><br><span class="line">  <span class="attr">zipkin:</span></span><br><span class="line">    <span class="attr">base-url:</span> <span class="string">http://127.0.0.1:9411</span></span><br><span class="line">    <span class="attr">sender:</span></span><br><span class="line">      <span class="attr">type:</span> <span class="string">web</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>é…ç½®å®Œæˆé‡å¯é¡¹ç›®ä¹‹åæ—¥å¿—è¾“å‡ºç±»ä¼¼ä¸‹é¢ï¼š</p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">2020-08-18 16:38:56.940 DEBUG [eureka,0907db10d1a6f2ae,0907db10d1a6f2ae,true] 24816 --- [io-8761-exec-10] c.n.e.r.r.AlwaysMatchInstanceStatusRule  : Returning the default instance status UP for instance 10.157.14.39:configserver</span><br><span class="line">2020-08-18 16:38:56.940 DEBUG [eureka,0907db10d1a6f2ae,0907db10d1a6f2ae,true] 24816 --- [io-8761-exec-10] c.n.eureka.resources.InstanceResource    : Found (Renew): CONFIGSERVER - 10.157.14.39:configserver; reply status=200</span><br><span class="line">2020-08-18 16:38:56.941 DEBUG [eureka,0907db10d1a6f2ae,0907db10d1a6f2ae,true] 24816 --- [io-8761-exec-10] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@4b54c259</span><br><span class="line">2020-08-18 16:38:56.941 DEBUG [eureka,0907db10d1a6f2ae,0907db10d1a6f2ae,true] 24816 --- [io-8761-exec-10] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally</span><br><span class="line">2020-08-18 16:38:56.941 DEBUG [eureka,0907db10d1a6f2ae,0907db10d1a6f2ae,true] 24816 --- [io-8761-exec-10] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä½¿ç”¨consumeræ¥å£è°ƒç”¨æœåŠ¡ï¼Œç„¶ååˆ·æ–°zipkin Serveræ¥å£è·å¾—æ•ˆæœå¦‚ä¸‹ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/cd051ef43402ca06888e53d467fb16b5-132327" alt="Zipkinè¿½è¸ª"></p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/18b8261fb3f04e5ac7557732a19c203e-249606" alt="é“¾è·¯è¯¦æƒ…"></p>
</li>
<li><p>é…ç½®RabbitMQçš„è¯ï¼Œéœ€è¦åšå¦‚ä¸‹æ”¹åŠ¨ï¼š</p>
<ul>
<li><p>æ·»åŠ RabbitMQä¾èµ–ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.amqp<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-rabbit<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼š</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">sleuth:</span></span><br><span class="line">  <span class="attr">sampler:</span></span><br><span class="line">    <span class="attr">percentage:</span> <span class="number">1.0</span></span><br><span class="line"><span class="attr">zipkin:</span></span><br><span class="line">  <span class="attr">sender:</span></span><br><span class="line">    <span class="attr">type:</span> <span class="string">rabbit</span></span><br><span class="line">  <span class="attr">rabbitmq:</span></span><br><span class="line">    <span class="attr">queue:</span> <span class="string">zipkin</span></span><br><span class="line"><span class="attr">rabbitmq:</span></span><br><span class="line">  <span class="attr">host:</span> <span class="string">localhost</span></span><br><span class="line">  <span class="attr">username:</span> <span class="string">admin</span></span><br><span class="line">  <span class="attr">password:</span> <span class="string">admin</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">5672</span></span><br><span class="line">  <span class="attr">listener:</span></span><br><span class="line">    <span class="attr">direct:</span></span><br><span class="line">      <span class="attr">retry:</span></span><br><span class="line">        <span class="attr">enabled:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">simple:</span></span><br><span class="line">      <span class="attr">retry:</span></span><br><span class="line">        <span class="attr">enabled:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
</li>
</ol>
<hr>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>è™½ç„¶å®ç°äº†é“¾è·¯è¿½è¸ªï¼Œä½†æ˜¯å…·ä½“çš„ä½¿ç”¨è¿˜æ˜¯ä»¥å®é™…å·¥ç¨‹å±•ç°ä¼˜åŠ¿ï¼ä»…ä»…åœ¨æµ‹è¯•è¿‡ç¨‹ä¸­ä½¿ç”¨å¹¶æ²¡æœ‰æ„Ÿè§‰åˆ°å¤ªå¤§çš„ç”¨å¤„ï¼Œä½†æ˜¯è¿™éƒ¨åˆ†çš„åŠŸèƒ½åº”è¯¥æ˜¯éå¸¸é‡è¦çš„ï¼</p>
]]></content>
      <categories>
        <category>SpringCloud</category>
      </categories>
  </entry>
  <entry>
    <title>SpringSecurity&amp;SpringDataJPAå¿«é€Ÿæ•´åˆ</title>
    <url>/2020/07/03/SpringSecurity-SpringDataJPA%E5%BF%AB%E9%80%9F%E6%95%B4%E5%90%88/</url>
    <content><![CDATA[<h1 id="åŠ¨æ‰‹å®æ“"><a href="#åŠ¨æ‰‹å®æ“" class="headerlink" title="åŠ¨æ‰‹å®æ“"></a>åŠ¨æ‰‹å®æ“</h1><h2 id="åˆ›å»ºä¸€ä¸ªSpringSecurityé¡¹ç›®"><a href="#åˆ›å»ºä¸€ä¸ªSpringSecurityé¡¹ç›®" class="headerlink" title="åˆ›å»ºä¸€ä¸ªSpringSecurityé¡¹ç›®"></a>åˆ›å»ºä¸€ä¸ªSpringSecurityé¡¹ç›®</h2><ol>
<li><p>é‡è¦çš„ä¾èµ–ï¼ˆpom.xmlï¼‰:</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-data-jpa<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-security<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">   </span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-thymeleaf<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>é…ç½®æ–‡ä»¶é…ç½®JPAï¼ˆapplication.propertiesï¼‰ï¼š</p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">server.port=80</span><br><span class="line"></span><br><span class="line">spring.datasource.url=jdbc:mysql://localhost:3306/jdbc?useUnicode=true&amp;characterEncoding=UTF-8</span><br><span class="line">spring.datasource.username=root</span><br><span class="line">spring.datasource.password=12345678</span><br><span class="line">spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver</span><br><span class="line"></span><br><span class="line">spring.jpa.hibernate.ddl-auto=update</span><br><span class="line">spring.jpa.show-sql=true</span><br></pre></td></tr></table></figure>
</li>
<li><p>åˆ›å»ºEntityï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Entity</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> <span class="keyword">implements</span> <span class="title">java</span>.<span class="title">io</span>.<span class="title">Serializable</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Id</span></span><br><span class="line">    <span class="meta">@Column</span></span><br><span class="line">    <span class="keyword">private</span> Long id;</span><br><span class="line">    <span class="meta">@Column</span></span><br><span class="line">    <span class="keyword">private</span> String login;</span><br><span class="line">    <span class="meta">@Column</span></span><br><span class="line">    <span class="keyword">private</span> String password;</span><br><span class="line">    <span class="meta">@Column</span></span><br><span class="line">    <span class="keyword">private</span> String role;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">User</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Long <span class="title">getId</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setId</span><span class="params">(Long id)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.id = id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getLogin</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> login;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setLogin</span><span class="params">(String login)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.login = login;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getPassword</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> password;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setPassword</span><span class="params">(String password)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.password = password;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getRole</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> role;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setRole</span><span class="params">(String role)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.role = role;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>åˆ›å»ºè‡ªå®šä¹‰JpaRepositoryï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">UserRepository</span> <span class="keyword">extends</span> <span class="title">JpaRepository</span>&lt;<span class="title">User</span>,<span class="title">String</span>&gt; </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">abstract</span> <span class="keyword">public</span> User <span class="title">findOneByLogin</span><span class="params">(String login)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>åˆ›å»ºSpringSecurityä¸­çš„è‡ªå®šä¹‰UserDetailsServiceï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Slf</span>4j</span><br><span class="line"><span class="meta">@Component</span>(<span class="string">"userDetailsService"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CustomUserDetailsService</span> <span class="keyword">implements</span> <span class="title">UserDetailsService</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    UserRepository userRepository;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> UserDetails <span class="title">loadUserByUsername</span><span class="params">(String login)</span> <span class="keyword">throws</span> UsernameNotFoundException </span>&#123;</span><br><span class="line">        <span class="comment">// 1. æŸ¥è¯¢ç”¨æˆ·</span></span><br><span class="line">        User userFromDatabase = userRepository.findOneByLogin(login);</span><br><span class="line">        <span class="keyword">if</span> (userFromDatabase == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="comment">//log.warn("User: &#123;&#125; not found", login);</span></span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> UsernameNotFoundException(<span class="string">"User "</span> + login + <span class="string">" was not found in db"</span>);</span><br><span class="line">            <span class="comment">//è¿™é‡Œæ‰¾ä¸åˆ°å¿…é¡»æŠ›å¼‚å¸¸</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 2. è®¾ç½®è§’è‰²</span></span><br><span class="line">        Collection&lt;GrantedAuthority&gt; grantedAuthorities = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="comment">// è§’è‰²å¿…é¡»ä»¥`ROLE_`å¼€å¤´ï¼Œæ•°æ®åº“ä¸­æ²¡æœ‰ï¼Œåˆ™åœ¨è¿™é‡ŒåŠ </span></span><br><span class="line">        GrantedAuthority grantedAuthority = <span class="keyword">new</span> SimpleGrantedAuthority(<span class="string">"ROLE_"</span>+userFromDatabase.getRole());</span><br><span class="line">        grantedAuthorities.add(grantedAuthority);</span><br><span class="line">        <span class="keyword">for</span>(GrantedAuthority test:grantedAuthorities)&#123;</span><br><span class="line">            log.error(<span class="string">"111..."</span>+test.toString());</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//log.error(userFromDatabase.getPassword());</span></span><br><span class="line">        log.error(login);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> org.springframework.security.core.userdetails.User(login,</span><br><span class="line">                userFromDatabase.getPassword(), grantedAuthorities);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>è¿™é‡Œåªåšäº†å•è§’è‰²æ·»åŠ ï¼Œå®é™…ä¸Šæ˜¯å¯ä»¥è¿›è¡Œå¤šè§’è‰²æ·»åŠ ï¼Œçœ‹ä»£ç å°±çŸ¥é“å¦‚ä½•æ·»åŠ äº†ï¼›</li>
<li><strong>æ•°æ®åº“é‡Œé…ç½®çš„è§’è‰²éœ€è¦ä»¥â€ROLE_â€å¼€å¤´ï¼Œæ¯”å¦‚â€ROLE_testâ€ï¼Œå¯¹åº”ç€hasRole(â€œtestâ€);</strong></li>
</ul>
</li>
<li><p>ä¿®æ”¹å®‰å…¨ç›¸å…³çš„é…ç½®ï¼ˆå› ä¸ºæ˜¯åœ¨åŸºç¡€é¡¹ç›®ä¸Šä¿®æ”¹çš„ï¼‰ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Slf</span>4j</span><br><span class="line"><span class="meta">@EnableWebSecurity</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">WebSecurityConfig</span> <span class="keyword">extends</span> <span class="title">WebSecurityConfigurerAdapter</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">configure</span><span class="params">(HttpSecurity http)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        http</span><br><span class="line">                .authorizeRequests()</span><br><span class="line">                .antMatchers(<span class="string">"/"</span>, <span class="string">"/home"</span>,<span class="string">"/test"</span>).permitAll()</span><br><span class="line">                .antMatchers(<span class="string">"/hello/**"</span>).hasRole(<span class="string">"test"</span>)</span><br><span class="line">                .anyRequest().authenticated()</span><br><span class="line">                .and()</span><br><span class="line">                .formLogin()</span><br><span class="line">                .loginPage(<span class="string">"/login"</span>)</span><br><span class="line">                .usernameParameter(<span class="string">"user"</span>)</span><br><span class="line">                .passwordParameter(<span class="string">"passwd"</span>)</span><br><span class="line">               <span class="comment">// .defaultSuccessUrl("/",true)</span></span><br><span class="line">                .permitAll()</span><br><span class="line">                .and()</span><br><span class="line">                .logout()</span><br><span class="line">                .permitAll()</span><br><span class="line">                .and()</span><br><span class="line">                .exceptionHandling().accessDeniedPage(<span class="string">"/403"</span>);</span><br><span class="line">        http.csrf().disable();</span><br><span class="line">        http.rememberMe().tokenValiditySeconds(<span class="number">120</span>).key(<span class="string">"key"</span>);</span><br><span class="line">        http</span><br><span class="line">            .logout().logoutUrl(<span class="string">"/logout"</span>)</span><br><span class="line">                .logoutSuccessUrl(<span class="string">"/"</span>)</span><br><span class="line">                .deleteCookies(<span class="string">"JSESSIONID"</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> CustomUserDetailsService userDetailsService;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">configure</span><span class="params">(AuthenticationManagerBuilder auth)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="comment">// è®¾ç½®è‡ªå®šä¹‰çš„userDetailsService</span></span><br><span class="line">        auth.userDetailsService(userDetailsService)</span><br><span class="line">                .passwordEncoder(passwordEncoder());</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">    <span class="doctag">@Autowired</span></span></span><br><span class="line"><span class="comment">    public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception &#123;</span></span><br><span class="line"><span class="comment">        auth</span></span><br><span class="line"><span class="comment">                .inMemoryAuthentication()</span></span><br><span class="line"><span class="comment">                .passwordEncoder(new BCryptPasswordEncoder()).withUser("user").password(new BCryptPasswordEncoder().encode("123456")).roles("test");</span></span><br><span class="line"><span class="comment">    &#125;*/</span></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> PasswordEncoder <span class="title">passwordEncoder</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> BCryptPasswordEncoder();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ·»åŠ æ¨¡æ¿é¡µé¢ï¼š</p>
<ul>
<li>login.html</li>
</ul>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">xmlns</span>=<span class="string">"http://www.w3.org/1999/xhtml"</span> <span class="attr">xmlns:th</span>=<span class="string">"http://www.thymeleaf.org"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">xmlns:sec</span>=<span class="string">"http://www.thymeleaf.org/thymeleaf-extras-springsecurity3"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Spring Security Example <span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">th:if</span>=<span class="string">"$&#123;param.error&#125;"</span>&gt;</span></span><br><span class="line">    Invalid username and password.</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">th:if</span>=<span class="string">"$&#123;param.logout&#125;"</span>&gt;</span></span><br><span class="line">    You have been logged out.</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">th:action</span>=<span class="string">"@&#123;/login&#125;"</span> <span class="attr">method</span>=<span class="string">"post"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">label</span>&gt;</span> ç”¨æˆ·è´¦å· : <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"user"</span>/&gt;</span> <span class="tag">&lt;/<span class="name">label</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">label</span>&gt;</span> ç”¨æˆ·å¯†ç  : <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"password"</span> <span class="attr">name</span>=<span class="string">"passwd"</span>/&gt;</span> <span class="tag">&lt;/<span class="name">label</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">name</span>=<span class="string">"remeber-me"</span> <span class="attr">type</span>=<span class="string">"checkbox"</span>&gt;</span>è®°ä½æˆ‘<span class="tag">&lt;/<span class="name">input</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">value</span>=<span class="string">"ç™»å½•"</span>/&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>home.html</li>
</ul>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">xmlns</span>=<span class="string">"http://www.w3.org/1999/xhtml"</span> <span class="attr">xmlns:th</span>=<span class="string">"http://www.thymeleaf.org"</span> <span class="attr">xmlns:sec</span>=<span class="string">"http://www.thymeleaf.org/thymeleaf-extras-springsecurity3"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Spring Security Example<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>Welcome!<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>Click <span class="tag">&lt;<span class="name">a</span> <span class="attr">th:href</span>=<span class="string">"@&#123;/hello&#125;"</span>&gt;</span>here<span class="tag">&lt;/<span class="name">a</span>&gt;</span> to see a greeting.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>hello.html</li>
</ul>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">xmlns</span>=<span class="string">"http://www.w3.org/1999/xhtml"</span> <span class="attr">xmlns:th</span>=<span class="string">"http://www.thymeleaf.org"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">xmlns:sec</span>=<span class="string">"http://www.thymeleaf.org/thymeleaf-extras-springsecurity3"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Hello World!<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span> <span class="attr">th:inline</span>=<span class="string">"text"</span>&gt;</span>Hello [[$&#123;#httpServletRequest.remoteUser&#125;]]!<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">th:action</span>=<span class="string">"@&#123;/logout&#125;"</span> <span class="attr">method</span>=<span class="string">"post"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">value</span>=<span class="string">"Sign Out"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>403.html</li>
</ul>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">xmlns</span>=<span class="string">"http://www.w3.org/1999/xhtml"</span> <span class="attr">xmlns:th</span>=<span class="string">"http://www.thymeleaf.org"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">xmlns:sec</span>=<span class="string">"http://www.thymeleaf.org/thymeleaf-extras-springsecurity3"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Access Denied<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span> <span class="attr">th:inline</span>=<span class="string">"text"</span>&gt;</span>ç”¨æˆ· [[$&#123;#httpServletRequest.remoteUser&#125;]]ï¼Œä½ æ²¡æœ‰æƒé™è®¿é—®ï¼<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">th:action</span>=<span class="string">"@&#123;/logout&#125;"</span> <span class="attr">method</span>=<span class="string">"post"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">value</span>=<span class="string">"Sign Out"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>ä½¿ç”¨æµ‹è¯•ç”ŸæˆåŠ å¯†åçš„å¯†ç ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Slf</span>4j</span><br><span class="line"><span class="meta">@SpringBootTest</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TestsecApplicationTests</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">contextLoads</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    log.info(<span class="keyword">new</span> BCryptPasswordEncoder().encode(<span class="string">"123456"</span>));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">2020-07-03 15:36:04.513  INFO 6192 --- [           main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!</span></span><br><span class="line"><span class="comment">2020-07-03 15:36:04.520  INFO 6192 --- [           main] c.w.t.testsec.TestsecApplicationTests    : Started TestsecApplicationTests in 4.673 seconds (JVM running for 6.457)</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">2020-07-03 15:36:04.757  INFO 6192 --- [           main] c.w.t.testsec.TestsecApplicationTests    : $2a$10$H8Wb28F9XUiS.TkG0h2RuebIZYT33AqrHMJmb7uXPiRmBHR/MBQ4S</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>æ•°æ®åº“ä¸­æ’å…¥æ•°æ®ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/f4ab68f04d34364e13b69161feb627f7-75749" alt="æ•°æ®åº“"></p>
</li>
</ol>
<h2 id="æµ‹è¯•"><a href="#æµ‹è¯•" class="headerlink" title="æµ‹è¯•"></a>æµ‹è¯•</h2><ol>
<li><p>æ‰“å¼€ç½‘å€ï¼š<a href="http://localhost" target="_blank" rel="noopener">http://localhost</a></p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/e644505681de43238438f5428a7f2d90-110806" alt="ä¸»é¡µ"></p>
</li>
<li><p>ç™»å½•ç•Œé¢ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/04ee0085a9f3e6b58df69d5c4886e74c-122849" alt="ç™»å½•"></p>
</li>
<li><p>adminç™»å½•ï¼ˆå¯†ç ï¼š123456ï¼‰ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/c9e84af6043130c0388098480c232b48-105665" alt="adminç™»å½•"></p>
</li>
<li><p>user1ç™»å½•ï¼ˆå¯†ç ï¼š123456ï¼‰ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/3897d0a3fbae2a6047402b6c2214aa7e-133085" alt="user1ç™»å½•"></p>
</li>
<li><p>å¯ä»¥è®¿é—®<a href="http://localhost/testæŸ¥çœ‹ç”¨æˆ·ç™»å½•ä¿¡æ¯ï¼Œæ¯”å¦‚adminï¼š" target="_blank" rel="noopener">http://localhost/testæŸ¥çœ‹ç”¨æˆ·ç™»å½•ä¿¡æ¯ï¼Œæ¯”å¦‚adminï¼š</a></p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/2fd7da86d68ee32807c5dbc45a61d206-118171" alt="adminä¿¡æ¯"></p>
</li>
</ol>
]]></content>
      <categories>
        <category>SpringBoot</category>
      </categories>
  </entry>
  <entry>
    <title>Team Code</title>
    <url>/2020/04/21/Team-Code/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>æƒ³å¿…å¤§å®¶éƒ½çŸ¥é“ï¼Œä¸€ä¸ªäººä¹Ÿå¯ä»¥è¿›è¡Œè½¯ä»¶å¼€å‘ ï¼Œè‡ªç”±è½¯ä»¶ä»¥åŠå…±äº« è½¯ä»¶çš„å¼€å‘äººå‘˜å¤§å¤šéƒ½æ˜¯ä¸ªäººå¼€å‘è€…  ã€‚åœ¨è½¯ä»¶è§„æ¨¡è¾ƒå°çš„å‰æä¸‹ï¼Œå…¨éƒ¨æµç¨‹ç”±ä¸€ä¸ªäººæŠŠæ§è¿˜æ˜¯å¯èƒ½çš„ã€‚ä½†æ˜¯å¦‚æœè½¯ä»¶çš„è§„æ¨¡è¶…è¿‡ä¸€å®šç¨‹åº¦ ï¼Œç”±å¤šäººç»„æˆå›¢é˜Ÿè¿›è¡Œå¼€å‘æ˜¯éå¸¸æ™®éçš„ã€‚å›¢é˜Ÿå¼€å‘ä¼šé‡åˆ°æ ¼å¼å„æ ·çš„é—®é¢˜ï¼Œæ¯”å¦‚å¤šäººç¼–å†™åŒä¸€ä¸ªäº§å“çš„ä»£ç é€ æˆå¼€å‘å†…å®¹å†²çªç­‰ã€‚             </p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="å›¢é˜Ÿå¼€å‘ç®¡ç†å·¥å…·"><a href="#å›¢é˜Ÿå¼€å‘ç®¡ç†å·¥å…·" class="headerlink" title="å›¢é˜Ÿå¼€å‘ç®¡ç†å·¥å…·"></a>å›¢é˜Ÿå¼€å‘ç®¡ç†å·¥å…·</h2><ol>
<li>ç”¨äºé«˜æ•ˆæ¨è¿›å›¢é˜Ÿå¼€å‘çš„å„ç±»å·¥å…·å’Œæ–¹æ³•æ•°é‡ä¼—å¤š ï¼Œå·¥å…·çš„è¯æœ‰ç‰ˆæœ¬ç®¡ç†ç³»ç»Ÿï¼ˆ Version Control Systemï¼Œ VCSï¼‰å’Œç¼ºé™·ç®¡ç†ç³»ç»Ÿï¼ˆIssue Tracking Systemã€ Bug Tracking Systemï¼Œ ITS/BTSï¼‰ï¼›æ–¹æ³•çš„è¯æœ‰æŒç»­é›†æˆï¼ˆ Continuous Integrationï¼Œ CIï¼‰ä»¥åŠæŒç»­äº¤ä»˜ï¼ˆ Continuous Deliveryï¼Œ CDï¼‰ï¼›         </li>
<li>é¡¹ç›®æ··ä¹±æ˜¯ç”±äºæŸäº›é—®é¢˜é€ æˆçš„ï¼Œå…¶ä¸­ä¸€ä¸ªæ¯”è¾ƒä¸¥é‡çš„é—®é¢˜å°±æ˜¯æ²¡æœ‰å…±äº«ä¿¡æ¯åŠæœ‰æ•ˆç®¡ç†è¯¾é¢˜çš„æœºåˆ¶ ï¼›    </li>
<li>é‡æ„ï¼ˆ refactoringï¼‰æ˜¯æŒ‡è®¡ç®—æœºç¼–ç¨‹ä¸­ï¼Œåœ¨ä¸å½±å“è¾“å‡ºç»“æœçš„å‰æä¸‹å¯¹ä»£ç å†…éƒ¨çš„æ„é€ è¿›è¡Œæ•´ç†ï¼›       </li>
<li>ä½¿ç”¨ç¼ºé™·ç®¡ç†ç³»ç»Ÿè€Œéé‚®ä»¶å¯¹è¯¾é¢˜ã€è¦åšçš„ä»»åŠ¡ã€å‘ç”Ÿçš„æ•…éšœç­‰è¿›è¡Œç»Ÿç­¹ç®¡ç†ï¼Œå…¶ä¸­ï¼Œå¯¹ä¼˜å…ˆåº¦å’Œé‡è¦åº¦è¿›è¡Œæ˜ç¡®åœ°ç®¡ç†ï¼Œä»¥åŠæ¸…æ¥šåœ°æŒæ¡æ¯ä¸€ä¸ª bug ç¥¨çš„çŠ¶æ€ï¼›    </li>
<li>é¦–å…ˆè¦æ­£ç¡®ä½¿ç”¨ç‰ˆæœ¬ç®¡ç†ç³»ç»Ÿï¼Œé¿å…æ— æ„ä¸­å°†ä»–äººçš„ä¿®æ­£è¦†ç›– ï¼Œå…¶æ¬¡è¦åˆç†åœ°ç®¡ç†åˆ†æ”¯ï¼Œæ˜ç¡®æ­£å¼ç¯å¢ƒä¸­ä½¿ç”¨çš„æ˜¯å“ªä¸ªåˆ†æ”¯ï¼Œæœ€è¿‘ä¿®æ­£bug æ‰€ç”¨çš„æ˜¯å“ªä¸ªåˆ†æ”¯ï¼Œæ–°åŠŸèƒ½å¼€å‘ä½¿ç”¨çš„æ˜¯å“ªä¸ªåˆ†æ”¯ï¼›      </li>
<li>é€šè¿‡åˆç†åœ°ç®¡ç†æ ‡ç­¾ï¼Œå°†æŸä¸ªæ—¶é—´ç‚¹å‘å¸ƒçŠ¶æ€çš„æˆªé¢ä¿å­˜ä¸‹æ¥ï¼Œè¿™æ ·æ— è®ºå¤šä¹…ä¹‹å‰çš„çŠ¶æ€éƒ½èƒ½å¤Ÿè¿›è¡Œå›æ»šï¼›       </li>
<li>ç”¨ç‰ˆæœ¬ç®¡ç†ç³»ç»Ÿæ¥ç»Ÿç­¹æ•°æ®åº“çš„å˜æ›´ç®¡ç†å’Œç¯å¢ƒç›¸å…³çš„é…ç½®æ–‡ä»¶çš„ç®¡ç†ï¼›</li>
</ol>
<h2 id="ç‰ˆæœ¬ç®¡ç†"><a href="#ç‰ˆæœ¬ç®¡ç†" class="headerlink" title="ç‰ˆæœ¬ç®¡ç†"></a>ç‰ˆæœ¬ç®¡ç†</h2><ol>
<li><p>åˆç†ã€æœ‰æ•ˆåœ°åˆ©ç”¨ç‰ˆæœ¬ç®¡ç†ç³»ç»Ÿæ˜¯é¡ºåˆ©è¿›è¡Œå›¢é˜Ÿå¼€å‘å¿…ä¸å¯å°‘çš„ã€æœ€åŸºç¡€çš„å·¥ä½œï¼›    </p>
</li>
<li><p>ä½¿ç”¨ç‰ˆæœ¬ç®¡ç†ç³»ç»Ÿçš„ä¼˜ç‚¹ ï¼š</p>
<ol>
<li>èƒ½å¤Ÿä¿ç•™ä¿®æ”¹å†…å®¹è¿™ä¸€æœ€åŸºæœ¬çš„è®°å½• ï¼›</li>
<li>èƒ½å¤Ÿæ–¹ä¾¿åœ°æŸ¥çœ‹ç‰ˆæœ¬ä¹‹é—´çš„å·®å¼‚ ï¼› </li>
<li>èƒ½å¤Ÿé˜²æ­¢é”™è¯¯åœ°è¦†ç›–åˆ«äººä¿®æ”¹çš„ä»£ç  ï¼› </li>
<li>èƒ½å¤Ÿè¿˜åŸåˆ°ä»»æ„æ—¶é—´ç‚¹çš„çŠ¶æ€ ï¼› </li>
<li>èƒ½å¤Ÿç”Ÿæˆå¤šä¸ªæ´¾ç”Ÿï¼ˆåˆ†æ”¯å’Œæ ‡ç­¾ï¼‰ï¼Œä¿ç•™å½“æ—¶é¡¹ç›®çŠ¶æ€çš„æˆªé¢ ã€‚</li>
</ol>
</li>
<li><p>ä½¿ç”¨ svn diffæˆ– git diffè¿™æ ·çš„å‘½ä»¤å°±èƒ½æ–¹ä¾¿åœ°ç¡®è®¤å„ä¸ªç‰ˆæœ¬ä¹‹é—´çš„å·®å¼‚ ï¼›</p>
</li>
<li><p>åˆç†ä½¿ç”¨ç‰ˆæœ¬ç®¡ç†ç³»ç»Ÿéƒ½èƒ½å¤Ÿé˜²æ­¢æ— æ„è¯†åœ°è¦†ç›–ä»–äººä¿®æ”¹çš„ä»£ç  ï¼›  </p>
</li>
<li><p>ç®¡ç†çš„ä¿¡æ¯ä¸»è¦åŒ…æ‹¬ ï¼š</p>
</li>
</ol>
<ul>
<li>ä»£ç   </li>
<li>éœ€æ±‚å®šä¹‰ã€è®¾è®¡èµ„æ–™ç­‰æ–‡æ¡£  </li>
<li>æ•°æ®åº“æ¨¡å¼ã€æ•°æ®  </li>
<li>ä¸­é—´ä»¶ç­‰çš„é…ç½®æ–‡ä»¶  </li>
<li>åº“çš„ä¾èµ–å…³ç³»å®šä¹‰  </li>
</ul>
<ol start="6">
<li>å‘½ä»¤git checkout .æ”¾å¼ƒè‡ªæœ€åä¸€æ¬¡æ äº¤åæ‰€åšçš„æ‰€æœ‰ä¿®æ”¹ï¼Œå°†é¡¹ç›®æ¢å¤åˆ°æœ€åä¸€æ¬¡æäº¤çš„çŠ¶æ€ï¼›</li>
</ol>
<h2 id="ç¼ºé™·ç®¡ç†"><a href="#ç¼ºé™·ç®¡ç†" class="headerlink" title="ç¼ºé™·ç®¡ç†"></a>ç¼ºé™·ç®¡ç†</h2><ol>
<li>é¡¹ç›®â€œè¿›å±•ä¸é¡ºåˆ©ã€ç»“æŸä¸äº†â€çš„åŸå› å„ç§å„æ ·ï¼Œå¤§è‡´æœ‰ä¸‹é¢è¿™äº› ï¼š</li>
</ol>
<ul>
<li>ç›®æ ‡é”™è¯¯  </li>
<li>ä¼°è®¡é”™è¯¯ï¼Œæ—¶é—´è¿‡ç´§ï¼Œäººå‘˜ä¸è¶³  </li>
<li>æ²¡æœ‰å®šä¹‰é¡¹ç›®çš„ç»“æŸ  </li>
<li>æˆå‘˜çš„ç§¯ææ€§ä¸è¶³ï¼Œè¿›åº¦åœæ»ä¸å‰  </li>
</ul>
<ol start="2">
<li>å¤±è´¥çš„é¡¹ç›®çš„å…±åŒç‰¹å¾ï¼š</li>
</ol>
<ul>
<li>é¡¹ç›®æ— æ³•å¯è§†åŒ–  </li>
<li>æ²¡æœ‰è¿›è¡Œä»»åŠ¡æ•´ç†ã€è¿›åº¦ç®¡ç†å’Œä¿¡æ¯å…±äº«ç­‰  </li>
</ul>
<ol start="3">
<li>å¯¼å…¥ç¼ºé™·ç®¡ç†ç³»ç»Ÿçš„ä¼˜ç‚¹ ï¼š</li>
</ol>
<ul>
<li>å…·æœ‰ä»»åŠ¡ç®¡ç†æ‰€éœ€çš„åŸºæœ¬åŠŸèƒ½  </li>
<li>ç›´è§‚æ€§ã€æ£€ç´¢æ€§è¾ƒå¼º  </li>
<li>èƒ½å¤Ÿå¯¹ä¿¡æ¯è¿›è¡Œç»Ÿä¸€ç®¡ç†åŠå…±äº«  </li>
<li>èƒ½å¤Ÿç”Ÿæˆå„ç±»æŠ¥è¡¨  </li>
<li>èƒ½å¤Ÿå’Œå…¶ä»–ç³»ç»Ÿè¿›è¡Œå…³è”ï¼Œå…·æœ‰å¯æ‰©å±•æ€§  </li>
</ul>
<ol start="4">
<li>ä½¿ç”¨ç¼ºé™·ç®¡ç†ç³»ç»Ÿï¼Œä»¥é—®é¢˜ç¥¨ï¼ˆ ticketï¼‰ä¸ºä¸­å¿ƒæ„å»ºå¼€å‘æµç¨‹çš„æ–¹æ³•è®ºç§°ä¸ºç¼ºé™·é©±åŠ¨å¼€å‘ï¼ˆ TiDDï¼‰  ï¼›</li>
<li>ç¼ºé™·ç®¡ç†ç³»ç»Ÿ AåŒ…æ‹¬ OSSï¼ˆ Open Source Softwareï¼‰ä»¥åŠå•†ç”¨è½¯ä»¶åœ¨å†…ï¼Œæœ‰å¾ˆå¤šå¯ä¾›é€‰æ‹©çš„äº§å“ ï¼š</li>
</ol>
<ul>
<li>Trac  </li>
<li>Redmine  </li>
<li>Bugzilla  </li>
<li>Mantis  </li>
<li>JIRA  </li>
<li>YouTRACK  </li>
<li>Pivotalâ€‚Tracker  </li>
<li>Backlog  </li>
<li>GitHub  </li>
</ul>
<h2 id="æŒç»­é›†æˆ-CI"><a href="#æŒç»­é›†æˆ-CI" class="headerlink" title="æŒç»­é›†æˆ(CI)"></a>æŒç»­é›†æˆ(CI)</h2><ol>
<li>å°†å„ä¸ªæˆå‘˜çš„å·¥ä½œæˆæœé›†ä¸­åˆ°ä¸€å¤„è¿›è¡Œé›†æˆï¼Œç›´åˆ°å½¢æˆå¯ä»¥è¿è¡Œçš„ç³»ç»Ÿï¼Œå„ä¸ªæˆå‘˜çš„å¼€å‘å·¥ä½œæ‰æœ‰äº†æ„ä¹‰ï¼Œæ‰èƒ½è¿›è¡Œæµ‹è¯•ï¼Œæœ€ç»ˆæ‰èƒ½ä»¥äº§å“çš„å½¢å¼å‘é¡¾å®¢æä¾›ä»·å€¼;</li>
<li>æ‰§è¡Œbuildå’Œæµ‹è¯•çš„æµç¨‹ï¼š</li>
</ol>
<ul>
<li>å°†æ‰€æœ‰çš„ä»£ç é›†ä¸­åˆ°ä¸€å¤„  </li>
<li>è®¾ç½®ä¾èµ–ç¨‹åºåº“ç­‰çš„è·¯å¾„  </li>
<li>å¿…è¦çš„æƒ…å†µä¸‹è¿›è¡Œç¼–è¯‘  </li>
<li>è¿›è¡Œæ•°æ®åº“æ„å»ºå’Œæ•°æ®åŠ è½½  </li>
<li>å¿…è¦çš„æƒ…å†µä¸‹å¯¹ä¸­é—´ä»¶è¿›è¡Œé…ç½®å’Œå¯åŠ¨  </li>
<li>å®æ–½å•å…ƒæµ‹è¯•ã€é›†æˆæµ‹è¯•ã€ç”¨æˆ·éªŒæ”¶æµ‹è¯•ç­‰  </li>
</ul>
<ol start="3">
<li>å®æ–½CIçš„å¿…è¦æ€§ï¼š</li>
</ol>
<ul>
<li>ç‰ˆæœ¬ç®¡ç†ç³»ç»Ÿ  </li>
<li>build å·¥å…·  </li>
<li>æµ‹è¯•ä»£ç   </li>
<li>CI å·¥å…·  </li>
</ul>
<ol start="4">
<li>è½¯ä»¶æµ‹è¯•åˆ†ç±»ï¼š</li>
</ol>
<ul>
<li>å•å…ƒæµ‹è¯•ï¼ˆUnitâ€‚Testï¼ŒUTï¼‰  </li>
<li>é›†æˆæµ‹è¯•ï¼ˆIntegrationâ€‚Testï¼ŒITï¼‰  </li>
<li>ç”¨æˆ·éªŒæ”¶æµ‹è¯•ï¼ˆUserâ€‚Acceptanceâ€‚Testï¼ŒUATï¼‰  </li>
<li>å›å½’æµ‹è¯•  </li>
</ul>
<ol start="5">
<li>Web åº”ç”¨ç¨‹åºæ–¹é¢ï¼Œ æœ‰ä¸€æ¬¾åä¸º Selenium çš„æ¨¡æ‹Ÿæµè§ˆå™¨åŠ¨ä½œå¹¶è¿›è¡Œæµ‹è¯•çš„è‘—åå·¥å…· ï¼›</li>
<li>Jenkins æ˜¯ä¸€æ¬¾ä¸ºå®æ–½ CI æä¾›æ”¯æŒçš„å·¥å…·ï¼Œé€šè¿‡å’Œå„ç±»æ’ä»¶ç»„åˆä½¿ç”¨ï¼Œå¯ä»¥å®ç°éå¸¸ä¸°å¯Œçš„åŠŸèƒ½ï¼›</li>
</ol>
<hr>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>è¿™éƒ¨åˆ†åªæ˜¯ä»‹ç»ä¸€äº›å›¢é˜Ÿåˆä½œå¼€å‘çš„åŸºç¡€çŸ¥è¯†ï¼Œä»¥åŠå¯¹äºä»£ç ç®¡ç†ä»¥åŠæµ‹è¯•çš„å·¥å…·çš„ä»‹ç»ï¼Œå¦‚æœéœ€è¦æŸäº›å·¥å…·çš„ä½¿ç”¨ï¼Œè¿˜éœ€æ·±å…¥å­¦ä¹ ï¼Œè¿›è¡Œè¯¦ç»†çš„æ€»ç»“ï¼Œæœ‰äº›å…³é”®è¯ä¸æ˜¯è¡Œä¸šçš„ä¸å¤ªæ¸…æ¥šï¼Œä½†æ˜¯é€šè¿‡è¿™ç¯‡æ–‡ç« çš„æ€»ç»“èƒ½å¤§è‡´çŸ¥é“ä¸€äº›å·¥å…·ï¼Œåç»­éœ€è¦çš„æ—¶å€™æ·±å…¥å­¦ä¹ ï¼</p>
]]></content>
      <categories>
        <category>Code</category>
      </categories>
  </entry>
  <entry>
    <title>Vue&amp;SpringBootå‰åç«¯åˆ†ç¦»é¡¹ç›®å¼€å‘</title>
    <url>/2020/07/29/Vue-SpringBoot%E5%89%8D%E5%90%8E%E7%AB%AF%E5%88%86%E7%A6%BB%E9%A1%B9%E7%9B%AE%E5%BC%80%E5%8F%91/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>å‰åç«¯åˆ†ç¦»å·²æˆä¸ºäº’è”ç½‘é¡¹ç›®å¼€å‘çš„ä¸šç•Œæ ‡å‡†ä½¿ç”¨æ–¹å¼ï¼Œä¸ºä»€ä¹ˆè¿›è¡Œå‰åç«¯åˆ†ç¦»ä¹Ÿæ— éœ€å¤šè¨€ï¼Œæœ¬æ–‡ä¸»è¦è®°å½•å‰ç«¯æµè¡Œçš„æ¡†æ¶Vue.jså’Œåç«¯æµè¡Œæ¡†æ¶SpringBootæ•´åˆçš„å‰åç«¯é¡¹ç›®å¼€å‘è¿‡ç¨‹ï¼Œè®°å½•å…¶ä¸­è¸©åˆ°çš„å‘ï¼Œé¿å…åç»­çš„å¼€å‘ä¸­å†æ¬¡é‡‡å‘ï¼</p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="åŸºç¡€çŸ¥è¯†"><a href="#åŸºç¡€çŸ¥è¯†" class="headerlink" title="åŸºç¡€çŸ¥è¯†"></a>åŸºç¡€çŸ¥è¯†</h2><h3 id="å‰åç«¯ä¸åˆ†ç¦»"><a href="#å‰åç«¯ä¸åˆ†ç¦»" class="headerlink" title="å‰åç«¯ä¸åˆ†ç¦»"></a>å‰åç«¯ä¸åˆ†ç¦»</h3><ol>
<li><p>åœ¨å‰åç«¯ä¸åˆ†ç¦»çš„å¼€å‘æ¨¡å¼ä¸­ï¼Œå‰ç«¯é¡µé¢çœ‹åˆ°çš„æ•ˆæœéƒ½æ˜¯ç”±åç«¯æ§åˆ¶ï¼Œç”±åç«¯æ¸²æŸ“é¡µé¢æˆ–é‡å®šå‘ï¼Œä¹Ÿå°±æ˜¯åç«¯éœ€è¦æ§åˆ¶å‰ç«¯çš„å±•ç¤ºï¼Œå‰ç«¯ä¸åç«¯çš„è€¦åˆåº¦å¾ˆé«˜ï¼›</p>
</li>
<li><p>æ¯”è¾ƒé€‚åˆçº¯ç½‘é¡µåº”ç”¨ï¼Œä½†æ˜¯å½“åç«¯å¯¹æ¥Appæ—¶ï¼ŒAppå¯èƒ½å¹¶ä¸éœ€è¦åç«¯è¿”å›ä¸€ä¸ªHTMLç½‘é¡µï¼Œè€Œä»…ä»…æ˜¯æ•°æ®æœ¬èº«ï¼Œå› æ­¤åç«¯åŸæœ¬è¿”å›ç½‘é¡µçš„æ¥å£ä¸å†é€‚ç”¨äºå‰ç«¯Appåº”ç”¨ï¼Œä¸ºäº†å¯¹æ¥Appåç«¯è¿˜éœ€å†å¼€å‘ä¸€å¥—æ¥å£ï¼›</p>
</li>
<li><p>å‰åç«¯ä¸åˆ†ç¦»çš„å¼€å‘é€Ÿåº¦å¯èƒ½è¾ƒå‰åç«¯åˆ†ç¦»çš„å¼€å‘é€Ÿåº¦æ…¢ï¼›</p>
</li>
<li><p>å‰åç«¯ä¸åˆ†ç¦»æƒ…å†µä¸‹çš„æ•°æ®äº¤äº’å¦‚ä¸‹ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/7e9419bce1816632678e9e114ec73b1a-144986" alt="å‰åç«¯ä¸åˆ†ç¦»æ•°æ®äº¤äº’"></p>
</li>
<li><p>æ—©æœŸä¸»è¦ä½¿ç”¨MVCæ¡†æ¶ï¼ŒJsp+Servletçš„ç»“æ„å¦‚ä¸‹ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/e0745df3feaa4de004465634e87303b2-13147" alt="Jsp+Servlet"></p>
<ul>
<li>æ‰€æœ‰çš„è¯·æ±‚éƒ½è¢«å‘é€ç»™ä½œä¸ºæ§åˆ¶å™¨çš„Servletï¼Œå®ƒæ¥å—è¯·æ±‚ï¼Œå¹¶æ ¹æ®è¯·æ±‚ä¿¡æ¯å°†å®ƒä»¬åˆ†å‘ç»™é€‚å½“çš„JSPæ¥å“åº”</li>
<li>JSPå¯ä»¥é€šè¿‡ç›´æ¥è°ƒç”¨æ–¹æ³•æˆ–ä½¿ç”¨UseBeançš„è‡ªå®šä¹‰æ ‡ç­¾å¾—åˆ°JavaBeansä¸­çš„æ•°æ®</li>
<li>Viewå¯ä»¥é‡‡ç”¨ Velocityã€Freemaker ç­‰æ¨¡æ¿å¼•æ“</li>
</ul>
</li>
<li><p>å¼€å‘æ–¹å¼æœ‰å¦‚ä¸‹ä¸¤ç§ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/be1a10747f1b090a7bff612c63f33b59-13724" alt="å¼€å‘æ–¹å¼1"></p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/fa6ef23a558dc719b6d740a9167a72e7-14719" alt="å¼€å‘æ–¹å¼2"></p>
<ul>
<li>å‰ç«¯æ— æ³•å•ç‹¬è°ƒè¯•ï¼Œå¼€å‘æ•ˆç‡ä½</li>
<li>å‰ç«¯ä¸å¯é¿å…ä¼šé‡åˆ°åå°ä»£ç </li>
<li>å‰ç«¯ä¸å¯é¿å…çš„è¦å»å­¦ä¹ æ¨¡æ¿å¼•æ“çš„æ¨¡æ¿è¯­æ³•ï¼Œå¢åŠ äº†å‰ç«¯çš„å­¦ä¹ æˆæœ¬</li>
</ul>
</li>
</ol>
<h3 id="å‰åç«¯åˆ†ç¦»"><a href="#å‰åç«¯åˆ†ç¦»" class="headerlink" title="å‰åç«¯åˆ†ç¦»"></a>å‰åç«¯åˆ†ç¦»</h3><ol>
<li><p>åœ¨å‰åç«¯åˆ†ç¦»çš„å¼€å‘æ¨¡å¼ä¸­ï¼Œåç«¯ä»…è¿”å›å‰ç«¯æ‰€éœ€çš„æ•°æ®ï¼Œä¸å†æ¸²æŸ“HTMLé¡µé¢ï¼Œä¸å†æ§åˆ¶å‰ç«¯çš„æ•ˆæœï¼›</p>
</li>
<li><p>å‰ç«¯ç”¨æˆ·çœ‹åˆ°ä»€ä¹ˆæ•ˆæœï¼Œä»åç«¯è¯·æ±‚çš„æ•°æ®å¦‚ä½•åŠ è½½åˆ°å‰ç«¯ä¸­ï¼Œéƒ½ç”±å‰ç«¯è‡ªå·±å†³å®šï¼Œç½‘é¡µæœ‰ç½‘é¡µçš„å¤„ç†æ–¹å¼ï¼ŒAppæœ‰Appçš„å¤„ç†æ–¹å¼ï¼Œä½†æ— è®ºå“ªç§å‰ç«¯ï¼Œæ‰€éœ€çš„æ•°æ®åŸºæœ¬ç›¸åŒï¼Œåç«¯ä»…éœ€å¼€å‘ä¸€å¥—é€»è¾‘å¯¹å¤–æä¾›æ•°æ®å³å¯ï¼›</p>
</li>
<li><p>åœ¨è¿™ç§å¼€å‘æ¨¡å¼ä¸‹ï¼Œå‰ç«¯ä¸åç«¯çš„è€¦åˆåº¦ç›¸å¯¹è¾ƒä½ï¼›</p>
</li>
<li><p>é€šå¸¸å°†åç«¯å¼€å‘çš„æ¯ä¸ªè§†å›¾éƒ½ç§°ä¸ºä¸€ä¸ªæ¥å£ï¼Œæˆ–è€…APIï¼Œå‰ç«¯é€šè¿‡è®¿é—®æ¥å£æ¥å¯¹æ•°æ®è¿›è¡Œå¢åˆ æ”¹æŸ¥ï¼›</p>
</li>
<li><p>å¯ä»¥å¹¶è¡Œå¼€å‘ï¼Œä½†æ˜¯å­˜åœ¨APIçš„æ»åé—®é¢˜ï¼Œéœ€è¦åè°ƒï¼›</p>
</li>
<li><p>å‰åç«¯åˆ†ç¦»æƒ…å†µä¸‹çš„æ•°æ®äº¤äº’å¦‚ä¸‹ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/619d8cff54d639a8ee24a851cd479325-245380" alt="å‰åç«¯åˆ†ç¦»æ•°æ®äº¤äº’"></p>
</li>
<li><p>å‰åç«¯åˆ†ç¦»ä¸ºå¤§å‹åˆ†å¸ƒå¼æ¶æ„ã€å¼¹æ€§è®¡ç®—æ¶æ„ã€å¾®æœåŠ¡æ¶æ„ã€å¤šç«¯åŒ–æœåŠ¡ï¼ˆå¤šç§å®¢æˆ·ç«¯ï¼Œä¾‹å¦‚ï¼šæµè§ˆå™¨ï¼Œè½¦è½½ç»ˆç«¯ï¼Œå®‰å“ï¼ŒIOSç­‰ç­‰ï¼‰æ‰“ä¸‹åšå®çš„åŸºç¡€ï¼›</p>
</li>
<li><p>æ ¸å¿ƒæ€æƒ³ï¼šå‰ç«¯HTMLé¡µé¢é€šè¿‡AJAXè°ƒç”¨åç«¯çš„RESTFUL APIæ¥å£å¹¶ä½¿ç”¨JSONæ•°æ®è¿›è¡Œäº¤äº’ï¼›</p>
</li>
<li><p>å¤§ä¸­å‹å…¬å¸éœ€è¦ä¸“ä¸šäººæ‰ï¼Œå°å…¬å¸éœ€è¦å…¨æ‰ï¼Œä½†æ˜¯å¯¹äºä¸ªäººèŒä¸šå‘å±•æ¥è¯´ï¼Œå‰åç«¯éœ€è¦åˆ†ç¦»ï¼</p>
</li>
<li><p>å‰åç«¯åˆ†ç¦»éœ€è¦ä»èŒè´£ä¸Šåˆ’åˆ†æ‰èƒ½æ»¡è¶³å¼€å‘æ¨¡å¼ï¼š</p>
<ul>
<li>å‰ç«¯è´Ÿè´£viewå’Œcontrollerå±‚</li>
<li>åç«¯åªè´Ÿè´£modelå±‚ï¼Œä¸šåŠ¡å¤„ç†ä¸æ•°æ®æŒä¹…åŒ–ç­‰</li>
</ul>
</li>
<li><p>å‰ç«¯æ¡†æ¶ä¸»æµçš„æœ‰KnockoutJSã€AngularJSã€VueJSã€ReactJSï¼›</p>
</li>
<li><p>å‰åç«¯åˆ†ç¦»çš„ä¸»è¦è€ƒè™‘å› ç´ ï¼š</p>
<ul>
<li>æå‡ç³»ç»Ÿçš„ä¸šåŠ¡å¤„ç†èƒ½åŠ›</li>
<li>æå‡ç³»ç»Ÿçš„å¯ç”¨æ€§</li>
<li>æå‡ç³»ç»Ÿçš„æ‰©å±•èƒ½åŠ›</li>
<li>æé«˜å¼€å‘æ•ˆç‡</li>
</ul>
</li>
</ol>
<h3 id="å‰åç«¯åˆ†ç¦»ä¸‹çš„é«˜é€Ÿå¼€å‘"><a href="#å‰åç«¯åˆ†ç¦»ä¸‹çš„é«˜é€Ÿå¼€å‘" class="headerlink" title="å‰åç«¯åˆ†ç¦»ä¸‹çš„é«˜é€Ÿå¼€å‘"></a>å‰åç«¯åˆ†ç¦»ä¸‹çš„é«˜é€Ÿå¼€å‘</h3><ol>
<li><p>å‰åç«¯åˆ†ç¦»åä¹‹åå¸¦æ¥çš„ç—›ç‚¹æ˜¯ï¼š</p>
<ul>
<li>æ¥å£ä¼šé¢‘ç¹å˜åŠ¨â€”â€”<strong>è®¾è®¡ä¹‹åˆæ²¡æœ‰æƒ³å¥½</strong>ã€<strong>å˜åŠ¨çš„æˆæœ¬è¾ƒä½</strong></li>
<li>æ¥å£æ–‡æ¡£æ°¸è¿œéƒ½æ˜¯ä¸å¯¹çš„â€”â€”<strong>æ–‡æ¡£å¿…æ°¸è¿œè½åäºå®é™…æ¥å£</strong></li>
<li>æµ‹è¯•å·¥ä½œæ°¸è¿œåªèƒ½ä¸´è¿‘ä¸Šçº¿æ‰èƒ½å¼€å§‹â€”â€”<strong>å¼€å‘é˜¶æ®µæµ‹è¯•æ— æ³•ä»‹å…¥</strong></li>
</ul>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/7153ba4357418a2f3d2608320fcefde5-256153" alt="ç°æœ‰å¼€å‘æµç¨‹"></p>
</li>
<li><p>è§£å†³æ–¹æ¡ˆï¼šè®©æ¥å£æ–‡æ¡£å‘æŒ¥ä»·å€¼ï¼Œæé«˜å˜åŠ¨æ¥å£çš„æˆæœ¬ï¼Œæµ‹è¯•å°½æ—©ä»‹å…¥ï¼</p>
</li>
<li><p>æ¥å£æ–‡æ¡£å‘æŒ¥å‡ºä»·å€¼ï¼Œéœ€è¦èµ‹äºˆå¥‘çº¦ï¼Œå¦‚åŒç­¾å­—ç”»æŠ¼è°ä¹Ÿä¸è®¸å˜ï¼Œåªè®¤å¥‘çº¦ä¸è®¤äººï¼›</p>
</li>
<li><p>å¥‘çº¦å®šå¥½ä¹‹åå°±å¯ä»¥ä½¿ç”¨æ¥å£æ¨¡æ‹Ÿå·¥å…·Mock Serveræ¥è¿›è¡Œå‰åç«¯åˆ†ç¦»å¼€å‘ã€‚Mock Serverå¯ä»¥æš‚æ—¶æ›¿ä»£åå°æœåŠ¡ï¼Œå¸®åŠ©å‰ç«¯äººå‘˜å¼€å‘ï¼ŒåŒæ—¶ï¼Œæµ‹è¯•äººå‘˜ä¹Ÿå¯ä»¥ä¾ç…§å¥‘çº¦æ¥è¿›è¡Œæµ‹è¯•è„šæœ¬çš„ç¼–å†™ï¼Œä½¿ç”¨Mock Serverè¿›è¡Œè„šæœ¬éªŒè¯ï¼›</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/3d37807b6e32315fee63a869af81d1a4-336336" alt="æ”¹è¿›åçš„å¼€å‘æµç¨‹"></p>
</li>
<li><p><a href="https://github.com/xbl/raml-mocker" target="_blank" rel="noopener">raml-mocker</a>æ˜¯ä¸€ä¸ªåŸºäº Raml ä½¿ç”¨ Nodejs å¼€å‘çš„ Mock Server å·¥å…·ï¼Œä½¿ç”¨ Raml æè¿°æ¥å£ä¸­è®¾ç½® response çš„ example æŒ‡ä»¤å³å¯ï¼Œraml-mocker ä¼šè§£æ Raml æ–‡ä»¶ï¼Œå¹¶å¯åŠ¨ä¸€ä¸ª Mock Serverï¼Œå°† example çš„å†…å®¹è¿”å›ç»™æµè§ˆå™¨ï¼›</p>
</li>
<li><p>raml-mockerä½¿ç”¨ï¼š</p>
<ol>
<li><p>åˆå§‹åŒ–é¡¹ç›®ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git clone https://github.com/xbl/raml-mocker-starter.git raml-api</span><br><span class="line">cd raml-api</span><br><span class="line">git remote rm origin</span><br></pre></td></tr></table></figure>
</li>
<li><p>å®‰è£…å¹¶å¯åŠ¨ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">cnpm install</span><br><span class="line">npm start</span><br></pre></td></tr></table></figure>
</li>
<li><p>æµ‹è¯•ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">curl -i http://localhost:3000/api/v1/users/1/books/</span><br><span class="line"><span class="meta">#</span><span class="bash"> or</span></span><br><span class="line">curl -i http://localhost:3000/api/v1/users/1/books/1</span><br></pre></td></tr></table></figure>
</li>
<li><p>é…ç½® .raml-config.json:</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"controller"</span>: <span class="string">"./controller"</span>,</span><br><span class="line">  <span class="attr">"raml"</span>: <span class="string">"./raml"</span>,</span><br><span class="line">  <span class="attr">"main"</span>: <span class="string">"api.raml"</span>,</span><br><span class="line">  <span class="attr">"port"</span>: <span class="number">3000</span>,</span><br><span class="line">  <span class="attr">"plugins"</span>: []</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>controller: controller ç›®å½•è·¯å¾„ï¼Œåœ¨é«˜çº§ç¯‡ä¸­ä¼šæœ‰æ›´è¯¦ç»†è¯´æ˜</li>
<li>raml: raml æ–‡ä»¶ç›®å½•</li>
<li>main: raml ç›®å½•ä¸‹çš„å…¥å£æ–‡ä»¶</li>
<li>port: mock server æœåŠ¡ç«¯å£å·</li>
<li>plugins: æ’ä»¶</li>
</ul>
</li>
<li><p>raml-mocker åªéœ€è¦åœ¨response æ·»åŠ  exampleå°±å¯ä»¥æ·»åŠ æµ‹è¯•æ¥å£ï¼š</p>
<figure class="highlight properties"><table><tr><td class="code"><pre><span class="line"><span class="meta">/books</span>:<span class="string"></span></span><br><span class="line">  <span class="meta">/</span>:<span class="string">id:</span></span><br><span class="line">    <span class="attr">post</span>:<span class="string"></span></span><br><span class="line">      <span class="attr">body</span>:<span class="string"></span></span><br><span class="line">        <span class="meta">application/json</span>:<span class="string"></span></span><br><span class="line">          <span class="attr">type</span>: <span class="string">abc</span></span><br><span class="line">      <span class="attr">responses</span>:<span class="string"></span></span><br><span class="line">        <span class="attr">200</span>:<span class="string"></span></span><br><span class="line">          <span class="attr">body</span>:<span class="string"></span></span><br><span class="line">            <span class="meta">application/json</span>:<span class="string"></span></span><br><span class="line">              <span class="attr">type</span>: <span class="string">song</span></span><br><span class="line"><span class="comment">              # è¿”å›çš„ Mock æ•°æ®</span></span><br><span class="line">              <span class="attr">example</span>: <span class="string">!include ./books_200.json</span></span><br></pre></td></tr></table></figure>

<figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="comment">// books_200.json</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="attr">"code"</span>: <span class="number">200</span>,</span><br><span class="line">  <span class="attr">"data"</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">"id"</span>: <span class="number">1</span>,</span><br><span class="line">      <span class="attr">"title"</span>: <span class="string">"books title"</span>,</span><br><span class="line">      <span class="attr">"description"</span>: <span class="string">"books desccription1"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">"id"</span>: <span class="number">2</span>,</span><br><span class="line">      <span class="attr">"title"</span>: <span class="string">"books title"</span>,</span><br><span class="line">      <span class="attr">"description"</span>: <span class="string">"books desccription2"</span></span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">curl -i http://localhost:3000/api/v1/users/1/books</span><br></pre></td></tr></table></figure>
</li>
<li><p>Raml-mocker è¿˜æä¾›äº†åŠ¨æ€æ•°æ®çš„åŠŸèƒ½ï¼š</p>
<ul>
<li>åœ¨ raml æ–‡æ¡£ä¸­æ·»åŠ  (controller) æŒ‡ä»¤ï¼Œå³å¯æ·»åŠ åŠ¨æ€çš„ Server</li>
</ul>
<figure class="highlight properties"><table><tr><td class="code"><pre><span class="line"><span class="meta">/books</span>:<span class="string"></span></span><br><span class="line">  <span class="attr">type</span>:<span class="string"></span></span><br><span class="line">    <span class="attr">resourceList</span>:<span class="string"></span></span><br><span class="line">  <span class="attr">get</span>:<span class="string"></span></span><br><span class="line">    <span class="attr">description</span>: <span class="string">è·å–ç”¨æˆ·çš„ä¹¦ç±</span></span><br><span class="line">    <span class="meta">(controller)</span>: <span class="string">user#getBook</span></span><br><span class="line">    <span class="attr">responses</span>:<span class="string"></span></span><br><span class="line">      <span class="attr">200</span>:<span class="string"></span></span><br><span class="line">        <span class="attr">body</span>:<span class="string"></span></span><br><span class="line">          <span class="attr">type</span>: <span class="string">song[]</span></span><br><span class="line">          <span class="attr">example</span>: <span class="string">!include ./books_200.json</span></span><br></pre></td></tr></table></figure>

<ul>
<li>åœ¨æ–‡æ¡£ä¸­ (controller) è¡¨ç¤º controller ç›®å½•ä¸‹ user.js ä¸­ getBook å‡½æ•°</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// controller/user.js</span></span><br><span class="line"><span class="comment">// webApi ä¼šè¿”å›æ–‡æ¡£ä¸­çš„é…ç½®</span></span><br><span class="line"><span class="comment">// raml-mocker æä¾›äº†æ›´å¤šå¯æ‰©å±•ç©ºé—´ï¼Œç”šè‡³å¯ä»¥åœ¨ controller ä¸­å®ç°ä¸€å®šçš„é€»è¾‘</span></span><br><span class="line">exports.getBook = <span class="function">(<span class="params">req, res, webApi</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(webApi);</span><br><span class="line">  res.send(<span class="string">'Hello World!'</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>Raml-mocker æä¾›äº†æ’ä»¶æœºåˆ¶ï¼Œå…è®¸æˆ‘ä»¬åœ¨ä¸ä½¿ç”¨ controller æŒ‡ä»¤çš„æ—¶å€™å¯¹ response çš„å†…å®¹è¿›è¡Œå¤„ç†ï¼Œä¾‹å¦‚ä½¿ç”¨ Mockjs</li>
</ul>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="comment">// .raml-config.json</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="attr">"controller"</span>: <span class="string">"./controller"</span>,</span><br><span class="line">  <span class="attr">"raml"</span>: <span class="string">"./raml"</span>,</span><br><span class="line">  <span class="attr">"main"</span>: <span class="string">"api.raml"</span>,</span><br><span class="line">  <span class="attr">"port"</span>: <span class="number">3000</span>,</span><br><span class="line">  <span class="attr">"plugins"</span>: [<span class="string">"./plugins/mock.js"</span>]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ./plugins/mock.js</span></span><br><span class="line"><span class="keyword">var</span> &#123; mock &#125; = <span class="built_in">require</span>(<span class="string">'mockjs'</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = <span class="function">(<span class="params">body</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> mock(<span class="built_in">JSON</span>.parse(body));</span><br><span class="line">  &#125; <span class="keyword">catch</span>(e) &#123;&#125;</span><br><span class="line">  <span class="keyword">return</span> body;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ol>
</li>
</ol>
<h2 id="Vue-amp-SpringBootå‰åç«¯åˆ†ç¦»"><a href="#Vue-amp-SpringBootå‰åç«¯åˆ†ç¦»" class="headerlink" title="Vue&amp;SpringBootå‰åç«¯åˆ†ç¦»"></a>Vue&amp;SpringBootå‰åç«¯åˆ†ç¦»</h2><h3 id="Vueå‰ç«¯Demo"><a href="#Vueå‰ç«¯Demo" class="headerlink" title="Vueå‰ç«¯Demo"></a>Vueå‰ç«¯Demo</h3><ol>
<li><p>å¼€å‘å·¥å…·ç‰ˆæœ¬è¯´æ˜ï¼š</p>
<ul>
<li>nodejsâ€”â€”v12.16.1</li>
<li>@vue/cliâ€”â€”4.4.6</li>
</ul>
</li>
<li><p>æ¨¡æ¿Gitåœ°å€ï¼š<a href="https://github.com/PanJiaChen/vue-element-admin" target="_blank" rel="noopener">https://github.com/PanJiaChen/vue-element-admin</a></p>
</li>
<li><p>æ•´åˆçš„æœ€ç®€å•çš„æ–¹æ³•æ˜¯ç¼–è¯‘æ–‡ä»¶ï¼Œå°†åœ¨distç›®å½•ä¸‹çš„æ–‡ä»¶æ‹·è´åˆ°SpringBooté¡¹ç›®ä¸‹çš„resources/staticç›®å½•ä¸‹ï¼Œé‡æ–°å¯åŠ¨é¡¹ç›®å³å¯</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/b5ec26e1e57a7ffbc3036d2f32f684d2-126573" alt="SpringBootæ•´åˆVue"></p>
</li>
<li><p>ä¿®æ”¹æºç ï¼Œæ·»åŠ åç«¯æ•°æ®è®¿é—®ï¼Œä½¿ç”¨axiosï¼š</p>
<ul>
<li><p>åœ¨vue-element-adminé¡¹ç›®æ ¹ç›®å½•ä¸‹æ·»åŠ æ’ä»¶ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">cnpm install --save axios</span><br><span class="line">cnpm install vue-axios --save</span><br></pre></td></tr></table></figure>
</li>
<li><p>å¼•å…¥æ’ä»¶ï¼ˆmain.jsï¼‰ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">'axios'</span>;</span><br><span class="line"><span class="keyword">import</span> VueAxios <span class="keyword">from</span> <span class="string">'vue-axios'</span>;</span><br><span class="line"><span class="comment">// ä¿®æ”¹axios çš„åŸºç¡€url</span></span><br><span class="line"><span class="comment">//axios.defaults.baseURL = 'http://localhost:8080/'</span></span><br><span class="line">Vue.use(VueAxios, axios)</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä½¿ç”¨æ’ä»¶ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;crumbs&quot;&gt;</span><br><span class="line">            &lt;el-breadcrumb separator&#x3D;&quot;&#x2F;&quot;&gt;</span><br><span class="line">                &lt;el-breadcrumb-item&gt;</span><br><span class="line">                    &lt;i class&#x3D;&quot;el-icon-lx-redpacket_fill&quot;&gt;&lt;&#x2F;i&gt; æ”¯æŒä½œè€…</span><br><span class="line">                &lt;&#x2F;el-breadcrumb-item&gt;</span><br><span class="line">            &lt;&#x2F;el-breadcrumb&gt;</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;container&quot;&gt;</span><br><span class="line">            &lt;div&gt;</span><br><span class="line">                &lt;p&gt;Name: &#123;&#123;yourname&#125;&#125;&lt;&#x2F;p&gt;</span><br><span class="line">                &lt;p&gt;hello: &#123;&#123;yourhello&#125;&#125;&lt;&#x2F;p&gt;</span><br><span class="line">            &lt;&#x2F;div&gt;</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name: &#39;donate&#39;,</span><br><span class="line">    data() &#123;</span><br><span class="line">        return &#123;</span><br><span class="line">            yourname: &#39;&#39;,</span><br><span class="line">            yourhello: &#39;&#39;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    mounted() &#123;</span><br><span class="line">        this.axios.get(&#39;&#x2F;api&#x2F;hello&#39;).then((response)&#x3D;&gt;&#123;</span><br><span class="line">            console.log(response.data)</span><br><span class="line">            this.yourname&#x3D;response.data.name;</span><br><span class="line">            this.yourhello&#x3D;response.data.hello;</span><br><span class="line">        &#125;)</span><br><span class="line">        this.$http.get(&#39;&#x2F;api&#x2F;hello&#39;).then((response)&#x3D;&gt;&#123;</span><br><span class="line">            console.log(&quot;http:&quot; + response.data.toString())</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>å¦‚æœåªæ˜¯é™æ€ç¼–è¯‘åçš„æ‹·è´ï¼Œåªè¦å°†axios.defaults.baseURLä¿®æ”¹ä¸ºåç«¯apiæ¥å£åœ°å€</strong></p>
</li>
<li><p><strong>ä½†æ˜¯è·¨åŸŸçš„è¯ï¼Œè¿™ç§æ–¹å¼å°±ä¸å¯ä»¥äº†ï¼Œéœ€è¦è®¾ç½®vue.config.jsä¸­çš„ä»£ç†,åŒæ—¶ä¸èƒ½è®¾ç½®axios.defaults.baseURLï¼š</strong></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    baseUrl: <span class="string">'./'</span>,</span><br><span class="line">    assetsDir: <span class="string">'static'</span>,</span><br><span class="line">    productionSourceMap: <span class="literal">false</span>,</span><br><span class="line">    devServer: &#123;</span><br><span class="line">        proxy: &#123;</span><br><span class="line">            <span class="string">"/api"</span>: &#123;</span><br><span class="line">                target: <span class="string">"http://localhost:8080/"</span>, <span class="comment">// target host</span></span><br><span class="line">                changeOrigin: <span class="literal">true</span>, <span class="comment">// needed for virtual hosted sites</span></span><br><span class="line">                pathRewrite: &#123;</span><br><span class="line">                    <span class="string">"/api"</span>: <span class="string">"/api"</span> <span class="comment">// rewrite path</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>è·¨åŸŸçš„æ—¶å€™å°±å¯ä»¥è¿›è¡ŒVue+SpringBootå‰åç«¯è”è°ƒäº†</p>
</li>
<li><p><strong>åè®®ã€IPã€ç«¯å£ä¸‰è€…éƒ½ç›¸åŒï¼Œåˆ™ä¸ºåŒæºï¼Œå¦åˆ™å°±æ˜¯è·¨åŸŸ</strong></p>
</li>
</ul>
</li>
</ol>
<h3 id="SpringBootåç«¯"><a href="#SpringBootåç«¯" class="headerlink" title="SpringBootåç«¯"></a>SpringBootåç«¯</h3><ol>
<li><p>ä½¿ç”¨Ideaåˆ›å»ºä¸€ä¸ªå¸¦æœ‰Webçš„åç«¯é¡¹ç›®ï¼›</p>
</li>
<li><p>åˆ›å»ºä¸€ä¸ªè·¯ç”±ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HelloWorld</span> </span>&#123;</span><br><span class="line">    <span class="meta">@GetMapping</span>(<span class="string">"/api/hello"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> HashMap&lt;String,String&gt; <span class="title">Hello</span><span class="params">()</span></span>&#123;</span><br><span class="line">        HashMap&lt;String,String&gt; ret=<span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        ret.put(<span class="string">"hello"</span>,<span class="string">"world"</span>);</span><br><span class="line">        ret.put(<span class="string">"name"</span>,<span class="string">"wander"</span>);</span><br><span class="line">        <span class="keyword">return</span> ret;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>å¯åŠ¨é¡¹ç›®ï¼Œå¹¶æµ‹è¯•ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/8593930bc7cf55b93548e14530427567-20730" alt="SpringBooté¡¹ç›®è¿è¡Œ"></p>
</li>
<li><p>å°†å‰ç«¯çš„ç¼–è¯‘çš„distç›®å½•å†…å®¹æ‹·è´åˆ°resources/staticç›®å½•ä¸‹ï¼Œå†æ¬¡è¿è¡Œï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/3f0178e70b84375c0a16ec0308731f30-141368" alt="å‰åç«¯æ•´åˆ"></p>
</li>
</ol>
<hr>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>ä½¿ç”¨Thymeleafç›´æ¥åœ¨SpringBootè¿›è¡Œçš„å‰åç«¯æ•´åˆé¡¹ç›®çš„å¼€å‘æ‰€æœ‰çš„å¼€å‘éƒ½ç”±ä¸€ä¸ªäººå‘˜å®Œæˆï¼ŒçœŸçš„éå¸¸çš„å¿ƒç´¯ï¼Œéœ€è¦å­¦ä¹ Thymeleafæ¨¡æ¿å¼•æ“è¯­æ³•ï¼Œè¿›è¡Œè¿‡è¿™ä¸ªå¼€å‘ï¼Œéå¸¸ä¸å‹å–„çš„ä½“éªŒï¼Œåœ¨ä¸€ç¯‡æ–‡ç« ä¸­äº†è§£åˆ°Vueå’ŒSpringBootå¯ä»¥è¾ƒå¥½çš„æ•´åˆï¼Œè€Œä¸”Vueæ˜¯éå¸¸ä¼˜ç§€çš„å‰ç«¯æ¡†æ¶ï¼ŒèŠ±ä¸€ç‚¹æ—¶é—´å­¦ä¹ ä¸€ä¸‹è¿˜æ˜¯æ„Ÿè§‰å¾ˆæœ‰æ„ä¹‰çš„ï¼</p>
]]></content>
      <categories>
        <category>Vue</category>
      </categories>
  </entry>
  <entry>
    <title>Vue.jså¿«é€Ÿå…¥é—¨</title>
    <url>/2020/07/14/Vue-js%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>Vue (è¯»éŸ³ /vjuË/ï¼Œç±»ä¼¼äº <strong>view</strong>) æ˜¯ä¸€å¥—ç”¨äºæ„å»ºç”¨æˆ·ç•Œé¢çš„<strong>æ¸è¿›å¼æ¡†æ¶</strong>ï¼ŒVue çš„æ ¸å¿ƒåº“åªå…³æ³¨è§†å›¾å±‚ï¼Œä¸ä»…æ˜“äºä¸Šæ‰‹ï¼Œè¿˜ä¾¿äºä¸ç¬¬ä¸‰æ–¹åº“æˆ–æ—¢æœ‰é¡¹ç›®æ•´åˆã€‚ä¸»è¦æ˜¯ä¹‹å‰çœ‹äº†åšå®¢æœ‰è¿›è¡Œå‰åç«¯åˆ†ç¦»çš„è®¾è®¡ä¸­ä½¿ç”¨Vue+SpringBootæ„å»ºç³»ç»Ÿçº§åº”ç”¨ï¼Œå› æ­¤è¿™é‡Œè®°å½•ä¸€ä¸‹å­¦ä¹ Vueçš„è¿‡ç¨‹ï¼</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/478d9fadb1f2441f2b13dca3f8a583cb-28365" alt="Vueç»„ä»¶"></p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="åŸºç¡€çŸ¥è¯†"><a href="#åŸºç¡€çŸ¥è¯†" class="headerlink" title="åŸºç¡€çŸ¥è¯†"></a>åŸºç¡€çŸ¥è¯†</h2><ol>
<li><p>Vue.js çš„æ ¸å¿ƒæ˜¯ä¸€ä¸ªå…è®¸é‡‡ç”¨ç®€æ´çš„æ¨¡æ¿è¯­æ³•æ¥å£°æ˜å¼åœ°å°†æ•°æ®æ¸²æŸ“è¿› DOM çš„ç³»ç»Ÿï¼Œæ•°æ®å’Œ DOM å·²ç»è¢«å»ºç«‹äº†å…³è”ï¼Œæ‰€æœ‰ä¸œè¥¿éƒ½æ˜¯<strong>å“åº”å¼çš„</strong>ï¼›</p>
</li>
<li><p>ä¸€ä¸ª Vue åº”ç”¨ä¼šå°†å…¶æŒ‚è½½åˆ°ä¸€ä¸ª DOM å…ƒç´ ä¸Šï¼Œç„¶åå¯¹å…¶è¿›è¡Œå®Œå…¨æ§åˆ¶ï¼ŒHTML æ˜¯æˆ‘ä»¬çš„å…¥å£ï¼Œä½†å…¶ä½™éƒ½ä¼šå‘ç”Ÿåœ¨æ–°åˆ›å»ºçš„ Vue å®ä¾‹å†…éƒ¨ï¼›</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div id&#x3D;&quot;vue_det&quot;&gt;</span><br><span class="line">     &lt;span v-bind:title&#x3D;&quot;msg&quot;&gt;</span><br><span class="line">    é¼ æ ‡æ‚¬åœå‡ ç§’é’ŸæŸ¥çœ‹æ­¤å¤„åŠ¨æ€ç»‘å®šçš„æç¤ºä¿¡æ¯ï¼</span><br><span class="line">     &lt;&#x2F;span&gt;</span><br><span class="line">    &lt;h1&gt;site : &#123;&#123;msg&#125;&#125;&lt;&#x2F;h1&gt;</span><br><span class="line">    &lt;div v-html&#x3D;&quot;message&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">    &lt;h1&gt;url : &#123;&#123;url&#125;&#125;&lt;&#x2F;h1&gt;</span><br><span class="line">    &lt;h1&gt;&#123;&#123;details()&#125;&#125;&lt;&#x2F;h1&gt;</span><br><span class="line">    &lt;label for&#x3D;&quot;r1&quot;&gt;ä¿®æ”¹é¢œè‰²&lt;&#x2F;label&gt;&lt;input type&#x3D;&quot;checkbox&quot; v-model&#x3D;&quot;use&quot; id&#x3D;&quot;r1&quot;&gt;</span><br><span class="line">    &lt;br&gt;&lt;br&gt;</span><br><span class="line">    &#123;&#123;5+5&#125;&#125;&lt;br&gt;</span><br><span class="line">    &#123;&#123; ok ? &#39;YES&#39; : &#39;NO&#39; &#125;&#125;&lt;br&gt;</span><br><span class="line">    &#123;&#123; msg.split(&#39;&#39;).reverse().join(&#39;&#39;) &#125;&#125;</span><br><span class="line">    &lt;div v-bind:id&#x3D;&quot;&#39;list-&#39; + id&quot;&gt;&#123;&#123;msg&#125;&#125;&lt;&#x2F;div&gt;</span><br><span class="line">    &lt;p v-if&#x3D;&quot;seen&quot;&gt;ç°åœ¨ä½ çœ‹åˆ°æˆ‘äº†&lt;&#x2F;p&gt;</span><br><span class="line">    &lt;p v-else&gt;ç°åœ¨ä½ çœ‹ä¸åˆ°æˆ‘äº†&lt;&#x2F;p&gt;</span><br><span class="line">    &lt;pre&gt;&lt;a v-bind:href&#x3D;&quot;url&quot;&gt;èœé¸Ÿæ•™ç¨‹&lt;&#x2F;a&gt;&lt;&#x2F;pre&gt;</span><br><span class="line">    &lt;input v-model&#x3D;&quot;message&quot;&gt;</span><br><span class="line">    &lt;button v-on:click&#x3D;&quot;reverseMessage&quot;&gt;åè½¬å­—ç¬¦ä¸²&lt;&#x2F;button&gt;</span><br><span class="line">    &#123;&#123; message | capitalize &#125;&#125;</span><br><span class="line">    &lt;p v-if&#x3D;&quot;type &#x3D;&#x3D;&#x3D; &#39;A&#39;&quot;&gt;</span><br><span class="line">      A</span><br><span class="line">    &lt;&#x2F;p&gt;</span><br><span class="line">    &lt;p v-else-if&#x3D;&quot;type &#x3D;&#x3D;&#x3D; &#39;B&#39;&quot;&gt;</span><br><span class="line">      B</span><br><span class="line">    &lt;&#x2F;p&gt;</span><br><span class="line">    &lt;p v-else-if&#x3D;&quot;type &#x3D;&#x3D;&#x3D; &#39;C&#39;&quot;&gt;</span><br><span class="line">      C</span><br><span class="line">    &lt;&#x2F;p&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line"></span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#39;HelloWorld&#39;,</span><br><span class="line">  data () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      msg: &#39;æ¬¢è¿æ¥åˆ°WanderROS\&#39;s Daily&#39;,</span><br><span class="line">      url: &#39;https:&#x2F;&#x2F;wanderros.github.io&#39;,</span><br><span class="line">      message: &#39;&lt;h1&gt;èœé¸Ÿæ•™ç¨‹&lt;&#x2F;h1&gt;&#39;,</span><br><span class="line">      use: false,</span><br><span class="line">      ok: true,</span><br><span class="line">      id: 1,</span><br><span class="line">      seen: true,</span><br><span class="line">      type: &#39;C&#39;,</span><br><span class="line">      sites: [</span><br><span class="line">        &#123; name: &#39;Runoob&#39; &#125;,</span><br><span class="line">        &#123; name: &#39;Google&#39; &#125;,</span><br><span class="line">        &#123; name: &#39;Taobao&#39; &#125;</span><br><span class="line">      ]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    details: function () &#123;</span><br><span class="line">      return this.msg + &#39;- å­¦çš„ä¸ä»…æ˜¯æŠ€æœ¯ï¼Œæ›´æ˜¯æ¢¦æƒ³!&#39;</span><br><span class="line">    &#125;,</span><br><span class="line">    reverseMessage: function () &#123;</span><br><span class="line">      this.message &#x3D; this.message.split(&#39;&#39;).reverse().join(&#39;&#39;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  filters: &#123;</span><br><span class="line">    capitalize: function (value) &#123;</span><br><span class="line">      if (!value) return &#39;&#39;</span><br><span class="line">      value &#x3D; value.toString()</span><br><span class="line">      return value.charAt(0).toUpperCase() + value.slice(1)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">  #vue_det &#123;</span><br><span class="line">    font-family: &#39;Avenir&#39;, Helvetica, Arial, sans-serif;</span><br><span class="line">    -webkit-font-smoothing: antialiased;</span><br><span class="line">    -moz-osx-font-smoothing: grayscale;</span><br><span class="line">    text-align: center;</span><br><span class="line">    color: #2c3e50;</span><br><span class="line">    margin-top: 60px;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>æŒ‡ä»¤å¸¦æœ‰å‰ç¼€ v-ï¼Œä»¥è¡¨ç¤ºå®ƒä»¬æ˜¯ Vue æä¾›çš„ç‰¹æ®Š attributeï¼Œæ¯”å¦‚v-bindï¼Œè¯¥æŒ‡ä»¤çš„æ„æ€æ˜¯ï¼šâ€œå°†è¿™ä¸ªå…ƒç´ èŠ‚ç‚¹çš„ title attribute å’Œ Vue å®ä¾‹çš„ message property ä¿æŒä¸€è‡´â€ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;span v-bind:title&#x3D;&quot;msg&quot;&gt;</span><br><span class="line">    é¼ æ ‡æ‚¬åœå‡ ç§’é’ŸæŸ¥çœ‹æ­¤å¤„åŠ¨æ€ç»‘å®šçš„æç¤ºä¿¡æ¯ï¼</span><br><span class="line">&lt;&#x2F;span&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>vueçš„forå¾ªç¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div id&#x3D;&quot;vue_det&quot;&gt;</span><br><span class="line">    &lt;ol&gt;</span><br><span class="line">      &lt;li v-for&#x3D;&quot;(todo,index) in todos&quot; v-bind:key&#x3D;&quot;index&quot;&gt;</span><br><span class="line">        &#123;&#123; todo.text &#125;&#125;</span><br><span class="line">        &#123;&#123;index&#125;&#125;</span><br><span class="line">      &lt;&#x2F;li&gt;</span><br><span class="line">    &lt;&#x2F;ol&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#39;HelloWorld&#39;,</span><br><span class="line">  data () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      todos: [</span><br><span class="line">        &#123; text: &#39;å­¦ä¹  JavaScript&#39; &#125;,</span><br><span class="line">        &#123; text: &#39;å­¦ä¹  Vue&#39; &#125;,</span><br><span class="line">        &#123; text: &#39;æ•´ä¸ªç‰›é¡¹ç›®&#39; &#125;</span><br><span class="line">      ]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li>å†™forå¾ªç¯çš„æ—¶å€™ï¼Œä¸€å®šè¦åŠ keyï¼Œä¸åŠ keyä¼šæŠ¥é”™</li>
</ul>
</li>
<li><p>äº‹ä»¶ç›‘å¬ï¼Œå¯ä»¥ç”¨ v-on æŒ‡ä»¤æ·»åŠ ä¸€ä¸ªäº‹ä»¶ç›‘å¬å™¨ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class&#x3D;&quot;vue_test&quot;&gt;</span><br><span class="line">     &lt;p&gt;&#123;&#123; message &#125;&#125;&lt;&#x2F;p&gt;</span><br><span class="line">     &lt;button v-on:click&#x3D;&quot;reverseMessage&quot;&gt;åè½¬æ¶ˆæ¯&lt;&#x2F;button&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#39;HelloWorld&#39;,</span><br><span class="line">  data () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      message: &#39;Hello Vue.js!&#39;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    reverseMessage: function () &#123;</span><br><span class="line">      this.message &#x3D; this.message.split(&#39;&#39;).reverse().join(&#39;&#39;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li>åœ¨ reverseMessage æ–¹æ³•ä¸­ï¼Œæ›´æ–°äº†åº”ç”¨çš„çŠ¶æ€ï¼Œä½†æ²¡æœ‰è§¦ç¢° DOMâ€”â€”æ‰€æœ‰çš„ DOM æ“ä½œéƒ½ç”± Vue æ¥å¤„ç†ï¼Œç¼–å†™çš„ä»£ç åªéœ€è¦å…³æ³¨é€»è¾‘å±‚é¢å³å¯</li>
</ul>
</li>
<li><p>Vue è¿˜æä¾›äº† v-model æŒ‡ä»¤ï¼Œå®ƒèƒ½è½»æ¾å®ç°è¡¨å•è¾“å…¥å’Œåº”ç”¨çŠ¶æ€ä¹‹é—´çš„åŒå‘ç»‘å®šï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class&#x3D;&quot;vue_test&quot;&gt;</span><br><span class="line">     &lt;p&gt;&#123;&#123; message &#125;&#125;&lt;&#x2F;p&gt;</span><br><span class="line">     &lt;input v-model&#x3D;&quot;message&quot;&gt;</span><br><span class="line">     &lt;button v-on:click&#x3D;&quot;reverseMessage&quot;&gt;åè½¬æ¶ˆæ¯&lt;&#x2F;button&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#39;HelloWorld&#39;,</span><br><span class="line">  data () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      message: &#39;Hello Vue.js!&#39;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    reverseMessage: function () &#123;</span><br><span class="line">      this.message &#x3D; this.message.split(&#39;&#39;).reverse().join(&#39;&#39;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>ç»„ä»¶ç³»ç»Ÿæ˜¯ Vue çš„å¦ä¸€ä¸ªé‡è¦æ¦‚å¿µï¼Œæ˜¯ä¸€ç§æŠ½è±¡ï¼Œå…è®¸æˆ‘ä»¬ä½¿ç”¨å°å‹ã€ç‹¬ç«‹å’Œé€šå¸¸å¯å¤ç”¨çš„ç»„ä»¶æ„å»ºå¤§å‹åº”ç”¨ã€‚å‡ ä¹ä»»æ„ç±»å‹çš„åº”ç”¨ç•Œé¢éƒ½å¯ä»¥æŠ½è±¡ä¸ºä¸€ä¸ªç»„ä»¶æ ‘ï¼›</p>
</li>
<li><p>åœ¨ä¸€ä¸ªå¤§å‹åº”ç”¨ä¸­ï¼Œæœ‰å¿…è¦å°†æ•´ä¸ªåº”ç”¨ç¨‹åºåˆ’åˆ†ä¸ºç»„ä»¶ï¼Œä»¥ä½¿å¼€å‘æ›´æ˜“ç®¡ç†ï¼›</p>
</li>
<li><p>Vueä¸­çš„å†…ç½®æŒ‡ä»¤ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">v-bindï¼šåŠ¨æ€ç»‘å®šæ•°æ®ã€‚ç®€å†™ä¸ºâ€œ:â€ ã€‚&#x3D;&gt; ä»¥åçš„:class&#x3D;&quot;&#123;red:boolean&#125;&quot;</span><br><span class="line">v-on ï¼šç»‘å®šæ—¶é—´ç›‘å¬å™¨ã€‚ç®€å†™ä¸ºâ€œ@â€ï¼Œä¾‹ï¼š@click&#x3D;&quot;xxx&quot;ï¼›</span><br><span class="line">v-text ï¼šæ›´æ–°æ•°æ®ï¼Œä¼šè¦†ç›–å·²æœ‰ç»“æ„ã€‚ç±»ä¼¼&#123;&#123; msg &#125;&#125; ï¼›</span><br><span class="line">v-show ï¼šæ ¹æ®å€¼çš„çœŸå‡ï¼Œåˆ‡æ¢å…ƒç´ çš„displayå±æ€§ï¼›</span><br><span class="line">v-if ï¼šæ ¹æ®å€¼çš„çœŸå‡ï¼Œåˆ‡æ¢å…ƒç´ ä¼šè¢«é”€æ¯ã€é‡å»ºï¼› &#x3D;&gt; åœ¨domä¸­å·²æ¶ˆå¤±</span><br><span class="line">v-else-if ï¼šå¤šæ¡ä»¶åˆ¤æ–­ï¼Œä¸ºçœŸåˆ™æ¸²æŸ“ï¼›</span><br><span class="line">v-else ï¼šæ¡ä»¶éƒ½ä¸ç¬¦åˆæ—¶æ¸²æŸ“ï¼›</span><br><span class="line">v-for ï¼šåŸºäºæºæ•°æ®å¤šæ¬¡æ¸²æŸ“å…ƒç´ æˆ–æ¨¡å—ï¼›</span><br><span class="line">v-model ï¼šåœ¨è¡¨å•æ§ä»¶å…ƒç´ ï¼ˆinputç­‰ï¼‰ä¸Šåˆ›å»ºåŒå‘æ•°æ®ç»‘å®šï¼ˆæ•°æ®æºï¼‰ï¼›</span><br><span class="line">v-pre ï¼šè·³è¿‡å…ƒç´ å’Œå­å…ƒç´ çš„ç¼–è¯‘è¿‡ç¨‹ï¼›</span><br><span class="line">v-once ï¼šåªæ¸²æŸ“ä¸€æ¬¡ï¼Œéšåæ•°æ®æ›´æ–°ä¹Ÿä¸é‡æ–°æ¸²æŸ“ï¼›</span><br><span class="line">v-cloak ï¼šéšè—æœªç¼–è¯‘çš„Mustacheè¯­æ³•ï¼Œåœ¨cssä¸­è®¾ç½®[v-cloak]&#123;display:none;&#125;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h2 id="æ¨¡æ¿è¯­æ³•"><a href="#æ¨¡æ¿è¯­æ³•" class="headerlink" title="æ¨¡æ¿è¯­æ³•"></a>æ¨¡æ¿è¯­æ³•</h2><ol>
<li><p>Vue.js ä½¿ç”¨äº†åŸºäº HTML çš„æ¨¡æ¿è¯­æ³•ï¼Œå…è®¸å¼€å‘è€…å£°æ˜å¼åœ°å°† DOM ç»‘å®šè‡³åº•å±‚ Vue å®ä¾‹çš„æ•°æ®ã€‚æ‰€æœ‰ Vue.js çš„æ¨¡æ¿éƒ½æ˜¯åˆæ³•çš„ HTMLï¼Œæ‰€ä»¥èƒ½è¢«éµå¾ªè§„èŒƒçš„æµè§ˆå™¨å’Œ HTML è§£æå™¨è§£æï¼›</p>
</li>
<li><p>åœ¨åº•å±‚çš„å®ç°ä¸Šï¼ŒVue å°†æ¨¡æ¿ç¼–è¯‘æˆè™šæ‹Ÿ DOM æ¸²æŸ“å‡½æ•°ã€‚ç»“åˆå“åº”ç³»ç»Ÿï¼ŒVue èƒ½å¤Ÿæ™ºèƒ½åœ°è®¡ç®—å‡ºæœ€å°‘éœ€è¦é‡æ–°æ¸²æŸ“å¤šå°‘ç»„ä»¶ï¼Œå¹¶æŠŠ DOM æ“ä½œæ¬¡æ•°å‡åˆ°æœ€å°‘ï¼›</p>
</li>
<li><p>æ•°æ®ç»‘å®šæœ€å¸¸è§çš„å½¢å¼å°±æ˜¯ä½¿ç”¨â€œMustacheâ€è¯­æ³• (åŒå¤§æ‹¬å·) çš„æ–‡æœ¬æ’å€¼ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;span&gt;Message: &#123;&#123; msg &#125;&#125;&lt;&#x2F;span&gt;</span><br><span class="line">&lt;span v-once&gt;è¿™ä¸ªå°†ä¸ä¼šæ”¹å˜: &#123;&#123; msg &#125;&#125;&lt;&#x2F;span&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li>Mustache æ ‡ç­¾å°†ä¼šè¢«æ›¿ä»£ä¸ºå¯¹åº”æ•°æ®å¯¹è±¡ä¸Š msg property çš„å€¼ã€‚æ— è®ºä½•æ—¶ï¼Œç»‘å®šçš„æ•°æ®å¯¹è±¡ä¸Š msg property å‘ç”Ÿäº†æ”¹å˜ï¼Œæ’å€¼å¤„çš„å†…å®¹éƒ½ä¼šæ›´æ–°</li>
<li>é€šè¿‡ä½¿ç”¨ v-once æŒ‡ä»¤ï¼Œèƒ½å¤Ÿæ‰§è¡Œä¸€æ¬¡æ€§åœ°æ’å€¼ï¼Œå½“æ•°æ®æ”¹å˜æ—¶ï¼Œæ’å€¼å¤„çš„å†…å®¹ä¸ä¼šæ›´æ–°ã€‚ä½†éœ€è¦æ³¨æ„çš„æ˜¯è¿™ä¼šå½±å“åˆ°è¯¥èŠ‚ç‚¹ä¸Šçš„å…¶å®ƒæ•°æ®ç»‘å®š</li>
</ul>
</li>
<li><p>åŒå¤§æ‹¬å·ä¼šå°†æ•°æ®è§£é‡Šä¸ºæ™®é€šæ–‡æœ¬ï¼Œè€Œé HTML ä»£ç ã€‚ä¸ºäº†è¾“å‡ºçœŸæ­£çš„ HTMLï¼Œä½ éœ€è¦ä½¿ç”¨ v-html æŒ‡ä»¤ï¼›</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;span v-html&#x3D;&quot;rawHtml&quot;&gt;&lt;&#x2F;span&gt;&lt;&#x2F;p&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li>span çš„å†…å®¹å°†ä¼šè¢«æ›¿æ¢æˆä¸º property å€¼ rawHtmlï¼Œç›´æ¥ä½œä¸º HTMLâ€”â€”ä¼šå¿½ç•¥è§£æ property å€¼ä¸­çš„æ•°æ®ç»‘å®š</li>
<li>ç«™ç‚¹ä¸ŠåŠ¨æ€æ¸²æŸ“çš„ä»»æ„ HTML å¯èƒ½ä¼šéå¸¸å±é™©ï¼Œå› ä¸ºå®ƒå¾ˆå®¹æ˜“å¯¼è‡´ XSS æ”»å‡»</li>
</ul>
</li>
<li><p>Mustache è¯­æ³•ä¸èƒ½ä½œç”¨åœ¨ HTML attribute ä¸Šï¼Œé‡åˆ°è¿™ç§æƒ…å†µåº”è¯¥ä½¿ç”¨ v-bind æŒ‡ä»¤ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;div v-bind:id&#x3D;&quot;dynamicId&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">&lt;button v-bind:disabled&#x3D;&quot;isButtonDisabled&quot;&gt;Button&lt;&#x2F;button&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li>å¦‚æœ isButtonDisabled çš„å€¼æ˜¯ nullã€undefined æˆ– falseï¼Œåˆ™ disabled attribute ç”šè‡³ä¸ä¼šè¢«åŒ…å«åœ¨æ¸²æŸ“å‡ºæ¥çš„ &lt;button&gt; å…ƒç´ ä¸­</li>
</ul>
</li>
<li><p>å¯¹äºæ‰€æœ‰çš„æ•°æ®ç»‘å®šï¼ŒVue.js éƒ½æä¾›äº†å®Œå…¨çš„ JavaScript è¡¨è¾¾å¼æ”¯æŒï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;&#123; number + 1 &#125;&#125;</span><br><span class="line">&#123;&#123; ok ? &#39;YES&#39; : &#39;NO&#39; &#125;&#125;</span><br><span class="line">&#123;&#123; message.split(&#39;&#39;).reverse().join(&#39;&#39;) &#125;&#125;</span><br><span class="line">&lt;div v-bind:id&#x3D;&quot;&#39;list-&#39; + id&quot;&gt;&lt;&#x2F;div&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ¯ä¸ªç»‘å®šéƒ½åªèƒ½åŒ…å«å•ä¸ªè¡¨è¾¾å¼</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;!-- è¿™æ˜¯è¯­å¥ï¼Œä¸æ˜¯è¡¨è¾¾å¼ --&gt;</span><br><span class="line">&#123;&#123; var a &#x3D; 1 &#125;&#125;</span><br><span class="line"></span><br><span class="line">&lt;!-- æµæ§åˆ¶ä¹Ÿä¸ä¼šç”Ÿæ•ˆï¼Œè¯·ä½¿ç”¨ä¸‰å…ƒè¡¨è¾¾å¼ --&gt;</span><br><span class="line">&#123;&#123; if (ok) &#123; return message &#125; &#125;&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ¨¡æ¿è¡¨è¾¾å¼éƒ½è¢«æ”¾åœ¨æ²™ç›’ä¸­ï¼Œåªèƒ½è®¿é—®å…¨å±€å˜é‡çš„ä¸€ä¸ªç™½åå•ï¼Œå¦‚ Math å’Œ Date</p>
</li>
<li><p>ä¸åº”è¯¥åœ¨æ¨¡æ¿è¡¨è¾¾å¼ä¸­è¯•å›¾è®¿é—®ç”¨æˆ·å®šä¹‰çš„å…¨å±€å˜é‡</p>
</li>
</ul>
</li>
<li><p>æŒ‡ä»¤ (Directives) æ˜¯å¸¦æœ‰ v- å‰ç¼€çš„ç‰¹æ®Š attributeï¼ŒæŒ‡ä»¤ attribute çš„å€¼é¢„æœŸæ˜¯å•ä¸ª JavaScript è¡¨è¾¾å¼ ã€‚æŒ‡ä»¤çš„èŒè´£æ˜¯ï¼Œå½“è¡¨è¾¾å¼çš„å€¼æ”¹å˜æ—¶ï¼Œå°†å…¶äº§ç”Ÿçš„è¿å¸¦å½±å“ï¼Œå“åº”å¼åœ°ä½œç”¨äº DOMï¼›</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;p v-if&#x3D;&quot;seen&quot;&gt;ç°åœ¨ä½ çœ‹åˆ°æˆ‘äº†&lt;&#x2F;p&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li><p>ä¸€äº›æŒ‡ä»¤èƒ½å¤Ÿæ¥æ”¶ä¸€ä¸ªâ€œå‚æ•°â€ï¼Œåœ¨æŒ‡ä»¤åç§°ä¹‹åä»¥å†’å·è¡¨ç¤º</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;!-- åœ¨è¿™é‡Œ href æ˜¯å‚æ•°ï¼Œå‘ŠçŸ¥ v-bind æŒ‡ä»¤å°†è¯¥å…ƒç´ çš„ href attribute ä¸è¡¨è¾¾å¼ url çš„å€¼ç»‘å®š --&gt;</span><br><span class="line">&lt;a v-bind:href&#x3D;&quot;url&quot;&gt;...&lt;&#x2F;a&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>v-on æŒ‡ä»¤ï¼Œç”¨äºç›‘å¬ DOM äº‹ä»¶</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;!-- å‚æ•°æ˜¯ç›‘å¬çš„äº‹ä»¶å --&gt;</span><br><span class="line">&lt;a v-on:click&#x3D;&quot;doSomething&quot;&gt;...&lt;&#x2F;a&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä» 2.6.0 å¼€å§‹ï¼Œå¯ä»¥ç”¨æ–¹æ‹¬å·æ‹¬èµ·æ¥çš„ JavaScript è¡¨è¾¾å¼ä½œä¸ºä¸€ä¸ªæŒ‡ä»¤çš„å‚æ•°</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;!-- æ³¨æ„ï¼Œå‚æ•°è¡¨è¾¾å¼çš„å†™æ³•å­˜åœ¨ä¸€äº›çº¦æŸ --&gt;</span><br><span class="line">&lt;!-- è¿™é‡Œçš„ attributeName ä¼šè¢«ä½œä¸ºä¸€ä¸ª JavaScript è¡¨è¾¾å¼è¿›è¡ŒåŠ¨æ€æ±‚å€¼ï¼Œæ±‚å¾—çš„å€¼å°†ä¼šä½œä¸ºæœ€ç»ˆçš„å‚æ•°æ¥ä½¿ç”¨ --&gt;</span><br><span class="line">&lt;a v-bind:[attributeName]&#x3D;&quot;url&quot;&gt; ... &lt;&#x2F;a&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>å¯ä»¥ä½¿ç”¨åŠ¨æ€å‚æ•°ä¸ºä¸€ä¸ªåŠ¨æ€çš„äº‹ä»¶åç»‘å®šå¤„ç†å‡½æ•°</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;!-- å½“ eventName çš„å€¼ä¸º &quot;focus&quot; æ—¶ï¼Œv-on:[eventName] å°†ç­‰ä»·äº v-on:focus --&gt;</span><br><span class="line">&lt;a v-on:[eventName]&#x3D;&quot;doSomething&quot;&gt; ... &lt;&#x2F;a&gt;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>åŠ¨æ€å‚æ•°é¢„æœŸä¼šæ±‚å‡ºä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå¼‚å¸¸æƒ…å†µä¸‹å€¼ä¸º nullã€‚è¿™ä¸ªç‰¹æ®Šçš„ null å€¼å¯ä»¥è¢«æ˜¾æ€§åœ°ç”¨äºç§»é™¤ç»‘å®šã€‚ä»»ä½•å…¶å®ƒéå­—ç¬¦ä¸²ç±»å‹çš„å€¼éƒ½å°†ä¼šè§¦å‘ä¸€ä¸ªè­¦å‘Šï¼›</p>
</li>
<li><p>åŠ¨æ€å‚æ•°è¡¨è¾¾å¼æœ‰ä¸€äº›è¯­æ³•çº¦æŸï¼Œå› ä¸ºæŸäº›å­—ç¬¦ï¼Œå¦‚ç©ºæ ¼å’Œå¼•å·ï¼Œæ”¾åœ¨ HTML attribute åé‡Œæ˜¯æ— æ•ˆçš„ï¼›</p>
</li>
<li><p>åœ¨ DOM ä¸­ä½¿ç”¨æ¨¡æ¿æ—¶ (ç›´æ¥åœ¨ä¸€ä¸ª HTML æ–‡ä»¶é‡Œæ’°å†™æ¨¡æ¿)ï¼Œè¿˜éœ€è¦é¿å…ä½¿ç”¨å¤§å†™å­—ç¬¦æ¥å‘½åé”®åï¼Œå› ä¸ºæµè§ˆå™¨ä¼šæŠŠ attribute åå…¨éƒ¨å¼ºåˆ¶è½¬ä¸ºå°å†™ï¼›</p>
</li>
<li><p>ä¿®é¥°ç¬¦ (modifier) æ˜¯ä»¥åŠè§’å¥å· . æŒ‡æ˜çš„ç‰¹æ®Šåç¼€ï¼Œç”¨äºæŒ‡å‡ºä¸€ä¸ªæŒ‡ä»¤åº”è¯¥ä»¥ç‰¹æ®Šæ–¹å¼ç»‘å®šã€‚ä¾‹å¦‚ï¼Œ.prevent ä¿®é¥°ç¬¦å‘Šè¯‰ v-on æŒ‡ä»¤å¯¹äºè§¦å‘çš„äº‹ä»¶è°ƒç”¨ event.preventDefault()ï¼›</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;form v-on:submit.prevent&#x3D;&quot;onSubmit&quot;&gt;...&lt;&#x2F;form&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>åœ¨æ„å»ºç”± Vue ç®¡ç†æ‰€æœ‰æ¨¡æ¿çš„å•é¡µé¢åº”ç”¨ç¨‹åº (SPA - single page application) æ—¶ï¼Œv- å‰ç¼€ä¹Ÿå˜å¾—æ²¡é‚£ä¹ˆé‡è¦äº†ã€‚å› æ­¤ï¼ŒVue ä¸º v-bind å’Œ v-on è¿™ä¸¤ä¸ªæœ€å¸¸ç”¨çš„æŒ‡ä»¤ï¼Œæä¾›äº†ç‰¹å®šç®€å†™ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;!-- å®Œæ•´è¯­æ³• --&gt;</span><br><span class="line">&lt;a v-bind:href&#x3D;&quot;url&quot;&gt;...&lt;&#x2F;a&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- ç¼©å†™ --&gt;</span><br><span class="line">&lt;a :href&#x3D;&quot;url&quot;&gt;...&lt;&#x2F;a&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- åŠ¨æ€å‚æ•°çš„ç¼©å†™ (2.6.0+) --&gt;</span><br><span class="line">&lt;a :[key]&#x3D;&quot;url&quot;&gt; ... &lt;&#x2F;a&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- å®Œæ•´è¯­æ³• --&gt;</span><br><span class="line">&lt;a v-on:click&#x3D;&quot;doSomething&quot;&gt;...&lt;&#x2F;a&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- ç¼©å†™ --&gt;</span><br><span class="line">&lt;a @click&#x3D;&quot;doSomething&quot;&gt;...&lt;&#x2F;a&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- åŠ¨æ€å‚æ•°çš„ç¼©å†™ (2.6.0+) --&gt;</span><br><span class="line">&lt;a @[event]&#x3D;&quot;doSomething&quot;&gt; ... &lt;&#x2F;a&gt;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h2 id="è®¡ç®—å±æ€§"><a href="#è®¡ç®—å±æ€§" class="headerlink" title="è®¡ç®—å±æ€§"></a>è®¡ç®—å±æ€§</h2><ol>
<li><p>è®¾è®¡æ¨¡æ¿çš„åˆè¡·æ˜¯ç”¨äºç®€å•è¿ç®—çš„ï¼Œåœ¨æ¨¡æ¿ä¸­æ”¾å…¥å¤ªå¤šçš„é€»è¾‘ä¼šè®©æ¨¡æ¿è¿‡é‡ä¸”éš¾ä»¥ç»´æŠ¤ã€‚å¯¹äºä»»ä½•å¤æ‚é€»è¾‘ï¼Œéƒ½åº”å½“ä½¿ç”¨è®¡ç®—å±æ€§ï¼›</p>
</li>
<li><p>è®¡ç®—å±æ€§ç¤ºä¾‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class&#x3D;&quot;vue_test&quot;&gt;</span><br><span class="line">    &lt;p&gt;Original message: &quot;&#123;&#123; message &#125;&#125;&quot;&lt;&#x2F;p&gt;</span><br><span class="line">    &lt;p&gt;Computed reversed message: &quot;&#123;&#123; reversedMessage &#125;&#125;&quot;&lt;&#x2F;p&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#39;HelloWorld&#39;,</span><br><span class="line">  data () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      message: &#39;Hello Vue.js!&#39;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  computed: &#123;</span><br><span class="line">    &#x2F;&#x2F; è®¡ç®—å±æ€§çš„ getter</span><br><span class="line">    reversedMessage: function () &#123;</span><br><span class="line">      return this.message.split(&#39;&#39;).reverse().join(&#39;&#39;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li>è¿™é‡Œæˆ‘ä»¬å£°æ˜äº†ä¸€ä¸ªè®¡ç®—å±æ€§ reversedMessage</li>
<li>reversedMessage ä¾èµ–äº messageï¼Œå› æ­¤å½“ message å‘ç”Ÿæ”¹å˜æ—¶ï¼Œæ‰€æœ‰ä¾èµ– reversedMessage çš„ç»‘å®šä¹Ÿä¼šæ›´æ–°</li>
<li><strong>å¯ä»¥é€šè¿‡åœ¨è¡¨è¾¾å¼ä¸­è°ƒç”¨æ–¹æ³•æ¥è¾¾åˆ°åŒæ ·çš„æ•ˆæœ</strong></li>
</ul>
</li>
<li><p>è®¡ç®—å±æ€§æ˜¯åŸºäºå®ƒä»¬çš„å“åº”å¼ä¾èµ–è¿›è¡Œç¼“å­˜çš„ã€‚åªåœ¨ç›¸å…³å“åº”å¼ä¾èµ–å‘ç”Ÿæ”¹å˜æ—¶å®ƒä»¬æ‰ä¼šé‡æ–°æ±‚å€¼ï¼›è€Œæ¯å½“è§¦å‘é‡æ–°æ¸²æŸ“æ—¶ï¼Œè°ƒç”¨æ–¹æ³•å°†<strong>æ€»ä¼š</strong>å†æ¬¡æ‰§è¡Œå‡½æ•°ï¼›</p>
</li>
<li><p>Vue æä¾›äº†ä¸€ç§æ›´é€šç”¨çš„æ–¹å¼æ¥è§‚å¯Ÿå’Œå“åº” Vue å®ä¾‹ä¸Šçš„æ•°æ®å˜åŠ¨ï¼šä¾¦å¬å±æ€§ï¼›</p>
</li>
<li><p>è®¡ç®—å±æ€§é»˜è®¤åªæœ‰ getterï¼Œä¸è¿‡åœ¨éœ€è¦æ—¶ä½ ä¹Ÿå¯ä»¥æä¾›ä¸€ä¸ª setterï¼›</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class&#x3D;&quot;vue_test&quot;&gt;</span><br><span class="line">    &lt;p&gt;Original message: &quot;&#123;&#123; message &#125;&#125;&quot;&lt;&#x2F;p&gt;</span><br><span class="line">    &lt;p&gt;Computed reversed message: &quot;&#123;&#123; reversedMessage &#125;&#125;&quot;&lt;&#x2F;p&gt;</span><br><span class="line">    &lt;p&gt;Reversed message: &quot;&#123;&#123; reversedMessage2() &#125;&#125;&quot;&lt;&#x2F;p&gt;</span><br><span class="line">    &lt;div id&#x3D;&quot;demo&quot;&gt;&#123;&#123; fullName &#125;&#125;&lt;&#x2F;div&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#39;HelloWorld&#39;,</span><br><span class="line">  data () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      firstName: &#39;Foo&#39;,</span><br><span class="line">      lastName: &#39;Bar&#39;,</span><br><span class="line">      message: &#39;Hello Vue.js!&#39;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    reversedMessage2: function () &#123;</span><br><span class="line">      return this.message.split(&#39;&#39;).reverse().join(&#39;&#39;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  computed: &#123;</span><br><span class="line">    fullName: &#123;</span><br><span class="line">      &#x2F;&#x2F; getter</span><br><span class="line">      get: function () &#123;</span><br><span class="line">        return this.firstName + &#39; &#39; + this.lastName</span><br><span class="line">      &#125;,</span><br><span class="line">      &#x2F;&#x2F; setter</span><br><span class="line">      set: function (newValue) &#123;</span><br><span class="line">        var names &#x3D; newValue.split(&#39; &#39;)</span><br><span class="line">        this.firstName &#x3D; names[0]</span><br><span class="line">        this.lastName &#x3D; names[names.length - 1]</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>è™½ç„¶è®¡ç®—å±æ€§åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹æ›´åˆé€‚ï¼Œä½†æœ‰æ—¶ä¹Ÿéœ€è¦ä¸€ä¸ªè‡ªå®šä¹‰çš„ä¾¦å¬å™¨ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆ Vue é€šè¿‡ watch é€‰é¡¹æä¾›äº†ä¸€ä¸ªæ›´é€šç”¨çš„æ–¹æ³•ï¼Œæ¥å“åº”æ•°æ®çš„å˜åŒ–ã€‚å½“éœ€è¦åœ¨æ•°æ®å˜åŒ–æ—¶æ‰§è¡Œå¼‚æ­¥æˆ–å¼€é”€è¾ƒå¤§çš„æ“ä½œæ—¶ï¼Œè¿™ä¸ªæ–¹å¼æ˜¯æœ€æœ‰ç”¨çš„ï¼›</p>
</li>
</ol>
<h2 id="æ¡ä»¶æ¸²æŸ“"><a href="#æ¡ä»¶æ¸²æŸ“" class="headerlink" title="æ¡ä»¶æ¸²æŸ“"></a>æ¡ä»¶æ¸²æŸ“</h2><ol>
<li><p>v-if æŒ‡ä»¤ç”¨äºæ¡ä»¶æ€§åœ°æ¸²æŸ“ä¸€å—å†…å®¹ï¼Œè¿™å—å†…å®¹åªä¼šåœ¨æŒ‡ä»¤çš„è¡¨è¾¾å¼è¿”å› truthy å€¼çš„æ—¶å€™è¢«æ¸²æŸ“ï¼Œä¹Ÿå¯ä»¥ç”¨ v-else æ·»åŠ ä¸€ä¸ªâ€œelse å—â€ï¼›</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class&#x3D;&quot;vue_test&quot;&gt;</span><br><span class="line">    &lt;h1 v-if&#x3D;&quot;awesome&quot;&gt;Vue is awesome!&lt;&#x2F;h1&gt;</span><br><span class="line">    &lt;h1 v-else&gt;Oh no ğŸ˜¢&lt;&#x2F;h1&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#39;HelloWorld&#39;,</span><br><span class="line">  data () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      awesome: false</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>åœ¨ &lt;template&gt; å…ƒç´ ä¸Šä½¿ç”¨ v-if æ¡ä»¶æ¸²æŸ“åˆ†ç»„ï¼Œå¦‚æœæƒ³åˆ‡æ¢å¤šä¸ªå…ƒç´ ï¼Œå¯ä»¥æŠŠä¸€ä¸ª &lt;template&gt; å…ƒç´ å½“åšä¸å¯è§çš„åŒ…è£¹å…ƒç´ ï¼Œå¹¶åœ¨ä¸Šé¢ä½¿ç”¨ v-ifï¼›</p>
</li>
<li><p>v-else å…ƒç´ å¿…é¡»ç´§è·Ÿåœ¨å¸¦ v-if æˆ–è€… v-else-if çš„å…ƒç´ çš„åé¢ï¼Œå¦åˆ™å®ƒå°†ä¸ä¼šè¢«è¯†åˆ«ï¼›</p>
</li>
<li><p>v-else-ifï¼Œé¡¾åæ€ä¹‰ï¼Œå……å½“ v-if çš„â€œelse-if å—â€ï¼Œå¯ä»¥è¿ç»­ä½¿ç”¨ï¼›</p>
</li>
<li><p>Vue ä¼šå°½å¯èƒ½é«˜æ•ˆåœ°æ¸²æŸ“å…ƒç´ ï¼Œé€šå¸¸ä¼šå¤ç”¨å·²æœ‰å…ƒç´ è€Œä¸æ˜¯ä»å¤´å¼€å§‹æ¸²æŸ“ã€‚è¿™ä¹ˆåšé™¤äº†ä½¿ Vue å˜å¾—éå¸¸å¿«ä¹‹å¤–ï¼Œè¿˜æœ‰å…¶å®ƒä¸€äº›å¥½å¤„ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;template v-if&#x3D;&quot;loginType &#x3D;&#x3D;&#x3D; &#39;username&#39;&quot;&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;label&gt;Username&lt;&#x2F;label&gt;</span><br><span class="line">    &lt;input placeholder&#x3D;&quot;Enter your username&quot; key&#x3D;&quot;username-input&quot;&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line">&lt;template v-else&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;label&gt;Email&lt;&#x2F;label&gt;</span><br><span class="line">    &lt;input placeholder&#x3D;&quot;Enter your email address&quot; key&#x3D;&quot;email-input&quot;&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li>ä¸Šé¢çš„ä»£ç ä¸­åˆ‡æ¢ loginType å°†ä¸ä¼šæ¸…é™¤ç”¨æˆ·å·²ç»è¾“å…¥çš„å†…å®¹</li>
</ul>
</li>
<li><p>v-show æŒ‡ä»¤ç”¨äºæ ¹æ®æ¡ä»¶å±•ç¤ºå…ƒç´ çš„é€‰é¡¹ï¼Œå¸¦æœ‰ v-show çš„å…ƒç´ å§‹ç»ˆä¼šè¢«æ¸²æŸ“å¹¶ä¿ç•™åœ¨ DOM ä¸­ï¼›</p>
<ul>
<li>v-show ä¸æ”¯æŒ &lt;template&gt; å…ƒç´ ï¼Œä¹Ÿä¸æ”¯æŒ v-else</li>
</ul>
</li>
<li><p>v-show ä¸ç®¡åˆå§‹æ¡ä»¶æ˜¯ä»€ä¹ˆï¼Œå…ƒç´ æ€»æ˜¯ä¼šè¢«æ¸²æŸ“ï¼Œå¹¶ä¸”åªæ˜¯ç®€å•åœ°åŸºäº CSS è¿›è¡Œåˆ‡æ¢ï¼›</p>
</li>
<li><p>ä¸æ¨èåŒæ—¶ä½¿ç”¨ v-if å’Œ v-forï¼Œå½“ v-if ä¸ v-for ä¸€èµ·ä½¿ç”¨æ—¶ï¼Œv-for å…·æœ‰æ¯” v-if æ›´é«˜çš„ä¼˜å…ˆçº§ï¼›</p>
</li>
<li><p>ä¸€èˆ¬æ¥è¯´ï¼Œv-if æœ‰æ›´é«˜çš„åˆ‡æ¢å¼€é”€ï¼Œè€Œ v-show æœ‰æ›´é«˜çš„åˆå§‹æ¸²æŸ“å¼€é”€ã€‚å› æ­¤ï¼Œå¦‚æœéœ€è¦éå¸¸é¢‘ç¹åœ°åˆ‡æ¢ï¼Œåˆ™ä½¿ç”¨ v-show è¾ƒå¥½ï¼›å¦‚æœåœ¨è¿è¡Œæ—¶æ¡ä»¶å¾ˆå°‘æ”¹å˜ï¼Œåˆ™ä½¿ç”¨ v-if è¾ƒå¥½!</p>
</li>
</ol>
<h2 id="åˆ—è¡¨æ¸²æŸ“"><a href="#åˆ—è¡¨æ¸²æŸ“" class="headerlink" title="åˆ—è¡¨æ¸²æŸ“"></a>åˆ—è¡¨æ¸²æŸ“</h2><ol>
<li><p>v-for æŒ‡ä»¤éœ€è¦ä½¿ç”¨ item in items å½¢å¼çš„ç‰¹æ®Šè¯­æ³•ï¼Œå…¶ä¸­ items æ˜¯æºæ•°æ®æ•°ç»„ï¼Œè€Œ item åˆ™æ˜¯è¢«è¿­ä»£çš„æ•°ç»„å…ƒç´ çš„åˆ«åï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;ul id&#x3D;&quot;example-1&quot;&gt;</span><br><span class="line">    &lt;li v-for&#x3D;&quot;item in items&quot; v-bind:key&#x3D;&quot;item.message&quot;&gt;</span><br><span class="line">      &#123;&#123; item.message &#125;&#125;</span><br><span class="line">    &lt;&#x2F;li&gt;</span><br><span class="line">  &lt;&#x2F;ul&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#39;HelloWorld&#39;,</span><br><span class="line">  data () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      items: [</span><br><span class="line">        &#123; message: &#39;hello&#39; &#125;,</span><br><span class="line">        &#123; message: &#39;world&#39; &#125;</span><br><span class="line">      ]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>v-for è¿˜æ”¯æŒä¸€ä¸ªå¯é€‰çš„ç¬¬äºŒä¸ªå‚æ•°ï¼Œå³å½“å‰é¡¹çš„ç´¢å¼•ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;ul id&#x3D;&quot;example-2&quot;&gt;</span><br><span class="line">    &lt;li v-for&#x3D;&quot;(item, index) in items&quot; v-bind:key&#x3D;&quot;item.message&quot;&gt;</span><br><span class="line">      &#123;&#123; index &#125;&#125; - &#123;&#123; item.message &#125;&#125;</span><br><span class="line">    &lt;&#x2F;li&gt;</span><br><span class="line">  &lt;&#x2F;ul&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#39;HelloWorld&#39;,</span><br><span class="line">  data () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      items: [</span><br><span class="line">        &#123; message: &#39;hello&#39; &#125;,</span><br><span class="line">        &#123; message: &#39;world&#39; &#125;</span><br><span class="line">      ]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>Vue å°†è¢«ä¾¦å¬çš„æ•°ç»„çš„å˜æ›´æ–¹æ³•è¿›è¡Œäº†åŒ…è£¹ï¼Œæ‰€ä»¥å®ƒä»¬ä¹Ÿå°†ä¼šè§¦å‘è§†å›¾æ›´æ–°ã€‚è¿™äº›è¢«åŒ…è£¹è¿‡çš„æ–¹æ³•åŒ…æ‹¬ï¼š</p>
<ul>
<li>push()</li>
<li>pop()</li>
<li>shift()</li>
<li>unshift()</li>
<li>splice()</li>
<li>sort()</li>
<li>reverse()</li>
</ul>
</li>
<li><p>ä¸Šè¿°æ–¹æ³•ä¸ä¼šå˜æ›´åŸå§‹æ•°ç»„ï¼Œè€Œæ€»æ˜¯è¿”å›ä¸€ä¸ªæ–°æ•°ç»„ï¼›</p>
</li>
</ol>
<h2 id="ç›‘å¬äº‹ä»¶"><a href="#ç›‘å¬äº‹ä»¶" class="headerlink" title="ç›‘å¬äº‹ä»¶"></a>ç›‘å¬äº‹ä»¶</h2><ol>
<li><p>ç”¨ v-on æŒ‡ä»¤ç›‘å¬ DOM äº‹ä»¶ï¼Œå¹¶åœ¨è§¦å‘æ—¶è¿è¡Œä¸€äº› JavaScript ä»£ç ï¼›</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">  &lt;button v-on:click&#x3D;&quot;counter +&#x3D; 1&quot;&gt;Add 1&lt;&#x2F;button&gt;</span><br><span class="line">  &lt;p&gt;The button above has been clicked &#123;&#123; counter &#125;&#125; times.&lt;&#x2F;p&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#39;HelloWorld&#39;,</span><br><span class="line">  data () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      counter: 0</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>v-on è¿˜å¯ä»¥æ¥æ”¶ä¸€ä¸ªéœ€è¦è°ƒç”¨çš„æ–¹æ³•åç§°ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">  &lt;button v-on:click&#x3D;&quot;counter +&#x3D; 1&quot;&gt;Add 1&lt;&#x2F;button&gt;</span><br><span class="line">  &lt;button v-on:click&#x3D;&quot;greet&quot;&gt;Greet&lt;&#x2F;button&gt;</span><br><span class="line">  &lt;p&gt;The button above has been clicked &#123;&#123; counter &#125;&#125; times.&lt;&#x2F;p&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#39;HelloWorld&#39;,</span><br><span class="line">  data () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      counter: 0,</span><br><span class="line">      name: &#39;wander&#39;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    greet: function (event) &#123;</span><br><span class="line">      &#x2F;&#x2F; &#96;this&#96; åœ¨æ–¹æ³•é‡ŒæŒ‡å‘å½“å‰ Vue å®ä¾‹</span><br><span class="line">      alert(&#39;Hello &#39; + this.name + &#39;!&#39;)</span><br><span class="line">      &#x2F;&#x2F; &#96;event&#96; æ˜¯åŸç”Ÿ DOM äº‹ä»¶</span><br><span class="line">      if (event) &#123;</span><br><span class="line">        alert(event.target.tagName)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>å¯ä»¥åœ¨å†…è” JavaScript è¯­å¥ä¸­è°ƒç”¨æ–¹æ³•ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">  &lt;button v-on:click&#x3D;&quot;counter +&#x3D; 1&quot;&gt;Add 1&lt;&#x2F;button&gt;</span><br><span class="line">  &lt;button v-on:click&#x3D;&quot;greet&quot;&gt;Greet&lt;&#x2F;button&gt;</span><br><span class="line">  &lt;button v-on:click&#x3D;&quot;say(&#39;hi&#39;)&quot;&gt;Say hi&lt;&#x2F;button&gt;</span><br><span class="line">  &lt;button v-on:click&#x3D;&quot;say(&#39;what&#39;)&quot;&gt;Say what&lt;&#x2F;button&gt;</span><br><span class="line">  &lt;p&gt;The button above has been clicked &#123;&#123; counter &#125;&#125; times.&lt;&#x2F;p&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#39;HelloWorld&#39;,</span><br><span class="line">  data () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      counter: 0,</span><br><span class="line">      name: &#39;wander&#39;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    greet: function (event) &#123;</span><br><span class="line">      &#x2F;&#x2F; &#96;this&#96; åœ¨æ–¹æ³•é‡ŒæŒ‡å‘å½“å‰ Vue å®ä¾‹</span><br><span class="line">      alert(&#39;Hello &#39; + this.name + &#39;!&#39;)</span><br><span class="line">      &#x2F;&#x2F; &#96;event&#96; æ˜¯åŸç”Ÿ DOM äº‹ä»¶</span><br><span class="line">      if (event) &#123;</span><br><span class="line">        alert(event.target.tagName)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    say: function (message) &#123;</span><br><span class="line">      alert(message)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>åœ¨äº‹ä»¶å¤„ç†ç¨‹åºä¸­è°ƒç”¨ event.preventDefault() æˆ– event.stopPropagation() æ˜¯éå¸¸å¸¸è§çš„éœ€æ±‚ã€‚å°½ç®¡æˆ‘ä»¬å¯ä»¥åœ¨æ–¹æ³•ä¸­è½»æ¾å®ç°è¿™ç‚¹ï¼Œä½†æ›´å¥½çš„æ–¹å¼æ˜¯ï¼šæ–¹æ³•åªæœ‰çº¯ç²¹çš„æ•°æ®é€»è¾‘ï¼Œè€Œä¸æ˜¯å»å¤„ç† DOM äº‹ä»¶ç»†èŠ‚ï¼›</p>
</li>
<li><p>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒVue.js ä¸º v-on æä¾›äº†äº‹ä»¶ä¿®é¥°ç¬¦ã€‚ä¹‹å‰æè¿‡ï¼Œä¿®é¥°ç¬¦æ˜¯ç”±ç‚¹å¼€å¤´çš„æŒ‡ä»¤åç¼€æ¥è¡¨ç¤ºçš„ï¼š</p>
<ul>
<li>.stop</li>
<li>.prevent</li>
<li>.capture</li>
<li>.self</li>
<li>.once</li>
<li>.passive</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;!-- é˜»æ­¢å•å‡»äº‹ä»¶ç»§ç»­ä¼ æ’­ --&gt;</span><br><span class="line">&lt;a v-on:click.stop&#x3D;&quot;doThis&quot;&gt;&lt;&#x2F;a&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- æäº¤äº‹ä»¶ä¸å†é‡è½½é¡µé¢ --&gt;</span><br><span class="line">&lt;form v-on:submit.prevent&#x3D;&quot;onSubmit&quot;&gt;&lt;&#x2F;form&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- ä¿®é¥°ç¬¦å¯ä»¥ä¸²è” --&gt;</span><br><span class="line">&lt;a v-on:click.stop.prevent&#x3D;&quot;doThat&quot;&gt;&lt;&#x2F;a&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- åªæœ‰ä¿®é¥°ç¬¦ --&gt;</span><br><span class="line">&lt;form v-on:submit.prevent&gt;&lt;&#x2F;form&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- æ·»åŠ äº‹ä»¶ç›‘å¬å™¨æ—¶ä½¿ç”¨äº‹ä»¶æ•è·æ¨¡å¼ --&gt;</span><br><span class="line">&lt;!-- å³å†…éƒ¨å…ƒç´ è§¦å‘çš„äº‹ä»¶å…ˆåœ¨æ­¤å¤„ç†ï¼Œç„¶åæ‰äº¤ç”±å†…éƒ¨å…ƒç´ è¿›è¡Œå¤„ç† --&gt;</span><br><span class="line">&lt;div v-on:click.capture&#x3D;&quot;doThis&quot;&gt;...&lt;&#x2F;div&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- åªå½“åœ¨ event.target æ˜¯å½“å‰å…ƒç´ è‡ªèº«æ—¶è§¦å‘å¤„ç†å‡½æ•° --&gt;</span><br><span class="line">&lt;!-- å³äº‹ä»¶ä¸æ˜¯ä»å†…éƒ¨å…ƒç´ è§¦å‘çš„ --&gt;</span><br><span class="line">&lt;div v-on:click.self&#x3D;&quot;doThat&quot;&gt;...&lt;&#x2F;div&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- ç‚¹å‡»äº‹ä»¶å°†åªä¼šè§¦å‘ä¸€æ¬¡ --&gt;</span><br><span class="line">&lt;a v-on:click.once&#x3D;&quot;doThis&quot;&gt;&lt;&#x2F;a&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>Vue å…è®¸ä¸º v-on åœ¨ç›‘å¬é”®ç›˜äº‹ä»¶æ—¶æ·»åŠ æŒ‰é”®ä¿®é¥°ç¬¦ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;!-- åªæœ‰åœ¨ &#96;key&#96; æ˜¯ &#96;Enter&#96; æ—¶è°ƒç”¨ &#96;vm.submit()&#96; --&gt;</span><br><span class="line">&lt;input v-on:keyup.enter&#x3D;&quot;submit&quot;&gt;</span><br><span class="line"></span><br><span class="line">&lt;input v-on:keyup.page-down&#x3D;&quot;onPageDown&quot;&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>Vue æä¾›äº†ç»å¤§å¤šæ•°å¸¸ç”¨çš„æŒ‰é”®ç çš„åˆ«åï¼š</p>
<ul>
<li>.enter</li>
<li>.tab</li>
<li>.delete (æ•è·â€œåˆ é™¤â€å’Œâ€œé€€æ ¼â€é”®)</li>
<li>.esc</li>
<li>.space</li>
<li>.up</li>
<li>.down</li>
<li>.left</li>
<li>.right</li>
<li>.ctrl</li>
<li>.alt</li>
<li>.shift</li>
<li>.meta</li>
</ul>
</li>
<li><p>ä½¿ç”¨ v-on æœ‰å‡ ä¸ªå¥½å¤„ï¼š</p>
<ul>
<li>æ‰«ä¸€çœ¼ HTML æ¨¡æ¿ä¾¿èƒ½è½»æ¾å®šä½åœ¨ JavaScript ä»£ç é‡Œå¯¹åº”çš„æ–¹æ³•</li>
<li>æ— é¡»åœ¨ JavaScript é‡Œæ‰‹åŠ¨ç»‘å®šäº‹ä»¶ï¼Œ ViewModel ä»£ç å¯ä»¥æ˜¯éå¸¸çº¯ç²¹çš„é€»è¾‘ï¼Œå’Œ DOM å®Œå…¨è§£è€¦ï¼Œæ›´æ˜“äºæµ‹è¯•</li>
<li>å½“ä¸€ä¸ª ViewModel è¢«é”€æ¯æ—¶ï¼Œæ‰€æœ‰çš„äº‹ä»¶å¤„ç†å™¨éƒ½ä¼šè‡ªåŠ¨è¢«åˆ é™¤</li>
</ul>
</li>
</ol>
<h2 id="è¡¨å•è¾“å…¥ç»‘å®š"><a href="#è¡¨å•è¾“å…¥ç»‘å®š" class="headerlink" title="è¡¨å•è¾“å…¥ç»‘å®š"></a>è¡¨å•è¾“å…¥ç»‘å®š</h2><ol>
<li><p>ç”¨ v-model æŒ‡ä»¤åœ¨è¡¨å• &lt;input&gt;ã€&lt;textarea&gt; åŠ &lt;select&gt; å…ƒç´ ä¸Šåˆ›å»ºåŒå‘æ•°æ®ç»‘å®šï¼Œä¼šæ ¹æ®æ§ä»¶ç±»å‹è‡ªåŠ¨é€‰å–æ­£ç¡®çš„æ–¹æ³•æ¥æ›´æ–°å…ƒç´ ï¼›</p>
</li>
<li><p>v-model åœ¨å†…éƒ¨ä¸ºä¸åŒçš„è¾“å…¥å…ƒç´ ä½¿ç”¨ä¸åŒçš„ property å¹¶æŠ›å‡ºä¸åŒçš„äº‹ä»¶ï¼š</p>
<ul>
<li>text å’Œ textarea å…ƒç´ ä½¿ç”¨ value property å’Œ input äº‹ä»¶</li>
<li>checkbox å’Œ radio ä½¿ç”¨ checked property å’Œ change äº‹ä»¶</li>
<li>select å­—æ®µå°† value ä½œä¸º prop å¹¶å°† change ä½œä¸ºäº‹ä»¶</li>
</ul>
</li>
<li><p>æ–‡æœ¬ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;input v-model&#x3D;&quot;message&quot; placeholder&#x3D;&quot;edit me&quot;&gt;</span><br><span class="line">&lt;p&gt;Message is: &#123;&#123; message &#125;&#125;&lt;&#x2F;p&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>å¤šè¡Œæ–‡æœ¬ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;span&gt;Multiline message is:&lt;&#x2F;span&gt;</span><br><span class="line">&lt;p style&#x3D;&quot;white-space: pre-line;&quot;&gt;&#123;&#123; message &#125;&#125;&lt;&#x2F;p&gt;</span><br><span class="line">&lt;br&gt;</span><br><span class="line">&lt;textarea v-model&#x3D;&quot;message&quot; placeholder&#x3D;&quot;add multiple lines&quot;&gt;&lt;&#x2F;textarea&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>å¤é€‰æ¡†ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">  &lt;input type&#x3D;&quot;checkbox&quot; id&#x3D;&quot;jack&quot; value&#x3D;&quot;Jack&quot; v-model&#x3D;&quot;checkedNames&quot;&gt;</span><br><span class="line">  &lt;label for&#x3D;&quot;jack&quot;&gt;Jack&lt;&#x2F;label&gt;</span><br><span class="line">  &lt;input type&#x3D;&quot;checkbox&quot; id&#x3D;&quot;john&quot; value&#x3D;&quot;John&quot; v-model&#x3D;&quot;checkedNames&quot;&gt;</span><br><span class="line">  &lt;label for&#x3D;&quot;john&quot;&gt;John&lt;&#x2F;label&gt;</span><br><span class="line">  &lt;input type&#x3D;&quot;checkbox&quot; id&#x3D;&quot;mike&quot; value&#x3D;&quot;Mike&quot; v-model&#x3D;&quot;checkedNames&quot;&gt;</span><br><span class="line">  &lt;label for&#x3D;&quot;mike&quot;&gt;Mike&lt;&#x2F;label&gt;</span><br><span class="line">  &lt;br&gt;</span><br><span class="line">  &lt;span&gt;Checked names: &#123;&#123; checkedNames &#125;&#125;&lt;&#x2F;span&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#39;HelloWorld&#39;,</span><br><span class="line">  data () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      checkedNames: []</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>å•é€‰æŒ‰é’®ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">  &lt;div id&#x3D;&quot;example-4&quot;&gt;</span><br><span class="line">    &lt;input type&#x3D;&quot;radio&quot; id&#x3D;&quot;one&quot; value&#x3D;&quot;One&quot; v-model&#x3D;&quot;picked&quot;&gt;</span><br><span class="line">    &lt;label for&#x3D;&quot;one&quot;&gt;One&lt;&#x2F;label&gt;</span><br><span class="line">    &lt;br&gt;</span><br><span class="line">    &lt;input type&#x3D;&quot;radio&quot; id&#x3D;&quot;two&quot; value&#x3D;&quot;Two&quot; v-model&#x3D;&quot;picked&quot;&gt;</span><br><span class="line">    &lt;label for&#x3D;&quot;two&quot;&gt;Two&lt;&#x2F;label&gt;</span><br><span class="line">    &lt;br&gt;</span><br><span class="line">    &lt;span&gt;Picked: &#123;&#123; picked &#125;&#125;&lt;&#x2F;span&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#39;HelloWorld&#39;,</span><br><span class="line">  data () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      picked: &#39;&#39;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>é€‰æ‹©æ¡†ï¼ˆå•é€‰ï¼‰ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">  &lt;div id&#x3D;&quot;example-4&quot;&gt;</span><br><span class="line">    &lt;select v-model&#x3D;&quot;selected&quot;&gt;</span><br><span class="line">      &lt;option disabled value&#x3D;&quot;&quot;&gt;è¯·é€‰æ‹©&lt;&#x2F;option&gt;</span><br><span class="line">      &lt;option&gt;A&lt;&#x2F;option&gt;</span><br><span class="line">      &lt;option&gt;B&lt;&#x2F;option&gt;</span><br><span class="line">      &lt;option&gt;C&lt;&#x2F;option&gt;</span><br><span class="line">    &lt;&#x2F;select&gt;</span><br><span class="line">    &lt;span&gt;Selected: &#123;&#123; selected &#125;&#125;&lt;&#x2F;span&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#39;HelloWorld&#39;,</span><br><span class="line">  data () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      selected: &#39;&#39;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>é€‰æ‹©æ¡†ï¼ˆå¤šé€‰ï¼‰ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">  &lt;div id&#x3D;&quot;example-4&quot;&gt;</span><br><span class="line">    &lt;select v-model&#x3D;&quot;selected&quot; multiple style&#x3D;&quot;width: 50px;&quot;&gt;</span><br><span class="line">      &lt;option&gt;A&lt;&#x2F;option&gt;</span><br><span class="line">      &lt;option&gt;B&lt;&#x2F;option&gt;</span><br><span class="line">      &lt;option&gt;C&lt;&#x2F;option&gt;</span><br><span class="line">    &lt;&#x2F;select&gt;</span><br><span class="line">    &lt;br&gt;</span><br><span class="line">    &lt;span&gt;Selected: &#123;&#123; selected &#125;&#125;&lt;&#x2F;span&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#39;HelloWorld&#39;,</span><br><span class="line">  data () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      selected: &#39;&#39;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">  &lt;div id&#x3D;&quot;example-4&quot;&gt;</span><br><span class="line">    &lt;select v-model&#x3D;&quot;selected&quot;&gt;</span><br><span class="line">      &lt;option v-for&#x3D;&quot;option in options&quot; v-bind:value&#x3D;&quot;option.value&quot; v-bind:key&#x3D;&quot;option.text&quot;&gt;</span><br><span class="line">        &#123;&#123; option.text &#125;&#125;</span><br><span class="line">      &lt;&#x2F;option&gt;</span><br><span class="line">    &lt;&#x2F;select&gt;</span><br><span class="line">    &lt;span&gt;Selected: &#123;&#123; selected &#125;&#125;&lt;&#x2F;span&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#39;HelloWorld&#39;,</span><br><span class="line">  data () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      selected: &#39;A&#39;,</span><br><span class="line">      options: [</span><br><span class="line">        &#123; text: &#39;One&#39;, value: &#39;A&#39; &#125;,</span><br><span class="line">        &#123; text: &#39;Two&#39;, value: &#39;B&#39; &#125;,</span><br><span class="line">        &#123; text: &#39;Three&#39;, value: &#39;C&#39; &#125;</span><br><span class="line">      ]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>Vue çš„ç»„ä»¶ç³»ç»Ÿå…è®¸åˆ›å»ºå…·æœ‰å®Œå…¨è‡ªå®šä¹‰è¡Œä¸ºä¸”å¯å¤ç”¨çš„è¾“å…¥ç»„ä»¶ã€‚è¿™äº›è¾“å…¥ç»„ä»¶ç”šè‡³å¯ä»¥å’Œ <code>v-model</code> ä¸€èµ·ä½¿ç”¨ï¼</p>
</li>
</ol>
<h2 id="è¿‡æ¸¡ç‰¹æ•ˆ"><a href="#è¿‡æ¸¡ç‰¹æ•ˆ" class="headerlink" title="è¿‡æ¸¡ç‰¹æ•ˆ"></a>è¿‡æ¸¡ç‰¹æ•ˆ</h2><ol>
<li><p>Vue åœ¨æ’å…¥ã€æ›´æ–°æˆ–è€…ç§»é™¤ DOM æ—¶ï¼Œæä¾›å¤šç§ä¸åŒæ–¹å¼çš„åº”ç”¨è¿‡æ¸¡æ•ˆæœã€‚åŒ…æ‹¬ä»¥ä¸‹å·¥å…·ï¼š</p>
<ul>
<li>åœ¨ CSS è¿‡æ¸¡å’ŒåŠ¨ç”»ä¸­è‡ªåŠ¨åº”ç”¨ class</li>
<li>å¯ä»¥é…åˆä½¿ç”¨ç¬¬ä¸‰æ–¹ CSS åŠ¨ç”»åº“ï¼Œå¦‚ Animate.css</li>
<li>åœ¨è¿‡æ¸¡é’©å­å‡½æ•°ä¸­ä½¿ç”¨ JavaScript ç›´æ¥æ“ä½œ DOM</li>
<li>å¯ä»¥é…åˆä½¿ç”¨ç¬¬ä¸‰æ–¹ JavaScript åŠ¨ç”»åº“ï¼Œå¦‚ Velocity.js</li>
</ul>
</li>
<li><p>Vue æä¾›äº† transition çš„å°è£…ç»„ä»¶ï¼Œåœ¨ä¸‹åˆ—æƒ…å½¢ä¸­ï¼Œå¯ä»¥ç»™ä»»ä½•å…ƒç´ å’Œç»„ä»¶æ·»åŠ è¿›å…¥/ç¦»å¼€è¿‡æ¸¡ï¼š</p>
<ul>
<li>æ¡ä»¶æ¸²æŸ“ (ä½¿ç”¨ v-if)</li>
<li>æ¡ä»¶å±•ç¤º (ä½¿ç”¨ v-show)</li>
<li>åŠ¨æ€ç»„ä»¶</li>
<li>ç»„ä»¶æ ¹èŠ‚ç‚¹</li>
</ul>
</li>
<li><p>ç¤ºä¾‹ä»£ç ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">  &lt;div id&#x3D;&quot;example-4&quot;&gt;</span><br><span class="line">    &lt;button v-on:click&#x3D;&quot;show &#x3D; !show&quot;&gt;</span><br><span class="line">      Toggle</span><br><span class="line">    &lt;&#x2F;button&gt;</span><br><span class="line">    &lt;transition name&#x3D;&quot;fade&quot;&gt;</span><br><span class="line">      &lt;p v-if&#x3D;&quot;show&quot;&gt;hello&lt;&#x2F;p&gt;</span><br><span class="line">    &lt;&#x2F;transition&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#39;HelloWorld&#39;,</span><br><span class="line">  data () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      show: true</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">  .fade-enter-active, .fade-leave-active &#123;</span><br><span class="line">    transition: opacity 1.5s;</span><br><span class="line">  &#125;</span><br><span class="line">  .fade-enter, .fade-leave-to &#x2F;* .fade-leave-active below version 2.1.8 *&#x2F; &#123;</span><br><span class="line">    opacity: 0;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>å½“æ’å…¥æˆ–åˆ é™¤åŒ…å«åœ¨ transition ç»„ä»¶ä¸­çš„å…ƒç´ æ—¶ï¼ŒVue å°†ä¼šåšä»¥ä¸‹å¤„ç†ï¼š</p>
<ul>
<li>è‡ªåŠ¨å—…æ¢ç›®æ ‡å…ƒç´ æ˜¯å¦åº”ç”¨äº† CSS è¿‡æ¸¡æˆ–åŠ¨ç”»ï¼Œå¦‚æœæ˜¯ï¼Œåœ¨æ°å½“çš„æ—¶æœºæ·»åŠ /åˆ é™¤ CSS ç±»å</li>
<li>å¦‚æœè¿‡æ¸¡ç»„ä»¶æä¾›äº† JavaScript é’©å­å‡½æ•°ï¼Œè¿™äº›é’©å­å‡½æ•°å°†åœ¨æ°å½“çš„æ—¶æœºè¢«è°ƒç”¨</li>
<li>å¦‚æœæ²¡æœ‰æ‰¾åˆ° JavaScript é’©å­å¹¶ä¸”ä¹Ÿæ²¡æœ‰æ£€æµ‹åˆ° CSS è¿‡æ¸¡/åŠ¨ç”»ï¼ŒDOM æ“ä½œ (æ’å…¥/åˆ é™¤) åœ¨ä¸‹ä¸€å¸§ä¸­ç«‹å³æ‰§è¡Œã€‚(æ³¨æ„ï¼šæ­¤æŒ‡æµè§ˆå™¨é€å¸§åŠ¨ç”»æœºåˆ¶ï¼Œå’Œ Vue çš„ nextTick æ¦‚å¿µä¸åŒ)</li>
</ul>
</li>
<li><p>åœ¨è¿›å…¥/ç¦»å¼€çš„è¿‡æ¸¡ä¸­ï¼Œä¼šæœ‰ 6 ä¸ª class åˆ‡æ¢ï¼š</p>
<ul>
<li>v-enterï¼šå®šä¹‰è¿›å…¥è¿‡æ¸¡çš„å¼€å§‹çŠ¶æ€ã€‚åœ¨å…ƒç´ è¢«æ’å…¥ä¹‹å‰ç”Ÿæ•ˆï¼Œåœ¨å…ƒç´ è¢«æ’å…¥ä¹‹åçš„ä¸‹ä¸€å¸§ç§»é™¤</li>
<li>v-enter-activeï¼šå®šä¹‰è¿›å…¥è¿‡æ¸¡ç”Ÿæ•ˆæ—¶çš„çŠ¶æ€ã€‚åœ¨æ•´ä¸ªè¿›å…¥è¿‡æ¸¡çš„é˜¶æ®µä¸­åº”ç”¨ï¼Œåœ¨å…ƒç´ è¢«æ’å…¥ä¹‹å‰ç”Ÿæ•ˆï¼Œåœ¨è¿‡æ¸¡/åŠ¨ç”»å®Œæˆä¹‹åç§»é™¤ã€‚è¿™ä¸ªç±»å¯ä»¥è¢«ç”¨æ¥å®šä¹‰è¿›å…¥è¿‡æ¸¡çš„è¿‡ç¨‹æ—¶é—´ï¼Œå»¶è¿Ÿå’Œæ›²çº¿å‡½æ•°</li>
<li>v-enter-toï¼š2.1.8 ç‰ˆåŠä»¥ä¸Šå®šä¹‰è¿›å…¥è¿‡æ¸¡çš„ç»“æŸçŠ¶æ€ã€‚åœ¨å…ƒç´ è¢«æ’å…¥ä¹‹åä¸‹ä¸€å¸§ç”Ÿæ•ˆ (ä¸æ­¤åŒæ—¶ v-enter è¢«ç§»é™¤)ï¼Œåœ¨è¿‡æ¸¡/åŠ¨ç”»å®Œæˆä¹‹åç§»é™¤</li>
<li>v-leaveï¼šå®šä¹‰ç¦»å¼€è¿‡æ¸¡çš„å¼€å§‹çŠ¶æ€ã€‚åœ¨ç¦»å¼€è¿‡æ¸¡è¢«è§¦å‘æ—¶ç«‹åˆ»ç”Ÿæ•ˆï¼Œä¸‹ä¸€å¸§è¢«ç§»é™¤</li>
<li>v-leave-activeï¼šå®šä¹‰ç¦»å¼€è¿‡æ¸¡ç”Ÿæ•ˆæ—¶çš„çŠ¶æ€ã€‚åœ¨æ•´ä¸ªç¦»å¼€è¿‡æ¸¡çš„é˜¶æ®µä¸­åº”ç”¨ï¼Œåœ¨ç¦»å¼€è¿‡æ¸¡è¢«è§¦å‘æ—¶ç«‹åˆ»ç”Ÿæ•ˆï¼Œåœ¨è¿‡æ¸¡/åŠ¨ç”»å®Œæˆä¹‹åç§»é™¤ã€‚è¿™ä¸ªç±»å¯ä»¥è¢«ç”¨æ¥å®šä¹‰ç¦»å¼€è¿‡æ¸¡çš„è¿‡ç¨‹æ—¶é—´ï¼Œå»¶è¿Ÿå’Œæ›²çº¿å‡½æ•°</li>
<li>v-leave-toï¼š2.1.8 ç‰ˆåŠä»¥ä¸Šå®šä¹‰ç¦»å¼€è¿‡æ¸¡çš„ç»“æŸçŠ¶æ€ã€‚åœ¨ç¦»å¼€è¿‡æ¸¡è¢«è§¦å‘ä¹‹åä¸‹ä¸€å¸§ç”Ÿæ•ˆ (ä¸æ­¤åŒæ—¶ v-leave è¢«åˆ é™¤)ï¼Œåœ¨è¿‡æ¸¡/åŠ¨ç”»å®Œæˆä¹‹åç§»é™¤</li>
</ul>
</li>
<li><p>å¯¹äºè¿™äº›åœ¨è¿‡æ¸¡ä¸­åˆ‡æ¢çš„ç±»åæ¥è¯´ï¼Œå¦‚æœä½ ä½¿ç”¨ä¸€ä¸ªæ²¡æœ‰åå­—çš„ &lt;transition&gt;ï¼Œåˆ™ v- æ˜¯è¿™äº›ç±»åçš„é»˜è®¤å‰ç¼€ã€‚å¦‚æœä½ ä½¿ç”¨äº† &lt;transition name=â€my-transitionâ€&gt;ï¼Œé‚£ä¹ˆ v-enter ä¼šæ›¿æ¢ä¸º my-transition-enter;</p>
</li>
<li><p>å¸¸ç”¨æ˜¯çš„CSSè¿‡æ¸¡ï¼Œç¤ºä¾‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">  &lt;div id&#x3D;&quot;example-4&quot;&gt;</span><br><span class="line">    &lt;button @click&#x3D;&quot;show &#x3D; !show&quot;&gt;</span><br><span class="line">      Toggle render</span><br><span class="line">    &lt;&#x2F;button&gt;</span><br><span class="line">    &lt;transition name&#x3D;&quot;slide-fade&quot;&gt;</span><br><span class="line">      &lt;p v-if&#x3D;&quot;show&quot;&gt;hello&lt;&#x2F;p&gt;</span><br><span class="line">    &lt;&#x2F;transition&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#39;HelloWorld&#39;,</span><br><span class="line">  data () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      show: true</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">  .slide-fade-enter-active &#123;</span><br><span class="line">    transition: all .3s ease;</span><br><span class="line">  &#125;</span><br><span class="line">  .slide-fade-leave-active &#123;</span><br><span class="line">    transition: all .8s cubic-bezier(1.0, 0.5, 0.8, 1.0);</span><br><span class="line">  &#125;</span><br><span class="line">  .slide-fade-enter, .slide-fade-leave-to</span><br><span class="line">    &#x2F;* .slide-fade-leave-active for below version 2.1.8 *&#x2F; &#123;</span><br><span class="line">    transform: translateX(10px);</span><br><span class="line">    opacity: 0;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>CSS åŠ¨ç”»ç”¨æ³•åŒ CSS è¿‡æ¸¡ï¼ŒåŒºåˆ«æ˜¯åœ¨åŠ¨ç”»ä¸­ v-enter ç±»ååœ¨èŠ‚ç‚¹æ’å…¥ DOM åä¸ä¼šç«‹å³åˆ é™¤ï¼Œè€Œæ˜¯åœ¨ animationend äº‹ä»¶è§¦å‘æ—¶åˆ é™¤ï¼›</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">  &lt;button @click&#x3D;&quot;show &#x3D; !show&quot;&gt;Toggle show&lt;&#x2F;button&gt;</span><br><span class="line">  &lt;transition name&#x3D;&quot;bounce&quot;&gt;</span><br><span class="line">    &lt;p v-if&#x3D;&quot;show&quot;&gt;Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris facilisis enim libero, at lacinia diam fermentum id. Pellentesque habitant morbi tristique senectus et netus.&lt;&#x2F;p&gt;</span><br><span class="line">  &lt;&#x2F;transition&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#39;HelloWorld&#39;,</span><br><span class="line">  data () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      show: true</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">  .bounce-enter-active &#123;</span><br><span class="line">    animation: bounce-in .5s;</span><br><span class="line">  &#125;</span><br><span class="line">  .bounce-leave-active &#123;</span><br><span class="line">    animation: bounce-in .5s reverse;</span><br><span class="line">  &#125;</span><br><span class="line">  @keyframes bounce-in &#123;</span><br><span class="line">    0% &#123;</span><br><span class="line">      transform: scale(0);</span><br><span class="line">    &#125;</span><br><span class="line">    50% &#123;</span><br><span class="line">      transform: scale(1.5);</span><br><span class="line">    &#125;</span><br><span class="line">    100% &#123;</span><br><span class="line">      transform: scale(1);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>å¯ä»¥é€šè¿‡ä»¥ä¸‹ attribute æ¥è‡ªå®šä¹‰è¿‡æ¸¡ç±»åï¼š</p>
<ul>
<li>enter-class</li>
<li>enter-active-class</li>
<li>enter-to-class (2.1.8+)</li>
<li>leave-class</li>
<li>leave-active-class</li>
<li>leave-to-class (2.1.8+)</li>
</ul>
</li>
<li><p>è‡ªå®šä¹‰è¿‡æ¸¡ç±»åçš„ä¼˜å…ˆçº§é«˜äºæ™®é€šçš„ç±»åï¼Œè¿™å¯¹äº Vue çš„è¿‡æ¸¡ç³»ç»Ÿå’Œå…¶ä»–ç¬¬ä¸‰æ–¹ CSS åŠ¨ç”»åº“ï¼Œå¦‚ Animate.css ç»“åˆä½¿ç”¨ååˆ†æœ‰ç”¨ï¼›</p>
</li>
<li><p>Vue ä¸ºäº†çŸ¥é“è¿‡æ¸¡çš„å®Œæˆï¼Œå¿…é¡»è®¾ç½®ç›¸åº”çš„äº‹ä»¶ç›‘å¬å™¨ã€‚å®ƒå¯ä»¥æ˜¯ transitionend æˆ– animationendï¼Œè¿™å–å†³äºç»™å…ƒç´ åº”ç”¨çš„ CSS è§„åˆ™ï¼›</p>
</li>
<li><p>åœ¨å¾ˆå¤šæƒ…å†µä¸‹ï¼ŒVue å¯ä»¥è‡ªåŠ¨å¾—å‡ºè¿‡æ¸¡æ•ˆæœçš„å®Œæˆæ—¶æœºã€‚é»˜è®¤æƒ…å†µä¸‹ï¼ŒVue ä¼šç­‰å¾…å…¶åœ¨è¿‡æ¸¡æ•ˆæœçš„æ ¹å…ƒç´ çš„ç¬¬ä¸€ä¸ª transitionend æˆ– animationend äº‹ä»¶ã€‚å¯ä»¥ç”¨ &lt;transition&gt; ç»„ä»¶ä¸Šçš„ duration prop å®šåˆ¶ä¸€ä¸ªæ˜¾æ€§çš„è¿‡æ¸¡æŒç»­æ—¶é—´ (ä»¥æ¯«ç§’è®¡)ï¼›</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;!-- æ˜¾æ€§çš„è¿‡æ¸¡æŒç»­æ—¶é—´ (ä»¥æ¯«ç§’è®¡) --&gt;</span><br><span class="line">&lt;transition :duration&#x3D;&quot;1000&quot;&gt;...&lt;&#x2F;transition&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- å®šåˆ¶è¿›å…¥å’Œç§»å‡ºçš„æŒç»­æ—¶é—´ --&gt;</span><br><span class="line">&lt;transition :duration&#x3D;&quot;&#123; enter: 500, leave: 800 &#125;&quot;&gt;...&lt;&#x2F;transition&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>å¯ä»¥åœ¨ attribute ä¸­å£°æ˜ JavaScript é’©å­ï¼Œè¿™äº›é’©å­å‡½æ•°å¯ä»¥ç»“åˆ CSS transitions/animations ä½¿ç”¨ï¼Œä¹Ÿå¯ä»¥å•ç‹¬ä½¿ç”¨ï¼›</p>
<ul>
<li>å½“åªç”¨ JavaScript è¿‡æ¸¡çš„æ—¶å€™ï¼Œåœ¨ enter å’Œ leave ä¸­å¿…é¡»ä½¿ç”¨ done è¿›è¡Œå›è°ƒã€‚å¦åˆ™ï¼Œå®ƒä»¬å°†è¢«åŒæ­¥è°ƒç”¨ï¼Œè¿‡æ¸¡ä¼šç«‹å³å®Œæˆ</li>
<li>æ¨èå¯¹äºä»…ä½¿ç”¨ JavaScript è¿‡æ¸¡çš„å…ƒç´ æ·»åŠ  v-bind:css=â€falseâ€ï¼ŒVue ä¼šè·³è¿‡ CSS çš„æ£€æµ‹</li>
</ul>
</li>
<li><p>å¯ä»¥é€šè¿‡ appear attribute è®¾ç½®èŠ‚ç‚¹åœ¨åˆå§‹æ¸²æŸ“çš„è¿‡æ¸¡ï¼›</p>
</li>
<li><p>åŒæ—¶ç”Ÿæ•ˆçš„è¿›å…¥å’Œç¦»å¼€çš„è¿‡æ¸¡ä¸èƒ½æ»¡è¶³æ‰€æœ‰è¦æ±‚ï¼Œå› æ­¤Vue æä¾›äº†è¿‡æ¸¡æ¨¡å¼ï¼š</p>
<ul>
<li>in-outâ€”â€”æ–°å…ƒç´ å…ˆè¿›è¡Œè¿‡æ¸¡ï¼Œå®Œæˆä¹‹åå½“å‰å…ƒç´ è¿‡æ¸¡ç¦»å¼€</li>
<li>out-inâ€”â€”å½“å‰å…ƒç´ å…ˆè¿›è¡Œè¿‡æ¸¡ï¼Œå®Œæˆä¹‹åæ–°å…ƒç´ è¿‡æ¸¡è¿›å…¥</li>
</ul>
</li>
<li><p>åˆ—è¡¨è¿‡æ¸¡ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;div id&#x3D;&quot;list-demo&quot; class&#x3D;&quot;demo&quot;&gt;</span><br><span class="line">      &lt;button v-on:click&#x3D;&quot;add&quot;&gt;Add&lt;&#x2F;button&gt;</span><br><span class="line">      &lt;button v-on:click&#x3D;&quot;remove&quot;&gt;Remove&lt;&#x2F;button&gt;</span><br><span class="line">      &lt;transition-group name&#x3D;&quot;list&quot; tag&#x3D;&quot;p&quot;&gt;</span><br><span class="line">    &lt;span v-for&#x3D;&quot;item in items&quot; v-bind:key&#x3D;&quot;item&quot; class&#x3D;&quot;list-item&quot;&gt;</span><br><span class="line">      &#123;&#123; item &#125;&#125;</span><br><span class="line">    &lt;&#x2F;span&gt;</span><br><span class="line">      &lt;&#x2F;transition-group&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#39;HelloWorld&#39;,</span><br><span class="line">  data () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      items: [1, 2, 3, 4, 5, 6, 7, 8, 9],</span><br><span class="line">      nextNum: 10</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    randomIndex: function () &#123;</span><br><span class="line">      return Math.floor(Math.random() * this.items.length)</span><br><span class="line">    &#125;,</span><br><span class="line">    add: function () &#123;</span><br><span class="line">      this.items.splice(this.randomIndex(), 0, this.nextNum++)</span><br><span class="line">    &#125;,</span><br><span class="line">    remove: function () &#123;</span><br><span class="line">      this.items.splice(this.randomIndex(), 1)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">  .bounce-enter-active &#123;</span><br><span class="line">    animation: bounce-in .5s;</span><br><span class="line">  &#125;</span><br><span class="line">  .bounce-leave-active &#123;</span><br><span class="line">    animation: bounce-in .5s reverse;</span><br><span class="line">  &#125;</span><br><span class="line">  @keyframes bounce-in &#123;</span><br><span class="line">    0% &#123;</span><br><span class="line">      transform: scale(0);</span><br><span class="line">    &#125;</span><br><span class="line">    50% &#123;</span><br><span class="line">      transform: scale(1.5);</span><br><span class="line">    &#125;</span><br><span class="line">    100% &#123;</span><br><span class="line">      transform: scale(1);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ‰€æœ‰è¿‡æ¸¡ attribute éƒ½å¯ä»¥åŠ¨æ€ç»‘å®šï¼Œä½†æˆ‘ä»¬ä¸ä»…ä»…åªæœ‰ attribute å¯ä»¥åˆ©ç”¨ï¼Œè¿˜å¯ä»¥é€šè¿‡äº‹ä»¶é’©å­è·å–ä¸Šä¸‹æ–‡ä¸­çš„æ‰€æœ‰æ•°æ®ï¼Œå› ä¸ºäº‹ä»¶é’©å­éƒ½æ˜¯æ–¹æ³•ã€‚è¿™æ„å‘³ç€ï¼Œæ ¹æ®ç»„ä»¶çš„çŠ¶æ€ä¸åŒï¼Œä½ çš„ JavaScript è¿‡æ¸¡ä¼šæœ‰ä¸åŒçš„è¡¨ç°ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;script src&#x3D;&quot;https:&#x2F;&#x2F;cdnjs.cloudflare.com&#x2F;ajax&#x2F;libs&#x2F;velocity&#x2F;1.2.3&#x2F;velocity.min.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div id&#x3D;&quot;dynamic-fade-demo&quot; class&#x3D;&quot;demo&quot;&gt;</span><br><span class="line">    Fade In: &lt;input type&#x3D;&quot;range&quot; v-model&#x3D;&quot;fadeInDuration&quot; min&#x3D;&quot;0&quot; v-bind:max&#x3D;&quot;maxFadeDuration&quot;&gt;</span><br><span class="line">    Fade Out: &lt;input type&#x3D;&quot;range&quot; v-model&#x3D;&quot;fadeOutDuration&quot; min&#x3D;&quot;0&quot; v-bind:max&#x3D;&quot;maxFadeDuration&quot;&gt;</span><br><span class="line">    &lt;transition</span><br><span class="line">      v-bind:css&#x3D;&quot;false&quot;</span><br><span class="line">      v-on:before-enter&#x3D;&quot;beforeEnter&quot;</span><br><span class="line">      v-on:enter&#x3D;&quot;enter&quot;</span><br><span class="line">      v-on:leave&#x3D;&quot;leave&quot;</span><br><span class="line">    &gt;</span><br><span class="line">      &lt;p v-if&#x3D;&quot;show&quot;&gt;hello&lt;&#x2F;p&gt;</span><br><span class="line">    &lt;&#x2F;transition&gt;</span><br><span class="line">    &lt;button</span><br><span class="line">      v-if&#x3D;&quot;stop&quot;</span><br><span class="line">      v-on:click&#x3D;&quot;stop &#x3D; false; show &#x3D; false&quot;</span><br><span class="line">    &gt;Start animating&lt;&#x2F;button&gt;</span><br><span class="line">    &lt;button</span><br><span class="line">      v-else</span><br><span class="line">      v-on:click&#x3D;&quot;stop &#x3D; true&quot;</span><br><span class="line">    &gt;Stop it!&lt;&#x2F;button&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#39;HelloWorld&#39;,</span><br><span class="line">  data () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      show: true,</span><br><span class="line">      fadeInDuration: 1000,</span><br><span class="line">      fadeOutDuration: 1000,</span><br><span class="line">      maxFadeDuration: 1500,</span><br><span class="line">      stop: true</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  mounted: function () &#123;</span><br><span class="line">    this.show &#x3D; false</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    beforeEnter: function (el) &#123;</span><br><span class="line">      el.style.opacity &#x3D; 0</span><br><span class="line">    &#125;,</span><br><span class="line">    enter: function (el, done) &#123;</span><br><span class="line">      var vm &#x3D; this</span><br><span class="line">      Velocity(el,</span><br><span class="line">        &#123; opacity: 1 &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          duration: this.fadeInDuration,</span><br><span class="line">          complete: function () &#123;</span><br><span class="line">            done()</span><br><span class="line">            if (!vm.stop) vm.show &#x3D; false</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      )</span><br><span class="line">    &#125;,</span><br><span class="line">    leave: function (el, done) &#123;</span><br><span class="line">      var vm &#x3D; this</span><br><span class="line">      Velocity(el,</span><br><span class="line">        &#123; opacity: 0 &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          duration: this.fadeOutDuration,</span><br><span class="line">          complete: function () &#123;</span><br><span class="line">            done()</span><br><span class="line">            vm.show &#x3D; true</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      )</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h2 id="ç”Ÿå‘½å‘¨æœŸ"><a href="#ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="ç”Ÿå‘½å‘¨æœŸ"></a>ç”Ÿå‘½å‘¨æœŸ</h2><p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/56cec792e380e9ac3e8ff4da6aa9a3be-325989" alt="ç”Ÿå‘½å‘¨æœŸ"></p>
<hr>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>è¿™éƒ¨åˆ†ä¸»è¦è®°å½•äº†VueåŸºç¡€ï¼Œè¿˜éœ€è¦ç»“åˆé¡¹ç›®å»æ·±å…¥å­¦ä¹ ï¼ŒåŒ…æ‹¬å¦‚ä½•å’ŒSpringBootç»“åˆï¼æœ€åé¸¡æ±¤ï¼š<strong>å”¯ä¸€çš„é™åˆ¶æ˜¯ä½ çš„æƒ³è±¡åŠ›!</strong></p>
]]></content>
      <categories>
        <category>Vue</category>
      </categories>
  </entry>
  <entry>
    <title>VueçŠ¶æ€ç®¡ç†æ¨¡å¼ç»„ä»¶Vuex</title>
    <url>/2020/07/29/Vue%E7%8A%B6%E6%80%81%E7%AE%A1%E7%90%86%E6%A8%A1%E5%BC%8F%E7%BB%84%E4%BB%B6Vuex/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>Vuex æ˜¯ä¸€ä¸ªä¸“ä¸º Vue.js åº”ç”¨ç¨‹åºå¼€å‘çš„çŠ¶æ€ç®¡ç†æ¨¡å¼ï¼Œé‡‡ç”¨é›†ä¸­å¼å­˜å‚¨ç®¡ç†åº”ç”¨çš„æ‰€æœ‰ç»„ä»¶çš„çŠ¶æ€ï¼Œå¹¶ä»¥ç›¸åº”çš„è§„åˆ™ä¿è¯çŠ¶æ€ä»¥ä¸€ç§å¯é¢„æµ‹çš„æ–¹å¼å‘ç”Ÿå˜åŒ–ï¼ˆæ ¸å¿ƒå°±æ˜¯ storeï¼ˆä»“åº“ï¼‰ï¼Œå°±å½“å®ƒç”¨æ¥å‚¨å­˜ä¸œè¥¿çš„ï¼‰ã€‚å¦‚æœåœ¨ä¸€ä¸ªé¡¹ç›®å¼€å‘ä¸­é¢‘ç¹çš„ä½¿ç”¨ç»„ä»¶ä¼ å‚çš„æ–¹å¼æ¥åŒæ­¥dataä¸­çš„å€¼ï¼Œä¸€æ—¦é¡¹ç›®å˜å¾—å¾ˆåºå¤§ï¼Œç®¡ç†å’Œç»´æŠ¤è¿™äº›å€¼å°†æ˜¯ç›¸å½“æ£˜æ‰‹çš„å·¥ä½œï¼Œè€ŒVuexèƒ½å¤Ÿä½¿å¾—è¿™ä¸€æ£˜æ‰‹çš„å·¥ä½œå˜å¾—å®¹æ˜“äº†ï¼Œå½“ç„¶è¿™éœ€è¦å¯¹çŸ­æœŸå’Œé•¿æœŸæ•ˆç›Šè¿›è¡Œæƒè¡¡ã€‚è¿™éƒ¨åˆ†ä¸»è¦è®°å½•å¦‚ä½•ä½¿ç”¨Vuexï¼</p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="åŸºç¡€çŸ¥è¯†"><a href="#åŸºç¡€çŸ¥è¯†" class="headerlink" title="åŸºç¡€çŸ¥è¯†"></a>åŸºç¡€çŸ¥è¯†</h2><ol>
<li><p>Vuex ä¾èµ– Promiseï¼Œå¦‚æœæ”¯æŒçš„æµè§ˆå™¨æ²¡æœ‰å®ç° Promise (æ¯”å¦‚ IE)ï¼Œå¯ä»¥ä½¿ç”¨ä¸€ä¸ª polyfill çš„åº“æ¥æ›¿ä»£ï¼›</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">npm install es6-promise --save</span><br></pre></td></tr></table></figure>

<ul>
<li><p>å°†ä¸‹åˆ—ä»£ç æ·»åŠ åˆ°ä½ ä½¿ç”¨ Vuex ä¹‹å‰çš„ä¸€ä¸ªåœ°æ–¹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import &#39;es6-promise&#x2F;auto&#39;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>è§£å†³çš„é—®é¢˜ï¼šå¦‚æœåœ¨ä¸€ä¸ªé¡¹ç›®å¼€å‘ä¸­é¢‘ç¹çš„ä½¿ç”¨ç»„ä»¶ä¼ å‚çš„æ–¹å¼æ¥åŒæ­¥dataä¸­çš„å€¼ï¼Œä¸€æ—¦é¡¹ç›®å˜å¾—å¾ˆåºå¤§ï¼Œç®¡ç†å’Œç»´æŠ¤è¿™äº›å€¼å°†æ˜¯ç›¸å½“æ£˜æ‰‹çš„å·¥ä½œã€‚å°†éœ€è¦å…±äº«çš„dataï¼Œä½¿ç”¨vuexè¿›è¡Œç»Ÿä¸€é›†ä¸­å¼çš„ç®¡ç†ï¼›</p>
<ul>
<li><p>å­ç»„ä»¶é€šè®¯</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/b49079da6f94855102dca515e73707f9-144288" alt="å­ç»„ä»¶é€šè®¯"></p>
</li>
<li><p>è¯´æ˜ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">Aç»„ä»¶è¯´: <span class="string">"æŠ¥å‘Šè€å¤§, èƒ½å¦å¸®æˆ‘æ‰˜ä¸ªä¿¡ç»™å°å¼ŸB"</span> =&gt; dispatchä¸€ä¸ªäº‹ä»¶ç»™App</span><br><span class="line">Appè€å¤§è¯´: <span class="string">"åŒ…åœ¨æˆ‘èº«ä¸Š, å®ƒéœ€è¦ç›‘å¬Aç»„ä»¶çš„dispatchçš„æ—¶é—´, åŒæ—¶éœ€è¦broadcastä¸€ä¸ªäº‹ä»¶ç»™Bç»„ä»¶"</span></span><br><span class="line">Bå°å¼Ÿè¯´: <span class="string">"ä¿¡æ¯å·²æ”¶åˆ°"</span>, å®ƒéœ€è¦onç›‘å¬Appç»„ä»¶åˆ†å‘çš„äº‹ä»¶</span><br></pre></td></tr></table></figure>
</li>
<li><p>å¦‚æœçˆ¶ç»„ä»¶ä¸‹æœ‰å¤šä¸ªå­ç»„ä»¶, å­ç»„ä»¶ä¹‹é—´é€šè®¯çš„è·¯å¾„å°±ä¼šå˜çš„å¾ˆç¹ç, çˆ¶ç»„ä»¶éœ€è¦ç›‘å¬å¤§é‡çš„äº‹ä»¶, è¿˜éœ€è¦è´Ÿè´£åˆ†å‘ç»™ä¸åŒçš„å­ç»„ä»¶</p>
</li>
</ul>
</li>
<li><p>åœ¨å…·æœ‰VueXçš„Vueé¡¹ç›®ä¸­ï¼Œåªéœ€è¦æŠŠè¿™äº›å€¼å®šä¹‰åœ¨VueXä¸­ï¼Œå³å¯åœ¨æ•´ä¸ªVueé¡¹ç›®çš„ç»„ä»¶ä¸­ä½¿ç”¨ï¼›</p>
</li>
<li><p>Vuexæµç¨‹å›¾ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/7005773f4203c7b0c761086ae7da0c96-33632" alt="Vuexæµç¨‹å›¾"></p>
<ul>
<li>ç»¿è‰²è™šçº¿åŒ…è£¹èµ·æ¥çš„éƒ¨åˆ†å°±æ˜¯Vuexçš„æ ¸å¿ƒï¼Œstateä¸­ä¿å­˜çš„å°±æ˜¯å…¬å…±çŠ¶æ€, æ”¹å˜stateçš„å”¯ä¸€æ–¹å¼å°±æ˜¯é€šè¿‡mutationsè¿›è¡Œæ›´æ”¹</li>
</ul>
</li>
<li><p>ä½¿ç”¨åœºæ™¯ï¼šéœ€è¦æ„å»ºä¸€ä¸ªä¸­å¤§å‹å•é¡µåº”ç”¨ï¼Œå¾ˆå¯èƒ½ä¼šè€ƒè™‘å¦‚ä½•æ›´å¥½åœ°åœ¨ç»„ä»¶å¤–éƒ¨ç®¡ç†çŠ¶æ€ï¼ŒVuex å°†ä¼šæˆä¸ºè‡ªç„¶è€Œç„¶çš„é€‰æ‹©</p>
<ul>
<li>ç»„ä»¶ä¹‹é—´çš„æ•°æ®é€šä¿¡</li>
<li>ä½¿ç”¨å•å‘æ•°æ®æµçš„æ–¹å¼è¿›è¡Œæ•°æ®çš„ä¸­å¿ƒåŒ–ç®¡ç†</li>
<li>å¤šä¸ªè§†å›¾ä½¿ç”¨äºåŒä¸€çŠ¶æ€</li>
<li>ä¸åŒè§†å›¾éœ€è¦å˜æ›´åŒä¸€çŠ¶æ€</li>
</ul>
</li>
<li><p>æ¯ä¸€ä¸ª Vuex åº”ç”¨çš„æ ¸å¿ƒå°±æ˜¯ storeï¼ˆä»“åº“ï¼‰ã€‚â€œstoreâ€åŸºæœ¬ä¸Šå°±æ˜¯ä¸€ä¸ªå®¹å™¨ï¼Œå®ƒåŒ…å«ç€ä½ çš„åº”ç”¨ä¸­å¤§éƒ¨åˆ†çš„<strong>çŠ¶æ€ (state)</strong>ï¼›</p>
</li>
<li><p>Vuex å’Œå•çº¯çš„å…¨å±€å¯¹è±¡æœ‰ä»¥ä¸‹ä¸¤ç‚¹ä¸åŒï¼š</p>
<ul>
<li>Vuex çš„çŠ¶æ€å­˜å‚¨æ˜¯å“åº”å¼çš„â€”â€”å½“ Vue ç»„ä»¶ä» store ä¸­è¯»å–çŠ¶æ€çš„æ—¶å€™ï¼Œè‹¥ store ä¸­çš„çŠ¶æ€å‘ç”Ÿå˜åŒ–ï¼Œé‚£ä¹ˆç›¸åº”çš„ç»„ä»¶ä¹Ÿä¼šç›¸åº”åœ°å¾—åˆ°é«˜æ•ˆæ›´æ–°</li>
<li>ä¸èƒ½ç›´æ¥æ”¹å˜ store ä¸­çš„çŠ¶æ€â€”â€”æ”¹å˜ store ä¸­çš„çŠ¶æ€çš„å”¯ä¸€é€”å¾„å°±æ˜¯æ˜¾å¼åœ°<strong>æäº¤ (commit) mutation</strong>ï¼Œå¯ä»¥æ–¹ä¾¿åœ°è·Ÿè¸ªæ¯ä¸€ä¸ªçŠ¶æ€çš„å˜åŒ–</li>
</ul>
</li>
<li><p>Vueä»¥åŠVuexçš„ç”Ÿå‘½å‘¨æœŸ:</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/d65febd43f4faaeff4b01d9684c52d8b-57739" alt="Vueä»¥åŠVuexçš„ç”Ÿå‘½å‘¨æœŸ"></p>
</li>
</ol>
<h2 id="æ ¸å¿ƒæ¦‚å¿µ"><a href="#æ ¸å¿ƒæ¦‚å¿µ" class="headerlink" title="æ ¸å¿ƒæ¦‚å¿µ"></a>æ ¸å¿ƒæ¦‚å¿µ</h2><h3 id="state"><a href="#state" class="headerlink" title="state"></a>state</h3><ol>
<li>Vuex ä½¿ç”¨<strong>å•ä¸€çŠ¶æ€æ ‘</strong>ï¼Œæ¯ä¸ªåº”ç”¨å°†ä»…ä»…åŒ…å«ä¸€ä¸ª store å®ä¾‹ã€‚åœ¨è°ƒè¯•çš„è¿‡ç¨‹ä¸­èƒ½è½»æ˜“åœ°å–å¾—æ•´ä¸ªå½“å‰åº”ç”¨çŠ¶æ€çš„å¿«ç…§ï¼›</li>
<li>Vuex çš„çŠ¶æ€å­˜å‚¨æ˜¯å“åº”å¼çš„ï¼Œä» store å®ä¾‹ä¸­è¯»å–çŠ¶æ€æœ€ç®€å•çš„æ–¹æ³•å°±æ˜¯åœ¨<strong>è®¡ç®—å±æ€§</strong>ä¸­è¿”å›æŸä¸ªçŠ¶æ€ï¼›</li>
<li>Vuex é€šè¿‡ store é€‰é¡¹ï¼Œæä¾›äº†ä¸€ç§æœºåˆ¶å°†çŠ¶æ€ä»æ ¹ç»„ä»¶â€œæ³¨å…¥â€åˆ°æ¯ä¸€ä¸ªå­ç»„ä»¶ä¸­ã€‚å¯ä»¥å°†stateçœ‹ä½œæ˜¯æ‰€æœ‰ç»„ä»¶çš„dataï¼Œç”¨äºä¿å­˜æ‰€æœ‰ç»„ä»¶çš„å…¬å…±æ•°æ®ï¼›</li>
<li>ä½¿ç”¨ Vuex å¹¶ä¸æ„å‘³ç€ä½ éœ€è¦å°†æ‰€æœ‰çš„çŠ¶æ€æ”¾å…¥ Vuexã€‚å¦‚æœæœ‰äº›çŠ¶æ€ä¸¥æ ¼å±äºå•ä¸ªç»„ä»¶ï¼Œæœ€å¥½è¿˜æ˜¯ä½œä¸ºç»„ä»¶çš„å±€éƒ¨çŠ¶æ€ï¼Œåº”è¯¥æ ¹æ®ä½ çš„åº”ç”¨å¼€å‘éœ€è¦è¿›è¡Œæƒè¡¡å’Œç¡®å®šï¼</li>
</ol>
<h3 id="getter"><a href="#getter" class="headerlink" title="getter"></a>getter</h3><ol>
<li>Vuex å…è®¸åœ¨ store ä¸­å®šä¹‰â€œgetterâ€ï¼Œå°±åƒè®¡ç®—å±æ€§ä¸€æ ·ï¼Œgetter çš„è¿”å›å€¼ä¼šæ ¹æ®å®ƒçš„ä¾èµ–è¢«ç¼“å­˜èµ·æ¥ï¼Œä¸”åªæœ‰å½“å®ƒçš„ä¾èµ–å€¼å‘ç”Ÿäº†æ”¹å˜æ‰ä¼šè¢«é‡æ–°è®¡ç®—ã€‚å¯ä»¥ç†è§£ä¸ºæ‰€æœ‰ç»„ä»¶çš„computedå±æ€§ï¼›</li>
<li>getterä¼ å‚ï¼š<ul>
<li>æ¥å— state ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°</li>
<li>æ¥å—å…¶ä»– getter ä½œä¸ºç¬¬äºŒä¸ªå‚æ•°</li>
</ul>
</li>
<li>å¯ä»¥é€šè¿‡è®© getter è¿”å›ä¸€ä¸ªå‡½æ•°ï¼Œæ¥å®ç°ç»™ getter ä¼ å‚ï¼Œåœ¨å¯¹ store é‡Œçš„æ•°ç»„è¿›è¡ŒæŸ¥è¯¢æ—¶éå¸¸æœ‰ç”¨ã€‚getter åœ¨é€šè¿‡æ–¹æ³•è®¿é—®æ—¶ï¼Œæ¯æ¬¡éƒ½ä¼šå»è¿›è¡Œè°ƒç”¨ï¼Œå¹¶ä¸”ä¸ä¼šç¼“å­˜ç»“æœã€‚</li>
</ol>
<h3 id="mutation"><a href="#mutation" class="headerlink" title="mutation"></a>mutation</h3><ol>
<li>æ›´æ”¹ Vuex çš„ store ä¸­çš„çŠ¶æ€çš„å”¯ä¸€æ–¹æ³•æ˜¯æäº¤ mutationã€‚å¯ä»¥ç†è§£ä¸ºstoreä¸­çš„methodsï¼›</li>
<li>ä¸èƒ½ç›´æ¥è°ƒç”¨ä¸€ä¸ª mutation å›è°ƒå‡½æ•°ï¼Œéœ€è¦ä»¥ç›¸åº”çš„ type è°ƒç”¨ <strong>store.commit</strong> æ–¹æ³•ï¼›</li>
<li>å¯ä»¥å‘ store.commit ä¼ å…¥é¢å¤–çš„å‚æ•°ï¼Œå³ mutation çš„è½½è·ï¼ˆpayloadï¼‰ã€‚åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œè½½è·åº”è¯¥æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œè¿™æ ·å¯ä»¥åŒ…å«å¤šä¸ªå­—æ®µå¹¶ä¸”è®°å½•çš„ mutation ä¼šæ›´æ˜“è¯»ï¼›</li>
<li>æäº¤ mutation çš„å¦ä¸€ç§æ–¹å¼æ˜¯ç›´æ¥ä½¿ç”¨åŒ…å« type å±æ€§çš„å¯¹è±¡ã€‚å½“ä½¿ç”¨å¯¹è±¡é£æ ¼çš„æäº¤æ–¹å¼ï¼Œæ•´ä¸ªå¯¹è±¡éƒ½ä½œä¸ºè½½è·ä¼ ç»™ mutation å‡½æ•°ï¼Œå› æ­¤ handler ä¿æŒä¸å˜ï¼›</li>
<li>ä½¿ç”¨Vuex ä¸­çš„ mutationæ³¨æ„äº‹é¡¹ï¼š<ul>
<li>æœ€å¥½æå‰åœ¨ store ä¸­åˆå§‹åŒ–å¥½æ‰€æœ‰çš„æ‰€éœ€å±æ€§</li>
<li>å½“éœ€è¦åœ¨å¯¹è±¡ä¸Šæ·»åŠ æ–°å±æ€§æ—¶ï¼Œåº”è¯¥<ul>
<li>ä½¿ç”¨ Vue.set(obj, â€˜newPropâ€™, 123)</li>
<li>ä»¥æ–°å¯¹è±¡æ›¿æ¢è€å¯¹è±¡</li>
</ul>
</li>
</ul>
</li>
<li><strong>mutation å¿…é¡»æ˜¯åŒæ­¥å‡½æ•°ï¼</strong>åœ¨ mutation ä¸­æ··åˆå¼‚æ­¥è°ƒç”¨ä¼šå¯¼è‡´ä½ çš„ç¨‹åºå¾ˆéš¾è°ƒè¯•ã€‚</li>
</ol>
<h3 id="action"><a href="#action" class="headerlink" title="action"></a>action</h3><ol>
<li>action ç±»ä¼¼äº mutationï¼Œä¸åŒåœ¨äºï¼š<ul>
<li>Action æäº¤çš„æ˜¯ mutationï¼Œè€Œä¸æ˜¯ç›´æ¥å˜æ›´çŠ¶æ€</li>
<li>Action å¯ä»¥åŒ…å«ä»»æ„å¼‚æ­¥æ“ä½œ</li>
</ul>
</li>
<li>action å‡½æ•°æ¥å—ä¸€ä¸ªä¸ store å®ä¾‹å…·æœ‰ç›¸åŒæ–¹æ³•å’Œå±æ€§çš„ context å¯¹è±¡ï¼›</li>
<li>action é€šè¿‡ store.dispatch æ–¹æ³•è§¦å‘ï¼›</li>
</ol>
<h3 id="module"><a href="#module" class="headerlink" title="module"></a>module</h3><ol>
<li>é—®é¢˜ï¼šç”±äºä½¿ç”¨å•ä¸€çŠ¶æ€æ ‘ï¼Œåº”ç”¨çš„æ‰€æœ‰çŠ¶æ€ä¼šé›†ä¸­åˆ°ä¸€ä¸ªæ¯”è¾ƒå¤§çš„å¯¹è±¡ã€‚å½“åº”ç”¨å˜å¾—éå¸¸å¤æ‚æ—¶ï¼Œstore å¯¹è±¡å°±æœ‰å¯èƒ½å˜å¾—ç›¸å½“è‡ƒè‚¿ï¼</li>
<li>Vuex å…è®¸å°† store åˆ†å‰²æˆæ¨¡å—ï¼ˆmoduleï¼‰ã€‚æ¯ä¸ªæ¨¡å—æ‹¥æœ‰è‡ªå·±çš„ stateã€mutationã€actionã€getterã€ç”šè‡³æ˜¯åµŒå¥—å­æ¨¡å—â€”â€”ä»ä¸Šè‡³ä¸‹è¿›è¡ŒåŒæ ·æ–¹å¼çš„åˆ†å‰²ï¼›</li>
<li>å¯¹äºæ¨¡å—å†…éƒ¨çš„ mutation å’Œ getterï¼Œæ¥æ”¶çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯æ¨¡å—çš„å±€éƒ¨çŠ¶æ€å¯¹è±¡ã€‚å¯¹äºæ¨¡å—å†…éƒ¨çš„ actionï¼Œå±€éƒ¨çŠ¶æ€é€šè¿‡ context.state æš´éœ²å‡ºæ¥ï¼Œæ ¹èŠ‚ç‚¹çŠ¶æ€åˆ™ä¸º context.rootStateï¼›</li>
<li>é€šè¿‡æ·»åŠ  namespaced: true çš„æ–¹å¼ä½¿å¾—æ¨¡å—æˆä¸ºå¸¦å‘½åç©ºé—´çš„æ¨¡å—ï¼›</li>
<li>åœ¨ store åˆ›å»ºä¹‹åï¼Œå¯ä»¥ä½¿ç”¨ store.registerModule æ–¹æ³•æ³¨å†Œæ¨¡å—ã€‚æ¨¡å—åŠ¨æ€æ³¨å†ŒåŠŸèƒ½ä½¿å¾—å…¶ä»– Vue æ’ä»¶å¯ä»¥é€šè¿‡åœ¨ store ä¸­é™„åŠ æ–°æ¨¡å—çš„æ–¹å¼æ¥ä½¿ç”¨ Vuex ç®¡ç†çŠ¶æ€ï¼›</li>
<li>å¯ä»¥ä½¿ç”¨ store.unregisterModule(moduleName) æ¥åŠ¨æ€å¸è½½æ¨¡å—ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ä¸èƒ½ä½¿ç”¨æ­¤æ–¹æ³•å¸è½½é™æ€æ¨¡å—ï¼ˆå³åˆ›å»º store æ—¶å£°æ˜çš„æ¨¡å—ï¼‰ï¼›</li>
<li>å¯ä»¥é€šè¿‡ store.hasModule(moduleName) æ–¹æ³•æ£€æŸ¥è¯¥æ¨¡å—æ˜¯å¦å·²ç»è¢«æ³¨å†Œåˆ° storeã€‚</li>
</ol>
<h2 id="é¡¹ç›®ç»“æ„"><a href="#é¡¹ç›®ç»“æ„" class="headerlink" title="é¡¹ç›®ç»“æ„"></a>é¡¹ç›®ç»“æ„</h2><ol>
<li><p>Vuexè§„å®šäº†ä¸€äº›éœ€è¦éµå®ˆçš„è§„åˆ™ï¼š</p>
<ul>
<li>åº”ç”¨å±‚çº§çš„çŠ¶æ€åº”è¯¥é›†ä¸­åˆ°å•ä¸ª store å¯¹è±¡ä¸­</li>
<li>æäº¤ mutation æ˜¯æ›´æ”¹çŠ¶æ€çš„å”¯ä¸€æ–¹æ³•ï¼Œå¹¶ä¸”è¿™ä¸ªè¿‡ç¨‹æ˜¯åŒæ­¥çš„</li>
<li>å¼‚æ­¥é€»è¾‘éƒ½åº”è¯¥å°è£…åˆ° action é‡Œé¢</li>
</ul>
</li>
<li><p>å¯¹äºå¤§å‹åº”ç”¨ï¼Œé€šå¸¸ä¼šå¸Œæœ›æŠŠ Vuex ç›¸å…³ä»£ç åˆ†å‰²åˆ°æ¨¡å—ä¸­ã€‚é¡¹ç›®ç»“æ„ç¤ºä¾‹ï¼š</p>
<figure class="highlight properties"><table><tr><td class="code"><pre><span class="line"><span class="meta">â”œâ”€â”€</span> <span class="string">index.html</span></span><br><span class="line"><span class="meta">â”œâ”€â”€</span> <span class="string">main.js</span></span><br><span class="line"><span class="meta">â”œâ”€â”€</span> <span class="string">api</span></span><br><span class="line"><span class="meta">â”‚</span>   <span class="string">â””â”€â”€ ... # æŠ½å–å‡ºAPIè¯·æ±‚</span></span><br><span class="line"><span class="meta">â”œâ”€â”€</span> <span class="string">components</span></span><br><span class="line"><span class="meta">â”‚</span>   <span class="string">â”œâ”€â”€ App.vue</span></span><br><span class="line"><span class="meta">â”‚</span>   <span class="string">â””â”€â”€ ...</span></span><br><span class="line"><span class="meta">â””â”€â”€</span> <span class="string">store</span></span><br><span class="line">    <span class="meta">â”œâ”€â”€</span> <span class="string">index.js          # æˆ‘ä»¬ç»„è£…æ¨¡å—å¹¶å¯¼å‡º store çš„åœ°æ–¹</span></span><br><span class="line">    <span class="meta">â”œâ”€â”€</span> <span class="string">actions.js        # æ ¹çº§åˆ«çš„ action</span></span><br><span class="line">    <span class="meta">â”œâ”€â”€</span> <span class="string">mutations.js      # æ ¹çº§åˆ«çš„ mutation</span></span><br><span class="line">    <span class="meta">â””â”€â”€</span> <span class="string">modules</span></span><br><span class="line">        <span class="meta">â”œâ”€â”€</span> <span class="string">cart.js       # è´­ç‰©è½¦æ¨¡å—</span></span><br><span class="line">        <span class="meta">â””â”€â”€</span> <span class="string">products.js   # äº§å“æ¨¡å—</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>æ‹†åˆ†ä¹‹åçš„æ–‡ä»¶ç»“æ„å¦‚ä¸‹ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/ed2ba03132ba1fc1e9d0f1e47fe57a79-18831" alt="æ‹†åˆ†vuex"></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// index.js</span></span><br><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span></span><br><span class="line"><span class="keyword">import</span> Vuex <span class="keyword">from</span> <span class="string">'vuex'</span></span><br><span class="line"><span class="keyword">import</span> state <span class="keyword">from</span> <span class="string">'./state'</span></span><br><span class="line"><span class="keyword">import</span> mutations <span class="keyword">from</span> <span class="string">'./mutations'</span></span><br><span class="line"><span class="keyword">import</span> actions <span class="keyword">from</span> <span class="string">"@/store/actions"</span>;</span><br><span class="line"><span class="comment">//æŒ‚è½½Vuex</span></span><br><span class="line">Vue.use(Vuex)</span><br><span class="line"></span><br><span class="line"><span class="comment">//åˆ›å»ºVueXå¯¹è±¡</span></span><br><span class="line"><span class="keyword">const</span> store = <span class="keyword">new</span> Vuex.Store(&#123;</span><br><span class="line">    state,</span><br><span class="line">    mutations,</span><br><span class="line">    actions</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> store</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// actions.js</span></span><br><span class="line"><span class="keyword">const</span> actions= &#123;</span><br><span class="line">    aEdit(context,payload)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve</span>)=&gt;</span>&#123;</span><br><span class="line">            setTimeout(<span class="function"><span class="params">()</span>=&gt;</span>&#123;</span><br><span class="line">                context.commit(<span class="string">'edit'</span>,payload)</span><br><span class="line">                resolve()</span><br><span class="line">            &#125;,<span class="number">2000</span>)</span><br><span class="line"></span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> actions</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// mutations.js</span></span><br><span class="line"><span class="keyword">const</span> mutations= &#123;</span><br><span class="line">    edit(state,name)&#123;</span><br><span class="line">        state.name= name</span><br><span class="line">    &#125;,</span><br><span class="line">    ageedit(state)&#123;</span><br><span class="line">        state.age=<span class="number">12</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> mutations</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// state.js</span></span><br><span class="line"><span class="keyword">const</span> state = &#123;</span><br><span class="line">    <span class="comment">//å­˜æ”¾çš„é”®å€¼å¯¹å°±æ˜¯æ‰€è¦ç®¡ç†çš„çŠ¶æ€</span></span><br><span class="line">    name:<span class="string">'helloVueX'</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> state;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h2 id="å…¶ä»–"><a href="#å…¶ä»–" class="headerlink" title="å…¶ä»–"></a>å…¶ä»–</h2><h3 id="æ’ä»¶"><a href="#æ’ä»¶" class="headerlink" title="æ’ä»¶"></a>æ’ä»¶</h3><ol>
<li>Vuex çš„ store æ¥å— plugins é€‰é¡¹ï¼Œè¿™ä¸ªé€‰é¡¹æš´éœ²å‡ºæ¯æ¬¡ mutation çš„é’©å­ã€‚Vuex æ’ä»¶å°±æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒæ¥æ”¶ store ä½œä¸ºå”¯ä¸€å‚æ•°ï¼›</li>
<li>åœ¨æ’ä»¶ä¸­ä¸å…è®¸ç›´æ¥ä¿®æ”¹çŠ¶æ€ï¼Œåªèƒ½é€šè¿‡æäº¤ mutation æ¥è§¦å‘å˜åŒ–ï¼›</li>
<li>é€šè¿‡æäº¤ mutationï¼Œæ’ä»¶å¯ä»¥ç”¨æ¥åŒæ­¥æ•°æ®æºåˆ° storeï¼›</li>
<li>æœ‰æ—¶å€™æ’ä»¶éœ€è¦è·å¾—çŠ¶æ€çš„â€œå¿«ç…§â€ï¼Œæ¯”è¾ƒæ”¹å˜çš„å‰åçŠ¶æ€ã€‚æƒ³è¦å®ç°è¿™é¡¹åŠŸèƒ½ï¼Œéœ€è¦å¯¹çŠ¶æ€å¯¹è±¡è¿›è¡Œæ·±æ‹·è´ï¼›</li>
<li>Vuex è‡ªå¸¦ä¸€ä¸ªæ—¥å¿—æ’ä»¶ç”¨äºä¸€èˆ¬çš„è°ƒè¯•ã€‚</li>
</ol>
<h3 id="ä¸¥æ ¼æ¨¡å¼"><a href="#ä¸¥æ ¼æ¨¡å¼" class="headerlink" title="ä¸¥æ ¼æ¨¡å¼"></a>ä¸¥æ ¼æ¨¡å¼</h3><ol>
<li>å¼€å¯ä¸¥æ ¼æ¨¡å¼ï¼Œä»…éœ€åœ¨åˆ›å»º store çš„æ—¶å€™ä¼ å…¥ strict: trueï¼›</li>
<li>åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œæ— è®ºä½•æ—¶å‘ç”Ÿäº†çŠ¶æ€å˜æ›´ä¸”ä¸æ˜¯ç”± mutation å‡½æ•°å¼•èµ·çš„ï¼Œå°†ä¼šæŠ›å‡ºé”™è¯¯ï¼›</li>
<li><strong>ä¸è¦åœ¨å‘å¸ƒç¯å¢ƒä¸‹å¯ç”¨ä¸¥æ ¼æ¨¡å¼ï¼</strong>ä¸¥æ ¼æ¨¡å¼ä¼šæ·±åº¦ç›‘æµ‹çŠ¶æ€æ ‘æ¥æ£€æµ‹ä¸åˆè§„çš„çŠ¶æ€å˜æ›´â€”â€”è¯·ç¡®ä¿åœ¨å‘å¸ƒç¯å¢ƒä¸‹å…³é—­ä¸¥æ ¼æ¨¡å¼ï¼Œä»¥é¿å…æ€§èƒ½æŸå¤±ã€‚</li>
</ol>
<h3 id="çƒ­é‡è½½"><a href="#çƒ­é‡è½½" class="headerlink" title="çƒ­é‡è½½"></a>çƒ­é‡è½½</h3><ol>
<li>Vuex æ”¯æŒåœ¨å¼€å‘è¿‡ç¨‹ä¸­çƒ­é‡è½½ mutationã€moduleã€action å’Œ getterï¼›</li>
<li>å¯¹äº mutation å’Œæ¨¡å—ï¼Œä½ éœ€è¦ä½¿ç”¨ store.hotUpdate() æ–¹æ³•ï¼›</li>
<li>å¯ä»¥ä½¿ç”¨ require.context æ¥åŠ¨æ€åœ°åŠ è½½æˆ–çƒ­é‡è½½æ‰€æœ‰çš„æ¨¡å—ã€‚</li>
</ol>
<h3 id="çŠ¶æ€ç®¡ç†æ¨¡å¼"><a href="#çŠ¶æ€ç®¡ç†æ¨¡å¼" class="headerlink" title="çŠ¶æ€ç®¡ç†æ¨¡å¼"></a>çŠ¶æ€ç®¡ç†æ¨¡å¼</h3><ol>
<li><p>Vue è®¡æ•°åº”ç”¨:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">new Vue(&#123;</span><br><span class="line">  &#x2F;&#x2F; state</span><br><span class="line">  data () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      count: 0</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  &#x2F;&#x2F; view</span><br><span class="line">  template: &#96;</span><br><span class="line">    &lt;div&gt;&#123;&#123; count &#125;&#125;&lt;&#x2F;div&gt;</span><br><span class="line">  &#96;,</span><br><span class="line">  &#x2F;&#x2F; actions</span><br><span class="line">  methods: &#123;</span><br><span class="line">    increment () &#123;</span><br><span class="line">      this.count++</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<ul>
<li>stateï¼Œé©±åŠ¨åº”ç”¨çš„æ•°æ®æº</li>
<li>viewï¼Œä»¥å£°æ˜æ–¹å¼å°† state æ˜ å°„åˆ°è§†å›¾</li>
<li>actionsï¼Œå“åº”åœ¨ view ä¸Šçš„ç”¨æˆ·è¾“å…¥å¯¼è‡´çš„çŠ¶æ€å˜åŒ–</li>
</ul>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/983ea11f68f23d6a3229e13eafea6dc7-25103" alt="å•å‘æ•°æ®æµ"></p>
</li>
<li><p>å½“åº”ç”¨ä¸­è¿›è¡Œ<strong>å¤šä¸ªç»„ä»¶å…±äº«çŠ¶æ€</strong>æ—¶ï¼Œå•å‘æ•°æ®æµçš„ç®€æ´æ€§å¾ˆå®¹æ˜“è¢«ç ´åï¼š</p>
<ul>
<li>å¤šä¸ªè§†å›¾ä¾èµ–äºåŒä¸€çŠ¶æ€ï¼›ä¼ å‚çš„æ–¹æ³•å¯¹äºå¤šå±‚åµŒå¥—çš„ç»„ä»¶å°†ä¼šéå¸¸ç¹çï¼Œå¹¶ä¸”å¯¹äºå…„å¼Ÿç»„ä»¶é—´çš„çŠ¶æ€ä¼ é€’æ— èƒ½ä¸ºåŠ›</li>
<li>æ¥è‡ªä¸åŒè§†å›¾çš„è¡Œä¸ºéœ€è¦å˜æ›´åŒä¸€çŠ¶æ€ï¼›ç»å¸¸ä¼šé‡‡ç”¨çˆ¶å­ç»„ä»¶ç›´æ¥å¼•ç”¨æˆ–è€…é€šè¿‡äº‹ä»¶æ¥å˜æ›´å’ŒåŒæ­¥çŠ¶æ€çš„å¤šä»½æ‹·è´</li>
</ul>
</li>
<li><p>é€šè¿‡å®šä¹‰å’Œéš”ç¦»çŠ¶æ€ç®¡ç†ä¸­çš„å„ç§æ¦‚å¿µå¹¶é€šè¿‡å¼ºåˆ¶è§„åˆ™ç»´æŒè§†å›¾å’ŒçŠ¶æ€é—´çš„ç‹¬ç«‹æ€§ï¼Œä»£ç å°†ä¼šå˜å¾—æ›´ç»“æ„åŒ–ä¸”æ˜“ç»´æŠ¤ã€‚</p>
</li>
</ol>
<h2 id="å®‰è£…ä½¿ç”¨"><a href="#å®‰è£…ä½¿ç”¨" class="headerlink" title="å®‰è£…ä½¿ç”¨"></a>å®‰è£…ä½¿ç”¨</h2><ol>
<li><p>ç¯å¢ƒç‰ˆæœ¬ï¼š</p>
<ul>
<li>@vue/cliâ€”â€”4.4.6</li>
<li>nodeâ€”â€”v14.5.0</li>
</ul>
</li>
<li><p>ä½¿ç”¨cnpmåœ¨é¡¹ç›®ä¸‹å®‰è£…ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">cnpm install vuex --save</span><br></pre></td></tr></table></figure>
</li>
<li><p>å¼•ç”¨vuex(main.js)ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span></span><br><span class="line"><span class="keyword">import</span> Vuex <span class="keyword">from</span> <span class="string">'vuex'</span></span><br><span class="line"></span><br><span class="line">Vue.use(Vuex)</span><br></pre></td></tr></table></figure>
</li>
<li><p>åœ¨é¡¹ç›®çš„æ ¹ç›®å½•ä¸‹æ–°å¢ä¸€ä¸ªstoreæ–‡ä»¶å¤¹ï¼Œåœ¨è¯¥æ–‡ä»¶å¤¹å†…åˆ›å»ºindex.jsï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span></span><br><span class="line"><span class="keyword">import</span> Vuex <span class="keyword">from</span> <span class="string">'vuex'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æŒ‚è½½Vuex</span></span><br><span class="line">Vue.use(Vuex)</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ›å»ºVueXå¯¹è±¡</span></span><br><span class="line"><span class="keyword">const</span> store = <span class="keyword">new</span> Vuex.Store(&#123;</span><br><span class="line">  state: &#123;</span><br><span class="line">    <span class="comment">// å­˜æ”¾çš„é”®å€¼å¯¹å°±æ˜¯æ‰€è¦ç®¡ç†çš„çŠ¶æ€</span></span><br><span class="line">    name: <span class="string">'helloworld'</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> store</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä¿®æ”¹main.jsï¼Œæ·»åŠ å†…å®¹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> store <span class="keyword">from</span> <span class="string">'./store'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* eslint-disable no-new */</span></span><br><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  el: <span class="string">'#app'</span>,</span><br><span class="line">  router,</span><br><span class="line">  store,</span><br><span class="line">  components: &#123; App &#125;,</span><br><span class="line">  template: <span class="string">'&lt;App/&gt;'</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/ae015e5434a1da131f47b2f13ceecf57-16915" alt="åœ¨é¡¹ç›®ä¸­æ³¨å†Œvuex"></p>
</li>
<li><p>åœ¨ç»„ä»¶ä¸­ä½¿ç”¨Vuexï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div id&#x3D;&#39;app&#39;&gt;</span><br><span class="line">    name:</span><br><span class="line">    &lt;h1&gt;&#123;&#123; $store.state.name &#125;&#125;&lt;&#x2F;h1&gt;</span><br><span class="line">    &lt;p&gt;&#123;&#123;msg&#125;&#125;&lt;&#x2F;p&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#39;HelloWorld&#39;,</span><br><span class="line">  data () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      msg: &#39;Welcome to Your Vue.js App&#39;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- Add &quot;scoped&quot; attribute to limit CSS to this component only --&gt;</span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">h1 &#123;</span><br><span class="line">  font-weight: normal;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>gettersæµ‹è¯•ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// getters.js</span></span><br><span class="line"><span class="keyword">const</span> getters=&#123;</span><br><span class="line">    doneTodos: <span class="function"><span class="params">state</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> state.todos.filter(<span class="function"><span class="params">todo</span> =&gt;</span> todo.done)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> getters</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// actions.js</span></span><br><span class="line"><span class="keyword">const</span> actions= &#123;</span><br><span class="line">    aEdit(context,payload)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve</span>)=&gt;</span>&#123;</span><br><span class="line">            setTimeout(<span class="function"><span class="params">()</span>=&gt;</span>&#123;</span><br><span class="line">                context.commit(<span class="string">'edit'</span>,payload)</span><br><span class="line">                context.commit(<span class="string">'toedit'</span>)</span><br><span class="line">                resolve()</span><br><span class="line">            &#125;,<span class="number">2000</span>)</span><br><span class="line"></span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> actions</span><br></pre></td></tr></table></figure>

<ul>
<li><p>getter çš„è¿”å›å€¼ä¼šæ ¹æ®å®ƒçš„ä¾èµ–è¢«ç¼“å­˜èµ·æ¥ï¼Œä¸”åªæœ‰å½“å®ƒçš„ä¾èµ–å€¼å‘ç”Ÿäº†æ”¹å˜æ‰ä¼šè¢«é‡æ–°è®¡ç®—</p>
</li>
<li><p>getter åœ¨é€šè¿‡å±æ€§è®¿é—®æ—¶æ˜¯ä½œä¸º Vue çš„å“åº”å¼ç³»ç»Ÿçš„ä¸€éƒ¨åˆ†ç¼“å­˜å…¶ä¸­çš„</p>
</li>
<li><p>æŒ‰é”®å¤„ç†å‰ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/da042ae6890d41f436af463d73193705-49683" alt="æŒ‰é”®å¤„ç†å‰"></p>
</li>
<li><p>æŒ‰é”®å¤„ç†åï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/523d193454a3659c43e166ef54993c0f-45810" alt="æŒ‰é”®å¤„ç†å"></p>
</li>
</ul>
</li>
<li><p>Vueè°·æ­Œå¼€å‘å·¥å…·è°ƒè¯•:</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/09fbf208d02953f3792d094689aef292-137574" alt="è°ƒè¯•å·¥å…·"></p>
</li>
<li><p>å¼•å…¥vuexè¾…åŠ©å‡½æ•°ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/07269283e6ba8d5535175e1633758686-48410" alt="å¼•å…¥vuexè¾…åŠ©å‡½æ•°"></p>
</li>
</ol>
<h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ul>
<li>å®˜æ–¹æ•™ç¨‹ï¼š<a href="https://vuex.vuejs.org/zh/" target="_blank" rel="noopener">https://vuex.vuejs.org/zh/</a></li>
</ul>
<hr>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>Vuexè§£å†³äº†ä¸€äº›ç¼–ç¨‹ä¸­çš„é—®é¢˜ï¼Œä¸»è¦æ˜¯è§„èŒƒä»¥åŠæä¾›çš„å¼€å‘å·¥å…·ä½¿å¾—é¡¹ç›®å¼€å‘è¿‡ç¨‹ä¸­å¾ˆèˆ’æœï¼å‰ç«¯ç°åœ¨ä¹Ÿè¶Šæ¥è¶Šåå‘æ¶æ„åŒ–äº†ï¼Œå› æ­¤å­¦ä¹ è¿™äº›å†…å®¹å¯¹äºå…¨æ ˆå¼€å‘è¿˜æ˜¯æœ‰æ„ä¹‰çš„ï¼å…·ä½“ä»€ä¹ˆæ—¶å€™ç”¨Vuexï¼ŒæŒ‰ç…§ä¸€äº›å¼€å‘äººå‘˜è¯´çš„ï¼Œ<strong>å½“è§‰å¾—éœ€è¦ä½¿ç”¨çš„æ—¶å€™ç”¨å°±å¥½äº†ï¼</strong></p>
]]></content>
      <categories>
        <category>Vue</category>
      </categories>
  </entry>
  <entry>
    <title>Vueè¿›é˜¶ä¸€æœŸ</title>
    <url>/2020/07/16/Vue%E8%BF%9B%E9%98%B6%E4%B8%80%E6%9C%9F/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>è¿™éƒ¨åˆ†è®°å½•å¦‚ä½•ä½¿ç”¨Vueæ„å»ºå‰ç«¯é¡µé¢çš„è¿‡ç¨‹ï¼ä»¥åŠåŸºäºæ¨¡æ¿åˆ›å»ºå‰ç«¯é¡¹ç›®ï¼Œè¿˜æœ‰è®°å½•ä¸€äº›æ¯”è¾ƒä¼˜ç§€çš„Vueæ¨¡æ¿é¡¹ç›®ï¼</p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="å‘½ä»¤è¡Œå·¥å…·"><a href="#å‘½ä»¤è¡Œå·¥å…·" class="headerlink" title="å‘½ä»¤è¡Œå·¥å…·"></a>å‘½ä»¤è¡Œå·¥å…·</h2><ol>
<li><p>Vue.js æä¾›ä¸€ä¸ªå®˜æ–¹å‘½ä»¤è¡Œå·¥å…·ï¼Œå¯ç”¨äºå¿«é€Ÿæ­å»ºå¤§å‹å•é¡µåº”ç”¨ã€‚è¯¥å·¥å…·æä¾›å¼€ç®±å³ç”¨çš„æ„å»ºå·¥å…·é…ç½®ï¼Œå¸¦æ¥ç°ä»£åŒ–çš„å‰ç«¯å¼€å‘æµç¨‹ã€‚åªéœ€å‡ åˆ†é’Ÿå³å¯åˆ›å»ºå¹¶å¯åŠ¨ä¸€ä¸ªå¸¦çƒ­é‡è½½ã€ä¿å­˜æ—¶é™æ€æ£€æŸ¥ä»¥åŠå¯ç”¨äºç”Ÿäº§ç¯å¢ƒçš„æ„å»ºé…ç½®çš„é¡¹ç›®ï¼›</p>
</li>
<li><p>ä½¿ç”¨webpackæ¨¡æ¿æ„å»ºé¡¹ç›®ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> å…¨å±€å®‰è£… vue-cli</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> npm install --global vue-cli</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> åˆ›å»ºä¸€ä¸ªåŸºäº webpack æ¨¡æ¿çš„æ–°é¡¹ç›®</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> vue init webpack my-project</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> å®‰è£…ä¾èµ–ï¼Œèµ°ä½ </span></span><br><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">cd</span> my-project</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> npm install</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> npm run dev</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>ä½¿ç”¨pwaæ¨¡æ¿æ„å»ºé¡¹ç›®ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> vue init pwa mypwa</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> å®‰è£…ä¾èµ–ï¼Œèµ°ä½ </span></span><br><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">cd</span> mypwa</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> npm install</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> npm run dev</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>pwaæ¨¡æ¿é¡¹ç›®è¿è¡Œæ•ˆæœï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/f121d2857c9960cc543991e901b33f49-38485" alt="pwaè¿è¡Œæ•ˆæœ"></p>
</li>
<li><p><strong>console.dir()å¯ä»¥æ˜¾ç¤ºä¸€ä¸ªå¯¹è±¡æ‰€æœ‰çš„å±æ€§å’Œæ–¹æ³•</strong>ã€‚ä¾‹å¦‚console.dir(document);å°±å¯æŸ¥çœ‹æ–‡æ¡£å¯¹è±¡ï¼ˆdocumentæ ‘ï¼‰ä¸‹æ‰€æœ‰çš„ä¸œè¥¿ï¼›</p>
</li>
<li><p>æµ‹è¯•ä¸€æ®µä»£ç æ‰§è¡Œæ—¶é—´ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">console</span>.time(<span class="string">'test'</span>);</span><br><span class="line"><span class="comment">/* è¿™é‡Œè¿è¡Œå¾…æµ‹ä»£ç  */</span></span><br><span class="line"><span class="built_in">console</span>.timeEnd(<span class="string">'test'</span>);</span><br></pre></td></tr></table></figure>
</li>
<li><p>Vueä¸»è¦æ˜¯â€œé¢å‘æ•°æ®â€ç¼–ç¨‹ã€‚å½“æ•°æ®å‘ç”Ÿæ”¹å˜æ—¶ä½¿ç”¨è™šæ‹ŸDOMæ¥æ›´æ”¹æŸä¸€DOMèŠ‚ç‚¹ï¼Œé¿å…å°†æ•´ä¸ªé¡µé¢æ¸²æŸ“ï¼›</p>
</li>
<li><p>VueJsè°ƒè¯•å·¥å…·â€”â€”vue-devtoolsï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/91ace0d1f889655856012ea70271d1c0-46437" alt="Vueè°ƒè¯•"></p>
<ul>
<li>è£…å¥½çš„è°·æ­Œæµè§ˆå™¨æ’ä»¶vue-devtoolsæ˜¯åœ¨å¼€å‘è€…å·¥å…·ä¸­çš„ï¼Œéœ€è¦æ—¶Vueé¡¹ç›®æ‰æœ‰ç”¨ï¼</li>
</ul>
</li>
<li><p>vue-cliåˆ›å»ºçš„å·¥ç¨‹ç›®å½•ç»“æ„ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/42c68cc9ffe0d77f783c1954d1cf98ff-68104" alt="Vueå·¥ç¨‹ç›®å½•"></p>
</li>
<li><p>åœ¨*.vueæ–‡ä»¶ï¼Œtemplateæ ‡ç­¾é‡Œå†™htmlä»£ç ï¼Œä¸”templateç›´æ¥å­çº§åªèƒ½æœ‰ä¸€ä¸ªæ ‡ç­¾ã€‚styleæ ‡ç­¾é‡Œå†™æ ·å¼ï¼Œscripté‡Œé¢å†™jsä»£ç ï¼›</p>
</li>
<li><p>å¦‚æœéœ€è¦å¢åŠ ç»„ä»¶é‚£å°±åœ¨componentsæ–‡ä»¶ä¸‹å®šä¹‰xx.vueæ–‡ä»¶å¹¶ç¼–å†™ä»£ç å³å¯ï¼Œå¦‚æœéœ€è¦é…ç½®è·¯ç”±å°±è¦è¿›è¡Œåœ¨index.jsè¿›è¡Œè·¯ç”±â€œè·¯å¾„â€é…ç½®ï¼Œè¿˜éœ€è¦ç‚¹å‡»è·³è½¬å°±è¦ç”¨åˆ°router-linkæ ‡ç­¾äº†ï¼›</p>
</li>
<li><p>webpackæ˜¯ä¸€ä¸ªæ¨¡å—åŠ è½½å™¨ï¼Œ ä¸€åˆ‡ä¸œè¥¿éƒ½æ˜¯æ¨¡å—ï¼ˆåŒ…æ‹¬cssã€htmlã€jsã€å›¾ç‰‡ç­‰ï¼‰, æœ€åéƒ½æ‰“åŒ…åˆ°ä¸€å—äº†ï¼›</p>
</li>
</ol>
<h2 id="Vue-CLI-amp-ç»„ä»¶æ·»åŠ "><a href="#Vue-CLI-amp-ç»„ä»¶æ·»åŠ " class="headerlink" title="Vue CLI&amp;ç»„ä»¶æ·»åŠ "></a>Vue CLI&amp;ç»„ä»¶æ·»åŠ </h2><ol>
<li><p>Vue CLI æ˜¯ä¸€ä¸ªåŸºäº Vue.js è¿›è¡Œå¿«é€Ÿå¼€å‘çš„å®Œæ•´ç³»ç»Ÿï¼Œæä¾›ï¼š</p>
<ul>
<li>é€šè¿‡ @vue/cli å®ç°çš„äº¤äº’å¼çš„é¡¹ç›®è„šæ‰‹æ¶</li>
<li>é€šè¿‡ @vue/cli + @vue/cli-service-global å®ç°çš„é›¶é…ç½®åŸå‹å¼€å‘</li>
<li>ä¸€ä¸ªä¸°å¯Œçš„å®˜æ–¹æ’ä»¶é›†åˆï¼Œé›†æˆäº†å‰ç«¯ç”Ÿæ€ä¸­æœ€å¥½çš„å·¥å…·</li>
<li>ä¸€å¥—å®Œå…¨å›¾å½¢åŒ–çš„åˆ›å»ºå’Œç®¡ç† Vue.js é¡¹ç›®çš„ç”¨æˆ·ç•Œé¢</li>
</ul>
</li>
<li><p>Vue CLI éœ€è¦ Node.js 8.9 æˆ–æ›´é«˜ç‰ˆæœ¬ (æ¨è 8.11.0+)ï¼›</p>
</li>
<li><p>elementç»„ä»¶çš„å®˜ç½‘ï¼š<a href="https://element.eleme.cn/#/zh-CN/component/installation" target="_blank" rel="noopener">https://element.eleme.cn/#/zh-CN/component/installation</a></p>
</li>
<li><p>å®‰è£…ç»„ä»¶ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">cnpm install element-ui</span><br></pre></td></tr></table></figure>
</li>
<li><p>å¼•å…¥element-uiï¼š</p>
<ol>
<li><p>åœ¨é¡¹ç›®çš„main.js ä¸­å†™å…¥ä»¥ä¸‹å†…å®¹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import ElementUI from &#39;element-ui&#39;;</span><br><span class="line">import &#39;element-ui&#x2F;lib&#x2F;theme-chalk&#x2F;index.css&#39;;</span><br><span class="line"></span><br><span class="line">Vue.use(ElementUI);</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ ·å¼æ–‡ä»¶éœ€è¦å•ç‹¬å¼•å…¥</p>
</li>
<li><p>åœ¨ç»„ä»¶ä¸­æ·»åŠ éœ€è¦çš„uiï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;el-steps :active&#x3D;&quot;active&quot; finish-status&#x3D;&quot;success&quot;&gt;</span><br><span class="line">    &lt;el-step title&#x3D;&quot;æ­¥éª¤ 1&quot; icon&#x3D;&quot;el-icon-edit&quot;&gt;&lt;&#x2F;el-step&gt;</span><br><span class="line">    &lt;el-step title&#x3D;&quot;æ­¥éª¤ 2&quot; icon&#x3D;&quot;el-icon-upload&quot;&gt;&lt;&#x2F;el-step&gt;</span><br><span class="line">    &lt;el-step title&#x3D;&quot;æ­¥éª¤ 3&quot; icon&#x3D;&quot;el-icon-picture&quot;&gt;&lt;&#x2F;el-step&gt;</span><br><span class="line">&lt;&#x2F;el-steps&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>å…·ä½“çš„ä½¿ç”¨è¦çœ‹ç»„ä»¶æ–‡æ¡£ã€‚</p>
</li>
</ol>
</li>
<li><p>æµ‹è¯•ç»„ä»¶ï¼ˆHelloWorld.vueï¼‰:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class&#x3D;&quot;hello&quot;&gt;</span><br><span class="line">    &lt;h1&gt;&#123;&#123; msg &#125;&#125;&lt;&#x2F;h1&gt;</span><br><span class="line">    &lt;el-steps :active&#x3D;&quot;active&quot; finish-status&#x3D;&quot;success&quot;&gt;</span><br><span class="line">      &lt;el-step title&#x3D;&quot;æ­¥éª¤ 1&quot; icon&#x3D;&quot;el-icon-edit&quot;&gt;&lt;&#x2F;el-step&gt;</span><br><span class="line">      &lt;el-step title&#x3D;&quot;æ­¥éª¤ 2&quot; icon&#x3D;&quot;el-icon-upload&quot;&gt;&lt;&#x2F;el-step&gt;</span><br><span class="line">      &lt;el-step title&#x3D;&quot;æ­¥éª¤ 3&quot; icon&#x3D;&quot;el-icon-picture&quot;&gt;&lt;&#x2F;el-step&gt;</span><br><span class="line">    &lt;&#x2F;el-steps&gt;</span><br><span class="line"></span><br><span class="line">    &lt;el-button style&#x3D;&quot;margin-top: 12px;&quot; @click&#x3D;&quot;next&quot;&gt;ä¸‹ä¸€æ­¥&lt;&#x2F;el-button&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;demo-image&quot;&gt;</span><br><span class="line">      &lt;div class&#x3D;&quot;block&quot; v-for&#x3D;&quot;fit in fits&quot; :key&#x3D;&quot;fit&quot;&gt;</span><br><span class="line">        &lt;span class&#x3D;&quot;demonstration&quot;&gt;&#123;&#123; fit &#125;&#125;&lt;&#x2F;span&gt;</span><br><span class="line">        &lt;el-image</span><br><span class="line">          style&#x3D;&quot;width: 100px; height: 100px&quot;</span><br><span class="line">          :src&#x3D;&quot;url&quot;</span><br><span class="line">          :fit&#x3D;&quot;fit&quot;&gt;&lt;&#x2F;el-image&gt;</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;demo-image__placeholder&quot;&gt;</span><br><span class="line">      &lt;div class&#x3D;&quot;block&quot;&gt;</span><br><span class="line">        &lt;span class&#x3D;&quot;demonstration&quot;&gt;é»˜è®¤&lt;&#x2F;span&gt;</span><br><span class="line">        &lt;el-image :src&#x3D;&quot;src&quot;&gt;&lt;&#x2F;el-image&gt;</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">      &lt;div class&#x3D;&quot;block&quot;&gt;</span><br><span class="line">        &lt;span class&#x3D;&quot;demonstration&quot;&gt;è‡ªå®šä¹‰&lt;&#x2F;span&gt;</span><br><span class="line">        &lt;el-image :src&#x3D;&quot;src&quot;&gt;</span><br><span class="line">          &lt;div slot&#x3D;&quot;placeholder&quot; class&#x3D;&quot;image-slot&quot;&gt;</span><br><span class="line">            åŠ è½½ä¸­&lt;span class&#x3D;&quot;dot&quot;&gt;...&lt;&#x2F;span&gt;</span><br><span class="line">          &lt;&#x2F;div&gt;</span><br><span class="line">        &lt;&#x2F;el-image&gt;</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">    &lt;el-calendar v-model&#x3D;&quot;value&quot;&gt;</span><br><span class="line">    &lt;&#x2F;el-calendar&gt;</span><br><span class="line">    Scroll down to see the bottom-right button.</span><br><span class="line">    &lt;el-divider&gt;&lt;&#x2F;el-divider&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;block&quot;&gt;</span><br><span class="line">      &lt;span class&#x3D;&quot;demonstration&quot;&gt;é»˜è®¤ Hover æŒ‡ç¤ºå™¨è§¦å‘&lt;&#x2F;span&gt;</span><br><span class="line">      &lt;el-carousel height&#x3D;&quot;150px&quot;&gt;</span><br><span class="line">        &lt;el-carousel-item v-for&#x3D;&quot;item in 4&quot; :key&#x3D;&quot;item&quot;&gt;</span><br><span class="line">          &lt;el-image :src&#x3D;&quot;url&quot;&gt;&lt;&#x2F;el-image&gt;</span><br><span class="line">        &lt;&#x2F;el-carousel-item&gt;</span><br><span class="line">      &lt;&#x2F;el-carousel&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">    &lt;el-row&gt;</span><br><span class="line">      &lt;el-col :span&#x3D;&quot;8&quot; v-for&#x3D;&quot;(o, index) in 2&quot; :key&#x3D;&quot;o&quot; :offset&#x3D;&quot;index &gt; 0 ? 2 : 0&quot;&gt;</span><br><span class="line">        &lt;el-card :body-style&#x3D;&quot;&#123; padding: &#39;0px&#39; &#125;&quot;&gt;</span><br><span class="line">          &lt;img src&#x3D;&quot;https:&#x2F;&#x2F;shadow.elemecdn.com&#x2F;app&#x2F;element&#x2F;hamburger.9cf7b091-55e9-11e9-a976-7f4d0b07eef6.png&quot; class&#x3D;&quot;image&quot;&gt;</span><br><span class="line">          &lt;div style&#x3D;&quot;padding: 14px;&quot;&gt;</span><br><span class="line">            &lt;span&gt;å¥½åƒçš„æ±‰å ¡&lt;&#x2F;span&gt;</span><br><span class="line">            &lt;div class&#x3D;&quot;bottom clearfix&quot;&gt;</span><br><span class="line">              &lt;time class&#x3D;&quot;time&quot;&gt;&#123;&#123; currentDate &#125;&#125;&lt;&#x2F;time&gt;</span><br><span class="line">              &lt;el-button type&#x3D;&quot;text&quot; class&#x3D;&quot;button&quot; @click&#x3D;&quot;details&quot;&gt;æ“ä½œæŒ‰é’®&lt;&#x2F;el-button&gt;</span><br><span class="line">            &lt;&#x2F;div&gt;</span><br><span class="line">          &lt;&#x2F;div&gt;</span><br><span class="line">        &lt;&#x2F;el-card&gt;</span><br><span class="line">      &lt;&#x2F;el-col&gt;</span><br><span class="line">    &lt;&#x2F;el-row&gt;</span><br><span class="line">    &lt;el-upload</span><br><span class="line">      class&#x3D;&quot;upload-demo&quot;</span><br><span class="line">      action&#x3D;&quot;https:&#x2F;&#x2F;jsonplaceholder.typicode.com&#x2F;posts&#x2F;&quot;</span><br><span class="line">      :on-preview&#x3D;&quot;handlePreview&quot;</span><br><span class="line">      :on-remove&#x3D;&quot;handleRemove&quot;</span><br><span class="line">      :file-list&#x3D;&quot;fileList&quot;</span><br><span class="line">      list-type&#x3D;&quot;picture&quot;&gt;</span><br><span class="line">      &lt;el-button size&#x3D;&quot;small&quot; type&#x3D;&quot;primary&quot;&gt;ç‚¹å‡»ä¸Šä¼ &lt;&#x2F;el-button&gt;</span><br><span class="line">      &lt;div slot&#x3D;&quot;tip&quot; class&#x3D;&quot;el-upload__tip&quot;&gt;åªèƒ½ä¸Šä¼ jpg&#x2F;pngæ–‡ä»¶ï¼Œä¸”ä¸è¶…è¿‡500kb&lt;&#x2F;div&gt;</span><br><span class="line">    &lt;&#x2F;el-upload&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;demo-image__preview&quot;&gt;</span><br><span class="line">      &lt;el-image</span><br><span class="line">        style&#x3D;&quot;width: 100px; height: 100px&quot;</span><br><span class="line">        :src&#x3D;&quot;url&quot;</span><br><span class="line">        :preview-src-list&#x3D;&quot;srcList&quot;&gt;</span><br><span class="line">      &lt;&#x2F;el-image&gt;</span><br><span class="line">      &lt;el-popconfirm</span><br><span class="line">        title&#x3D;&quot;è¿™æ˜¯ä¸€æ®µå†…å®¹ç¡®å®šåˆ é™¤å—ï¼Ÿ&quot;</span><br><span class="line">      &gt;</span><br><span class="line">        &lt;el-button slot&#x3D;&quot;reference&quot;&gt;åˆ é™¤&lt;&#x2F;el-button&gt;</span><br><span class="line">      &lt;&#x2F;el-popconfirm&gt;</span><br><span class="line">      &lt;div class&#x3D;&quot;block&quot;&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;radio&quot;&gt;</span><br><span class="line">          æ’åºï¼š</span><br><span class="line">          &lt;el-radio-group v-model&#x3D;&quot;reverse&quot;&gt;</span><br><span class="line">            &lt;el-radio :label&#x3D;&quot;true&quot;&gt;å€’åº&lt;&#x2F;el-radio&gt;</span><br><span class="line">            &lt;el-radio :label&#x3D;&quot;false&quot;&gt;æ­£åº&lt;&#x2F;el-radio&gt;</span><br><span class="line">          &lt;&#x2F;el-radio-group&gt;</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line"></span><br><span class="line">        &lt;el-timeline :reverse&#x3D;&quot;reverse&quot;&gt;</span><br><span class="line">          &lt;el-timeline-item</span><br><span class="line">            v-for&#x3D;&quot;(activity, index) in activities&quot;</span><br><span class="line">            :key&#x3D;&quot;index&quot;</span><br><span class="line">            :timestamp&#x3D;&quot;activity.timestamp&quot;&gt;</span><br><span class="line">            &#123;&#123;activity.content&#125;&#125;</span><br><span class="line">          &lt;&#x2F;el-timeline-item&gt;</span><br><span class="line">        &lt;&#x2F;el-timeline&gt;</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;block&quot;&gt;</span><br><span class="line">      &lt;el-timeline&gt;</span><br><span class="line">        &lt;el-timeline-item</span><br><span class="line">          v-for&#x3D;&quot;(activity, index) in activities&quot;</span><br><span class="line">          :key&#x3D;&quot;index&quot;</span><br><span class="line">          :icon&#x3D;&quot;activity.icon&quot;</span><br><span class="line">          :type&#x3D;&quot;activity.type&quot;</span><br><span class="line">          :color&#x3D;&quot;activity.color&quot;</span><br><span class="line">          :size&#x3D;&quot;activity.size&quot;</span><br><span class="line">          :timestamp&#x3D;&quot;activity.timestamp&quot;&gt;</span><br><span class="line">          &#123;&#123;activity.content&#125;&#125;</span><br><span class="line">        &lt;&#x2F;el-timeline-item&gt;</span><br><span class="line">      &lt;&#x2F;el-timeline&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line"></span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#39;HelloWorld&#39;,</span><br><span class="line">  data () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      msg: &#39;Welcome to Your Vue.js App&#39;,</span><br><span class="line">      active: 0,</span><br><span class="line">      fits: [&#39;fill&#39;, &#39;contain&#39;, &#39;cover&#39;, &#39;none&#39;, &#39;scale-down&#39;],</span><br><span class="line">      url: &#39;https:&#x2F;&#x2F;fuss10.elemecdn.com&#x2F;e&#x2F;5d&#x2F;4a731a90594a4af544c0c25941171jpeg.jpeg&#39;,</span><br><span class="line">      src: &#39;https:&#x2F;&#x2F;cube.elemecdn.com&#x2F;6&#x2F;94&#x2F;4d3ea53c084bad6931a56d5158a48jpeg.jpeg&#39;,</span><br><span class="line">      value: new Date(),</span><br><span class="line">      currentDate: new Date(),</span><br><span class="line">      fileList: [&#123;name: &#39;food.jpeg&#39;, url: &#39;https:&#x2F;&#x2F;fuss10.elemecdn.com&#x2F;3&#x2F;63&#x2F;4e7f3a15429bfda99bce42a18cdd1jpeg.jpeg?imageMogr2&#x2F;thumbnail&#x2F;360x360&#x2F;format&#x2F;webp&#x2F;quality&#x2F;100&#39;&#125;, &#123;name: &#39;food2.jpeg&#39;, url: &#39;https:&#x2F;&#x2F;fuss10.elemecdn.com&#x2F;3&#x2F;63&#x2F;4e7f3a15429bfda99bce42a18cdd1jpeg.jpeg?imageMogr2&#x2F;thumbnail&#x2F;360x360&#x2F;format&#x2F;webp&#x2F;quality&#x2F;100&#39;&#125;],</span><br><span class="line">      srcList: [</span><br><span class="line">        &#39;https:&#x2F;&#x2F;fuss10.elemecdn.com&#x2F;8&#x2F;27&#x2F;f01c15bb73e1ef3793e64e6b7bbccjpeg.jpeg&#39;,</span><br><span class="line">        &#39;https:&#x2F;&#x2F;fuss10.elemecdn.com&#x2F;1&#x2F;8e&#x2F;aeffeb4de74e2fde4bd74fc7b4486jpeg.jpeg&#39;</span><br><span class="line">      ],</span><br><span class="line">      reverse: true,</span><br><span class="line">      activities: [&#123;</span><br><span class="line">        content: &#39;æ´»åŠ¨æŒ‰æœŸå¼€å§‹&#39;,</span><br><span class="line">        timestamp: &#39;2018-04-15&#39;</span><br><span class="line">      &#125;, &#123;</span><br><span class="line">        content: &#39;é€šè¿‡å®¡æ ¸&#39;,</span><br><span class="line">        timestamp: &#39;2018-04-13&#39;</span><br><span class="line">      &#125;, &#123;</span><br><span class="line">        content: &#39;åˆ›å»ºæˆåŠŸ&#39;,</span><br><span class="line">        timestamp: &#39;2018-04-11&#39;</span><br><span class="line">      &#125;]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    open () &#123;</span><br><span class="line">      this.$alert(&#39;è¿™æ˜¯ä¸€æ®µå†…å®¹&#39;, &#39;æ ‡é¢˜åç§°&#39;, &#123;</span><br><span class="line">        confirmButtonText: &#39;ç¡®å®š&#39;,</span><br><span class="line">        callback: action &#x3D;&gt; &#123;</span><br><span class="line">          this.$message(&#123;</span><br><span class="line">            type: &#39;info&#39;,</span><br><span class="line">            message: &#39;test&#39;</span><br><span class="line">          &#125;)</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;,</span><br><span class="line">    next () &#123;</span><br><span class="line">      if (this.active++ &gt; 2) this.active &#x3D; 0</span><br><span class="line">    &#125;,</span><br><span class="line">    details () &#123;</span><br><span class="line">      console.log(&#39;clicked!&#39;)</span><br><span class="line">    &#125;,</span><br><span class="line">    handleRemove (file, fileList) &#123;</span><br><span class="line">      console.log(file, fileList)</span><br><span class="line">    &#125;,</span><br><span class="line">    handlePreview (file) &#123;</span><br><span class="line">      console.log(file)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- Add &quot;scoped&quot; attribute to limit CSS to this component only --&gt;</span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">h1, h2 &#123;</span><br><span class="line">  font-weight: normal;</span><br><span class="line">&#125;</span><br><span class="line">ul &#123;</span><br><span class="line">  list-style-type: none;</span><br><span class="line">  padding: 0;</span><br><span class="line">&#125;</span><br><span class="line">li &#123;</span><br><span class="line">  display: inline-block;</span><br><span class="line">  margin: 0 10px;</span><br><span class="line">&#125;</span><br><span class="line">a &#123;</span><br><span class="line">  color: #42b983;</span><br><span class="line">&#125;</span><br><span class="line">.el-carousel__item h3 &#123;</span><br><span class="line">  color: #475669;</span><br><span class="line">  font-size: 14px;</span><br><span class="line">  opacity: 0.75;</span><br><span class="line">  line-height: 150px;</span><br><span class="line">  margin: 0;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.el-carousel__item:nth-child(2n) &#123;</span><br><span class="line">  background-color: #99a9bf;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.el-carousel__item:nth-child(2n+1) &#123;</span><br><span class="line">  background-color: #d3dce6;</span><br><span class="line">&#125;</span><br><span class="line">.time &#123;</span><br><span class="line">  font-size: 13px;</span><br><span class="line">  color: #999;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.bottom &#123;</span><br><span class="line">  margin-top: 13px;</span><br><span class="line">  line-height: 12px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.button &#123;</span><br><span class="line">  padding: 0;</span><br><span class="line">  float: right;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.image &#123;</span><br><span class="line">  width: 100%;</span><br><span class="line">  display: block;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.clearfix:before,</span><br><span class="line">.clearfix:after &#123;</span><br><span class="line">  display: table;</span><br><span class="line">  content: &quot;&quot;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.clearfix:after &#123;</span><br><span class="line">  clear: both</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ·»åŠ ç™¾åº¦Echartsæ’ä»¶ï¼š</p>
<ol>
<li><p>åœ¨å·¥ç¨‹ç›®å½•ä¸‹è¿è¡Œä¸‹é¢çš„å‘½ä»¤æ·»åŠ Echartsæ¨¡å—ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">cnpm install echarts -S</span><br></pre></td></tr></table></figure>
</li>
<li><p>åœ¨å·¥ç¨‹çš„main.jsæ·»åŠ å¦‚ä¸‹ä»£ç ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; import echarts from &#39;echarts&#39; å¼•å…¥echartsåï¼Œä¸èƒ½å…¨å±€ä½¿ç”¨echarts,é€šè¿‡Vue.prototype å°†echartsä¿å­˜ä¸ºå…¨å±€å˜é‡</span><br><span class="line">import echarts from &#39;echarts&#39;</span><br><span class="line">Vue.prototype.$echarts &#x3D; echarts</span><br></pre></td></tr></table></figure>
</li>
<li><p>åˆ›å»ºä¸€ä¸ªæ˜¾ç¤ºçš„ç»„ä»¶Echarts.vue:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class&#x3D;&quot;Echarts&quot;&gt;</span><br><span class="line">    &lt;div id&#x3D;&quot;main&quot; style&#x3D;&quot;width: 600px;height:400px;&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#39;Echarts&#39;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    myEcharts () &#123;</span><br><span class="line">      &#x2F;&#x2F; åŸºäºå‡†å¤‡å¥½çš„domï¼Œåˆå§‹åŒ–echartså®ä¾‹</span><br><span class="line">      var myChart &#x3D; this.$echarts.init(document.getElementById(&#39;main&#39;))</span><br><span class="line"></span><br><span class="line">      &#x2F;&#x2F; æŒ‡å®šå›¾è¡¨çš„é…ç½®é¡¹å’Œæ•°æ®</span><br><span class="line">      var option &#x3D; &#123;</span><br><span class="line">        title: &#123;</span><br><span class="line">          text: &#39;ECharts å…¥é—¨ç¤ºä¾‹&#39;</span><br><span class="line">        &#125;,</span><br><span class="line">        tooltip: &#123;&#125;,</span><br><span class="line">        legend: &#123;</span><br><span class="line">          data: [&#39;é”€é‡&#39;]</span><br><span class="line">        &#125;,</span><br><span class="line">        xAxis: &#123;</span><br><span class="line">          data: [&#39;è¡¬è¡«&#39;, &#39;ç¾Šæ¯›è¡«&#39;, &#39;é›ªçººè¡«&#39;, &#39;è£¤å­&#39;, &#39;é«˜è·Ÿé‹&#39;, &#39;è¢œå­&#39;]</span><br><span class="line">        &#125;,</span><br><span class="line">        yAxis: &#123;&#125;,</span><br><span class="line">        series: [&#123;</span><br><span class="line">          name: &#39;é”€é‡&#39;,</span><br><span class="line">          type: &#39;bar&#39;,</span><br><span class="line">          data: [5, 20, 36, 10, 10, 20]</span><br><span class="line">        &#125;]</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      &#x2F;&#x2F; ä½¿ç”¨åˆšæŒ‡å®šçš„é…ç½®é¡¹å’Œæ•°æ®æ˜¾ç¤ºå›¾è¡¨ã€‚</span><br><span class="line">      myChart.setOption(option)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  mounted () &#123;</span><br><span class="line">    this.myEcharts()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line"></span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>åœ¨router/index.jsæ–‡ä»¶ä¸­æ·»åŠ è·¯ç”±ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import Vue from &#39;vue&#39;</span><br><span class="line">import Router from &#39;vue-router&#39;</span><br><span class="line">import HelloWorld from &#39;@&#x2F;components&#x2F;HelloWorld&#39;</span><br><span class="line">import Echarts from &#39;@&#x2F;components&#x2F;Echarts&#39;</span><br><span class="line">Vue.use(Router)</span><br><span class="line"></span><br><span class="line">export default new Router(&#123;</span><br><span class="line">  routes: [</span><br><span class="line">    &#123;</span><br><span class="line">      path: &#39;&#x2F;&#39;,</span><br><span class="line">      name: &#39;HelloWorld&#39;,</span><br><span class="line">      component: HelloWorld</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      path: &#39;&#x2F;echarts&#39;,</span><br><span class="line">      name: &#39;Echarts&#39;,</span><br><span class="line">      component: Echarts</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
</li>
<li><p>ç¼–è¯‘è¿è¡Œé¡¹ç›®ã€‚</p>
</li>
</ol>
</li>
<li><p>æ·»åŠ ç™¾åº¦çš„Echartsæ•ˆæœå¦‚ä¸‹ï¼š</p>
<ul>
<li>è®¿é—®ç½‘å€ï¼š<a href="http://localhost:8080/#/echarts" target="_blank" rel="noopener">http://localhost:8080/#/echarts</a></li>
</ul>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/f54d5acaa2947b35045514e13e3d88e7-46621" alt="ç™¾åº¦Echartsæ•ˆæœ"></p>
</li>
</ol>
<h2 id="Vueå¸¸ç”¨æ¨¡æ¿"><a href="#Vueå¸¸ç”¨æ¨¡æ¿" class="headerlink" title="Vueå¸¸ç”¨æ¨¡æ¿"></a>Vueå¸¸ç”¨æ¨¡æ¿</h2><h3 id="Webpack"><a href="#Webpack" class="headerlink" title="Webpack"></a>Webpack</h3><ol>
<li>Webpackæ¨¡æ¿åˆ©ç”¨äº†WebpackåŠå…¶ç”Ÿæ€ç³»ç»Ÿçš„è®¸å¤šå‰æ²¿åŠŸèƒ½ï¼ŒåŒ…æ‹¬çƒ­é‡è½½ï¼ŒCSSæå–ï¼Œlintingä»¥åŠå•æ–‡ä»¶ç»„ä»¶åŠ è½½ã€‚å®ƒè¿˜åŒ…æ‹¬é’ˆå¯¹å¼€å‘ï¼Œç”Ÿäº§ç”šè‡³æµ‹è¯•è€Œä¼˜åŒ–çš„ç‹¬ç«‹é…ç½®ï¼›</li>
<li>Webpack Simpleæ¨¡æ¿æ˜¯Webpackçš„ç®€åŒ–ç‰ˆæœ¬ï¼›</li>
</ol>
<h3 id="vue-manage-system"><a href="#vue-manage-system" class="headerlink" title="vue-manage-system"></a>vue-manage-system</h3><ol>
<li><p>Gitç½‘å€ï¼š<a href="https://github.com/lin-xin/vue-manage-system" target="_blank" rel="noopener">https://github.com/lin-xin/vue-manage-system</a></p>
</li>
<li><p>æ•ˆæœç¤ºæ„å›¾ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/d47297c1d0a0e3f23056c23f5f6dc2bb-135081" alt="vue-manage-systemç¤ºæ„å›¾"></p>
</li>
</ol>
<h3 id="vue-element-admin"><a href="#vue-element-admin" class="headerlink" title="vue-element-admin"></a>vue-element-admin</h3><ol>
<li><p>Gitç½‘å€ï¼š<a href="https://github.com/PanJiaChen/vue-element-admin" target="_blank" rel="noopener">https://github.com/PanJiaChen/vue-element-admin</a></p>
</li>
<li><p>æ•ˆæœç¤ºæ„å›¾ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/f5c64191ff71edfb87c734cc93633a3d-87107" alt="vue-element-adminç¤ºæ„å›¾"></p>
</li>
</ol>
<h3 id="vuejs-å’Œ-element-æ­å»ºçš„ä¸€ä¸ªåå°ç®¡ç†ç•Œé¢"><a href="#vuejs-å’Œ-element-æ­å»ºçš„ä¸€ä¸ªåå°ç®¡ç†ç•Œé¢" class="headerlink" title="vuejs å’Œ element æ­å»ºçš„ä¸€ä¸ªåå°ç®¡ç†ç•Œé¢"></a>vuejs å’Œ element æ­å»ºçš„ä¸€ä¸ªåå°ç®¡ç†ç•Œé¢</h3><ol>
<li><p>Gitç½‘å€ï¼š<a href="https://github.com/taylorchen709/vue-admin" target="_blank" rel="noopener">https://github.com/taylorchen709/vue-admin</a></p>
</li>
<li><p>æ•ˆæœç¤ºæ„å›¾ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/826ad49d3a9e293d101db47e4c704157-116865" alt="vuejs å’Œ element æ­å»ºçš„ä¸€ä¸ªåå°ç®¡ç†ç•Œé¢"></p>
</li>
</ol>
<h3 id="åŸºäºVueå®ç°åå°ç³»ç»Ÿæƒé™æ§åˆ¶"><a href="#åŸºäºVueå®ç°åå°ç³»ç»Ÿæƒé™æ§åˆ¶" class="headerlink" title="åŸºäºVueå®ç°åå°ç³»ç»Ÿæƒé™æ§åˆ¶"></a>åŸºäºVueå®ç°åå°ç³»ç»Ÿæƒé™æ§åˆ¶</h3><ol>
<li><p>Gitç½‘å€ï¼š<a href="https://github.com/mgbq/nx-admin" target="_blank" rel="noopener">https://github.com/mgbq/nx-admin</a></p>
</li>
<li><p>æ•ˆæœç¤ºæ„å›¾ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/84640669ffc7b12bc79c169aee05b4e0-291471" alt="åŸºäºVueå®ç°åå°ç³»ç»Ÿæƒé™æ§åˆ¶"></p>
</li>
</ol>
<h3 id="åŸºäº-vue-js-å’Œ-ElementUI-d2-admin"><a href="#åŸºäº-vue-js-å’Œ-ElementUI-d2-admin" class="headerlink" title="åŸºäº vue.js å’Œ ElementUI - d2-admin"></a>åŸºäº vue.js å’Œ ElementUI - d2-admin</h3><ol>
<li><p>Gitç½‘å€ï¼š<a href="https://github.com/d2-projects/d2-admin" target="_blank" rel="noopener">https://github.com/d2-projects/d2-admin</a></p>
</li>
<li><p>æ•ˆæœç¤ºæ„å›¾ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/e9a3d9d77fae100d7d7e3d8febbd48b7-80786" alt="d2-adminç¤ºæ„å›¾"></p>
</li>
</ol>
<h3 id="vueåå°UIæ¡†æ¶-iview"><a href="#vueåå°UIæ¡†æ¶-iview" class="headerlink" title="vueåå°UIæ¡†æ¶ - iview"></a>vueåå°UIæ¡†æ¶ - iview</h3><ol>
<li><p>Gitç½‘å€ï¼š<a href="https://github.com/iview/iview-admin" target="_blank" rel="noopener">https://github.com/iview/iview-admin</a></p>
</li>
<li><p>æ•ˆæœç¤ºæ„å›¾ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/153732db47be0f1e0faf69e69aa8ee85-97744" alt="iviewç¤ºæ„å›¾"></p>
</li>
</ol>
<h3 id="vue2-manage"><a href="#vue2-manage" class="headerlink" title="vue2-manage"></a>vue2-manage</h3><ol>
<li><p>Gitç½‘å€ï¼š<a href="https://github.com/bailicangdu/vue2-manage" target="_blank" rel="noopener">https://github.com/bailicangdu/vue2-manage</a></p>
</li>
<li><p>æ•ˆæœç¤ºæ„å›¾ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/9b1f6ec12251047e895c21fa3c8ecdb9-75091" alt="vue2-manageç¤ºæ„å›¾"></p>
</li>
</ol>
<h3 id="vue2-element-touzi-admin"><a href="#vue2-element-touzi-admin" class="headerlink" title="vue2-element-touzi-admin"></a>vue2-element-touzi-admin</h3><ol>
<li><p>Gitç½‘å€ï¼š<a href="https://github.com/wdlhao/vue2-element-touzi-admin" target="_blank" rel="noopener">https://github.com/wdlhao/vue2-element-touzi-admin</a></p>
</li>
<li><p>æ•ˆæœç¤ºæ„å›¾ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/644e924353b6a1849ddcf197191babd6-137299" alt="vue2-element-touzi-adminç¤ºæ„å›¾"></p>
</li>
</ol>
<h3 id="VueDemo-Sell-Eleme"><a href="#VueDemo-Sell-Eleme" class="headerlink" title="VueDemo_Sell_Eleme"></a>VueDemo_Sell_Eleme</h3><ol>
<li><p>Gitç½‘å€ï¼š<a href="https://github.com/SimonZhangITer/VueDemo_Sell_Eleme" target="_blank" rel="noopener">https://github.com/SimonZhangITer/VueDemo_Sell_Eleme</a></p>
</li>
<li><p>æ•ˆæœç¤ºæ„å›¾ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/28028fca6a10c005a2204da470279df0-227530" alt="VueDemo_Sell_Elemeç¤ºæ„å›¾"></p>
</li>
</ol>
<h2 id="vuestic-admin"><a href="#vuestic-admin" class="headerlink" title="vuestic-admin"></a>vuestic-admin</h2><ol>
<li><p>Gitç½‘å€ï¼š<a href="https://github.com/epicmaxco/vuestic-admin" target="_blank" rel="noopener">https://github.com/epicmaxco/vuestic-admin</a></p>
</li>
<li><p>æ•ˆæœç¤ºæ„å›¾ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/d3d5f740dc7f4f5dfd3b5944f8ed4f8a-117429" alt="vuestic-adminç¤ºæ„å›¾"></p>
</li>
</ol>
<hr>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>è¿™éƒ¨åˆ†ä¸»è¦è®°å½•äº†Vueè„šæ‰‹æ¶Vue-cliï¼Œä½¿ç”¨vue-cliåˆ›å»ºäº†ä¸€ä¸ªæ¨¡æ¿é¡¹ç›®ï¼Œå¹¶è®°å½•äº†å¦‚ä½•æ·»åŠ æ’ä»¶åˆ°è‡ªå·±çš„å·¥ç¨‹ä¸­ï¼Œä¸¾ä¾‹è¿‡ç¨‹ä¸­ä¸»è¦æ˜¯Element-uiå’ŒEchartsä¸¤ä¸ªæ’ä»¶ï¼Œæœ€åè¿˜æœç´¢äº†ä¸€äº›githubä¸Šè·å¾—starsæ¯”è¾ƒå¤šçš„vueé¡¹ç›®ï¼Œå¯ä»¥é˜…è¯»è¿™äº›æºç è·å¾—æ›´å¤šçš„å‰æ®µvueçŸ¥è¯†ï¼Œå½“ç„¶è¿˜è¦æ›´æ·±å…¥å­¦ä¹ Vueï¼</p>
]]></content>
      <categories>
        <category>Vue</category>
      </categories>
  </entry>
  <entry>
    <title>Vueè¿›é˜¶ç¬¬ä¸‰æœŸ</title>
    <url>/2020/07/27/Vue%E8%BF%9B%E9%98%B6%E7%AC%AC%E4%B8%89%E6%9C%9F/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>é’ˆå¯¹ç¬¬äºŒæœŸè¿‡ç¨‹ä¸­å¯¹äºVueè·¯ç”±ç®¡ç†è¿‡ç¨‹ä¸­å‡ºç°çš„ä¸è§£ï¼Œè¿›è¡Œç³»ç»ŸåŒ–åœ°å­¦ä¹ ä¸å®æ“ä»è€Œæ›´æ·±å…¥ç†è§£Vueã€‚åœ¨è¿™éƒ¨åˆ†ä¹Ÿè®°å½•äº†Element-uiä¸­çš„è‡ªå®šä¹‰å›¾æ ‡ä»¥åŠå›åˆ°é¡¶éƒ¨æ²¡æœ‰å‡ºç°æ•ˆæœçš„è§£å†³åŠæ³•ã€‚è¿™éƒ¨åˆ†æ²¡æœ‰åä¸½çš„ç‰¹æ•ˆï¼Œä½†æ˜¯å¯¹äºå‰ç«¯å¼€å‘é¡¹ç›®å¾ˆæœ‰å¸®åŠ©ï¼</p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="Vue-Router"><a href="#Vue-Router" class="headerlink" title="Vue-Router"></a>Vue-Router</h2><ol>
<li><p>Vue Router æ˜¯ Vue.js å®˜æ–¹çš„è·¯ç”±ç®¡ç†å™¨ï¼Œå’Œ Vue.js çš„æ ¸å¿ƒæ·±åº¦é›†æˆï¼Œè®©æ„å»ºå•é¡µé¢åº”ç”¨å˜å¾—æ˜“å¦‚åæŒï¼›</p>
</li>
<li><p>åŠŸèƒ½ï¼š</p>
<ul>
<li>åµŒå¥—çš„è·¯ç”±/è§†å›¾è¡¨</li>
<li>æ¨¡å—åŒ–çš„ã€åŸºäºç»„ä»¶çš„è·¯ç”±é…ç½®</li>
<li>è·¯ç”±å‚æ•°ã€æŸ¥è¯¢ã€é€šé…ç¬¦</li>
<li>åŸºäº Vue.js è¿‡æ¸¡ç³»ç»Ÿçš„è§†å›¾è¿‡æ¸¡æ•ˆæœ</li>
<li>ç»†ç²’åº¦çš„å¯¼èˆªæ§åˆ¶</li>
<li>å¸¦æœ‰è‡ªåŠ¨æ¿€æ´»çš„ CSS class çš„é“¾æ¥</li>
<li>HTML5 å†å²æ¨¡å¼æˆ– hash æ¨¡å¼ï¼Œåœ¨ IE9 ä¸­è‡ªåŠ¨é™çº§</li>
<li>è‡ªå®šä¹‰çš„æ»šåŠ¨æ¡è¡Œä¸º</li>
</ul>
</li>
<li><p>å½“æŠŠ Vue Router æ·»åŠ è¿›é¡¹ç›®ä¸­è¿›è¡Œè·¯ç”±ç®¡ç†æ—¶ï¼Œéœ€è¦åšçš„æ˜¯å°†ç»„ä»¶ (components) æ˜ å°„åˆ°è·¯ç”± (routes)ï¼Œç„¶åå‘Šè¯‰ Vue Router åœ¨å“ªé‡Œæ¸²æŸ“å®ƒä»¬ï¼›</p>
</li>
<li><p>ä½¿ç”¨Vue-routerç®¡ç†è·¯ç”±å™¨åï¼Œå°±å¯ä»¥åœ¨ä»»ä½•ç»„ä»¶å†…é€šè¿‡ this.$router è®¿é—®è·¯ç”±å™¨ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ this.$route è®¿é—®å½“å‰è·¯ç”±ï¼›</p>
</li>
<li><p>å¯ä»¥åœ¨åˆ›å»º Router å®ä¾‹çš„æ—¶å€™ï¼Œåœ¨ routes é…ç½®ä¸­ç»™æŸä¸ªè·¯ç”±è®¾ç½®åç§°ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> VueRouter(&#123;</span><br><span class="line">  routes: [</span><br><span class="line">    &#123;</span><br><span class="line">      path: <span class="string">'/user/:userId'</span>,</span><br><span class="line">      name: <span class="string">'user'</span>,</span><br><span class="line">      component: User</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">&lt;router-link :to=<span class="string">"&#123; name: 'user', params: &#123; userId: 123 &#125;&#125;"</span>&gt;User&lt;<span class="regexp">/router-link&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>é€šè¿‡å¯¹router-viewå‘½åå¯ä»¥åœ¨ç•Œé¢ä¸­æ‹¥æœ‰å¤šä¸ªå•ç‹¬å‘½åçš„è§†å›¾ï¼Œè€Œä¸æ˜¯åªæœ‰ä¸€ä¸ªå•ç‹¬çš„å‡ºå£ï¼Œè¿™æ ·å¯ä»¥åŒæ—¶ (åŒçº§) å±•ç¤ºå¤šä¸ªè§†å›¾ï¼Œè€Œä¸æ˜¯åµŒå¥—å±•ç¤ºï¼Œä¹Ÿæœ‰å¯èƒ½ä½¿ç”¨å‘½åè§†å›¾åˆ›å»ºåµŒå¥—è§†å›¾çš„å¤æ‚å¸ƒå±€ï¼›</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;router-view class&#x3D;&quot;view one&quot;&gt;&lt;&#x2F;router-view&gt;</span><br><span class="line">&lt;router-view class&#x3D;&quot;view two&quot; name&#x3D;&quot;a&quot;&gt;&lt;&#x2F;router-view&gt;</span><br><span class="line">&lt;router-view class&#x3D;&quot;view three&quot; name&#x3D;&quot;b&quot;&gt;&lt;&#x2F;router-view&gt;</span><br><span class="line"></span><br><span class="line">const router &#x3D; new VueRouter(&#123;</span><br><span class="line">  routes: [</span><br><span class="line">    &#123;</span><br><span class="line">      path: &#39;&#x2F;&#39;,</span><br><span class="line">      components: &#123;</span><br><span class="line">        default: Foo,</span><br><span class="line">        a: Bar,</span><br><span class="line">        b: Baz</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<figure class="highlight"><table><tr><td class="code"><pre><span class="line">/settings/emails                                       /settings/profile</span><br><span class="line">+-----------------------------------+                  +------------------------------+</span><br><span class="line">| UserSettings                      |                  | UserSettings                 |</span><br><span class="line">| +-----+-------------------------+ |                  | +-----+--------------------+ |</span><br><span class="line">| | Nav | UserEmailsSubscriptions | |  +------------&gt;  | | Nav | UserProfile        | |</span><br><span class="line">| |     +-------------------------+ |                  | |     +--------------------+ |</span><br><span class="line">| |     |                         | |                  | |     | UserProfilePreview | |</span><br><span class="line">| +-----+-------------------------+ |                  | +-----+--------------------+ |</span><br><span class="line">+-----------------------------------+                  +------------------------------+</span><br></pre></td></tr></table></figure>
</li>
<li><p>åŠ¨æ€è·¯ç”±åŒ¹é…ï¼š</p>
<ol>
<li><p>éœ€æ±‚ï¼šä¸šåŠ¡ä¸Šç»å¸¸éœ€è¦å°†åŒ¹é…æŸç§æ¨¡å¼çš„è·¯ç”±ï¼Œå…¨éƒ¨æ˜ å°„åˆ°åŒä¸€ä¸ªç»„ä»¶ä¸Šï¼›</p>
</li>
<li><p>æ–¹æ³•ï¼šåœ¨ vue-router çš„è·¯ç”±è·¯å¾„ä¸­ä½¿ç”¨â€œåŠ¨æ€è·¯å¾„å‚æ•°â€(dynamic segment) æ¥æ»¡è¶³è¿™ç§éœ€æ±‚ï¼›</p>
</li>
<li><p>æ¡ˆä¾‹ï¼šæœ‰ä¸€ä¸ª User ç»„ä»¶ï¼Œå¯¹äºæ‰€æœ‰ ID å„ä¸ç›¸åŒçš„ç”¨æˆ·ï¼Œéƒ½è¦ä½¿ç”¨è¿™ä¸ªç»„ä»¶æ¥æ¸²æŸ“ï¼›</p>
</li>
<li><p>æ ·ä¾‹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> VueRouter(&#123;</span><br><span class="line">  routes: [</span><br><span class="line">    <span class="comment">// åŠ¨æ€è·¯å¾„å‚æ•° ä»¥å†’å·å¼€å¤´</span></span><br><span class="line">    &#123; <span class="attr">path</span>: <span class="string">'/user/:id'</span>, <span class="attr">component</span>: User &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// åƒ /user/foo å’Œ /user/bar éƒ½å°†æ˜ å°„åˆ°ç›¸åŒçš„ç»„ä»¶ä¸Šè¿›è¡Œæ¸²æŸ“</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>ä¸€ä¸ªâ€œè·¯å¾„å‚æ•°â€ä½¿ç”¨å†’å· : æ ‡è®°ï¼Œå½“åŒ¹é…åˆ°ä¸€ä¸ªè·¯ç”±æ—¶ï¼Œå‚æ•°å€¼ä¼šè¢«è®¾ç½®åˆ° this.$route.paramsï¼Œç„¶åå¯ä»¥åœ¨ç»„ä»¶å†…ä½¿ç”¨ï¼›</p>
</li>
<li><p>åœ¨ä¸€ä¸ªè·¯ç”±ä¸­è®¾ç½®å¤šæ®µâ€œè·¯å¾„å‚æ•°â€ï¼Œå¯¹åº”çš„å€¼éƒ½ä¼šè®¾ç½®åˆ° $route.params ä¸­ï¼š</p>
<table>
<thead>
<tr>
<th>æ¨¡å¼</th>
<th>åŒ¹é…è·¯å¾„</th>
<th>$route.params</th>
</tr>
</thead>
<tbody><tr>
<td>/user/:username</td>
<td>/user/evan</td>
<td><code>{ username: &#39;evan&#39; }</code></td>
</tr>
<tr>
<td>/user/:username/post/:post_id</td>
<td>/user/evan/post/123</td>
<td><code>{ username: &#39;evan&#39;, post_id: &#39;123&#39; }</code></td>
</tr>
</tbody></table>
</li>
<li><p>å½“ä½¿ç”¨åŒä¸€ä¸ªç»„ä»¶æ¥è¿›è¡Œæ¸²æŸ“æ—¶ï¼ŒåŸæ¥çš„ç»„ä»¶å®ä¾‹ä¼šè¢«å¤ç”¨ï¼Œè€Œä¸ä¼šè¢«é”€æ¯ï¼Œä»è€Œå¯¼è‡´<strong>ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸé’©å­ä¸ä¼šè¢«å†è°ƒç”¨</strong>ï¼Œå¤ç”¨æ—¶æƒ³è¦å¯¹è·¯ç”±å‚æ•°çš„å˜åŒ–åšå‡ºå“åº”ï¼Œå¯ä»¥é€šè¿‡watchç›‘æµ‹routeå¯¹è±¡ï¼›</p>
</li>
<li><p>åŒ¹é…ä»»æ„è·¯å¾„ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨é€šé…ç¬¦ (*)ï¼›</p>
</li>
</ol>
</li>
<li><p>åµŒå¥—è·¯ç”±ï¼š</p>
<ol>
<li><p>éœ€æ±‚ï¼šå®é™…å¼€å‘ä¸­ï¼Œä¸€ä¸ªå‰ç«¯é¡µé¢é€šå¸¸ç”±å¤šå±‚åµŒå¥—çš„ç»„ä»¶ç»„åˆè€Œæˆï¼›</p>
</li>
<li><p>æ–¹æ³•ï¼šURL ä¸­å„æ®µåŠ¨æ€è·¯å¾„ä¹ŸæŒ‰æŸç§ç»“æ„å¯¹åº”åµŒå¥—çš„å„å±‚ç»„ä»¶</p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">/user/foo/profile                     /user/foo/posts</span><br><span class="line">+------------------+                  +-----------------+</span><br><span class="line">| User             |                  | User            |</span><br><span class="line">| +--------------+ |                  | +-------------+ |</span><br><span class="line">| | Profile      | |  +------------&gt;  | | Posts       | |</span><br><span class="line">| |              | |                  | |             | |</span><br><span class="line">| +--------------+ |                  | +-------------+ |</span><br><span class="line">+------------------+                  +-----------------+</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä¸€ä¸ªè¢«æ¸²æŸ“ç»„ä»¶å¯ä»¥åŒ…å«è‡ªå·±çš„åµŒå¥— router-viewï¼Œå³ç»„ä»¶å¯ä»¥åµŒå¥—router-viewï¼›</p>
</li>
<li><p>è¦åœ¨åµŒå¥—çš„å‡ºå£ä¸­æ¸²æŸ“ç»„ä»¶ï¼Œéœ€è¦åœ¨ VueRouter çš„å‚æ•°ä¸­ä½¿ç”¨ children é…ç½®ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> VueRouter(&#123;</span><br><span class="line">  routes: [</span><br><span class="line">    &#123; </span><br><span class="line">      path: <span class="string">'/user/:id'</span>, </span><br><span class="line">      component: User,</span><br><span class="line">      children: [</span><br><span class="line">        &#123; </span><br><span class="line">          <span class="comment">// å½“ /user/:id åŒ¹é…æˆåŠŸï¼Œ</span></span><br><span class="line">        	<span class="comment">// UserHome ä¼šè¢«æ¸²æŸ“åœ¨ User çš„ &lt;router-view&gt; ä¸­</span></span><br><span class="line">          path: <span class="string">''</span>, </span><br><span class="line">          component: UserHome </span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="comment">// å½“ /user/:id/profile åŒ¹é…æˆåŠŸï¼Œ</span></span><br><span class="line">          <span class="comment">// UserProfile ä¼šè¢«æ¸²æŸ“åœ¨ User çš„ &lt;router-view&gt; ä¸­</span></span><br><span class="line">          path: <span class="string">'profile'</span>,</span><br><span class="line">          component: UserProfile</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="comment">// å½“ /user/:id/posts åŒ¹é…æˆåŠŸ</span></span><br><span class="line">          <span class="comment">// UserPosts ä¼šè¢«æ¸²æŸ“åœ¨ User çš„ &lt;router-view&gt; ä¸­</span></span><br><span class="line">          path: <span class="string">'posts'</span>,</span><br><span class="line">          component: UserPosts</span><br><span class="line">        &#125;</span><br><span class="line">      ]</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
<li><p>ç¼–ç¨‹å¼è·¯ç”±åˆ‡æ¢ï¼š</p>
<ol>
<li><p>ç¼–ç¨‹æ¨¡å‹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">router.push(location, onComplete?, onAbort?)</span><br><span class="line"><span class="comment">// router.pushä¼šå‘ history æ ˆæ·»åŠ ä¸€ä¸ªæ–°çš„è®°å½•ï¼Œå½“ç”¨æˆ·ç‚¹å‡»æµè§ˆå™¨åé€€æŒ‰é’®æ—¶ï¼Œåˆ™å›åˆ°ä¹‹å‰çš„ URL</span></span><br><span class="line"></span><br><span class="line">router.replace(location, onComplete?, onAbort?)</span><br><span class="line"><span class="comment">// router.replaceä¸ä¼šå‘ history æ·»åŠ æ–°è®°å½•ï¼Œè€Œæ˜¯æ›¿æ¢æ‰å½“å‰çš„ history è®°å½•</span></span><br><span class="line"></span><br><span class="line">router.go(n)</span><br><span class="line"><span class="comment">// åœ¨ history è®°å½•ä¸­å‘å‰æˆ–è€…åé€€å¤šå°‘æ­¥ï¼Œè´Ÿæ•°å›é€€</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>åœ¨ Vue å®ä¾‹å†…éƒ¨ï¼Œå¯ä»¥é€šè¿‡ $router è®¿é—®è·¯ç”±å®ä¾‹ï¼Œå› æ­¤å¯ä»¥è°ƒç”¨ this.$router.pushï¼›</p>
</li>
<li><p>æ–¹æ³•çš„å‚æ•°ç¤ºä¾‹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// å­—ç¬¦ä¸²</span></span><br><span class="line">router.push(<span class="string">'home'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¯¹è±¡</span></span><br><span class="line">router.push(&#123; <span class="attr">path</span>: <span class="string">'home'</span> &#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// å‘½åçš„è·¯ç”±</span></span><br><span class="line">router.push(&#123; <span class="attr">name</span>: <span class="string">'user'</span>, <span class="attr">params</span>: &#123; <span class="attr">userId</span>: <span class="string">'123'</span> &#125;&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¸¦æŸ¥è¯¢å‚æ•°ï¼Œå˜æˆ /register?plan=private</span></span><br><span class="line">router.push(&#123; <span class="attr">path</span>: <span class="string">'register'</span>, <span class="attr">query</span>: &#123; <span class="attr">plan</span>: <span class="string">'private'</span> &#125;&#125;)</span><br></pre></td></tr></table></figure>

<ul>
<li>å¦‚æœæä¾›äº† pathï¼Œparams ä¼šè¢«å¿½ç•¥</li>
<li>onCompleteï¼ŒonAbortå›è°ƒå°†ä¼šåœ¨å¯¼èˆªæˆåŠŸå®Œæˆ (åœ¨æ‰€æœ‰çš„å¼‚æ­¥é’©å­è¢«è§£æä¹‹å) æˆ–ç»ˆæ­¢ (å¯¼èˆªåˆ°ç›¸åŒçš„è·¯ç”±ã€æˆ–åœ¨å½“å‰å¯¼èˆªå®Œæˆä¹‹å‰å¯¼èˆªåˆ°å¦ä¸€ä¸ªä¸åŒçš„è·¯ç”±) çš„æ—¶å€™è¿›è¡Œç›¸åº”çš„è°ƒç”¨</li>
</ul>
</li>
</ol>
</li>
<li><p>è·¯ç”±ç»„ä»¶ä¼ å‚ï¼š</p>
<ol>
<li>å¯ä»¥é€šè¿‡$routeè¿›è¡Œå‚æ•°ä¼ é€’ï¼Œä½†æ˜¯åœ¨ç»„ä»¶ä¸­ä½¿ç”¨$route ä¼šä½¿ä¹‹ä¸å…¶å¯¹åº”è·¯ç”±å½¢æˆé«˜åº¦è€¦åˆï¼Œä»è€Œä½¿ç»„ä»¶åªèƒ½åœ¨æŸäº›ç‰¹å®šçš„ URL ä¸Šä½¿ç”¨ï¼Œé™åˆ¶äº†å…¶çµæ´»æ€§ï¼›</li>
<li>ä½¿ç”¨ props å°†ç»„ä»¶å’Œè·¯ç”±è§£è€¦ï¼Œæå‡ç»„ä»¶çµæ´»æ€§ï¼›</li>
</ol>
</li>
<li><p>vue-routeræ¨¡å¼ï¼š</p>
<ul>
<li><p>ä½¿ç”¨ URL çš„ hash æ¥æ¨¡æ‹Ÿä¸€ä¸ªå®Œæ•´çš„ URLï¼Œäºæ˜¯å½“ URL æ”¹å˜æ—¶ï¼Œé¡µé¢ä¸ä¼šé‡æ–°åŠ è½½ï¼Œå³hash æ¨¡å¼ï¼ˆé»˜è®¤ï¼‰ï¼Œ hash å€¼çš„å˜åŒ–ï¼Œå¹¶ä¸ä¼šå¯¼è‡´æµè§ˆå™¨å‘æœåŠ¡å™¨å‘å‡ºè¯·æ±‚ï¼Œæµè§ˆå™¨ä¸å‘å‡ºè¯·æ±‚ï¼Œä¹Ÿå°±ä¸ä¼šåˆ·æ–°é¡µé¢ã€‚å¦å¤–æ¯æ¬¡ hash å€¼çš„å˜åŒ–ï¼Œè¿˜ä¼šè§¦å‘hashchange è¿™ä¸ªäº‹ä»¶ï¼Œé€šè¿‡è¿™ä¸ªäº‹ä»¶æˆ‘ä»¬å°±å¯ä»¥çŸ¥é“ hash å€¼å‘ç”Ÿäº†å“ªäº›å˜åŒ–</p>
</li>
<li><p>URL å°±åƒæ­£å¸¸çš„ urlï¼Œä¾‹å¦‚ <a href="http://yoursite.com/user/idï¼Œå³" target="_blank" rel="noopener">http://yoursite.com/user/idï¼Œå³</a> history æ¨¡å¼</p>
</li>
<li><p>åˆ‡æ¢æ¨¡å¼ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const router &#x3D; new VueRouter(&#123;</span><br><span class="line">  mode: &#39;history&#39;,</span><br><span class="line">  routes: [...]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>å¯¼èˆªå®ˆå«ï¼š</p>
<ol>
<li><p>vue-router æä¾›çš„å¯¼èˆªå®ˆå«ä¸»è¦ç”¨æ¥é€šè¿‡è·³è½¬æˆ–å–æ¶ˆçš„æ–¹å¼å®ˆå«å¯¼èˆªï¼›</p>
</li>
<li><p>å‚æ•°æˆ–æŸ¥è¯¢çš„æ”¹å˜å¹¶ä¸ä¼šè§¦å‘è¿›å…¥/ç¦»å¼€çš„å¯¼èˆªå®ˆå«ï¼Œå¯ä»¥é€šè¿‡è§‚å¯Ÿ $route å¯¹è±¡æ¥åº”å¯¹è¿™äº›å˜åŒ–ï¼›</p>
</li>
<li><p>å…¨å±€å‰ç½®å®ˆå«ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> VueRouter(&#123; ... &#125;)</span><br><span class="line"><span class="comment">// ä½¿ç”¨ router.beforeEach æ³¨å†Œä¸€ä¸ªå…¨å±€å‰ç½®å®ˆå«</span></span><br><span class="line">router.beforeEach(<span class="function">(<span class="params">to, <span class="keyword">from</span>, next</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// æ¯ä¸ªå®ˆå«æ–¹æ³•æ¥æ”¶ä¸‰ä¸ªå‚æ•°ï¼š</span></span><br><span class="line"><span class="comment">// to: Route: å³å°†è¦è¿›å…¥çš„ç›®æ ‡ è·¯ç”±å¯¹è±¡</span></span><br><span class="line"><span class="comment">// from: Route: å½“å‰å¯¼èˆªæ­£è¦ç¦»å¼€çš„è·¯ç”±</span></span><br><span class="line"><span class="comment">// next: Function: ä¸€å®šè¦è°ƒç”¨è¯¥æ–¹æ³•æ¥ resolve è¿™ä¸ªé’©å­</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨ router.afterEachæ³¨å†Œå…¨å±€åç½®é’©å­</span></span><br><span class="line">router.afterEach(<span class="function">(<span class="params">to, <span class="keyword">from</span></span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
</li>
<li><p>å¯ä»¥åœ¨è·¯ç”±é…ç½®ä¸Šç›´æ¥å®šä¹‰ beforeEnter å®ˆå«ï¼›</p>
</li>
<li><p>å¯ä»¥åœ¨è·¯ç”±ç»„ä»¶å†…ç›´æ¥å®šä¹‰ä»¥ä¸‹è·¯ç”±å¯¼èˆªå®ˆå«ï¼š</p>
<ul>
<li>beforeRouteEnter</li>
<li>beforeRouteUpdate</li>
<li>beforeRouteLeave</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">beforeRouteEnter (to, from, next) &#123;</span><br><span class="line">   &#x2F;&#x2F; åœ¨æ¸²æŸ“è¯¥ç»„ä»¶çš„å¯¹åº”è·¯ç”±è¢« confirm å‰è°ƒç”¨</span><br><span class="line">   &#x2F;&#x2F; ä¸ï¼èƒ½ï¼è·å–ç»„ä»¶å®ä¾‹ &#96;this&#96;</span><br><span class="line">   &#x2F;&#x2F; å› ä¸ºå½“å®ˆå«æ‰§è¡Œå‰ï¼Œç»„ä»¶å®ä¾‹è¿˜æ²¡è¢«åˆ›å»º</span><br><span class="line"> &#125;,</span><br><span class="line"> beforeRouteUpdate (to, from, next) &#123;</span><br><span class="line">   &#x2F;&#x2F; åœ¨å½“å‰è·¯ç”±æ”¹å˜ï¼Œä½†æ˜¯è¯¥ç»„ä»¶è¢«å¤ç”¨æ—¶è°ƒç”¨</span><br><span class="line">   &#x2F;&#x2F; ä¸¾ä¾‹æ¥è¯´ï¼Œå¯¹äºä¸€ä¸ªå¸¦æœ‰åŠ¨æ€å‚æ•°çš„è·¯å¾„ &#x2F;foo&#x2F;:idï¼Œåœ¨ &#x2F;foo&#x2F;1 å’Œ &#x2F;foo&#x2F;2 ä¹‹é—´è·³è½¬çš„æ—¶å€™ï¼Œ</span><br><span class="line">   &#x2F;&#x2F; ç”±äºä¼šæ¸²æŸ“åŒæ ·çš„ Foo ç»„ä»¶ï¼Œå› æ­¤ç»„ä»¶å®ä¾‹ä¼šè¢«å¤ç”¨ã€‚è€Œè¿™ä¸ªé’©å­å°±ä¼šåœ¨è¿™ä¸ªæƒ…å†µä¸‹è¢«è°ƒç”¨ã€‚</span><br><span class="line">   &#x2F;&#x2F; å¯ä»¥è®¿é—®ç»„ä»¶å®ä¾‹ &#96;this&#96;</span><br><span class="line"> &#125;,</span><br><span class="line"> beforeRouteLeave (to, from, next) &#123;</span><br><span class="line">   &#x2F;&#x2F; å¯¼èˆªç¦»å¼€è¯¥ç»„ä»¶çš„å¯¹åº”è·¯ç”±æ—¶è°ƒç”¨</span><br><span class="line">   &#x2F;&#x2F; å¯ä»¥è®¿é—®ç»„ä»¶å®ä¾‹ &#96;this&#96;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
<li><p>åŠ¨æ€è¿‡æ¸¡ï¼š</p>
<ol>
<li>ä½¿ç”¨transitionä¸ºç»„ä»¶ç»™æ·»åŠ ä¸€äº›è¿‡æ¸¡æ•ˆæœï¼›</li>
<li>æƒ³è®©å„ä¸ªè·¯ç”±ç»„ä»¶æœ‰å„è‡ªçš„è¿‡æ¸¡æ•ˆæœï¼Œå¯ä»¥åœ¨å„è·¯ç”±ç»„ä»¶å†…ä½¿ç”¨ &lt;transition&gt; å¹¶è®¾ç½®ä¸åŒçš„ nameï¼›</li>
<li>å¯ä»¥åŸºäºå½“å‰è·¯ç”±ä¸ç›®æ ‡è·¯ç”±çš„å˜åŒ–å…³ç³»ï¼ŒåŠ¨æ€è®¾ç½®è¿‡æ¸¡æ•ˆæœï¼›</li>
</ol>
</li>
</ol>
<h2 id="Vueæ•°æ®è·å–"><a href="#Vueæ•°æ®è·å–" class="headerlink" title="Vueæ•°æ®è·å–"></a>Vueæ•°æ®è·å–</h2><ol>
<li>è¿›å…¥æŸä¸ªè·¯ç”±åï¼Œæœ‰æ—¶å€™éœ€è¦ä»æœåŠ¡å™¨è·å–æ•°æ®ã€‚ä¾‹å¦‚ï¼Œåœ¨æ¸²æŸ“ç”¨æˆ·ä¿¡æ¯æ—¶ï¼Œéœ€è¦ä»æœåŠ¡å™¨è·å–ç”¨æˆ·çš„æ•°æ®ï¼›</li>
<li>è·å–é˜¶æ®µï¼š<ul>
<li><strong>å¯¼èˆªå®Œæˆä¹‹åè·å–</strong>ï¼šå…ˆå®Œæˆå¯¼èˆªï¼Œç„¶ååœ¨æ¥ä¸‹æ¥çš„ç»„ä»¶ç”Ÿå‘½å‘¨æœŸé’©å­ä¸­è·å–æ•°æ®ã€‚åœ¨æ•°æ®è·å–æœŸé—´æ˜¾ç¤ºâ€œåŠ è½½ä¸­â€ä¹‹ç±»çš„æŒ‡ç¤º</li>
<li><strong>å¯¼èˆªå®Œæˆä¹‹å‰è·å–</strong>ï¼šå¯¼èˆªå®Œæˆå‰ï¼Œåœ¨è·¯ç”±è¿›å…¥çš„å®ˆå«ä¸­è·å–æ•°æ®ï¼Œåœ¨æ•°æ®è·å–æˆåŠŸåæ‰§è¡Œå¯¼èˆª</li>
</ul>
</li>
</ol>
<h3 id="å¯¼èˆªå®Œæˆåè·å–æ•°æ®"><a href="#å¯¼èˆªå®Œæˆåè·å–æ•°æ®" class="headerlink" title="å¯¼èˆªå®Œæˆåè·å–æ•°æ®"></a>å¯¼èˆªå®Œæˆåè·å–æ•°æ®</h3><ol>
<li><p>ä½¿ç”¨è¿™ç§æ–¹å¼æ—¶ï¼Œä¼šé©¬ä¸Šå¯¼èˆªå’Œæ¸²æŸ“ç»„ä»¶,ç„¶ååœ¨ç»„ä»¶çš„ created é’©å­ä¸­è·å–æ•°æ®ï¼›</p>
</li>
<li><p>æœ‰å¯èƒ½éœ€è¦åœ¨æ•°æ®è·å–æœŸé—´å±•ç¤ºä¸€ä¸ª loading çŠ¶æ€ï¼Œæˆ–è€…åœ¨ä¸åŒè§†å›¾é—´å±•ç¤ºä¸åŒçš„ loading çŠ¶æ€ï¼›</p>
</li>
<li><p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  data () &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      loading: <span class="literal">false</span>,</span><br><span class="line">      post: <span class="literal">null</span>,</span><br><span class="line">      error: <span class="literal">null</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  created () &#123;</span><br><span class="line">    <span class="comment">// ç»„ä»¶åˆ›å»ºå®Œåè·å–æ•°æ®ï¼Œ</span></span><br><span class="line">    <span class="comment">// æ­¤æ—¶ data å·²ç»è¢« observed äº†</span></span><br><span class="line">    <span class="keyword">this</span>.fetchData()</span><br><span class="line">  &#125;,</span><br><span class="line">  watch: &#123;</span><br><span class="line">    <span class="comment">// å¦‚æœè·¯ç”±æœ‰å˜åŒ–ï¼Œä¼šå†æ¬¡æ‰§è¡Œè¯¥æ–¹æ³•</span></span><br><span class="line">    <span class="string">'$route'</span>: <span class="string">'fetchData'</span></span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    fetchData () &#123;</span><br><span class="line">      <span class="keyword">this</span>.error = <span class="keyword">this</span>.post = <span class="literal">null</span></span><br><span class="line">      <span class="keyword">this</span>.loading = <span class="literal">true</span></span><br><span class="line">      <span class="comment">// replace getPost with your data fetching util / API wrapper</span></span><br><span class="line">      getPost(<span class="keyword">this</span>.$route.params.id, (err, post) =&gt; &#123;</span><br><span class="line">        <span class="keyword">this</span>.loading = <span class="literal">false</span></span><br><span class="line">        <span class="keyword">if</span> (err) &#123;</span><br><span class="line">          <span class="keyword">this</span>.error = err.toString()</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          <span class="keyword">this</span>.post = post</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h3 id="åœ¨å¯¼èˆªå®Œæˆå‰è·å–æ•°æ®"><a href="#åœ¨å¯¼èˆªå®Œæˆå‰è·å–æ•°æ®" class="headerlink" title="åœ¨å¯¼èˆªå®Œæˆå‰è·å–æ•°æ®"></a>åœ¨å¯¼èˆªå®Œæˆå‰è·å–æ•°æ®</h3><ol>
<li><p>ä½¿ç”¨è¿™ç§æ–¹å¼ä¼šåœ¨å¯¼èˆªè½¬å…¥æ–°çš„è·¯ç”±å‰è·å–æ•°æ®ï¼Œå¯ä»¥åœ¨æ¥ä¸‹æ¥çš„ç»„ä»¶çš„ beforeRouteEnter å®ˆå«ä¸­è·å–æ•°æ®ï¼Œå½“æ•°æ®è·å–æˆåŠŸååªè°ƒç”¨ next æ–¹æ³•ï¼›</p>
</li>
<li><p>åœ¨ä¸ºåé¢çš„è§†å›¾è·å–æ•°æ®æ—¶ï¼Œç”¨æˆ·ä¼šåœç•™åœ¨å½“å‰çš„ç•Œé¢ï¼Œå»ºè®®åœ¨æ•°æ®è·å–æœŸé—´ï¼Œæ˜¾ç¤ºä¸€äº›è¿›åº¦æ¡æˆ–è€…åˆ«çš„æŒ‡ç¤ºã€‚å¦‚æœæ•°æ®è·å–å¤±è´¥ï¼ŒåŒæ ·æœ‰å¿…è¦å±•ç¤ºä¸€äº›å…¨å±€çš„é”™è¯¯æé†’ï¼›</p>
</li>
<li><p>ä½¿ç”¨ä¸‹é¢çš„å‡½æ•°å®Œæˆæ•°æ®è·å–ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">beforeRouteEnter (to, <span class="keyword">from</span>, next)</span><br><span class="line"></span><br><span class="line"><span class="comment">// è·¯ç”±æ”¹å˜å‰ï¼Œç»„ä»¶å°±å·²ç»æ¸²æŸ“å®Œäº†</span></span><br><span class="line"><span class="comment">// é€»è¾‘ç¨ç¨ä¸åŒ</span></span><br><span class="line">beforeRouteUpdate (to, <span class="keyword">from</span>, next)</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h3 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h3><ol>
<li>ä¸­æ–‡å­¦ä¹ ç½‘å€ï¼š<a href="https://router.vuejs.org/zh/" target="_blank" rel="noopener">https://router.vuejs.org/zh/</a></li>
<li>ä¸­æ–‡APIç½‘å€ï¼š<a href="https://router.vuejs.org/zh/api/" target="_blank" rel="noopener">https://router.vuejs.org/zh/api/</a></li>
</ol>
<h2 id="element-ui"><a href="#element-ui" class="headerlink" title="element-ui"></a>element-ui</h2><h3 id="æ ‡å‡†ä½¿ç”¨element-ui"><a href="#æ ‡å‡†ä½¿ç”¨element-ui" class="headerlink" title="æ ‡å‡†ä½¿ç”¨element-ui"></a>æ ‡å‡†ä½¿ç”¨element-ui</h3><ol>
<li><p>å®˜æ–¹ç½‘å€ï¼š<a href="https://element.eleme.cn/#/zh-CN/" target="_blank" rel="noopener">https://element.eleme.cn/#/zh-CN/</a></p>
</li>
<li><p>å®‰è£…ï¼ˆåœ¨å·¥ç¨‹ç›®å½•ä¸‹ï¼‰ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">cnpm install element-ui -S</span><br></pre></td></tr></table></figure>
</li>
<li><p>å·¥ç¨‹ä¸­å¼•å…¥ï¼ˆmain.jsï¼‰:</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> ElementUI <span class="keyword">from</span> <span class="string">'element-ui'</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">'element-ui/lib/theme-chalk/index.css'</span></span><br><span class="line"><span class="comment">// åœ¨å¼•å…¥ElementUIä¹‹åå°±å¯ä»¥åœ¨ç»„ä»¶ä¸­ä½¿ç”¨uiåº“äº†</span></span><br><span class="line">Vue.use(ElementUI)</span><br></pre></td></tr></table></figure>
</li>
<li><p>åœ¨ç»„ä»¶ä¸­ä½¿ç”¨uiåº“ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div id&#x3D;&quot;app&quot;&gt;</span><br><span class="line">    &lt;img src&#x3D;&quot;.&#x2F;assets&#x2F;logo.png&quot;&gt;</span><br><span class="line">    &lt;i class&#x3D;&quot;el-icon-edit&quot;&gt;&lt;&#x2F;i&gt;</span><br><span class="line">    &lt;i class&#x3D;&quot;el-icon-share&quot;&gt;&lt;&#x2F;i&gt;</span><br><span class="line">    &lt;i class&#x3D;&quot;el-icon-delete&quot;&gt;&lt;&#x2F;i&gt;</span><br><span class="line">    &lt;el-button type&#x3D;&quot;primary&quot; icon&#x3D;&quot;el-icon-search&quot;&gt;æœç´¢&lt;&#x2F;el-button&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#39;App&#39;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">#app &#123;</span><br><span class="line">  font-family: &#39;Avenir&#39;, Helvetica, Arial, sans-serif;</span><br><span class="line">  -webkit-font-smoothing: antialiased;</span><br><span class="line">  -moz-osx-font-smoothing: grayscale;</span><br><span class="line">  text-align: center;</span><br><span class="line">  color: #2c3e50;</span><br><span class="line">  margin-top: 60px;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä½¿ç”¨æ•ˆæœï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/a6f95ea4000f50aba4297f5b9e2ec4d6-11039" alt="element-uiä½¿ç”¨æ•ˆæœ"></p>
</li>
</ol>
<h3 id="å¼•å…¥Iconfont"><a href="#å¼•å…¥Iconfont" class="headerlink" title="å¼•å…¥Iconfont"></a>å¼•å…¥Iconfont</h3><ol>
<li><p>è¿›å…¥å®˜ç½‘ï¼Œæ³¨å†Œå¹¶ç™»å½•ï¼š<a href="https://www.iconfont.cn/" target="_blank" rel="noopener">https://www.iconfont.cn/</a></p>
</li>
<li><p>è¿›å…¥é¦–é¡µçš„â€å›¾æ ‡ç®¡ç† =&gt; æˆ‘çš„é¡¹ç›®â€ï¼Œè¿›è¡Œé¡¹ç›®çš„ç®¡ç†ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/ce06b9e745c0ecbae397514c922e1c45-99821" alt="Iconfontæˆ‘çš„é¡¹ç›®"></p>
</li>
<li><p>ç¼–è¾‘é¡¹ç›®å±æ€§ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/1fdda940b205d9ab8837f5eb9bbcb718-39081" alt="é¡¹ç›®å…³é”®å±æ€§"></p>
</li>
<li><p>ä¸‹è½½è‡ªå®šä¹‰å›¾æ ‡åº“ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/0dde46c47022a9701d075410d2305fb9-26853" alt="ä¸‹è½½è‡ªå®šä¹‰å›¾æ ‡åº“"></p>
</li>
<li><p>åœ¨é¡¹ç›®ä¸­æ·»åŠ å¦‚ä¸‹çš„æ–‡ä»¶åˆ°é¡¹ç›®çš„src/assets/icosç›®å½•ä¸‹ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/90350d8e17ffb398c54bb4c143c2b65c-61932" alt="éœ€è¦æ‹·è´çš„æ–‡ä»¶"></p>
</li>
<li><p>åœ¨é¡¹ç›®ä¸­å¯¼å…¥è‡ªå®šä¹‰å›¾æ ‡ï¼Œå¹¶ä¿®æ”¹æ ·å¼ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import &#39;.&#x2F;assets&#x2F;icons&#x2F;iconfont.css&#39;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">#app &#123;</span><br><span class="line">  font-family: &#39;Avenir&#39;, Helvetica, Arial, sans-serif;</span><br><span class="line">  -webkit-font-smoothing: antialiased;</span><br><span class="line">  -moz-osx-font-smoothing: grayscale;</span><br><span class="line">  text-align: center;</span><br><span class="line">  color: #2c3e50;</span><br><span class="line">  margin-top: 60px;</span><br><span class="line">&#125;</span><br><span class="line">.iconfont &#123;</span><br><span class="line">  font-family:&quot;iconfont&quot; !important;</span><br><span class="line">  font-size:32px;</span><br><span class="line">  font-style:normal;</span><br><span class="line">  -webkit-font-smoothing: antialiased;</span><br><span class="line">  -moz-osx-font-smoothing: grayscale;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>è‡ªå®šä¹‰å›¾æ ‡çš„åº”ç”¨ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div id&#x3D;&quot;app&quot;&gt;</span><br><span class="line">    &lt;img src&#x3D;&quot;.&#x2F;assets&#x2F;logo.png&quot;&gt;</span><br><span class="line">    &lt;i class&#x3D;&quot;el-icon-edit&quot;&gt;&lt;&#x2F;i&gt;</span><br><span class="line">    &lt;i class&#x3D;&quot;el-icon-share&quot;&gt;&lt;&#x2F;i&gt;</span><br><span class="line">    &lt;i class&#x3D;&quot;el-icon-delete&quot;&gt;&lt;&#x2F;i&gt;</span><br><span class="line">    &lt;i class&#x3D;&quot;iconfont iconshuilongtou&quot;&gt;&lt;&#x2F;i&gt;</span><br><span class="line">    &lt;el-button type&#x3D;&quot;primary&quot; icon&#x3D;&quot;el-icon-search&quot;&gt;æœç´¢&lt;&#x2F;el-button&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li><p>æŒ‘é€‰ç›¸åº”å›¾æ ‡å¹¶è·å–ç±»åï¼Œåº”ç”¨äºé¡µé¢ï¼Œç¤ºä¾‹å†…å®¹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;i class&#x3D;&quot;iconfont iconshuilongtou&quot;&gt;&lt;&#x2F;i&gt;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/85ca5dd60b5f20944e2456c79f77e0bd-18246" alt="æ•ˆæœ"></p>
</li>
<li><p>iconfont.cssæ–‡ä»¶ä¸­<strong>.iconfont ç±»</strong>è®¾ç½®æˆ‘ä»¬å¼•å…¥çš„å›¾æ ‡çš„æ•´ä½“çš„æ ·å¼ ï¼Œ<strong>.iconxxx:before</strong>æ˜¯å¼•å…¥çš„æ¯ä¸€ä¸ªå›¾æ ‡ï¼Œ å¯ä»¥é€šè¿‡åœ¨.iconxxxä¸­å†™æ ·å¼ï¼Œå•ç‹¬è®¾ç½®æŸä¸€ä¸ªå›¾æ ‡çš„æ ·å¼ï¼</p>
</li>
</ol>
<h3 id="å›åˆ°é¡¶éƒ¨"><a href="#å›åˆ°é¡¶éƒ¨" class="headerlink" title="å›åˆ°é¡¶éƒ¨"></a>å›åˆ°é¡¶éƒ¨</h3><ol>
<li><p>å®˜æ–¹æ•™ç¨‹ç½‘å€ï¼š<a href="https://element.eleme.cn/#/zh-CN/component/backtop" target="_blank" rel="noopener">https://element.eleme.cn/#/zh-CN/component/backtop</a></p>
</li>
<li><p>äº‹å®ç›´æ¥å¤åˆ¶ç²˜è´´ä¹‹åæ˜¯æ²¡æœ‰æ•ˆæœçš„ï¼Œä¸»è¦çš„åŸå› æ˜¯å› ä¸º<strong>æ˜¾ç¤ºå›åˆ°é¡¶éƒ¨æŒ‰é’®çš„é«˜åº¦æ²¡æœ‰è‡ªå®šä¹‰</strong>ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div id&#x3D;&quot;app&quot; class&#x3D;&quot;content-area&quot;&gt;</span><br><span class="line">    Scroll down to see the bottom-right button.</span><br><span class="line">    &lt;el-backtop target&#x3D;&quot;#app&quot; :visibility-height&#x3D;&quot;60&quot;&gt;</span><br><span class="line">      &lt;div</span><br><span class="line">        style&#x3D;&quot;&#123;</span><br><span class="line">        height: 100%;</span><br><span class="line">        width: 100%;</span><br><span class="line">        background-color: #f2f5f6;</span><br><span class="line">        box-shadow: 0 0 6px rgba(0,0,0, .12);</span><br><span class="line">        text-align: center;</span><br><span class="line">        line-height: 40px;</span><br><span class="line">        color: #1989fa;</span><br><span class="line">      &#125;&quot;</span><br><span class="line">      &gt;</span><br><span class="line">        UP</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">    &lt;&#x2F;el-backtop&gt;</span><br><span class="line">    &lt;p&gt;Hello world&lt;&#x2F;p&gt;</span><br><span class="line">    &lt;p&gt;Hello world&lt;&#x2F;p&gt;</span><br><span class="line">    &lt;p&gt;Hello world&lt;&#x2F;p&gt;</span><br><span class="line">    &lt;p&gt;Hello world&lt;&#x2F;p&gt;</span><br><span class="line">    &lt;p&gt;Hello world&lt;&#x2F;p&gt;</span><br><span class="line">    &lt;p&gt;Hello world&lt;&#x2F;p&gt;</span><br><span class="line">    &lt;p&gt;Hello world&lt;&#x2F;p&gt;</span><br><span class="line">    &lt;p&gt;Hello world&lt;&#x2F;p&gt;</span><br><span class="line">    &lt;p&gt;Hello world&lt;&#x2F;p&gt;</span><br><span class="line">    &lt;p&gt;Hello world&lt;&#x2F;p&gt;</span><br><span class="line">    &lt;p&gt;Hello world&lt;&#x2F;p&gt;</span><br><span class="line">    &lt;p&gt;Hello world&lt;&#x2F;p&gt;</span><br><span class="line">    &lt;p&gt;Hello world&lt;&#x2F;p&gt;</span><br><span class="line">    &lt;p&gt;Hello world&lt;&#x2F;p&gt;</span><br><span class="line">    &lt;p&gt;Hello world&lt;&#x2F;p&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ•ˆæœï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/1d6b4282361bee389439c193c4b7df77-32867" alt="å›åˆ°é¡¶éƒ¨æ•ˆæœ"></p>
</li>
</ol>
<hr>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>è¿™éƒ¨åˆ†è¿›è¡Œäº†Vueè·¯ç”±å™¨çš„å®æ“ï¼ŒElement-uiçš„ä½¿ç”¨ï¼ŒåŠ¨æ‰‹è¿‡ç¨‹ä¸­æ‰ä¼šå‘ç°ä¸€äº›é—®é¢˜ï¼Œæ¯”å¦‚å›åˆ°é¡¶éƒ¨ï¼Œå§‹ç»ˆä¸å‡ºç°æ•ˆæœï¼Œæ‰¾äº†å‡ ç¯‡åšå®¢å»é˜…è¯»ä¹Ÿæ²¡è§£å†³å•¥é—®é¢˜ï¼ŒèŠ±æ—¶é—´å»å°è¯•ä¹‹åå‡ºç°äº†æ•ˆæœè¿˜æ˜¯å¾ˆæœ‰æˆå°±æ„Ÿçš„ã€‚æ¥ä¸‹æ¥è¿˜éœ€è¦å»é˜…è¯»å‡ ä¸ªå¼€æºé¡¹ç›®çš„æºç ï¼</p>
]]></content>
      <categories>
        <category>Vue</category>
      </categories>
  </entry>
  <entry>
    <title>Vueè¿›é˜¶ç¬¬äºŒæœŸ</title>
    <url>/2020/07/21/Vue%E8%BF%9B%E9%98%B6%E7%AC%AC%E4%BA%8C%E6%9C%9F/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>è¿™é‡Œä¸»è¦ä»‹ç»ä¸€äº›ç»„ä»¶çš„ä½¿ç”¨ï¼Œç„¶åå°±æ˜¯çœ‹æºç åˆ†æä¸€ä¸ªæ¨¡æ¿vue-manage-systemï¼Œè¿˜éœ€è¦ç†è§£å¦‚ä½•ç»“åˆSpringBootè¿›è¡Œå…¨æ ˆå¼€å‘ã€‚</p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="ç»„ä»¶å¿«é€Ÿä½¿ç”¨"><a href="#ç»„ä»¶å¿«é€Ÿä½¿ç”¨" class="headerlink" title="ç»„ä»¶å¿«é€Ÿä½¿ç”¨"></a>ç»„ä»¶å¿«é€Ÿä½¿ç”¨</h2><h3 id="vue-baidu-map"><a href="#vue-baidu-map" class="headerlink" title="vue-baidu-map"></a>vue-baidu-map</h3><ol>
<li><p>åœ¨Vueé¡¹ç›®æ ¹ç›®å½•ä¸‹å®‰è£…ç™¾åº¦åœ°å›¾æ’ä»¶ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">cnpm install vue-baidu-map -S</span><br></pre></td></tr></table></figure>
</li>
<li><p>å®˜ç½‘æ³¨å†Œakï¼š<a href="http://lbsyun.baidu.com/apiconsole/key#/home" target="_blank" rel="noopener">http://lbsyun.baidu.com/apiconsole/key#/home</a></p>
</li>
<li><p>å…¨å±€æ³¨å†Œï¼Œåœ¨main.jsä¸­å¼•å…¥ä»¥ä¸‹ä»£ç ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import BaiduMap from &#39;vue-baidu-map&#39;</span><br><span class="line"></span><br><span class="line">Vue.use(BaiduMap, &#123;</span><br><span class="line">  ak: &#39;RLWWZo1LNjWNpjoLKGOOQbYjNY7mEIhs&#39;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
</li>
<li><p>ç™¾åº¦åœ°å›¾ç»„ä»¶ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class&#x3D;&quot;Echarts&quot;&gt;</span><br><span class="line">    &lt;div id&#x3D;&quot;main&quot; style&#x3D;&quot;width: 600px;height:400px;&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">    &lt;baidu-map :center&#x3D;&quot;center&quot; :zoom&#x3D;&quot;zoom&quot; @ready&#x3D;&quot;handler&quot; style&#x3D;&quot;height:1080px&quot; @click&#x3D;&quot;getClickInfo&quot; :scroll-wheel-zoom&#x3D;&#39;true&#39;&gt;</span><br><span class="line">    &lt;&#x2F;baidu-map&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#39;Echarts&#39;,</span><br><span class="line">  data: function () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      center: &#123;lng: 109.45744048529967, lat: 36.49771311230842&#125;,</span><br><span class="line">      zoom: 13</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    myEcharts () &#123;</span><br><span class="line">      &#x2F;&#x2F; åŸºäºå‡†å¤‡å¥½çš„domï¼Œåˆå§‹åŒ–echartså®ä¾‹</span><br><span class="line">      var myChart &#x3D; this.$echarts.init(document.getElementById(&#39;main&#39;))</span><br><span class="line"></span><br><span class="line">      &#x2F;&#x2F; æŒ‡å®šå›¾è¡¨çš„é…ç½®é¡¹å’Œæ•°æ®</span><br><span class="line">      var option &#x3D; &#123;</span><br><span class="line">        title: &#123;</span><br><span class="line">          text: &#39;ECharts å…¥é—¨ç¤ºä¾‹&#39;</span><br><span class="line">        &#125;,</span><br><span class="line">        tooltip: &#123;&#125;,</span><br><span class="line">        legend: &#123;</span><br><span class="line">          data: [&#39;é”€é‡&#39;]</span><br><span class="line">        &#125;,</span><br><span class="line">        xAxis: &#123;</span><br><span class="line">          data: [&#39;è¡¬è¡«&#39;, &#39;ç¾Šæ¯›è¡«&#39;, &#39;é›ªçººè¡«&#39;, &#39;è£¤å­&#39;, &#39;é«˜è·Ÿé‹&#39;, &#39;è¢œå­&#39;]</span><br><span class="line">        &#125;,</span><br><span class="line">        yAxis: &#123;&#125;,</span><br><span class="line">        series: [&#123;</span><br><span class="line">          name: &#39;é”€é‡&#39;,</span><br><span class="line">          type: &#39;bar&#39;,</span><br><span class="line">          data: [5, 20, 36, 10, 10, 20]</span><br><span class="line">        &#125;]</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      &#x2F;&#x2F; ä½¿ç”¨åˆšæŒ‡å®šçš„é…ç½®é¡¹å’Œæ•°æ®æ˜¾ç¤ºå›¾è¡¨ã€‚</span><br><span class="line">      myChart.setOption(option)</span><br><span class="line">    &#125;,</span><br><span class="line">    handler (&#123;BMap, map&#125;) &#123;</span><br><span class="line">      var point &#x3D; new BMap.Point(120.299, 31.57)</span><br><span class="line">      map.centerAndZoom(point, 13)</span><br><span class="line">      var marker &#x3D; new BMap.Marker(point) &#x2F;&#x2F; åˆ›å»ºæ ‡æ³¨</span><br><span class="line">      map.addOverlay(marker) &#x2F;&#x2F; å°†æ ‡æ³¨æ·»åŠ åˆ°åœ°å›¾ä¸­</span><br><span class="line">      var circle &#x3D; new BMap.Circle(point, 6, &#123; strokeColor: &#39;Red&#39;, strokeWeight: 6, strokeOpacity: 1, Color: &#39;Red&#39;, fillColor: &#39;#f03&#39; &#125;)</span><br><span class="line">      map.addOverlay(circle)</span><br><span class="line">    &#125;,</span><br><span class="line">    getClickInfo (e) &#123;</span><br><span class="line">      console.log(e.point.lng)</span><br><span class="line">      console.log(e.point.lat)</span><br><span class="line">      this.center.lng &#x3D; e.point.lng</span><br><span class="line">      this.center.lat &#x3D; e.point.lat</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  mounted () &#123;</span><br><span class="line">    this.myEcharts()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line"></span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ•ˆæœå›¾ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/4c5dc227a6e3f2f47b94124078353e57-135110" alt="ç™¾åº¦åœ°å›¾æ•ˆæœ"></p>
</li>
<li><p>å¯ä»¥ä¿®æ”¹æ ·å¼ï¼š</p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">&lt;div id="all-map" class="all-map" &gt;&lt;/div&gt;</span><br><span class="line">&lt;<span class="selector-tag">style</span>&gt;</span><br><span class="line">  <span class="selector-class">.all-map</span>&#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">600px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">600px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h3 id="vue-video-player"><a href="#vue-video-player" class="headerlink" title="vue-video-player"></a>vue-video-player</h3><ol>
<li><p>åœ¨Vueé¡¹ç›®æ ¹ç›®å½•ä¸‹å®‰è£…ç™¾åº¦åœ°å›¾æ’ä»¶ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">cnpm install vue-video-player -S</span><br></pre></td></tr></table></figure>
</li>
<li><p>å…¨å±€æ³¨å†Œï¼Œåœ¨main.jsä¸­å¼•å…¥ä»¥ä¸‹ä»£ç ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import VueVideoPlayer from &#39;vue-video-player&#39;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; require videojs style</span><br><span class="line">import &#39;video.js&#x2F;dist&#x2F;video-js.css&#39;</span><br><span class="line">&#x2F;&#x2F; import &#39;vue-video-player&#x2F;src&#x2F;custom-theme.css&#39;</span><br><span class="line"></span><br><span class="line">Vue.use(VueVideoPlayer&#x2F;*,  &#123;</span><br><span class="line">  options: global default options,</span><br><span class="line">  events: global videojs events</span><br><span class="line">&#125; *&#x2F;)</span><br></pre></td></tr></table></figure>
</li>
<li><p>è§†é¢‘ç»„ä»¶ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class&#x3D;&quot;Echarts&quot;&gt;</span><br><span class="line">    &lt;div id&#x3D;&quot;main&quot; style&#x3D;&quot;width: 600px;height:400px;&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">    &lt;div id&#x3D;&quot;all-map&quot; class&#x3D;&quot;all-map&quot; &gt;&lt;baidu-map :center&#x3D;&quot;center&quot; :zoom&#x3D;&quot;zoom&quot; @ready&#x3D;&quot;handler&quot; style&#x3D;&quot;height:1080px&quot; @click&#x3D;&quot;getClickInfo&quot; :scroll-wheel-zoom&#x3D;&#39;true&#39;&gt;</span><br><span class="line">    &lt;&#x2F;baidu-map&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">    &lt;video-player  class&#x3D;&quot;video-player-box&quot;</span><br><span class="line">                   ref&#x3D;&quot;videoPlayer&quot;</span><br><span class="line">                   :options&#x3D;&quot;playerOptions&quot;</span><br><span class="line">                   :playsinline&#x3D;&quot;true&quot;</span><br><span class="line">                   customEventName&#x3D;&quot;customstatechangedeventname&quot;</span><br><span class="line"></span><br><span class="line">                   @play&#x3D;&quot;onPlayerPlay($event)&quot;</span><br><span class="line">                   @pause&#x3D;&quot;onPlayerPause($event)&quot;</span><br><span class="line">                   @ended&#x3D;&quot;onPlayerEnded($event)&quot;</span><br><span class="line">                   @waiting&#x3D;&quot;onPlayerWaiting($event)&quot;</span><br><span class="line">                   @playing&#x3D;&quot;onPlayerPlaying($event)&quot;</span><br><span class="line">                   @loadeddata&#x3D;&quot;onPlayerLoadeddata($event)&quot;</span><br><span class="line">                   @timeupdate&#x3D;&quot;onPlayerTimeupdate($event)&quot;</span><br><span class="line">                   @canplay&#x3D;&quot;onPlayerCanplay($event)&quot;</span><br><span class="line">                   @canplaythrough&#x3D;&quot;onPlayerCanplaythrough($event)&quot;</span><br><span class="line"></span><br><span class="line">                   @statechanged&#x3D;&quot;playerStateChanged($event)&quot;</span><br><span class="line">                   @ready&#x3D;&quot;playerReadied&quot;&gt;</span><br><span class="line">    &lt;&#x2F;video-player&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#39;Echarts&#39;,</span><br><span class="line">  data: function () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      center: &#123;lng: 109.45744048529967, lat: 36.49771311230842&#125;,</span><br><span class="line">      zoom: 13,</span><br><span class="line">      playerOptions: &#123;</span><br><span class="line">        &#x2F;&#x2F; videojs options</span><br><span class="line">        muted: true,</span><br><span class="line">        language: &#39;en&#39;,</span><br><span class="line">        playbackRates: [0.7, 1.0, 1.5, 2.0],</span><br><span class="line">        sources: [&#123;</span><br><span class="line">          type: &#39;video&#x2F;mp4&#39;,</span><br><span class="line">          src: &#39;https:&#x2F;&#x2F;cdn.theguardian.tv&#x2F;webM&#x2F;2015&#x2F;07&#x2F;20&#x2F;150716YesMen_synd_768k_vp8.webm&#39;</span><br><span class="line">        &#125;]</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  mounted () &#123;</span><br><span class="line">    this.myEcharts()</span><br><span class="line">    console.log(&#39;this is current player instance object&#39;, this.player)</span><br><span class="line">  &#125;,</span><br><span class="line">  computed: &#123;</span><br><span class="line">    player () &#123;</span><br><span class="line">      return this.$refs.videoPlayer.player</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    myEcharts () &#123;</span><br><span class="line">      &#x2F;&#x2F; åŸºäºå‡†å¤‡å¥½çš„domï¼Œåˆå§‹åŒ–echartså®ä¾‹</span><br><span class="line">      var myChart &#x3D; this.$echarts.init(document.getElementById(&#39;main&#39;))</span><br><span class="line"></span><br><span class="line">      &#x2F;&#x2F; æŒ‡å®šå›¾è¡¨çš„é…ç½®é¡¹å’Œæ•°æ®</span><br><span class="line">      var option &#x3D; &#123;</span><br><span class="line">        title: &#123;</span><br><span class="line">          text: &#39;ECharts å…¥é—¨ç¤ºä¾‹&#39;</span><br><span class="line">        &#125;,</span><br><span class="line">        tooltip: &#123;&#125;,</span><br><span class="line">        legend: &#123;</span><br><span class="line">          data: [&#39;é”€é‡&#39;]</span><br><span class="line">        &#125;,</span><br><span class="line">        xAxis: &#123;</span><br><span class="line">          data: [&#39;è¡¬è¡«&#39;, &#39;ç¾Šæ¯›è¡«&#39;, &#39;é›ªçººè¡«&#39;, &#39;è£¤å­&#39;, &#39;é«˜è·Ÿé‹&#39;, &#39;è¢œå­&#39;]</span><br><span class="line">        &#125;,</span><br><span class="line">        yAxis: &#123;&#125;,</span><br><span class="line">        series: [&#123;</span><br><span class="line">          name: &#39;é”€é‡&#39;,</span><br><span class="line">          type: &#39;bar&#39;,</span><br><span class="line">          data: [5, 20, 36, 10, 10, 20]</span><br><span class="line">        &#125;]</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      &#x2F;&#x2F; ä½¿ç”¨åˆšæŒ‡å®šçš„é…ç½®é¡¹å’Œæ•°æ®æ˜¾ç¤ºå›¾è¡¨ã€‚</span><br><span class="line">      myChart.setOption(option)</span><br><span class="line">    &#125;,</span><br><span class="line">    handler (&#123;BMap, map&#125;) &#123;</span><br><span class="line">      var point &#x3D; new BMap.Point(120.299, 31.57)</span><br><span class="line">      map.centerAndZoom(point, 13)</span><br><span class="line">      var marker &#x3D; new BMap.Marker(point) &#x2F;&#x2F; åˆ›å»ºæ ‡æ³¨</span><br><span class="line">      map.addOverlay(marker) &#x2F;&#x2F; å°†æ ‡æ³¨æ·»åŠ åˆ°åœ°å›¾ä¸­</span><br><span class="line">      var circle &#x3D; new BMap.Circle(point, 6, &#123; strokeColor: &#39;Red&#39;, strokeWeight: 6, strokeOpacity: 1, Color: &#39;Red&#39;, fillColor: &#39;#f03&#39; &#125;)</span><br><span class="line">      map.addOverlay(circle)</span><br><span class="line">    &#125;,</span><br><span class="line">    getClickInfo (e) &#123;</span><br><span class="line">      console.log(e.point.lng)</span><br><span class="line">      console.log(e.point.lat)</span><br><span class="line">      this.center.lng &#x3D; e.point.lng</span><br><span class="line">      this.center.lat &#x3D; e.point.lat</span><br><span class="line">    &#125;,</span><br><span class="line">    &#x2F;&#x2F; listen event</span><br><span class="line">    onPlayerPlay (player) &#123;</span><br><span class="line">      &#x2F;&#x2F; console.log(&#39;player play!&#39;, player)</span><br><span class="line">    &#125;,</span><br><span class="line">    onPlayerPause (player) &#123;</span><br><span class="line">      &#x2F;&#x2F; console.log(&#39;player pause!&#39;, player)</span><br><span class="line">    &#125;,</span><br><span class="line">    &#x2F;&#x2F; ...player event</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; or listen state event</span><br><span class="line">    playerStateChanged (playerCurrentState) &#123;</span><br><span class="line">      &#x2F;&#x2F; console.log(&#39;player current update state&#39;, playerCurrentState)</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; player is ready</span><br><span class="line">    playerReadied (player) &#123;</span><br><span class="line">      console.log(&#39;the player is readied&#39;, player)</span><br><span class="line">      &#x2F;&#x2F; you can use it to do something...</span><br><span class="line">      &#x2F;&#x2F; player.[methods]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">  .all-map&#123;</span><br><span class="line">    width: 600px;</span><br><span class="line">    height: 600px;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>Gitç½‘å€ï¼š<a href="https://github.com/surmon-china/vue-video-player" target="_blank" rel="noopener">https://github.com/surmon-china/vue-video-player</a></p>
</li>
<li><p>è§†é¢‘æ’­æ”¾æ•ˆæœï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/9a9e83712317f59036dd41c8d5a483a8-54599" alt="vue-video-playeræ•ˆæœ"></p>
</li>
</ol>
<h2 id="vue-manage-systemæ¨¡æ¿åˆ†æ"><a href="#vue-manage-systemæ¨¡æ¿åˆ†æ" class="headerlink" title="vue-manage-systemæ¨¡æ¿åˆ†æ"></a>vue-manage-systemæ¨¡æ¿åˆ†æ</h2><ol>
<li><p>Gitç½‘å€ï¼š<a href="https://github.com/lin-xin/vue-manage-system" target="_blank" rel="noopener">https://github.com/lin-xin/vue-manage-system</a></p>
</li>
<li><p>é‡è¦ç»„ä»¶ï¼šelement-uiã€vue-i18nã€vueã€vue-routerã€vue-schartã€vue-quill-editorã€vue-cropperã€vuedraggableã€mavon-editorç­‰</p>
</li>
<li><p>å¯Œæ–‡æœ¬æ’ä»¶Gitç½‘å€ï¼š<a href="https://github.com/surmon-china/vue-quill-editor" target="_blank" rel="noopener">https://github.com/surmon-china/vue-quill-editor</a></p>
</li>
<li><p>å¯Œæ–‡æœ¬ç¼–è¾‘å™¨åœ¨æ¨¡æ¿ä¸­ä½¿ç”¨å¤§è‡´å¦‚ä¸‹ï¼Œå¦‚ä½•å¼•å…¥å¯ä»¥çœ‹Gitç½‘å€ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;quill-editor ref&#x3D;&quot;myTextEditor&quot; v-model&#x3D;&quot;content&quot; :options&#x3D;&quot;editorOption&quot; @blur&#x3D;&quot;onEditorBlur($event)&quot; @focus&#x3D;&quot;onEditorFocus($event)&quot;</span><br><span class="line">                          @ready&#x3D;&quot;onEditorReady($event)&quot;&gt;&lt;&#x2F;quill-editor&gt;</span><br><span class="line">&lt;!-- v-model:æ¨¡å‹ï¼Œå†…å®¹</span><br><span class="line">:optionsï¼šé€‰é¡¹</span><br><span class="line">@blurï¼šå¤±å»ç„¦ç‚¹æ—¶è§¦å‘çš„äº‹ä»¶</span><br><span class="line">@focusï¼šèšç„¦è§¦å‘çš„äº‹ä»¶</span><br><span class="line">@readyï¼šå¯Œæ–‡æœ¬ç¼–è¾‘å™¨å‡†å¤‡å¥½è§¦å‘çš„äº‹ä»¶</span><br><span class="line">--&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>å¯Œæ–‡æœ¬ç¼–è¾‘å™¨æ•ˆæœï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/e6b505cfde60dc4e76ca14374d3f7eb3-153683" alt="å¯Œæ–‡æœ¬ç¼–è¾‘å™¨æ•ˆæœ"></p>
</li>
<li><p>vue-cropperç»„ä»¶ï¼Œå›¾ç‰‡è£å‰ªç»„ä»¶,Gitç½‘å€ï¼š<a href="https://github.com/Agontuk/vue-cropperjs" target="_blank" rel="noopener">https://github.com/Agontuk/vue-cropperjs</a></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;vue-cropper ref&#x3D;&#39;cropper&#39; :src&#x3D;&quot;imgSrc&quot; :ready&#x3D;&quot;cropImage&quot; :zoom&#x3D;&quot;cropImage&quot; :cropmove&#x3D;&quot;cropImage&quot; style&#x3D;&quot;width:100%;height:300px;&quot;&gt;&lt;&#x2F;vue-cropper&gt;</span><br><span class="line"></span><br><span class="line">methods:&#123;</span><br><span class="line">	cropImage () &#123;</span><br><span class="line">		this.cropImg &#x3D; this.$refs.cropper.getCroppedCanvas().toDataURL();</span><br><span class="line">	&#125;,</span><br><span class="line">	cancelCrop()&#123;</span><br><span class="line">		this.dialogVisible &#x3D; false;</span><br><span class="line">		this.cropImg &#x3D; this.defaultSrc;</span><br><span class="line">	&#125;,</span><br><span class="line">	imageuploaded(res) &#123;</span><br><span class="line">		console.log(res)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>refè¢«ç”¨æ¥ç»™å…ƒç´ æˆ–å­ç»„ä»¶æ³¨å†Œå¼•ç”¨ä¿¡æ¯ï¼Œå¼•ç”¨ä¿¡æ¯å°†ä¼šæ³¨å†Œåœ¨çˆ¶ç»„ä»¶çš„$refså¯¹è±¡ä¸Šã€‚å¦‚æœåœ¨æ™®é€šçš„DOMå…ƒç´ ä¸Šå¼•ç”¨ï¼Œå¼•ç”¨æŒ‡å‘çš„å°±æ˜¯DOMå…ƒç´ ï¼Œå¦‚æœç”¨åœ¨å­ç»„ä»¶ä¸Šï¼Œå¼•ç”¨å°±æŒ‡å‘ç»„ä»¶å®ä¾‹ï¼›</li>
<li>å½“v-forç”¨äºå…ƒç´ æˆ–ç»„ä»¶çš„æ—¶å€™ï¼Œå¼•ç”¨ä¿¡æ¯å°†æ˜¯åŒ…å«DOMèŠ‚ç‚¹æˆ–ç»„ä»¶å®ä¾‹çš„æ•°ç»„ï¼›</li>
<li>åœ¨åˆå§‹æ¸²æŸ“çš„æ—¶å€™è¿˜ä¸å¯ä»¥è®¿é—®$refsï¼Œå› ä¸ºè¿˜ä¸å­˜åœ¨ï¼›</li>
<li>$refsä¸æ˜¯å“åº”å¼çš„ï¼Œä¸åº”è¯¥è¯•å›¾ç”¨å®ƒåœ¨æ¨¡æ¿ä¸­åº§æ•°æ®ç»‘å®š</li>
</ul>
</li>
<li><p>vue-cropperæ•ˆæœï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/12c76838c128d8622d0216c212c25f52-224677" alt="vue-cropperæ•ˆæœå›¾"></p>
</li>
<li><p>Vue-copperå¤„ç†å¤šæ¬¡æ‰“å¼€åŒä¸€ä¸ªæ–‡ä»¶é—®é¢˜ï¼Œå®é™…ä¸Šæ˜¯inputè¾“å…¥æ–‡ä»¶changeäº‹ä»¶çš„é—®é¢˜ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">            &lt;div class&#x3D;&quot;crop-demo&quot;&gt;</span><br><span class="line">                &lt;img :src&#x3D;&quot;cropImg&quot; class&#x3D;&quot;pre-img&quot;&gt;</span><br><span class="line">                &lt;div class&#x3D;&quot;crop-demo-btn&quot;&gt;é€‰æ‹©å›¾ç‰‡</span><br><span class="line">                    &lt;input ref&#x3D;&#39;inputer&#39; id&#x3D;&quot;crop-input&quot; class&#x3D;&quot;crop-input&quot; type&#x3D;&quot;file&quot; name&#x3D;&quot;image&quot; accept&#x3D;&quot;image&#x2F;*&quot; @change&#x3D;&quot;setImage&quot;&#x2F;&gt;</span><br><span class="line">                &lt;&#x2F;div&gt;</span><br><span class="line">            &lt;&#x2F;div&gt;</span><br><span class="line"></span><br><span class="line">setImage(e)&#123;</span><br><span class="line"></span><br><span class="line">                console.log(e)</span><br><span class="line">                const file &#x3D; e.target.files[0];</span><br><span class="line">                if (!file.type.includes(&#39;image&#x2F;&#39;)) &#123;</span><br><span class="line">                    return;</span><br><span class="line">                &#125;</span><br><span class="line">                const reader &#x3D; new FileReader();</span><br><span class="line">                reader.onload &#x3D; (event) &#x3D;&gt; &#123;</span><br><span class="line">                    this.dialogVisible &#x3D; true;</span><br><span class="line">                    this.imgSrc &#x3D; event.target.result;</span><br><span class="line">                    console.log(&#39;!!!!!&#39;);</span><br><span class="line">                    this.$refs.cropper &amp;&amp; this.$refs.cropper.replace( event.target.result);</span><br><span class="line">                &#125;;</span><br><span class="line">                reader.readAsDataURL(file);</span><br><span class="line">                console.log(this.$refs.inputer.value)</span><br><span class="line">                this.$refs.inputer.value&#x3D;null;</span><br><span class="line">            &#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>å¯ä»¥ä½¿ç”¨element-uiçš„tabsé€‰é¡¹å¡è¿›è¡Œé€šçŸ¥æ¶ˆæ¯çš„ç®¡ç†ï¼Œç„¶åä½¿ç”¨el-tableåˆ—è¡¨è¿›è¡Œå±•ç¤ºï¼Œé€‰é¡¹å¡å¯ä»¥åˆ†ä¸ºæœªè¯»ã€å·²è¯»ã€åˆ é™¤ç­‰ï¼Œåˆ—è¡¨å†…å®¹æ ¹æ®éœ€æ±‚è¿›è¡Œå®šä¹‰ï¼Œä¸€èˆ¬éšä¸šåŠ¡ï¼›</p>
</li>
<li><p>markdownç¼–è¾‘å™¨ï¼š</p>
<ol>
<li><p>æ’ä»¶Gitç½‘é¡µï¼š<a href="https://github.com/hinesboy/mavonEditor" target="_blank" rel="noopener">https://github.com/hinesboy/mavonEditor</a></p>
</li>
<li><p>ä½¿ç”¨æ’ä»¶ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;mavon-editor v-model&#x3D;&quot;content&quot; ref&#x3D;&quot;md&quot; :toolbars&#x3D;&quot;markdownOption&quot; :boxShadow&#x3D;&quot;true&quot; :subfield&#x3D;&quot;false&quot; @imgAdd&#x3D;&quot;$imgAdd&quot; @change&#x3D;&quot;change&quot; style&#x3D;&quot;min-height: 600px&quot;&#x2F;&gt;</span><br><span class="line"></span><br><span class="line">markdownOption: &#123;</span><br><span class="line">                    bold: true, &#x2F;&#x2F; ç²—ä½“</span><br><span class="line">                    italic: true, &#x2F;&#x2F; æ–œä½“</span><br><span class="line">                    header: true, &#x2F;&#x2F; æ ‡é¢˜</span><br><span class="line">                    underline: true, &#x2F;&#x2F; ä¸‹åˆ’çº¿</span><br><span class="line">                    strikethrough: true, &#x2F;&#x2F; ä¸­åˆ’çº¿</span><br><span class="line">                    mark: true, &#x2F;&#x2F; æ ‡è®°</span><br><span class="line">                    superscript: true, &#x2F;&#x2F; ä¸Šè§’æ ‡</span><br><span class="line">                    subscript: true, &#x2F;&#x2F; ä¸‹è§’æ ‡</span><br><span class="line">                    quote: true, &#x2F;&#x2F; å¼•ç”¨</span><br><span class="line">                    ol: true, &#x2F;&#x2F; æœ‰åºåˆ—è¡¨</span><br><span class="line">                    ul: true, &#x2F;&#x2F; æ— åºåˆ—è¡¨</span><br><span class="line">                    link: true, &#x2F;&#x2F; é“¾æ¥</span><br><span class="line">                    imagelink: true, &#x2F;&#x2F; å›¾ç‰‡é“¾æ¥</span><br><span class="line">                    code: true, &#x2F;&#x2F; code</span><br><span class="line">                    table: true, &#x2F;&#x2F; è¡¨æ ¼</span><br><span class="line">                    fullscreen: true, &#x2F;&#x2F; å…¨å±ç¼–è¾‘</span><br><span class="line">                    readmodel: true, &#x2F;&#x2F; æ²‰æµ¸å¼é˜…è¯»</span><br><span class="line">                    htmlcode: true, &#x2F;&#x2F; å±•ç¤ºhtmlæºç </span><br><span class="line">                    help: true, &#x2F;&#x2F; å¸®åŠ©</span><br><span class="line">                    &#x2F;* 1.3.5 *&#x2F;</span><br><span class="line">                    undo: true, &#x2F;&#x2F; ä¸Šä¸€æ­¥</span><br><span class="line">                    redo: true, &#x2F;&#x2F; ä¸‹ä¸€æ­¥</span><br><span class="line">                    trash: true, &#x2F;&#x2F; æ¸…ç©º</span><br><span class="line">                    save: true, &#x2F;&#x2F; ä¿å­˜ï¼ˆè§¦å‘eventsä¸­çš„saveäº‹ä»¶ï¼‰</span><br><span class="line">                    &#x2F;* 1.4.2 *&#x2F;</span><br><span class="line">                    navigation: true, &#x2F;&#x2F; å¯¼èˆªç›®å½•</span><br><span class="line">                    &#x2F;* 2.1.8 *&#x2F;</span><br><span class="line">                    alignleft: true, &#x2F;&#x2F; å·¦å¯¹é½</span><br><span class="line">                    aligncenter: true, &#x2F;&#x2F; å±…ä¸­</span><br><span class="line">                    alignright: true, &#x2F;&#x2F; å³å¯¹é½</span><br><span class="line">                    &#x2F;* 2.2.1 *&#x2F;</span><br><span class="line">                    subfield: true, &#x2F;&#x2F; å•åŒæ æ¨¡å¼</span><br><span class="line">                    preview: true, &#x2F;&#x2F; é¢„è§ˆ</span><br><span class="line">                &#125;</span><br></pre></td></tr></table></figure>
</li>
<li><table>
<thead>
<tr>
<th>name åç§°</th>
<th>type ç±»å‹</th>
<th>default é»˜è®¤å€¼</th>
<th>describe æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td>value</td>
<td>String</td>
<td></td>
<td>åˆå§‹å€¼</td>
</tr>
<tr>
<td>language</td>
<td>String</td>
<td>zh-CN</td>
<td>è¯­è¨€é€‰æ‹©ï¼Œæš‚æ”¯æŒ zh-CN: ç®€ä½“ä¸­æ–‡, zh-TW: æ­£ä½“ä¸­æ–‡ ï¼Œ en: è‹±æ–‡ ï¼Œ fr: æ³•è¯­ï¼Œ pt-BR: è‘¡è„ç‰™è¯­ï¼Œ ru: ä¿„è¯­ï¼Œ de: å¾·è¯­ï¼Œ ja: æ—¥è¯­</td>
</tr>
<tr>
<td>fontSize</td>
<td>String</td>
<td>14px</td>
<td>ç¼–è¾‘åŒºåŸŸæ–‡å­—å¤§å°</td>
</tr>
<tr>
<td>scrollStyle</td>
<td>Boolean</td>
<td>true</td>
<td>å¼€å¯æ»šåŠ¨æ¡æ ·å¼(æš‚æ—¶ä»…æ”¯æŒchrome)</td>
</tr>
<tr>
<td>boxShadow</td>
<td>Boolean</td>
<td>true</td>
<td>å¼€å¯è¾¹æ¡†é˜´å½±</td>
</tr>
<tr>
<td>boxShadowStyle</td>
<td>String</td>
<td>0 2px 12px 0 rgba(0, 0, 0, 0.1)</td>
<td>è¾¹æ¡†é˜´å½±æ ·å¼</td>
</tr>
<tr>
<td>transition</td>
<td>Boolean</td>
<td>true</td>
<td>æ˜¯å¦å¼€å¯è¿‡æ¸¡åŠ¨ç”»</td>
</tr>
<tr>
<td>toolbarsBackground</td>
<td>String</td>
<td>#ffffff</td>
<td>å·¥å…·æ èƒŒæ™¯é¢œè‰²</td>
</tr>
<tr>
<td>previewBackground</td>
<td>String</td>
<td>#fbfbfb</td>
<td>é¢„è§ˆæ¡†èƒŒæ™¯é¢œè‰²</td>
</tr>
<tr>
<td>subfield</td>
<td>Boolean</td>
<td>true</td>
<td>trueï¼š åŒæ (ç¼–è¾‘é¢„è§ˆåŒå±)ï¼Œ falseï¼š å•æ (ç¼–è¾‘é¢„è§ˆåˆ†å±)</td>
</tr>
<tr>
<td>defaultOpen</td>
<td>String</td>
<td></td>
<td>editï¼š é»˜è®¤å±•ç¤ºç¼–è¾‘åŒºåŸŸ ï¼Œ previewï¼š é»˜è®¤å±•ç¤ºé¢„è§ˆåŒºåŸŸ , å…¶ä»– = edit</td>
</tr>
<tr>
<td>placeholder</td>
<td>String</td>
<td>å¼€å§‹ç¼–è¾‘â€¦</td>
<td>è¾“å…¥æ¡†ä¸ºç©ºæ—¶é»˜è®¤æç¤ºæ–‡æœ¬</td>
</tr>
<tr>
<td>editable</td>
<td>Boolean</td>
<td>true</td>
<td>æ˜¯å¦å…è®¸ç¼–è¾‘</td>
</tr>
<tr>
<td>codeStyle</td>
<td>String</td>
<td>code-github</td>
<td>markdownæ ·å¼ï¼š é»˜è®¤github, <a href="https://github.com/hinesboy/mavonEditor/blob/master/src/lib/core/hljs/lang.hljs.css.js" target="_blank" rel="noopener">å¯é€‰é…è‰²æ–¹æ¡ˆ</a></td>
</tr>
<tr>
<td>toolbarsFlag</td>
<td>Boolean</td>
<td>true</td>
<td>å·¥å…·æ æ˜¯å¦æ˜¾ç¤º</td>
</tr>
<tr>
<td>navigation</td>
<td>Boolean</td>
<td>false</td>
<td>é»˜è®¤å±•ç¤ºç›®å½•</td>
</tr>
<tr>
<td>shortCut</td>
<td>Boolean</td>
<td>true</td>
<td>æ˜¯å¦å¯ç”¨å¿«æ·é”®</td>
</tr>
<tr>
<td>autofocus</td>
<td>Boolean</td>
<td>true</td>
<td>è‡ªåŠ¨èšç„¦åˆ°æ–‡æœ¬æ¡†</td>
</tr>
<tr>
<td>ishljs</td>
<td>Boolean</td>
<td>true</td>
<td>ä»£ç é«˜äº®</td>
</tr>
<tr>
<td>imageFilter</td>
<td>function</td>
<td>null</td>
<td>å›¾ç‰‡è¿‡æ»¤å‡½æ•°ï¼Œå‚æ•°ä¸ºä¸€ä¸ª<code>File Object</code>ï¼Œè¦æ±‚è¿”å›ä¸€ä¸ª<code>Boolean</code>, <code>true</code>è¡¨ç¤ºæ–‡ä»¶åˆæ³•ï¼Œ<code>false</code>è¡¨ç¤ºæ–‡ä»¶ä¸åˆæ³•</td>
</tr>
<tr>
<td>imageClick</td>
<td>function</td>
<td>null</td>
<td>å›¾ç‰‡ç‚¹å‡»äº‹ä»¶ï¼Œé»˜è®¤ä¸ºé¢„è§ˆï¼Œå¯è¦†ç›–</td>
</tr>
<tr>
<td>tabSize</td>
<td>Number</td>
<td>\t</td>
<td>tabè½¬åŒ–ä¸ºå‡ ä¸ªç©ºæ ¼ï¼Œé»˜è®¤ä¸º\t</td>
</tr>
<tr>
<td>xssOptions</td>
<td>Object</td>
<td>null</td>
<td>xssè§„åˆ™é…ç½®ï¼Œå‚è€ƒ <a href="https://github.com/leizongmin/js-xss" target="_blank" rel="noopener">https://github.com/leizongmin/js-xss</a></td>
</tr>
<tr>
<td>toolbars</td>
<td>Object</td>
<td>å¦‚ä¸‹ä¾‹</td>
<td>å·¥å…·æ </td>
</tr>
</tbody></table>
<p>å„ä¸ªå±æ€§é€šè¿‡:propæ¥å¼•ç”¨ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">:toolbar&#x3D;&quot;markdownOption&quot;</span><br></pre></td></tr></table></figure>
</li>
<li><p>å„ä¸ªæ–¹æ³•é€šè¿‡@methodæ¥å¼•ç”¨ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">@save&#x3D;&quot;savemd&quot;</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>name æ–¹æ³•å</th>
<th>params å‚æ•°</th>
<th>describe æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td>change</td>
<td>String: value , String: render</td>
<td>ç¼–è¾‘åŒºå‘ç”Ÿå˜åŒ–çš„å›è°ƒäº‹ä»¶(render: value ç»è¿‡markdownè§£æåçš„ç»“æœ)</td>
</tr>
<tr>
<td>save</td>
<td>String: value , String: render</td>
<td>ctrl + s çš„å›è°ƒäº‹ä»¶(ä¿å­˜æŒ‰é”®,åŒæ ·è§¦å‘è¯¥å›è°ƒ)</td>
</tr>
<tr>
<td>fullScreen</td>
<td>Boolean: status , String: value</td>
<td>åˆ‡æ¢å…¨å±ç¼–è¾‘çš„å›è°ƒäº‹ä»¶(boolean: å…¨å±å¼€å¯çŠ¶æ€)</td>
</tr>
<tr>
<td>readModel</td>
<td>Boolean: status , String: value</td>
<td>åˆ‡æ¢æ²‰æµ¸å¼é˜…è¯»çš„å›è°ƒäº‹ä»¶(boolean: é˜…è¯»å¼€å¯çŠ¶æ€)</td>
</tr>
<tr>
<td>htmlCode</td>
<td>Boolean: status , String: value</td>
<td>æŸ¥çœ‹htmlæºç çš„å›è°ƒäº‹ä»¶(boolean: æºç å¼€å¯çŠ¶æ€)</td>
</tr>
<tr>
<td>subfieldToggle</td>
<td>Boolean: status , String: value</td>
<td>åˆ‡æ¢å•åŒæ ç¼–è¾‘çš„å›è°ƒäº‹ä»¶(boolean: åŒæ å¼€å¯çŠ¶æ€)</td>
</tr>
<tr>
<td>previewToggle</td>
<td>Boolean: status , String: value</td>
<td>åˆ‡æ¢é¢„è§ˆç¼–è¾‘çš„å›è°ƒäº‹ä»¶(boolean: é¢„è§ˆå¼€å¯çŠ¶æ€)</td>
</tr>
<tr>
<td>helpToggle</td>
<td>Boolean: status , String: value</td>
<td>æŸ¥çœ‹å¸®åŠ©çš„å›è°ƒäº‹ä»¶(boolean: å¸®åŠ©å¼€å¯çŠ¶æ€)</td>
</tr>
<tr>
<td>navigationToggle</td>
<td>Boolean: status , String: value</td>
<td>åˆ‡æ¢å¯¼èˆªç›®å½•çš„å›è°ƒäº‹ä»¶(boolean: å¯¼èˆªå¼€å¯çŠ¶æ€)</td>
</tr>
<tr>
<td>imgAdd</td>
<td>String: filename, File: imgfile</td>
<td>å›¾ç‰‡æ–‡ä»¶æ·»åŠ å›è°ƒäº‹ä»¶(filename: å†™åœ¨mdä¸­çš„æ–‡ä»¶å, File: File Object)</td>
</tr>
<tr>
<td>imgDel</td>
<td>String: filename</td>
<td>å›¾ç‰‡æ–‡ä»¶åˆ é™¤å›è°ƒäº‹ä»¶(filename: å†™åœ¨mdä¸­çš„æ–‡ä»¶å)</td>
</tr>
</tbody></table>
</li>
<li><p>markdownæ•ˆæœå›¾ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/67487042126335561000f5de96ffd869-42747" alt="markdownæ•ˆæœå›¾"></p>
</li>
</ol>
</li>
<li><p>æ‹–æ‹½åˆ—è¡¨ç»„ä»¶vuedraggableï¼š</p>
<ol>
<li><p>Gitç½‘å€ï¼š<a href="https://github.com/SortableJS/Vue.Draggable" target="_blank" rel="noopener">https://github.com/SortableJS/Vue.Draggable</a></p>
</li>
<li><p>å®‰è£…ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">cnpm install -S vuedraggable</span><br></pre></td></tr></table></figure>
</li>
<li><p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;section class&#x3D;&quot;main&quot;&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;crumbs&quot;&gt;</span><br><span class="line">            &lt;el-breadcrumb separator&#x3D;&quot;&#x2F;&quot;&gt;</span><br><span class="line">                &lt;el-breadcrumb-item&gt;&lt;i class&#x3D;&quot;el-icon-rank&quot;&gt;&lt;&#x2F;i&gt; æ‹–æ‹½ç»„ä»¶&lt;&#x2F;el-breadcrumb-item&gt;</span><br><span class="line">                &lt;el-breadcrumb-item&gt;æ‹–æ‹½æ’åº&lt;&#x2F;el-breadcrumb-item&gt;</span><br><span class="line">            &lt;&#x2F;el-breadcrumb&gt;</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;container&quot;&gt;</span><br><span class="line">            &lt;div class&#x3D;&quot;plugins-tips&quot;&gt;</span><br><span class="line">                Vue.Draggableï¼šåŸºäº Sortable.js çš„ Vue æ‹–æ‹½ç»„ä»¶ã€‚</span><br><span class="line">                è®¿é—®åœ°å€ï¼š&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;github.com&#x2F;SortableJS&#x2F;Vue.Draggable&quot; target&#x3D;&quot;_blank&quot;&gt;Vue.Draggable&lt;&#x2F;a&gt;</span><br><span class="line">            &lt;&#x2F;div&gt;</span><br><span class="line">            &lt;div class&#x3D;&quot;drag-box&quot;&gt;</span><br><span class="line">                &lt;div class&#x3D;&quot;drag-box-item&quot;&gt;</span><br><span class="line">                    &lt;div class&#x3D;&quot;item-title&quot;&gt;todo&lt;&#x2F;div&gt;</span><br><span class="line">                    &lt;draggable v-model&#x3D;&quot;todo&quot; @remove&#x3D;&quot;removeHandle&quot; :options&#x3D;&quot;dragOptions&quot;&gt;</span><br><span class="line">                        &lt;transition-group tag&#x3D;&quot;div&quot; id&#x3D;&quot;todo&quot; class&#x3D;&quot;item-ul&quot;&gt;</span><br><span class="line">                            &lt;div v-for&#x3D;&quot;item in todo&quot; class&#x3D;&quot;drag-list&quot; :key&#x3D;&quot;item.id&quot;&gt;</span><br><span class="line">                                &#123;&#123;item.content&#125;&#125;</span><br><span class="line">                            &lt;&#x2F;div&gt;</span><br><span class="line">                        &lt;&#x2F;transition-group&gt;</span><br><span class="line">                    &lt;&#x2F;draggable&gt;</span><br><span class="line">                &lt;&#x2F;div&gt;</span><br><span class="line">                &lt;div class&#x3D;&quot;drag-box-item&quot;&gt;</span><br><span class="line">                    &lt;div class&#x3D;&quot;item-title&quot;&gt;doing&lt;&#x2F;div&gt;</span><br><span class="line">                    &lt;draggable v-model&#x3D;&quot;doing&quot; @remove&#x3D;&quot;removeHandle&quot; :options&#x3D;&quot;dragOptions&quot;&gt;</span><br><span class="line">                        &lt;transition-group tag&#x3D;&quot;div&quot; id&#x3D;&quot;doing&quot; class&#x3D;&quot;item-ul&quot;&gt;</span><br><span class="line">                            &lt;div v-for&#x3D;&quot;item in doing&quot; class&#x3D;&quot;drag-list&quot; :key&#x3D;&quot;item.id&quot;&gt;</span><br><span class="line">                                &#123;&#123;item.id&#125;&#125;</span><br><span class="line">                                &#123;&#123;item.content&#125;&#125;</span><br><span class="line">                            &lt;&#x2F;div&gt;</span><br><span class="line"></span><br><span class="line">                        &lt;&#x2F;transition-group&gt;</span><br><span class="line">                        &lt;button @click&#x3D;&quot;addPeople&quot;&gt;Add&lt;&#x2F;button&gt;</span><br><span class="line">                    &lt;&#x2F;draggable&gt;</span><br><span class="line">                &lt;&#x2F;div&gt;</span><br><span class="line">                &lt;div class&#x3D;&quot;drag-box-item&quot;&gt;</span><br><span class="line">                    &lt;div class&#x3D;&quot;item-title&quot;&gt;done&lt;&#x2F;div&gt;</span><br><span class="line">                    &lt;draggable v-model&#x3D;&quot;done&quot; @remove&#x3D;&quot;removeHandle&quot; :options&#x3D;&quot;dragOptions&quot;&gt;</span><br><span class="line">                        &lt;transition-group tag&#x3D;&quot;div&quot; id&#x3D;&quot;done&quot; class&#x3D;&quot;item-ul&quot;&gt;</span><br><span class="line">                            &lt;div v-for&#x3D;&quot;item in done&quot; class&#x3D;&quot;drag-list&quot; :key&#x3D;&quot;item.id&quot;&gt;</span><br><span class="line">                                &#123;&#123;item.content&#125;&#125;</span><br><span class="line">                            &lt;&#x2F;div&gt;</span><br><span class="line">                        &lt;&#x2F;transition-group&gt;</span><br><span class="line">                    &lt;&#x2F;draggable&gt;</span><br><span class="line">                &lt;&#x2F;div&gt;</span><br><span class="line">            &lt;&#x2F;div&gt;</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">    &lt;&#x2F;section&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">    import draggable from &#39;vuedraggable&#39;</span><br><span class="line">    export default &#123;</span><br><span class="line">        name: &#39;draglist&#39;,</span><br><span class="line">        data() &#123;</span><br><span class="line">            return &#123;</span><br><span class="line">                dragOptions:&#123;</span><br><span class="line">                    animation: 120,</span><br><span class="line">                    scroll: true,</span><br><span class="line">                    group: &#39;sortlist&#39;,</span><br><span class="line">                    ghostClass: &#39;ghost-style&#39;</span><br><span class="line">                &#125;,</span><br><span class="line">                id:12,</span><br><span class="line">                todo: [</span><br><span class="line">                    &#123;</span><br><span class="line">                        id: 1,</span><br><span class="line">                        content: &#39;å¼€å‘å›¾è¡¨ç»„ä»¶&#39;</span><br><span class="line">                    &#125;,</span><br><span class="line">                    &#123;</span><br><span class="line">                        id: 2,</span><br><span class="line">                        content: &#39;å¼€å‘æ‹–æ‹½ç»„ä»¶&#39;</span><br><span class="line">                    &#125;,</span><br><span class="line">                    &#123;</span><br><span class="line">                        id: 3,</span><br><span class="line">                        content: &#39;å¼€å‘æƒé™æµ‹è¯•ç»„ä»¶&#39;</span><br><span class="line">                    &#125;</span><br><span class="line">                ],</span><br><span class="line">                doing: [</span><br><span class="line">                    &#123;</span><br><span class="line">                        id: 4,</span><br><span class="line">                        content: &#39;å¼€å‘ç™»å½•æ³¨å†Œé¡µé¢&#39;</span><br><span class="line">                    &#125;,</span><br><span class="line">                    &#123;</span><br><span class="line">                        id: 5,</span><br><span class="line">                        content: &#39;å¼€å‘å¤´éƒ¨ç»„ä»¶&#39;</span><br><span class="line">                    &#125;,</span><br><span class="line">                    &#123;</span><br><span class="line">                        id: 6,</span><br><span class="line">                        content: &#39;å¼€å‘è¡¨æ ¼ç›¸å…³ç»„ä»¶&#39;</span><br><span class="line">                    &#125;,</span><br><span class="line">                    &#123;</span><br><span class="line">                        id: 7,</span><br><span class="line">                        content: &#39;å¼€å‘è¡¨å•ç›¸å…³ç»„ä»¶&#39;</span><br><span class="line">                    &#125;</span><br><span class="line">                ],</span><br><span class="line">                done:[</span><br><span class="line">                    &#123;</span><br><span class="line">                        id: 9,</span><br><span class="line">                        content: &#39;åˆå§‹åŒ–é¡¹ç›®ï¼Œç”Ÿæˆå·¥ç¨‹ç›®å½•ï¼Œå®Œæˆç›¸å…³é…ç½®&#39;</span><br><span class="line">                    &#125;,</span><br><span class="line">                    &#123;</span><br><span class="line">                        id: 10,</span><br><span class="line">                        content: &#39;å¼€å‘é¡¹ç›®æ•´ä½“æ¡†æ¶&#39;</span><br><span class="line">                    &#125;</span><br><span class="line">                ]</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        components:&#123;</span><br><span class="line">            draggable</span><br><span class="line">        &#125;,</span><br><span class="line">        methods: &#123;</span><br><span class="line">            removeHandle(event)&#123;</span><br><span class="line">                console.log(event);</span><br><span class="line">                this.$message.success(&#96;ä» $&#123;event.from.id&#125; ç§»åŠ¨åˆ° $&#123;event.to.id&#125; &#96;);</span><br><span class="line">            &#125;,</span><br><span class="line">            addPeople() &#123;</span><br><span class="line">                this.id&#x3D;this.id+1;</span><br><span class="line">                this.doing.push(&#123;id:this.id ,content:  &#39;hello&#39;&#125;);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">    .drag-box&#123;</span><br><span class="line">        display: flex;</span><br><span class="line">        user-select: none;</span><br><span class="line">    &#125;</span><br><span class="line">    .drag-box-item &#123;</span><br><span class="line">        flex: 1;</span><br><span class="line">        max-width: 330px;</span><br><span class="line">        min-width: 300px;</span><br><span class="line">        background-color: #eff1f5;</span><br><span class="line">        margin-right: 16px;</span><br><span class="line">        border-radius: 6px;</span><br><span class="line">        border: 1px #e1e4e8 solid;</span><br><span class="line">    &#125;</span><br><span class="line">    .item-title&#123;</span><br><span class="line">        padding: 8px 8px 8px 12px;</span><br><span class="line">        font-size: 14px;</span><br><span class="line">        line-height: 1.5;</span><br><span class="line">        color: #24292e;</span><br><span class="line">        font-weight: 600;</span><br><span class="line">    &#125;</span><br><span class="line">    .item-ul&#123;</span><br><span class="line">        padding: 0 8px 8px;</span><br><span class="line">        height: 500px;</span><br><span class="line">        overflow-y: scroll;</span><br><span class="line">    &#125;</span><br><span class="line">    .item-ul::-webkit-scrollbar&#123;</span><br><span class="line">        width: 0;</span><br><span class="line">    &#125;</span><br><span class="line">    .drag-list &#123;</span><br><span class="line">        border: 1px #e1e4e8 solid;</span><br><span class="line">        padding: 10px;</span><br><span class="line">        margin: 5px 0 10px;</span><br><span class="line">        list-style: none;</span><br><span class="line">        background-color: #fff;</span><br><span class="line">        border-radius: 6px;</span><br><span class="line">        cursor: pointer;</span><br><span class="line">        -webkit-transition: border .3s ease-in;</span><br><span class="line">        transition: border .3s ease-in;</span><br><span class="line">    &#125;</span><br><span class="line">    .drag-list:hover &#123;</span><br><span class="line">        border: 1px solid #20a0ff;</span><br><span class="line">    &#125;</span><br><span class="line">    .drag-title &#123;</span><br><span class="line">        font-weight: 400;</span><br><span class="line">        line-height: 25px;</span><br><span class="line">        margin: 10px 0;</span><br><span class="line">        font-size: 22px;</span><br><span class="line">        color: #1f2f3d;</span><br><span class="line">    &#125;</span><br><span class="line">    .ghost-style&#123;</span><br><span class="line">        display: block;</span><br><span class="line">        color: transparent;</span><br><span class="line">        border-style: dashed</span><br><span class="line">    &#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ•ˆæœç¤ºä¾‹ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/4e062b3c56a3cc7f88ebc9bd97b1efbc-61022" alt="æ‹–æ‹½låˆ—è¡¨ç¤ºæ„å›¾"></p>
</li>
</ol>
</li>
<li><p>å¯¹è¯æ¡†el-dialogå¯ä»¥é€šè¿‡æŒ‡ä»¤ v-dialogDragä½¿ Dialog å¯¹è¯æ¡†å…·æœ‰å¯æ‹–æ‹½çš„åŠŸèƒ½ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;el-dialog v-dialogDrag title&#x3D;&quot;æ‹–æ‹½å¼¹æ¡†&quot; center :visible.sync&#x3D;&quot;visible&quot; width&#x3D;&quot;30%&quot;&gt;</span><br><span class="line">    æˆ‘æ˜¯ä¸€ä¸ªå¯ä»¥æ‹–æ‹½çš„å¯¹è¯æ¡†ï¼</span><br><span class="line">    &lt;span slot&#x3D;&quot;footer&quot; class&#x3D;&quot;dialog-footer&quot;&gt;</span><br><span class="line">        &lt;el-button @click&#x3D;&quot;visible &#x3D; false&quot;&gt;å– æ¶ˆ&lt;&#x2F;el-button&gt;</span><br><span class="line">        &lt;el-button type&#x3D;&quot;primary&quot; @click&#x3D;&quot;visible &#x3D; false&quot;&gt;ç¡® å®š&lt;&#x2F;el-button&gt;</span><br><span class="line">    &lt;&#x2F;span&gt;</span><br><span class="line">&lt;&#x2F;el-dialog&gt;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<hr>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>ä»ä¸€ä¸ªVueé¡¹ç›®æ¨¡æ¿vue-manage-systemçš„ä»£ç åˆ†æé€æ¸æ·±å…¥Vueå‰ç«¯å¼€å‘æ¡†æ¶ï¼Œè¾¹å­¦ä¹ è¾¹æ·»åŠ è‡ªå·±çš„ç†è§£ä¸å°è¯•ï¼Œè¿‡ç¨‹è™½ç„¶ç¼“æ…¢ï¼Œä½†æ˜¯æ„Ÿè§‰æ”¶è·è¿˜æ˜¯æ¯”è¾ƒå¤šçš„ã€‚Vueçœ‹äº†å‡ å¤©è¿˜æ˜¯éœ€è¦ä¸€ç‚¹é¡¹ç›®æ¥ç»ƒæ‰‹çš„ï¼Œç­‰æœ‰é¡¹ç›®ä¸Šçš„éœ€è¦ä½¿ç”¨Vueæ„å»ºå‰ç«¯å§ï¼</p>
]]></content>
      <categories>
        <category>Vue</category>
      </categories>
  </entry>
  <entry>
    <title>Web Dev Base</title>
    <url>/2020/04/29/Web-Dev-Base/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>å‰ç«¯å¼€å‘é¢†åŸŸæœ‰ç€æ•°ä¸æ¸…çš„å·¥å…·å’Œèµ„æºï¼Œè€Œä¸”è¿˜æœ‰æ›´å¤šå·¥å…·åœ¨è¢«æºæºä¸æ–­åœ°åˆ¶é€ å‡ºæ¥ï¼Œåç«¯å¼€å‘ä¹Ÿæ˜¯ä¸€æ ·ï¼Œä½œä¸ºä¸€ä¸ªå¼€å‘äººå‘˜ï¼Œäº†è§£ä½ è¦é¢å¯¹çš„æ˜¯ä»€ä¹ˆéå¸¸é‡è¦çš„ï¼å¯¹äºæœ€è¿‘åœ¨å…¶ä»–æ–‡ç« ä¸­æè¿°è¿‡çš„å†…å®¹è¿™é‡Œä¸å†è¿›è¡Œé‡å¤æ€§è®°å½•ï¼<strong><em>æ¨èä¹¦ç±ï¼šã€ŠWebå¼€å‘æƒå¨æŒ‡å—ã€‹Â· [ç¾] Chris Aduinoï¼ŒTodd Gamdeeè‘— å¥‡èˆå›¢è¯‘</em></strong></p>
<p><strong><em>æ¨ènodejså·¥å…·browser-syncï¼Œä¿®æ”¹å¹¶ä¿å­˜ä»£ç æ—¶ï¼Œæµè§ˆå™¨ä¹Ÿä¼šè‡ªåŠ¨é‡æ–°åŠ è½½ï¼</em></strong></p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="Emberï¼šä¸€æ¬¾-MVC-æ¡†æ¶"><a href="#Emberï¼šä¸€æ¬¾-MVC-æ¡†æ¶" class="headerlink" title="Emberï¼šä¸€æ¬¾ MVC æ¡†æ¶"></a>Emberï¼šä¸€æ¬¾ MVC æ¡†æ¶</h2><ol>
<li>Emberæ˜¯ä¸€æ¬¾éå¸¸ä¼˜ç§€çš„MVCæ¡†æ¶ï¼Œä¸ºäº†ä½¿å¼€å‘æ›´åŠ æ–¹ä¾¿è¿…é€Ÿï¼ŒEmberè§„å®šäº†ä¸€äº›æ¦‚å¿µå’Œå‘½åä¹ æƒ¯ï¼›</li>
<li>å®‰è£…bowerå’Œemberï¼š</li>
</ol>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">npm install -g bower</span><br><span class="line">npm install -g ember-cli</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>Macå®‰è£…watchmanï¼š</li>
</ol>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">brew install watchman</span><br></pre></td></tr></table></figure>

<ol start="4">
<li>Ember CLIèƒ½å¤Ÿå¾ˆå¥½åœ°ä¸è¿™ä¸¤ä¸ªåŒ…ç®¡ç†å™¨æ­é…ä½¿ç”¨,é€šè¿‡å®ƒä»¬å®‰è£…å¤–éƒ¨åº“æˆ–å·¥å…·çš„å‘½ä»¤ï¼š</li>
</ol>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">npm install [package name] --save-dev </span><br><span class="line">npm install [package name] --save </span><br><span class="line">bower install [package name] --save</span><br></pre></td></tr></table></figure>

<ol start="5">
<li>åœ¨Emberä¸­ä½¿ç”¨Bootstrapï¼š<ol>
<li>å®‰è£…bootstrapï¼šbower install bootstrap-sass â€“save</li>
<li>å®‰è£…ember-cli-sassï¼šember install ember-cli-sass</li>
<li>å°†Bootstrapçš„æ ·å¼å’Œè„šæœ¬å¼•å…¥åˆ°é¡¹ç›®ä¸­</li>
</ol>
</li>
</ol>
<h2 id="è·¯ç”±"><a href="#è·¯ç”±" class="headerlink" title="è·¯ç”±"></a>è·¯ç”±</h2><ol>
<li>è·¯ç”±é€‰æ‹©å°±åƒäº¤è­¦æŒ‡æŒ¥äº¤é€šï¼Œä¼šæ ¹æ®ç”¨æˆ·è¾“å…¥çš„URLé€‰æ‹©è¦æ¸²æŸ“çš„é¡µé¢ï¼›</li>
<li>å½“éœ€è¦è¿›è¡Œé¡µé¢åˆ‡æ¢æ—¶ï¼ŒEmberé¦–å…ˆæŠŠåº”ç”¨å½“å‰çš„åœ°å€ä¿®æ”¹ä¸ºç›®çš„é¡µé¢çš„åœ°å€ï¼Œè¿™æ—¶è·¯ç”±æ¨¡å—Routerä¼šæ ¹æ®æ–°çš„åœ°å€æŸ¥è¯¢è·¯ç”±è¡¨ï¼Œæ‰¾åˆ°å¯¹åº”çš„è·¯ç”±å¯¹è±¡ï¼ˆEmber.Routeï¼‰ï¼Œè°ƒç”¨è·¯ç”±å¯¹è±¡ä¸­çš„ä¸€ç³»åˆ—å›è°ƒæ–¹æ³•ï¼Œå¼€å§‹ä¸ºç›®çš„é¡µé¢å‡†å¤‡æ•°æ®ï¼Œè¿™ä¸€ç³»åˆ—å›è°ƒæ–¹æ³•è¢«å«ä½œè·¯ç”±ç”Ÿå‘½å‘¨æœŸé’©å­ï¼ˆroute lifecycle hookï¼‰ï¼›</li>
<li>Ember CLIæä¾›äº†ä¸€ä¸ªç”Ÿæˆå™¨çš„è„šæ‰‹æ¶å·¥å…·generateï¼Œå¯¹å­¦ä¹ Emberçš„çº¦å®šå’Œå‘½åæ¨¡å¼å¾ˆæœ‰å¸®åŠ©ï¼›é€šè¿‡å‘½ä»¤ember generateï¼ˆå¯ä»¥ç®€å†™ä¸ºember gï¼‰å¯ä»¥ç”Ÿæˆç›¸åº”çš„æ–‡ä»¶å’Œæ ·æ¿ä»£ç ï¼ˆå’Œæˆ‘ä½¿ç”¨hexoçš„é‚£ä¸ªå¾ˆç±»ä¼¼ï¼‰ï¼›</li>
<li>é€šè¿‡ember generateå‘½ä»¤åˆ›å»ºè·¯ç”±ï¼šember g route indexï¼›</li>
<li>Emberåº”ç”¨åœ¨å¯åŠ¨æˆ–é‡å¯æ—¶ä¼šå¯¹è·¯ç”±æ¨¡å—ï¼ˆRouterï¼‰å’Œåº”ç”¨è·¯ç”±ï¼ˆApplicationRouteï¼‰è¿›è¡Œå®ä¾‹åŒ–ï¼›</li>
</ol>
<h2 id="æ¨¡å‹-amp-æ•°æ®ç»‘å®š"><a href="#æ¨¡å‹-amp-æ•°æ®ç»‘å®š" class="headerlink" title="æ¨¡å‹&amp;æ•°æ®ç»‘å®š"></a>æ¨¡å‹&amp;æ•°æ®ç»‘å®š</h2><ol>
<li>æ¨¡å‹çš„æœ¬è´¨å°±æ˜¯å¯ä»¥åˆ›å»ºåŒ…å«ç‰¹æ®Šå±æ€§å’Œæ–¹æ³•çš„å¯¹è±¡çš„å‡½æ•°ï¼›</li>
<li>Ember.Objectæ˜¯åº”ç”¨ä¸­æœ€åŸºç¡€çš„æ•°æ®ç»“æ„ï¼ŒEmberä¸­å…¶ä»–æ‰€æœ‰ç±»éƒ½ç»§æ‰¿äºå®ƒï¼›</li>
<li>Ember Dataæ˜¯åŸºäº Ember.Object æ„å»ºçš„JavaScriptåº“ï¼Œ ç”¨äºå¼€å‘æ¨¡å‹ç›¸å…³çš„åŠŸèƒ½ï¼›</li>
<li>Ember CLIåˆ›å»ºæ¨¡å‹çš„å‘½ä»¤æ˜¯ember g model [æ¨¡å‹åç§°] ï¼›</li>
</ol>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> æ¨¡å‹åˆ›å»º</span></span><br><span class="line">ember g model cryptid</span><br><span class="line"><span class="meta">#</span><span class="bash"> ä¼šç”Ÿæˆapp/model/cryptid.js</span></span><br></pre></td></tr></table></figure>

<ol start="5">
<li>æ¨¡å‹çš„è®¡ç®—å±æ€§å¯¹æ¨¡æ¿å’Œç»„ä»¶æä¸ºé‡è¦ï¼Œå¯ä»¥ä½¿ç”¨Ember.computedæ–¹æ³•å®šä¹‰è®¡ç®—å±æ€§ï¼›</li>
<li>Emberå›¢é˜Ÿåœ¨å¼€å‘Emberæ¡†æ¶æ—¶è®¾è®¡äº†ä¸€äº›ç‰¹å®šçš„æ¨¡å¼ï¼Œé€‚é…å™¨å æ®äº†å…¶ä¸­ä¸€å¤§éƒ¨åˆ†ï¼›</li>
<li>åˆ›å»ºä¸€ä¸ªé€‚é…å™¨ï¼šember g adapter application ï¼›</li>
<li>Emberæä¾›äº†ä¸€æ¬¾æ’ä»¶ember-cli-content-security-policyï¼Œ ç”¨äºä¿®æ”¹é»˜è®¤å®‰å…¨ç­–ç•¥ï¼›</li>
<li>æ•°æ®åœ¨ä¼ å…¥å’Œä¼ å‡ºæ—¶ï¼ŒJSONç»“æ„ä¼šç»å†åºåˆ—åŒ–å’Œååºåˆ—åŒ–ï¼Œåˆ›å»ºåºåˆ—åŒ–å™¨çš„å‘½ä»¤æ˜¯ember g serialize [åº”ç”¨æˆ–æ¨¡å‹åç§°]ï¼Œæ‰§è¡Œè¿™ä¸ªå‘½ä»¤ä¼šåˆ›å»ºåºåˆ—åŒ–å™¨æ–‡ä»¶ï¼›</li>
<li>Ember Dataæä¾›äº†è½¬åŒ–æ•°æ®çš„èƒ½åŠ›ï¼Œå¯ä»¥å°†APIæä¾›çš„æ•°æ®è½¬åŒ–æˆåº”ç”¨éœ€è¦çš„æ ¼å¼ï¼›</li>
</ol>
<h2 id="è§†å›¾-amp-æ¨¡æ¿"><a href="#è§†å›¾-amp-æ¨¡æ¿" class="headerlink" title="è§†å›¾&amp;æ¨¡æ¿"></a>è§†å›¾&amp;æ¨¡æ¿</h2><ol>
<li>Handlebarsæ˜¯ä¸€ç§å¼ºå¤§çš„è¯­è¨€ï¼Œå¯ç”¨äºåˆ›å»ºåŠ¨æ€æ¨¡æ¿ï¼›</li>
<li>åœ¨Emberä¸­ï¼Œæ¨¡æ¿æ˜¯ç”±æ¨¡å‹æ•°æ®æ”¯æ’‘çš„ï¼Œæ•°æ®å¯¹è±¡ï¼ˆæˆ–å¯¹è±¡æ•°ç»„ï¼‰ä¼šä½œä¸ºå‚æ•°ä¼ é€’ç»™æ¨¡æ¿ï¼Œæ¥ç€æ¨¡æ¿è¢«æ¸²æŸ“æˆHTMLå­—ç¬¦ä¸²å¹¶æ’å…¥åˆ°DOMä¸­ï¼›</li>
</ol>
<h2 id="æ§åˆ¶å™¨"><a href="#æ§åˆ¶å™¨" class="headerlink" title="æ§åˆ¶å™¨"></a>æ§åˆ¶å™¨</h2><ol>
<li>æ§åˆ¶å™¨åªè´Ÿè´£æ§åˆ¶æ¨¡å‹å’Œè§†å›¾ï¼ŒEmberä¼šåœ¨è¿è¡Œæ—¶è‡ªåŠ¨æŠŠæ§åˆ¶å™¨å¯¹è±¡æ·»åŠ åˆ°åº”ç”¨ä¸­ï¼›</li>
<li>x-selectæ’ä»¶åœ¨æ¨¡æ¿ä¸­ä½¿ç”¨æ—¶å°±èƒ½çœå»åœ¨selectæ ‡ç­¾ä¸Šç»‘å®šonchangeäº‹ä»¶çš„æ“ä½œï¼›</li>
<li>åˆ›å»ºè·¯ç”±çš„æ§åˆ¶å™¨ï¼šember g controller è·¯ç”±åç§° ï¼›</li>
</ol>
<h2 id="åˆ›å»ºEmberåº”ç”¨"><a href="#åˆ›å»ºEmberåº”ç”¨" class="headerlink" title="åˆ›å»ºEmberåº”ç”¨"></a>åˆ›å»ºEmberåº”ç”¨</h2><ol>
<li>åœ¨æ‰§è¡ŒEmberçš„ember new [project name]å‘½ä»¤æ—¶ï¼Œä¼šåˆ›å»ºä¸€ä¸ªæ–°æ–‡ä»¶å¤¹ï¼Œå¹¶åœ¨å…¶ä¸­ç”Ÿæˆé¡¹ç›®å¼€å§‹æ—¶æ‰€å¿…éœ€çš„æ–‡ä»¶ï¼›</li>
<li>åˆ›å»ºä¸€ä¸ªTrackerçš„Emberåº”ç”¨ï¼Œæ‰§è¡Œå‘½ä»¤ï¼š</li>
</ol>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">ember new tracker</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>ç­‰å¾…æ‰§è¡Œå®Œå‘½ä»¤åå¯åŠ¨æœåŠ¡å™¨æµ‹è¯•é¡¹ç›®æ˜¯å¦èƒ½è¿è¡Œï¼š</li>
</ol>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">cd tracker</span><br><span class="line">ember server</span><br></pre></td></tr></table></figure>

<ol start="4">
<li>å®‰è£…Bootstrapï¼Œä½¿ç”¨Bowerè¿›è¡Œå®‰è£…ï¼š</li>
</ol>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">bower install bootstrap-sass --save</span><br></pre></td></tr></table></figure>

<ol start="5">
<li><p>å°†Bootstrapæ·»åŠ åˆ°Ember CLIçš„æ„å»ºè¿‡ç¨‹ä¸­ï¼Œåªæœ‰è¿™æ ·æ‰èƒ½åœ¨åº”ç”¨ä¸­è®¿é—®Bootstrapæä¾›çš„èµ„æºï¼›</p>
</li>
<li><p>å®‰è£…ember-cli-sassï¼šember install ember-cli-sass ï¼›</p>
</li>
<li><p>åœ¨emberä¸­å¼•å…¥bootstrapï¼š</p>
<ol>
<li>ä¿®æ”¹ember-cli-build.jsï¼Œé¦–å…ˆæ·»åŠ ä¸€ä¸ªå˜é‡ï¼ŒæŒ‡å‘Bootstrapèµ„æºç›®å½•çš„è·¯å¾„æ¥ç€åœ¨é…ç½®ä¸­æ·»åŠ ä¸€ä¸ªsassOptionså¯¹è±¡ï¼Œå®ƒåªåŒ…å«ä¸€ä¸ªå±æ€§includePathsï¼Œå€¼ä¸ºBootstrapæ ·å¼è¡¨çš„è·¯å¾„ï¼Œç„¶åä½¿ç”¨importå‘åº”ç”¨ä¸­æ·»åŠ å¯¹è¯¥èµ„æºçš„å¼•ç”¨ï¼š</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="meta">'use strict'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> EmberApp = <span class="built_in">require</span>(<span class="string">'ember-cli/lib/broccoli/ember-app'</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = <span class="function"><span class="keyword">function</span>(<span class="params">defaults</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// bootstrapPath æŒ‡å‘bootstrapèµ„æºè·¯å¾„</span></span><br><span class="line">  <span class="keyword">var</span> bootstrapPath = <span class="string">'bower_components/bootstrap-sass/assets/'</span>;</span><br><span class="line">  <span class="keyword">let</span> app = <span class="keyword">new</span> EmberApp(defaults, &#123;</span><br><span class="line">    <span class="comment">// æ·»åŠ é€‰é¡¹</span></span><br><span class="line">  sassOptions: &#123; </span><br><span class="line">	  includePaths: [</span><br><span class="line">		  bootstrapPath + <span class="string">'stylesheets'</span> </span><br><span class="line">	  ]</span><br><span class="line">  &#125;	  </span><br><span class="line">    <span class="comment">// Add options here</span></span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Use `app.import` to add additional libraries to the generated</span></span><br><span class="line">  <span class="comment">// output files.</span></span><br><span class="line">  <span class="comment">//</span></span><br><span class="line">  <span class="comment">// If you need to use different assets in different</span></span><br><span class="line">  <span class="comment">// environments, specify an object as the first parameter. That</span></span><br><span class="line">  <span class="comment">// object's keys should be the environment name and the values</span></span><br><span class="line">  <span class="comment">// should be the asset to use in that environment.</span></span><br><span class="line">  <span class="comment">//</span></span><br><span class="line">  <span class="comment">// If the library that you are including contains AMD or ES6</span></span><br><span class="line">  <span class="comment">// modules that you would like to import into your application</span></span><br><span class="line">  <span class="comment">// please specify an object with the list of modules as keys</span></span><br><span class="line">  <span class="comment">// along with the exports of each module as its value.</span></span><br><span class="line">  </span><br><span class="line">  <span class="comment">// ç”ŸæˆæŒ‡å‘bootstrapèµ„æºæ–‡ä»¶çš„è·¯å¾„ </span></span><br><span class="line">  <span class="comment">// ä½¿ç”¨importå‘åº”ç”¨æ·»åŠ å¯¹è¯¥èµ„æºçš„å¼•ç”¨</span></span><br><span class="line">  app.import(bootstrapPath + <span class="string">'javascripts/bootstrap.js'</span>);</span><br><span class="line">  <span class="keyword">return</span> app.toTree();</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>æ·»åŠ æ–‡ä»¶app/styles/app.scssï¼š</li>
</ol>
<figure class="highlight scss"><table><tr><td class="code"><pre><span class="line"><span class="variable">$bg-color</span>: coral;</span><br><span class="line"><span class="selector-tag">html</span> &#123;</span><br><span class="line"><span class="attribute">background</span>: <span class="variable">$bg-color</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// @importæŒ‡ä»¤çš„åŠŸèƒ½æ˜¯å°†bootstrap.scssæ–‡ä»¶çš„å†…å®¹æ·»åŠ åˆ°app.scssä¸­ï¼Œè¿™ä¸ªè¿‡ç¨‹å°†ç”±Ember CLIçš„æ„å»ºè¿‡ç¨‹ä»£åŠ³</span></span><br><span class="line"><span class="keyword">@import</span> <span class="string">'bootstrap'</span>;</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>æµ‹è¯•ä¸€ä¸‹æ˜¯å¦é…ç½®å®Œæˆï¼šember serverï¼›</li>
</ol>
</li>
<li><p><strong>TODO:</strong>æœªå®Œå¾…ç»­â€¦ â€¦</p>
</li>
</ol>
<hr>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>æ¡†æ¶çœŸçš„æ˜¯ä¸€ä¸ªå¥½ä¸œè¥¿ï¼Œèƒ½å¤Ÿå¸®åŠ©æˆ‘ä»¬è§£å†³å¾ˆå¤šé—®é¢˜ï¼Œç‰¹åˆ«æ˜¯ä¸€äº›åƒBootstrapè¿™ç§æ¡†æ¶ï¼Œåªè¦æˆ‘ä»¬ç†Ÿæ‚‰äº†è¿™ç§æ¡†æ¶å°±èƒ½åšå‡ºå¾ˆå¤šå¥½çœ‹çš„ç•Œé¢ï¼åç»­è¿˜è¦è¿›è¡ŒBootstrapçš„å­¦ä¹ !<strong><em>Markä¸€ä¸‹</em></strong></p>
]]></content>
      <categories>
        <category>Web</category>
      </categories>
  </entry>
  <entry>
    <title>Webå®‰å…¨å¼€å‘åŸºç¡€</title>
    <url>/2020/05/30/Web%E5%AE%89%E5%85%A8%E5%BC%80%E5%8F%91%E5%9F%BA%E7%A1%80/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>å‹’ç´¢è½¯ä»¶ã€ç—…æ¯’ã€åˆ†å¸ƒå¼æ‹’ç»æœåŠ¡ï¼ˆdistributed denial-of-serviceï¼ŒDDoSï¼‰æ”»å‡»ã€ä¸­é—´äººæ”»å‡»ã€å®‰å…¨æ¼æ´ï¼Œè¿™äº›è¯éƒ½ä¼šå‹¾èµ·å‚ä¸åº”ç”¨ç¨‹åºç®¡ç†çš„äººå™©æ¢¦èˆ¬çš„å›å¿†ï¼ä½†æ˜¯è¿™äº›å®‰å…¨ä¸Šçš„é—®é¢˜ä¼šå‡ºç°åœ¨Webä¸Šå—ï¼Ÿ<strong><em>æ¨èä¹¦ç±ï¼šã€ŠWebå®‰å…¨å¼€å‘æŒ‡å—ã€‹Â· [ç¾] John Paul Muellerè‘— æ¸©æ­£ä¸œè¯‘</em></strong></p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="æ˜ç¡®-Web-åº”ç”¨å¨èƒ"><a href="#æ˜ç¡®-Web-åº”ç”¨å¨èƒ" class="headerlink" title="æ˜ç¡® Web åº”ç”¨å¨èƒ"></a>æ˜ç¡® Web åº”ç”¨å¨èƒ</h2><ol>
<li>SQL æ³¨å…¥æ”»å‡»åªåœ¨åº”ç”¨ç¨‹åºä»¥æŸç§æ–¹å¼ä½¿ç”¨ SQL æ—¶æ‰ä¼šæˆåŠŸï¼Œä½†åº”ç”¨ç¨‹åºå¯èƒ½å¹¶æœªé‡‡ç”¨è¿™ç§æ–¹å¼ï¼›</li>
<li>å¸¸è§çš„Webåº”ç”¨å¨èƒï¼š<ul>
<li>ç¼“å†²åŒºæº¢å‡ºï¼Œæ”»å‡»è€…è¯•å›¾å°†è¶³å¤Ÿå¤šçš„æ•°æ®å‘é€åˆ°è¾“å…¥ç¼“å†²åŒºä¸­ï¼Œä»¥ä¾¿è®©åº”ç”¨ç¨‹åºæˆ–è¾“å‡ºç¼“å†²åŒºæº¢å‡ºï¼Œä»è€Œå¯¼è‡´åœ¨ç¼“å†²åŒºå¤–çš„å†…å­˜æ•°æ®è¢«æŸå</li>
<li>ä»£ç æ³¨å…¥ï¼Œä¸€ä¸ªå®ä½“ä»¥ä¸­é—´äººæ”»å‡»ï¼ˆman-in-the-middle-attackï¼‰çš„å½¢å¼å°†ä»£ç æ·»åŠ åˆ°æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯ï¼ˆå¦‚æµè§ˆå™¨ï¼‰ä¹‹é—´çš„æ•°æ®æµä¸­</li>
<li>è·¨ç«™è„šæœ¬ï¼ˆcross-site scriptingï¼ŒXSSï¼‰ï¼Œæ”»å‡»è€…å°† JavaScript è„šæœ¬æˆ–å…¶ä»–å¯æ‰§è¡Œä»£ç æ³¨å…¥åˆ°åº”ç”¨ç¨‹åºçš„è¾“å‡ºæµä¸­</li>
<li>æ–‡ä»¶ä¸Šä¼ ï¼Œå³ä½¿çœ‹ä¸Šå»æ˜¯æ— å®³çš„ï¼Œä½†æ¯ä¸€æ¬¡çš„æ–‡ä»¶ä¸Šä¼ ä¹Ÿåº”è¯¥è¢«è®¤ä¸ºæ˜¯å¯ç–‘çš„</li>
<li>ç¡¬ç¼–ç çš„è®¤è¯ï¼Œå‡ºäºæµ‹è¯•ç›®çš„ï¼Œå¼€å‘äººå‘˜ç»å¸¸å°†è®¤è¯ä¿¡æ¯æ”¾åœ¨åº”ç”¨ç¨‹åºçš„åˆå§‹åŒ–æ–‡ä»¶ä¸­</li>
<li>å‘ç°éšè—æˆ–å—é™åˆ¶çš„æ–‡ä»¶ / ç›®å½•ï¼Œå½“åº”ç”¨ç¨‹åºå…è®¸è¾“å…¥ä¸€äº›ç‰¹æ®Šå­—ç¬¦ï¼ˆæ¯”å¦‚æ–œæ æˆ–åæ–œæ ï¼‰æ—¶ï¼Œé»‘å®¢å°±æœ‰å¯èƒ½å‘ç°éšè—æˆ–å—é™åˆ¶çš„æ–‡ä»¶å’Œç›®å½•</li>
<li>ç¼ºå°‘è®¤è¯æˆ–è€…è®¤è¯ä¸æ­£ç¡®ï¼ŒçŸ¥é“è°æ­£åœ¨ä½¿ç”¨åº”ç”¨ç¨‹åºæ˜¯å¾ˆé‡è¦çš„ï¼Œç‰¹åˆ«æ˜¯åœ¨ä½ å¤„ç†æ•æ„Ÿæ•°æ®çš„æ—¶å€™</li>
<li>ç¼ºå°‘æˆæƒæˆ–è€…æˆæƒä¸æ­£ç¡®ï¼Œåªä¸ºç”¨æˆ·æä¾›æ‰§è¡Œç‰¹å®šä»»åŠ¡æ—¶æ‰€éœ€è¦çš„æƒé™</li>
<li>ç¼ºå°‘åŠ å¯†æˆ–è€…åŠ å¯†ä¸æ­£ç¡®ï¼Œä½¿ç”¨åŠ å¯†æŠ€æœ¯åœ¨ä¸¤ä¸ªç»ˆç«¯ä¹‹é—´ä¼ è¾“æ•°æ®å¯ä»¥é˜²æ­¢é»‘å®¢ç›‘å¬é€šä¿¡</li>
<li>æ“ä½œç³»ç»Ÿå‘½ä»¤æ³¨å…¥ï¼Œæ”»å‡»è€…ä¼šä¿®æ”¹åº”ç”¨ç¨‹åºä½¿ç”¨çš„æ“ä½œç³»ç»Ÿå‘½ä»¤æ¥æ‰§è¡Œç‰¹å®šçš„ä»»åŠ¡</li>
<li>å‚æ•°ç¯¡æ”¹ï¼Œé»‘å®¢ä¼šå¯¹ä½œä¸ºè¯·æ±‚å¤´æˆ– URL ä¸€éƒ¨åˆ†çš„å‚æ•°è¿›è¡Œå°è¯•</li>
<li>è¿œç¨‹ä»£ç åŒ…å«ï¼Œé»‘å®¢èƒ½å¤Ÿè·å–åˆ°è¿™äº›è·¯å¾„ä¿¡æ¯å¹¶æ›´æ”¹å®ƒä»¬çš„æ—¶å€™ï¼Œè¿œç¨‹ä»£ç åŒ…å«å°±å¯èƒ½è¢«æŒ‡å‘é»‘å®¢æƒ³è¦åŒ…å«çš„ä»»ä½•ä»£ç ï¼Œä»è€Œä½¿å¾—é»‘å®¢å¯ä»¥å®Œå…¨æŒæ§ä½ çš„ç³»ç»Ÿ</li>
<li>ä¼šè¯åŠ«æŒï¼Œä¼šè¯åŠ«æŒè€…ä¼šä¾µå…¥åˆ°ä¼šè¯ä¸­å¹¶æ‹¦æˆªç”¨æˆ·ä¸æœåŠ¡å™¨ä¹‹é—´ä¼ è¾“çš„æ•°æ®ï¼Œå«æœ‰åŠ«æŒä¼šè¯æ‰€éœ€ä¿¡æ¯çš„ä¸‰ä¸ªæœ€å¸¸è§çš„åœ°æ–¹æ˜¯ï¼šcookieã€URL é‡å†™å’Œéšè—åŸŸ</li>
<li>SQL æ³¨å…¥ï¼Œæ”»å‡»è€…ä¼šä¿®æ”¹ç”±åº”ç”¨ç¨‹åºåˆ›å»ºçš„æŸ¥è¯¢ï¼Œè€Œè¿™ä¸ªæŸ¥è¯¢æ˜¯ç”±ç”¨æˆ·æˆ–å…¶ä»–è¾“å…¥å¼•èµ·çš„ï¼Œä¸€ä¸ªé¿å… SQL æ³¨å…¥æ”»å‡»çš„å¥½åŠæ³•æ˜¯é¿å…åŠ¨æ€æŸ¥è¯¢</li>
</ul>
</li>
<li>è½¯ä»¶éœ€è¦æŸç§ç›‘ç®¡æ¥ç¡®ä¿å®ƒä¸ä¼šå¯¼è‡´å…¶ä½¿ç”¨ã€æ§åˆ¶å’Œä¿æŠ¤çš„æ•°æ®åŠèµ„æºå‘ç”Ÿä¸¢å¤±ã€è¯¯å·®ã€ç¯¡æ”¹ã€ä¸å¯ç”¨æˆ–è¯¯ç”¨ï¼›</li>
<li>å¼€æ”¾ Web åº”ç”¨å®‰å…¨é¡¹ ç›®ï¼ˆOpen Web Application Security Projectï¼Œ<a href="https://wiki.owasp.org/index.php/OWASP_Software_Security_Assurance_Process" target="_blank" rel="noopener">OWASP</a>ï¼‰</li>
<li>å¼€å‘è€…å…³æ³¨çš„æ˜¯å®ç°å„ç§æœ‰è¶£åŠŸèƒ½çš„ç²¾é›•ç»†ç¢çš„ä»£ç ï¼Œè€Œç”¨æˆ·å…³æ³¨çš„æ˜¯è¾¾åˆ°æœ€ç»ˆç›®çš„çš„æ‰‹æ®µï¼</li>
<li>å®‰å…¨é—®é¢˜çš„å¤„ç†ç­–ç•¥ï¼š<ul>
<li>ç”¨æˆ·æˆ–ç³»ç»Ÿè®¤è¯</li>
<li>æ•°æ®åŠ å¯†</li>
<li>ç§»åŠ¨è®¾å¤‡ç®¡ç†</li>
<li>é€šç”¨çš„åç—…æ¯’ä¿æŠ¤</li>
<li>è™šæ‹Ÿç§æœ‰ç½‘ç»œï¼ˆvirtual private networkï¼ŒVPNï¼‰æ”¯æŒï¼ˆéœ€è¦æ—¶ï¼‰</li>
<li>é˜²æ­¢æ•°æ®ä¸¢å¤±</li>
<li>ä¸»æœºå…¥ä¾µé˜²å¾¡</li>
</ul>
</li>
<li>åŒå› ç´ è®¤è¯çš„é—®é¢˜ä¸å•å› ç´ è®¤è¯çš„é—®é¢˜ä¸€æ ·ï¼Œ é‚£å°±æ˜¯é€šå¸¸ç”¨æˆ·æ ¹æœ¬ä¸å–œæ¬¢èº«ä»½è®¤è¯ï¼Œäººä»¬è§‰å¾—åº”è¯¥å¯ä»¥åœ¨ä¸åšä»»ä½•é¢å¤–æ“ä½œçš„æƒ…å†µä¸‹ä½¿ç”¨åº”ç”¨ç¨‹åºï¼</li>
</ol>
<h2 id="ä½¿ç”¨åº“"><a href="#ä½¿ç”¨åº“" class="headerlink" title="ä½¿ç”¨åº“"></a>ä½¿ç”¨åº“</h2><ol>
<li>å¾ˆéš¾æ‰¾åˆ°ä¸€ä¸ªä¸ä¾èµ–åº“çš„ Web åº”ç”¨ç¨‹åºï¼Œå³ä½¿èƒ½æ‰¾åˆ°ï¼Œé‚£ä¹Ÿä¸æ˜¯å¾ˆé‡è¦çš„åº”ç”¨ç¨‹åºï¼›</li>
<li>å®‰å…¨åœ°ä½¿ç”¨åº“ï¼Œä»è€Œå¯ä»¥è·å¾—ä½¿ç”¨åˆ«äººä»£ç çš„æ‰€æœ‰å¥½å¤„ï¼ŒåŒæ—¶ä¸ä¼šåœ¨è‡ªå·±çš„åº”ç”¨ç¨‹åºä¸­åˆ¶é€ ä»»ä½•é‡å¤§çš„å®‰å…¨æ¼æ´ï¼›</li>
<li>åº“çš„ä»»ä½•ç”¨æ³•éƒ½ä¼šå¸¦æ¥æ½œåœ¨çš„å®‰å…¨æ¼æ´ï¼Œè¿™ä¼šæ¶ˆè€—å…¬å¸çš„æ—¶é—´ã€ç²¾åŠ›ä¸èµ„æºï¼</li>
<li>æœ€ä¼˜ç§€çš„ Webå¼€å‘äººå‘˜ä¹Ÿæ²¡æœ‰æ—¶é—´å»æ‰‹å†™æ‰€æœ‰çš„ CSS ä»£ç ï¼›</li>
<li>å†…éƒ¨å­˜å‚¨åº“æœ‰å¾ˆå¤šä¿å­˜åœ¨ç¬¬ä¸‰æ–¹ç½‘ç«™çš„å¤–éƒ¨å­˜å‚¨åº“æ‰€æ²¡æœ‰çš„ä¼˜ç‚¹ï¼Œåœ¨ç›¸åŒçš„ç¼–ç æ°´å¹³ä¸‹ï¼Œå†…éƒ¨å­˜å‚¨åº“ä¼šæ¯”å¤–éƒ¨å­˜å‚¨åº“æ›´å¿«ã€æ›´å¯é ä¸”æ›´å®‰å…¨ï¼›</li>
<li>æ°¸è¿œä¸è¦åœ¨åŒä¸€ä¸ª HTTP å“åº”ä¸­ä¼ é€’ä¸å—ä¿¡ä»»çš„æ•°æ®ï¼›</li>
<li>ä»»ä½•æ—¶å€™ä½ æŠŠå­—ç¬¦ä¸²è½¬å˜æˆè„šæœ¬ï¼Œ ä½ å°±æ­£åœ¨é‚€è¯·é»‘å®¢æ¥æä¾›è¿™äº›å­—ç¬¦ä¸²ï¼</li>
<li>å¯ç”¨JavaScriptçš„ä¸¥æ ¼æ¨¡å¼ï¼›</li>
<li>å†…å®¹å®‰å…¨ç­–ç•¥ï¼ˆContent Security Policyï¼ŒCSPï¼‰æ—¨åœ¨é€šè¿‡åˆ›å»ºç™½åå•è¿™ç±»æªæ–½æ¥è§£å†³è¿™ä¸€é—®é¢˜ï¼›</li>
<li>API æ¯”åº“æµè¡Œå¾—æ›´å¿«ï¼Œå› ä¸ºAPI:<ul>
<li>å‡å°‘äº†èµ„æºçš„ä½¿ç”¨</li>
<li>å‡å°‘äº†ç¼–ç è¦æ±‚</li>
<li>æ›´å°çš„å­¦ä¹ æ›²çº¿</li>
</ul>
</li>
</ol>
<h2 id="å¾®æœåŠ¡å¸¦æ¥çš„å®‰å…¨å¨èƒ"><a href="#å¾®æœåŠ¡å¸¦æ¥çš„å®‰å…¨å¨èƒ" class="headerlink" title="å¾®æœåŠ¡å¸¦æ¥çš„å®‰å…¨å¨èƒ"></a>å¾®æœåŠ¡å¸¦æ¥çš„å®‰å…¨å¨èƒ</h2><ol>
<li>å¾®æœåŠ¡å¯èƒ½å¸¦æ¥çš„æœ€å¤§é—®é¢˜æ˜¯ç¼ºå°‘ä¸€è‡´æ€§ï¼Œè¿™ä¼¼ä¹ä¹Ÿå›°æ‰°ç€è¿‡å»åˆ›å»ºçš„æ¯ä¸ªåº“å’Œ API,åœ¨å¼€å‘è¿‡ç¨‹ä¸­å°½å¯èƒ½æ—©åœ°åˆ›å»ºä¸€ä¸ªç²¾ç¡®æ è¿°å¦‚ä½•è°ƒç”¨å¾®æœåŠ¡çš„æ¨¡æ¿ï¼›</li>
<li>è®©æ¯ä¸ªæœåŠ¡åœ¨éš”ç¦»çš„è™šæ‹Ÿæœºä¸Šè¿è¡Œï¼Œ ä»¥ç¡®ä¿æ¯ä¸ªæœåŠ¡æœ‰è‡ªå·±çš„åœ°å€ç©ºé—´å’Œè¿›ç¨‹ï¼›</li>
<li>ä¸€ä¸ªè·¨ç«™è¯·æ±‚ä¼ªé€ ï¼ˆcross-site request forgeryï¼ŒCSRF æˆ– XSRFï¼‰æ˜¯æ”»å‡»è€…å°è¯•è®©ç”¨æˆ·åœ¨ä¸ç»æ„é—´æˆ–ä¸çŸ¥æƒ…çš„æƒ…å†µä¸‹æ‰§è¡Œä»£ç çš„æ”»å‡»ï¼›</li>
<li><strong>ä¿æŒç€ä¸¤å¥—å¾®æœåŠ¡æ˜¯ä¸€ä¸ªå¥½çš„åšæ³•ï¼Œè¿™æ ·ä½ å°±èƒ½æ ¹æ®éœ€è¦åˆ‡æ¢å®ƒä»¬æ¥è®©åº”ç”¨ç¨‹åºæŒç»­è¿è¡Œï¼›</strong></li>
</ol>
<h2 id="åƒé»‘å®¢ä¸€æ ·æ€è€ƒ"><a href="#åƒé»‘å®¢ä¸€æ ·æ€è€ƒ" class="headerlink" title="åƒé»‘å®¢ä¸€æ ·æ€è€ƒ"></a>åƒé»‘å®¢ä¸€æ ·æ€è€ƒ</h2><ol>
<li>å½“ä½ åƒé»‘å®¢ä¸€æ ·å»æ€è€ƒæ—¶ï¼Œå¯èƒ½åœ¨ä½¿ç”¨è¡¨é¢ä¸Šå®Œå…¨å¯æ¥å—çš„ä»£ç ï¼Œå®ƒå¯èƒ½æ²¡æœ‰ bugï¼Œä½†å¯èƒ½æœ‰å®‰å…¨æ¼æ´ï¼›</li>
<li>Web å®‰å…¨æ‰«æçš„åŸºæœ¬æ€æƒ³æ˜¯å®ƒä»¬ä¼šå‘Šè¯‰ä½ ä½ çš„ç½‘ç«™ç›®å‰æ˜¯å¦å¹²å‡€ï¼Œå¹¶ä¸”æœ‰æ—¶å€™èƒ½å¸®ä½ è€ƒè™‘æ½œåœ¨çš„å®‰å…¨æ¼æ´ï¼›</li>
<li>ä»»ä½• Web å®‰å…¨æ‰«æå™¨éƒ½åšä¸åˆ° 100% å‡†ç¡®åœ°æ£€æŸ¥å‡ºç½‘ç«™çš„æ½œåœ¨é—®é¢˜ï¼Œè§£å†³é—æ¼é—®é¢˜æˆ–è¯¯æŠ¥çš„æœ€ä½³æ–¹æ³•æ˜¯ä¸æ­¢ä½¿ç”¨ä¸€ä¸ª Web å®‰å…¨æ‰«æå™¨ï¼›</li>
<li>æµ‹è¯•ç³»ç»Ÿä¸æ­¢èƒ½ç”¨æ¥æµ‹è¯•åº”ç”¨ç¨‹åºï¼Œè¿˜å¯ä»¥ç”¨å®ƒæµ‹è¯•å¯¹ç­–çš„æ•ˆç‡æˆ–è€…ç‰¹å®šé…ç½®çš„æ¼æ´ï¼›</li>
<li>XSS æœ‰ ä¸¤ç§ç±»å‹ï¼šéæŒä¹…çš„ï¼ˆæ”»å‡»ä¾èµ–ç”¨æˆ·è®¿é—®æŸä¸ªä¸“é—¨åˆ¶ä½œçš„é“¾æ¥ï¼‰å’ŒæŒä¹…çš„ï¼ˆæ”»å‡»ä»£ç ä¿å­˜åœ¨é—´æ¥çš„å­˜å‚¨åª’ä»‹ä¸­ï¼Œæ¯”å¦‚æ•°æ®åº“ï¼‰ï¼›</li>
<li>ä¸€ä¸ªæŒä¹…çš„ XSS æ”»å‡»ä¼šæ¯”è¾ƒéš¾å®ç°ï¼Œ ä½†ä¼šé€ æˆæ›´å¤§çš„ç ´åï¼</li>
<li>é˜²å¾¡ XSS çš„æœ€ä½³æ–¹æ³•å°±æ˜¯å¯¹ä»»ä½•ä½ æ¥æ”¶åˆ°çš„è¾“å…¥è¿›è¡Œå‡€åŒ–ï¼Œå‡€åŒ–è¾“å…¥çš„è¿‡ç¨‹ä¼šç§»é™¤ä»»ä½•è„šæœ¬ã€æ€ªå¼‚çš„å­—ç¬¦æˆ–å…¶ä»–ä¸æœŸæœ›å‡ºç°åœ¨å“åº”ä¸­çš„ä¿¡æ¯ï¼›</li>
<li>å¼€æ”¾è¶Šå¤šçš„ç«¯å£ï¼ŒæœåŠ¡å™¨è¢«å‹å®çš„æœºä¼šå°±è¶Šå¤§ï¼ä¸è¦å¼€å¯ä¸å¿…è¦çš„ç«¯å£ï¼</li>
<li>æ— æ„çš„ä¿¡æ¯æ³„éœ²ä¼šä»¥å„ç§æ–¹å¼å‘ç”Ÿï¼Œä½†æ˜¯è¿™ç±»æ”»å‡»é€šå¸¸æ¶‰åŠé»‘å®¢æœªç»æˆæƒåœ°è®¿é—®æŸä¸ªé›†ä¸­å¼æ•°æ®åº“ï¼</li>
</ol>
<h2 id="è·Ÿè¸ªå½“å‰çš„å®‰å…¨å¨èƒ"><a href="#è·Ÿè¸ªå½“å‰çš„å®‰å…¨å¨èƒ" class="headerlink" title="è·Ÿè¸ªå½“å‰çš„å®‰å…¨å¨èƒ"></a>è·Ÿè¸ªå½“å‰çš„å®‰å…¨å¨èƒ</h2><ol>
<li>ä¸ºäº†è·Ÿè¿›å¯èƒ½å½±å“åº”ç”¨ç¨‹åºçš„å®‰å…¨é—®é¢˜ï¼Œéœ€è¦è·Ÿè¸ªå½“å‰çš„å®‰å…¨å¨èƒï¼›</li>
<li>é˜…è¯»ä¸å®‰å…¨ç›¸å…³çš„ä¸“ä¸šæ–‡ç« ï¼Œå¤§éƒ¨åˆ†çš„ä¸šåŠ¡éƒ½ä¼šä¾èµ–æ•°æ®åº“æ¥å­˜å‚¨ä¿¡æ¯ï¼Œè€Œå­˜å‚¨æ•æ„Ÿä¿¡æ¯çš„æ•°æ®åº“é€šå¸¸ä¼šä¾é æŸç§åŠ å¯†æŠ€æœ¯ï¼›</li>
<li>ä½¿ç”¨ä¸“ä¸šæ‚å¿—çš„æ–‡ç« æ¥å®šä½å®‰å…¨å¨èƒä¿¡æ¯çš„æœ€ä½³ç†ç”±æ˜¯ï¼Œä½ å¯ä»¥åœ¨å¾ˆçŸ­çš„æ—¶é—´å†…è·å¾—å¤§é‡å®‰å…¨å¨èƒçš„ä¿¡æ¯ï¼›</li>
<li>å®‰å…¨ç½‘ç«™ä¼šæä¾›å„ç§å®‰å…¨å¨èƒçš„è¯¦ç»†ä¿¡æ¯ï¼Œå®‰å…¨ç½‘ç«™å¯èƒ½ä¸ä¼šè®¨è®ºæ¯ä¸€ç§å½“å‰çš„å¨èƒï¼Œä½†è‚¯å®šå¯ä»¥æ‰¾åˆ°å¤§éƒ¨åˆ†å½“å‰æ´»è·ƒçš„å¨èƒï¼›</li>
</ol>
<hr>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>ç½‘ç»œå®‰å…¨æ˜¯ä¸€ä¸ªæ°¸è¿œå€¼å¾—å…³æ³¨çš„é—®é¢˜ï¼Œä¸ä»…ä»…æ˜¯ä¸ªäººä¿¡æ¯çš„å®‰å…¨ï¼Œä½œä¸ºå¼€å‘è€…ï¼Œåº”è¯¥å…³æ³¨å¼€å‘çš„äº§å“åœ¨çº¿ä¸Šæä¾›æœåŠ¡çš„ç¨³å®šè¿è¡Œçš„åŒæ—¶ï¼Œè¿˜æœ‰åœ¨å®‰å…¨ä¸Šçš„å…³æ³¨ï¼å¦‚æœä¸å…³æ³¨è¿™äº›é—®é¢˜ï¼Œå¾ˆå¯èƒ½å› ä¸ºä½ æä¾›çš„æœåŠ¡å¯¼è‡´å…¬å¸çš„è´¢äº§å—åˆ°æŸå¤±ï¼Œè€Œè¿™äº›æŸå¤±å¯èƒ½ä¼šå¯¼è‡´ä½ è‡ªèº«è¢«è¿½è´£ï¼Œå¤šèŠ±ä¸€ç‚¹æ—¶é—´åœ¨å®‰å…¨ä¸Šå¯èƒ½ä¸ä¼šå¯¹ä½ çš„ä¸šåŠ¡äº§ç”Ÿå¤šå¤§çš„å¸®åŠ©ï¼Œä½†æ˜¯èƒ½å¤Ÿé€‚å½“é™ä½è¢«æ”»å‡»æ—¶çš„é£é™©ä»¥åŠå‡å°‘åœ¨è¢«æ”»å‡»æ—¶äº§ç”Ÿçš„æŸå¤±ï¼å®‰å…¨æ°¸è¿œå€¼å¾—å…³æ³¨ï¼</p>
]]></content>
      <categories>
        <category>Web</category>
      </categories>
  </entry>
  <entry>
    <title>Webæ€§èƒ½åŸºç¡€</title>
    <url>/2020/06/24/Web%E6%80%A7%E8%83%BD%E5%9F%BA%E7%A1%80/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>ä» TCPã€UDP å’Œ TLS åè®®è®²èµ·ï¼Œå¦‚ä½•é’ˆå¯¹è¿™å‡ ç§åè®®å’ŒåŸºç¡€è®¾æ–½æ¥ä¼˜åŒ–åº”ç”¨ï¼Œä»è€Œæ·±å…¥ç†è§£åè®®ä»¥åŠWebç›¸å…³çš„ä¼˜åŒ–æªæ–½ï¼åˆæ ¼çš„å¼€å‘è€…çŸ¥é“æ€ä¹ˆåšï¼Œè€Œä¼˜ç§€çš„å¼€å‘è€…çŸ¥é“ä¸ºä»€ä¹ˆé‚£ä¹ˆåšã€‚ <strong><em>æ¨èä¹¦ç±ï¼šã€ŠWebæ€§èƒ½æƒå¨æŒ‡å—ã€‹Â· [åŠ ] Ilya Grigorikè‘— ææ¾å³°è¯‘</em></strong></p>
<hr>
<h1 id="ç½‘ç»œæŠ€æœ¯"><a href="#ç½‘ç»œæŠ€æœ¯" class="headerlink" title="ç½‘ç»œæŠ€æœ¯"></a>ç½‘ç»œæŠ€æœ¯</h1><h2 id="å»¶è¿Ÿä¸å¸¦å®½"><a href="#å»¶è¿Ÿä¸å¸¦å®½" class="headerlink" title="å»¶è¿Ÿä¸å¸¦å®½"></a>å»¶è¿Ÿä¸å¸¦å®½</h2><ol>
<li><p>WPOï¼ˆWeb Performance Optimizationï¼ŒWeb æ€§èƒ½ä¼˜åŒ–ï¼‰äº§ä¸šä»æ— åˆ°æœ‰ï¼Œ å¿«é€Ÿå¢é•¿ï¼Œå……åˆ†è¯´æ˜ç”¨æˆ·è¶Šæ¥è¶Šé‡è§†é€Ÿåº¦æ–¹é¢çš„ç”¨æˆ·ä½“éªŒï¼›</p>
</li>
<li><p>äº‹å®è¯æ˜ï¼š</p>
<ul>
<li>ç½‘ç«™è¶Šå¿«ï¼Œç”¨æˆ·çš„é»æ€§è¶Šé«˜</li>
<li>ç½‘ç«™è¶Šå¿«ï¼Œç”¨æˆ·å¿ è¯šåº¦æ›´é«˜</li>
<li>ç½‘ç«™è¶Šå¿«ï¼Œç”¨æˆ·è½¬åŒ–ç‡è¶Šé«˜</li>
</ul>
</li>
<li><p>ä¸“ä¸šæœ¯è¯­ï¼š</p>
<ul>
<li>å»¶è¿Ÿâ€”â€”åˆ†ç»„ä»ä¿¡æ¯æºå‘é€åˆ°ç›®çš„åœ°æ‰€éœ€çš„æ—¶é—´</li>
<li>å¸¦å®½â€”â€”é€»è¾‘æˆ–ç‰©ç†é€šä¿¡è·¯å¾„æœ€å¤§çš„ååé‡</li>
</ul>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/22604b665478becbed5c054e872d282e-86565" alt="å»¶è¿Ÿå’Œå¸¦å®½"></p>
</li>
<li><p>å»¶è¿Ÿæ˜¯æ¶ˆæ¯ï¼ˆmessageï¼‰æˆ–åˆ†ç»„ï¼ˆpacketï¼‰ä»èµ·ç‚¹åˆ°ç»ˆç‚¹ç»å†çš„æ—¶é—´ï¼Œä»»ä½•ç³»ç»Ÿéƒ½æœ‰å¾ˆå¤šå› ç´ å¯èƒ½å½±å“ä¼ é€æ¶ˆæ¯çš„æ—¶é—´ï¼›</p>
</li>
<li><p>å»¶è¿Ÿå½±å“å› ç´ ï¼š</p>
<ul>
<li>ä¼ æ’­å»¶è¿Ÿâ€”â€”æ¶ˆæ¯ä»å‘é€ç«¯åˆ°æ¥æ”¶ç«¯éœ€è¦çš„æ—¶é—´</li>
<li>ä¼ è¾“å»¶è¿Ÿâ€”â€”æŠŠæ¶ˆæ¯ä¸­çš„æ‰€æœ‰æ¯”ç‰¹è½¬ç§»åˆ°é“¾è·¯ä¸­éœ€è¦çš„æ—¶é—´</li>
<li>å¤„ç†å»¶è¿Ÿâ€”â€”å¤„ç†åˆ†ç»„é¦–éƒ¨ã€æ£€æŸ¥ä½é”™è¯¯åŠç¡®å®šåˆ†ç»„ç›®æ ‡æ‰€éœ€çš„æ—¶é—´</li>
<li>æ’é˜Ÿå»¶è¿Ÿâ€”â€”åˆ°æ¥çš„åˆ†ç»„æ’é˜Ÿç­‰å¾…å¤„ç†çš„æ—¶é—´</li>
</ul>
</li>
<li><p>ç¼“å†²åŒºçˆ†æ»¡ï¼ˆBufferbloatï¼‰äº§ç”Ÿçš„åŸå› ä¸»è¦æ˜¯å¦‚ä»Šå¸‚é¢ä¸Šçš„è·¯ç”±å™¨éƒ½ä¼šé…å¤‡å¾ˆå¤§çš„å…¥ç«™ç¼“å†²åŒºï¼Œä»¥ä¾¿ â€œä¸æƒœä¸€åˆ‡ä»£ä»·â€é¿å…ä¸¢åŒ…ï¼ˆåˆ†ç»„ï¼‰ï¼Œå¯¼è‡´ç½‘ç»œä¸­äº§ç”Ÿè¾ƒé•¿ä¸”å¯å˜çš„å»¶è¿Ÿæ—¶é—´ï¼›</p>
</li>
<li><p><strong>æœ€åä¸€å…¬é‡Œçš„å»¶è¿Ÿæ˜¯ä¸–ç•Œä»»ä½•ä¸€ä¸ªè§’è½çš„äº’è”ç½‘æä¾›å•†å…±åŒé¢ä¸´çš„é—®é¢˜ï¼</strong></p>
</li>
<li><p>é€šè¿‡æ³¢åˆ†å¤ç”¨ï¼ˆWDMï¼Œ Wavelength-Division Multiplexingï¼‰æŠ€æœ¯ï¼Œ å…‰çº¤å¯ä»¥åŒæ—¶ä¼ è¾“å¾ˆå¤šä¸åŒæ³¢é•¿ï¼ˆä¿¡é“ï¼‰çš„å…‰ï¼Œå› è€Œå…·æœ‰æ˜æ˜¾çš„å¸¦å®½ä¼˜åŠ¿ï¼›</p>
</li>
</ol>
<h2 id="TCP"><a href="#TCP" class="headerlink" title="TCP"></a>TCP</h2><ol>
<li><p>TCP å³ Transmission Control Protocolï¼ˆä¼ è¾“æ§åˆ¶åè®®ï¼‰ï¼Œ è´Ÿè´£åœ¨ä¸å¯é çš„ä¼ è¾“ä¿¡é“ä¹‹ä¸Šæä¾›å¯é çš„æŠ½è±¡å±‚ï¼›</p>
</li>
<li><p>TCP å‘åº”ç”¨å±‚éšè—äº†å¤§å¤šæ•°ç½‘ç»œé€šä¿¡çš„å¤æ‚ç»†èŠ‚ï¼Œ æ¯”å¦‚ä¸¢åŒ…é‡å‘ã€æŒ‰åºå‘é€ã€æ‹¥å¡æ§åˆ¶åŠé¿å…ã€æ•°æ®å®Œæ•´ï¼Œ ç­‰ç­‰ï¼›</p>
</li>
<li><p>åœ¨ç°å®å½“ä¸­ï¼Œ ç”±äº TCP æä¾›äº†å¾ˆå¤šæœ‰ç”¨çš„åŠŸèƒ½ï¼Œå‡ ä¹æ‰€æœ‰ HTTP æµé‡éƒ½æ˜¯é€šè¿‡ TCP ä¼ é€çš„ï¼›</p>
</li>
<li><p>ä¸‰æ¬¡æ¡æ‰‹è¿‡ç¨‹ä¸­ï¼Œå®¢æˆ·ç«¯ä¸æœåŠ¡å™¨åœ¨äº¤æ¢åº”ç”¨æ•°æ®ä¹‹å‰ï¼Œ å¿…é¡»å°±èµ·å§‹åˆ†ç»„åºåˆ—å·ï¼Œ ä»¥åŠå…¶ä»–ä¸€äº›è¿æ¥ç›¸å…³çš„ç»†èŠ‚è¾¾æˆä¸€è‡´ã€‚ å‡ºäºå®‰å…¨è€ƒè™‘ï¼Œåºåˆ—å·ç”±ä¸¤ç«¯éšæœºç”Ÿæˆï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/2db9992084e2c3fcbc1926f442545e02-125973" alt="ä¸‰æ¬¡æ¡æ‰‹"></p>
</li>
<li><p>ç”±äºéå¸¸çŸ­çš„ TCP è¿æ¥åœ¨ äº’è”ç½‘ä¸Šéšå¤„å¯è§ï¼Œæ¡æ‰‹é˜¶æ®µå·²ç»æˆä¸ºå½±å“ç½‘ç»œæ€»å»¶è¿Ÿçš„ä¸€ä¸ªé‡è¦å› ç´ ï¼ŒTFOï¼ˆTCP Fast Openï¼ŒTCP å¿«é€Ÿæ‰“å¼€ï¼‰è‡´åŠ›äºå‡å°‘æ–°å»º TCP è¿æ¥å¸¦æ¥çš„æ€§èƒ½æŸå¤±ï¼›</p>
</li>
<li><p>TCP åŠ å…¥äº†å¾ˆå¤šæœºåˆ¶ï¼Œ ä»¥ä¾¿æ§åˆ¶åŒå‘å‘é€æ•°æ®çš„é€Ÿåº¦ï¼Œ æ¯”å¦‚æµé‡æ§åˆ¶ã€æ‹¥å¡æ§åˆ¶å’Œæ‹¥å¡é¢„é˜²æœºåˆ¶ï¼›</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/77118c798903bddb22f1ca91d595890b-98844" alt="æ‹¥å¡æ§åˆ¶å’Œé¢„é˜²"></p>
</li>
<li><p>æ ¸å¿ƒåŸç†åŠå½±å“ï¼š</p>
<ul>
<li>TCP ä¸‰æ¬¡æ¡æ‰‹å¢åŠ äº†æ•´æ•´ä¸€æ¬¡å¾€è¿”æ—¶é—´</li>
<li>TCP æ…¢å¯åŠ¨å°†è¢«åº”ç”¨åˆ°æ¯ä¸ªæ–°è¿æ¥</li>
<li>TCP æµé‡åŠæ‹¥å¡æ§åˆ¶ä¼šå½±å“æ‰€æœ‰è¿æ¥çš„ååé‡</li>
<li>TCP çš„ååé‡ç”±å½“å‰æ‹¥å¡çª—å£å¤§å°æ§åˆ¶</li>
</ul>
</li>
<li><p>ä¼˜åŒ–TCPæ€§èƒ½ï¼š</p>
<ul>
<li>æŠŠæœåŠ¡å™¨å†…æ ¸å‡çº§åˆ°æœ€æ–°ç‰ˆæœ¬</li>
<li>ç¡®ä¿ cwnd å¤§å°ä¸º 10</li>
<li>ç¦ç”¨ç©ºé—²åçš„æ…¢å¯åŠ¨</li>
<li>ç¡®ä¿å¯åŠ¨çª—å£ç¼©æ”¾</li>
<li>å‡å°‘ä¼ è¾“å†—ä½™æ•°æ®</li>
<li>å‹ç¼©è¦ä¼ è¾“çš„æ•°æ®</li>
<li>æŠŠæœåŠ¡å™¨æ”¾åˆ°ç¦»ç”¨æˆ·è¿‘çš„åœ°æ–¹ä»¥å‡å°‘å¾€è¿”æ—¶é—´</li>
<li>å°½æœ€å¤§å¯èƒ½é‡ç”¨å·²ç»å»ºç«‹çš„ TCP è¿æ¥</li>
</ul>
</li>
</ol>
<h2 id="UDP"><a href="#UDP" class="headerlink" title="UDP"></a>UDP</h2><ol>
<li><p>æ•°æ®æŠ¥é€šå¸¸åªç”¨æ¥æè¿°é‚£äº›é€šè¿‡ä¸å¯é çš„æœåŠ¡ä¼ è¾“çš„åˆ†ç»„ï¼Œæ—¢ä¸ä¿è¯é€è¾¾ï¼Œä¹Ÿä¸å‘é€å¤±è´¥é€šçŸ¥ï¼›</p>
</li>
<li><p>WebRTCï¼ˆWeb Real-Time Communicationï¼ŒWeb å®æ—¶é€šä¿¡ï¼‰ç€çœ¼äºåœ¨æµè§ˆå™¨ä¸­é€šè¿‡ UDP å®ç°åŸç”Ÿçš„è¯­éŸ³å’Œè§†é¢‘å®æ—¶é€šä¿¡ï¼Œä»¥åŠå…¶ä»–å½¢å¼çš„ P2Pï¼ˆPeer-to-Peerï¼Œ ç«¯åˆ°ç«¯ï¼‰é€šä¿¡ï¼›</p>
</li>
<li><p>UDPå…³é”®å†…å®¹ï¼š</p>
<ul>
<li>ä¸ä¿è¯æ¶ˆæ¯äº¤ä»˜</li>
<li>ä¸ä¿è¯äº¤ä»˜é¡ºåº</li>
<li>ä¸è·Ÿè¸ªè¿æ¥çŠ¶æ€</li>
<li>ä¸éœ€è¦æ‹¥å¡æ§åˆ¶</li>
</ul>
</li>
<li><p>NAT è®¾å¤‡èƒŒåçš„ IP åœ°å€ç©ºé—´å°±å¯ä»¥åœ¨å„ç§ä¸åŒçš„ç½‘ç»œä¸­å¾—åˆ°é‡ç”¨ï¼Œ ä»è€Œè§£å†³åœ°å€è€—å°½é—®é¢˜ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/58ff58ce3eab2f88cd48b70045e8f7e8-114027" alt="IPç½‘ç»œåœ°å€è½¬æ¢å™¨"></p>
</li>
<li><p>å•æ’­ UDP åº”ç”¨ç¨‹åºçš„å»ºè®®ï¼š</p>
<ul>
<li>åº”ç”¨ç¨‹åº å¿…é¡» å®¹å¿å„ç§å› ç‰¹ç½‘è·¯å¾„æ¡ä»¶</li>
<li>åº”ç”¨ç¨‹åº åº”è¯¥ æ§åˆ¶ä¼ è¾“é€Ÿåº¦</li>
<li>åº”ç”¨ç¨‹åº åº”è¯¥ å¯¹æ‰€æœ‰æµé‡è¿›è¡Œæ‹¥å¡æ§åˆ¶</li>
<li>åº”ç”¨ç¨‹åº åº”è¯¥ ä½¿ç”¨ä¸ TCP ç›¸è¿‘çš„å¸¦å®½</li>
<li>åº”ç”¨ç¨‹åº åº”è¯¥ å‡†å¤‡åŸºäºä¸¢åŒ…çš„é‡å‘è®¡æ•°å™¨</li>
<li>åº”ç”¨ç¨‹åº åº”è¯¥ ä¸å‘é€å¤§äºè·¯å¾„ MTU çš„æ•°æ®æŠ¥</li>
<li>åº”ç”¨ç¨‹åº åº”è¯¥ å¤„ç†æ•°æ®æŠ¥ä¸¢å¤±ã€é‡å¤å’Œé‡æ’</li>
<li>åº”ç”¨ç¨‹åº åº”è¯¥ è¶³å¤Ÿç¨³å®šä»¥æ”¯æŒ 2 åˆ†é’Ÿä»¥ä¸Šçš„äº¤ä»˜å»¶è¿Ÿ</li>
<li>åº”ç”¨ç¨‹åº åº”è¯¥ æ”¯æŒ IPv4 UDP æ ¡éªŒå’Œï¼Œå¿…é¡»æ”¯æŒ IPv6 æ ¡éªŒå’Œ</li>
<li>åº”ç”¨ç¨‹åº å¯ä»¥ åœ¨éœ€è¦æ—¶ä½¿ç”¨ keep-aliveï¼ˆæœ€å°é—´éš” 15 ç§’ï¼‰</li>
</ul>
</li>
</ol>
<h2 id="TLS"><a href="#TLS" class="headerlink" title="TLS"></a>TLS</h2><ol>
<li><p>SSLï¼ˆSecure Sockets Layerï¼Œå®‰å…¨å¥—æ¥å­—å±‚ï¼‰åè®®æœ€åˆæ˜¯ç½‘æ™¯å…¬å¸ä¸ºäº†ä¿éšœç½‘ä¸Šäº¤æ˜“å®‰å…¨è€Œå¼€å‘çš„ï¼Œ è¯¥åè®®é€šè¿‡åŠ å¯†æ¥ä¿æŠ¤å®¢æˆ·ä¸ªäººèµ„æ–™ï¼Œ é€šè¿‡è®¤è¯å’Œå®Œæ•´æ€§æ£€æŸ¥æ¥ç¡®ä¿äº¤æ˜“å®‰å…¨ï¼›</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/677fb0301c1766f580b5fca0b35f57d6-75599" alt="TLSå®‰å…¨"></p>
</li>
<li><p>TLS åè®®çš„ç›®æ ‡æ˜¯ä¸ºåœ¨å®ƒä¹‹ä¸Šè¿è¡Œçš„åº”ç”¨æä¾›ä¸‰ä¸ªåŸºæœ¬æœåŠ¡ï¼šåŠ å¯†ã€èº«ä»½éªŒè¯å’Œæ•°æ®å®Œæ•´æ€§</p>
<ul>
<li>åŠ å¯†â€”â€”æ··æ·†æ•°æ®çš„æœºåˆ¶</li>
<li>èº«ä»½éªŒè¯â€”â€”éªŒè¯èº«ä»½æ ‡è¯†æœ‰æ•ˆæ€§çš„æœºåˆ¶</li>
<li>å®Œæ•´æ€§â€”â€”æ£€æµ‹æ¶ˆæ¯æ˜¯å¦è¢«ç¯¡æ”¹æˆ–ä¼ªé€ çš„æœºåˆ¶</li>
</ul>
</li>
<li><p>TLSæ¡æ‰‹ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/af2397c19d23890dfd8e67c2fbc3c22d-262994" alt="TLSæ¡æ‰‹"></p>
</li>
<li><p>ç½‘ç»œä¸Šçš„ä»»æ„ä¸¤ç«¯éƒ½å¯ä»¥ä½¿ç”¨è‡ªå®šä¹‰çš„åè®®è¿›è¡Œé€šä¿¡ï¼</p>
</li>
<li><p>åº”ç”¨å±‚åè®®åå•†ï¼ˆALPNï¼Œ Application Layer Protocol Negotiationï¼‰ä½œä¸ºTLS æ‰©å±•ï¼Œ è®©æˆ‘ä»¬èƒ½åœ¨ TLS æ¡æ‰‹çš„åŒæ—¶åå•†åº”ç”¨åè®®ï¼ˆå›¾ 4-2ï¼‰ ï¼Œ ä»è€Œçœæ‰äº† HTTPçš„ Upgrade æœºåˆ¶æ‰€éœ€çš„é¢å¤–å¾€è¿”æ—¶é—´ï¼›</p>
</li>
<li><p>TLSä¼˜åŒ–å»ºè®®ï¼š</p>
<ul>
<li>å°½é‡å‡å°‘ä¸­é—´è¯ä¹¦é¢å‘æœºæ„çš„æ•°é‡</li>
<li>å¾ˆå¤šç«™ç‚¹ä¼šåœ¨è¯ä¹¦é“¾ä¸­åŒ…å«æ ¹è¯ä¹¦é¢å‘æœºæ„çš„è¯ä¹¦ï¼Œè¿™æ˜¯å®Œå…¨æ²¡æœ‰å¿…è¦çš„</li>
<li>ç†æƒ³çš„è¯ä¹¦é“¾åº”è¯¥åœ¨ 2 KB æˆ– 3 KB å·¦å³ï¼ŒåŒæ—¶è¿˜èƒ½ç»™æµè§ˆå™¨æä¾›æ‰€æœ‰å¿…è¦çš„ä¿¡æ¯ï¼Œ é¿å…ä¸å¿…è¦çš„å¾€è¿”æˆ–è€…å¯¹è¯ä¹¦æœ¬èº«é¢å¤–çš„è¯·æ±‚</li>
</ul>
</li>
</ol>
<h1 id="æ— çº¿ç½‘ç»œ"><a href="#æ— çº¿ç½‘ç»œ" class="headerlink" title="æ— çº¿ç½‘ç»œ"></a>æ— çº¿ç½‘ç»œ</h1><h2 id="æ— çº¿ç½‘ç»œåŸºç¡€"><a href="#æ— çº¿ç½‘ç»œåŸºç¡€" class="headerlink" title="æ— çº¿ç½‘ç»œåŸºç¡€"></a>æ— çº¿ç½‘ç»œåŸºç¡€</h2><ol>
<li><p>Wi-Fiã€è“ç‰™ã€ZigBeeã€NFCã€WiMAXã€LTEã€HSPAã€EVDOï¼Œ ä»¥åŠæ—©å…ˆçš„ 3G æ ‡å‡†ã€å«æ˜ŸæœåŠ¡ç­‰ï¼Œéƒ½æ˜¯æˆ‘ä»¬ä»Šå¤©å¸ç©ºè§æƒ¯çš„æ— çº¿ç½‘ç»œæŠ€æœ¯ï¼›</p>
</li>
<li><p>æ— çº¿ç½‘ç»œç±»å‹ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/5926a92ad60c348670abc37db26d3b87-53177" alt="æ— çº¿ç½‘ç»œç±»å‹"></p>
</li>
<li><p>æ— è®ºä½¿ç”¨å“ªç§æ— çº¿æŠ€æœ¯ï¼Œ æ‰€æœ‰é€šä¿¡æ–¹æ³•éƒ½æœ‰ä¸€ä¸ªæœ€å¤§çš„ä¿¡é“å®¹é‡ï¼Œ è¿™ä¸ªå®¹é‡æ˜¯ç”±ç›¸åŒçš„åº•å±‚åŸç†å†³å®šçš„ï¼›</p>
</li>
<li><p>åœ¨å…¶ä»–æ¡ä»¶ç­‰åŒçš„æƒ…å†µä¸‹ï¼Œ é¢‘ç‡èŒƒå›´åŠ å€ï¼Œ ä¼ è¾“é€Ÿåº¦åŠ å€ï¼›</p>
</li>
<li><p>ä¿¡å™ªæ¯”è¡¡é‡çš„æ˜¯é¢„æœŸä¿¡å·å¼ºåº¦ä¸èƒŒæ™¯å™ªå£°åŠå¹²æ‰°ä¹‹é—´çš„æ¯”å€¼ã€‚èƒŒæ™¯å™ªå£°è¶Šå¤§ï¼Œæºå¸¦ä¿¡æ¯çš„ä¿¡å·å°±å¿…é¡»è¶Šå¼ºï¼›</p>
</li>
<li><p>å½±å“æ— çº¿ç½‘ç»œæ€§èƒ½çš„å› ç´ ï¼ˆéƒ¨åˆ†ï¼‰ï¼š</p>
<ul>
<li>æ”¶å‘ç«¯çš„è·ç¦»</li>
<li>å½“å‰ä½ç½®çš„èƒŒæ™¯å™ªå£°å¤§å°</li>
<li>æ¥è‡ªåŒä¸€ç½‘ç»œï¼ˆå°åŒºï¼‰å…¶ä»–ç”¨æˆ·çš„å¹²æ‰°å¤§å°</li>
<li>æ¥è‡ªç›¸é‚»ç½‘ç»œï¼ˆå°åŒºï¼‰å…¶ä»–ç”¨æˆ·çš„å¹²æ‰°å¤§å°</li>
<li>ä¸¤ç«¯å‘å°„åŠŸç‡å¤§å°</li>
<li>å¤„ç†èƒ½åŠ›åŠè°ƒåˆ¶ç®—æ³•</li>
</ul>
</li>
</ol>
<h2 id="WIFI"><a href="#WIFI" class="headerlink" title="WIFI"></a>WIFI</h2><ol>
<li><p>Wi-Fi æ˜¯ Wi-Fi è”ç›Ÿï¼ˆWi-Fi Allianceï¼‰çš„æ³¨å†Œå•†æ ‡ï¼Œ è¯¥ç»„ç»‡æ˜¯ä¸€ä¸ªåŒä¸šå…¬ä¼šï¼Œ è‡´åŠ›äºæ¨å¹¿æ— çº¿ LAN æŠ€æœ¯ï¼Œ åŒæ—¶æä¾›äº’æ“ä½œæ ‡å‡†å’Œæµ‹è¯•ï¼›</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/12e43fbd15f0ca6b860948f2503ca699-82553" alt="WIFIç‰©ç†å±‚"></p>
</li>
<li><p>Wi-Fiæ€§èƒ½é‡è¦å› ç´ ï¼š</p>
<ul>
<li>Wi-Fi ä¸ä¿è¯ç”¨æˆ·çš„å¸¦å®½å’Œå»¶è¿Ÿæ—¶é—´</li>
<li>Wi-Fi çš„ä¿¡å™ªæ¯”ä¸åŒï¼Œå¸¦å®½ä¹Ÿéšä¹‹ä¸åŒ</li>
<li>Wi-Fi çš„å‘å°„åŠŸç‡è¢«é™åˆ¶åœ¨ 200 mW ä»¥å†…</li>
<li>Wi-Fi åœ¨ 2.4 GHz å’Œè¾ƒæ–°çš„ 5 GHz é¢‘æ®µä¸­çš„é¢‘è°±æœ‰é™</li>
<li>Wi-Fi ä¿¡é“åˆ†é…å†³å®šäº†æ¥å…¥ç‚¹ä¿¡å·ä¼šé‡å </li>
<li>Wi-Fi æ¥å…¥ç‚¹ä¸å®¢æˆ·ç«¯äº‰ç”¨åŒä¸€ä¸ªæ— çº¿ä¿¡é“</li>
</ul>
</li>
<li><p>TCP ä¸¢åŒ…åœ¨ Wi-Fi ç½‘ç»œä¸­åŒæ ·å­˜åœ¨ï¼Œ å› è€Œå…¶ TCP å±‚çš„ä¼ è¾“é€Ÿåº¦ä¸åŠå¤§å¤šæ•°æœ‰çº¿ç½‘ç»œï¼›</p>
</li>
</ol>
<h2 id="ç§»åŠ¨ç½‘ç»œ"><a href="#ç§»åŠ¨ç½‘ç»œ" class="headerlink" title="ç§»åŠ¨ç½‘ç»œ"></a>ç§»åŠ¨ç½‘ç»œ</h2><ol>
<li><p>ç§»åŠ¨ç½‘ç»œç‰ˆæœ¬ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/96ae1754ef50f2f10d442992e41f1939-40110" alt="ç§»åŠ¨ç½‘ç»œç‰ˆæœ¬"></p>
</li>
<li><p>LTE ä¸å‰ä»£æ ‡å‡†çš„ä¸»è¦åŒºåˆ«å’Œç‰¹ç‚¹å¦‚ä¸‹ï¼š</p>
<ul>
<li>æ ¸å¿ƒç½‘ç»œå…¨éƒ¨ä¸º IP åˆ†ç»„äº¤æ¢ç½‘</li>
<li>ç®€åŒ–äº†ç½‘ç»œæ¶æ„ï¼Œé™ä½å»ºè®¾æˆæœ¬</li>
<li>ç”¨æˆ·é¢å’Œæ§åˆ¶é¢çš„ä½å»¶è¿Ÿæ—¶é—´ï¼ˆåˆ†åˆ«ä¸º &lt;10 ms å’Œ &lt;100 msï¼‰</li>
<li>æ–°æ— çº¿æ¥å£åŠè°ƒåˆ¶ç®—æ³•å®ç°äº†é«˜ååé‡ï¼ˆ 100 Mbit/s ï¼‰</li>
<li>å¯ç”¨äºè¾ƒå¤§çš„å¸¦å®½é…ç½®åŠè¿è¥å•†é›†ç¾¤</li>
<li>è¦æ±‚æ‰€æœ‰è®¾å¤‡æ”¯æŒ MIMO</li>
</ul>
</li>
</ol>
]]></content>
      <categories>
        <category>Web</category>
      </categories>
  </entry>
  <entry>
    <title>Work Memo</title>
    <url>/2020/05/05/Work-Memo/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>åœ¨å…¬å¸é‡Œä¸Šç­æœ‰å¾ˆå¤šå†…å®¹ä¸æ˜¯ç‰¹åˆ«ç”¨çš„é¢‘ç¹ï¼Œä½†æ˜¯åˆä¼šå‡ºç°éœ€è¦çš„æ—¶å€™æ‰¾ä¸åˆ°ï¼Œè¿™ä¸ªæ—¶å€™å¤‡ä»½ä¸€äº›Memoå°±éå¸¸é‡è¦äº†ï¼Œä¹‹å‰ç”¨çš„å°è±¡ç¬”è®°ï¼Œé˜²æ­¢çº¢åŒºå°é”ï¼Œè¿˜æ˜¯ä½¿ç”¨hexoåšå®¢æ¥æ‰˜ç®¡å§ï¼</p>
<p><strong><em>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”Just Covert the Passwdâ€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</em></strong></p>
<p><strong><em>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”Just Covert the Passwdâ€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</em></strong></p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="éƒ¨é—¨wifi"><a href="#éƒ¨é—¨wifi" class="headerlink" title="éƒ¨é—¨wifi"></a>éƒ¨é—¨wifi</h2><ol>
<li>wifiåç§°ï¼š<strong>IOT_YF_5072</strong></li>
<li>wifiå¯†ç ï¼šznjs5072in2019.</li>
</ol>
<h2 id="ç¾å±…æµ‹è¯•ç‰ˆæœ¬"><a href="#ç¾å±…æµ‹è¯•ç‰ˆæœ¬" class="headerlink" title="ç¾å±…æµ‹è¯•ç‰ˆæœ¬"></a><del>ç¾å±…æµ‹è¯•ç‰ˆæœ¬</del></h2><ol>
<li><del>SITï¼š</del><ul>
<li><del>iOS ï¼š <a href="http://fir.im/meijusit" target="_blank" rel="noopener">http://fir.im/meijusit</a></del></li>
<li><del>Androidï¼š <a href="https://fir.im/androidmeiju5" target="_blank" rel="noopener">https://fir.im/androidmeiju5</a></del></li>
<li><del>å¯†ç ï¼šmidea123</del></li>
</ul>
</li>
<li><del>UATï¼š</del><ul>
<li><del>iOSï¼š <a href="https://fir.im/meijuuat" target="_blank" rel="noopener">https://fir.im/meijuuat</a></del></li>
<li><del>Android: <a href="https://fir.im/androiduat" target="_blank" rel="noopener">https://fir.im/androiduat</a></del></li>
<li><del>å¯†ç ï¼šmidea123</del></li>
</ul>
</li>
<li><del>PROï¼š</del><ul>
<li><del>iOSï¼š <a href="https://fir.im/meijupro" target="_blank" rel="noopener">https://fir.im/meijupro</a></del></li>
<li><del>Android: <a href="https://fir.im/anmjpro" target="_blank" rel="noopener">https://fir.im/anmjpro</a></del></li>
<li><del>å¯†ç ï¼šmidea123</del></li>
</ul>
</li>
</ol>
<h2 id="ç¾å±…æœ€æ–°ç‰ˆæœ¬"><a href="#ç¾å±…æœ€æ–°ç‰ˆæœ¬" class="headerlink" title="ç¾å±…æœ€æ–°ç‰ˆæœ¬"></a>ç¾å±…æœ€æ–°ç‰ˆæœ¬</h2><ol>
<li>SITç¯å¢ƒï¼š<ul>
<li>Androidï¼š <a href="https://www.pgyer.com/androidmeijusit" target="_blank" rel="noopener">https://www.pgyer.com/androidmeijusit</a></li>
<li>iOSï¼š <a href="https://www.pgyer.com/iosmeijusit" target="_blank" rel="noopener">https://www.pgyer.com/iosmeijusit</a></li>
<li>å¯†ç ï¼šmidea123</li>
</ul>
</li>
<li>DEVç¯å¢ƒï¼š<ul>
<li>Androidï¼š <a href="https://www.pgyer.com/androidmeijudev" target="_blank" rel="noopener">https://www.pgyer.com/androidmeijudev</a></li>
<li>iOSï¼š <a href="https://www.pgyer.com/iosmeijudev" target="_blank" rel="noopener">https://www.pgyer.com/iosmeijudev</a></li>
<li>å¯†ç ï¼šmidea123</li>
</ul>
</li>
<li>PROç¯å¢ƒï¼š<ul>
<li>Androidï¼š <a href="https://www.pgyer.com/androidmeijupro" target="_blank" rel="noopener">https://www.pgyer.com/androidmeijupro</a></li>
<li>iOSï¼š <a href="https://www.pgyer.com/iosmeijupro" target="_blank" rel="noopener">https://www.pgyer.com/iosmeijupro</a></li>
<li>å¯†ç ï¼šmidea123</li>
</ul>
</li>
</ol>
<h2 id="çº¢åŒºæ¡Œé¢äº‘"><a href="#çº¢åŒºæ¡Œé¢äº‘" class="headerlink" title="çº¢åŒºæ¡Œé¢äº‘"></a>çº¢åŒºæ¡Œé¢äº‘</h2><ul>
<li><a href="http://wuxi-red.midea.com/" target="_blank" rel="noopener">æ¡Œé¢äº‘</a></li>
</ul>
<h2 id="åç«¯æµ‹è¯•ç¯å¢ƒ"><a href="#åç«¯æµ‹è¯•ç¯å¢ƒ" class="headerlink" title="åç«¯æµ‹è¯•ç¯å¢ƒ"></a>åç«¯æµ‹è¯•ç¯å¢ƒ</h2><ol>
<li>kibanaï¼š<ol>
<li>åœ°å€ï¼š<a href="http://log.zhinengxiyifang.cn:5602/" target="_blank" rel="noopener">http://log.zhinengxiyifang.cn:5602/</a></li>
<li>ç”¨æˆ·ï¼šujing</li>
<li>å¯†ç ï¼šdagan50tian</li>
</ol>
</li>
<li>æ¥å£æµ‹è¯•ï¼š<ol>
<li>åœ°å€ï¼š<a href="http://114.215.202.178:3002/explorer/" target="_blank" rel="noopener">http://114.215.202.178:3002/explorer/</a></li>
</ol>
</li>
</ol>
<hr>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>å½¢æˆè‰¯å¥½çš„è®°å½•ä¹ æƒ¯ï¼ŒåŠå…¬ä¼šç›¸å¯¹è½»æ¾å¾ˆå¤šï¼å¦‚æœMemoå¤±æ•ˆçš„è¯ï¼Œä¼šåŠæ—¶æ›´æ–°ï¼</p>
]]></content>
      <categories>
        <category>Work</category>
      </categories>
  </entry>
  <entry>
    <title>Yaml Quick Start</title>
    <url>/2020/04/22/Yaml-Quick-Start/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>YAMLæ˜¯ä¸€ç§ç›´è§‚çš„èƒ½å¤Ÿè¢«ç”µè„‘è¯†åˆ«çš„æ•°æ®åºåˆ—åŒ–æ ¼å¼ï¼Œæ˜¯ä¸€ä¸ªå¯è¯»æ€§é«˜å¹¶ä¸”å®¹æ˜“è¢«äººç±»é˜…è¯»ï¼Œå®¹æ˜“å’Œè„šæœ¬è¯­è¨€äº¤äº’ï¼Œç”¨æ¥è¡¨è¾¾èµ„æ–™åºåˆ—çš„ç¼–ç¨‹è¯­è¨€ï¼Œç±»ä¼¼äºæ ‡å‡†é€šç”¨æ ‡è®°è¯­è¨€çš„å­é›†XMLçš„æ•°æ®æè¿°è¯­è¨€ï¼Œè¯­æ³•æ¯”XMLç®€å•å¾ˆå¤šã€‚YAMLæ˜¯â€YAML Ainâ€™t a Markup Languageâ€ï¼ˆYAMLä¸æ˜¯ä¸€ç§ç½®æ ‡è¯­è¨€ï¼‰çš„é€’å½’ç¼©å†™ã€‚åœ¨SpringBootçš„é…ç½®æ–‡ä»¶ä¸­ï¼Œæ¨èä½¿ç”¨yamlæ–‡ä»¶è¿›è¡Œè®°å½•ï¼Œä¹‹å‰å­¦ä¹ Dockerçš„æ—¶å€™è¿›è¡Œäº†å­¦ä¹ ï¼Œåœ¨è¿™é‡Œåœ¨è¿›è¡Œå·©å›ºæ€§å­¦ä¹ ï¼</p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="Yamlæ ¼å¼"><a href="#Yamlæ ¼å¼" class="headerlink" title="Yamlæ ¼å¼"></a>Yamlæ ¼å¼</h2><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">environments:</span></span><br><span class="line">    <span class="attr">dev:</span></span><br><span class="line">        <span class="attr">url:</span> <span class="string">http://dev.bar.com</span></span><br><span class="line">        <span class="attr">name:</span> <span class="string">Developer</span> <span class="string">Setup</span></span><br><span class="line">    <span class="attr">prod:</span></span><br><span class="line">        <span class="attr">url:</span> <span class="string">http://foo.bar.com</span></span><br><span class="line">        <span class="attr">name:</span> <span class="string">My</span> <span class="string">Cool</span> <span class="string">App</span></span><br><span class="line"><span class="attr">my:</span></span><br><span class="line">    <span class="attr">servers:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">dev.bar.com</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">foo.bar.com</span></span><br></pre></td></tr></table></figure>

<h2 id="è§„èŒƒ"><a href="#è§„èŒƒ" class="headerlink" title="è§„èŒƒ"></a>è§„èŒƒ</h2><ol>
<li>YAMLä½¿ç”¨å†’å·åŠ ç¼©è¿›çš„æ–¹å¼ä»£è¡¨å±‚çº§ï¼ˆå±æ€§ï¼‰å…³ç³»ï¼Œä½¿ç”¨çŸ­æ¨ªæ (-)ä»£è¡¨æ•°ç»„å…ƒç´ ï¼›</li>
<li>YAMLåšé…ç½®æ–‡ä»¶ä¹Ÿä¸é”™ï¼Œå†™YAMLè¦æ¯”å†™XMLå¿«å¾—å¤š(æ— éœ€å…³æ³¨æ ‡ç­¾æˆ–å¼•å·)ï¼Œå¹¶ä¸”æ¯”iniæ–‡æ¡£åŠŸèƒ½æ›´å¼ºï¼›</li>
<li>æ³¨æ„yamlçš„ç©ºæ ¼ï¼›</li>
</ol>
<h2 id="æ•°æ®æ ¼å¼"><a href="#æ•°æ®æ ¼å¼" class="headerlink" title="æ•°æ®æ ¼å¼"></a>æ•°æ®æ ¼å¼</h2><ol>
<li>YAMLä¸­å…è®¸è¡¨ç¤ºä¸‰ç§æ ¼å¼ï¼Œåˆ†åˆ«æ˜¯å¸¸é‡å€¼ï¼Œå¯¹è±¡å’Œæ•°ç»„ï¼›</li>
<li>- è¡¨ç¤ºæ•°ç»„å…ƒç´ ,ä½¿ç”¨ä¸€ä¸ªçŸ­æ¨ªçº¿åŠ ä¸€ä¸ªç©ºæ ¼ä»£è¡¨ä¸€ä¸ªæ•°ç»„é¡¹;</li>
<li>ä½¿ç”¨#ä½œä¸ºæ³¨é‡Šï¼ŒYAMLä¸­åªæœ‰è¡Œæ³¨é‡Šï¼›</li>
<li>æ ¼å¼è¦æ±‚ï¼š<ol>
<li><strong>YAMLå¯¹å¤§å°å†™æ•æ„Ÿï¼›</strong></li>
<li><strong>ä½¿ç”¨ç¼©è¿›ä»£è¡¨å±‚çº§å…³ç³»ï¼›</strong></li>
<li><strong>ç¼©è¿›åªèƒ½ä½¿ç”¨ç©ºæ ¼ï¼Œä¸èƒ½ä½¿ç”¨TABï¼Œä¸è¦æ±‚ç©ºæ ¼ä¸ªæ•°ï¼Œåªéœ€è¦ç›¸åŒå±‚çº§å·¦å¯¹é½(ä¸€èˆ¬ä¸ªæˆ–4ä¸ªç©ºæ ¼)ã€‚</strong></li>
</ol>
</li>
<li>å¯¹è±¡ä½¿ç”¨å†’å·ä»£è¡¨ï¼Œæ ¼å¼ä¸ºkey:valueã€‚å†’å·åé¢è¦åŠ ä¸€ä¸ªç©ºæ ¼ï¼Œæ”¯æŒæµå¼ï¼ˆflowï¼‰è¯­æ³•è¡¨ç¤ºå¯¹è±¡ï¼›</li>
</ol>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">key:</span> <span class="string">&#123;child-key:</span> <span class="string">value,</span> <span class="attr">child-key2:</span> <span class="string">value2&#125;</span></span><br></pre></td></tr></table></figure>

<ol start="6">
<li>YAMLä¸­æä¾›äº†å¤šç§å¸¸é‡ç»“æ„ï¼ŒåŒ…æ‹¬ï¼šæ•´æ•°ï¼Œæµ®ç‚¹æ•°ï¼Œå­—ç¬¦ä¸²ï¼ŒNULLï¼Œæ—¥æœŸï¼Œå¸ƒå°”ï¼Œæ—¶é—´;</li>
</ol>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">boolean:</span> </span><br><span class="line">    <span class="bullet">-</span> <span class="literal">TRUE</span>    <span class="comment">#true,Trueéƒ½å¯ä»¥</span></span><br><span class="line">    <span class="bullet">-</span> <span class="literal">FALSE</span>   <span class="comment">#false,Falseéƒ½å¯ä»¥</span></span><br><span class="line"><span class="attr">float:</span> </span><br><span class="line">    <span class="bullet">-</span> <span class="number">3.14</span></span><br><span class="line">    <span class="bullet">-</span> <span class="number">6.8523015e+5</span>    <span class="comment">#å¯ä»¥ä½¿ç”¨ç§‘å­¦è®¡æ•°æ³•</span></span><br><span class="line"><span class="attr">int:</span> </span><br><span class="line">    <span class="bullet">-</span> <span class="number">123</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">0b1010_0111_0100_1010_1110</span>   <span class="comment">#äºŒè¿›åˆ¶è¡¨ç¤º</span></span><br><span class="line"><span class="attr">null:</span> </span><br><span class="line">    <span class="attr">nodeName:</span> <span class="string">â€™nodeâ€™</span></span><br><span class="line">    <span class="attr">parent:</span> <span class="string">~</span> <span class="comment">#ä½¿ç”¨~è¡¨ç¤ºnull</span></span><br><span class="line"><span class="attr">string:</span> </span><br><span class="line">    <span class="bullet">-</span> <span class="string">å“ˆå“ˆ</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">'Hello World'</span> <span class="comment">#å¯ä»¥ä½¿ç”¨åŒå¼•å·æˆ–è€…å•å¼•å·åŒ…è£¹ç‰¹æ®Šç¬¦å·</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">newline</span></span><br><span class="line">      <span class="string">newline2</span> <span class="comment">#å­—ç¬¦ä¸²å¯ä»¥æ‹†æˆå¤šè¡Œï¼Œæ¯ä¸€è¡Œä¼šè¢«è½¬æ¢æˆä¸€ä¸ªç©ºæ ¼</span></span><br><span class="line"><span class="attr">date:</span> </span><br><span class="line">    <span class="bullet">-</span> <span class="number">2018</span><span class="number">-02</span><span class="number">-17</span> <span class="comment">#æ—¥æœŸå¿…é¡»ä½¿ç”¨ISO 8601æ ¼å¼ï¼Œå³yyyy-MM-dd</span></span><br><span class="line"><span class="attr">datetime:</span> </span><br><span class="line">    <span class="bullet">-</span> <span class="number">2018</span><span class="number">-02</span><span class="string">-17T15:02:31+08:00</span> <span class="comment">#æ—¶é—´ä½¿ç”¨ISO 8601æ ¼å¼ï¼Œæ—¶é—´å’Œæ—¥æœŸä¹‹é—´ä½¿ç”¨Tè¿æ¥ï¼Œæœ€åä½¿ç”¨+ä»£è¡¨æ—¶åŒº</span></span><br></pre></td></tr></table></figure>

<ol start="7">
<li>â€”YAMLå¯ä»¥åœ¨åŒä¸€ä¸ªæ–‡ä»¶ä¸­ï¼Œä½¿ç”¨â€”è¡¨ç¤ºä¸€ä¸ªæ–‡æ¡£çš„å¼€å§‹,å¸¸å¸¸ä½¿ç”¨â€”æ¥åˆ†å‰²ä¸åŒçš„å†…å®¹ï¼Œæ¯”å¦‚è®°å½•æ—¥å¿—;</li>
<li>â€¦ å’Œâ€”é…åˆä½¿ç”¨ï¼Œåœ¨ä¸€ä¸ªé…ç½®æ–‡ä»¶ä¸­ä»£è¡¨ä¸€ä¸ªæ–‡ä»¶çš„ç»“æŸ;</li>
<li>å¼•ç”¨ã€‚é‡å¤çš„å†…å®¹åœ¨YAMLä¸­å¯ä»¥ä½¿ç”¨&amp;æ¥å®Œæˆé”šç‚¹å®šä¹‰ï¼Œä½¿ç”¨*æ¥å®Œæˆé”šç‚¹å¼•ç”¨:</li>
</ol>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">hr:</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">Mark</span> <span class="string">McGwire</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">&amp;SS</span> <span class="string">Sammy</span> <span class="string">Sosa</span></span><br><span class="line"><span class="attr">rbi:</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">*SS</span> </span><br><span class="line"><span class="bullet">-</span> <span class="string">Ken</span> <span class="string">Griffey</span></span><br></pre></td></tr></table></figure>

<ol start="10">
<li>åˆå¹¶å†…å®¹ã€‚ä¸»è¦å’Œé”šç‚¹é…åˆä½¿ç”¨ï¼Œå¯ä»¥å°†ä¸€ä¸ªé”šç‚¹å†…å®¹ç›´æ¥åˆå¹¶åˆ°ä¸€ä¸ªå¯¹è±¡ä¸­;</li>
</ol>
<h2 id="èµ„æºé“¾æ¥"><a href="#èµ„æºé“¾æ¥" class="headerlink" title="èµ„æºé“¾æ¥"></a>èµ„æºé“¾æ¥</h2><ol>
<li>å®˜æ–¹ç½‘å€ï¼š<a href="https://yaml.org/ï¼›" target="_blank" rel="noopener">https://yaml.org/ï¼›</a></li>
<li>å­¦ä¹ ç½‘å€ï¼š<a href="http://nodeca.github.io/js-yaml/" target="_blank" rel="noopener">http://nodeca.github.io/js-yaml/</a></li>
</ol>
<hr>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>å­¦ä¹ è¿™ç§æ ‡è®°è¯­è¨€ç›¸å¯¹æ¥è¯´åªè¦çŸ¥é“æ ¼å¼å°±å¾ˆç®€å•ï¼Œå¤§éƒ¨åˆ†çš„æ—¶å€™éƒ½æ˜¯åœ¨ä½¿ç”¨åŸºæœ¬è¯­æ³•æ ¼å¼ï¼Œå¯èƒ½æ˜¯ä¸ºäº†æ›´å¥½çš„å…¼å®¹æ€§æŠŠï¼Œæˆ‘åœ¨Spring Bootçš„å­¦ä¹ ä¸­å¹¶æ²¡æœ‰çœ‹åˆ°ä½¿ç”¨é”šç‚¹è¿™ç§ç±»å‹ï¼Œå› æ­¤çŸ¥é“è¿™äº›åŸºç¡€çš„è¯­æ³•æ ¼å¼åº”è¯¥è¶³å¤Ÿåº”ä»˜æˆ‘ä»¬çš„æ—¥å¸¸å¼€å‘è¿‡ç¨‹ã€‚</p>
]]></content>
      <categories>
        <category>Code</category>
      </categories>
  </entry>
  <entry>
    <title>ä»£ç ä¹‹å¤–çš„åŠŸå¤«ï¼šç¨‹åºå‘˜ç²¾è¿›ä¹‹è·¯</title>
    <url>/2020/05/25/%E4%BB%A3%E7%A0%81%E4%B9%8B%E5%A4%96%E7%9A%84%E5%8A%9F%E5%A4%AB%EF%BC%9A%E7%A8%8B%E5%BA%8F%E5%91%98%E7%B2%BE%E8%BF%9B%E4%B9%8B%E8%B7%AF/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>è½¯ä»¶å¼€å‘äººå‘˜çš„èŒä¸šå‘å±•è·¯çº¿æ›´åƒæ˜¯èºæ—‹çº¿è€Œéç›´çº¿ï¼è¿™éƒ¨åˆ†ä¸æ˜¯è®²è¿°å†™ä»€ä¹ˆæ ·çš„ä»£ç ï¼Œè€Œæ˜¯å™è¿°å¦‚ä½•æ€è€ƒï¼Œå¦‚ä½•æˆé•¿ï¼Œå¦‚ä½•è§„åˆ’è‡ªå·±çš„ç¨‹åºå‘˜ä¹‹è·¯ï¼<strong>æ¨èä¹¦ç±ï¼šã€Šä»£ç ä¹‹å¤–çš„åŠŸå¤«ï¼šç¨‹åºå‘˜ç²¾è¿›ä¹‹è·¯ã€‹Â· [ç¾] Gregory T. Brown è‘— æå¿— è¯‘</strong>            </p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="å–„ç”¨è®¾è®¡åŸå‹ï¼Œæ¢ç´¢é¡¹ç›®åˆ›æ„"><a href="#å–„ç”¨è®¾è®¡åŸå‹ï¼Œæ¢ç´¢é¡¹ç›®åˆ›æ„" class="headerlink" title="å–„ç”¨è®¾è®¡åŸå‹ï¼Œæ¢ç´¢é¡¹ç›®åˆ›æ„"></a>å–„ç”¨è®¾è®¡åŸå‹ï¼Œæ¢ç´¢é¡¹ç›®åˆ›æ„</h2><ol>
<li>ä¸è®ºåšä»€ä¹ˆäº§å“æˆ–é¡¹ç›®ï¼Œé¦–è¦ä»»åŠ¡éƒ½æ˜¯<strong>å°½å¿«å‘æ˜å’Œå®ç°å®¢æˆ·å¤´è„‘ä¸­çš„éœ€æ±‚</strong>ï¼›</li>
<li>é«˜æ•ˆçš„åé¦ˆç¯æœ‰åˆ©äºå¿«é€Ÿè¯†åˆ«æ½œåœ¨çš„ä¸è‰¯è®¾è®¡ï¼Œå¹¶å¯¹æ­¤æå‡ºè§£å†³æ–¹æ¡ˆï¼Œä»¥å…æ—¥ååœ¨æ›´å…³é”®çš„é˜¶æ®µæµªè´¹å¤§é‡æ—¶é—´    å’Œç²¾åŠ›ï¼›</li>
<li>é€šè¿‡<strong>çº¿æ¡†å›¾å‘å¤§å®¶è§£é‡Šå¾…å¼€å‘åº”ç”¨çš„åŸºæœ¬ç»“æ„</strong>ï¼ŒåŒæ—¶è®©å¤§å®¶éƒ½äº†è§£éœ€è¦å®Œæˆä»€ä¹ˆå·¥ä½œï¼Œä»¥å…å› è¿‡åº¦å…³æ³¨æŠ€æœ¯ç»†èŠ‚è€Œè¿·å¤±äº†å¤§æ–¹å‘ï¼›</li>
<li>ç¼–ç¨‹ä¹‹åˆç«‹å³æ­å»ºæµ‹è¯•ç³»ç»Ÿï¼Œå…¨é¢æ¢è®¨ä¸è¶³ï¼Œ æ”¹å–„è¿½æ±‚å®æ•ˆï¼Œæ—©é—®å¤šé—®ï¼Œ éªŒè¯è®¾æƒ³ï¼›         </li>
<li>æ­å»ºä¸€ä¸ªåŸºæœ¬æ¡†æ¶ï¼Œåœ¨è¿™ä¸ªå·²æœ‰çš„æ¡†æ¶ä¸­å‘æ˜çœŸæ­£çš„é—®é¢˜ï¼Œå¹¶è¯•ç€å»è§£å†³ï¼›å¦‚æœä¸€å¼€å§‹å°±ç›´æ¥è€ƒè™‘æ•´ä¸ªé—®é¢˜æ€ä¹ˆè§£å†³ï¼Œå°±ä¼šå¾ˆéš¾æ‰¾åˆ°ä¸€ä¸ªåˆ‡å…¥ç‚¹ï¼Œè¿™æ ·åœæ»çš„æ—¶é—´å°±ä¼šæ›´é•¿ï¼</li>
<li>åŸå‹å¯ä»¥å¸®åŠ©æˆ‘ä»¬æ›´å¿«åœ°åšå‡ºæœ‰ç”¨çš„äº§å“ï¼Œä½†ä¹Ÿå¯èƒ½è®©æˆ‘ä»¬å¤±è´¥å¾—æ›´å¿«ï¼Œå¦‚æœä¸ç”¨èŠ±å¤ªå¤šæ—¶é—´å°±èƒ½è¾¨è®¤å‡ºæ­»èƒ¡åŒï¼Œé‚£å°±æœ‰æ›´å¤šçš„æ—¶é—´å’Œç²¾åŠ›å»å¯»æ‰¾æ­£ç¡®çš„è·¯ã€‚</li>
<li>åœ¨é¡¹ç›®æ—©æœŸå»ºç«‹èµ·ä¸€äº›è¯šæ„å’Œä¿¡ä»»ï¼Œå¯ä»¥ç»™äººä¸€ç§åŠ¨åŠ›ï¼Œè®©äººåœ¨å•ƒåˆ°ä»»ä½•åˆ›æ–°å·¥ä½œéƒ½æ— æ³•é¿å…çš„â€œç¡¬éª¨å¤´â€æ—¶ï¼Œèƒ½å¤ŸåšæŒä¸‹å»ã€‚                    </li>
</ol>
<h2 id="è§‚å¯Ÿå¢é‡å˜æ›´ï¼Œå‘æ˜éšè—ä¾èµ–"><a href="#è§‚å¯Ÿå¢é‡å˜æ›´ï¼Œå‘æ˜éšè—ä¾èµ–" class="headerlink" title="è§‚å¯Ÿå¢é‡å˜æ›´ï¼Œå‘æ˜éšè—ä¾èµ–"></a>è§‚å¯Ÿå¢é‡å˜æ›´ï¼Œå‘æ˜éšè—ä¾èµ–</h2><ol>
<li>ä¸ºäº†é¼“åŠ±è¿™ç§åŸºäºç¤¾åŒºåˆ†äº«å­¦ä¹ èµ„æ–™çš„å‘å±•æ¨¡å¼ï¼Œä½ éœ€è¦æ­å»ºä¸€ä¸ªå…¬å¼€çš„ç»´åŸºç³»ç»Ÿï¼Œä½¿å®ƒä¸å®˜æ–¹çŸ¥è¯†åº“ç½‘ç«™ååŒè¿è¡Œï¼›</li>
<li>å¯¹æ•°æ®åº“æ¨¡å¼æ‰€åšçš„ä»»ä½•ä¿®æ”¹éƒ½åº”è¯¥è€ƒè™‘åˆ°æ•°æ®çš„ä¸€è‡´æ€§ï¼Œä¸ç®¡æ–°ç‰¹æ€§åœ¨ä»£ç å±‚é¢ä¸Šå¤šä¹ˆç‹¬ç«‹ï¼Œåœ¨æ•°æ®å±‚é¢ä¸Šä»æœ‰å¯èƒ½å­˜åœ¨éšè—çš„ä¾èµ–å…³ç³»ï¼›</li>
<li>é›†æˆå¤–éƒ¨æœåŠ¡ä¸€èˆ¬æ˜¯éå¸¸è®©äººå¤´ç–¼çš„å·¥ä½œï¼Œå› ä¸ºä¼šå‡ºç°å„ç§å¥‡å¥‡æ€ªæ€ªã€ä»¤äººååˆ†ä¸æ‚¦çš„é—®é¢˜ ï¼›</li>
<li>ä¸è¦å› ä¸ºæŸä¸ªå˜æ›´æ²¡æœ‰æ˜æ˜¾æ”¹å˜ç°æœ‰ç‰¹æ€§ï¼Œå°±è®¤ä¸ºå®ƒä¼šå‘åå…¼å®¹æˆ–ç»å¯¹å®‰å…¨ï¼Œç›¸åï¼Œåº”è¯¥å¯¹éšè—çš„ä¾èµ–å…³ç³»éšæ—¶ä¿æŒè­¦æƒ•ï¼Œå³ä½¿è¿›è¡Œçš„æ˜¯æœ€ç®€å•çš„æ›´æ–°æ“ä½œï¼›</li>
<li>æ³¨æ„é™¤ä»£ç åº“ä¹‹å¤–çš„å¤§é‡å…±äº«èµ„æºï¼šå­˜å‚¨æœºåˆ¶ã€å¤„ç†èƒ½åŠ›ã€æ•°æ®åº“ã€å¤–éƒ¨æœåŠ¡ã€åº“ã€ç”¨æˆ·ç•Œé¢ï¼Œç­‰ç­‰ï¼›</li>
<li>åˆ©ç”¨é™åˆ¶å’ŒéªŒè¯çš„æ–¹å¼ï¼Œåœ¨æœ€å¤§ç¨‹åº¦ä¸Šé˜²æ­¢å±€éƒ¨æ•…éšœå¯¹æ•´ä¸ªç³»ç»Ÿé€ æˆå½±å“ï¼›</li>
<li>åœ¨å¤ç”¨ç°æœ‰çš„å·¥å…·å’Œèµ„æºæ—¶ï¼Œè¦å°¤å…¶æ³¨æ„ä½¿ç”¨ç¯å¢ƒçš„å˜åŒ–ï¼Œä»»ä½•å¯¹ä½¿ç”¨èŒƒå›´ã€æ€§èƒ½æ ‡å‡†æˆ–éšç§å®‰å…¨çº§åˆ«çš„æ”¹å˜ï¼Œå¦‚æœä¸ç»è¿‡ä»”ç»†è€ƒè™‘ï¼Œéƒ½å¯èƒ½å¼•èµ·éå¸¸å±é™©çš„é—®é¢˜ã€‚</li>
</ol>
<h2 id="å‡†ç¡®è¯†åˆ«ç—›ç‚¹ï¼Œé«˜æ•ˆé›†æˆæœåŠ¡"><a href="#å‡†ç¡®è¯†åˆ«ç—›ç‚¹ï¼Œé«˜æ•ˆé›†æˆæœåŠ¡" class="headerlink" title="å‡†ç¡®è¯†åˆ«ç—›ç‚¹ï¼Œé«˜æ•ˆé›†æˆæœåŠ¡"></a>å‡†ç¡®è¯†åˆ«ç—›ç‚¹ï¼Œé«˜æ•ˆé›†æˆæœåŠ¡</h2><ol>
<li>å½“åº”ç”¨ä¾èµ–äºä¸ç”šäº†è§£çš„å¤–éƒ¨æœåŠ¡æ—¶ï¼Œä¸€å®šè¦åŠ å€å°å¿ƒï¼Œå¯èƒ½è¯¥æœåŠ¡æ ¹æœ¬ä¸é€‚åˆï¼›</li>
<li>è°¨è®°åº“å’ŒæœåŠ¡ä¹‹é—´æœ€å…³é”®çš„ä¸åŒç‚¹ï¼šåªæœ‰åœ¨ä»£ç åº“æˆ–åŸºç¡€è®¾æ–½å‘ç”Ÿæ”¹å˜æ—¶ï¼Œåº“æ‰ä¼šå¼•èµ·æ˜¾è‘—å˜æ›´ï¼›è€Œå¤–éƒ¨æœåŠ¡éšæ—¶éƒ½å¯èƒ½è®©ç³»ç»Ÿè¡Œä¸ºå‘ç”Ÿæ”¹å˜ï¼Œç”šè‡³å¯¼è‡´ç³»ç»Ÿå´©æºƒï¼›</li>
<li>åªè¦æœåŠ¡ä¾èµ–å‘ç”Ÿå˜æ›´ï¼Œå°±è¦åœ¨æµ‹è¯•ä¸­å¯†åˆ‡å…³æ³¨æ˜¯å¦æœ‰æ¨¡æ‹Ÿå¯¹è±¡è¿‡æœŸï¼Œä¸€å®šè¦ç¡®ä¿é’ˆå¯¹ä½ æ‰€ä¾èµ–çš„çœŸå®æœåŠ¡è¿è¡Œä¸€äº›æµ‹è¯•ï¼›</li>
<li>è®¤çœŸå¯¹å¾…æ¯æ¬¡ä»£ç å¤æŸ¥ï¼ŒæŠŠå®ƒå½“ä½œå¯¹æ‰€ä¾èµ–æœåŠ¡çš„ä¸€æ¬¡å°è§„æ¨¡å®¡æŸ¥ï¼Œæ¯”å¦‚è¯„ä¼°æµ‹è¯•ç­–ç•¥ã€è€ƒè™‘å¦‚ä½•å¤„ç†æ•…éšœï¼Œæˆ–è€…æ€è€ƒå¦‚ä½•é˜²æ­¢é”™ç”¨èµ„æºã€‚</li>
</ol>
<h2 id="è®¾è®¡ä¸¥å¯†æ–¹æ¡ˆï¼Œé€æ­¥è§£å†³é—®é¢˜"><a href="#è®¾è®¡ä¸¥å¯†æ–¹æ¡ˆï¼Œé€æ­¥è§£å†³é—®é¢˜" class="headerlink" title="è®¾è®¡ä¸¥å¯†æ–¹æ¡ˆï¼Œé€æ­¥è§£å†³é—®é¢˜"></a>è®¾è®¡ä¸¥å¯†æ–¹æ¡ˆï¼Œé€æ­¥è§£å†³é—®é¢˜</h2><ol>
<li>æè¿°é—®é¢˜çš„åŸå§‹èµ„æ–™ä¸€èˆ¬éƒ½æ˜¯é›¶æ•£çš„è¯­å¥ã€ç¤ºä¾‹å’Œå‚è€ƒææ–™ï¼Œä¸ºäº†ç†è§£è¿™äº›èµ„æ–™ï¼Œéœ€è¦è®°ç¬”è®°ï¼Œæ’é™¤å™ªå£°ä¿¡æ¯ï¼Œåªç•™ä¸‹æœ€å…³é”®çš„ç»†èŠ‚ï¼›</li>
<li>æ¯ä¸ªé—®é¢˜çš„èƒŒåéƒ½æœ‰ä¸€å †ç®€å•çš„å­é—®é¢˜ï¼Œä½ æ—©å·²çŸ¥é“å¦‚ä½•è§£å†³å®ƒä»¬ã€‚è¦å°†é—®é¢˜ä¸æ–­æ‹†åˆ†ï¼Œç›´åˆ°ä½ èƒ½è¾©è®¤å‡ºæ„æˆå®ƒçš„å­é—®é¢˜ä¸ºæ­¢ï¼›</li>
<li>éš¾é¢˜ç”±å¾ˆå¤šæ´»åŠ¨éƒ¨åˆ†ç»„æˆï¼Œå…ˆè§‚å¯Ÿå„ä¸ªéƒ¨åˆ†å¦‚ä½•è”ç³»åœ¨ä¸€èµ·ï¼Œè€Œä¸è¦ç®¡å…·ä½“çš„å®ç°ç»†èŠ‚ï¼Œåœ¨å†™ä»£ç ä¹‹å‰ï¼Œå…ˆç”¨çº¸ç¬”è§£å†³éƒ¨åˆ†é—®é¢˜ï¼</li>
<li>åœ¨æ— æ•ˆæ•°æ®é›†ä¸Šè¿ç”¨æœ‰æ•ˆè§„åˆ™å¯èƒ½ä¼šå¾—åˆ°éš¾ä»¥è°ƒè¯•çš„æ··ä¹±ç»“æœï¼Œä¸è¦å‡è®¾è¾“å…¥æ•°æ®é›†çš„æ ¼å¼æ­£ç¡®ï¼åœ¨å¤„ç†ä»»ä½•æ•°æ®é›†ä¹‹å‰ï¼Œéƒ½è¦é¢„å…ˆæ£€æŸ¥ï¼Œä»¥é¿å…å‡ºç°â€œåƒåœ¾è¿›ã€åƒåœ¾å‡ºâ€çš„æƒ…å†µã€‚</li>
</ol>
<h2 id="è°¨è®°è‡ªåº•å‘ä¸Šï¼Œä¼˜åŒ–è½¯ä»¶è®¾è®¡"><a href="#è°¨è®°è‡ªåº•å‘ä¸Šï¼Œä¼˜åŒ–è½¯ä»¶è®¾è®¡" class="headerlink" title="è°¨è®°è‡ªåº•å‘ä¸Šï¼Œä¼˜åŒ–è½¯ä»¶è®¾è®¡"></a>è°¨è®°è‡ªåº•å‘ä¸Šï¼Œä¼˜åŒ–è½¯ä»¶è®¾è®¡</h2><ol>
<li>è¿›è¡Œè‡ªåº•å‘ä¸Šè®¾è®¡æ—¶ï¼Œé¦–å…ˆåˆ—å‡ºé—®é¢˜çš„å…³é”®è¯ï¼Œç„¶åï¼Œç”¨è¿™äº›è¯é€ å‡ºæœ‰æ„ä¹‰çš„çŸ­å¥ï¼Œè¶ŠçŸ­è¶Šå¥½ ï¼›</li>
<li>åœ¨ä¸ºé¡¹ç›®å¢åŠ æ–°åŠŸèƒ½æ—¶ï¼Œæ³¨æ„å¯¹è±¡ä¹‹é—´çš„è”ç³»ï¼Œé‡è§†é‚£äº›åœ¨é‡å’Œæ—¶é—´ä¸Šçµæ´»çš„è®¾è®¡ï¼Œè¿™æ ·å¯¹è±¡å°±ä¸ä¼šå‘å…¶åä½œå¯¹è±¡æ–½åŠ äººä¸ºçº¦æŸï¼›</li>
<li>åœ¨æå–å¯å¤ç”¨çš„å¯¹è±¡å’Œå‡½æ•°æ—¶ï¼Œå¯»æ‰¾ä¸å¤ªéšæ—¶é—´å˜åŒ–çš„åŸºæœ¬ç»“æ„å•å…ƒï¼Œè€Œä¸æ˜¯å»é‚£äº›è¡¨é¢ä¸Šçœ‹èµ·æ¥å¯ä»¥å¤ç”¨çš„æ¨¡æ¿å¼ä»£ç ï¼›</li>
<li>è¦å……åˆ†åˆ©ç”¨é‚£äº›åœ¨å¤ç”¨åŸºæœ¬ç»“æ„å•å…ƒçš„è¿‡ç¨‹ä¸­æ„å¤–å‡ºç°çš„ç‰¹æ€§ï¼Œä»¥ä¾¿è§£å†³æ–°é—®é¢˜ï¼ä½†åŒæ—¶è¦æ³¨æ„ï¼Œåœ¨æ‹¼æ¥å¯¹è±¡æ—¶ï¼Œä¸è¦ä½¿ä»£ç è¿‡äºå¤æ‚ï¼Œå¦‚æœé›†æˆç‚¹è¿‡äºæ··ä¹±ï¼Œå°±è¯´æ˜ä¸é€‚åˆä½¿ç”¨è‡ªåº•å‘ä¸Šçš„è®¾è®¡æ–¹æ³•ã€‚</li>
</ol>
<h2 id="è®¤æ¸…ç°å®ç‘•ç–µï¼Œæ”¹å–„æ•°æ®å»ºæ¨¡"><a href="#è®¤æ¸…ç°å®ç‘•ç–µï¼Œæ”¹å–„æ•°æ®å»ºæ¨¡" class="headerlink" title="è®¤æ¸…ç°å®ç‘•ç–µï¼Œæ”¹å–„æ•°æ®å»ºæ¨¡"></a>è®¤æ¸…ç°å®ç‘•ç–µï¼Œæ”¹å–„æ•°æ®å»ºæ¨¡</h2><ol>
<li>ä¿ç•™æ•°æ®çš„åŸå§‹æ ¼å¼ï¼Œä¸è¦è¯•å›¾ç«‹å³å°†å…¶è½¬æ¢ä¸ºä¸æ¦‚å¿µä¸€ä¸€å¯¹åº”çš„ç»“æ„ï¼›</li>
<li>åœ¨å¼€å‘æ•°æ®æ¨¡å‹æ—¶ï¼Œä»”ç»†è€ƒè™‘æ•°æ®å°†è¢«å¦‚ä½•è¡¨ç¤ºã€æŸ¥è¯¢å’Œä¿®æ”¹ï¼Œåœ¨å®è·µä¸­ï¼Œå¾ˆå°‘æœ‰é¡¹ç›®åªéœ€è¦é’ˆå¯¹æ•°æ®è¿›è¡Œåˆ›å»ºã€è¯»å–ã€æ›´æ–°å’Œåˆ é™¤ç­‰ç®€å•æ“ä½œï¼Œå› æ­¤ä¸€å®šè¦é‡ä½“è£è¡£ï¼›</li>
<li>è¦æŠŠé¢„è§ˆã€å¤‡æ³¨ã€æ‰¹å‡†ã€å®¡æŸ¥å’Œæ’¤é”€äº‹åŠ¡æ€§æ•°æ®å˜æ›´ç­‰æ“ä½œè®¾è®¡å¾—ç®€å•æ˜“è¡Œï¼Œè¦åšåˆ°è¿™ä¸€ç‚¹ï¼Œéœ€è¦å¦å¤–å†™ä»£ç ï¼Œè€Œä¸æ˜¯ä¾èµ–äºé¢„å»ºçš„åº“ï¼›</li>
<li>æ•°æ®ç®¡ç†å·¥ä½œæµçš„è®¾è®¡è¦å°Šé‡å’Œæ”¯æŒè½¯ä»¶ä½¿ç”¨è€…çš„ç»„ç»‡æ–‡åŒ–ï¼Œè‹¥åœ¨è®¾è®¡æ—¶ä¸è€ƒè™‘åº·å¨å®šå¾‹ï¼Œç³»ç»Ÿå¾ˆå¯èƒ½ä¼šè¢«æˆåƒä¸Šä¸‡ç§ä½¿ç”¨æ–¹æ³•å‹å¾—ä¸å ªé‡è´Ÿï¼Œæœ€ç»ˆå´©æºƒã€‚<ul>
<li>è®¾è®¡ç³»ç»Ÿçš„æ¶æ„å—åˆ¶äºäº§ç”Ÿè¿™äº›è®¾è®¡çš„ç»„ç»‡çš„æ²Ÿé€šç»“æ„ï¼Œå³äº§å“å¿…ç„¶æ˜¯å…¶ï¼ˆäººå‘˜ï¼‰ç»„ç»‡æ²Ÿé€šç»“æ„çš„ç¼©å½±ï¼Œè¿™å°±æ˜¯<strong>åº·å¨å®šå¾‹</strong></li>
</ul>
</li>
</ol>
<h2 id="é€æ¸æ”¹å–„æµç¨‹ï¼Œåˆç†å®‰æ’æ—¶é—´"><a href="#é€æ¸æ”¹å–„æµç¨‹ï¼Œåˆç†å®‰æ’æ—¶é—´" class="headerlink" title="é€æ¸æ”¹å–„æµç¨‹ï¼Œåˆç†å®‰æ’æ—¶é—´"></a>é€æ¸æ”¹å–„æµç¨‹ï¼Œåˆç†å®‰æ’æ—¶é—´</h2><ol>
<li>åœ¨å¤„ç†ç³»ç»Ÿçº§æ•…éšœæ—¶ï¼Œè¦æ ¹æ®éœ€è¦åœç”¨æˆ–é™çº§ä¸€äº›ç‰¹æ€§ï¼Œä½¿è½¯ä»¶å°½å¿«å›åˆ°å¯ç”¨çŠ¶æ€ï¼›</li>
<li>å¯»æ‰¾è¿‡åº¦è€—è´¹æ—¶é—´çš„éƒ¨åˆ†ï¼Œç”¨åˆç†çš„å®‰æ’åŠ ä»¥é™åˆ¶ï¼Œè¿™æ ·å°±å¯ä»¥çœä¸‹æ—¶é—´è¿›è¡Œå…¶ä»–å·¥ä½œã€‚åšå†³ç­–ä¸èƒ½åªé ç›´è§‰ï¼Œè¦ä½¿ç”¨â€œæ¯›ä¼°â€è®¡ç®—æ³•ï¼Œå°†ç»æµå› ç´ ä¹Ÿè€ƒè™‘è¿›å»ï¼›</li>
<li>è°¨è®°æœªä¸Šçº¿çš„ä»£ç ä¸æ˜¯èµ„äº§ï¼Œè€Œæ˜¯<strong>å­˜è´§</strong>ï¼å­˜è´§å®¹æ˜“è…åï¼Œå¹¶ä¸”å…·æœ‰æŒæœ‰æˆæœ¬ã€‚è¦å¸®åŠ©é¡¹ç›®ä¸­çš„æ¯ä¸ªå·¥ä½œäººå‘˜ç†è§£è¿™ä¸€ç‚¹ï¼Œè®©ä»–ä»¬é›†ä¸­ç²¾åŠ›åœ¨ç»™å®šçš„æ—¶é—´æ®µå†…äº¤ä»˜æœ‰ä»·å€¼çš„å·¥ä½œï¼Œè€Œä¸æ˜¯è®©å›¢é˜Ÿä¸­çš„æ¯ä¸ªäººéƒ½ä¸ºäº†å¿™ç¢Œè€Œå¿™ç¢Œï¼›</li>
<li>ä¸åˆ†å·¥ä¸åŒçš„äººåˆä½œæ—¶ï¼Œè¯•ç€ç”¨å¯¹æ–¹èƒ½ç†è§£çš„æ–¹å¼è¿›è¡Œäº¤æµï¼ä»æ—è§‚è€…çš„è§’åº¦çœ‹å¾…é—®é¢˜ï¼Œå¹¶æ€è€ƒï¼šâ€œè¿™ä»¶äº‹ä¸æ­£åœ¨å’Œæˆ‘äº¤è°ˆçš„äººæœ‰å…³å—ï¼Ÿè¿™ä»¶äº‹å¯¹æ•´ä¸ªé¡¹ç›®æœ‰ä½•å½±å“ï¼Ÿâ€  </li>
</ol>
<h2 id="è®¤æ¸…è¡Œä¸šæœªæ¥ï¼Œå†è®®è½¯ä»¶å¼€å‘"><a href="#è®¤æ¸…è¡Œä¸šæœªæ¥ï¼Œå†è®®è½¯ä»¶å¼€å‘" class="headerlink" title="è®¤æ¸…è¡Œä¸šæœªæ¥ï¼Œå†è®®è½¯ä»¶å¼€å‘"></a>è®¤æ¸…è¡Œä¸šæœªæ¥ï¼Œå†è®®è½¯ä»¶å¼€å‘</h2><ol>
<li>ç¨‹åºå‘˜ä¸åªæ˜¯ç¼–ç¨‹ä¸“å®¶ï¼Œè½¬å‹åœ¨æ‰€éš¾å…ï¼ç¨‹åºå‘˜æ˜¯ç”¨æŠ€æœ¯è§£å†³äººç±»ç¤¾ä¼šå¸¸è§é—®é¢˜çš„äººï¼</li>
<li><strong>ç«™åœ¨è¶³å¤Ÿé«˜çš„å±‚æ¬¡ä¸è®¡ç®—æœºäº¤æµï¼Œåªéœ€è¦å…³æ³¨å¦‚ä½•è§£å†³é—®é¢˜ï¼Œè€Œä¸æ˜¯çº ç»“äºä»£ç ç¼–å†™ä¸­çš„ç»†ææœ«èŠ‚ï¼</strong>  </li>
<li>æˆ‘ä»¬éœ€è¦ä¸€ç§å¼€å‘å·¥å…·é“¾ï¼Œå…¶è®¾è®¡åº”å®Œå…¨ä»¥äººä¸ºæœ¬ã€ä¸ºäººç±»æœåŠ¡ï¼</li>
<li>å½“å‰çš„å¼€å‘è¿‡ç¨‹ååˆ†ç¹çï¼Œéœ€è¦è€ƒè™‘æ€ä¹ˆæŠŠç¬¬ä¸‰æ–¹åº“å’Œæ‰€ç”¨è¯­è¨€çš„æ ¸å¿ƒå‡½æ•°ç»“åˆï¼Œæ€ä¹ˆè®©æ•°æ®æ ¼å¼å’ŒWeb æœåŠ¡åè®®å¯¹åº”ï¼Œç­‰ç­‰ï¼</li>
<li>è¡Œä¸šçš„å…³æ³¨ç‚¹èƒ½æœæ–­åœ°ã€æ°¸ä¹…åœ°ç”±ä»¥æŠ€æœ¯ä¸ºä¸­å¿ƒè½¬å˜ä¸ºä»¥äººä¸ºæœ¬ï¼</li>
<li>æœªæ¥éœ€è¦æ¯ä¸ªäººå‚ä¸åˆ›é€ ã€äº’ç›¸å¸®åŠ©ã€è´¡çŒ®åŠ›é‡ï¼Œéœ€è¦æ€è€ƒæœªæ¥åˆ°åº•æ˜¯ä»€ä¹ˆæ ·çš„ï¼Œè¯¥æœ‰æ€ä¹ˆæ ·çš„æˆé•¿ï¼                         </li>
</ol>
<hr>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>å¦‚ä½•è®¾è®¡ï¼Œå¦‚ä½•å‘å±•è¿œæ¯”æ€è€ƒè§£å†³é—®é¢˜éœ€è¦æ›´å¤šçš„æ—¶é—´ï¼Œä¸ä»…éœ€è¦ä»£ç ä¸Šçš„è‚Œè‚‰æ€§çš„è®°å¿†ï¼Œè¿˜éœ€è¦é•¿è¿œçš„è§„åˆ’ï¼Œè½¬å‹çœŸçš„æ˜¯åœ¨æ‰€éš¾å…ï¼è‡ªå¤éƒ½æ˜¯é•¿æ±Ÿåæµªæ¨å‰æµªï¼ŒæŠ€æœ¯éƒ½æ˜¯åœ¨ä¸æ–­æ›´è¿­ï¼Œæˆ‘ä»¬è‡ªå·±ä¹Ÿéœ€è¦è€ƒè™‘è‡ªæˆ‘æˆé•¿ï¼Œä¸ä»…ä»…å­¦ä¹ æœ€æ–°çš„æŠ€æœ¯ï¼Œæ›´è¦åæ€ï¼Œæœªæ¥çš„ä»£ç å¯èƒ½ä¸æ˜¯çº¯ç²¹æ„ä¹‰çš„ä»£ç ï¼Œè€Œæ˜¯ä¸€ç§æ€æƒ³çš„è½¬å˜ï¼Œæ€ç»´çš„æŠ½è±¡ï¼Œç¼–ç¨‹æ›´èƒ½ä»¥äººä¸ºæœ¬ï¼è¿™æ˜¯æˆ‘çš„æ€è€ƒï¼Œå¸Œæœ›èƒ½å¤Ÿå°½å¿«æ‰¾åˆ°è‡ªå·±çš„å®šä½ç‚¹å§ï¼</p>
]]></content>
      <categories>
        <category>Code</category>
      </categories>
  </entry>
  <entry>
    <title>jQuery Quick Start</title>
    <url>/2020/05/30/jQuery-Quick-Start/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>åœ¨ä¼—å¤šJavaScriptæ¡†æ¶ï¼ˆæˆ–JavaScriptåº“ï¼‰ä¸­ï¼Œ jQueryä¸€æç‹¬ç§€æ—©å·²æ˜¯ä¸äº‰çš„äº‹å®ã€‚jQueryè®©å†™JavaScriptä»£ç å˜å¾—å¦™è¶£æ¨ªç”Ÿï¼jQueryæ˜¯ä¸€ä¸ªå¼ºå¤§çš„JavaScriptåº“ï¼Œæ— è®ºä½ å…·æœ‰ä»€ä¹ˆç¼–ç¨‹èƒŒæ™¯ï¼Œéƒ½å¯ä»¥é€šè¿‡å®ƒæ¥å¢å¼ºè‡ªå·±çš„ç½‘ç«™ã€‚<strong>æ¨èä¹¦ç±ï¼šã€ŠjQuery åŸºç¡€æ•™ç¨‹ï¼ˆç¬¬4ç‰ˆï¼‰ã€‹Â· [ç¾] Jonathan Chafferï¼ŒKarl Swedberg è‘— ææ¾å³° è¯‘</strong>            </p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="jQueryåŸºç¡€çŸ¥è¯†"><a href="#jQueryåŸºç¡€çŸ¥è¯†" class="headerlink" title="jQueryåŸºç¡€çŸ¥è¯†"></a>jQueryåŸºç¡€çŸ¥è¯†</h2><ol>
<li>jQueryåº“ä¸ºWebè„šæœ¬ç¼–ç¨‹æä¾›äº†é€šç”¨çš„æŠ½è±¡å±‚ï¼Œä½¿å¾—å®ƒå‡ ä¹é€‚ç”¨äºä»»ä½•è„šæœ¬ç¼–ç¨‹çš„æƒ…å½¢ï¼›</li>
<li>jQueryèƒ½å¤Ÿæ»¡è¶³ä¸‹åˆ—éœ€æ±‚ï¼š<ul>
<li>å–å¾—æ–‡æ¡£ä¸­çš„å…ƒç´ ï¼ŒjQueryä¸ºå‡†ç¡®åœ°è·å–éœ€è¦æ£€æŸ¥æˆ–æ“çºµçš„æ–‡æ¡£å…ƒç´ ï¼Œæä¾›äº†å¯é è€Œå¯Œæœ‰æ•ˆç‡çš„é€‰æ‹©ç¬¦æœºåˆ¶    </li>
<li>ä¿®æ”¹é¡µé¢çš„å¤–è§‚ï¼Œå³ä½¿åœ¨é¡µé¢å·²ç»å‘ˆç°ä¹‹åï¼Œ jQueryä»ç„¶èƒ½å¤Ÿæ”¹å˜æ–‡æ¡£ä¸­æŸä¸ªéƒ¨åˆ†çš„ç±»æˆ–è€…ä¸ªåˆ«çš„æ ·å¼å±æ€§</li>
<li>æ”¹å˜æ–‡æ¡£çš„å†…å®¹ï¼Œä½¿ç”¨å°‘é‡çš„ä»£ç ï¼ŒjQueryå°±èƒ½æ”¹å˜æ–‡æ¡£çš„å†…å®¹ </li>
<li>å“åº”ç”¨æˆ·çš„äº¤äº’æ“ä½œï¼ŒjQueryæä¾›äº†æˆªè·å½¢å½¢è‰²è‰²çš„é¡µé¢äº‹ä»¶çš„é€‚å½“æ–¹å¼</li>
<li>ä¸ºé¡µé¢æ·»åŠ åŠ¨æ€æ•ˆæœï¼ŒjQueryä¸­å†…ç½®çš„ä¸€æ‰¹æ·¡å…¥ã€æ“¦é™¤ä¹‹ç±»çš„æ•ˆæœï¼Œä»¥åŠåˆ¶ä½œæ–°æ•ˆæœçš„å·¥å…·åŒ…èƒ½å‘ç”¨æˆ·æä¾›è§†è§‰ä¸Šçš„åé¦ˆ</li>
<li>æ— éœ€åˆ·æ–°é¡µé¢ä»æœåŠ¡å™¨è·å–ä¿¡æ¯</li>
<li>ç®€åŒ–å¸¸è§çš„JavaScriptä»»åŠ¡  </li>
</ul>
</li>
<li>æ¯ç§æµè§ˆå™¨å¯¹é¢å¸ƒçš„æ ‡å‡†éƒ½æœ‰è‡ªå·±çš„ä¸€å¥—ä¸å¤ªä¸€è‡´çš„å®ç°æ–¹æ¡ˆï¼</li>
<li>jQueryä¸ºWebå¼€å‘äººå‘˜æä¾›äº†çµæ´»ä¸”å¥å£®çš„ç³»ç»Ÿï¼Œè€Œä¸”å®ƒå¯¹æ‰€æœ‰äººéƒ½æ˜¯å…è´¹çš„ï¼</li>
</ol>
<h2 id="å¿«é€Ÿä½¿ç”¨"><a href="#å¿«é€Ÿä½¿ç”¨" class="headerlink" title="å¿«é€Ÿä½¿ç”¨"></a>å¿«é€Ÿä½¿ç”¨</h2><ol>
<li><p>ä¸‹è½½<a href="https://jquery.com/download/" target="_blank" rel="noopener">jQueryåº“æ–‡ä»¶</a>ï¼›</p>
</li>
<li><p>ä»€ä¹ˆæ—¶å€™éœ€è¦ä½¿ç”¨jQueryï¼Œåªè¦åœ¨HTMLæ–‡æ¡£ä¸­ä½¿ç”¨&lt;script&gt;å…ƒç´ æŠŠå®ƒå¯¼å…¥è¿›æ¥å³å¯;</p>
</li>
<li><p>åœ¨å®é™…å¼€å‘ä¸­è¿˜æ˜¯ä½¿ç”¨æœ¬åœ°å‰¯æœ¬æ›´æ–¹ä¾¿ä¸€äº›ï¼Œåœ¨æ­£å¼ç¯å¢ƒå¯ä»¥è€ƒè™‘CDNåŠ é€Ÿï¼›</p>
</li>
<li><p>å¼•ç”¨jQueryåº“æ–‡ä»¶çš„&lt;script&gt;æ ‡ç­¾ï¼Œå¿…é¡»æ”¾åœ¨å¼•ç”¨è‡ªå®šä¹‰è„šæœ¬æ–‡ä»¶çš„&lt;script&gt;æ ‡ç­¾ä¹‹å‰,å¦åˆ™ï¼Œåœ¨æˆ‘ä»¬ç¼–å†™çš„ä»£ç ä¸­å°†å¼•ç”¨ä¸åˆ°jQueryæ¡†æ¶;</p>
</li>
<li><p>jQueryä¸­åŸºæœ¬çš„æ“ä½œå°±æ˜¯é€‰æ‹©æ–‡æ¡£ä¸­çš„æŸä¸€éƒ¨åˆ†ï¼Œè¿™æ˜¯é€šè¿‡$()å‡½æ•°æ¥å®Œæˆçš„,è¯¥å‡½<br>æ•°éœ€è¦ä¸€ä¸ªå­—ç¬¦ä¸²å‚æ•°ï¼Œå‚æ•°ä¸­å¯ä»¥åŒ…å«ä»»ä½•CSSé€‰æ‹©ç¬¦è¡¨è¾¾å¼ ;</p>
</li>
<li><p>$()å‡½æ•°ä¼šè¿”å›ä¸€ä¸ªæ–°çš„jQueryå¯¹è±¡å®ä¾‹ï¼ŒjQueryå¯¹è±¡ä¸­ä¼šå°è£…é›¶ä¸ªæˆ–å¤šä¸ªDOMå…ƒç´ ï¼Œå¹¶å…è®¸æˆ‘ä»¬ä»¥å¤šç§ä¸åŒçš„æ–¹å¼ä¸è¿™äº›DOMå…ƒç´ è¿›è¡Œäº¤äº’ï¼›</p>
</li>
<li><p>.addClass()æ–¹æ³•ä¼šå°†ä¸€ä¸ªCSSç±»åº”ç”¨åˆ°æˆ‘ä»¬é€‰æ‹©çš„é¡µé¢å…ƒç´ ï¼Œå”¯ä¸€çš„å‚æ•°å°±æ˜¯è¦æ·»åŠ çš„ç±»åï¼Œå…¶åæ–¹æ³•ä¸º.removeClass()ï¼Œä¸ºæˆ‘ä»¬æ¢ç´¢jQueryæ”¯æŒçš„å„ç§é€‰æ‹©ç¬¦è¡¨è¾¾å¼æä¾›äº†ä¾¿åˆ©ï¼›</p>
</li>
<li><p>jQueryåœ¨.addClass()ç­‰æ–¹æ³•ä¸­ä½¿ç”¨äº†éšå¼è¿­ä»£æœºåˆ¶ï¼Œå› æ­¤ä¸€æ¬¡å‡½æ•°è°ƒç”¨å°±å¯ä»¥å®Œæˆå¯¹æ‰€æœ‰é€‰æ‹©çš„æ–‡æ¡£éƒ¨åˆ†çš„ä¿®æ”¹ï¼›</p>
</li>
<li><p>é€šè¿‡ä½¿ç”¨$(document).ready()æ–¹æ³•ï¼Œ jQueryæ”¯æŒæˆ‘ä»¬é¢„å®šåœ¨DOMåŠ è½½å®Œæ¯•åè°ƒç”¨æŸä¸ªå‡½æ•°ï¼Œè€Œä¸å¿…ç­‰å¾…é¡µé¢ä¸­çš„å›¾åƒåŠ è½½ï¼š</p>
<ul>
<li>å¯ä»¥å¤šæ¬¡è°ƒç”¨$(document).ready()å¹¶æŒ‰ç…§è°ƒç”¨å®ƒä»¬çš„é¡ºåºæ‰§è¡Œ  </li>
<li>å³ä¾¿æ˜¯åœ¨æµè§ˆå™¨äº‹ä»¶å‘ç”Ÿä¹‹åæŠŠå‡½æ•°ä¼ ç»™$(document).ready()ï¼Œ è¿™äº›å‡½æ•°ä¹Ÿä¼šæ‰§è¡Œ  </li>
<li>å¼‚æ­¥å¤„ç†äº‹ä»¶çš„é¢„å®šï¼Œå¿…è¦æ—¶è„šæœ¬å¯ä»¥å»¶è¿Ÿæ‰§è¡Œ  </li>
<li>.ready()æ–¹æ³•çš„å‚æ•°å¯ä»¥æ˜¯ä¸€ä¸ªå·²ç»å®šä¹‰å¥½çš„å‡½æ•°çš„å¼•ç”¨ï¼Œå¯ä»¥æ¥æ”¶ä¸€ä¸ªåŒ¿åå‡½æ•°      </li>
<li>å¯ä»¥ä½¿ç”¨window.onloadäº‹ä»¶å¤„ç†</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">addHighlightClass</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">$(<span class="string">'div.poem-stanza'</span>).addClass(<span class="string">'highlight'</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//$(document).ready(addHighlightClass);</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">$(document).ready(function() &#123;</span></span><br><span class="line"><span class="comment">$('div.poem-stanza').addClass('highlight');</span></span><br><span class="line"><span class="comment">&#125;);*/</span></span><br><span class="line"><span class="built_in">window</span>.onload=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	<span class="comment">//$(document).ready(addHighlightClass);</span></span><br><span class="line">	$(<span class="string">'div.poem-stanza'</span>).addClass(<span class="string">'highlight'</span>);</span><br><span class="line">	</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">//åŸç”Ÿjsä»£ç ï¼š</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">window.onload = function() &#123;</span></span><br><span class="line"><span class="comment">var divs = document.getElementsByTagName('div');</span></span><br><span class="line"><span class="comment">for (var i = 0; i &lt; divs.length; i++) &#123;</span></span><br><span class="line"><span class="comment">if (hasClass(divs[i], 'poem-stanza')</span></span><br><span class="line"><span class="comment">&amp;&amp; !hasClass(divs[i], 'highlight')) &#123;</span></span><br><span class="line"><span class="comment">divs[i].className += ' highlight';</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment">function hasClass( elem, cls ) &#123;</span></span><br><span class="line"><span class="comment">var reClass = new RegExp(' ' + cls + ' ');</span></span><br><span class="line"><span class="comment">return reClass.test(' ' + elem.className + ' ');</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment">&#125;;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>jQueryä»£ç ä¸ä»…å†™èµ·æ¥çœäº‹ï¼Œè¯»èµ·æ¥ç®€å•ï¼Œè€Œä¸”ä¹Ÿæ¯”çº¯JavaScriptä»£ç çš„æ‰§è¡Œé€Ÿåº¦æ›´å¿«!</strong></p>
</li>
<li><p>æ¨èä½¿ç”¨è°·æ­Œæµè§ˆå™¨çš„å¼€å‘è€…å·¥å…·è¿›è¡Œæ£€æŸ¥ï¼Œè¾…åŠ©å¼€å‘ï¼Œæ”¯æŒä¸‹é¢çš„åŠŸèƒ½ï¼š</p>
<ul>
<li>æ¢æµ‹åŠä¿®æ”¹DOM  </li>
<li>ç ”ç©¶CSSåŠé¡µé¢è¡¨ç°ä¹‹é—´çš„å…³ç³»</li>
<li>é€šè¿‡ç‰¹æ®Šçš„æ–¹æ³•æ–¹ä¾¿åœ°è·Ÿè¸ªè„šæœ¬æ‰§è¡Œ</li>
<li>æš‚åœè„šæœ¬è¿è¡ŒåŠæ£€æŸ¥å˜é‡å€¼      </li>
</ul>
</li>
<li><p>è°·æ­Œæµè§ˆå™¨çš„å¼€å‘è€…å·¥å…·Sourcesï¼ˆèµ„æºï¼‰æ ‡ç­¾é¡µæ˜¾ç¤ºçš„æ˜¯é¡µé¢ä¸­åŠ è½½çš„æ‰€æœ‰è„šæœ¬</p>
</li>
<li><p>è°·æ­Œæµè§ˆå™¨çš„å¼€å‘è€…å·¥å…·Consoleï¼ˆæ§åˆ¶å°ï¼‰æ ‡ç­¾é¡µææ€•æ˜¯å­¦ä¹ jQueryçš„è¿‡ç¨‹ä¸­ç”¨å¾—æœ€å¤šçš„ä¸€ä¸ªäº†ï¼Œå¯ä»¥åœ¨é‡Œé¢è¾“å…¥JavaScriptè¯­å¥ï¼ŒæŒ‰å›è½¦åï¼Œè¯­å¥çš„æ‰§è¡Œç»“æœå°±ä¼šæ˜¾ç¤ºåœ¨ä¸Šæ–¹  </p>
</li>
<li><p>å¯ä»¥å‘console.log()æ–¹æ³•ä¸­ä¼ å…¥ä»»ä½•è¡¨è¾¾å¼ï¼Œå­—ç¬¦ä¸²ã€æ•°å€¼ç­‰ç®€å•çš„å€¼ä¼šè¢«ç›´æ¥æ‰“å°å‡ºæ¥ï¼Œè€ŒjQueryå¯¹è±¡ç­‰å¤æ‚çš„å€¼åˆ™ä¼šä»¥å®¹æ˜“ç†è§£çš„æ ¼å¼å±•ç¤ºå‡ºæ¥    </p>
</li>
</ol>
<h2 id="é€‰æ‹©å…ƒç´ "><a href="#é€‰æ‹©å…ƒç´ " class="headerlink" title="é€‰æ‹©å…ƒç´ "></a>é€‰æ‹©å…ƒç´ </h2><ol>
<li><p>jQueryæœ€å¼ºå¤§çš„ç‰¹æ€§ä¹‹ä¸€å°±æ˜¯å®ƒèƒ½å¤Ÿç®€åŒ–åœ¨DOMï¼ˆ Document Object Modelï¼Œæ–‡æ¡£å¯¹è±¡æ¨¡å‹ï¼‰  ä¸­é€‰æ‹©å…ƒç´ çš„ä»»åŠ¡ï¼›</p>
</li>
<li><p>&lt;html&gt;æ˜¯å…¶ä»–æ‰€æœ‰å…ƒç´ çš„ç¥–å…ˆå…ƒç´ ï¼Œå…¶ä»–æ‰€æœ‰å…ƒç´ éƒ½æ˜¯&lt;html&gt;çš„åä»£å…ƒç´ ï¼›</p>
</li>
<li><p>æœ‰äº†å…ƒç´ æ ‘ï¼Œå°±å¯ä»¥ä½¿ç”¨jQueryä»ä¸­å–å¾—ä»»ä½•å…ƒç´ äº†</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/c7f24c743751a3c5257d865f0bdd86c3-79718" alt="å…ƒç´ æ ‘">     </p>
</li>
<li><p>é€šè¿‡jQueryçš„å„ç§é€‰æ‹©ç¬¦å’Œæ–¹æ³•å–å¾—çš„ç»“æœé›†åˆä¼šè¢«åŒ…è£…åœ¨jQueryå¯¹è±¡ä¸­ï¼Œå¯ä»¥è½»æ¾åœ°ä¸ºjQueryå¯¹è±¡ç»‘å®šäº‹ä»¶ã€æ·»åŠ æ¼‚äº®çš„æ•ˆæœï¼Œä¹Ÿå¯ä»¥å°†å¤šé‡ä¿®æ”¹æˆ–æ•ˆæœé€šè¿‡jQueryå¯¹è±¡è¿ç¼€åˆ°ä¸€èµ·</p>
</li>
<li><p>æ‰€æœ‰èƒ½åœ¨æ ·å¼è¡¨ä¸­ä½¿ç”¨çš„é€‰æ‹©ç¬¦éƒ½å¯ä»¥ä¼ ç»™$()  å‡½æ•°ï¼Œéšåæˆ‘ä»¬å°±å¯ä»¥å¯¹åŒ¹é…çš„å…ƒç´ é›†åˆåº”ç”¨jQueryæ–¹æ³•ï¼›</p>
</li>
<li><p>æœ‰3ç§åŸºæœ¬çš„é€‰æ‹©ç¬¦ï¼š æ ‡ç­¾åã€ IDå’Œç±» ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/e6ce763c07858b630e5906a7a031f4d6-60455" alt="åŸºæœ¬é€‰æ‹©ç¬¦">      </p>
</li>
<li><p>è´Ÿè´£ä»»çš„jQueryå¼€å‘è€…åº”è¯¥åœ¨ç¼–å†™è‡ªå·±çš„ç¨‹åºæ—¶ï¼Œå§‹ç»ˆåšæŒæ¸è¿›å¢å¼ºï¼ˆ progressive enhancementï¼‰å’Œå¹³ç¨³é€€åŒ–ï¼ˆ graceful degradationï¼‰çš„ç†å¿µï¼›</p>
</li>
<li><p>æŸ¥æ‰¾IDä¸ºselected-playsçš„å…ƒç´ #selected-playsçš„å­å…ƒç´  ï¼ˆ&gt;ï¼‰ä¸­æ‰€æœ‰çš„åˆ—è¡¨é¡¹ï¼ˆ liï¼‰</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$(<span class="built_in">document</span>).ready(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	$(<span class="string">'#selected-plays &gt; li'</span>).addClass(<span class="string">"horizontal"</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
</li>
<li><p>å±æ€§é€‰æ‹©ç¬¦æ˜¯CSSé€‰æ‹©ç¬¦ä¸­ç‰¹åˆ«æœ‰ç”¨çš„ä¸€ç±»é€‰æ‹©ç¬¦ï¼Œé€šè¿‡HTMLå…ƒç´ çš„å±æ€§é€‰æ‹©å…ƒç´ ï¼Œä¾‹å¦‚é“¾æ¥çš„titleå±æ€§æˆ–å›¾åƒçš„altå±æ€§ï¼›å¯ä»¥ä½¿ç”¨ä¸€ç§ä»æ­£åˆ™è¡¨è¾¾å¼ä¸­å€Ÿé‰´æ¥çš„é€šé…ç¬¦è¯­æ³•ï¼Œä»¥^è¡¨ç¤ºå€¼åœ¨å­—ç¬¦ä¸²çš„å¼€å§‹ï¼Œä»¥$è¡¨ç¤ºå€¼åœ¨å­—ç¬¦ä¸²çš„ç»“å°¾ï¼Œä¹Ÿæ˜¯ç”¨æ˜Ÿå·*è¡¨ç¤ºè¦åŒ¹é…çš„å€¼å¯ä»¥å‡ºç°åœ¨å­—ç¬¦ä¸²ä¸­çš„ä»»æ„ä½ç½®ï¼Œç”¨å¹å·!è¡¨ç¤ºå¯¹å€¼å–åï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$(<span class="built_in">document</span>).ready(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">	$(<span class="string">'a[href^="mailto:"]'</span>).addClass(<span class="string">'mailto'</span>);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// ç”¨æ¥å¯»æ‰¾æ‰€æœ‰å¸¦hrefå±æ€§ï¼ˆ [href]ï¼‰ä¸”ä»¥mailtoå¼€å¤´ï¼ˆ ^="mailto:"]ï¼‰çš„é”šå…ƒç´ ï¼ˆ aï¼‰</span></span><br><span class="line"><span class="comment">// å±æ€§é€‰æ‹©ç¬¦ä¹Ÿå¯ä»¥ç»„åˆä½¿ç”¨</span></span><br><span class="line"><span class="comment">// å¯ä»¥ä¸ºhrefå±æ€§å³ä»¥httpå¼€å¤´ä¸”ä»»æ„ä½ç½®åŒ…å«henryçš„æ‰€æœ‰é“¾æ¥æ·»åŠ ä¸€ä¸ªhenrylinkç±»</span></span><br><span class="line">$(<span class="built_in">document</span>).ready(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">	$(<span class="string">'a[href^="mailto:"]'</span>).addClass(<span class="string">'mailto'</span>);</span><br><span class="line">	$(<span class="string">'a[href$=".pdf"]'</span>).addClass(<span class="string">'pdflink'</span>);</span><br><span class="line">    $(<span class="string">'a[href^="http"][href*="henry"]'</span>).addClass(<span class="string">'henrylink'</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
</li>
<li><p>jQueryè¿˜æ·»åŠ äº†ç‹¬æœ‰çš„å®Œå…¨ä¸åŒçš„è‡ªå®šä¹‰é€‰æ‹©ç¬¦ï¼Œå¯ä»¥è®©æˆ‘ä»¬ä»å·²ç»æ‰¾åˆ°çš„å…ƒç´ ä¸­é€‰å‡ºä¸€æˆ–å¤šä¸ªå…ƒç´  ï¼š</p>
<ul>
<li><p>è‡ªå®šä¹‰é€‰æ‹©ç¬¦é€šå¸¸è·Ÿåœ¨ä¸€ä¸ªCSSé€‰æ‹©ç¬¦åé¢ï¼ŒåŸºäºå·²ç»é€‰æ‹©çš„å…ƒç´ é›†çš„ä½ç½®æ¥æŸ¥æ‰¾å…ƒç´ </p>
</li>
<li><p>è‡ªå®šä¹‰é€‰æ‹©ç¬¦çš„è¯­æ³•ä¸CSSä¸­çš„ä¼ªç±»é€‰æ‹©ç¬¦è¯­æ³•ç›¸åŒï¼Œå³é€‰æ‹©ç¬¦ä»¥å†’å·ï¼ˆ :ï¼‰å¼€å¤´</p>
</li>
<li><p>ä¾‹å¦‚ï¼Œæƒ³è¦ä»å¸¦æœ‰horizontalç±»çš„&lt;div&gt;é›†åˆä¸­é€‰æ‹©ç¬¬2é¡¹:</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$(<span class="string">'div.horizontal:eq(1)'</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>JavaScriptæ•°ç»„é‡‡ç”¨ä»0å¼€å§‹çš„ç¼–å·æ–¹å¼ï¼Œè€ŒCSSåˆ™æ˜¯ä»1å¼€å§‹çš„</strong> </p>
</li>
<li><p>jQueryåº“ä¸­çš„ä¸¤ä¸ªååˆ†æœ‰ç”¨çš„è‡ªå®šä¹‰é€‰æ‹©ç¬¦æ˜¯:oddå’Œ:evenï¼Œåˆ†åˆ«ä»£è¡¨å¥‡æ•°è¡Œå’Œå¶æ•°è¡Œ    </p>
</li>
<li><p>:nth-child()é€‰æ‹©ç¬¦ï¼Œç›¸å¯¹äºå…ƒç´ çš„çˆ¶å…ƒç´ è€Œéå½“å‰é€‰æ‹©çš„æ‰€æœ‰å…ƒç´ æ¥è®¡ç®—ä½ç½®ï¼Œå®ƒå¯ä»¥æ¥å—æ•°å€¼ã€ oddæˆ–evenä½œä¸ºå‚æ•° </p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$(<span class="built_in">document</span>).ready(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">	$(<span class="string">'tr:nth-child(odd)'</span>).addClass(<span class="string">'alt'</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
</li>
<li><p>:contains()é€‰æ‹©ç¬¦ä¹Ÿæ˜¯ä¸€ç§è‡ªå®šä¹‰é€‰æ‹©ç¬¦ï¼Œè¡¨ç¤ºå†…å®¹åŒ…å«</p>
</li>
</ul>
</li>
<li><p>è¡¨å•é€‰æ‹©ç¬¦ï¼š  </p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/8d9e34a2891fd7f4e7df9b4190bb8b08-114431" alt="è¡¨å•é€‰æ‹©ç¬¦"></p>
<ul>
<li>ç»„åˆä½¿ç”¨è¡¨å•é€‰æ‹©ç¬¦å¯ä»¥æ›´æœ‰é’ˆå¯¹æ€§  </li>
<li>å³ä¾¿æ˜¯ä½¿ç”¨è‡ªå®šä¹‰é€‰æ‹©ç¬¦ï¼Œä¹Ÿå¯ä»¥æŒ‰ç…§åŸºæœ¬çš„CSSè¯­æ³•æ¥å®šä¹‰åŒ¹é…çš„å…ƒç´ åˆ—è¡¨  </li>
</ul>
</li>
<li><p>.filter()ä»¥æ¥å—å‡½æ•°å‚æ•°ï¼Œé€šè¿‡ä¼ å…¥çš„å‡½æ•°ï¼Œå¯ä»¥æ‰§è¡Œå¤æ‚çš„æµ‹è¯•ï¼Œä»¥å†³å®šç›¸åº”å…ƒç´ æ˜¯å¦åº”è¯¥ä¿ç•™åœ¨åŒ¹é…çš„é›†åˆä¸­ </p>
</li>
<li><p>.next()æ–¹æ³•å¯ä»¥ä¸ºé€‰æ‹©çš„å…ƒç´ çš„ä¸‹ä¸€ä¸ªå…ƒç´ è¿›è¡Œæ“ä½œï¼Œåªé€‰æ‹©ä¸‹ä¸€ä¸ªæœ€æ¥è¿‘çš„åŒè¾ˆå…ƒç´   </p>
</li>
<li><p>.nextAll()æ–¹æ³•é€‰æ‹©æ‰€æœ‰æœ€æ¥è¿‘çš„åŒè¾ˆå…ƒç´      </p>
</li>
<li><p>.next()å’Œ.nextAll()æ–¹æ³•åˆ†åˆ«æœ‰ä¸€ä¸ªå¯¹åº”æ–¹æ³•ï¼Œå³.prev()å’Œ.prevAll()    </p>
</li>
<li><p>.siblings()èƒ½å¤Ÿé€‰æ‹©å¤„äºç›¸åŒDOMå±‚æ¬¡çš„æ‰€æœ‰å…¶ä»–å…ƒç´ ï¼Œæ— è®ºè¿™äº›å…ƒç´ å¤„äºå½“å‰å…ƒç´ ä¹‹å‰è¿˜æ˜¯ä¹‹å  </p>
</li>
<li><p>åœ¨jQueryä¸­ï¼Œå¯ä»¥é€šè¿‡ä¸€è¡Œä»£ç å–å¾—å¤šä¸ªå…ƒç´ é›†åˆå¹¶å¯¹è¿™äº›å…ƒç´ é›†åˆæ‰§è¡Œå¤šæ¬¡æ“ä½œï¼Œå³è¿ç¼€</p>
</li>
<li><p>è¦è®¿é—®jQueryå¯¹è±¡å¼•ç”¨çš„ç¬¬ä¸€ä¸ªDOMå…ƒç´ ï¼Œå¯ä»¥ä½¿ç”¨.get(0) ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> myTag = $(<span class="string">'#my-element'</span>).get(<span class="number">0</span>).tagName;</span><br><span class="line"><span class="comment">// è¿™æ ·ä¹Ÿå¯ä»¥</span></span><br><span class="line"><span class="keyword">var</span> myTag = $(<span class="string">'#my-element'</span>)[<span class="number">0</span>].tagName;</span><br></pre></td></tr></table></figure>
</li>
<li><p>CSSé€‰æ‹©ç¬¦ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/dc952846d066fe06fe497d8c5c32ac5e-77643" alt="CSSé€‰æ‹©ç¬¦"></p>
</li>
<li><p>ç­›é€‰å…ƒç´ ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/2ea1021e4b30ce0fe6c653ca1be2a331-262691" alt="ç­›é€‰å…ƒç´ "></p>
</li>
<li><p>ç»‘å®šï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/2ea1021e4b30ce0fe6c653ca1be2a331-262691" alt="ç»‘å®š"></p>
</li>
</ol>
<h2 id="äº‹ä»¶"><a href="#äº‹ä»¶" class="headerlink" title="äº‹ä»¶"></a>äº‹ä»¶</h2><ol>
<li><p>jQueryå¢å¼ºå¹¶æ‰©å±•äº†åŸºæœ¬çš„äº‹ä»¶å¤„ç†æœºåˆ¶ï¼Œä¸ä»…æä¾›äº†æ›´åŠ ä¼˜é›…çš„äº‹ä»¶å¤„ç†è¯­æ³•ï¼Œè€Œä¸”ä¹Ÿæå¤§åœ°å¢å¼ºäº†äº‹ä»¶å¤„ç†æœºåˆ¶ï¼</p>
</li>
<li><p>é€šè¿‡$(document).ready()æ³¨å†Œçš„äº‹ä»¶å¤„ç†ç¨‹åºï¼Œåˆ™ä¼šåœ¨DOMå®Œå…¨å°±ç»ªå¹¶å¯ä»¥ä½¿ç”¨æ—¶è°ƒç”¨ï¼Œä½†ä¸æ„å‘³ç€æ‰€æœ‰å…³è”çš„æ–‡ä»¶éƒ½å·²ç»ä¸‹è½½å®Œæ¯•ï¼Œå½“HTMLä¸‹è½½å®Œæˆå¹¶è§£æä¸ºDOMæ ‘ä¹‹åï¼Œä»£ç å°±å¯ä»¥è¿è¡Œäº†ï¼›</p>
</li>
<li><p>é€šè¿‡$(document).ready()æœºåˆ¶ï¼Œæ¯æ¬¡è°ƒç”¨è¿™ä¸ªæ–¹æ³•éƒ½ä¼šå‘å†…éƒ¨çš„è¡Œä¸ºé˜Ÿåˆ—ä¸­æ·»åŠ ä¸€ä¸ªæ–°å‡½æ•°ï¼Œå½“é¡µé¢åŠ è½½å®Œæˆåï¼Œæ‰€æœ‰å‡½æ•°éƒ½ä¼šè¢«æ‰§è¡Œï¼Œè¿™äº›å‡½æ•°ä¼šæŒ‰ç…§æ³¨å†Œå®ƒä»¬çš„é¡ºåºä¾æ¬¡æ‰§è¡Œï¼›</p>
</li>
<li><p>é€šè¿‡å¼•å…¥.on()æ–¹æ³•  ï¼Œå¯ä»¥æŒ‡å®šä»»ä½•DOMäº‹ä»¶ï¼Œå¹¶ä¸ºè¯¥äº‹ä»¶æ·»åŠ ä¸€ç§è¡Œä¸ºï¼Œå¤šæ¬¡è°ƒç”¨.on()ä¹Ÿæ²¡æœ‰ä»»ä½•é—®é¢˜ï¼Œå³å¯ä»¥æŒ‰éœ€ä¸ºåŒä¸€ä¸ªäº‹ä»¶è¿½åŠ æ›´å¤šçš„è¡Œä¸ºï¼›</p>
</li>
<li><p>åˆ©ç”¨å¤„ç†ç¨‹åºçš„ä¸Šä¸‹æ–‡å°†è¯­å¥é€šç”¨åŒ–ï¼Œå¯ä»¥ä½¿ä»£ç æ›´é«˜æ•ˆï¼›</p>
</li>
<li><p>è¡Œä¸ºé˜Ÿåˆ—æœºåˆ¶è®©æˆ‘ä»¬åœ¨åŒä¸€ä¸ªå•å‡»äº‹ä»¶ä¸Šç»‘å®šäº†ä¸¤ä¸ªå‡½æ•°ï¼Œè€Œä¸”ç¬¬äºŒä¸ªå‡½æ•°ä¸ä¼šè¦†ç›–ç¬¬ä¸€ä¸ªå‡½æ•°ï¼›</p>
</li>
<li><p>å…è®¸å¤šä¸ªå…ƒç´ å“åº”å•å‡»äº‹ä»¶çš„ä¸€ç§ç­–ç•¥å«åšäº‹ä»¶æ•è·ï¼Œåœ¨äº‹ä»¶æ•è·çš„è¿‡ç¨‹ä¸­ï¼Œäº‹ä»¶é¦–å…ˆä¼šäº¤ç»™æœ€å¤–å±‚çš„å…ƒç´ ï¼Œæ¥ç€å†äº¤ç»™æ›´å…·ä½“çš„å…ƒç´ ï¼›</p>
</li>
<li><p>äº‹ä»¶å†’æ³¡ï¼Œå³å½“äº‹ä»¶å‘ç”Ÿæ—¶ï¼Œä¼šé¦–å…ˆå‘é€ç»™æœ€å…·ä½“çš„å…ƒç´ ï¼Œåœ¨è¿™ä¸ªå…ƒç´ è·å¾—å“åº”æœºä¼šä¹‹åï¼Œäº‹ä»¶ä¼šå‘ä¸Šå†’æ³¡åˆ°æ›´ä¸€èˆ¬çš„å…ƒç´ ï¼›</p>
</li>
<li><p>äº‹ä»¶å§”æ‰˜å°±æ˜¯åˆ©ç”¨å†’æ³¡çš„ä¸€é¡¹é«˜çº§æŠ€æœ¯ï¼Œé€šè¿‡äº‹ä»¶å§”æ‰˜ï¼Œå¯ä»¥å€ŸåŠ©ä¸€ä¸ªå…ƒç´ ä¸Šçš„äº‹ä»¶å¤„ç†ç¨‹åºå®Œæˆå¾ˆå¤šå·¥ä½œï¼›</p>
</li>
<li><p>é”®ç›˜äº‹ä»¶å¯ä»¥åˆ†ä¸ºä¸¤ç±»ï¼šç›´æ¥å¯¹é”®ç›˜æŒ‰é”®ç»™å‡ºå“åº”çš„äº‹ä»¶ï¼ˆ keyupå’Œkeydownï¼‰å’Œå¯¹æ–‡æœ¬è¾“å…¥ç»™å‡ºå“åº”çš„äº‹ä»¶ï¼ˆ keypressï¼‰ï¼›</p>
</li>
<li><p>äº‹ä»¶æ–¹æ³•ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/ddb488910faa07fe99f7d73b3721b7be-300429" alt="äº‹ä»¶æ–¹æ³•"></p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/8b45a48c117f733f784156cde79bba18-41405" alt=""></p>
</li>
</ol>
<h2 id="æ“ä½œDOM"><a href="#æ“ä½œDOM" class="headerlink" title="æ“ä½œDOM"></a>æ“ä½œDOM</h2><ol>
<li><p>jQueryæä¾›äº†.attr()å’Œ.revoveAttr()æ–¹æ³•æ“ä½œå±æ€§ï¼Œæ¯”å¦‚idã€ relå’Œtitleå±æ€§ï¼Œè¿˜å¯ä»¥ä¸€æ¬¡ä¿®æ”¹å¤šä¸ªå±æ€§ï¼› </p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$(<span class="built_in">document</span>).ready(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">$(<span class="string">'div.chapter a'</span>).attr(&#123;<span class="attr">rel</span>: <span class="string">'external'</span>&#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
</li>
<li><p>HTMLå±æ€§æ˜¯æŒ‡é¡µé¢æ ‡è®°ä¸­æ”¾åœ¨å¼•å·ä¸­çš„å€¼ï¼Œè€ŒDOMå±æ€§åˆ™æ˜¯æŒ‡é€šè¿‡JavaScriptèƒ½å¤Ÿå­˜å–çš„å€¼</p>
</li>
<li><p>åœ¨jQueryä¸­ï¼Œå¯ä»¥é€šè¿‡.prop()æ–¹æ³•å–å¾—å’Œè®¾ç½®DOMå±æ€§ï¼›</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">//å–å¾—"checked"å±æ€§çš„å½“å‰å€¼</span></span><br><span class="line"><span class="keyword">var</span> currentlyChecked = $(<span class="string">'.my-checkbox'</span>).prop(<span class="string">'checked'</span>);</span><br><span class="line"><span class="comment">//è®¾ç½®"checked"å±æ€§çš„å€¼</span></span><br><span class="line">$(<span class="string">'.my-checkbox'</span>).prop(<span class="string">'checked'</span>, <span class="literal">false</span>);</span><br></pre></td></tr></table></figure>
</li>
<li><p>åœ¨å–å¾—å’Œè®¾ç½®è¡¨å•æ§ä»¶çš„å€¼æ—¶ï¼Œæœ€å¥½ä¸è¦ä½¿ç”¨.attr()æ–¹æ³•ï¼Œå»ºè®®ä½¿ç”¨jQueryæä¾›çš„.val()æ–¹æ³•ï¼›</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">//å–å¾—æ–‡æœ¬è¾“å…¥æ¡†çš„å½“å‰å€¼</span></span><br><span class="line"><span class="keyword">var</span> inputValue = $(<span class="string">'#my-input'</span>).val();</span><br><span class="line"><span class="comment">//å–å¾—é€‰é¡¹åˆ—è¡¨çš„å½“å‰å€¼</span></span><br><span class="line"><span class="keyword">var</span> selectValue = $(<span class="string">'#my-select'</span>).val();</span><br><span class="line"><span class="comment">//è®¾ç½®å•é€‰åˆ—è¡¨çš„å€¼</span></span><br><span class="line">$(<span class="string">'#my-single-select'</span>).val(<span class="string">'value3'</span>);</span><br><span class="line"><span class="comment">//è®¾ç½®å¤šé€‰åˆ—è¡¨çš„å€¼</span></span><br><span class="line">$(<span class="string">'#my-multi-select'</span>).val([<span class="string">'value1'</span>, <span class="string">'value2'</span>]);</span><br></pre></td></tr></table></figure>
</li>
<li><p>jQueryæä¾›äº†å¾ˆå¤šå°†å…ƒç´ æ’å…¥åˆ°æ–‡æ¡£ä¸­çš„æ–¹æ³•ï¼Œå¯ ä»¥ä½¿ç”¨.insertAfter()æ–¹æ³•ï¼›å¯ä»¥ä½¿ç”¨.insertBefore()æ–¹æ³•ï¼Œè¿™ä¸¤ä¸ªéƒ½æ˜¯åœ¨æŒ‡å®šçš„å…ƒç´ å¤–éƒ¨æ’å…¥æ–°å†…å®¹ï¼›</p>
<ul>
<li>.insertBefore()åœ¨ç°æœ‰å…ƒç´ å¤–éƒ¨ã€ä¹‹å‰æ·»åŠ å†…å®¹</li>
<li>.prependTo()åœ¨ç°æœ‰å…ƒç´ å†…éƒ¨ã€ä¹‹å‰æ·»åŠ å†…å®¹</li>
<li>.appendTo()åœ¨ç°æœ‰å…ƒç´ å†…éƒ¨ã€ä¹‹åæ·»åŠ å†…å®¹</li>
<li>.insertAfter()åœ¨ç°æœ‰å…ƒç´ å¤–éƒ¨ã€ä¹‹åæ·»åŠ å†…å®¹  </li>
</ul>
</li>
<li><p>è¦åœ¨ä¸€ä¸ªå…ƒç´ ä¸­åŒ…è£…å¦ä¸€ä¸ªå…ƒç´ ï¼Œå¿…é¡»çŸ¥é“æ˜¯æŠŠæ¯ä¸ªå…ƒç´ åˆ†åˆ«åŒ…è£…åœ¨å„è‡ªçš„å®¹å™¨ä¸­ï¼Œè¿˜æ˜¯æŠŠæ‰€æœ‰å…ƒç´ åŒ…è£…åœ¨ä¸€ä¸ªå®¹å™¨ä¸­ï¼›</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$(<span class="built_in">document</span>).ready(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">	$(<span class="string">'span.footnote'</span>)</span><br><span class="line">	.insertBefore(<span class="string">'#footer'</span>)</span><br><span class="line">	.wrapAll(<span class="string">'&lt;ol id="notes"&gt;&lt;/ol&gt;'</span>)</span><br><span class="line">	.wrap(<span class="string">'&lt;li&gt;&lt;/li&gt;'</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
</li>
<li><p>.each()æ–¹æ³•å°±æ˜¯ä¸€ä¸ªæ˜¾å¼è¿­ä»£å™¨ï¼Œè¿™ä¸ªæ–¹æ³•æ¥å—ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°ä¼šé’ˆå¯¹åŒ¹é…çš„å…ƒç´ é›†ä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½è°ƒç”¨ä¸€æ¬¡</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$(<span class="built_in">document</span>).ready(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">	<span class="keyword">var</span> $notes = $(<span class="string">'&lt;ol id="notes"&gt;&lt;/ol&gt;'</span>).insertBefore(<span class="string">'#footer'</span>);</span><br><span class="line">	$(<span class="string">'span.footnote'</span>).each(<span class="function"><span class="keyword">function</span>(<span class="params">index</span>) </span>&#123;</span><br><span class="line">	$(<span class="keyword">this</span>).appendTo($notes).wrap(<span class="string">'&lt;li&gt;&lt;/li&gt;'</span>);</span><br><span class="line">	&#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
</li>
<li><p>åœ¨å¤åˆ¶å…ƒç´ æ—¶ï¼Œéœ€è¦ä½¿ç”¨jQueryçš„.clone()æ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•èƒ½å¤Ÿåˆ›å»ºä»»ä½•åŒ¹é…çš„å…ƒç´ é›†åˆçš„å‰¯æœ¬ä»¥ä¾¿å°†æ¥ä½¿ç”¨ï¼Œè¦æƒ³è®©å¤åˆ¶çš„å†…å®¹æ˜¾ç¤ºåœ¨ç½‘é¡µä¸­ï¼Œå¯ä»¥ä½¿ç”¨æ’å…¥æ–¹æ³•ï¼›  </p>
</li>
<li><p>æ€»ç»“ï¼š</p>
<ol>
<li>è¦åœ¨HTMLä¸­åˆ›å»ºæ–°å…ƒç´ ï¼Œä½¿ç”¨$()å‡½æ•°  </li>
<li>è¦åœ¨æ¯ä¸ªåŒ¹é…çš„å…ƒç´ ä¸­æ’å…¥æ–°å…ƒç´ ï¼Œä½¿ç”¨ï¼š  <ul>
<li>.append()  </li>
<li>.appendTo()  </li>
<li>.prepend()  </li>
<li>.prependTo()</li>
</ul>
</li>
<li>è¦åœ¨æ¯ä¸ªåŒ¹é…çš„å…ƒç´ ç›¸é‚»çš„ä½ç½®ä¸Šæ’å…¥æ–°å…ƒç´ ï¼Œä½¿ç”¨ï¼š  <ul>
<li>.after()  </li>
<li>.insertAfter()  </li>
<li>.before()  </li>
<li>.insertBefore()  </li>
</ul>
</li>
<li>è¦åœ¨æ¯ä¸ªåŒ¹é…çš„å…ƒç´ å¤–éƒ¨æ’å…¥æ–°å…ƒç´ ï¼Œä½¿ç”¨ï¼š  <ul>
<li>.wrap()  </li>
<li>.wrapAll()  </li>
<li>.wrapInner()  </li>
</ul>
</li>
<li>è¦ç”¨æ–°å…ƒç´ æˆ–æ–‡æœ¬æ›¿æ¢æ¯ä¸ªåŒ¹é…çš„å…ƒç´ ï¼Œä½¿ç”¨ï¼š  <ul>
<li>.html()  </li>
<li>.text()  </li>
<li>.replaceAll()  </li>
<li>.replaceWith()  </li>
</ul>
</li>
<li>è¦ç§»é™¤æ¯ä¸ªåŒ¹é…çš„å…ƒç´ ä¸­çš„å…ƒç´ ï¼Œä½¿ç”¨ï¼š  <ul>
<li>.empty()  </li>
</ul>
</li>
<li>è¦ä»æ–‡æ¡£ä¸­ç§»é™¤æ¯ä¸ªåŒ¹é…çš„å…ƒç´ åŠå…¶åä»£å…ƒç´ ï¼Œä½†ä¸å®é™…åˆ é™¤å®ƒä»¬ï¼Œä½¿ç”¨ ï¼š<ul>
<li>.remove()  </li>
<li>.detach()  </li>
</ul>
</li>
</ol>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/7a2e97ceb1a781034871e81b56a77e40-143308" alt=""></p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/30290f0b042e08c314fa951c10a84f92-152902" alt=""></p>
</li>
</ol>
<h2 id="ä½¿ç”¨æ’ä»¶"><a href="#ä½¿ç”¨æ’ä»¶" class="headerlink" title="ä½¿ç”¨æ’ä»¶"></a>ä½¿ç”¨æ’ä»¶</h2><ol>
<li>ä½¿ç”¨jQueryç®€æ´çš„æ’ä»¶æ¶æ„ï¼Œå¼€å‘è€…èƒ½å¤ŸæŠŠjQueryçš„åŠŸèƒ½æ‰©å±•å¾—æ›´åŠ ä¸°å¯Œï¼›</li>
<li>jQueryå®˜æ–¹ç½‘ç«™çš„<a href="https://plugins.jquery.com/" target="_blank" rel="noopener">æ’ä»¶åº“</a>å›Šæ‹¬äº†å¤§é‡æ’ä»¶ï¼›</li>
<li>jQueryè®ºå›ä¸­ä¸“é—¨æœ‰ä¸€ä¸ªåŒºåŸŸï¼Œ<a href="http://forum.jquery.com/using-jquery-plugins" target="_blank" rel="noopener">è®¨è®ºæ’ä»¶çš„ä½¿ç”¨</a></li>
<li>æ’ä»¶å¹¶ä¸å±€é™äºæä¾›æ›´å¤šçš„jQueryæ–¹æ³•ï¼Œä¹Ÿå¯ä»¥æ‰©å±•jQueryçš„åŠŸèƒ½ï¼Œç”šè‡³ä¿®æ”¹å·²æœ‰çš„ç‰¹æ€§ï¼›</li>
<li>å¾ˆå¤šæµè¡Œçš„æ’ä»¶åœ¨jQueryå‘½åç©ºé—´ä¸­æä¾›äº†ä¸€äº›æ–°çš„å…¨å±€å‡½æ•°  </li>
<li>jQuery UIå›¢é˜Ÿåˆ›å»ºäº†å¤§é‡æ ¸å¿ƒäº¤äº’ç»„ä»¶åŠæˆç†Ÿçš„éƒ¨ä»¶ï¼ˆ widgetï¼‰ï¼Œä½¿ç”¨å®ƒä»¬å¯ä»¥åˆ›é€ å‡ºæ›´åŠ ç±»ä¼¼æ¡Œé¢åº”ç”¨ç¨‹åºçš„Webä½“éªŒï¼›</li>
<li>jQuery UIä¸­çš„æ•ˆæœï¼ˆ effectï¼‰æ¨¡å—ç”±ä¸€ä¸ªæ ¸å¿ƒæ–‡ä»¶å’Œä¸€ç»„ç‹¬ç«‹çš„æ•ˆæœæ–‡ä»¶ç»„æˆï¼›</li>
<li>jQuery UIåº“æœ€è¿‘å¢æ·»çš„ä¸€é¡¹åä¸ºThemeRollerï¼ˆä¸»é¢˜å·è½´ï¼‰çš„åŠŸèƒ½ï¼Œè¿™æ˜¯ä¸€ä¸ªé¢å‘UIéƒ¨ä»¶çš„åŸºäºWebçš„äº¤äº’å¼ä¸»é¢˜å¼•æ“ï¼›</li>
</ol>
<hr>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>jQueryåœ¨Webå¼€å‘ä¸­éå¸¸æ–¹ä¾¿ï¼ŒjQuery æ˜¯ç›®å‰æœ€å—æ¬¢è¿çš„ JavaScript/Ajax åº“ä¹‹ä¸€ï¼Œ èƒ½ç”¨æœ€å°‘çš„ä»£ç å®ç°æœ€å¤šçš„åŠŸèƒ½ï¼ä¸€åˆ‡ä¸ºäº†ç®€å•! jQueryé¡¹ç›®ä¸€å®šä¼šç»§ç»­æˆé•¿å¹¶å–å¾—æ›´å¤§çš„æˆåŠŸ!     </p>
]]></content>
      <categories>
        <category>jQuery</category>
      </categories>
  </entry>
  <entry>
    <title>ä½ ä¸çŸ¥é“çš„JavaScript</title>
    <url>/2020/06/11/%E4%BD%A0%E4%B8%8D%E7%9F%A5%E9%81%93%E7%9A%84JavaScript/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>åœ¨äº’è”ç½‘å‘å±•çš„æ—©æœŸï¼Œ JavaScript å°±å·²ç»æˆä¸ºäº†æ”¯æ’‘ç½‘é¡µå†…å®¹äº¤äº’ä½“éªŒçš„åŸºç¡€æŠ€æœ¯ï¼Œä¼˜ç§€çš„æŠ€æœ¯æ€»æ˜¯è®©äººå¿ä¸ä½å»å­¦ã€‚JavaScript è¯­è¨€æœ¬èº«æœ‰å¾ˆå¤šå¤æ‚çš„æ¦‚å¿µï¼Œè¯­è¨€çš„ä½¿ç”¨è€…ä¸å¿…æ·±å…¥ç†è§£è¿™äº›æ¦‚å¿µä¹Ÿå¯ä»¥ç¼–å†™å‡ºåŠŸèƒ½å…¨é¢çš„åº”ç”¨ï¼Œè¿™äº›å¤æ‚ç²¾å¦™çš„æ¦‚å¿µæ‰æ˜¯è¯­è¨€çš„ç²¾é«“ï¼Œè¦ç›´é¢å½“å‰ JavaScript å¼€å‘è€…ä¸æ±‚ç”šè§£çš„å¤§è¶‹åŠ¿ï¼Œæ·±å…¥ç†è§£è¯­è¨€å†…éƒ¨çš„æœºåˆ¶ï¼<strong>æ¨èä¹¦ç±ï¼šã€Šä½ ä¸çŸ¥é“çš„JavaScript ä¸Šå·ã€‹Â· [ç¾] Kyle Simpson è‘— èµµæœ›é‡ æ¢æ°è¯‘</strong></p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="ä½œç”¨åŸŸ"><a href="#ä½œç”¨åŸŸ" class="headerlink" title="ä½œç”¨åŸŸ"></a>ä½œç”¨åŸŸ</h2><ol>
<li><p>åœ¨ä¼ ç»Ÿç¼–è¯‘è¯­è¨€çš„æµç¨‹ä¸­ï¼Œç¨‹åºä¸­çš„ä¸€æ®µæºä»£ç åœ¨æ‰§è¡Œ ä¹‹å‰ä¼šç»å†ä¸‰ä¸ªæ­¥éª¤ï¼Œç»Ÿç§°ä¸ºâ€œç¼– è¯‘â€ï¼š</p>
<ul>
<li>åˆ†è¯/è¯æ³•åˆ†æï¼ˆTokenizing/Lexingï¼‰</li>
<li>è§£æ/è¯­æ³•åˆ†æï¼ˆParsingï¼‰</li>
<li>ä»£ç ç”Ÿæˆ</li>
</ul>
</li>
<li><p>ä»»ä½• JavaScript ä»£ç ç‰‡æ®µåœ¨æ‰§è¡Œå‰éƒ½è¦è¿›è¡Œç¼–è¯‘ï¼ˆé€šå¸¸å°±åœ¨æ‰§è¡Œå‰ï¼‰ï¼</p>
</li>
<li><p>åŸºç¡€æ¦‚å¿µï¼š</p>
<ul>
<li>å¼•æ“â€”â€”ä»å¤´åˆ°å°¾è´Ÿè´£æ•´ä¸ªJavaScriptç¨‹åºçš„ç¼–è¯‘åŠæ‰§è¡Œè¿‡ç¨‹</li>
<li>ç¼–è¯‘å™¨â€”â€”è´Ÿè´£è¯­æ³•åˆ†æåŠä»£ç ç”Ÿæˆç­‰è„æ´»ç´¯æ´»</li>
<li>ä½œç”¨åŸŸâ€”â€”è´Ÿè´£æ”¶é›†å¹¶ç»´æŠ¤ç”±æ‰€æœ‰å£°æ˜çš„æ ‡è¯†ç¬¦ï¼ˆå˜é‡ï¼‰ç»„æˆçš„ä¸€ç³»åˆ—æŸ¥è¯¢ï¼Œå¹¶å®æ–½ä¸€å¥—éå¸¸ä¸¥æ ¼çš„è§„åˆ™ï¼Œç¡®å®šå½“å‰æ‰§è¡Œçš„ä»£ç å¯¹è¿™äº›æ ‡è¯†ç¬¦çš„è®¿é—®æƒé™</li>
</ul>
</li>
<li><p>å½“ä¸€ä¸ªå—æˆ–å‡½æ•°åµŒå¥—åœ¨å¦ä¸€ä¸ªå—æˆ–å‡½æ•°ä¸­æ—¶ï¼Œå°±å‘ç”Ÿäº†ä½œç”¨åŸŸçš„åµŒå¥—ï¼Œåœ¨å½“å‰ä½œç”¨åŸŸä¸­æ— æ³•æ‰¾åˆ°æŸä¸ªå˜é‡æ—¶ï¼Œå¼•æ“å°±ä¼šåœ¨å¤–å±‚åµŒå¥—çš„ä½œç”¨åŸŸä¸­ç»§ç»­æŸ¥æ‰¾ï¼Œç›´åˆ°æ‰¾åˆ°è¯¥å˜é‡ï¼Œ æˆ–æŠµè¾¾æœ€å¤–å±‚çš„ä½œç”¨åŸŸï¼ˆä¹Ÿå°±æ˜¯å…¨å±€ä½œç”¨åŸŸï¼‰ä¸ºæ­¢ï¼Œå½“æŠµè¾¾æœ€å¤–å±‚çš„å…¨å±€ä½œç”¨åŸŸæ—¶ï¼Œæ— è®ºæ‰¾åˆ°è¿˜æ˜¯æ²¡æ‰¾åˆ°ï¼ŒæŸ¥æ‰¾è¿‡ç¨‹éƒ½ä¼šåœæ­¢ï¼</p>
</li>
<li><p>ES5ä¸­å¼•å…¥äº†â€œä¸¥æ ¼æ¨¡å¼â€ï¼Œä¸¥æ ¼æ¨¡å¼åœ¨è¡Œä¸ºä¸Šæœ‰å¾ˆå¤šä¸åŒï¼Œæ¯”å¦‚ä¸¥æ ¼æ¨¡å¼ç¦æ­¢è‡ªåŠ¨æˆ–éšå¼åœ°åˆ›å»ºå…¨å±€å˜é‡ï¼›</p>
</li>
<li><p>å¦‚æœæŸ¥æ‰¾çš„ç›®çš„æ˜¯å¯¹å˜é‡è¿›è¡Œèµ‹å€¼ï¼Œé‚£ä¹ˆå°±ä¼šä½¿ç”¨ LHS æŸ¥è¯¢ï¼›å¦‚æœç›®çš„æ˜¯è·å–å˜é‡çš„å€¼ï¼Œå°±ä¼šä½¿ç”¨ RHS æŸ¥è¯¢ã€‚ä¸æˆåŠŸçš„ RHS å¼•ç”¨ä¼šå¯¼è‡´æŠ›å‡º ReferenceError å¼‚å¸¸ã€‚ä¸æˆåŠŸçš„ LHS å¼•ç”¨ä¼šå¯¼è‡´è‡ªåŠ¨éšå¼åœ°åˆ›å»ºä¸€ä¸ªå…¨å±€å˜é‡ï¼ˆéä¸¥æ ¼æ¨¡å¼ä¸‹ï¼‰ï¼Œè¯¥å˜é‡ä½¿ç”¨ LHS å¼•ç”¨çš„ç›®æ ‡ä½œä¸ºæ ‡è¯†ç¬¦ï¼Œæˆ–è€…æŠ›å‡º ReferenceError å¼‚å¸¸ï¼ˆä¸¥æ ¼æ¨¡å¼ä¸‹ï¼‰ï¼›</p>
</li>
<li><p>è¯æ³•ä½œç”¨åŸŸå°±æ˜¯å®šä¹‰åœ¨è¯æ³•é˜¶æ®µçš„ä½œç”¨åŸŸï¼›</p>
</li>
<li><p>ä½œç”¨åŸŸæŸ¥æ‰¾ä¼šåœ¨æ‰¾åˆ°ç¬¬ä¸€ä¸ªåŒ¹é…çš„æ ‡è¯†ç¬¦æ—¶åœæ­¢ã€‚ åœ¨å¤šå±‚çš„åµŒå¥—ä½œç”¨åŸŸä¸­å¯ä»¥å®šä¹‰åŒåçš„æ ‡è¯†ç¬¦ï¼Œè¿™å«ä½œâ€œé®è”½æ•ˆåº”â€ï¼›</p>
</li>
<li><p>JavaScriptä¸­æœ‰ä¸¤ä¸ªæœºåˆ¶å¯ä»¥â€œæ¬ºéª—â€è¯æ³•ä½œç”¨åŸŸï¼š eval(..) å’Œ withã€‚JavaScript ä¸­çš„ eval(..) å‡½æ•°å¯ä»¥æ¥å—ä¸€ä¸ªå­—ç¬¦ä¸²ä¸ºå‚æ•°ï¼Œå¹¶å°†å…¶ä¸­çš„å†…å®¹è§†ä¸ºå¥½åƒåœ¨ä¹¦å†™æ—¶å°±å­˜åœ¨äºç¨‹åºä¸­è¿™ä¸ªä½ç½®çš„ä»£ç ï¼›</p>
</li>
<li><p>JavaScript ä¸­å¦ä¸€ä¸ªéš¾ä»¥æŒæ¡ï¼ˆå¹¶ä¸”ç°åœ¨ä¹Ÿä¸æ¨èä½¿ç”¨ï¼‰çš„ç”¨æ¥æ¬ºéª—è¯æ³•ä½œç”¨åŸŸçš„åŠŸèƒ½æ˜¯with å…³é”®å­—ï¼Œé€šå¸¸è¢«å½“ä½œé‡å¤å¼•ç”¨åŒä¸€ä¸ªå¯¹è±¡ä¸­çš„å¤šä¸ªå±æ€§çš„å¿«æ·æ–¹å¼ï¼Œå¯ä»¥ä¸éœ€è¦ é‡å¤å¼•ç”¨å¯¹è±¡æœ¬èº«ï¼›</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123; <span class="attr">a</span>: <span class="number">1</span>, <span class="attr">b</span>: <span class="number">2</span>, <span class="attr">c</span>: <span class="number">3</span> &#125;;</span><br><span class="line"><span class="comment">// å•è°ƒä¹å‘³çš„é‡å¤ "obj" </span></span><br><span class="line">obj.a = <span class="number">2</span>; </span><br><span class="line">obj.b = <span class="number">3</span>; </span><br><span class="line">obj.c = <span class="number">4</span>;</span><br><span class="line"><span class="comment">// ç®€å•çš„å¿«æ·æ–¹å¼ </span></span><br><span class="line"><span class="keyword">with</span> (obj) &#123;</span><br><span class="line">	a = <span class="number">3</span>;</span><br><span class="line">	b = <span class="number">4</span>;</span><br><span class="line">	c = <span class="number">5</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>å¦‚æœä»£ç ä¸­å¤§é‡ä½¿ç”¨ eval(..) æˆ– with ï¼Œ é‚£ä¹ˆè¿è¡Œèµ·æ¥ä¸€å®šä¼šå˜å¾—éå¸¸!</p>
</li>
<li><p>å‡½æ•°ä½œç”¨åŸŸæ˜¯æŒ‡å±äºè¿™ä¸ªå‡½æ•°çš„å…¨éƒ¨å˜é‡éƒ½å¯ä»¥åœ¨æ•´ä¸ªå‡½æ•°çš„èŒƒå›´å†…ä½¿ç”¨åŠå¤ç”¨ï¼›</p>
</li>
<li><p>â€œéšè—â€ä½œç”¨åŸŸä¸­çš„å˜é‡å’Œå‡½æ•°æ‰€å¸¦æ¥çš„å¦ä¸€ä¸ªå¥½å¤„ï¼Œæ˜¯å¯ä»¥é¿å…åŒåæ ‡è¯†ç¬¦ä¹‹é—´çš„å†²çªï¼›</p>
</li>
<li><p>åœ¨ä»»æ„ä»£ç ç‰‡æ®µå¤–éƒ¨æ·»åŠ åŒ…è£…å‡½æ•°ï¼Œ å¯ä»¥å°†å†…éƒ¨çš„å˜é‡å’Œå‡½æ•°å®šä¹‰â€œéšè—â€èµ·æ¥ï¼Œå¤–éƒ¨ä½œç”¨åŸŸæ— æ³•è®¿é—®åŒ…è£…å‡½æ•°å†…éƒ¨çš„ä»»ä½•å†…å®¹ï¼›</p>
</li>
<li><p>åŒ¿åå‡½æ•°è¡¨è¾¾å¼ ï¼Œå› ä¸º function().. æ²¡æœ‰åç§°æ ‡è¯†ç¬¦ã€‚å‡½æ•°è¡¨è¾¾å¼å¯ä»¥æ˜¯åŒ¿åçš„ï¼Œè€Œå‡½æ•°å£°æ˜åˆ™ä¸å¯ä»¥çœç•¥å‡½æ•°åï¼›</p>
<ul>
<li>åŒ¿åå‡½æ•°åœ¨æ ˆè¿½è¸ªä¸­ä¸ä¼šæ˜¾ç¤ºå‡ºæœ‰æ„ä¹‰çš„å‡½æ•°åï¼Œä½¿å¾—è°ƒè¯•å¾ˆå›°éš¾</li>
<li>å¦‚æœæ²¡æœ‰å‡½æ•°åï¼Œå½“å‡½æ•°éœ€è¦å¼•ç”¨è‡ªèº«æ—¶åªèƒ½ä½¿ç”¨å·²ç»è¿‡æœŸçš„ arguments.callee å¼•ç”¨</li>
<li>åŒ¿åå‡½æ•°çœç•¥äº†å¯¹äºä»£ç å¯è¯»æ€§ / å¯ç†è§£æ€§å¾ˆé‡è¦çš„å‡½æ•°å</li>
</ul>
</li>
<li><p>è¡Œå†…å‡½æ•°è¡¨è¾¾å¼ï¼Œç»™å‡½æ•°è¡¨è¾¾å¼æŒ‡å®šä¸€ä¸ªå‡½æ•°åå¯ä»¥æœ‰æ•ˆè§£å†³ä»¥ä¸Šé—®é¢˜ï¼›</p>
</li>
<li><p>å¼€å‘è€…éœ€è¦ æ£€æŸ¥ è‡ªå·±çš„ä»£ç ï¼Œä»¥é¿å…åœ¨ä½œç”¨èŒƒå›´å¤–æ„å¤–åœ°ä½¿ç”¨ï¼ˆæˆ–å¤ç”¨ï¼‰æŸäº›å˜é‡ï¼Œå¦‚æœåœ¨é”™è¯¯çš„åœ°æ–¹ä½¿ç”¨å˜é‡å°†å¯¼è‡´æœªçŸ¥å˜é‡çš„å¼‚å¸¸ï¼›</p>
</li>
<li><p>ES6 è¿˜å¼•å…¥äº† const ï¼Œ åŒæ ·å¯ä»¥ç”¨æ¥åˆ›å»ºå—ä½œç”¨åŸŸå˜é‡ï¼Œ ä½†å…¶å€¼æ˜¯å›ºå®šçš„ï¼ˆå¸¸é‡ï¼‰ï¼Œä¹‹åä»»ä½•è¯•å›¾ä¿®æ”¹å€¼çš„æ“ä½œéƒ½ä¼šå¼•èµ·é”™è¯¯ï¼›</p>
</li>
<li><p>ä»»ä½•å£°æ˜åœ¨æŸä¸ªä½œç”¨åŸŸå†…çš„å˜é‡ï¼Œéƒ½å°†é™„å±äºè¿™ä¸ªä½œç”¨åŸŸï¼</p>
</li>
<li><p>æ¯ä¸ªä½œç”¨åŸŸéƒ½ä¼šè¿›è¡Œæå‡æ“ä½œ!å‡½æ•°å£°æ˜å’Œå˜é‡å£°æ˜éƒ½ä¼šè¢«æå‡,å‡½æ•°ä¼šé¦–å…ˆè¢«æå‡ï¼Œç„¶åæ‰æ˜¯å˜é‡;</p>
</li>
</ol>
<h2 id="é—­åŒ…"><a href="#é—­åŒ…" class="headerlink" title="é—­åŒ…"></a>é—­åŒ…</h2><ol>
<li><p>JavaScriptä¸­é—­åŒ…æ— å¤„ä¸åœ¨ï¼Œä½ åªéœ€è¦èƒ½å¤Ÿè¯†åˆ«å¹¶æ‹¥æŠ±å®ƒ!</p>
</li>
<li><p>æ ¹æ®è‡ªå·±çš„æ„æ„¿æ¥è¯†åˆ«ã€æ‹¥æŠ±å’Œå½±å“é—­åŒ…çš„æ€ç»´ç¯å¢ƒï¼›</p>
</li>
<li><p>å½“å‡½æ•°å¯ä»¥è®°ä½å¹¶è®¿é—®æ‰€åœ¨çš„è¯æ³•ä½œç”¨åŸŸæ—¶ï¼Œå°±äº§ç”Ÿäº†é—­åŒ…ï¼Œå³ä½¿å‡½æ•°æ˜¯åœ¨å½“å‰è¯æ³•ä½œç”¨åŸŸä¹‹å¤–æ‰§è¡Œï¼›</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">	<span class="keyword">var</span> a = <span class="number">2</span>; </span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">bar</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log( a ); </span><br><span class="line">  &#125; </span><br><span class="line">  <span class="keyword">return</span> bar;</span><br><span class="line">&#125; </span><br><span class="line"><span class="keyword">var</span> baz = foo();</span><br><span class="line">baz();</span><br></pre></td></tr></table></figure>
</li>
<li><p>é—­åŒ…ä½¿å¾—å‡½æ•°å¯ä»¥ç»§ç»­è®¿é—®å®šä¹‰æ—¶çš„è¯æ³•ä½œç”¨åŸŸ;</p>
</li>
<li><p>æ— è®ºé€šè¿‡ä½•ç§æ‰‹æ®µå°†å†…éƒ¨å‡½æ•° ä¼ é€’ åˆ°æ‰€åœ¨çš„è¯æ³•ä½œç”¨åŸŸä»¥å¤–ï¼Œå®ƒéƒ½ä¼šæŒæœ‰å¯¹åŸå§‹å®šä¹‰ä½œç”¨åŸŸçš„å¼•ç”¨ï¼Œæ— è®ºåœ¨ä½•å¤„æ‰§è¡Œè¿™ä¸ªå‡½æ•°éƒ½ä¼šä½¿ç”¨é—­åŒ…;</p>
</li>
<li><p>æ¨¡å—æ¨¡å¼éœ€è¦å…·å¤‡ä¸¤ä¸ªå¿…è¦æ¡ä»¶:</p>
<ol>
<li>å¿…é¡»æœ‰å¤–éƒ¨çš„å°é—­å‡½æ•°ï¼Œè¯¥å‡½æ•°å¿…é¡»è‡³å°‘è¢«è°ƒç”¨ä¸€æ¬¡</li>
<li>å°é—­å‡½æ•°å¿…é¡»è¿”å›è‡³å°‘ä¸€ä¸ªå†…éƒ¨å‡½æ•°ï¼Œè¿™æ ·å†…éƒ¨å‡½æ•°æ‰èƒ½åœ¨ç§æœ‰ä½œç”¨åŸŸä¸­å½¢æˆé—­åŒ…ï¼Œå¹¶ä¸”å¯ä»¥è®¿é—®æˆ–è€…ä¿®æ”¹ç§æœ‰çš„çŠ¶æ€</li>
</ol>
</li>
</ol>
<h2 id="this"><a href="#this" class="headerlink" title="this"></a>this</h2><ol>
<li><p>thiså…³é”®å­—æ˜¯ JavaScript ä¸­æœ€å¤æ‚çš„æœºåˆ¶ä¹‹ä¸€ï¼Œè¢«è‡ªåŠ¨å®šä¹‰åœ¨æ‰€æœ‰å‡½æ•°çš„ä½œç”¨åŸŸä¸­ï¼›</p>
</li>
<li><p>this æä¾›äº†ä¸€ç§æ›´ä¼˜é›…çš„æ–¹å¼æ¥éšå¼â€œä¼ é€’â€ä¸€ä¸ªå¯¹è±¡å¼•ç”¨ï¼</p>
</li>
<li><p>æ¯å½“æƒ³è¦æŠŠthiså’Œè¯æ³•ä½œç”¨åŸŸçš„æŸ¥æ‰¾æ··åˆä½¿ç”¨æ—¶ï¼Œä¸€å®šè¦æé†’è‡ªå·±ï¼Œè¿™æ˜¯æ— æ³•å®ç°çš„ï¼</p>
</li>
<li><p>this çš„ç»‘å®šå’Œå‡½æ•°å£°æ˜çš„ä½ç½®æ²¡æœ‰ä»»ä½•å…³ç³»ï¼Œåªå–å†³äºå‡½æ•°çš„è°ƒç”¨æ–¹å¼ï¼Œå½“ä¸€ä¸ªå‡½æ•°è¢«è°ƒç”¨æ—¶ï¼Œä¼šåˆ›å»ºä¸€ä¸ªæ´»åŠ¨è®°å½•ï¼ˆæœ‰æ—¶å€™ä¹Ÿç§°ä¸ºæ‰§è¡Œä¸Šä¸‹æ–‡ï¼‰ï¼Œè¿™ä¸ªè®°å½•ä¼šåŒ…å«å‡½æ•°åœ¨å“ªé‡Œè¢«è°ƒç”¨ï¼ˆè°ƒç”¨æ ˆï¼‰ã€å‡½æ•°çš„è°ƒç”¨æ–¹æ³• ã€ä¼ å…¥çš„å‚æ•°ç­‰ä¿¡æ¯ï¼Œ<strong>this å°±æ˜¯è®°å½•çš„å…¶ä¸­ä¸€ä¸ªå±æ€§ï¼Œä¼šåœ¨å‡½æ•°æ‰§è¡Œçš„è¿‡ç¨‹ä¸­ç”¨åˆ°ï¼›</strong></p>
</li>
<li><p><strong>å­¦ä¹  this çš„ç¬¬ä¸€æ­¥æ˜¯æ˜ç™½ this æ—¢ä¸æŒ‡å‘å‡½æ•°è‡ªèº«ä¹Ÿä¸æŒ‡å‘å‡½æ•°çš„è¯æ³•ä½œç”¨åŸŸï¼</strong></p>
</li>
<li><p>è°ƒç”¨ä½ç½®å°±æ˜¯å‡½æ•°åœ¨ä»£ç ä¸­è¢«è°ƒç”¨çš„ä½ç½®ï¼ˆè€Œä¸æ˜¯å£°æ˜çš„ä½ç½®ï¼‰,ä½†æ˜¯åšèµ·æ¥å¹¶æ²¡æœ‰è¿™ä¹ˆç®€å•ï¼Œå› ä¸ºæŸäº›ç¼–ç¨‹æ¨¡å¼å¯èƒ½ä¼šéšè—çœŸæ­£çš„è°ƒç”¨ä½ç½®!</p>
</li>
<li><p>æŸ¥çœ‹è°ƒç”¨æ ˆçš„æ–¹æ³•æ˜¯ä½¿ç”¨æµè§ˆå™¨çš„è°ƒè¯•å·¥å…·ï¼Œç»å¤§å¤šæ•°ç°ä»£æ¡Œé¢æµè§ˆå™¨éƒ½å†…ç½®äº†å¼€å‘è€…å·¥å…·ï¼Œ å…¶ä¸­åŒ…å« JavaScript è°ƒè¯•å™¨ï¼›</p>
</li>
<li><p>ç»‘å®šè§„åˆ™ï¼š</p>
<ol>
<li>é»˜è®¤ç»‘å®šâ€”â€”æœ€å¸¸ç”¨çš„å‡½æ•°è°ƒç”¨ç±»å‹ï¼šç‹¬ç«‹å‡½æ•°è°ƒç”¨ï¼Œå¯ä»¥æŠŠè¿™æ¡è§„åˆ™çœ‹ä½œæ˜¯æ— æ³•åº”ç”¨å…¶ä»–è§„åˆ™æ—¶çš„é»˜è®¤è§„åˆ™ï¼›</li>
<li>éšå¼ç»‘å®šâ€”â€”è°ƒç”¨ä½ç½®æ˜¯å¦æœ‰ä¸Šä¸‹æ–‡å¯¹è±¡ï¼ˆå›è°ƒå‡½æ•°ä¸¢å¤± this ç»‘å®šæ˜¯éå¸¸å¸¸è§çš„ï¼‰ï¼›</li>
<li>æ˜¾å¼ç»‘å®šâ€”â€”JavaScript æä¾›çš„ç»å¤§å¤šæ•°å‡½æ•°ä»¥åŠè‡ªå·±åˆ›å»ºçš„æ‰€æœ‰å‡½æ•°éƒ½å¯ä»¥ä½¿ç”¨ call(..) å’Œ apply(..) æ–¹æ³•ï¼›ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œä¼šæŠŠè¿™ä¸ªå¯¹è±¡ç»‘å®šåˆ°this ï¼Œ æ¥ç€åœ¨è°ƒç”¨å‡½æ•°æ—¶æŒ‡å®šè¿™ä¸ª thisï¼›</li>
<li>JavaScriptæœ‰ä¸€ä¸ª new æ“ä½œç¬¦ï¼Œä½¿ç”¨æ–¹æ³•çœ‹èµ·æ¥ä¹Ÿå’Œé‚£äº›é¢å‘ç±»çš„è¯­è¨€ä¸€æ ·ï¼Œ</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123; </span><br><span class="line">  <span class="built_in">console</span>.log( <span class="keyword">this</span>.a ); </span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> obj = &#123; </span><br><span class="line">  a:<span class="number">2</span> </span><br><span class="line">&#125;;</span><br><span class="line">foo.call( obj ); <span class="comment">// 2</span></span><br><span class="line"><span class="comment">//å¦‚æœä½ ä¼ å…¥äº†ä¸€ä¸ªåŸå§‹å€¼ï¼ˆå­—ç¬¦ä¸²ç±»å‹ã€å¸ƒå°”ç±»å‹æˆ–è€…æ•°å­—ç±»å‹ï¼‰æ¥å½“ä½œ this çš„ç»‘å®šå¯¹è±¡ï¼Œè¿™ä¸ªåŸå§‹å€¼ä¼šè¢«è½¬æ¢æˆå®ƒçš„å¯¹è±¡å½¢å¼,è¢«ç§°ä¸ºâ€œè£…ç®±â€</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>ä½¿ç”¨newæ¥è°ƒç”¨å‡½æ•°ï¼Œæˆ–è€…è¯´å‘ç”Ÿæ„é€ å‡½æ•°è°ƒç”¨æ—¶ï¼Œä¼šè‡ªåŠ¨æ‰§è¡Œä¸‹é¢çš„æ“ä½œ:</p>
<ul>
<li>åˆ›å»ºï¼ˆæˆ–è€…è¯´æ„é€ ï¼‰ä¸€ä¸ªå…¨æ–°çš„å¯¹è±¡</li>
<li>è¿™ä¸ªæ–°å¯¹è±¡ä¼šè¢«æ‰§è¡Œ[[åŸå‹]]è¿æ¥</li>
<li>è¿™ä¸ªæ–°å¯¹è±¡ä¼šç»‘å®šåˆ°å‡½æ•°è°ƒç”¨çš„ this</li>
<li>å¦‚æœå‡½æ•°æ²¡æœ‰è¿”å›å…¶ä»–å¯¹è±¡ï¼Œé‚£ä¹ˆ new è¡¨è¾¾å¼ä¸­çš„å‡½æ•°è°ƒç”¨ä¼šè‡ªåŠ¨è¿”å›è¿™ä¸ªæ–°å¯¹è±¡</li>
</ul>
</li>
<li><p>ES5 ä¸­å†…ç½®çš„ Function.prototype.bind(..) æ›´åŠ å¤æ‚ï¼›</p>
</li>
<li><p>ç®­å¤´å‡½æ•°å¹¶ä¸æ˜¯ä½¿ç”¨ function å…³é”®å­—å®šä¹‰çš„ï¼Œè€Œæ˜¯ä½¿ç”¨è¢«ç§°ä¸ºâ€œèƒ–ç®­å¤´â€çš„æ“ä½œç¬¦ =&gt; å®šä¹‰çš„ï¼›</p>
</li>
</ol>
<h2 id="åŸå‹"><a href="#åŸå‹" class="headerlink" title="åŸå‹"></a>åŸå‹</h2><ol>
<li>JavaScriptä¸­çš„å¯¹è±¡æœ‰ä¸€ä¸ªç‰¹æ®Šçš„[[Prototype]]å†…ç½®å±æ€§ï¼Œ å…¶å®å°±æ˜¯å¯¹äºå…¶ä»–å¯¹è±¡çš„å¼•ç”¨ï¼Œå‡ ä¹æ‰€æœ‰çš„å¯¹è±¡åœ¨åˆ›å»ºæ—¶[[Prototype]]å±æ€§éƒ½ä¼šè¢«èµ‹äºˆä¸€ä¸ªéç©ºçš„å€¼ï¼›</li>
<li>ä»»ä½•å¯ä»¥é€šè¿‡åŸå‹é“¾è®¿é—®åˆ°çš„å±æ€§éƒ½ä¼šè¢«æšä¸¾ï¼›</li>
<li>åœ¨ JavaScript ä¸­ï¼Œç±»æ— æ³•æè¿°å¯¹è±¡çš„è¡Œ ï¼Œå¯¹è±¡ç›´æ¥å®šä¹‰è‡ªå·±çš„è¡Œä¸ºï¼ŒJavaScriptåªæœ‰å¯¹è±¡ï¼›</li>
<li>å§”æ‰˜è¡Œä¸ºæ„å‘³ç€æŸäº›å¯¹è±¡ï¼ˆ XYZ ï¼‰åœ¨æ‰¾ä¸åˆ°å±æ€§æˆ–è€…æ–¹æ³•å¼•ç”¨æ—¶ä¼šæŠŠè¿™ä¸ªè¯·æ±‚å§”æ‰˜ç»™å¦ä¸€ä¸ªå¯¹è±¡ï¼ˆ Task ï¼‰ï¼›</li>
<li>è¡Œä¸ºå§”æ‰˜è®¤ä¸ºå¯¹è±¡ä¹‹é—´æ˜¯å…„å¼Ÿå…³ç³»ï¼Œ äº’ç›¸å§”æ‰˜ï¼Œ è€Œä¸æ˜¯çˆ¶ç±»å’Œå­ç±»çš„å…³ç³»ï¼›</li>
<li>å½“ä½ åªç”¨å¯¹è±¡æ¥è®¾è®¡ä»£ç æ—¶ï¼Œä¸ä»…å¯ä»¥è®©è¯­æ³•æ›´åŠ ç®€æ´ï¼Œè€Œä¸”å¯ä»¥è®©ä»£ç ç»“æ„æ›´åŠ æ¸…æ™°ï¼</li>
</ol>
<hr>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>JavaScriptçš„é«˜çº§ç‰¹æ€§è¿˜éœ€è¦å¥½å¥½ç†è§£ï¼Œå¯ä»¥ç»§ç»­åç»­çš„ä¸‹å·ï¼Œç„¶ååœ¨å®é™…å·¥ç¨‹ä¸­å°è¯•ä½¿ç”¨ï¼Œæˆ–è€…é˜…è¯»åˆ«äººä»£ç æ¥æå‡ï¼</p>
]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
  </entry>
  <entry>
    <title>ä½ ä¸çŸ¥é“çš„JavaScriptåç»­</title>
    <url>/2020/06/13/%E4%BD%A0%E4%B8%8D%E7%9F%A5%E9%81%93%E7%9A%84JavaScript%E5%90%8E%E7%BB%AD/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>è¿™éƒ¨åˆ†æ˜¯ç»§ä½ ä¸çŸ¥é“çš„JavaScriptçš„åç»­ï¼Œä¸‹å·ï¼Œä½†æ˜¯æˆ‘çœ‹äº†è¿™éƒ¨åˆ†çš„ä½œè€…ä»‹ç»æ‰çŸ¥é“è¿˜æœ‰ä¸­å·ï¼Œåç»­æœ‰æœºä¼šå†è¡¥å……å§ï¼JavaScript æ˜¯ä¸€é—¨ç®€å•æ˜“ç”¨çš„è¯­è¨€ï¼Œ åº”ç”¨å¹¿æ³›ï¼Œ åŒæ—¶å®ƒçš„è¯­è¨€æœºåˆ¶åˆååˆ†å¤æ‚å’Œå¾®å¦™ï¼Œ å³ä½¿ç»éªŒä¸°å¯Œçš„å¼€å‘äººå‘˜ä¹Ÿéœ€è¦ç”¨å¿ƒå­¦ä¹ æ‰èƒ½çœŸæ­£æŒæ¡ï¼JavaScript æ˜¯ä¸€é—¨ä¼˜ç§€çš„è¯­è¨€ã€‚ åªå­¦å…¶ä¸­ä¸€éƒ¨åˆ†å†…å®¹å¾ˆå®¹æ˜“ï¼Œ ä½†æ˜¯è¦å…¨é¢æŒæ¡åˆ™å¾ˆéš¾ï¼<strong>æ¨èä¹¦ç±ï¼šã€Šä½ ä¸çŸ¥é“çš„JavaScript ä¸‹å·ã€‹Â· [ç¾] Kyle Simpson è‘— å•ä¸š è¯‘</strong></p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="åŸºç¡€çŸ¥è¯†"><a href="#åŸºç¡€çŸ¥è¯†" class="headerlink" title="åŸºç¡€çŸ¥è¯†"></a>åŸºç¡€çŸ¥è¯†</h2><ol>
<li><p>åœ¨è®¡ç®—æœºè¯­è¨€ä¸­ï¼Œæ‰§è¡Œç‰¹å®šä»»åŠ¡çš„ä¸€ç»„å•è¯ã€æ•°å­—å’Œè¿ç®—ç¬¦è¢«ç§°ä¸ºè¯­å¥ï¼›</p>
</li>
<li><p>ä¸€ä¸ªè¡¨è¾¾å¼æ˜¯å¯¹ä¸€ä¸ªå˜é‡æˆ–å€¼çš„å¼•ç”¨ï¼Œæˆ–è€…æ˜¯ä¸€ç»„å€¼å’Œå˜é‡ä¸è¿ç®—ç¬¦çš„ç»„åˆï¼›</p>
</li>
<li><p>JavaScript å¼•æ“å®é™…ä¸Šæ˜¯åŠ¨æ€ç¼–è¯‘ç¨‹åºï¼Œç„¶åç«‹å³æ‰§è¡Œç¼–è¯‘åçš„ä»£ç ï¼›</p>
</li>
<li><p>ç¼–å†™ä»£ç å¹¶ä¸åªæ˜¯ä¸ºäº†ç»™è®¡ç®—æœºçœ‹ã€‚åœ¨ç»™è®¡ç®—æœºçœ‹çš„åŒæ—¶ï¼Œä»£ç åŒæ ·è¦ç»™å¼€å‘è€…é˜…è¯»ï¼›</p>
</li>
<li><p>JavaScriptä¸­çš„æ³¨é‡Šæœ‰ä¸¤ç§ç±»å‹ï¼šå•è¡Œæ³¨é‡Šå’Œå¤šè¡Œæ³¨é‡Šï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// è¿™æ˜¯ä¸€ä¸ªå•è¡Œæ³¨é‡Š </span></span><br><span class="line"><span class="comment">/* è€Œè¿™æ˜¯</span></span><br><span class="line"><span class="comment">ä¸€ä¸ªå¤šè¡Œ </span></span><br><span class="line"><span class="comment">æ³¨é‡Šã€‚ */</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>å¼±ç±»å‹ï¼ˆä¹Ÿç§°ä¸ºåŠ¨æ€ç±»å‹ï¼‰å…è®¸ä¸€ä¸ªå˜é‡åœ¨ä»»æ„æ—¶åˆ»å­˜æ”¾ä»»æ„ç±»å‹çš„å€¼ï¼Œ å˜é‡å¯ä»¥æŒæœ‰ä»»æ„ç±»å‹å€¼è€Œä¸å­˜åœ¨ç±»å‹å¼ºåˆ¶ï¼›</p>
</li>
<li><p>åœ¨ JavaScript ä¸­ï¼Œä½¿ç”¨ä¸€å¯¹å¤§æ‹¬å· { .. } åœ¨ä¸€ä¸ªæˆ–å¤šä¸ªè¯­å¥å¤–æ¥è¡¨ç¤ºå—ï¼›</p>
</li>
<li><p>ç¨‹åºä¸­æœ‰å¾ˆå¤šç§æ–¹æ³•å¯ä»¥ç”¨äºè¡¨ç¤ºæ¡ä»¶åˆ¤æ–­ï¼ˆä¹Ÿå°±æ˜¯å†³ç­–ï¼‰ï¼›</p>
</li>
<li><p>å‡½æ•°æ˜¯å¯ä»¥é€šè¿‡åå­—è¢«â€œè°ƒç”¨â€çš„å·²å‘½åä»£ç æ®µï¼Œæ¯æ¬¡è°ƒç”¨ï¼Œå…¶ä¸­çš„ä»£ç å°±ä¼šè¿è¡Œï¼›</p>
</li>
<li><p>åœ¨ JavaScript ä¸­ï¼Œæ¯ä¸ªå‡½æ•°éƒ½æœ‰è‡ªå·±çš„ä½œç”¨åŸŸï¼Œä½œç”¨åŸŸåŸºæœ¬ä¸Šæ˜¯å˜é‡çš„ä¸€ä¸ªé›†åˆä»¥åŠå¦‚ä½•é€šè¿‡åç§°è®¿é—®è¿™äº›å˜é‡çš„è§„åˆ™ï¼Œåªæœ‰å‡½æ•°å†…éƒ¨çš„ä»£ç æ‰èƒ½è®¿é—®è¿™ä¸ªå‡½æ•°ä½œç”¨åŸŸä¸­çš„å˜é‡ï¼›</p>
</li>
<li><p>è¿è¡ŒJavaScriptç¨‹åºæœ€ç®€å•çš„æ–¹æ³•æ˜¯ï¼Œå°†å…¶è¾“å…¥åˆ°ä½ æ‰‹è¾¹æµè§ˆå™¨çš„å¼€å‘è€…ç»ˆç«¯ä¸­ï¼›</p>
</li>
<li><p>å¯¹è±¡ç±»å‹æ˜¯æŒ‡ä¸€ä¸ªç»„åˆå€¼ï¼Œä½ å¯ä»¥ä¸ºå…¶è®¾ç½®å±æ€§ï¼ˆå‘½åçš„ä½ç½®ï¼‰ï¼Œæ¯ä¸ªå±æ€§å¯ä»¥æŒæœ‰å±äºè‡ªå·±çš„ä»»æ„ç±»å‹çš„å€¼ï¼›</p>
</li>
<li><p>æ•°ç»„æ˜¯ä¸€ä¸ªæŒæœ‰ï¼ˆä»»æ„ç±»å‹ï¼‰å€¼çš„å¯¹è±¡ï¼Œè¿™äº›å€¼ä¸æ˜¯é€šè¿‡å‘½åå±æ€§ / é”®å€¼ç´¢å¼•ï¼Œè€Œæ˜¯é€šè¿‡æ•°å­—ç´¢å¼•ä½ç½®ï¼Œåƒ JavaScriptè¿™æ ·ä»é›¶å¼€å§‹è®¡æ•°çš„è¯­è¨€ï¼Œ ä¼šä½¿ç”¨ 0 ä½œä¸ºæ•°ç»„ä¸­ç¬¬ä¸€ä¸ªå…ƒç´ çš„ç´¢å¼•ï¼›</p>
</li>
<li><p>åœ¨ JavaScript ä¸­ï¼Œ å˜é‡çš„åç§°ï¼ˆåŒ…æ‹¬å‡½æ•°åç§°ï¼‰å¿…é¡»æ˜¯æœ‰æ•ˆçš„æ ‡è¯†ç¬¦ï¼›</p>
</li>
<li><p>é—­åŒ…å¯ä»¥çœ‹ä½œâ€œè®°å¿†â€å¹¶åœ¨å‡½æ•°è¿è¡Œå®Œæ¯•åç»§ç»­è®¿é—®è¿™ä¸ªå‡½æ•°ä½œç”¨åŸŸï¼ˆå…¶å˜é‡ï¼‰çš„ä¸€ç§æ–¹æ³•ï¼›</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">makeAdder</span>(<span class="params">x</span>) </span>&#123; </span><br><span class="line">  <span class="comment">// å‚æ•°xæ˜¯ä¸€ä¸ªå†…å±‚å˜é‡</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å†…å±‚å‡½æ•°add()ä½¿ç”¨xï¼Œæ‰€ä»¥å®ƒå¤–å›´æœ‰ä¸€ä¸ªâ€œé—­åŒ…â€ </span></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">y</span>) </span>&#123; </span><br><span class="line">    <span class="keyword">return</span> y + x; </span><br><span class="line">  &#125;;</span><br><span class="line"><span class="keyword">return</span> add;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// æ¯ æ¬¡ è°ƒ ç”¨ å¤– å±‚ makeAdder(..) è¿” å› çš„ã€ æŒ‡ å‘ å†… å±‚ add(..)å‡½æ•°çš„å¼•ç”¨èƒ½å¤Ÿè®°å¿†ä¼ å…¥makeAdder(..) çš„ x å€¼</span></span><br><span class="line"><span class="keyword">var</span> plusOne = makeAdder( <span class="number">1</span> );</span><br><span class="line">plusOne( <span class="number">3</span> ); <span class="comment">// 4 &lt;-- 1 + 3</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>æ¨¡å—å…è®¸ä½ å®šä¹‰å¤–éƒ¨ä¸å¯è§çš„ç§æœ‰å®ç°ç»†èŠ‚ï¼ˆå˜é‡ã€å‡½æ•°ï¼‰ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥æä¾›å…è®¸ä»å¤–éƒ¨è®¿é—®çš„å…¬å¼€ APIï¼›</p>
</li>
</ol>
<h2 id="ç»„ç»‡ä»£ç "><a href="#ç»„ç»‡ä»£ç " class="headerlink" title="ç»„ç»‡ä»£ç "></a>ç»„ç»‡ä»£ç </h2><ol>
<li><p>ç¼–å†™ JavaScript ä»£ç æ˜¯ä¸€å›äº‹ï¼Œè€Œåˆç†ç»„ç»‡ä»£ç åˆ™æ˜¯å¦ä¸€å›äº‹ï¼Œåˆ©ç”¨é€šç”¨æ¨¡å¼æ¥ç»„ç»‡å’Œå¤ç”¨ä»£ç æ˜¾è‘—æé«˜äº†ä»£ç çš„å¯è¯»æ€§å’Œå¯ç†è§£æ€§ï¼›</p>
</li>
<li><p>è¿­ä»£å™¨ï¼ˆiteratorï¼‰æ˜¯ä¸€ä¸ªç»“æ„åŒ–çš„æ¨¡å¼ï¼Œ ç”¨äºä»æºä»¥ä¸€æ¬¡ä¸€ä¸ªçš„æ–¹å¼æå–æ•°æ®ï¼›</p>
</li>
<li><p>ç”Ÿæˆå™¨å¯ä»¥åœ¨æ‰§è¡Œå½“ä¸­æš‚åœè‡ªèº«ï¼Œå¯ä»¥ç«‹å³æ¢å¤æ‰§è¡Œä¹Ÿå¯ä»¥è¿‡ä¸€æ®µæ—¶é—´ä¹‹åæ¢å¤æ‰§è¡Œã€‚åœ¨æ‰§è¡Œå½“ä¸­çš„æ¯æ¬¡æš‚åœ / æ¢å¤å¾ªç¯éƒ½æä¾›äº†ä¸€ä¸ªåŒå‘ä¿¡æ¯ä¼ é€’çš„æœºä¼šï¼Œç”Ÿæˆå™¨å¯ä»¥è¿”å›ä¸€ä¸ªå€¼ï¼Œæ¢å¤å®ƒçš„æ§åˆ¶ä»£ç ä¹Ÿå¯ä»¥å‘å›ä¸€ä¸ªå€¼ï¼›</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ç”Ÿæˆå™¨å‡½æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> *<span class="title">foo</span>(<span class="params"></span>) // ..</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">&#125;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>ç”Ÿæˆå™¨è¿˜æœ‰ä¸€ä¸ªå¯ä»¥åœ¨å…¶ä¸­ä½¿ç”¨çš„æ–°å…³é”®å­—ï¼Œç”¨æ¥æ ‡ç¤ºæš‚åœç‚¹ï¼š yieldã€‚ç”šè‡³å¯ä»¥æŠŠ yield æ”¾åœ¨å¾ªç¯ä¸­ï¼Œç”¨æ¥è¡¨ç¤ºä¸€ä¸ªé‡å¤æš‚åœç‚¹ï¼›</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> *<span class="title">foo</span>(<span class="params"></span>) </span>&#123; </span><br><span class="line">  <span class="keyword">while</span> (<span class="literal">true</span>) &#123; </span><br><span class="line">    <span class="keyword">yield</span> <span class="built_in">Math</span>.random(); </span><br><span class="line">  &#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>yield.. è¡¨è¾¾å¼å¯ä»¥å‡ºç°åœ¨æ‰€æœ‰æ™®é€šè¡¨è¾¾å¼å¯ç”¨çš„åœ°æ–¹</li>
<li>æ¯ä¸€ä¸ª yield éƒ½ä¼šå¯¼è‡´è¿™ä¸ªç”Ÿæˆå™¨æš‚åœç­‰å¾…ä¸€ä¸ªæ¢å¤å€¼ï¼Œç„¶åæŠŠè¿™ä¸ªæ¢å¤å€¼ç”¨åœ¨å„ç§è¡¨è¾¾å¼ä¸Šä¸‹æ–‡ä¸­</li>
<li>*ä½¿ å¾— yield æˆ ä¸ºäº† yield * ï¼Œè¿™æ˜¯ä¸€ä¸ªå®Œå…¨ä¸åŒçš„æœºåˆ¶ï¼Œç§°ä¸º yield å§”æ‰˜ï¼ˆyield delegationï¼‰</li>
<li>å¯ä»¥é€šè¿‡ for..of å¾ªç¯æ¶ˆè€—è¿­ä»£å™¨ï¼Œå³ä½¿æ˜¯ä¸€ä¸ªé™„ç€åœ¨ *foo() è¿™æ ·çš„ç”Ÿæˆ å™¨ä¸Šçš„è¿­ä»£å™¨</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> *<span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">yield</span> <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">yield</span> <span class="number">2</span>;</span><br><span class="line">  <span class="keyword">yield</span> <span class="number">3</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> v <span class="keyword">of</span> foo()) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log( v ); </span><br><span class="line">&#125; </span><br><span class="line"><span class="comment">// 1 2 3</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æ‰‹åŠ¨è¿­ä»£ç”Ÿæˆå™¨</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> *<span class="title">foo</span>(<span class="params"></span>) </span>&#123; </span><br><span class="line">  <span class="keyword">yield</span> <span class="number">1</span>; </span><br><span class="line">  <span class="keyword">yield</span> <span class="number">2</span>; </span><br><span class="line">  <span class="keyword">yield</span> <span class="number">3</span>; </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> it = foo();</span><br><span class="line"></span><br><span class="line">it.next(); <span class="comment">// &#123; value: 1, done: false &#125;</span></span><br><span class="line">it.next(); <span class="comment">// &#123; value: 2, done: false &#125;</span></span><br><span class="line">it.next(); <span class="comment">// &#123; value: 3, done: false &#125;</span></span><br><span class="line"></span><br><span class="line">it.next(); <span class="comment">// &#123; value: undefined, done: true &#125;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>ä¸è¦æŠŠ yield è¯­å¥æ”¾åœ¨ finally å­å¥å†…éƒ¨ï¼</p>
</li>
<li><p>ç”Ÿæˆå™¨çš„é”™è¯¯å¤„ç†å¯ä»¥è¡¨è¾¾ä¸º try..catchï¼›</p>
</li>
</ol>
<h2 id="å¼‚æ­¥æµæ§åˆ¶"><a href="#å¼‚æ­¥æµæ§åˆ¶" class="headerlink" title="å¼‚æ­¥æµæ§åˆ¶"></a>å¼‚æ­¥æµæ§åˆ¶</h2><ol>
<li><p>Promise ä¸æ˜¯å¯¹å›è°ƒçš„æ›¿ä»£ï¼Œ Promise åœ¨å›è°ƒä»£ç å’Œå°†è¦æ‰§è¡Œè¿™ä¸ªä»»åŠ¡çš„å¼‚æ­¥ä»£ç ä¹‹é—´æä¾›äº†ä¸€ç§å¯é çš„ä¸­é—´æœºåˆ¶æ¥ç®¡ç†å›è°ƒï¼›</p>
</li>
<li><p>å¯ä»¥æŠŠPromiseçœ‹ä½œäº‹ä»¶ç›‘å¬è€…ã€‚ å¯ä»¥åœ¨å…¶ä¸Šæ³¨å†Œä»¥ç›‘å¬æŸä¸ªäº‹ä»¶ï¼Œåœ¨ä»»åŠ¡å®Œæˆä¹‹åå¾—åˆ°é€šçŸ¥ï¼›</p>
</li>
<li><p>Promise çš„å†³è®®ç»“æœåªæœ‰ä¸¤ç§å¯èƒ½ï¼šå®Œæˆæˆ–æ‹’ç»ï¼Œ é™„å¸¦ä¸€ä¸ªå¯é€‰çš„å•ä¸ªå€¼ã€‚ å¦‚æœ Promise å®Œæˆï¼Œé‚£ä¹ˆæœ€ç»ˆçš„å€¼ç§°ä¸ºå®Œæˆå€¼ï¼›å¦‚æœæ‹’ç»ï¼Œé‚£ä¹ˆæœ€ç»ˆçš„å€¼ç§°ä¸ºåŸå› ï¼›Promise åªèƒ½è¢«å†³è®®ï¼ˆå®Œæˆæˆ–è€…æ‹’ç»ï¼‰ä¸€æ¬¡ï¼Œä¹‹åå†æ¬¡è¯•å›¾å®Œæˆæˆ–æ‹’ç»çš„åŠ¨ä½œéƒ½ä¼š è¢«å¿½ç•¥ï¼</p>
</li>
<li><p>æ„é€ Promiseï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> p = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve,reject</span>)</span>&#123;</span><br><span class="line">  <span class="comment">// ... ...</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
</li>
<li><p>Promise æœ‰ä¸€ä¸ª then(..) æ–¹æ³•ï¼Œ æ¥å—ä¸€ä¸ªæˆ–ä¸¤ä¸ªå›è°ƒå‡½æ•°ä½œä¸ºå‚æ•°ã€‚ å‰é¢çš„å‡½æ•°ï¼ˆå¦‚æœå­˜åœ¨çš„è¯ï¼‰ä¼šä½œä¸º promise æˆåŠŸå®Œæˆåçš„å¤„ç†å‡½æ•°ã€‚ ç¬¬äºŒä¸ªå‡½æ•°ï¼ˆå¦‚æœå­˜åœ¨çš„è¯ï¼‰ä¼šä½œä¸º promise è¢«æ˜¾å¼æ‹’ç»åçš„å¤„ç†å‡½æ•°ï¼Œæˆ–è€…åœ¨å†³è®®è¿‡ç¨‹ä¸­å‡ºç°é”™è¯¯ / å¼‚å¸¸çš„æƒ…å†µä¸‹çš„å¤„ç†å‡½æ•°ï¼›</p>
</li>
<li><p>Promiseæ„é€ å™¨çš„çœŸæ­£å®ä¾‹æ˜¯Promiseï¼Œ ä½†è¿˜æœ‰ä¸€äº›ç±» promise å¯¹è±¡ï¼Œ ç§°ä¸º thenable ï¼Œä»¬ä¹Ÿå¯ä»¥ç”¨ Promise æœºåˆ¶è§£é‡Šã€‚ä»»ä½•æä¾›äº† then(..) å‡½æ•°çš„å¯¹è±¡ï¼ˆæˆ–å‡½æ•°ï¼‰éƒ½è¢«è®¤ä¸ºæ˜¯ thenableï¼ŒPromiseæœºåˆ¶ä¸­æ‰€æœ‰å¯ä»¥æ¥å—çœŸæ­£ promise çŠ¶æ€çš„åœ°æ–¹ï¼Œä¹Ÿéƒ½å¯ä»¥å¤„ç† thenableï¼›</p>
</li>
<li><p>Promiseçš„API:</p>
<ul>
<li>Promise.resolve(..) åˆ›å»ºäº†ä¸€ä¸ªå†³è®®åˆ°ä¼ å…¥å€¼çš„ promise</li>
<li>Promise.reject(..) åˆ›å»ºä¸€ä¸ªç«‹å³è¢«æ‹’ç»çš„ promise</li>
<li>Promise.all([ .. ]) æ¥å—ä¸€ä¸ªæˆ–å¤šä¸ªå€¼çš„æ•°ç»„ï¼Œè¿”å›ä¸€ä¸ª promiseï¼Œ å¦‚æœæ‰€æœ‰çš„å€¼éƒ½å®Œæˆï¼Œè¿™ä¸ª promise çš„ç»“æœæ˜¯å®Œæˆï¼Œå¦åˆ™å°±æ˜¯è¢«æ‹’ç»</li>
<li>Promise.race([ .. ]) ç­‰å¾…ç¬¬ä¸€ä¸ªå®Œæˆæˆ–è€…æ‹’ç»</li>
</ul>
</li>
<li><p>åªè¦ä»£ç ä¸­å‡ºç°è¶…è¿‡ä¸¤ä¸ªå¼‚æ­¥æ­¥éª¤çš„æµæ§åˆ¶é€»è¾‘ï¼Œéƒ½å¯ä»¥ä¹Ÿåº”è¯¥ä½¿ç”¨ç”± run å·¥å…·é©±åŠ¨çš„ promise-yield ç”Ÿæˆå™¨ä»¥å¼‚æ­¥é£æ ¼è¡¨è¾¾æ§åˆ¶æµï¼è¿™ç§â€œyield ä¸€ä¸ª promise æ¥æ¢å¤ç”Ÿæˆå™¨â€çš„æ¨¡å¼å°†ä¼šæˆä¸ºä¸€ä¸ªå¸¸ç”¨æ¨¡å¼ï¼Œè¿™ä¸ªæ¨¡å¼éå¸¸å¼ºå¤§ï¼›</p>
</li>
</ol>
<h2 id="é›†åˆ"><a href="#é›†åˆ" class="headerlink" title="é›†åˆ"></a>é›†åˆ</h2><ol>
<li><p>Mapå°±åƒæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼ˆé”® / å€¼å¯¹ï¼‰ï¼Œ ä½†æ˜¯é”®å€¼å¹¶éåªèƒ½ä¸ºå­—ç¬¦ä¸²ï¼Œ è€Œæ˜¯å¯ä»¥ä½¿ç”¨ä»»ä½•å€¼ï¼›</p>
</li>
<li><p>å¯¹è±¡ä½œä¸ºæ˜ å°„çš„ä¸»è¦ç¼ºç‚¹æ˜¯ä¸èƒ½ä½¿ç”¨éå­—ç¬¦ä¸²å€¼ä½œä¸ºé”®ï¼›</p>
</li>
<li><p>è¦ä» map ä¸­åˆ é™¤ä¸€ä¸ªå…ƒç´ ï¼Œä¸è¦ä½¿ç”¨ delete è¿ç®—ç¬¦ï¼Œè€Œæ˜¯è¦ä½¿ç”¨ delete() æ–¹æ³•ï¼›</p>
</li>
<li><p>è¦ä» map ä¸­å¾—åˆ°ä¸€åˆ—å€¼ï¼Œ å¯ä»¥ä½¿ç”¨ values(..) ï¼Œ å®ƒä¼šè¿”å›ä¸€ä¸ªè¿­ä»£å™¨ï¼›</p>
</li>
<li><p>è¦å¾—åˆ°ä¸€åˆ—é”®ï¼Œå¯ä»¥ä½¿ç”¨ keys() ï¼Œå®ƒä¼šè¿”å›mapä¸­é”®ä¸Šçš„è¿­ä»£å™¨ï¼›</p>
</li>
<li><p>è¦ç¡®å®šä¸€ä¸ª map ä¸­æ˜¯å¦æœ‰ç»™å®šçš„é”®ï¼Œå¯ä»¥ä½¿ç”¨ has(..) æ–¹æ³•ï¼›</p>
</li>
<li><p>mapçš„æœ¬è´¨æ˜¯å…è®¸ä½ æŠŠæŸäº›é¢å¤–çš„ä¿¡æ¯ï¼ˆå€¼ï¼‰å…³è”åˆ°ä¸€ä¸ªå¯¹è±¡ï¼ˆé”®ï¼‰ä¸Šï¼Œè€Œæ— éœ€æŠŠè¿™ä¸ªä¿¡æ¯æ”¾å…¥å¯¹è±¡æœ¬èº«ï¼›</p>
</li>
<li><p>mapç¤ºä¾‹ä»£ç ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> m = <span class="keyword">new</span> <span class="built_in">Map</span>();</span><br><span class="line"><span class="keyword">var</span> x = &#123; <span class="attr">id</span>: <span class="number">1</span> &#125;, y = &#123; <span class="attr">id</span>: <span class="number">2</span> &#125;;</span><br><span class="line">m.set( x, <span class="string">"foo"</span> );</span><br><span class="line">m.has( x ); <span class="comment">// true</span></span><br><span class="line">m.has( y ); <span class="comment">// false</span></span><br><span class="line">m.set( y, <span class="string">"bar"</span> );</span><br><span class="line">m.has( y ); <span class="comment">// true</span></span><br><span class="line"><span class="keyword">var</span> vals = [ ...m.values() ];<span class="comment">// [ 'foo', 'bar' ]</span></span><br><span class="line"><span class="keyword">var</span> vals = [ ...m.entries() ]; <span class="comment">// [ [ &#123; id: 1 &#125;, 'foo' ], [ &#123; id: 2 &#125;, 'bar' ] ]</span></span><br><span class="line">m.get( x ); <span class="comment">// 'foo'</span></span><br><span class="line">m.size;</span><br><span class="line"><span class="keyword">var</span> keys = [ ...m.keys() ]; <span class="comment">// [ &#123; id: 1 &#125;, &#123; id: 2 &#125; ]</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>WeakMapæ˜¯ map çš„å˜ä½“ï¼ŒäºŒè€…çš„å¤šæ•°å¤–éƒ¨è¡Œä¸ºç‰¹æ€§éƒ½æ˜¯ä¸€æ ·çš„ï¼ŒåŒºåˆ«åœ¨äºå†…éƒ¨å†…å­˜åˆ†é…ï¼‰çš„å·¥ä½œæ–¹å¼ï¼ŒWeakMapï¼ˆåªï¼‰æ¥å—å¯¹è±¡ä½œä¸ºé”®ï¼›</p>
</li>
<li><p>WeakMapç¤ºä¾‹ä»£ç ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> m = <span class="keyword">new</span> <span class="built_in">WeakMap</span>();</span><br><span class="line"><span class="keyword">var</span> x = &#123; <span class="attr">id</span>: <span class="number">1</span> &#125;, y = &#123; <span class="attr">id</span>: <span class="number">2</span> &#125;;</span><br><span class="line">m.set( x, <span class="string">"foo"</span> );</span><br><span class="line"></span><br><span class="line">m.has( x ); <span class="comment">// true</span></span><br><span class="line">m.has( y );<span class="comment">// false</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>WeakMap æ²¡æœ‰ size å±æ€§æˆ– clear() æ–¹æ³•ï¼Œ ä¹Ÿä¸ä¼šæš´éœ²ä»»ä½•é”®ã€å€¼æˆ–é¡¹ç›®ä¸Šçš„è¿­ä»£å™¨ï¼›</p>
</li>
<li><p>set æ˜¯ä¸€ä¸ªå€¼çš„é›†åˆï¼Œå…¶ä¸­çš„å€¼å”¯ä¸€ï¼ˆé‡å¤ä¼šè¢«å¿½ç•¥ï¼‰ï¼›</p>
</li>
<li><p>setç¤ºä¾‹ä»£ç ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> s = <span class="keyword">new</span> <span class="built_in">Set</span>();</span><br><span class="line"><span class="keyword">var</span> x = &#123; <span class="attr">id</span>: <span class="number">1</span> &#125;, y = &#123; <span class="attr">id</span>: <span class="number">2</span> &#125;;</span><br><span class="line"></span><br><span class="line">s.add( x ); </span><br><span class="line">s.add( y ); </span><br><span class="line">s.add( x );</span><br><span class="line"></span><br><span class="line">s.size;<span class="comment">// 2</span></span><br><span class="line"></span><br><span class="line">s.delete( y );</span><br><span class="line">s.size;<span class="comment">// 1</span></span><br><span class="line"></span><br><span class="line">s.has( x );<span class="comment">// true </span></span><br><span class="line">s.has( y );<span class="comment">// false</span></span><br><span class="line"></span><br><span class="line">s.clear(); </span><br><span class="line">s.size;<span class="comment">// 0</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> keys = [ ...s.keys() ],</span><br><span class="line">    vals = [ ...s.values() ], </span><br><span class="line">    entries = [ ...s.entries() ];</span><br></pre></td></tr></table></figure>
</li>
<li><p>WeakMap å¼±æŒæœ‰å®ƒçš„é”®ï¼ˆå¯¹å…¶å€¼æ˜¯å¼ºæŒæœ‰çš„ï¼‰ä¸€æ ·ï¼Œ WeakSet å¯¹å…¶å€¼ä¹Ÿæ˜¯å¼±æŒæœ‰çš„ï¼›</p>
</li>
<li><p>WeakSetç¤ºä¾‹ä»£ç ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> s = <span class="keyword">new</span> <span class="built_in">WeakSet</span>();</span><br><span class="line"><span class="keyword">var</span> x = &#123; <span class="attr">id</span>: <span class="number">1</span> &#125;, y = &#123; <span class="attr">id</span>: <span class="number">2</span> &#125;;</span><br><span class="line"></span><br><span class="line">s.add( x ); </span><br><span class="line">s.add( y );</span><br><span class="line"></span><br><span class="line">x = <span class="literal">null</span>;<span class="comment">// xå¯GC</span></span><br><span class="line">y = <span class="literal">null</span>;<span class="comment">// xå¯GC</span></span><br></pre></td></tr></table></figure></li>
</ol>
]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
  </entry>
  <entry>
    <title>å‰ç«¯æ¶æ„è®¾è®¡å…¥é—¨</title>
    <url>/2020/05/28/%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%E5%85%A5%E9%97%A8/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>Web åœ¨è¯ç”Ÿä¹‹åˆï¼Œå½¢æ€å…¶å®æ˜¯æ¯”è¾ƒç®€å•çš„ï¼Œä½†æ˜¯åœ¨å‘å±•äº†è¿™ä¹ˆå¤šå¹´ä¹‹åï¼Œè¶Šæ¥è¶Šç»šä¸½ï¼<strong>è¦æŠŠç½‘ç«™å†…å®¹ä½œä¸ºä¸€ä¸ªå€¼å¾—åšå‡ºæˆ˜ç•¥è§„åˆ’å’Œæœ‰æŠ•èµ„ä»·å€¼çš„å…³é”®å…ƒç´ æ¥å¯¹å¾…</strong>ï¼Œè¿™ç§ç­–ç•¥å¯¹äºå½“å‰è¿™ç§è¿½æ±‚è§†è§‰ä¸Šçš„äº«å—çš„æ—¶ä»£ç¡®å®å¾ˆé‡è¦ï¼è½¯ä»¶æ¶æ„å¸ˆçš„èŒè´£å°±æ˜¯è¦ä¿è¯é¡¹ç›®ä¸­æ¯ä¸€æ­¥éƒ½åœ¨æ€»ä½“æ¶æ„çš„æŒ‡å¯¼ä¸‹è¿›è¡Œï¼Œè€Œä¸ä¼šéšæœºå†³å®šã€‚å‰ç«¯æ¶æ„å¸ˆæŒæ§ç€å‰ç«¯å¼€å‘æ–¹æ³•å’Œç³»ç»Ÿè®¾è®¡å“²å­¦ï¼<strong>æ¨èä¹¦ç±ï¼šã€Šå‰ç«¯æ¶æ„è®¾è®¡ã€‹Â· [ç¾] Micah Godbolt è‘— å¼ é¹ è®¸é‡‘æ³‰ç­‰è¯‘</strong></p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="å‰ç«¯æ¶æ„å¸ˆ"><a href="#å‰ç«¯æ¶æ„å¸ˆ" class="headerlink" title="å‰ç«¯æ¶æ„å¸ˆ"></a>å‰ç«¯æ¶æ„å¸ˆ</h2><ol>
<li>å‰ç«¯æ¶æ„å¸ˆçš„ç›®æ ‡æ˜¯è®¾è®¡å‡ºèƒ½æµç•…è¿è½¬çš„ç³»ç»Ÿï¼Œè¿™ä¸ªç³»ç»Ÿä¸ä»…èƒ½é«˜æ•ˆå¿«é€Ÿåœ°å¯åŠ¨ï¼Œè¿˜å¯ä»¥é€šè¿‡è¯­è¨€åˆ†æã€æµ‹è¯•ç”¨ä¾‹ã€æ–‡æ¡£è®°å½•ç­‰æ–¹æ³•æŒç»­åœ°æä¾›æœ‰æ•ˆçš„åé¦ˆï¼Œå¹¶ä¸”å¤§å¹…å‡å°‘ç”±äºé‡å¤æ“ä½œè€Œäº§ç”Ÿçš„äººä¸ºé”™è¯¯ï¼</li>
<li>æ²¡æœ‰ä»»ä½•è®¾è®¡åœ¨ä¸€å¼€å§‹å°±æ˜¯å®Œç¾çš„ï¼Œä¹Ÿæ²¡æœ‰ä»»ä½•è®¡åˆ’å¯ä»¥ä¸€æ­¥åˆ°ä½ï¼›</li>
<li><strong>æ²¡æœ‰äººç²¾é€šæ¯ä¸€ç§æŠ€æœ¯ï¼</strong></li>
<li>è¦å–„äºåœ¨é¡¹ç›®å¼€å‘çš„åŒæ—¶ç¼–å†™è‰¯å¥½çš„æ–‡æ¡£ï¼›</li>
<li><strong>ä¸æ–­åœ°æ¢ç´¢å’Œè¯„ä¼°æ–°çš„æŠ€æœ¯ã€å¹³å°ã€æ–¹æ³•å’Œæ¡†æ¶ï¼</strong></li>
</ol>
<h2 id="åŸåˆ™"><a href="#åŸåˆ™" class="headerlink" title="åŸåˆ™"></a>åŸåˆ™</h2><ol>
<li>å•ä¸€è´£ä»»åŸåˆ™ï¼šè§„å®šä½ åˆ›å»ºçš„æ‰€æœ‰ä¸œè¥¿å¿…é¡»æœ‰å•ä¸€çš„ã€é«˜åº¦èšç„¦çš„ï¼›</li>
<li>å•ä¸€æ ·å¼æ¥æºåŸåˆ™ï¼šä¸ä»…æ¯ä¸ª CSS ç±»åè¢«åˆ›å»ºä¸ºå•ä¸€ç”¨é€”ï¼Œè€Œä¸”æ¯ä¸ªæ ‡ç­¾çš„æ ·å¼ä¹Ÿåªæœ‰å•ä¸€çš„æ¥æºï¼›</li>
<li>ç»„ä»¶ä¿®é¥°ç¬¦ï¼šå¯ä»¥å®šä¹‰ä¸€ä¸ªç»„ä»¶åœ¨å¤šä¸ªä¸åŒæƒ…å†µä¸‹çš„å¤šç§å˜åŒ–ï¼›</li>
<li><strong>ä¿æŒä»£ç æ•´æ´</strong></li>
</ol>
<h2 id="æ€è€ƒ"><a href="#æ€è€ƒ" class="headerlink" title="æ€è€ƒ"></a>æ€è€ƒ</h2><p>ä¸ç®¡æ˜¯å‰ç«¯è¿˜æ˜¯åç«¯éƒ½éœ€è¦è¿›è¡Œè‰¯å¥½çš„è®¾è®¡ï¼Œéƒ½ä¸æ˜¯é‚£ä¹ˆç®€å•çš„ï¼Œä¸€è¹´è€Œå°±çš„ï¼å¿«é€Ÿè¿‡ä¸€éä¹¦ç±å¯èƒ½è·å¾—å†…å®¹æœ‰ç‚¹å°‘ï¼Œä½†æ˜¯æ¶æ„è¿™ç©æ„çœŸçš„æ˜¯æœ‰å¾ˆå¤šå…±æ€§ï¼Œæ²¡æœ‰æœ€å¥½çš„æ¶æ„ï¼Œåªæœ‰æ›´é€‚åˆå½“æ—¶ç¯å¢ƒçš„æ¶æ„ï¼Œæ˜¯ä¸æ–­è¿­ä»£çš„è¿‡ç¨‹ï¼Œå› æ­¤æ¶æ„å¸ˆè¦è€ƒè™‘é¡¹ç›®çš„å¯æ‰©å±•æ€§ï¼Œè¿™æ˜¯æ°¸æ’ä¸å˜çš„è¯é¢˜ï¼</p>
<h1 id="æ²¡æœ‰ç»“æŸâ€¦-â€¦"><a href="#æ²¡æœ‰ç»“æŸâ€¦-â€¦" class="headerlink" title="æ²¡æœ‰ç»“æŸâ€¦ â€¦"></a>æ²¡æœ‰ç»“æŸâ€¦ â€¦</h1>]]></content>
      <categories>
        <category>Web</category>
      </categories>
  </entry>
  <entry>
    <title>åŒæ„JavaScriptåŸºç¡€</title>
    <url>/2020/06/21/%E5%90%8C%E6%9E%84JavaScript%E5%9F%BA%E7%A1%80/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>CSS å’Œ JavaScript æŠ€æœ¯è¢«å¼•å…¥æµè§ˆå™¨çš„ç›®çš„æ˜¯æä¾›ä¸€ç§äº¤äº’æ¨¡å‹å’Œå…³æ³¨ç‚¹åˆ†ç¦»ã€‚JavaScript å·²ç»ä¸ºåœ¨æµè§ˆå™¨ä¸­è¿è¡Œç±»ä¼¼äºæ¡Œé¢ç¨‹åºçš„åº”ç”¨è¿™ä¸€æ–°æ—¶ä»£é“ºå¥½äº†é“è·¯ï¼<strong>æ¨èä¹¦ç±ï¼šã€ŠåŒæ„JavaScriptåº”ç”¨å¼€å‘ã€‹Â· [ç¾] JasonÂ·Stripmpel Maxime Najim è‘— å¼ ä¿Šè¾¾ è¯‘</strong> </p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="åŸºç¡€çŸ¥è¯†"><a href="#åŸºç¡€çŸ¥è¯†" class="headerlink" title="åŸºç¡€çŸ¥è¯†"></a>åŸºç¡€çŸ¥è¯†</h2><ol>
<li><p>åŒæ„ JavaScript åº”ç”¨å°±æ˜¯åœ¨æµè§ˆå™¨å®¢æˆ·ç«¯å’Œ Web åº”ç”¨æœåŠ¡å™¨ç«¯é—´å…±äº«åŒä¸€å¥—JavaScript ä»£ç çš„åº”ç”¨ï¼›</p>
</li>
<li><p>Web çš„å®¢æˆ·ç«¯ - æœåŠ¡å™¨æ¨¡å‹ä»é‡æœåŠ¡å™¨ç«¯ã€ è½»å®¢æˆ·ç«¯çš„æ–¹å¼è½¬å˜ä¸ºè½»æœåŠ¡å™¨ç«¯ã€ é‡å®¢æˆ·ç«¯çš„æ–¹å¼ï¼›</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/bb47cf6a5696dead10c8232ff60db57b-159715" alt="ä¼ ç»ŸWebåº”ç”¨æµç¨‹"></p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/6cc30557ce2ab2c500171f6017d5ac13-151681" alt="Ajaxçš„ä¼ ç»ŸWebåº”ç”¨æµç¨‹"></p>
</li>
<li><p>åœ¨ä¼ ç»Ÿçš„ Web åº”ç”¨ä¸­ï¼Œé¡µé¢å¯¼èˆªå’Œæ•°æ®ä¼ è¾“éƒ½éµå¾ª Web åŸæœ¬è®¾è®¡çš„æ–¹å¼è¿›è¡Œï¼›</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/9ab653278365fee154dbe80e22614d32-141924" alt="å•é¡µé¢åº”ç”¨æµç¨‹"></p>
</li>
<li><p>åŒæ„ JavaScript åº”ç”¨æ˜¯ä¼ ç»Ÿ Web åº”ç”¨å’Œ SPA æ¶æ„çš„å®Œç¾ç»“åˆï¼›</p>
</li>
<li><p>ä¸ç¯å¢ƒæ— å…³çš„ Node æ¨¡å—åªèƒ½ä½¿ç”¨çº¯ JavaScript çš„åŠŸèƒ½ï¼Œå¹¶ä¸”ä¸èƒ½ä½¿ç”¨ç¯å¢ƒç‰¹å®šçš„ API æˆ–è€… windowï¼ˆæµè§ˆå™¨ç«¯ï¼‰å’Œ processï¼ˆæœåŠ¡å™¨ç«¯ï¼‰è¿™æ ·çš„å±æ€§ï¼›</p>
</li>
<li><p>ä¼ ç»ŸWebæ¶æ„ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/2a7004db16d7e3e2f1a7339867376a75-74021" alt="ä¼ ç»ŸWebæ¶æ„">    </p>
</li>
<li><p>å®æ—¶Webåº”ç”¨æ¶æ„ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/68492423616e21e26dc1ce52e418681f-130931" alt="å®æ—¶Webåº”ç”¨æ¶æ„"></p>
</li>
</ol>
<h2 id="æ„å»ºåº”ç”¨"><a href="#æ„å»ºåº”ç”¨" class="headerlink" title="æ„å»ºåº”ç”¨"></a>æ„å»ºåº”ç”¨</h2><ol>
<li>ä¼˜ç§€çš„è½¯ä»¶è®¾è®¡çš„å…³é”®åœ¨äºï¼šçŸ¥é“éœ€è¦æŠ½è±¡ä»€ä¹ˆã€ä½•æ—¶è¿›è¡ŒæŠ½è±¡ï¼Œä»¥åŠåœ¨ä½•å¤„è¿›è¡ŒæŠ½è±¡ï¼›</li>
<li>Node.jsï¼ˆ<a href="https://nodejs.org/ï¼‰å°†ä½œä¸ºåº”ç”¨çš„æœåŠ¡å™¨ç«¯è¿è¡Œç¯å¢ƒï¼›" target="_blank" rel="noopener">https://nodejs.org/ï¼‰å°†ä½œä¸ºåº”ç”¨çš„æœåŠ¡å™¨ç«¯è¿è¡Œç¯å¢ƒï¼›</a>  </li>
<li>Hapi.jsï¼ˆ<a href="https://hapijs.com/ï¼‰å°†ç”¨äºé©±åŠ¨åº”ç”¨ä¸­çš„" target="_blank" rel="noopener">https://hapijs.com/ï¼‰å°†ç”¨äºé©±åŠ¨åº”ç”¨ä¸­çš„</a> HTTP æœåŠ¡å™¨éƒ¨åˆ†ï¼›</li>
<li>Gulp.jsï¼ˆ<a href="http://gulpjs.com/ï¼‰å°†ç”¨äºç¼–è¯‘æˆ‘ä»¬çš„" target="_blank" rel="noopener">http://gulpjs.com/ï¼‰å°†ç”¨äºç¼–è¯‘æˆ‘ä»¬çš„</a> JavaScript ä»£ç ï¼Œé’ˆå¯¹æµè§ˆå™¨ç¯å¢ƒè¿›è¡Œæ‰“åŒ…ï¼Œå¹¶ç®¡ç†æˆ‘ä»¬çš„å¼€å‘å·¥ä½œæµç¨‹ï¼›</li>
<li>Babel.jsï¼ˆ<a href="https://babeljs.io/ï¼‰è®©æˆ‘ä»¬å¯ä»¥åˆ©ç”¨" target="_blank" rel="noopener">https://babeljs.io/ï¼‰è®©æˆ‘ä»¬å¯ä»¥åˆ©ç”¨</a> ES6 çš„ç‰¹æ€§å’Œè¯­æ³•æ¥ç¼–å†™ä»£ç ï¼Œç„¶åå¸®æˆ‘ä»¬å°†ä»£ç ç¼–è¯‘ä¸ºå…¼å®¹ ES5 çš„å¯å‘å¸ƒç‰ˆæœ¬ï¼›</li>
<li>æ‰€æœ‰çš„ Web åº”ç”¨éƒ½éœ€è¦æŸç§åº”ç”¨æœåŠ¡å™¨ï¼ŒåŒæ„ JavaScript åº”ç”¨ä¹Ÿä¸ä¾‹å¤–ï¼</li>
</ol>
]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
  </entry>
  <entry>
    <title>å“åº”å¼Webè®¾è®¡</title>
    <url>/2020/05/06/%E5%93%8D%E5%BA%94%E5%BC%8FWeb%E8%AE%BE%E8%AE%A1/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>å“åº”å¼Webè®¾è®¡ï¼Œå°±æ˜¯ç½‘é¡µå†…å®¹ä¼šéšç€è®¿é—®å®ƒçš„è§†å£åŠè®¾å¤‡çš„ä¸åŒè€Œå‘ˆç°ä¸åŒçš„æ ·å¼ã€‚å“åº”å¼Webè®¾è®¡å¯ä»¥è®©ä¸€ä¸ªç½‘ç«™åŒæ—¶é€‚é…å¤šç§è®¾å¤‡å’Œå¤šä¸ªå±å¹•ï¼Œå¯ä»¥è®©ç½‘ç«™çš„å¸ƒå±€å’ŒåŠŸèƒ½éšç”¨æˆ·çš„ä½¿ç”¨ç¯å¢ƒï¼ˆå±å¹•å¤§å°ã€è¾“å…¥æ–¹å¼ã€è®¾å¤‡/æµè§ˆå™¨èƒ½åŠ›ï¼‰è€Œå˜åŒ–ï¼Œåªè¦ä¼šç”¨HTMLå’ŒCSSï¼Œå°±å¯ä»¥å­¦ä¼šå“åº”å¼Webè®¾è®¡ã€‚ç»™é‚£äº›â€œæ®‹ç–¾â€æµè§ˆå™¨å†™ä»£ç æ˜¯é”™è¯¯çš„ï¼Œè€ŒæŠŠæ—¶é—´å’Œèµ„æºä¸»è¦æ”¾åœ¨æ”¯æŒç°ä»£æµè§ˆå™¨å’Œç°ä»£å¹³å°ä¸Šæ‰æ˜¯æœ€æ˜æ™ºçš„é€‰æ‹©ï¼<strong>èƒ½ä¸èƒ½é€‚é…æŸä¸ªæ—§å¹³å°/ç‰ˆæœ¬ä¸æ˜¯é—®é¢˜ï¼Œé—®é¢˜åœ¨äºæ˜¯å¦åº”è¯¥å»é€‚é…å®ƒã€‚</strong>å»ºè®®å‚è€ƒè¿™ä¸ªç½‘ç«™ï¼š<a href="http://caniuse.comã€‚" target="_blank" rel="noopener">http://caniuse.comã€‚</a> <strong><em>æ¨èä¹¦ç±ï¼šã€Šå“åº”å¼Webè®¾è®¡ HTML5å’ŒCSS3å®æˆ˜ï¼ˆç¬¬äºŒç‰ˆï¼‰ã€‹Â· [ç¾] Ben Frain è‘— å¥‡èˆå›¢è¯‘ ã€Šå“åº”å¼Webè®¾è®¡ï¼šHTML5å’ŒCSS3å®æˆ˜ã€‹Â· [è‹±] Ben Frainè‘— å¥‡èˆå›¢è¯‘</em></strong></p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="åŸºç¡€æ¦‚å¿µ"><a href="#åŸºç¡€æ¦‚å¿µ" class="headerlink" title="åŸºç¡€æ¦‚å¿µ"></a>åŸºç¡€æ¦‚å¿µ</h2><ol>
<li>æµè§ˆå™¨ä¸­ç”¨äºå‘ˆç°ç½‘é¡µçš„åŒºåŸŸå«<strong>è§†å£ï¼ˆviewportï¼‰</strong>ï¼Œè§†å£é€šå¸¸å¹¶ä¸ç­‰äºå±å¹•å¤§å°ï¼Œç‰¹åˆ«æ˜¯å¯ä»¥ç¼©æ”¾æµè§ˆå™¨çª—å£çš„æƒ…å†µä¸‹ï¼›</li>
<li>å“åº”å¼ç½‘é¡µè®¾è®¡ï¼ˆ RWDï¼Œ Responsive Web Designï¼‰  å°†ä¸‰ç§å·²æœ‰çš„å¼€å‘æŠ€å·§ï¼ˆå¼¹æ€§ç½‘æ ¼å¸ƒå±€ã€å¼¹æ€§å›¾ç‰‡ã€åª’ä½“å’Œåª’ä½“æŸ¥è¯¢ï¼‰æ•´åˆèµ·æ¥ï¼Œä¹Ÿç§°ä¸ºæµå¼è®¾è®¡ã€å¼¹æ€§å¸ƒå±€ã€å¡‘æ–™å¸ƒå±€ã€æµä½“è®¾è®¡ã€è‡ªé€‚åº”å¸ƒå±€ã€è·¨è®¾å¤‡è®¾è®¡ä»¥åŠå¼¹æ€§è®¾è®¡ï¼</li>
<li>CSS3è§„èŒƒåˆ†æˆå¾ˆå¤šæ¨¡å—ï¼Œåª’ä½“æŸ¥è¯¢ï¼ˆ3çº§ï¼‰åªæ˜¯å…¶ä¸­ä¸€ä¸ªæ¨¡å—ï¼›</li>
<li>æ‰€æœ‰è§„èŒƒéƒ½ä»WDï¼ˆWorking Draftï¼Œå·¥ä½œè‰æ¡ˆï¼‰å¼€å§‹ï¼Œç„¶åæ˜¯CRï¼ˆCandidate Recommendationï¼Œå€™é€‰æ¨èï¼‰ï¼Œæ¥ç€æ˜¯PRï¼ˆProposed Recommendationï¼Œå»ºè®®æ¨èï¼‰ï¼Œå‡ å¹´åæ‰èƒ½æˆä¸ºW3C RECï¼ˆRecommendationï¼Œæ¨èæ ‡å‡†ï¼‰ï¼›</li>
<li><strong>CSS3åª’ä½“æŸ¥è¯¢</strong>å¯ä»¥è®©æˆ‘ä»¬é’ˆå¯¹ç‰¹å®šçš„è®¾å¤‡èƒ½åŠ›æˆ–æ¡ä»¶ä¸ºç½‘é¡µåº”ç”¨ç‰¹å®šçš„CSSæ ·å¼ï¼Œç›¸å½“äºCSSä¸­åŸºæœ¬çš„æ¡ä»¶é€»è¾‘ï¼›</li>
<li>ä½¿ç”¨@mediaè§„åˆ™å£°æ˜è¿™æ˜¯ä¸€ä¸ªåª’ä½“æŸ¥è¯¢ï¼Œç„¶åæŒ‡å®šåŒ¹é…çš„è®¾å¤‡ç±»å‹ï¼›<ul>
<li>widthï¼šè§†å£å®½åº¦</li>
<li>heightï¼šè§†å£é«˜åº¦</li>
<li>device-widthï¼šæ¸²æŸ“è¡¨é¢çš„å®½åº¦ï¼ˆå¯ä»¥è®¤ä¸ºæ˜¯è®¾å¤‡å±å¹•çš„å®½åº¦ï¼‰</li>
<li>device-heightï¼šæ¸²æŸ“è¡¨é¢çš„é«˜åº¦ï¼ˆå¯ä»¥è®¤ä¸ºæ˜¯è®¾å¤‡å±å¹•çš„é«˜åº¦ï¼‰</li>
<li>orientationï¼šè®¾å¤‡æ–¹å‘æ˜¯æ°´å¹³è¿˜æ˜¯å‚ç›´</li>
<li>aspect-ratioï¼šè§†å£çš„å®½é«˜æ¯”ã€‚16âˆ¶9çš„å®½å±æ˜¾ç¤ºå™¨å¯ä»¥å†™æˆaspect-ratio:16/9</li>
<li>colorï¼šé¢œè‰²ç»„åˆ†çš„ä½æ·±ã€‚æ¯”å¦‚min-color:16è¡¨ç¤ºè®¾å¤‡è‡³å°‘æ”¯æŒ16ä½æ·±</li>
<li>color-indexï¼šè®¾å¤‡é¢œè‰²æŸ¥æ‰¾è¡¨ä¸­çš„æ¡ç›®æ•°ï¼Œå€¼å¿…é¡»æ˜¯æ•°å€¼ï¼Œä¸”ä¸èƒ½ä¸ºè´Ÿ</li>
<li>monochrome ï¼šå•è‰²å¸§ç¼“å†²ä¸­è¡¨ç¤ºæ¯ä¸ªåƒç´ çš„ä½æ•°ï¼Œ å€¼å¿…é¡»æ˜¯æ•°å€¼ï¼ˆæ•´æ•°ï¼‰ï¼Œ æ¯”å¦‚monochrome: 2ï¼Œä¸”ä¸èƒ½ä¸ºè´Ÿ</li>
<li>resolutionï¼šå±å¹•æˆ–æ‰“å°åˆ†è¾¨ç‡ï¼Œæ¯”å¦‚min-resolution: 300dpiã€‚ä¹Ÿå¯ä»¥æ¥å—æ¯å˜ç±³å¤šå°‘ç‚¹ï¼Œæ¯”å¦‚min-resolution: 118dpcm</li>
<li>scanï¼šé’ˆå¯¹ç”µè§†çš„é€è¡Œæ‰«æï¼ˆprogressiveï¼‰å’Œéš”è¡Œæ‰«æï¼ˆinterlaceï¼‰</li>
<li>gridï¼šè®¾å¤‡åŸºäºæ …æ ¼è¿˜æ˜¯ä½å›¾</li>
</ul>
</li>
<li>ç”¨äºè§†å£çš„metaæ ‡ç­¾ï¼Œæ˜¯ç½‘é¡µä¸ç§»åŠ¨æµè§ˆå™¨çš„æ¥å£ã€‚ç½‘é¡µé€šè¿‡è¿™ä¸ªæ ‡ç­¾å‘Šè¯‰ç§»åŠ¨æµè§ˆå™¨ï¼Œå®ƒå¸Œæœ›æµè§ˆå™¨å¦‚ä½•æ¸²æŸ“å½“å‰é¡µé¢ï¼›</li>
</ol>
<h2 id="åª’ä½“æŸ¥è¯¢"><a href="#åª’ä½“æŸ¥è¯¢" class="headerlink" title="åª’ä½“æŸ¥è¯¢"></a>åª’ä½“æŸ¥è¯¢</h2><ol>
<li><p>å¯ä»¥åœ¨&lt;link&gt;æ ‡ç­¾çš„mediaå±æ€§ä¸­æŒ‡å®šè®¾å¤‡ç±»å‹ï¼ˆ screenæˆ–printï¼‰ï¼Œä¸ºä¸åŒè®¾å¤‡åº”ç”¨æ ·å¼è¡¨:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"style sheet"</span> <span class="attr">type</span>=<span class="string">"text/css"</span> <span class="attr">media</span>=<span class="string">"screen"</span> <span class="attr">href</span>=<span class="string">"screenstyles.css"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">media</span>=<span class="string">"screen and (orientation: portrait)"</span> <span class="attr">href</span>=<span class="string">"portrait-screen.css"</span> /&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>å¯ä»¥å°†å¤šä¸ªåª’ä½“æŸ¥è¯¢ä¸²åœ¨ä¸€èµ·å¯ä»¥è¿›ä¸€æ­¥é™åˆ¶åªæŠŠæ ·å¼è¡¨åº”ç”¨ç»™è§†å£å¤§äº800åƒç´ çš„è®¾å¤‡ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">media</span>=<span class="string">"screen and (orientation: portrait) and (min-width: 800px)"</span> <span class="attr">href</span>=<span class="string">"800wide-portrait-screen.css"</span> /&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>ä½¿ç”¨CSSä¸­çš„@importä¼šå¢åŠ HTTPè¯·æ±‚ï¼ˆè¿›è€Œå½±å“åŠ è½½é€Ÿåº¦ï¼‰ï¼Œå› æ­¤è¯·æ…ç”¨ï¼›</p>
</li>
<li><p>åª’ä½“æŸ¥è¯¢çš„ä¸€ä¸ªå¸¸è§çš„ä½¿ç”¨åœºæ™¯ï¼Œå°±æ˜¯é’ˆå¯¹é«˜åˆ†è¾¨ç‡è®¾å¤‡ç¼–å†™ç‰¹æ®Šæ ·å¼(é’ˆå¯¹æ¯åƒç´ å•ä½ä¸º2ç‚¹ï¼Œ2dppxçš„å±å¹•  )ï¼š</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="keyword">@media</span> (<span class="attribute">min-resolution:</span> <span class="number">2dppx</span>) &#123;</span><br><span class="line"><span class="comment">/* æ ·å¼ */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ€§èƒ½æå‡ï¼š</p>
<ul>
<li>æ‰€æœ‰å›¾ç‰‡éƒ½å‹ç¼©è¿‡äº†  </li>
<li>æ‰€æœ‰è„šæœ¬éƒ½æ‹¼æ¥å’Œç¼©çŸ­äº†</li>
<li>æ‰€æœ‰èµ„æºéƒ½é‡‡ç”¨äº†gzipå‹ç¼©    </li>
<li>æ‰€æœ‰é™æ€å†…å®¹éƒ½ç¼“å­˜åˆ°äº†CDN  </li>
<li>æ‰€æœ‰å¤šä½™çš„CSSè§„åˆ™éƒ½è¢«æ¸…é™¤äº†  </li>
</ul>
</li>
<li><p>è§†å£&lt;meta&gt;æ ‡ç­¾åº”è¯¥æ”¾åœ¨HTMLçš„&lt;head&gt;æ ‡ç­¾ä¸­ã€‚å¯ä»¥åœ¨å…¶ä¸­è®¾ç½®å…·ä½“çš„å®½åº¦ï¼›</p>
</li>
<li><p>æ‚¬åœåª’ä½“ç‰¹æ€§å°±æ˜¯ç”¨æ¥æµ‹è¯•ç”¨æˆ·æ˜¯å¦å¯ä»¥é€šè¿‡æŸç§æœºåˆ¶å®ç°åœ¨å±å¹•å…ƒç´ ä¸Šæ‚¬åœçš„ï¼›</p>
</li>
</ol>
]]></content>
      <categories>
        <category>Web</category>
      </categories>
  </entry>
  <entry>
    <title>å·¥å…·ç§¯ç´¯</title>
    <url>/2020/05/14/%E5%B7%A5%E5%85%B7%E7%A7%AF%E7%B4%AF/</url>
    <content><![CDATA[<h1 id="æœç´¢å¼•æ“"><a href="#æœç´¢å¼•æ“" class="headerlink" title="æœç´¢å¼•æ“"></a>æœç´¢å¼•æ“</h1><ul>
<li><a href="https://www.jiumodiary.com/" target="_blank" rel="noopener">é¸ æ‘©æœä¹¦</a></li>
<li><a href="http://forfrigg.com/" target="_blank" rel="noopener">Forfrigg</a></li>
<li><a href="https://bookfere.com/search" target="_blank" rel="noopener">ä¹¦ä¼´</a></li>
<li><a href="https://www.jb51.net/books/" target="_blank" rel="noopener">è„šæœ¬ä¹‹å®¶</a></li>
</ul>
<h1 id="å¼€å‘å·¥å…·"><a href="#å¼€å‘å·¥å…·" class="headerlink" title="å¼€å‘å·¥å…·"></a>å¼€å‘å·¥å…·</h1><ul>
<li><a href="https://tool.lu/" target="_blank" rel="noopener">åœ¨çº¿å·¥å…·</a></li>
</ul>
<iframe src="https://tool.lu/coderunner/embed/9fr.html" width="650" height="550" frameborder="0" mozallowfullscreen webkitallowfullscreen allowfullscreen></iframe>



<h1 id="ä¸‹è½½å·¥å…·"><a href="#ä¸‹è½½å·¥å…·" class="headerlink" title="ä¸‹è½½å·¥å…·"></a>ä¸‹è½½å·¥å…·</h1><ul>
<li><a href="https://github.com/agalwood/Motrix" target="_blank" rel="noopener">Motrix</a></li>
</ul>
<h2 id="Macè½¯ä»¶"><a href="#Macè½¯ä»¶" class="headerlink" title="Macè½¯ä»¶"></a>Macè½¯ä»¶</h2><ul>
<li><a href="https://xclient.info/" target="_blank" rel="noopener">ç²¾å“åº”ç”¨</a></li>
</ul>
]]></content>
      <categories>
        <category>Tool</category>
      </categories>
  </entry>
  <entry>
    <title>å¼€å‘åŸºç¡€çŸ¥è¯†</title>
    <url>/2020/04/20/%E5%BC%80%E5%8F%91%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>åœ¨è¿›è¡Œå¼€å‘çš„æ—¶å€™éœ€è¦æŒæ¡ä¸€å®šçš„åŸºç¡€çŸ¥è¯†è¿˜æœ‰è¡Œä¸šå†…çš„æœ¯è¯­ä»¥åŠå¯¹åº”å¾—ç¼©å†™è¯ï¼Œä¸ç„¶ä½ éƒ½æ²¡æ³•å’Œä¸“ä¸šäººå£«è¿›è¡Œæ²Ÿé€šï¼Œç”šè‡³è¢«äººè®¤ä¸ºä½ å¾ˆLowï¼</p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><ol>
<li><strong>CSç»“æ„ï¼š</strong>å®¢æˆ·ç«¯ï¼ˆClientï¼‰å’ŒæœåŠ¡ç«¯ï¼ˆServerï¼‰è¿›è¡Œæ•°æ®é€šä¿¡çš„ç»“æ„ï¼Œä¸»è¦è€ƒè™‘å“ªäº›ä¸šåŠ¡æ”¾åˆ°æœåŠ¡ç«¯ï¼Œå“ªäº›æ•°æ®æ”¾åˆ°ä¸šåŠ¡ç«¯ã€‚</li>
<li><strong>BSç»“æ„ï¼š</strong> CSç»“æ„ä¸»è¦å®Œæˆçš„æ˜¯é€šä¿¡åŠŸèƒ½ï¼Œè€ŒBæ˜¯æµè§ˆå™¨ï¼ˆBrowserï¼‰ï¼ŒSæ˜¯æœåŠ¡ç«¯ï¼ˆServerï¼‰ï¼Œæµè§ˆå™¨å¯ä»¥è®¿é—®æ‰€æœ‰åŒç§ç±»å‹çš„ç½‘ç«™ï¼Œä¸»è¦ç”¨äºæ•°æ®çš„å±•ç¤ºï¼Œå…·ä½“çš„ä¸šåŠ¡å¤„ç†æ˜¯åœ¨ä¸åŒçš„æœåŠ¡ç«¯è¿›è¡Œçš„ï¼ŒæœåŠ¡å™¨ç¨‹åºç»Ÿä¸€å¤„ç†æ•°æ®è¿æ¥ã€å°è£…å’Œè§£æç­‰å·¥ä½œã€‚</li>
<li><strong>CSç»“æ„</strong>å’Œ<strong>BSç»“æ„</strong>çš„ä¼˜åŠ£ï¼š</li>
</ol>
<ul>
<li>BSç»“æ„åœ¨å¼€å‘å’Œä½¿ç”¨ä¸­å¾ˆç®€å•ï¼›</li>
<li>CSç»“æ„çš„çµæ´»æ€§å’Œå¤„ç†æ•ˆç‡éƒ½é«˜äºBSç»“æ„ã€‚</li>
</ul>
<ol start="4">
<li><strong>TCP/IPå››å±‚æ¨¡å‹:</strong></li>
</ol>
<ul>
<li>ç½‘ç»œæ¥å…¥å±‚ï¼šå°†éœ€è¦æ¥å…¥ç½‘ç»œçš„èŠ‚ç‚¹æ¥å…¥ç½‘ç»œä¸­ï¼›</li>
<li>ç½‘é™…äº’è”å±‚ï¼š æ‰¾åˆ°è¦ä¼ è¾“æ•°æ®çš„ç›®æ ‡èŠ‚ç‚¹ï¼›</li>
<li>ä¼ è¾“å±‚ï¼š å®é™…ä¼ è¾“æ•°æ®ï¼›</li>
<li>åº”ç”¨å±‚ï¼š ä½¿ç”¨æ¥æ”¶åˆ°çš„æ•°æ®ã€‚</li>
</ul>
<ol start="5">
<li><strong>æµ·é‡æ•°æ®è§£å†³æ–¹æ¡ˆï¼š</strong></li>
</ol>
<ul>
<li>æœ€ç›´æ¥çš„æ–¹æ¡ˆæ˜¯ä½¿ç”¨ç¼“å­˜ï¼Œå°±æ˜¯å°†æ•°æ®ä»æ•°æ®åº“ä¸­è·å–ç„¶åæš‚å­˜ï¼Œä¸‹æ¬¡ä½¿ç”¨çš„æ—¶å€™æ— éœ€ä»æ•°æ®åº“ä¸­è·å–ï¼Œå¤§å¤§é™ä½æ•°æ®åº“çš„å‹åŠ›ï¼›å¸¸ç”¨çš„ç¼“å­˜æ¡†æ¶æœ‰ï¼šEhcacheã€Mencacheå’ŒRedisç­‰ï¼›</li>
<li>ç¼“å­˜ä¸æ˜¯ä¸»è¦ç”¨äºæ•°æ®å˜åŒ–<strong><em>ä¸æ˜¯å¾ˆé¢‘ç¹</em></strong>çš„æƒ…å†µï¼›</li>
<li>é¡µé¢é™æ€åŒ–ï¼šå°†ç¨‹åºæœ€åç”Ÿæˆçš„é¡µé¢ä¿å­˜ä¸‹æ¥ï¼Œå°±ä¸å†éœ€è¦æ¯æ¬¡è°ƒç”¨éƒ½é‡æ–°ç”Ÿæˆæ–°é¡µé¢äº†ï¼Œå¯¹äºæ•°æ®é‡å¤§å’Œé«˜å¹¶å‘éƒ½æœ‰å¥½å¤„ï¼›é€šå¸¸ä½¿ç”¨æ¨¡æ¿å¼•æ“æŠ€æœ¯ç”Ÿæˆï¼Œæ¯”å¦‚Freemarkerç­‰æ¨¡æ¿å¼•æ“æŠ€æœ¯ã€‚</li>
</ul>
<ol start="6">
<li><strong><em>æ•°æ®åº“ä¼˜åŒ–ï¼š</em></strong>å¯ä»¥åœ¨ä¸å¢åŠ ç¡¬ä»¶çš„æƒ…å†µä¸‹æé«˜å¤„ç†æ•ˆç‡ï¼Œä¼˜åŒ–æ–¹å¼æœ‰ï¼šè¡¨ç»“æ„ä¼˜åŒ–ã€SQLè¯­å¥ä¼˜åŒ–ã€åˆ†åŒºå’Œåˆ†è¡¨ã€ç´¢å¼•ä¼˜åŒ–ã€ä½¿ç”¨å­˜å‚¨è¿‡ç¨‹ä»£æ›¿ç›´æ¥æ“ä½œç­‰ç­‰ï¼Œæ­¤å¤–åˆç†ä½¿ç”¨å†—ä½™ä¹Ÿèƒ½è¾¾åˆ°ä¼˜åŒ–çš„æ•ˆæœ</li>
</ol>
<ul>
<li>è¡¨ç»“æ„ä¼˜åŒ–ï¼šåˆç†è®¾è®¡è¡¨ç»“æ„èƒ½å¤Ÿå¸¦æ¥è´¨çš„å˜åŒ–ï¼›</li>
<li>SQLè¯­å¥ä¼˜åŒ–ï¼š åˆ†ææ—¥å¿—ï¼Œç„¶åè¿›è¡Œä¼˜åŒ–ï¼›</li>
<li>åˆ†åŒºï¼šå°†ä¸€å¼ è¡¨ä¸­çš„æ•°æ®æŒ‰ç…§ä¸€å®šè§„åˆ™åˆ†åˆ°ä¸åŒçš„åŒºæ¥ä¿å­˜ï¼Œåœ¨æŸ¥è¯¢æ•°æ®çš„æ—¶å€™æ•°æ®åœ¨åŒä¸€èŒƒå›´å†…å°±å¯ä»¥åšåˆ°åªå¯¹ä¸€ä¸ªåŒºçš„æ•°æ®è¿›è¡Œæ“ä½œï¼›</li>
<li>åˆ†è¡¨ï¼šä¸€ä¸ªè¡¨ä¸­çš„æ•°æ®å¯ä»¥åˆ†ä¸ºå‡ ç§å›ºå®šä¸å˜çš„ç±»å‹ï¼Œè€Œä¸”åŒæ—¶å¯¹å¤šç§ç±»å‹å…±åŒæ“ä½œæ‡‚å¾—æƒ…å†µä¸å¤šï¼Œå¯ä»¥é€šè¿‡åˆ†è¡¨å¤„ç†ï¼›å°†ä¸€ä¸ªè¡¨ä¸­ä¸åŒç±»å‹çš„å­—æ®µåˆ†åˆ°ä¸åŒçš„è¡¨ä¸­ä¿å­˜ï¼›</li>
<li>ç´¢å¼•ä¼˜åŒ–ï¼š ä¼˜ç§€çš„ç´¢å¼•èƒ½å¤Ÿæå¤§æé«˜æŸ¥è¡¨çš„æ•ˆç‡ï¼Œä½†æ˜¯åŠ£è´¨çš„å°±ä¼šé™ä½ï¼Œå› æ­¤éœ€è¦æƒè¡¡ï¼›</li>
<li>ä½¿ç”¨å­˜å‚¨è¿‡ç¨‹æ›¿ä»£ç›´æ¥æ“ä½œï¼š åœ¨æ“ä½œè¿‡ç¨‹å¤æ‚è€Œä¸”è°ƒç”¨é¢‘ç‡é«˜çš„ä¸šåŠ¡ä¸­ï¼Œå¯ä»¥é€šè¿‡å­˜å‚¨è¿‡ç¨‹æ¥ä»£æ›¿ç›´æ¥çš„æ•°æ®åº“æ“ä½œã€‚</li>
</ul>
<ol start="7">
<li><strong><em>å…¶ä»–ä¼˜åŒ–æ“ä½œï¼š</em></strong></li>
</ol>
<ul>
<li>åˆ†ç¦»æ´»è·ƒæ•°æ®ï¼›</li>
<li>æ‰¹é‡è¯»å–å’Œå»¶è¿Ÿä¿®æ”¹ï¼›</li>
<li>è¯»å†™åˆ†ç¦»ï¼›</li>
<li>åˆ†å¸ƒå¼æ•°æ®åº“ç­‰ã€‚</li>
</ul>
<ol start="8">
<li><strong>é«˜å¹¶å‘è§£å†³æ–¹æ¡ˆï¼š</strong></li>
</ol>
<ul>
<li>åº”ç”¨å’Œé™æ€èµ„æºåˆ†ç¦»ï¼Œå¹¶å‘é‡è¾¾åˆ°ä¸€å®šç¨‹åº¦çš„æ—¶å€™å°†é™æ€èµ„æºä¿å­˜åˆ°ä¸“é—¨çš„æœåŠ¡å™¨ä¸­ï¼›</li>
<li>é¡µé¢ç¼“å­˜æŠ€æœ¯ï¼›</li>
<li>é›†ç¾¤ä¸åˆ†å¸ƒå¼ï¼šé›†ç¾¤æ˜¯æ¯å°æœåŠ¡å™¨éƒ½æœ‰ç›¸åŒçš„åŠŸèƒ½ï¼Œå¤„ç†è¯·æ±‚çš„æ—¶å€™è°ƒç”¨å“ªå°æœåŠ¡å™¨éƒ½å¯ä»¥ï¼Œä¸»è¦èµ·åˆ†æµä½œç”¨ï¼›åˆ†å¸ƒå¼æ˜¯å°†ä¸åŒçš„ä¸šåŠ¡æ”¾åˆ°ä¸åŒçš„æœåŠ¡å™¨ä¸­ï¼Œå¤„ç†ä¸€ä¸ªè¯·æ±‚å¯èƒ½éœ€è¦ç”¨åˆ°å¤šä¸ªæœåŠ¡å™¨ï¼›é›†ç¾¤éœ€è¦å¤„ç†è´Ÿè½½å‡è¡¡é—®é¢˜ï¼›</li>
<li>åå‘ä»£ç†ï¼šå®¢æˆ·ç«¯ç›´æ¥è®¿é—®çš„å¹¶ä¸æ˜¯çœŸæ­£æä¾›æœåŠ¡çš„æœåŠ¡å™¨ï¼Œä»åˆ«çš„æœåŠ¡å™¨è·å–èµ„æºç„¶åå°†ç»“æœè¿”å›ç»™ç”¨æˆ·ã€‚<ul>
<li>å¯ä»¥ä½œä¸ºå‰ç«¯æœåŠ¡å™¨è·Ÿå®é™…å¤„ç†è¯·æ±‚çš„æœåŠ¡å™¨é›†æˆï¼›</li>
<li>å¯ä»¥ç”¨ä½œè´Ÿè½½å‡è¡¡ï¼›</li>
<li>è½¬å‘è¯·æ±‚ã€‚</li>
</ul>
</li>
<li>CDNï¼šç‰¹æ®Šçš„é›†ç¾¤é¡µé¢ç¼“å­˜æœåŠ¡å™¨ï¼ŒCDNæœåŠ¡å™¨æ˜¯åˆ†å¸ƒåœ¨å…¨å›½å„åœ°ï¼Œå½“æ¥æ”¶åˆ°ç”¨æˆ·çš„è¯·æ±‚åä¼šå°†è¯·æ±‚åˆ†å¸ƒåˆ°æœ€åˆé€‚çš„CDNæœåŠ¡å™¨èŠ‚ç‚¹è·å–æ•°æ®ï¼›ç”±ä¸“é—¨çš„CDNåŸŸåè§£ææœåŠ¡å™¨åœ¨è§£æåŸŸåçš„æ—¶å€™åˆ†é…å¥½çš„ã€‚</li>
</ul>
<ol start="8">
<li><p>ç½‘ç«™æ¶æ„çš„æ•´ä¸ªæ¼”å˜è¿‡ç¨‹ä¸»è¦æ˜¯å›´ç»•å¤§æ•°æ®å’Œé«˜å¹¶å‘è¿™ä¸¤ä¸ªé—®é¢˜å±•å¼€çš„ï¼Œè§£å†³çš„æ–¹æ¡ˆä¸»è¦åˆ†ä¸ºä½¿ç”¨ç¼“å­˜å’Œä½¿ç”¨å¤šç§èµ„æºä¸¤ç§ç±»å‹ï¼Œå…¶ä¸­ä½¿ç”¨å¤šç§èµ„æºæ˜¯æŒ‡å¤šå­˜å‚¨ï¼ˆåŒ…æ‹¬å¤šå†…å­˜åœ¨å†…ï¼‰ã€å¤šCPUå’Œå¤šç½‘ç»œç­‰ï¼›<strong>æ²¡æœ‰æœ€å¥½çš„æ¶æ„ï¼Œåªæœ‰æœ€åˆé€‚çš„æ¶æ„ã€‚æ¶æ„æ˜¯æ ¹æ®éœ€æ±‚è¿›è¡Œè®¾è®¡ï¼</strong> åªè¦æ˜¯ä¸ºäº†è§£å†³é—®é¢˜ï¼Œä¸ç®¡æ˜¯æ¶æ„è¿˜æ˜¯åè®®éƒ½éœ€è¦æˆ‘ä»¬çš„è®¤çœŸå¯¹å¾…ï¼Œä»˜å‡ºè‡ªå·±çš„æ—¶é—´å’ŒåŠªåŠ›ã€‚</p>
</li>
<li><p>HTTPå“åº”æŠ¥æ–‡ä¸­çš„çŠ¶æ€ç ï¼š</p>
<ol>
<li>1XXï¼šä¿¡æ¯æ€§çŠ¶æ€ç ï¼›</li>
<li>2XXï¼šæˆåŠŸçŠ¶æ€ç ï¼Œå¦‚200è¡¨ç¤ºæˆåŠŸï¼›</li>
<li>3XXï¼šé‡å®šå‘çŠ¶æ€ç ï¼Œå¦‚301è¡¨ç¤ºé‡å®šå‘ï¼›</li>
<li>4XXï¼šå®¢æˆ·ç«¯é”™è¯¯çŠ¶æ€ç ï¼Œå¦‚404è¡¨ç¤ºæ²¡æ‰¾åˆ°è¯·æ±‚çš„èµ„æºï¼›</li>
<li>5XXï¼šæœåŠ¡ç«¯é”™è¯¯çŠ¶æ€ç ï¼Œå¦‚500è¡¨ç¤ºå†…éƒ¨é”™è¯¯ã€‚</li>
</ol>
</li>
<li><p><strong><em>Javaä¸­çš„Socketï¼š</em></strong></p>
<ol>
<li><p>Socketåˆ†ä¸ºServerSocketå’ŒSocketä¸¤ç±»ï¼ŒServerSocketç”¨äºæœåŠ¡å™¨ç«¯,å¯ä»¥é€šè¿‡acceptæ–¹æ³•ç›‘å¬è¯·æ±‚,Socketç”¨äºå…·ä½“å®Œæˆæ•°æ®ä¼ è¾“,å®¢æˆ·ç«¯ç›´æ¥ä½¿ç”¨Socketå‘èµ·è¯·æ±‚å¹¶ä¼ è¾“æ•°æ®ï¼›</p>
<ol>
<li>ServerSocketçš„ä½¿ç”¨åˆ†ä¸ºä¸‰æ­¥ï¼š<ol>
<li>åˆ›å»ºServerSocketï¼›</li>
<li>è°ƒç”¨åˆ›å»ºå‡ºæ¥çš„ServerSocketçš„accpetæ–¹æ³•è¿›è¡Œç›‘å¬ï¼›</li>
<li>ä½¿ç”¨acceptæ–¹æ³•è¿”å›çš„Socketä¸å®¢æˆ·ç«¯è¿›è¡Œé€šä¿¡ã€‚</li>
</ol>
</li>
<li>åˆ›å»ºServerSocketï¼š</li>
</ol>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">ServerSocket serverSocket=<span class="keyword">new</span> ServerSocket(<span class="number">8080</span>);</span><br><span class="line">       Socket socket=serverSocket.accept();</span><br><span class="line">       BufferedReader is =<span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> InputStreamReader(socket.getInputStream()));</span><br><span class="line">       String line=is.readLine();</span><br><span class="line">       System.out.println(<span class="string">"received from client: "</span>+line);</span><br><span class="line">       is.close();</span><br><span class="line">       socket.close();</span><br><span class="line">       serverSocket.close();</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>åˆ›å»ºSocketè¿æ¥Serverï¼š</li>
</ol>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Socket socket=<span class="keyword">new</span> Socket(<span class="string">"localhost"</span>,<span class="number">8080</span>);</span><br><span class="line">PrintWriter pw=<span class="keyword">new</span> PrintWriter(socket.getOutputStream());</span><br><span class="line">pw.println(<span class="string">"Hello world"</span>);</span><br><span class="line">pw.close();</span><br><span class="line">socket.close();</span><br></pre></td></tr></table></figure>
</li>
<li><p>NioSocketæ˜¯æ–°å¢çš„Socketï¼Œé¦–å…ˆè¦åˆ›å»ºServerSocketChannelï¼Œç„¶åæ³¨å†ŒSelectorï¼Œæ¥ä¸‹æ¥å°±å¯ä»¥ä½¿ç”¨Selectoræ¥æ”¶è¯·æ±‚å¹¶å¤„ç†ã€‚</p>
<ol>
<li>åˆ›å»ºServerSocketChannelå¹¶è®¾ç½®ç›¸åº”çš„å‚æ•°ï¼›</li>
<li>åˆ›å»ºSelectorå¹¶æ³¨å†Œåˆ°ServerSocketChannelä¸Šï¼›</li>
<li>è°ƒç”¨Selectorçš„selectæ–¹æ³•ç­‰å¾…è¯·æ±‚ï¼›</li>
<li>Selectoræ¥æ”¶åˆ°è¯·æ±‚åä½¿ç”¨selectedKeysè¿”å›SelectionKeyé›†åˆï¼›</li>
<li>ä½¿ç”¨SelectionKeyè·å–åˆ°Channelã€Selectorå’Œæ“ä½œç±»å‹å¹¶è¿›è¡Œå…·ä½“æ“ä½œã€‚</li>
</ol>
</li>
</ol>
</li>
<li><p>Servletæ˜¯Server+Appletçš„ç¼©å†™ï¼Œè¡¨ç¤ºä¸€ä¸ªæœåŠ¡å™¨åº”ç”¨ï¼Œå…¶å®å°±æ˜¯ä¸€å¥—è§„èŒƒã€‚</p>
</li>
</ol>
<ul>
<li>GenericServletï¼šå®ç°äº†ServletConfigæ¥å£ï¼›æä¾›äº†æ— å‚çš„initæ–¹æ³•ï¼›æä¾›äº†logæ–¹æ³•ï¼›</li>
<li>HttpServletï¼šç”¨HTTPåè®®å®ç°çš„ServletåŸºç±»ã€‚</li>
</ul>
<hr>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>è¿™éƒ¨åˆ†ç›¸å¯¹æ¥è¯´å±äºéå¸¸åŸºç¡€çš„å†…å®¹ï¼Œå½“ç„¶åŸºç¡€è¿œä¸æ­¢è¿™ä¹ˆå¤šï¼Œåç»­è¿˜æœ‰æ–‡ç« è¿›è¡ŒåŸºç¡€çŸ¥è¯†å†…å®¹çš„æ‰©å……ï¼</p>
]]></content>
      <categories>
        <category>Web</category>
      </categories>
  </entry>
  <entry>
    <title>åœ¨ç¼–ç¨‹çš„è·¯ä¸Šè¶Šèµ°è¶Š...</title>
    <url>/2020/05/13/%E5%9C%A8%E7%BC%96%E7%A8%8B%E7%9A%84%E8%B7%AF%E4%B8%8A%E8%B6%8A%E8%B5%B0%E8%B6%8A/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>ç¼–ç¨‹æ˜¯ä¸æ˜¯ç‰¹æœ‰æ„æ€å‘¢ï¼Ÿæˆ‘ä¸çŸ¥é“ï¼Œä½†æ˜¯æ³¨é‡Šæ˜¯è¶Šæ¥è¶Šæœ‰æ„æ€ï¼Œä¸ä¿¡ä½ çœ‹ï¼ğŸ‘€</p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="æ³¨é‡Š"><a href="#æ³¨é‡Š" class="headerlink" title="æ³¨é‡Š"></a>æ³¨é‡Š</h2><h3 id="ä½›ç¥–ä¿ä½‘"><a href="#ä½›ç¥–ä¿ä½‘" class="headerlink" title="ä½›ç¥–ä¿ä½‘"></a>ä½›ç¥–ä¿ä½‘</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//                            _ooOoo_</span></span><br><span class="line"><span class="comment">//                           o8888888o</span></span><br><span class="line"><span class="comment">//                           88" . "88</span></span><br><span class="line"><span class="comment">//                           (| -_- |)</span></span><br><span class="line"><span class="comment">//                           O\  =  /O</span></span><br><span class="line"><span class="comment">//                        ____/`---'\____</span></span><br><span class="line"><span class="comment">//                      .'  \\|     |//  `.</span></span><br><span class="line"><span class="comment">//                     /  \\|||  :  |||//  \</span></span><br><span class="line"><span class="comment">//                    /  _||||| -:- |||||-  \</span></span><br><span class="line"><span class="comment">//                    |   | \\\  -  /// |   |</span></span><br><span class="line"><span class="comment">//                    | \_|  ''\---/''  |   |</span></span><br><span class="line"><span class="comment">//                    \  .-\__  `-`  ___/-. /</span></span><br><span class="line"><span class="comment">//                  ___`. .'  /--.--\  `. . __</span></span><br><span class="line"><span class="comment">//               ."" '&lt;  `.___\_&lt;|&gt;_/___.'  &gt;'"".</span></span><br><span class="line"><span class="comment">//              | | :  `- \`.;`\ _ /`;.`/ - ` : | |</span></span><br><span class="line"><span class="comment">//              \  \ `-.   \_ __\ /__ _/   .-` /  /</span></span><br><span class="line"><span class="comment">//         ======`-.____`-.___\_____/___.-`____.-'======</span></span><br><span class="line"><span class="comment">//                            `=---='</span></span><br><span class="line"><span class="comment">//        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^</span></span><br><span class="line"><span class="comment">//                      ä½›ç¥–ä¿ä½‘       æ°¸æ— BUG</span></span><br></pre></td></tr></table></figure>

<h3 id="ä½›ç¥–éƒ½æ•‘ä¸äº†"><a href="#ä½›ç¥–éƒ½æ•‘ä¸äº†" class="headerlink" title="ä½›ç¥–éƒ½æ•‘ä¸äº†"></a>ä½›ç¥–éƒ½æ•‘ä¸äº†</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//_ooOoo_</span></span><br><span class="line"><span class="comment">//o8888888o</span></span><br><span class="line"><span class="comment">//88" . "88</span></span><br><span class="line"><span class="comment">//(| -_- |)</span></span><br><span class="line"><span class="comment">// O\ = /O</span></span><br><span class="line"><span class="comment">//___/`---'\____</span></span><br><span class="line"><span class="comment">//.   ' \\| |// `.</span></span><br><span class="line"><span class="comment">/// \\||| : |||// \</span></span><br><span class="line"><span class="comment">/// _||||| -:- |||||- \</span></span><br><span class="line"><span class="comment">//| | \\\ - /// | |</span></span><br><span class="line"><span class="comment">//| \_| ''\---/'' | |</span></span><br><span class="line"><span class="comment">//\ .-\__ `-` ___/-. /</span></span><br><span class="line"><span class="comment">//___`. .' /--.--\ `. . __</span></span><br><span class="line"><span class="comment">//."" '&lt; `.___\_&lt;|&gt;_/___.' &gt;'"".</span></span><br><span class="line"><span class="comment">//| | : `- \`.;`\ _ /`;.`/ - ` : | |</span></span><br><span class="line"><span class="comment">//\ \ `-. \_ __\ /__ _/ .-` / /</span></span><br><span class="line"><span class="comment">//======`-.____`-.___\_____/___.-`____.-'======</span></span><br><span class="line"><span class="comment">//`=---='</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//         .............................................</span></span><br><span class="line"><span class="comment">//          ä½›æ›°ï¼šbugæ³›æ»¥ï¼Œæˆ‘å·²ç˜«ç—ªï¼</span></span><br></pre></td></tr></table></figure>

<h3 id="æ— å¯å¥‰å‘Š"><a href="#æ— å¯å¥‰å‘Š" class="headerlink" title="æ— å¯å¥‰å‘Š"></a>æ— å¯å¥‰å‘Š</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/***             æ— å¯å¥‰å‘Š ä¸€é¢—èµ›è‰‡</span></span><br><span class="line"><span class="comment"> *  uJjYJYYLLv7r7vJJ5kqSFFFUUjJ7rrr7LLYLJLJ7</span></span><br><span class="line"><span class="comment"> *  JuJujuYLrvuEM@@<span class="doctag">@B</span>@@<span class="doctag">@B</span><span class="doctag">@B</span><span class="doctag">@B</span>@@<span class="doctag">@MG</span>5Y7vLjYjJL</span></span><br><span class="line"><span class="comment"> *  JYjYJvr7XM@BB8GOOE8ZEEO8GqM8OBBBMu77LLJ7</span></span><br><span class="line"><span class="comment"> *  LJLY7ru@@<span class="doctag">@BOZ</span>8O8NXFFuSkSu25X0OFZ8MZJ;vLv</span></span><br><span class="line"><span class="comment"> *  YvL7i5@BM8OGGqk22uvriiriii;r7LuSZXEMXrvr</span></span><br><span class="line"><span class="comment"> *  vv7iU@BMNkF1uY7v7rr;iiii:i:i:ii7JEPNBPir</span></span><br><span class="line"><span class="comment"> *  L7iL@BM8Xjuujvv77rr;ri;i;:iiiii:iLXFOBJ:</span></span><br><span class="line"><span class="comment"> *  7ri@B@MOFuUS2Y7L7777rii;:::::i:iirjPG@O:</span></span><br><span class="line"><span class="comment"> *  7:1B@BBOPjXXSJvrL7rr7iiii:i::::i;iv5MBB,</span></span><br><span class="line"><span class="comment"> *  r:0@BBM8SFPX2Y77rri::iirri:::::iii75O@G.</span></span><br><span class="line"><span class="comment"> *  7:SB@BBGqXPk0122UJL::i::r:::i:i;i:v2@Bk.</span></span><br><span class="line"><span class="comment"> *  ri:MB@BBEqEMGq2JLLL1u7.iX51u77LF27iSB@r,</span></span><br><span class="line"><span class="comment"> *  ri,v@B@MB8@qqNEqN1u:5B8BOFE0S7ii7qMB@F::</span></span><br><span class="line"><span class="comment"> *  ii,J80Eq1MZkqPPX5YkPE@B@iXPE52j7:vBjE7::</span></span><br><span class="line"><span class="comment"> *  ii:7MSqkS0PvLv7rrii0@L.Z1iLr::ir:rO,vi::</span></span><br><span class="line"><span class="comment"> *  ii::EZXPSkquLvii:iF@N:.,BUi7ri,::UY;r:::</span></span><br><span class="line"><span class="comment"> *  i::.2ONXqkPXS5FUUEOPP;..iSPXkjLYLLrr:::,</span></span><br><span class="line"><span class="comment"> *  :::,iMXNP0NPLriiLGZ@BB1P87;JuL7r:7ri:::,</span></span><br><span class="line"><span class="comment"> *  :::,.UGqNX0EZF2uUjUuULr:::,:7uuvv77::::.</span></span><br><span class="line"><span class="comment"> *  ::::..5OXqXNJ50NSY;i:.,,,:i77Yvr;v;,,::.</span></span><br><span class="line"><span class="comment"> *  :::,:.jOEPqPJiqBMMMO8NqP0SYLJriirv:.:,:.</span></span><br><span class="line"><span class="comment"> *  ,:,,,.,Zq0P0X7vPFqF1ujLv7r:irrr7j7.,,::.</span></span><br><span class="line"><span class="comment"> *  ,,,....0qk0080v75ujLLv7ri:i:rvj2J...,,,.</span></span><br><span class="line"><span class="comment"> *  ......8@UXqZEMNvJjr;ii::,:::7uuv...,.,,.</span></span><br><span class="line"><span class="comment"> *  .....B@BOvX88GMGk52vririiirJS1i.......,.</span></span><br><span class="line"><span class="comment"> *  .JEMB@B@BMvL0MOMMMO8PE8GPqSk2L:.........</span></span><br><span class="line"><span class="comment"> *  <span class="doctag">@B</span>@@<span class="doctag">@B</span><span class="doctag">@M</span><span class="doctag">@B</span><span class="doctag">@L</span>:7PGBOO8MOMOEP0Xri@B@Mk7,...</span></span><br><span class="line"><span class="comment"> *  B@B@BBMBB@B@0::rJP8MO0uvvu7..,B@B@B@B@Z7</span></span><br><span class="line"><span class="comment"> *  MMBM@BBB@B@B@Br:i,..:Lur:....7@OMMBM@B@@</span></span><br><span class="line"><span class="comment"> *  8OOMMMOMMMMBB@B:....,PZENNi..JBOZ8GMOOOO</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure>

<h3 id="çœ‹ä¹¦"><a href="#çœ‹ä¹¦" class="headerlink" title="çœ‹ä¹¦"></a>çœ‹ä¹¦</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/***</span></span><br><span class="line"><span class="comment"> *                 .-~~~~~~~~~-._       _.-~~~~~~~~~-.</span></span><br><span class="line"><span class="comment"> *             __.'              ~.   .~              `.__</span></span><br><span class="line"><span class="comment"> *           .'//                  \./                  \\`.</span></span><br><span class="line"><span class="comment"> *         .'//                     |                     \\`.</span></span><br><span class="line"><span class="comment"> *       .'// .-~"""""""~~~~-._     |     _,-~~~~"""""""~-. \\`.</span></span><br><span class="line"><span class="comment"> *     .'//.-"                 `-.  |  .-'                 "-.\\`.</span></span><br><span class="line"><span class="comment"> *   .'//______.============-..   \ | /   ..-============.______\\`.</span></span><br><span class="line"><span class="comment"> * .'______________________________\|/______________________________`.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure>

<h3 id="BadCode"><a href="#BadCode" class="headerlink" title="BadCode"></a>BadCode</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/***</span></span><br><span class="line"><span class="comment"> *              ,----------------,              ,---------,</span></span><br><span class="line"><span class="comment"> *         ,-----------------------,          ,"        ,"|</span></span><br><span class="line"><span class="comment"> *       ,"                      ,"|        ,"        ,"  |</span></span><br><span class="line"><span class="comment"> *      +-----------------------+  |      ,"        ,"    |</span></span><br><span class="line"><span class="comment"> *      |  .-----------------.  |  |     +---------+      |</span></span><br><span class="line"><span class="comment"> *      |  |                 |  |  |     | -==----'|      |</span></span><br><span class="line"><span class="comment"> *      |  |  I LOVE DOS!    |  |  |     |         |      |</span></span><br><span class="line"><span class="comment"> *      |  |  Bad command or |  |  |/----|`---=    |      |</span></span><br><span class="line"><span class="comment"> *      |  |  C:\&gt;_          |  |  |   ,/|==== ooo |      ;</span></span><br><span class="line"><span class="comment"> *      |  |                 |  |  |  // |(((( [33]|    ,"</span></span><br><span class="line"><span class="comment"> *      |  `-----------------'  |," .;'| |((((     |  ,"</span></span><br><span class="line"><span class="comment"> *      +-----------------------+  ;;  | |         |,"</span></span><br><span class="line"><span class="comment"> *         /_)______________(_/  //'   | +---------+</span></span><br><span class="line"><span class="comment"> *    ___________________________/___  `,</span></span><br><span class="line"><span class="comment"> *   /  oooooooooooooooo  .o.  oooo /,   \,"-----------</span></span><br><span class="line"><span class="comment"> *  / ==ooooooooooooooo==.o.  ooo= //   ,`\--&#123;)B     ,"</span></span><br><span class="line"><span class="comment"> * /_==__==========__==_ooo__ooo=_/'   /___________,"</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure>

<h3 id="èƒœåˆ©"><a href="#èƒœåˆ©" class="headerlink" title="èƒœåˆ©"></a>èƒœåˆ©</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/***</span></span><br><span class="line"><span class="comment"> *                        d*##$.</span></span><br><span class="line"><span class="comment"> *  zP"""""$e.           $"    $o</span></span><br><span class="line"><span class="comment"> * 4$       '$          $"      $</span></span><br><span class="line"><span class="comment"> * '$        '$        J$       $F</span></span><br><span class="line"><span class="comment"> *  'b        $k       $&gt;       $</span></span><br><span class="line"><span class="comment"> *   $k        $r     J$       d$</span></span><br><span class="line"><span class="comment"> *   '$         $     $"       $~</span></span><br><span class="line"><span class="comment"> *    '$        "$   '$E       $</span></span><br><span class="line"><span class="comment"> *     $         $L   $"      $F ...</span></span><br><span class="line"><span class="comment"> *      $.       4B   $      $$$*"""*b</span></span><br><span class="line"><span class="comment"> *      '$        $.  $$     $$      $F</span></span><br><span class="line"><span class="comment"> *       "$       R$  $F     $"      $</span></span><br><span class="line"><span class="comment"> *        $k      ?$ u*     dF      .$</span></span><br><span class="line"><span class="comment"> *        ^$.      $$"     z$      u$$$$e</span></span><br><span class="line"><span class="comment"> *         #$b             $E.dW@e$"    ?$</span></span><br><span class="line"><span class="comment"> *          #$           .o$$# d$$$$c    ?F</span></span><br><span class="line"><span class="comment"> *           $      .d$$#" . zo$&gt;   #$r .uF</span></span><br><span class="line"><span class="comment"> *           $L .u$*"      $&amp;$$$k   .$$d$$F</span></span><br><span class="line"><span class="comment"> *            $$"            ""^"$$$P"$P9$</span></span><br><span class="line"><span class="comment"> *           JP              .o$$$$u:$P $$</span></span><br><span class="line"><span class="comment"> *           $          ..ue$"      ""  $"</span></span><br><span class="line"><span class="comment"> *          d$          $F              $</span></span><br><span class="line"><span class="comment"> *          $$     ....udE             4B</span></span><br><span class="line"><span class="comment"> *           #$    """"` $r            @$</span></span><br><span class="line"><span class="comment"> *            ^$L        '$            $F</span></span><br><span class="line"><span class="comment"> *              RN        4N           $</span></span><br><span class="line"><span class="comment"> *               *$b                  d$</span></span><br><span class="line"><span class="comment"> *                $$k                 $F</span></span><br><span class="line"><span class="comment"> *                 $$b                $F</span></span><br><span class="line"><span class="comment"> *                  $""               $F</span></span><br><span class="line"><span class="comment"> *                  '$                $</span></span><br><span class="line"><span class="comment"> *                   $L               $</span></span><br><span class="line"><span class="comment"> *                   '$               $</span></span><br><span class="line"><span class="comment"> *                    $               $</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure>

<h3 id="æœäº†"><a href="#æœäº†" class="headerlink" title="æœäº†"></a>æœäº†</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/***</span></span><br><span class="line"><span class="comment"> *                   /88888888888888888888888888\</span></span><br><span class="line"><span class="comment"> *                   |88888888888888888888888888/</span></span><br><span class="line"><span class="comment"> *                    |~~____~~~~~~~~~"""""""""|</span></span><br><span class="line"><span class="comment"> *                   / \_________/"""""""""""""\</span></span><br><span class="line"><span class="comment"> *                  /  |              \         \</span></span><br><span class="line"><span class="comment"> *                 /   |  88    88     \         \</span></span><br><span class="line"><span class="comment"> *                /    |  88    88      \         \</span></span><br><span class="line"><span class="comment"> *               /    /                  \        |</span></span><br><span class="line"><span class="comment"> *              /     |   ________        \       |</span></span><br><span class="line"><span class="comment"> *              \     |   \______/        /       |</span></span><br><span class="line"><span class="comment"> *   /"\         \     \____________     /        |</span></span><br><span class="line"><span class="comment"> *   | |__________\_        |  |        /        /</span></span><br><span class="line"><span class="comment"> * /""""\           \_------'  '-------/       --</span></span><br><span class="line"><span class="comment"> * \____/,___________\                 -------/</span></span><br><span class="line"><span class="comment"> * ------*            |                    \</span></span><br><span class="line"><span class="comment"> *   ||               |                     \</span></span><br><span class="line"><span class="comment"> *   ||               |                 ^    \</span></span><br><span class="line"><span class="comment"> *   ||               |                | \    \</span></span><br><span class="line"><span class="comment"> *   ||               |                |  \    \</span></span><br><span class="line"><span class="comment"> *   ||               |                |   \    \</span></span><br><span class="line"><span class="comment"> *   \|              /                /"""\/    /</span></span><br><span class="line"><span class="comment"> *      -------------                |    |    /</span></span><br><span class="line"><span class="comment"> *      |\--_                        \____/___/</span></span><br><span class="line"><span class="comment"> *      |   |\-_                       |</span></span><br><span class="line"><span class="comment"> *      |   |   \_                     |</span></span><br><span class="line"><span class="comment"> *      |   |     \                    |</span></span><br><span class="line"><span class="comment"> *      |   |      \_                  |</span></span><br><span class="line"><span class="comment"> *      |   |        ----___           |</span></span><br><span class="line"><span class="comment"> *      |   |               \----------|</span></span><br><span class="line"><span class="comment"> *      /   |                     |     ----------""\</span></span><br><span class="line"><span class="comment"> * /"\--"--_|                     |               |  \</span></span><br><span class="line"><span class="comment"> * |_______/                      \______________/    )</span></span><br><span class="line"><span class="comment"> *                                               \___/</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure>

<h3 id="çœ‹ä»€ä¹ˆæºç "><a href="#çœ‹ä»€ä¹ˆæºç " class="headerlink" title="çœ‹ä»€ä¹ˆæºç "></a>çœ‹ä»€ä¹ˆæºç </h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/***</span></span><br><span class="line"><span class="comment"> *                                         ,s555SB@@&amp;</span></span><br><span class="line"><span class="comment"> *                                      :9H####@@@@<span class="doctag">@Xi</span></span></span><br><span class="line"><span class="comment"> *                                     1@@@@@@@@@@@@@@8</span></span><br><span class="line"><span class="comment"> *                                   ,8@@@@@@@@<span class="doctag">@B</span>@@@@@@8</span></span><br><span class="line"><span class="comment"> *                                  :B@@@<span class="doctag">@X</span>3hi8Bs;B@@@@<span class="doctag">@Ah</span>,</span></span><br><span class="line"><span class="comment"> *             ,8i                  r@@<span class="doctag">@B</span>:     1S ,M@@@@@@#8;</span></span><br><span class="line"><span class="comment"> *            1AB35.i:               X@@8 .   SGhr ,A@@@@@@@<span class="doctag">@S</span></span></span><br><span class="line"><span class="comment"> *            1@h31MX8                18Hhh3i .i3r ,A@@@@@@@@@5</span></span><br><span class="line"><span class="comment"> *            ;@&amp;i,58r5                 rGSS:     :B@@@@@@@@@<span class="doctag">@A</span></span></span><br><span class="line"><span class="comment"> *             1#i  . 9i                 hX.  .: .5@@@@@@@@@@@1</span></span><br><span class="line"><span class="comment"> *              sG1,  ,G53s.              9#Xi;hS5 3B@@@@@@<span class="doctag">@B</span>1</span></span><br><span class="line"><span class="comment"> *               .h8h.,A@@<span class="doctag">@MXSs</span>,           #<span class="doctag">@H</span>1:    3ssSSX@1</span></span><br><span class="line"><span class="comment"> *               s ,@@@@@@@@@@@<span class="doctag">@Xhi</span>,       r#@<span class="doctag">@X</span>1s9M8    .GA981</span></span><br><span class="line"><span class="comment"> *               ,. rS8H#@@@@@@@@@@#HG51;.  .h31i;9@r    .8@@@<span class="doctag">@BS</span>;i;</span></span><br><span class="line"><span class="comment"> *                .19AXXXAB@@@@@@@@@@@@@@#MHXG893hrX#XGGXM@@@@@@@@@<span class="doctag">@MS</span></span></span><br><span class="line"><span class="comment"> *                s@<span class="doctag">@MM</span>@@<span class="doctag">@hsX</span>#@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&amp;,</span></span><br><span class="line"><span class="comment"> *              :GB@#3G@<span class="doctag">@Brs</span> ,1GM@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@<span class="doctag">@B</span>,</span></span><br><span class="line"><span class="comment"> *            .hM@@@#@@#MX 51  r;iSGAM@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@8</span></span><br><span class="line"><span class="comment"> *          :3B@@@@@@@@@@@&amp;9@h :Gs   .;sSXH@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@:</span></span><br><span class="line"><span class="comment"> *      s&amp;HA#@@@@@@@@@@@@@<span class="doctag">@M</span>89A;.8S.       ,r3@@@@@@@@@@@@@@@@@@@@@@@@@@<span class="doctag">@r</span></span></span><br><span class="line"><span class="comment"> *   ,13B@@@@@@@@@@@@@@@@@@@5 5B3 ;.         ;@@@@@@@@@@@@@@@@@@@@@@@@@@<span class="doctag">@i</span></span></span><br><span class="line"><span class="comment"> *  5#@@#&amp;@@@@@@@@@@@@@@@@@@9  .39:          ;@@@@@@@@@@@@@@@@@@@@@@@@@@@;</span></span><br><span class="line"><span class="comment"> *  9@@<span class="doctag">@X</span>:MM@@@@@@@@@@@@@@@#;    ;31.         H@@@@@@@@@@@@@@@@@@@@@@@@@@:</span></span><br><span class="line"><span class="comment"> *   SH#<span class="doctag">@B</span>9.rM@@@@@@@@@@@@<span class="doctag">@B</span>       :.         3@@@@@@@@@@@@@@@@@@@@@@@@@@5</span></span><br><span class="line"><span class="comment"> *     ,:.   9@@@@@@@@@@@#HB5                 .M@@@@@@@@@@@@@@@@@@@@@@@@<span class="doctag">@B</span></span></span><br><span class="line"><span class="comment"> *           ,ssirhSM@&amp;1;i19911i,.             s@@@@@@@@@@@@@@@@@@@@@@@@@<span class="doctag">@S</span></span></span><br><span class="line"><span class="comment"> *              ,,,rHAri1h1rh&amp;@#353Sh:          8@@@@@@@@@@@@@@@@@@@@@@@@@#:</span></span><br><span class="line"><span class="comment"> *            .A3hH@#5S553&amp;@@#h   i:i9S          #@@@@@@@@@@@@@@@@@@@@@@@@<span class="doctag">@A</span>.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> *    åˆçœ‹æºç ï¼Œçœ‹ä½ å¦¹å¦¹å‘€ï¼</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure>

<h3 id="å–·ç«é¾™"><a href="#å–·ç«é¾™" class="headerlink" title="å–·ç«é¾™"></a>å–·ç«é¾™</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/***</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> *                                                    __----~~~~~~~~~~~------___</span></span><br><span class="line"><span class="comment"> *                                   .  .   ~~//====......          __--~ ~~</span></span><br><span class="line"><span class="comment"> *                   -.            \_|//     |||\\  ~~~~~~::::... /~</span></span><br><span class="line"><span class="comment"> *                ___-==_       _-~o~  \/    |||  \\            _/~~-</span></span><br><span class="line"><span class="comment"> *        __---~~~.==~||\=_    -_--~/_-~|-   |\\   \\        _/~</span></span><br><span class="line"><span class="comment"> *    _-~~     .=~    |  \\-_    '-~7  /-   /  ||    \      /</span></span><br><span class="line"><span class="comment"> *  .~       .~       |   \\ -_    /  /-   /   ||      \   /</span></span><br><span class="line"><span class="comment"> * /  ____  /         |     \\ ~-_/  /|- _/   .||       \ /</span></span><br><span class="line"><span class="comment"> * |~~    ~~|--~~~~--_ \     ~==-/   | \~--===~~        .\</span></span><br><span class="line"><span class="comment"> *          '         ~-|      /|    |-~\~~       __--~~</span></span><br><span class="line"><span class="comment"> *                      |-~~-_/ |    |   ~\_   _-~            /\</span></span><br><span class="line"><span class="comment"> *                           /  \     \__   \/~                \__</span></span><br><span class="line"><span class="comment"> *                       _--~ _/ | .-~~____--~-/                  ~~==.</span></span><br><span class="line"><span class="comment"> *                      ((-&gt;/~   '.|||' -_|    ~~-/ ,              . _||</span></span><br><span class="line"><span class="comment"> *                                 -_     ~\      ~~---l__i__i__i--~~_/</span></span><br><span class="line"><span class="comment"> *                                 _-~-__   ~)  \--______________--~~</span></span><br><span class="line"><span class="comment"> *                               //.-~~~-~_--~- |-------~~~~~~~~</span></span><br><span class="line"><span class="comment"> *                                      //.-~~~--\</span></span><br><span class="line"><span class="comment"> *                               ç¥å…½ä¿ä½‘</span></span><br><span class="line"><span class="comment"> *                              ä»£ç æ— BUG!</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure>

<h3 id="æ›¹å°¼ç›"><a href="#æ›¹å°¼ç›" class="headerlink" title="æ›¹å°¼ç›"></a>æ›¹å°¼ç›</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/***</span></span><br><span class="line"><span class="comment"> *      â”Œâ”€â”       â”Œâ”€â” + +</span></span><br><span class="line"><span class="comment"> *   â”Œâ”€â”€â”˜ â”´â”€â”€â”€â”€â”€â”€â”€â”˜ â”´â”€â”€â”++</span></span><br><span class="line"><span class="comment"> *   â”‚                 â”‚</span></span><br><span class="line"><span class="comment"> *   â”‚       â”€â”€â”€       â”‚++ + + +</span></span><br><span class="line"><span class="comment"> *   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ”€â”€â”€â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ â”‚+</span></span><br><span class="line"><span class="comment"> *   â”‚                 â”‚+</span></span><br><span class="line"><span class="comment"> *   â”‚       â”€â”´â”€       â”‚</span></span><br><span class="line"><span class="comment"> *   â”‚                 â”‚</span></span><br><span class="line"><span class="comment"> *   â””â”€â”€â”€â”         â”Œâ”€â”€â”€â”˜</span></span><br><span class="line"><span class="comment"> *       â”‚         â”‚</span></span><br><span class="line"><span class="comment"> *       â”‚         â”‚   + +</span></span><br><span class="line"><span class="comment"> *       â”‚         â”‚</span></span><br><span class="line"><span class="comment"> *       â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span></span><br><span class="line"><span class="comment"> *       â”‚                        â”‚</span></span><br><span class="line"><span class="comment"> *       â”‚                        â”œâ”€â”</span></span><br><span class="line"><span class="comment"> *       â”‚                        â”Œâ”€â”˜</span></span><br><span class="line"><span class="comment"> *       â”‚                        â”‚</span></span><br><span class="line"><span class="comment"> *       â””â”€â”  â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”  â”Œâ”€â”€â”˜  + + + +</span></span><br><span class="line"><span class="comment"> *         â”‚ â”€â”¤ â”€â”¤       â”‚ â”€â”¤ â”€â”¤</span></span><br><span class="line"><span class="comment"> *         â””â”€â”€â”´â”€â”€â”˜       â””â”€â”€â”´â”€â”€â”˜  + + + +</span></span><br><span class="line"><span class="comment"> *                ç¥å…½ä¿ä½‘</span></span><br><span class="line"><span class="comment"> *               ä»£ç æ— BUG!</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure>

<h3 id="æ›¹å°¼ç›2"><a href="#æ›¹å°¼ç›2" class="headerlink" title="æ›¹å°¼ç›2#"></a>æ›¹å°¼ç›2#</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/***</span></span><br><span class="line"><span class="comment"> *      â”Œâ”€â”       â”Œâ”€â”</span></span><br><span class="line"><span class="comment"> *   â”Œâ”€â”€â”˜ â”´â”€â”€â”€â”€â”€â”€â”€â”˜ â”´â”€â”€â”</span></span><br><span class="line"><span class="comment"> *   â”‚                 â”‚</span></span><br><span class="line"><span class="comment"> *   â”‚       â”€â”€â”€       â”‚</span></span><br><span class="line"><span class="comment"> *   â”‚   &gt;        &lt;    â”‚</span></span><br><span class="line"><span class="comment"> *   â”‚                 â”‚</span></span><br><span class="line"><span class="comment"> *   â”‚   ...  âŒ’  ...   â”‚</span></span><br><span class="line"><span class="comment"> *   â”‚                 â”‚</span></span><br><span class="line"><span class="comment"> *   â””â”€â”€â”€â”         â”Œâ”€â”€â”€â”˜</span></span><br><span class="line"><span class="comment"> *       â”‚         â”‚</span></span><br><span class="line"><span class="comment"> *       â”‚         â”‚</span></span><br><span class="line"><span class="comment"> *       â”‚         â”‚</span></span><br><span class="line"><span class="comment"> *       â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span></span><br><span class="line"><span class="comment"> *       â”‚                        â”‚</span></span><br><span class="line"><span class="comment"> *       â”‚                        â”œâ”€â”</span></span><br><span class="line"><span class="comment"> *       â”‚                        â”Œâ”€â”˜</span></span><br><span class="line"><span class="comment"> *       â”‚                        â”‚</span></span><br><span class="line"><span class="comment"> *       â””â”€â”  â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”  â”Œâ”€â”€â”˜</span></span><br><span class="line"><span class="comment"> *         â”‚ â”€â”¤ â”€â”¤       â”‚ â”€â”¤ â”€â”¤</span></span><br><span class="line"><span class="comment"> *         â””â”€â”€â”´â”€â”€â”˜       â””â”€â”€â”´â”€â”€â”˜</span></span><br><span class="line"><span class="comment"> *                ç¥å…½ä¿ä½‘</span></span><br><span class="line"><span class="comment"> *               ä»£ç æ— BUG!</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure>

<h3 id="ç¥çŒª"><a href="#ç¥çŒª" class="headerlink" title="ç¥çŒª"></a>ç¥çŒª</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//  ## Safety pig has arrived!</span></span><br><span class="line"><span class="comment">//  ##                               _</span></span><br><span class="line"><span class="comment">//  ##  _._ _..._ .-',     _.._(`))</span></span><br><span class="line"><span class="comment">//  ## '-. `     '  /-._.-'    ',/</span></span><br><span class="line"><span class="comment">//  ##    )         \            '.</span></span><br><span class="line"><span class="comment">//  ##   / _    _    |             \</span></span><br><span class="line"><span class="comment">//  ##  |  a    a    /              |</span></span><br><span class="line"><span class="comment">//  ##  \   .-.                     ;</span></span><br><span class="line"><span class="comment">//  ##   '-('' ).-'       ,'       ;</span></span><br><span class="line"><span class="comment">//  ##      '-;           |      .'</span></span><br><span class="line"><span class="comment">//  ##         \           \    /</span></span><br><span class="line"><span class="comment">//  ##         | 7  .__  _.-\   \</span></span><br><span class="line"><span class="comment">//  ##         | |  |  ``/  /`  /</span></span><br><span class="line"><span class="comment">//  ##        /,_|  |   /,_/   /</span></span><br><span class="line"><span class="comment">//  ##           /,_/      '`-'</span></span><br><span class="line"><span class="comment">//  ##</span></span><br></pre></td></tr></table></figure>

<h3 id="é”®ç›˜"><a href="#é”®ç›˜" class="headerlink" title="é”®ç›˜"></a>é”®ç›˜</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* æ ‡å‡†é”®ç›˜å¸ƒå±€</span></span><br><span class="line"><span class="comment">â”Œâ”€â”€â”€â”   â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â” â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â” â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â” â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”</span></span><br><span class="line"><span class="comment">â”‚Escâ”‚   â”‚ F1â”‚ F2â”‚ F3â”‚ F4â”‚ â”‚ F5â”‚ F6â”‚ F7â”‚ F8â”‚ â”‚ F9â”‚F10â”‚F11â”‚F12â”‚ â”‚P/Sâ”‚S Lâ”‚P/Bâ”‚  â”Œâ”    â”Œâ”    â”Œâ”</span></span><br><span class="line"><span class="comment">â””â”€â”€â”€â”˜   â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜ â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜ â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜ â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜  â””â”˜    â””â”˜    â””â”˜</span></span><br><span class="line"><span class="comment">â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â” â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”</span></span><br><span class="line"><span class="comment">â”‚~ `â”‚! 1â”‚@ 2â”‚# 3â”‚$ 4â”‚% 5â”‚^ 6â”‚&amp; 7â”‚* 8â”‚( 9â”‚) 0â”‚_ -â”‚+ =â”‚ BacSp â”‚ â”‚Insâ”‚Homâ”‚PUpâ”‚ â”‚N Lâ”‚ / â”‚ * â”‚ - â”‚</span></span><br><span class="line"><span class="comment">â”œâ”€â”€â”€â”´â”€â”¬â”€â”´â”€â”¬â”€â”´â”€â”¬â”€â”´â”€â”¬â”€â”´â”€â”¬â”€â”´â”€â”¬â”€â”´â”€â”¬â”€â”´â”€â”¬â”€â”´â”€â”¬â”€â”´â”€â”¬â”€â”´â”€â”¬â”€â”´â”€â”¬â”€â”´â”€â”¬â”€â”€â”€â”€â”€â”¤ â”œâ”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¤ â”œâ”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¤</span></span><br><span class="line"><span class="comment">â”‚ Tab â”‚ Q â”‚ W â”‚ E â”‚ R â”‚ T â”‚ Y â”‚ U â”‚ I â”‚ O â”‚ P â”‚&#123; [â”‚&#125; ]â”‚ | \ â”‚ â”‚Delâ”‚Endâ”‚PDnâ”‚ â”‚ 7 â”‚ 8 â”‚ 9 â”‚   â”‚</span></span><br><span class="line"><span class="comment">â”œâ”€â”€â”€â”€â”€â”´â”¬â”€â”€â”´â”¬â”€â”€â”´â”¬â”€â”€â”´â”¬â”€â”€â”´â”¬â”€â”€â”´â”¬â”€â”€â”´â”¬â”€â”€â”´â”¬â”€â”€â”´â”¬â”€â”€â”´â”¬â”€â”€â”´â”¬â”€â”€â”´â”¬â”€â”€â”´â”€â”€â”€â”€â”€â”¤ â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜ â”œâ”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¤ + â”‚</span></span><br><span class="line"><span class="comment">â”‚ Caps â”‚ A â”‚ S â”‚ D â”‚ F â”‚ G â”‚ H â”‚ J â”‚ K â”‚ L â”‚: ;â”‚" 'â”‚ Enter  â”‚               â”‚ 4 â”‚ 5 â”‚ 6 â”‚   â”‚</span></span><br><span class="line"><span class="comment">â”œâ”€â”€â”€â”€â”€â”€â”´â”€â”¬â”€â”´â”€â”¬â”€â”´â”€â”¬â”€â”´â”€â”¬â”€â”´â”€â”¬â”€â”´â”€â”¬â”€â”´â”€â”¬â”€â”´â”€â”¬â”€â”´â”€â”¬â”€â”´â”€â”¬â”€â”´â”€â”¬â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”¤     â”Œâ”€â”€â”€â”     â”œâ”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¤</span></span><br><span class="line"><span class="comment">â”‚ Shift  â”‚ Z â”‚ X â”‚ C â”‚ V â”‚ B â”‚ N â”‚ M â”‚&lt; ,â”‚&gt; .â”‚? /â”‚  Shift   â”‚     â”‚ â†‘ â”‚     â”‚ 1 â”‚ 2 â”‚ 3 â”‚   â”‚</span></span><br><span class="line"><span class="comment">â”œâ”€â”€â”€â”€â”€â”¬â”€â”€â”´â”€â”¬â”€â”´â”€â”€â”¬â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”¬â”´â”€â”€â”€â”¼â”€â”€â”€â”´â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¤ â”Œâ”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â” â”œâ”€â”€â”€â”´â”€â”€â”€â”¼â”€â”€â”€â”¤ Eâ”‚â”‚</span></span><br><span class="line"><span class="comment">â”‚ Ctrlâ”‚    â”‚Alt â”‚         Space         â”‚ Altâ”‚    â”‚    â”‚Ctrlâ”‚ â”‚ â† â”‚ â†“ â”‚ â†’ â”‚ â”‚   0   â”‚ . â”‚â†â”€â”˜â”‚</span></span><br><span class="line"><span class="comment">â””â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<h3 id="ç¾å¥³"><a href="#ç¾å¥³" class="headerlink" title="ç¾å¥³"></a>ç¾å¥³</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/***</span></span><br><span class="line"><span class="comment"> * https://wanderros.github.io</span></span><br><span class="line"><span class="comment"> *           _.._        ,------------.</span></span><br><span class="line"><span class="comment"> *        ,'      `.    ( We want you! )</span></span><br><span class="line"><span class="comment"> *       /  __) __` \    `-,----------'</span></span><br><span class="line"><span class="comment"> *      (  (`-`(-')  ) _.-'</span></span><br><span class="line"><span class="comment"> *      /)  \  = /  (</span></span><br><span class="line"><span class="comment"> *     /'    |--' .  \</span></span><br><span class="line"><span class="comment"> *    (  ,---|  `-.)__`</span></span><br><span class="line"><span class="comment"> *     )(  `-.,--'   _`-.</span></span><br><span class="line"><span class="comment"> *    '/,'          (  Uu",</span></span><br><span class="line"><span class="comment"> *     (_       ,    `/,-' )</span></span><br><span class="line"><span class="comment"> *     `.__,  : `-'/  /`--'</span></span><br><span class="line"><span class="comment"> *       |     `--'  |</span></span><br><span class="line"><span class="comment"> *       `   `-._   /</span></span><br><span class="line"><span class="comment"> *        \        (</span></span><br><span class="line"><span class="comment"> *        /\ .      \.  bug </span></span><br><span class="line"><span class="comment"> *       / |` \     ,-\</span></span><br><span class="line"><span class="comment"> *      /  \| .)   /   \</span></span><br><span class="line"><span class="comment"> *     ( ,'|\    ,'     :</span></span><br><span class="line"><span class="comment"> *     | \,`.`--"/      &#125;</span></span><br><span class="line"><span class="comment"> *     `,'    \  |,'    /</span></span><br><span class="line"><span class="comment"> *    / "-._   `-/      |</span></span><br><span class="line"><span class="comment"> *    "-.   "-.,'|     ;</span></span><br><span class="line"><span class="comment"> *   /        _/["---'""]</span></span><br><span class="line"><span class="comment"> *  :        /  |"-     '</span></span><br><span class="line"><span class="comment"> *  '           |      /</span></span><br><span class="line"><span class="comment"> *              `      |</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure>

<h3 id="å·¥ç¨‹å¸ˆ"><a href="#å·¥ç¨‹å¸ˆ" class="headerlink" title="å·¥ç¨‹å¸ˆ"></a>å·¥ç¨‹å¸ˆ</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/***</span></span><br><span class="line"><span class="comment"> *             ,%%%%%%%%,</span></span><br><span class="line"><span class="comment"> *           ,%%/\%%%%/\%%</span></span><br><span class="line"><span class="comment"> *          ,%%%\c "" J/%%%</span></span><br><span class="line"><span class="comment"> * %.       %%%%/ o  o \%%%</span></span><br><span class="line"><span class="comment"> * `%%.     %%%%    _  |%%%</span></span><br><span class="line"><span class="comment"> *  `%%     `%%%%(__Y__)%%'</span></span><br><span class="line"><span class="comment"> *  //       ;%%%%`\-/%%%'</span></span><br><span class="line"><span class="comment"> * ((       /  `%%%%%%%'</span></span><br><span class="line"><span class="comment"> *  \\    .'          |</span></span><br><span class="line"><span class="comment"> *   \\  /       \  | |</span></span><br><span class="line"><span class="comment"> *    \\/         ) | |</span></span><br><span class="line"><span class="comment"> *     \         /_ | |__</span></span><br><span class="line"><span class="comment"> *     (___________))))))) æ”»åŸæ¹¿</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> *        _       _</span></span><br><span class="line"><span class="comment"> * __   _(_)_   _(_) __ _ _ __</span></span><br><span class="line"><span class="comment"> * \ \ / / \ \ / / |/ _` |'_ \</span></span><br><span class="line"><span class="comment"> *  \ V /| |\ V /| | (_| | | | |</span></span><br><span class="line"><span class="comment"> *   \_/ |_| \_/ |_|\__,_|_| |_|</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure>

<h3 id="äºŒç‹—å­"><a href="#äºŒç‹—å­" class="headerlink" title="äºŒç‹—å­"></a>äºŒç‹—å­</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">       _.'__    `.</span></span><br><span class="line"><span class="comment">        .--($)($$)---/#\</span></span><br><span class="line"><span class="comment">      .' @          /###\</span></span><br><span class="line"><span class="comment">      :         ,   #####</span></span><br><span class="line"><span class="comment">       `-..__.-' _.-\###/</span></span><br><span class="line"><span class="comment">             `;_:    `"'</span></span><br><span class="line"><span class="comment">           .'"""""`.</span></span><br><span class="line"><span class="comment">          /,  ya ,\\</span></span><br><span class="line"><span class="comment">         //  404!  \\</span></span><br><span class="line"><span class="comment">         `-._______.-'</span></span><br><span class="line"><span class="comment">         ___`. | .'___</span></span><br><span class="line"><span class="comment">        (______|______)</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure>

<h3 id="çš®å¡ä¸˜"><a href="#çš®å¡ä¸˜" class="headerlink" title="çš®å¡ä¸˜"></a>çš®å¡ä¸˜</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">        quu..__</span></span><br><span class="line"><span class="comment">         $$$b  `---.__</span></span><br><span class="line"><span class="comment">          "$$b        `--.                          ___.---uuudP</span></span><br><span class="line"><span class="comment">           `$$b           `.__.------.__     __.---'      $$$$"              .</span></span><br><span class="line"><span class="comment">             "$b          -'            `-.-'            $$$"              .'|</span></span><br><span class="line"><span class="comment">               ".                                       d$"             _.'  |</span></span><br><span class="line"><span class="comment">                 `.   /                              ..."             .'     |</span></span><br><span class="line"><span class="comment">                   `./                           ..::-'            _.'       |</span></span><br><span class="line"><span class="comment">                    /                         .:::-'            .-'         .'</span></span><br><span class="line"><span class="comment">                   :                          ::''\          _.'            |</span></span><br><span class="line"><span class="comment">                  .' .-.             .-.           `.      .'               |</span></span><br><span class="line"><span class="comment">                  : /'$$|           .@"$\           `.   .'              _.-'</span></span><br><span class="line"><span class="comment">                 .'|$u$$|          |$$,$$|           |  &lt;            _.-'</span></span><br><span class="line"><span class="comment">                 | `:$$:'          :$$$$$:           `.  `.       .-'</span></span><br><span class="line"><span class="comment">                 :                  `"--'             |    `-.     \</span></span><br><span class="line"><span class="comment">                :##.       ==             .###.       `.      `.    `\</span></span><br><span class="line"><span class="comment">                |##:                      :###:        |        &gt;     &gt;</span></span><br><span class="line"><span class="comment">                |#'     `..'`..'          `###'        x:      /     /</span></span><br><span class="line"><span class="comment">                 \                                   xXX|     /    ./</span></span><br><span class="line"><span class="comment">                  \                                xXXX'|    /   ./</span></span><br><span class="line"><span class="comment">                  /`-.                                  `.  /   /</span></span><br><span class="line"><span class="comment">                 :    `-  ...........,                   | /  .'</span></span><br><span class="line"><span class="comment">                 |         ``:::::::'       .            |&lt;    `.</span></span><br><span class="line"><span class="comment">                 |             ```          |           x| \ `.:``.</span></span><br><span class="line"><span class="comment">                 |                         .'    /'   xXX|  `:`M`M':.</span></span><br><span class="line"><span class="comment">                 |    |                    ;    /:' xXXX'|  -'MMMMM:'</span></span><br><span class="line"><span class="comment">                 `.  .'                   :    /:'       |-'MMMM.-'</span></span><br><span class="line"><span class="comment">                  |  |                   .'   /'        .'MMM.-'</span></span><br><span class="line"><span class="comment">                  `'`'                   :  ,'          |MMM&lt;</span></span><br><span class="line"><span class="comment">                    |                     `'            |tbap\</span></span><br><span class="line"><span class="comment">                     \                                  :MM.-'</span></span><br><span class="line"><span class="comment">                      \                 |              .''</span></span><br><span class="line"><span class="comment">                       \.               `.            /</span></span><br><span class="line"><span class="comment">                        /     .:::::::.. :           /</span></span><br><span class="line"><span class="comment">                       |     .:::::::::::`.         /</span></span><br><span class="line"><span class="comment">                       |   .:::------------\       /</span></span><br><span class="line"><span class="comment">                      /   .''               &gt;::'  /</span></span><br><span class="line"><span class="comment">                      `',:                 :    .'</span></span><br><span class="line"><span class="comment">                                           `:.:'</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">        */</span></span><br></pre></td></tr></table></figure>

<h3 id="é¡¶"><a href="#é¡¶" class="headerlink" title="é¡¶"></a>é¡¶</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * é ‚é ‚é ‚é ‚é ‚é ‚é ‚é ‚é ‚ã€€é ‚é ‚é ‚é ‚é ‚é ‚é ‚é ‚é ‚</span></span><br><span class="line"><span class="comment"> * é ‚é ‚é ‚é ‚é ‚é ‚é ‚ã€€ã€€ã€€ã€€ã€€é ‚é ‚ã€€ã€€ã€€ã€€ã€€</span></span><br><span class="line"><span class="comment"> * ã€€ã€€ã€€é ‚é ‚ã€€ã€€ã€€é ‚é ‚é ‚é ‚é ‚é ‚é ‚é ‚é ‚é ‚é ‚</span></span><br><span class="line"><span class="comment"> * ã€€ã€€ã€€é ‚é ‚ã€€ã€€ã€€é ‚é ‚é ‚é ‚é ‚é ‚é ‚é ‚é ‚é ‚é ‚</span></span><br><span class="line"><span class="comment"> * ã€€ã€€ã€€é ‚é ‚ã€€ã€€ã€€é ‚é ‚ã€€ã€€ã€€ã€€ã€€ã€€ã€€é ‚é ‚</span></span><br><span class="line"><span class="comment"> * ã€€ã€€ã€€é ‚é ‚ã€€ã€€ã€€é ‚é ‚ã€€ã€€é ‚é ‚é ‚ã€€ã€€é ‚é ‚</span></span><br><span class="line"><span class="comment"> * ã€€ã€€ã€€é ‚é ‚ã€€ã€€ã€€é ‚é ‚ã€€ã€€é ‚é ‚é ‚ã€€ã€€é ‚é ‚</span></span><br><span class="line"><span class="comment"> * ã€€ã€€ã€€é ‚é ‚ã€€ã€€ã€€é ‚é ‚ã€€ã€€é ‚é ‚é ‚ã€€ã€€é ‚é ‚</span></span><br><span class="line"><span class="comment"> * ã€€ã€€ã€€é ‚é ‚ã€€ã€€ã€€é ‚é ‚ã€€ã€€é ‚é ‚é ‚ã€€ã€€é ‚é ‚</span></span><br><span class="line"><span class="comment"> * ã€€ã€€ã€€é ‚é ‚ã€€ã€€ã€€ã€€ã€€ã€€ã€€é ‚é ‚é ‚ã€€</span></span><br><span class="line"><span class="comment"> * ã€€ã€€ã€€é ‚é ‚ã€€ã€€ã€€ã€€ã€€ã€€é ‚é ‚ã€€é ‚é ‚ã€€é ‚é ‚</span></span><br><span class="line"><span class="comment"> * ã€€é ‚é ‚é ‚é ‚ã€€ã€€ã€€é ‚é ‚é ‚é ‚é ‚ã€€é ‚é ‚é ‚é ‚é ‚</span></span><br><span class="line"><span class="comment"> * ã€€é ‚é ‚é ‚é ‚ã€€ã€€ã€€é ‚é ‚é ‚é ‚ã€€ã€€ã€€é ‚é ‚é ‚é ‚</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure>

<h3 id="äºŒç‹—å­Â·çœŸ"><a href="#äºŒç‹—å­Â·çœŸ" class="headerlink" title="äºŒç‹—å­Â·çœŸ"></a>äºŒç‹—å­Â·çœŸ</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">/***</span></span><br><span class="line"><span class="comment"> *               ii.                                         ;9ABH,</span></span><br><span class="line"><span class="comment"> *              SA391,                                    .r9GG35&amp;G</span></span><br><span class="line"><span class="comment"> *              &amp;#ii13Gh;                               i3X31i;:,rB1</span></span><br><span class="line"><span class="comment"> *              iMs,:,i5895,                         .5G91:,:;:s1:8A</span></span><br><span class="line"><span class="comment"> *               33::::,,;5G5,                     ,58Si,,:::,sHX;iH1</span></span><br><span class="line"><span class="comment"> *                Sr.,:;rs13BBX35hh11511h5Shhh5S3GAXS:.,,::,,1AG3i,GG</span></span><br><span class="line"><span class="comment"> *                .G51S511sr;;iiiishS8G89Shsrrsh59S;.,,,,,..5A85Si,h8</span></span><br><span class="line"><span class="comment"> *               :SB9s:,............................,,,.,,,SASh53h,1G.</span></span><br><span class="line"><span class="comment"> *            .r18S;..,,,,,,,,,,,,,,,,,,,,,,,,,,,,,....,,.1H315199,rX,</span></span><br><span class="line"><span class="comment"> *          ;S89s,..,,,,,,,,,,,,,,,,,,,,,,,....,,.......,,,;r1ShS8,;Xi</span></span><br><span class="line"><span class="comment"> *        i55s:.........,,,,,,,,,,,,,,,,.,,,......,.....,,....r9&amp;5.:X1</span></span><br><span class="line"><span class="comment"> *       59;.....,.     .,,,,,,,,,,,...        .............,..:1;.:&amp;s</span></span><br><span class="line"><span class="comment"> *      s8,..;53S5S3s.   .,,,,,,,.,..      i15S5h1:.........,,,..,,:99</span></span><br><span class="line"><span class="comment"> *      93.:39s:rSGB@A;  ..,,,,.....    .SG3hhh9G&amp;BGi..,,,,,,,,,,,,.,83</span></span><br><span class="line"><span class="comment"> *      G5.G8  9#@@@@<span class="doctag">@X</span>. .,,,,,,.....  iA9,.S&amp;B###@<span class="doctag">@Mr</span>...,,,,,,,,..,.;Xh</span></span><br><span class="line"><span class="comment"> *      Gs.X8 S@@@@@@<span class="doctag">@B</span>:..,,,,,,,,,,. rA1 ,A@@@@@@@@<span class="doctag">@H</span>:........,,,,,,.iX:</span></span><br><span class="line"><span class="comment"> *     ;9. ,8A#@@@@@@#5,.,,,,,,,,,... 9A. 8@@@@@@@@@<span class="doctag">@M</span>;    ....,,,,,,,,S8</span></span><br><span class="line"><span class="comment"> *     X3    iS8XAHH8s.,,,,,,,,,,...,..58hH@@@@@@@@<span class="doctag">@Hs</span>       ...,,,,,,,:Gs</span></span><br><span class="line"><span class="comment"> *    r8,        ,,,...,,,,,,,,,,.....  ,h8XABMMHX3r.          .,,,,,,,.rX:</span></span><br><span class="line"><span class="comment"> *   :9, .    .:,..,:;;;::,.,,,,,..          .,,.               ..,,,,,,.59</span></span><br><span class="line"><span class="comment"> *  .Si      ,:.i8HBMMMMMB&amp;5,....                    .            .,,,,,.sMr</span></span><br><span class="line"><span class="comment"> *  SS       :: h@@@@@@@@@@#; .                     ...  .         ..,,,,iM5</span></span><br><span class="line"><span class="comment"> *  91  .    ;:.,1&amp;@@@@@<span class="doctag">@MXs</span>.                            .          .,,:,:&amp;S</span></span><br><span class="line"><span class="comment"> *  hS ....  .:;,,,i3MMS1;..,..... .  .     ...                     ..,:,.99</span></span><br><span class="line"><span class="comment"> *  ,8; ..... .,:,..,8Ms:;,,,...                                     .,::.83</span></span><br><span class="line"><span class="comment"> *   s&amp;: ....  .sS553B@<span class="doctag">@HX</span>3s;,.    .,;13h.                            .:::&amp;1</span></span><br><span class="line"><span class="comment"> *    SXr  .  ...;s3G99XA&amp;X88Shss11155hi.                             ,;:h&amp;,</span></span><br><span class="line"><span class="comment"> *     iH8:  . ..   ,;iiii;,::,,,,,.                                 .;irHA</span></span><br><span class="line"><span class="comment"> *      ,8X5;   .     .......                                       ,;iihS8Gi</span></span><br><span class="line"><span class="comment"> *         1831,                                                 .,;irrrrrs&amp;@</span></span><br><span class="line"><span class="comment"> *           ;5A8r.                                            .:;iiiiirrss1H</span></span><br><span class="line"><span class="comment"> *             :X@H3s.......                                .,:;iii;iiiiirsrh</span></span><br><span class="line"><span class="comment"> *              r#h:;,...,,.. .,,:;;;;;:::,...              .:;;;;;;iiiirrss1</span></span><br><span class="line"><span class="comment"> *             ,M8 ..,....,.....,,::::::,,...         .     .,;;;iiiiiirss11h</span></span><br><span class="line"><span class="comment"> *             8B;.,,,,,,,.,.....          .           ..   .:;;;;iirrsss111h</span></span><br><span class="line"><span class="comment"> *            i@5,:::,,,,,,,,.... .                   . .:::;;;;;irrrss111111</span></span><br><span class="line"><span class="comment"> *            9Bi,:,,,,......                        ..r91;;;;;iirrsss1ss1111</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure>

<h3 id="æ»‘ç¨½"><a href="#æ»‘ç¨½" class="headerlink" title="æ»‘ç¨½"></a>æ»‘ç¨½</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/***</span></span><br><span class="line"><span class="comment"> *            .,,       .,:;;iiiiiiiii;;:,,.     .,,</span></span><br><span class="line"><span class="comment"> *          rGB##HS,.;iirrrrriiiiiiiiiirrrrri;,s&amp;##MAS,</span></span><br><span class="line"><span class="comment"> *         r5s;:r3AH5iiiii;;;;;;;;;;;;;;;;iiirXHGSsiih1,</span></span><br><span class="line"><span class="comment"> *            .;i;;s91;;;;;;::::::::::::;;;;iS5;;;ii:</span></span><br><span class="line"><span class="comment"> *          :rsriii;;r::::::::::::::::::::::;;,;;iiirsi,</span></span><br><span class="line"><span class="comment"> *       .,iri;;::::;;;;;;::,,,,,,,,,,,,,..,,;;;;;;;;iiri,,.</span></span><br><span class="line"><span class="comment"> *    ,9BM&amp;,            .,:;;:,,,,,,,,,,,hXA8:            ..,,,.</span></span><br><span class="line"><span class="comment"> *   ,;&amp;@@#r:;;;;;::::,,.   ,r,,,,,,,,,,iA@@<span class="doctag">@s</span>,,:::;;;::,,.   .;.</span></span><br><span class="line"><span class="comment"> *    :ih1iii;;;;;::::;;;;;;;:,,,,,,,,,,;i55r;;;;;;;;;iiirrrr,..</span></span><br><span class="line"><span class="comment"> *   .ir;;iiiiiiiiii;;;;::::::,,,,,,,:::::,,:;;;iiiiiiiiiiiiri</span></span><br><span class="line"><span class="comment"> *   iriiiiiiiiiiiiiiii;;;::::::::::::::::;;;iiiiiiiiiiiiiiiir;</span></span><br><span class="line"><span class="comment"> *  ,riii;;;;;;;;;;;;;:::::::::::::::::::::::;;;;;;;;;;;;;;iiir.</span></span><br><span class="line"><span class="comment"> *  iri;;;::::,,,,,,,,,,:::::::::::::::::::::::::,::,,::::;;iir:</span></span><br><span class="line"><span class="comment"> * .rii;;::::,,,,,,,,,,,,:::::::::::::::::,,,,,,,,,,,,,::::;;iri</span></span><br><span class="line"><span class="comment"> * ,rii;;;::,,,,,,,,,,,,,:::::::::::,:::::,,,,,,,,,,,,,:::;;;iir.</span></span><br><span class="line"><span class="comment"> * ,rii;;i::,,,,,,,,,,,,,:::::::::::::::::,,,,,,,,,,,,,,::i;;iir.</span></span><br><span class="line"><span class="comment"> * ,rii;;r::,,,,,,,,,,,,,:,:::::,:,:::::::,,,,,,,,,,,,,::;r;;iir.</span></span><br><span class="line"><span class="comment"> * .rii;;rr,:,,,,,,,,,,,,,,:::::::::::::::,,,,,,,,,,,,,:,si;;iri</span></span><br><span class="line"><span class="comment"> *  ;rii;:1i,,,,,,,,,,,,,,,,,,:::::::::,,,,,,,,,,,,,,,:,ss:;iir:</span></span><br><span class="line"><span class="comment"> *  .rii;;;5r,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,sh:;;iri</span></span><br><span class="line"><span class="comment"> *   ;rii;:;51,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,.:hh:;;iir,</span></span><br><span class="line"><span class="comment"> *    irii;::hSr,.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,.,sSs:;;iir:</span></span><br><span class="line"><span class="comment"> *     irii;;:iSSs:.,,,,,,,,,,,,,,,,,,,,,,,,,,,..:135;:;;iir:</span></span><br><span class="line"><span class="comment"> *      ;rii;;:,r535r:...,,,,,,,,,,,,,,,,,,..,;sS35i,;;iirr:</span></span><br><span class="line"><span class="comment"> *       :rrii;;:,;1S3Shs;:,............,:is533Ss:,;;;iiri,</span></span><br><span class="line"><span class="comment"> *        .;rrii;;;:,;rhS393S55hh11hh5S3393Shr:,:;;;iirr:</span></span><br><span class="line"><span class="comment"> *          .;rriii;;;::,:;is1h555555h1si;:,::;;;iirri:.</span></span><br><span class="line"><span class="comment"> *            .:irrrii;;;;;:::,,,,,,,,:::;;;;iiirrr;,</span></span><br><span class="line"><span class="comment"> *               .:irrrriiiiii;;;;;;;;iiiiiirrrr;,.</span></span><br><span class="line"><span class="comment"> *                  .,:;iirrrrrrrrrrrrrrrrri;:.</span></span><br><span class="line"><span class="comment"> *                        ..,:::;;;;:::,,.</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure>

<h3 id="äºŒç‹—å­Â·äºŒ"><a href="#äºŒç‹—å­Â·äºŒ" class="headerlink" title="äºŒç‹—å­Â·äºŒ#"></a>äºŒç‹—å­Â·äºŒ#</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/***</span></span><br><span class="line"><span class="comment"> *          .,:,,,                                        .::,,,::.</span></span><br><span class="line"><span class="comment"> *        .::::,,;;,                                  .,;;:,,....:i:</span></span><br><span class="line"><span class="comment"> *        :i,.::::,;i:.      ....,,:::::::::,....   .;i:,.  ......;i.</span></span><br><span class="line"><span class="comment"> *        :;..:::;::::i;,,:::;:,,,,,,,,,,..,.,,:::iri:. .,:irsr:,.;i.</span></span><br><span class="line"><span class="comment"> *        ;;..,::::;;;;ri,,,.                    ..,,:;s1s1ssrr;,.;r,</span></span><br><span class="line"><span class="comment"> *        :;. ,::;ii;:,     . ...................     .;iirri;;;,,;i,</span></span><br><span class="line"><span class="comment"> *        ,i. .;ri:.   ... ............................  .,,:;:,,,;i:</span></span><br><span class="line"><span class="comment"> *        :s,.;r:... ....................................... .::;::s;</span></span><br><span class="line"><span class="comment"> *        ,1r::. .............,,,.,,:,,........................,;iir;</span></span><br><span class="line"><span class="comment"> *        ,s;...........     ..::.,;:,,.          ...............,;1s</span></span><br><span class="line"><span class="comment"> *       :i,..,.              .,:,,::,.          .......... .......;1,</span></span><br><span class="line"><span class="comment"> *      ir,....:rrssr;:,       ,,.,::.     .r5S9989398G95hr;. ....,.:s,</span></span><br><span class="line"><span class="comment"> *     ;r,..,s9855513XHAG3i   .,,,,,,,.  ,S931,.,,.;s;s&amp;BHHA8s.,..,..:r:</span></span><br><span class="line"><span class="comment"> *    :r;..rGGh,  :SAG;;G@BS:.,,,,,,,,,.r83:      hHH1sXMBHHHM3..,,,,.ir.</span></span><br><span class="line"><span class="comment"> *   ,si,.1GS,   sBMAAX&amp;MBMB5,,,,,,:,,.:&amp;8       3@HXHBMBHBBH#X,.,,,,,,rr</span></span><br><span class="line"><span class="comment"> *   ;1:,,SH:   .A@&amp;&amp;B#&amp;8H#BS,,,,,,,,,.,5XS,     3@MHABM&amp;59M#As..,,,,:,is,</span></span><br><span class="line"><span class="comment"> *  .rr,,,;9&amp;1   hBHHBB&amp;8AMGr,,,,,,,,,,,:h&amp;&amp;9s;   r9&amp;BMHBHMB9:  . .,,,,;ri.</span></span><br><span class="line"><span class="comment"> *  :1:....:5&amp;XSi;r8BMBHHA9r:,......,,,,:ii19GG88899XHHH&amp;GSr.      ...,:rs.</span></span><br><span class="line"><span class="comment"> *  ;s.     .:sS8G8GG889hi.        ....,,:;:,.:irssrriii:,.        ...,,i1,</span></span><br><span class="line"><span class="comment"> *  ;1,         ..,....,,isssi;,        .,,.                      ....,.i1,</span></span><br><span class="line"><span class="comment"> *  ;h:               i9HHBMBBHAX9:         .                     ...,,,rs,</span></span><br><span class="line"><span class="comment"> *  ,1i..            :A#MBBBBMHB##s                             ....,,,;si.</span></span><br><span class="line"><span class="comment"> *  .r1,..        ,..;3BMBBBHBB#Bh.     ..                    ....,,,,,i1;</span></span><br><span class="line"><span class="comment"> *   :h;..       .,..;,1XBMMMMBXs,.,, .. :: ,.               ....,,,,,,ss.</span></span><br><span class="line"><span class="comment"> *    ih: ..    .;;;, ;;:s58A3i,..    ,. ,.:,,.             ...,,,,,:,s1,</span></span><br><span class="line"><span class="comment"> *    .s1,....   .,;sh,  ,iSAXs;.    ,.  ,,.i85            ...,,,,,,:i1;</span></span><br><span class="line"><span class="comment"> *     .rh: ...     rXG9XBBM#M#MHAX3hss13&amp;&amp;HHXr         .....,,,,,,,ih;</span></span><br><span class="line"><span class="comment"> *      .s5: .....    i598X&amp;&amp;A&amp;AAAAAA&amp;XG851r:       ........,,,,:,,sh;</span></span><br><span class="line"><span class="comment"> *      . ihr, ...  .         ..                    ........,,,,,;11:.</span></span><br><span class="line"><span class="comment"> *         ,s1i. ...  ..,,,..,,,.,,.,,.,..       ........,,.,,.;s5i.</span></span><br><span class="line"><span class="comment"> *          .:s1r,......................       ..............;shs,</span></span><br><span class="line"><span class="comment"> *          . .:shr:.  ....                 ..............,ishs.</span></span><br><span class="line"><span class="comment"> *              .,issr;,... ...........................,is1s;.</span></span><br><span class="line"><span class="comment"> *                 .,is1si;:,....................,:;ir1sr;,</span></span><br><span class="line"><span class="comment"> *                    ..:isssssrrii;::::::;;iirsssssr;:..</span></span><br><span class="line"><span class="comment"> *                         .,::iiirsssssssssrri;;:.</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure>

<h3 id="å–·ç«é¾™Â·é£"><a href="#å–·ç«é¾™Â·é£" class="headerlink" title="å–·ç«é¾™Â·é£"></a>å–·ç«é¾™Â·é£</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/***</span></span><br><span class="line"><span class="comment"> *                  ___====-_  _-====___</span></span><br><span class="line"><span class="comment"> *            _--^^^#####//      \\#####^^^--_</span></span><br><span class="line"><span class="comment"> *         _-^##########// (    ) \\##########^-_</span></span><br><span class="line"><span class="comment"> *        -############//  |\^^/|  \\############-</span></span><br><span class="line"><span class="comment"> *      _/############//   (@::@)   \\############\_</span></span><br><span class="line"><span class="comment"> *     /#############((     \\//     ))#############\</span></span><br><span class="line"><span class="comment"> *    -###############\\    (oo)    //###############-</span></span><br><span class="line"><span class="comment"> *   -#################\\  / VV \  //#################-</span></span><br><span class="line"><span class="comment"> *  -###################\\/      \//###################-</span></span><br><span class="line"><span class="comment"> * _#/|##########/\######(   /\   )######/\##########|\#_</span></span><br><span class="line"><span class="comment"> * |/ |#/\#/\#/\/  \#/\##\  |  |  /##/\#/  \/\#/\#/\#| \|</span></span><br><span class="line"><span class="comment"> * `  |/  V  V  `   V  \#\| |  | |/#/  V   '  V  V  \|  '</span></span><br><span class="line"><span class="comment"> *    `   `  `      `   / | |  | | \   '      '  '   '</span></span><br><span class="line"><span class="comment"> *                     (  | |  | |  )</span></span><br><span class="line"><span class="comment"> *                    __\ | |  | | /__</span></span><br><span class="line"><span class="comment"> *                   (vvv(VVV)(VVV)vvv)</span></span><br><span class="line"><span class="comment"> *                        ç¥å…½ä¿ä½‘</span></span><br><span class="line"><span class="comment"> *                       ä»£ç æ— BUG!</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure>

<h3 id="éª·é«…"><a href="#éª·é«…" class="headerlink" title="éª·é«…"></a>éª·é«…</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// **************************************************************</span></span><br><span class="line"><span class="comment">// *                                                            *</span></span><br><span class="line"><span class="comment">// *   .=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-.       *</span></span><br><span class="line"><span class="comment">// *    |                     ______                     |      *</span></span><br><span class="line"><span class="comment">// *    |                  .-"      "-.                  |      *</span></span><br><span class="line"><span class="comment">// *    |                 /            \                 |      *</span></span><br><span class="line"><span class="comment">// *    |     _          |              |          _     |      *</span></span><br><span class="line"><span class="comment">// *    |    ( \         |,  .-.  .-.  ,|         / )    |      *</span></span><br><span class="line"><span class="comment">// *    |     &gt; "=._     | )(__/  \__)( |     _.=" &lt;     |      *</span></span><br><span class="line"><span class="comment">// *    |    (_/"=._"=._ |/     /\     \| _.="_.="\_)    |      *</span></span><br><span class="line"><span class="comment">// *    |           "=._"(_     ^^     _)"_.="           |      *</span></span><br><span class="line"><span class="comment">// *    |               "=\__|IIIIII|__/="               |      *</span></span><br><span class="line"><span class="comment">// *    |              _.="| \IIIIII/ |"=._              |      *</span></span><br><span class="line"><span class="comment">// *    |    _     _.="_.="\          /"=._"=._     _    |      *</span></span><br><span class="line"><span class="comment">// *    |   ( \_.="_.="     `--------`     "=._"=._/ )   |      *</span></span><br><span class="line"><span class="comment">// *    |    &gt; _.="                            "=._ &lt;    |      *</span></span><br><span class="line"><span class="comment">// *    |   (_/                                    \_)   |      *</span></span><br><span class="line"><span class="comment">// *    |                                                |      *</span></span><br><span class="line"><span class="comment">// *    '-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-='      *</span></span><br><span class="line"><span class="comment">// *                                                            *</span></span><br><span class="line"><span class="comment">// *           LASCIATE OGNI SPERANZA, VOI CH'ENTRATE           *</span></span><br><span class="line"><span class="comment">// **************************************************************</span></span><br></pre></td></tr></table></figure>

<h3 id="è€é¼ "><a href="#è€é¼ " class="headerlink" title="è€é¼ "></a>è€é¼ </h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//     .--,       .--,</span></span><br><span class="line"><span class="comment">//    ( (  \.---./  ) )</span></span><br><span class="line"><span class="comment">//     '.__/o   o\__.'</span></span><br><span class="line"><span class="comment">//        &#123;=  ^  =&#125;</span></span><br><span class="line"><span class="comment">//         &gt;  -  &lt;</span></span><br><span class="line"><span class="comment">//        /       \</span></span><br><span class="line"><span class="comment">//       //       \\</span></span><br><span class="line"><span class="comment">//      //|   .   |\\</span></span><br><span class="line"><span class="comment">//      "'\       /'"_.-~^`'-.</span></span><br><span class="line"><span class="comment">//         \  _  /--'         `</span></span><br><span class="line"><span class="comment">//       ___)( )(___</span></span><br><span class="line"><span class="comment">//      (((__) (__)))    é«˜å±±ä»°æ­¢,æ™¯è¡Œè¡Œæ­¢.è™½ä¸èƒ½è‡³,å¿ƒå‘å¾€ä¹‹ã€‚</span></span><br></pre></td></tr></table></figure>

<h3 id="æ‚²ä¼¤çš„æ›¹å°¼ç›"><a href="#æ‚²ä¼¤çš„æ›¹å°¼ç›" class="headerlink" title="æ‚²ä¼¤çš„æ›¹å°¼ç›"></a>æ‚²ä¼¤çš„æ›¹å°¼ç›</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//      â”â”› â”»â”â”â”â”â”â”› â”»â”“</span></span><br><span class="line"><span class="comment">//      â”ƒã€€ã€€ã€€ã€€ã€€ã€€        â”ƒ</span></span><br><span class="line"><span class="comment">//      â”ƒã€€ã€€ã€€â”ã€€ã€€ã€€      â”ƒ</span></span><br><span class="line"><span class="comment">//      â”ƒã€€â”³â”›ã€€  â”—â”³ã€€    â”ƒ</span></span><br><span class="line"><span class="comment">//      â”ƒã€€ã€€ã€€ã€€ã€€ã€€       â”ƒ</span></span><br><span class="line"><span class="comment">//      â”ƒã€€ã€€ã€€â”»ã€€ã€€ã€€    â”ƒ</span></span><br><span class="line"><span class="comment">//      â”ƒã€€ã€€ã€€ã€€ã€€ã€€      â”ƒ</span></span><br><span class="line"><span class="comment">//      â”—â”â”“ã€€ã€€ã€€â”â”â”â”â”›</span></span><br><span class="line"><span class="comment">//        â”ƒã€€ã€€ã€€â”ƒ   ç¥å…½ä¿ä½‘</span></span><br><span class="line"><span class="comment">//        â”ƒã€€ã€€ã€€â”ƒ   ä»£ç æ— BUGï¼</span></span><br><span class="line"><span class="comment">//        â”ƒã€€ã€€ã€€â”—â”â”â”â”â”â”â”â”â”â”“</span></span><br><span class="line"><span class="comment">//        â”ƒã€€ã€€ã€€ã€€ã€€ã€€ã€€    â”£â”“</span></span><br><span class="line"><span class="comment">//        â”ƒã€€ã€€ã€€ã€€         â”â”›</span></span><br><span class="line"><span class="comment">//        â”—â”â”“ â”“ â”â”â”â”â”³ â”“ â”â”â”›</span></span><br><span class="line"><span class="comment">//          â”ƒ â”« â”«   â”ƒ â”« â”«</span></span><br><span class="line"><span class="comment">//          â”—â”â”»â”â”›   â”—â”â”»â”â”›</span></span><br></pre></td></tr></table></figure>

<h3 id="ç¾å¥³-1"><a href="#ç¾å¥³-1" class="headerlink" title="ç¾å¥³"></a>ç¾å¥³</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//                       .::::.</span></span><br><span class="line"><span class="comment">//                     .::::::::.</span></span><br><span class="line"><span class="comment">//                    :::::::::::</span></span><br><span class="line"><span class="comment">//                 ..:::::::::::'</span></span><br><span class="line"><span class="comment">//              '::::::::::::'</span></span><br><span class="line"><span class="comment">//                .::::::::::</span></span><br><span class="line"><span class="comment">//           '::::::::::::::..</span></span><br><span class="line"><span class="comment">//                ..::::::::::::.</span></span><br><span class="line"><span class="comment">//              ``::::::::::::::::</span></span><br><span class="line"><span class="comment">//               ::::``:::::::::'        .:::.</span></span><br><span class="line"><span class="comment">//              ::::'   ':::::'       .::::::::.</span></span><br><span class="line"><span class="comment">//            .::::'      ::::     .:::::::'::::.</span></span><br><span class="line"><span class="comment">//           .:::'       :::::  .:::::::::' ':::::.</span></span><br><span class="line"><span class="comment">//          .::'        :::::.:::::::::'      ':::::.</span></span><br><span class="line"><span class="comment">//         .::'         ::::::::::::::'         ``::::.</span></span><br><span class="line"><span class="comment">//     ...:::           ::::::::::::'              ``::.</span></span><br><span class="line"><span class="comment">//    ```` ':.          ':::::::::'                  ::::..</span></span><br><span class="line"><span class="comment">//                       '.:::::'                    ':'````..</span></span><br></pre></td></tr></table></figure>

<h3 id="æ¯”é²æ–¯"><a href="#æ¯”é²æ–¯" class="headerlink" title="æ¯”é²æ–¯"></a>æ¯”é²æ–¯</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/***ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€</span></span><br><span class="line"><span class="comment"> *ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ç“¦ç“¦ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€åã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€</span></span><br><span class="line"><span class="comment"> *ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€åé½±é¾ å·±ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€äº…ç“¦è»Šå·±ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€</span></span><br><span class="line"><span class="comment"> *ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ä¹™é¾é¾ æ¯‹æ—¥ä¸¶ã€€ã€€ã€€ã€€ã€€ã€€ä¸¶ä¹™å·±æ¯‹æ¯‹ä¸¶ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€</span></span><br><span class="line"><span class="comment"> *ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€åé¾ é¦¬é¬¼è»Šç“¦ã€€ã€€ã€€ã€€ã€€ã€€å·±åç“¦æ¯‹æ¯‹ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€</span></span><br><span class="line"><span class="comment"> *ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€é¬¼é¦¬é¾ é¦¬é¾ åã€€ã€€ã€€ã€€å·±å·±æ¯‹è»Šæ¯‹ç“¦ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€</span></span><br><span class="line"><span class="comment"> *ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€æ¯‹é¾ é¾ é¾é¾ é¬¼ä¹™ä¸¶ä¸¶ä¹™è»Šä¹™æ¯‹é¬¼è»Šå·±ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€</span></span><br><span class="line"><span class="comment"> *ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ä¹™é¾ é¾é¾é¬¼é¾ç“¦ã€€åç“¦æ¯‹ä¹™ç“¦é¾ ç“¦äº…ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€</span></span><br><span class="line"><span class="comment"> *ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€é¦¬é½±é¾é¦¬é¬¼åä¸¶æ—¥å·±å·±å·±æ¯‹è»Šä¹™ä¸¶ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€</span></span><br><span class="line"><span class="comment"> *ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€å·±é½±é¦¬é¬¼è»Šååæ¯‹æ—¥ä¹™å·±å·±ä¹™ä¹™ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€</span></span><br><span class="line"><span class="comment"> *ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€è»Šé¦¬é½±é½±æ—¥ä¹™æ¯‹ç“¦å·±ä¹™ç“¦æ—¥äº…ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€</span></span><br><span class="line"><span class="comment"> *ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€äº…è»Šé½ºé¾–ç“¦ä¹™è»Šé¾–é¾ä¹™ä¹™åã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€</span></span><br><span class="line"><span class="comment"> *ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€æ—¥é¾ é¾ åäº…è»Šé¾æ¯‹ååã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€</span></span><br><span class="line"><span class="comment"> *ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€æ—¥æ¯‹å·±äº…ã€€å·±å·±åäº…äº…ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€</span></span><br><span class="line"><span class="comment"> *ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ä¸¶å·±ååä¹™ã€€ã€€ä¸¶ä¸¶ä¸¶ä¸¶ä¸¶ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€</span></span><br><span class="line"><span class="comment"> *ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€äº…å·±åé¾é¾–ç“¦ã€€ã€€ä¸¶ã€€ä¸¶ã€€ä¹™åã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€</span></span><br><span class="line"><span class="comment"> *ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€äº…å·±åé¾ é¾–æ¯‹ã€€ä¸¶ä¸¶ã€€ã€€ä¸¶å·±é¬¼é¬¼ç“¦äº…ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€</span></span><br><span class="line"><span class="comment"> *ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€åæ—¥ååæ—¥äº…ä¸¶äº…ä¸¶ã€€ä¸¶åæ—¥æ¯‹é¬¼é¦¬é¦¬è»Šä¹™ã€€ã€€ã€€ã€€ã€€ã€€ã€€</span></span><br><span class="line"><span class="comment"> *ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€åæ—¥ä¹™åäº…äº…äº…ä¸¶ã€€ã€€åä¹™å·±æ¯‹é¬¼é¬¼é¬¼é¾é½ºé¦¬ä¹™ã€€ã€€ã€€ã€€ã€€</span></span><br><span class="line"><span class="comment"> *ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ä¸¶ç“¦å·±ä¹™ååäº…ä¸¶äº…ä¹™ä¹™ä¹™å·±æ¯‹é¬¼é¬¼é¬¼é¾é½±é½ºé½ºé¬¼åã€€ã€€ã€€</span></span><br><span class="line"><span class="comment"> *ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ä¹™ä¹™åååäº…ä¹™ç“¦ç“¦å·±æ—¥ç“¦æ¯‹é¬¼é¬¼é¾ é½±é½±é¾é¾é½±é½±æ¯‹ä¸¶ã€€</span></span><br><span class="line"><span class="comment"> *ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€äº…ååååä¹™ç“¦è»Šæ¯‹ç“¦ç“¦æ—¥è»Šé¦¬é¾ é¾é¾é¾é¾é¾é¾ é¾ é¾ é¦¬äº…</span></span><br><span class="line"><span class="comment"> *ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ååååå·±æ¯‹è»Šç“¦ç“¦ç“¦ç“¦é¬¼é¦¬é¾ é¾é¾ é¾ é¾é¾ é¾ é¾ é¦¬é¾ è»Š</span></span><br><span class="line"><span class="comment"> *ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€äº…ååæ—¥æ¯‹ç“¦æ—¥æ—¥ç“¦é¬¼é¬¼é¬¼é¾ é¾ é¦¬é¦¬é¾ é¾é¾é¾ é¦¬é¦¬è»Š</span></span><br><span class="line"><span class="comment"> *ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€äº…äº…äº…ä¹™ç“¦ç“¦æ¯‹è»Šè»Šè»Šé¦¬é¾é¾ é¬¼é¬¼é¦¬é¾ é¾é¾é¾ é¦¬é¦¬é¬¼</span></span><br><span class="line"><span class="comment"> *ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ä¸¶ä¸¶ä¹™äº…äº…ä¹™è»Šé¬¼é¬¼é¬¼æ¯‹è»Šé¾é¾é¾ é¬¼é¦¬é¦¬é¾ é¾é½±é½±é¾é¦¬é¬¼</span></span><br><span class="line"><span class="comment"> *ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€äº…å·±ååå·±åæ—¥é¬¼é¬¼è»Šç“¦æ¯‹é¾ é¾é¾ é¦¬é¦¬é¾ é¾ é¾ é½±é½ºé½ºé½±é¾ é¬¼</span></span><br><span class="line"><span class="comment"> *ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€äº…ä¹™ä¹™ä¹™åè»Šé¦¬è»Šæ¯‹é¦¬é½±é½±é¾é¾ é¾ é¾ é¦¬é¾ é¾é½±é¾é¾ é¾ é¬¼ç“¦</span></span><br><span class="line"><span class="comment"> *ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ä¸¶æ¯‹é¾ é¬¼è»Šç“¦è»Šé¦¬é¾ é¾é¾ é¾ é¾é½±é½±é¾ é¦¬é¦¬é¬¼æ¯‹æ—¥</span></span><br><span class="line"><span class="comment"> *ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€åä¹™å·±æ—¥åã€€ã€€ä¸¶å·±é¬¼é¾é½±é½ºé½±é¾é¦¬é¦¬é¦¬è»Šæ¯‹å·±</span></span><br><span class="line"><span class="comment"> *ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ä¸¶åå·±ä¹™äº…ä¸¶ã€€ã€€ã€€ã€€ã€€ã€€äº…ç“¦é¦¬é¾ é¾é¾ é¾ é¦¬æ¯‹ç“¦ä¹™</span></span><br><span class="line"><span class="comment"> *ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ä¸¶ååä¹™äº…åã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€äº…å·±ç“¦è»Šé¦¬é¾ é¬¼è»Šç“¦ä¹™</span></span><br><span class="line"><span class="comment"> *ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ä¸¶åä¹™ååä¸¶ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ä¸¶ä¸¶äº…åç“¦é¬¼è»Šç“¦å·±</span></span><br><span class="line"><span class="comment"> *ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ä¸¶äº…äº…ä¸¶ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€äº…æ—¥ç“¦æ—¥</span></span><br><span class="line"><span class="comment"> *ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ä¸¶</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure>

<h2 id="System-out-println"><a href="#System-out-println" class="headerlink" title="System.out.println"></a>System.out.println</h2><h3 id="ä½›ç¥–"><a href="#ä½›ç¥–" class="headerlink" title="ä½›ç¥–"></a>ä½›ç¥–</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">System.out.println(<span class="string">"/***\n"</span> +</span><br><span class="line">        <span class="string">" *                    _ooOoo_\n"</span> +</span><br><span class="line">        <span class="string">" *                   o8888888o\n"</span> +</span><br><span class="line">        <span class="string">" *                   88\" . \"88\n"</span> +</span><br><span class="line">        <span class="string">" *                   (| -_- |)\n"</span> +</span><br><span class="line">        <span class="string">" *                    O\\ = /O\n"</span> +</span><br><span class="line">        <span class="string">" *                ____/`---'\\____\n"</span> +</span><br><span class="line">        <span class="string">" *              .   ' \\\\| |// `.\n"</span> +</span><br><span class="line">        <span class="string">" *               / \\\\||| : |||// \\\n"</span> +</span><br><span class="line">        <span class="string">" *             / _||||| -:- |||||- \\\n"</span> +</span><br><span class="line">        <span class="string">" *               | | \\\\\\ - /// | |\n"</span> +</span><br><span class="line">        <span class="string">" *             | \\_| ''\\---/'' | |\n"</span> +</span><br><span class="line">        <span class="string">" *              \\ .-\\__ `-` ___/-. /\n"</span> +</span><br><span class="line">        <span class="string">" *           ___`. .' /--.--\\ `. . __\n"</span> +</span><br><span class="line">        <span class="string">" *        .\"\" '&lt; `.___\\_&lt;|&gt;_/___.' &gt;'\"\".\n"</span> +</span><br><span class="line">        <span class="string">" *       | | : `- \\`.;`\\ _ /`;.`/ - ` : | |\n"</span> +</span><br><span class="line">        <span class="string">" *         \\ \\ `-. \\_ __\\ /__ _/ .-` / /\n"</span> +</span><br><span class="line">        <span class="string">" * ======`-.____`-.___\\_____/___.-`____.-'======\n"</span> +</span><br><span class="line">        <span class="string">" *                    `=---='\n"</span> +</span><br><span class="line">        <span class="string">" *\n"</span> +</span><br><span class="line">        <span class="string">" * .............................................\n"</span> +</span><br><span class="line">        <span class="string">" */"</span>);</span><br></pre></td></tr></table></figure>

<h3 id="æ ‡å‡†é”®ç›˜"><a href="#æ ‡å‡†é”®ç›˜" class="headerlink" title="æ ‡å‡†é”®ç›˜"></a>æ ‡å‡†é”®ç›˜</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">System.out.println(<span class="string">"\n"</span> +</span><br><span class="line">               <span class="string">"/***\n"</span> +</span><br><span class="line">               <span class="string">" * â”Œâ”€â”€â”€â”   â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â” â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â” â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â” â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”\n"</span> +</span><br><span class="line">               <span class="string">" * â”‚Escâ”‚   â”‚ F1â”‚ F2â”‚ F3â”‚ F4â”‚ â”‚ F5â”‚ F6â”‚ F7â”‚ F8â”‚ â”‚ F9â”‚F10â”‚F11â”‚F12â”‚ â”‚P/Sâ”‚S Lâ”‚P/Bâ”‚  â”Œâ”    â”Œâ”    â”Œâ”\n"</span> +</span><br><span class="line">               <span class="string">" * â””â”€â”€â”€â”˜   â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜ â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜ â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜ â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜  â””â”˜    â””â”˜    â””â”˜\n"</span> +</span><br><span class="line">               <span class="string">" * â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â” â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”\n"</span> +</span><br><span class="line">               <span class="string">" * â”‚~ `â”‚! 1â”‚@ 2â”‚# 3â”‚$ 4â”‚% 5â”‚^ 6â”‚&amp; 7â”‚* 8â”‚( 9â”‚) 0â”‚_ -â”‚+ =â”‚ BacSp â”‚ â”‚Insâ”‚Homâ”‚PUpâ”‚ â”‚N Lâ”‚ / â”‚ * â”‚ - â”‚\n"</span> +</span><br><span class="line">               <span class="string">" * â”œâ”€â”€â”€â”´â”€â”¬â”€â”´â”€â”¬â”€â”´â”€â”¬â”€â”´â”€â”¬â”€â”´â”€â”¬â”€â”´â”€â”¬â”€â”´â”€â”¬â”€â”´â”€â”¬â”€â”´â”€â”¬â”€â”´â”€â”¬â”€â”´â”€â”¬â”€â”´â”€â”¬â”€â”´â”€â”¬â”€â”€â”€â”€â”€â”¤ â”œâ”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¤ â”œâ”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¤\n"</span> +</span><br><span class="line">               <span class="string">" * â”‚ Tab â”‚ Q â”‚ W â”‚ E â”‚ R â”‚ T â”‚ Y â”‚ U â”‚ I â”‚ O â”‚ P â”‚&#123; [â”‚&#125; ]â”‚ | \\ â”‚ â”‚Delâ”‚Endâ”‚PDnâ”‚ â”‚ 7 â”‚ 8 â”‚ 9 â”‚   â”‚\n"</span> +</span><br><span class="line">               <span class="string">" * â”œâ”€â”€â”€â”€â”€â”´â”¬â”€â”€â”´â”¬â”€â”€â”´â”¬â”€â”€â”´â”¬â”€â”€â”´â”¬â”€â”€â”´â”¬â”€â”€â”´â”¬â”€â”€â”´â”¬â”€â”€â”´â”¬â”€â”€â”´â”¬â”€â”€â”´â”¬â”€â”€â”´â”¬â”€â”€â”´â”€â”€â”€â”€â”€â”¤ â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜ â”œâ”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¤ + â”‚\n"</span> +</span><br><span class="line">               <span class="string">" * â”‚ Caps â”‚ A â”‚ S â”‚ D â”‚ F â”‚ G â”‚ H â”‚ J â”‚ K â”‚ L â”‚: ;â”‚\" 'â”‚ Enter  â”‚               â”‚ 4 â”‚ 5 â”‚ 6 â”‚   â”‚\n"</span> +</span><br><span class="line">               <span class="string">" * â”œâ”€â”€â”€â”€â”€â”€â”´â”€â”¬â”€â”´â”€â”¬â”€â”´â”€â”¬â”€â”´â”€â”¬â”€â”´â”€â”¬â”€â”´â”€â”¬â”€â”´â”€â”¬â”€â”´â”€â”¬â”€â”´â”€â”¬â”€â”´â”€â”¬â”€â”´â”€â”¬â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”¤     â”Œâ”€â”€â”€â”     â”œâ”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¤\n"</span> +</span><br><span class="line">               <span class="string">" * â”‚ Shift  â”‚ Z â”‚ X â”‚ C â”‚ V â”‚ B â”‚ N â”‚ M â”‚&lt; ,â”‚&gt; .â”‚? /â”‚  Shift   â”‚     â”‚ â†‘ â”‚     â”‚ 1 â”‚ 2 â”‚ 3 â”‚   â”‚\n"</span> +</span><br><span class="line">               <span class="string">" * â”œâ”€â”€â”€â”€â”€â”¬â”€â”€â”´â”€â”¬â”€â”´â”€â”€â”¬â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”¬â”´â”€â”€â”€â”¼â”€â”€â”€â”´â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¤ â”Œâ”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â” â”œâ”€â”€â”€â”´â”€â”€â”€â”¼â”€â”€â”€â”¤ Eâ”‚â”‚\n"</span> +</span><br><span class="line">               <span class="string">" * â”‚ Ctrlâ”‚    â”‚Alt â”‚         Space         â”‚ Altâ”‚    â”‚    â”‚Ctrlâ”‚ â”‚ â† â”‚ â†“ â”‚ â†’ â”‚ â”‚   0   â”‚ . â”‚â†â”€â”˜â”‚\n"</span> +</span><br><span class="line">               <span class="string">" * â””â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜\n"</span> +</span><br><span class="line">               <span class="string">" */"</span>);</span><br></pre></td></tr></table></figure>

<h3 id="æ›¹å°¼ç›-1"><a href="#æ›¹å°¼ç›-1" class="headerlink" title="æ›¹å°¼ç›"></a>æ›¹å°¼ç›</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">System.out.println(<span class="string">"/***\n"</span> +</span><br><span class="line">        <span class="string">" *      â”Œâ”€â”       â”Œâ”€â”\n"</span> +</span><br><span class="line">        <span class="string">" *   â”Œâ”€â”€â”˜ â”´â”€â”€â”€â”€â”€â”€â”€â”˜ â”´â”€â”€â”\n"</span> +</span><br><span class="line">        <span class="string">" *   â”‚                 â”‚\n"</span> +</span><br><span class="line">        <span class="string">" *   â”‚       â”€â”€â”€       â”‚\n"</span> +</span><br><span class="line">        <span class="string">" *   â”‚  â”€â”¬â”˜       â””â”¬â”€  â”‚\n"</span> +</span><br><span class="line">        <span class="string">" *   â”‚                 â”‚\n"</span> +</span><br><span class="line">        <span class="string">" *   â”‚       â”€â”´â”€       â”‚\n"</span> +</span><br><span class="line">        <span class="string">" *   â”‚                 â”‚\n"</span> +</span><br><span class="line">        <span class="string">" *   â””â”€â”€â”€â”         â”Œâ”€â”€â”€â”˜\n"</span> +</span><br><span class="line">        <span class="string">" *       â”‚         â”‚\n"</span> +</span><br><span class="line">        <span class="string">" *       â”‚         â”‚\n"</span> +</span><br><span class="line">        <span class="string">" *       â”‚         â”‚\n"</span> +</span><br><span class="line">        <span class="string">" *       â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\n"</span> +</span><br><span class="line">        <span class="string">" *       â”‚                        â”‚\n"</span> +</span><br><span class="line">        <span class="string">" *       â”‚                        â”œâ”€â”\n"</span> +</span><br><span class="line">        <span class="string">" *       â”‚                        â”Œâ”€â”˜\n"</span> +</span><br><span class="line">        <span class="string">" *       â”‚                        â”‚\n"</span> +</span><br><span class="line">        <span class="string">" *       â””â”€â”  â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”  â”Œâ”€â”€â”˜\n"</span> +</span><br><span class="line">        <span class="string">" *         â”‚ â”€â”¤ â”€â”¤       â”‚ â”€â”¤ â”€â”¤\n"</span> +</span><br><span class="line">        <span class="string">" *         â””â”€â”€â”´â”€â”€â”˜       â””â”€â”€â”´â”€â”€â”˜\n"</span> +</span><br><span class="line">        <span class="string">" *                ç¥å…½ä¿ä½‘\n"</span> +</span><br><span class="line">        <span class="string">" *               ä»£ç æ— BUG!\n"</span> +</span><br><span class="line">        <span class="string">" */"</span>);</span><br></pre></td></tr></table></figure>

<h3 id="æ¢¦æ¯”ä¼˜æ–¯"><a href="#æ¢¦æ¯”ä¼˜æ–¯" class="headerlink" title="æ¢¦æ¯”ä¼˜æ–¯"></a>æ¢¦æ¯”ä¼˜æ–¯</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">System.out.println(<span class="string">"/***\n"</span> +</span><br><span class="line">        <span class="string">" *_______________#########_______________________\n"</span> +</span><br><span class="line">        <span class="string">" *______________############_____________________\n"</span> +</span><br><span class="line">        <span class="string">" *______________#############____________________\n"</span> +</span><br><span class="line">        <span class="string">" *_____________##__###########___________________\n"</span> +</span><br><span class="line">        <span class="string">" *____________###__######_#####__________________\n"</span> +</span><br><span class="line">        <span class="string">" *____________###_#######___####_________________\n"</span> +</span><br><span class="line">        <span class="string">" *___________###__##########_####________________\n"</span> +</span><br><span class="line">        <span class="string">" *__________####__###########_####_______________\n"</span> +</span><br><span class="line">        <span class="string">" *________#####___###########__#####_____________\n"</span> +</span><br><span class="line">        <span class="string">" *_______######___###_########___#####___________\n"</span> +</span><br><span class="line">        <span class="string">" *_______#####___###___########___######_________\n"</span> +</span><br><span class="line">        <span class="string">" *______######___###__###########___######_______\n"</span> +</span><br><span class="line">        <span class="string">" *_____######___####_##############__######______\n"</span> +</span><br><span class="line">        <span class="string">" *____#######__#####################_#######_____\n"</span> +</span><br><span class="line">        <span class="string">" *____#######__##############################____\n"</span> +</span><br><span class="line">        <span class="string">" *___#######__######_#################_#######___\n"</span> +</span><br><span class="line">        <span class="string">" *___#######__######_######_#########___######___\n"</span> +</span><br><span class="line">        <span class="string">" *___#######____##__######___######_____######___\n"</span> +</span><br><span class="line">        <span class="string">" *___#######________######____#####_____#####____\n"</span> +</span><br><span class="line">        <span class="string">" *____######________#####_____#####_____####_____\n"</span> +</span><br><span class="line">        <span class="string">" *_____#####________####______#####_____###______\n"</span> +</span><br><span class="line">        <span class="string">" *______#####______;###________###______#________\n"</span> +</span><br><span class="line">        <span class="string">" *________##_______####________####______________\n"</span> +</span><br><span class="line">        <span class="string">" */"</span>);</span><br></pre></td></tr></table></figure>

<h3 id="é©¬"><a href="#é©¬" class="headerlink" title="é©¬"></a>é©¬</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">System.out.println(<span class="string">"                              _(\\_/) \n"</span> +</span><br><span class="line">               <span class="string">"                             ,((((^`\\\n"</span> +</span><br><span class="line">               <span class="string">"                            ((((  (6 \\ \n"</span> +</span><br><span class="line">               <span class="string">"                          ,((((( ,    \\\n"</span> +</span><br><span class="line">               <span class="string">"      ,,,_              ,(((((  /\"._  ,`,\n"</span> +</span><br><span class="line">               <span class="string">"     ((((\\\\ ,...       ,((((   /    `-.-'\n"</span> +</span><br><span class="line">               <span class="string">"     )))  ;'    `\"'\"'\"\"((((   (      \n"</span> +</span><br><span class="line">               <span class="string">"    (((  /            (((      \\\n"</span> +</span><br><span class="line">               <span class="string">"     )) |                      |\n"</span> +</span><br><span class="line">               <span class="string">"    ((  |        .       '     |\n"</span> +</span><br><span class="line">               <span class="string">"    ))  \\     _ '      `t   ,.')\n"</span> +</span><br><span class="line">               <span class="string">"    (   |   y;- -,-\"\"'\"-.\\   \\/  \n"</span> +</span><br><span class="line">               <span class="string">"    )   / ./  ) /         `\\  \\\n"</span> +</span><br><span class="line">               <span class="string">"       |./   ( (           / /'\n"</span> +</span><br><span class="line">               <span class="string">"       ||     \\\\          //'|\n"</span> +</span><br><span class="line">               <span class="string">"       ||      \\\\       _//'||\n"</span> +</span><br><span class="line">               <span class="string">"       ||       ))     |_/  ||\n"</span> +</span><br><span class="line">               <span class="string">"       \\_\\     |_/          ||\n"</span> +</span><br><span class="line">               <span class="string">"       `'\"                  \\_\\\n"</span> +</span><br><span class="line">               <span class="string">"                            `'\" "</span>);</span><br></pre></td></tr></table></figure>

<p>äºŒç‹—å­</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">System.out.println(<span class="string">"/***\n"</span> +</span><br><span class="line">             <span class="string">" *          .,:,,,                                        .::,,,::.\n"</span> +</span><br><span class="line">             <span class="string">" *        .::::,,;;,                                  .,;;:,,....:i:\n"</span> +</span><br><span class="line">             <span class="string">" *        :i,.::::,;i:.      ....,,:::::::::,....   .;i:,.  ......;i.\n"</span> +</span><br><span class="line">             <span class="string">" *        :;..:::;::::i;,,:::;:,,,,,,,,,,..,.,,:::iri:. .,:irsr:,.;i.\n"</span> +</span><br><span class="line">             <span class="string">" *        ;;..,::::;;;;ri,,,.                    ..,,:;s1s1ssrr;,.;r,\n"</span> +</span><br><span class="line">             <span class="string">" *        :;. ,::;ii;:,     . ...................     .;iirri;;;,,;i,\n"</span> +</span><br><span class="line">             <span class="string">" *        ,i. .;ri:.   ... ............................  .,,:;:,,,;i:\n"</span> +</span><br><span class="line">             <span class="string">" *        :s,.;r:... ....................................... .::;::s;\n"</span> +</span><br><span class="line">             <span class="string">" *        ,1r::. .............,,,.,,:,,........................,;iir;\n"</span> +</span><br><span class="line">             <span class="string">" *        ,s;...........     ..::.,;:,,.          ...............,;1s\n"</span> +</span><br><span class="line">             <span class="string">" *       :i,..,.              .,:,,::,.          .......... .......;1,\n"</span> +</span><br><span class="line">             <span class="string">" *      ir,....:rrssr;:,       ,,.,::.     .r5S9989398G95hr;. ....,.:s,\n"</span> +</span><br><span class="line">             <span class="string">" *     ;r,..,s9855513XHAG3i   .,,,,,,,.  ,S931,.,,.;s;s&amp;BHHA8s.,..,..:r:\n"</span> +</span><br><span class="line">             <span class="string">" *    :r;..rGGh,  :SAG;;G@BS:.,,,,,,,,,.r83:      hHH1sXMBHHHM3..,,,,.ir.\n"</span> +</span><br><span class="line">             <span class="string">" *   ,si,.1GS,   sBMAAX&amp;MBMB5,,,,,,:,,.:&amp;8       3@HXHBMBHBBH#X,.,,,,,,rr\n"</span> +</span><br><span class="line">             <span class="string">" *   ;1:,,SH:   .A@&amp;&amp;B#&amp;8H#BS,,,,,,,,,.,5XS,     3@MHABM&amp;59M#As..,,,,:,is,\n"</span> +</span><br><span class="line">             <span class="string">" *  .rr,,,;9&amp;1   hBHHBB&amp;8AMGr,,,,,,,,,,,:h&amp;&amp;9s;   r9&amp;BMHBHMB9:  . .,,,,;ri.\n"</span> +</span><br><span class="line">             <span class="string">" *  :1:....:5&amp;XSi;r8BMBHHA9r:,......,,,,:ii19GG88899XHHH&amp;GSr.      ...,:rs.\n"</span> +</span><br><span class="line">             <span class="string">" *  ;s.     .:sS8G8GG889hi.        ....,,:;:,.:irssrriii:,.        ...,,i1,\n"</span> +</span><br><span class="line">             <span class="string">" *  ;1,         ..,....,,isssi;,        .,,.                      ....,.i1,\n"</span> +</span><br><span class="line">             <span class="string">" *  ;h:               i9HHBMBBHAX9:         .                     ...,,,rs,\n"</span> +</span><br><span class="line">             <span class="string">" *  ,1i..            :A#MBBBBMHB##s                             ....,,,;si.\n"</span> +</span><br><span class="line">             <span class="string">" *  .r1,..        ,..;3BMBBBHBB#Bh.     ..                    ....,,,,,i1;\n"</span> +</span><br><span class="line">             <span class="string">" *   :h;..       .,..;,1XBMMMMBXs,.,, .. :: ,.               ....,,,,,,ss.\n"</span> +</span><br><span class="line">             <span class="string">" *    ih: ..    .;;;, ;;:s58A3i,..    ,. ,.:,,.             ...,,,,,:,s1,\n"</span> +</span><br><span class="line">             <span class="string">" *    .s1,....   .,;sh,  ,iSAXs;.    ,.  ,,.i85            ...,,,,,,:i1;\n"</span> +</span><br><span class="line">             <span class="string">" *     .rh: ...     rXG9XBBM#M#MHAX3hss13&amp;&amp;HHXr         .....,,,,,,,ih;\n"</span> +</span><br><span class="line">             <span class="string">" *      .s5: .....    i598X&amp;&amp;A&amp;AAAAAA&amp;XG851r:       ........,,,,:,,sh;\n"</span> +</span><br><span class="line">             <span class="string">" *      . ihr, ...  .         ..                    ........,,,,,;11:.\n"</span> +</span><br><span class="line">             <span class="string">" *         ,s1i. ...  ..,,,..,,,.,,.,,.,..       ........,,.,,.;s5i.\n"</span> +</span><br><span class="line">             <span class="string">" *          .:s1r,......................       ..............;shs,\n"</span> +</span><br><span class="line">             <span class="string">" *          . .:shr:.  ....                 ..............,ishs.\n"</span> +</span><br><span class="line">             <span class="string">" *              .,issr;,... ...........................,is1s;.\n"</span> +</span><br><span class="line">             <span class="string">" *                 .,is1si;:,....................,:;ir1sr;,\n"</span> +</span><br><span class="line">             <span class="string">" *                    ..:isssssrrii;::::::;;iirsssssr;:..\n"</span> +</span><br><span class="line">             <span class="string">" *                         .,::iiirsssssssssrri;;:.\n"</span> +</span><br><span class="line">             <span class="string">" */"</span>);</span><br></pre></td></tr></table></figure>

<h3 id="è€é¼ -1"><a href="#è€é¼ -1" class="headerlink" title="è€é¼ "></a>è€é¼ </h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">System.out.println(<span class="string">"/***\n"</span> +</span><br><span class="line">                <span class="string">" *  .--,       .--,\n"</span> +</span><br><span class="line">                <span class="string">" * ( (  \\.---./  ) )\n"</span> +</span><br><span class="line">                <span class="string">" *  '.__/o   o\\__.'\n"</span> +</span><br><span class="line">                <span class="string">" *     &#123;=  ^  =&#125;\n"</span> +</span><br><span class="line">                <span class="string">" *      &gt;  -  &lt;\n"</span> +</span><br><span class="line">                <span class="string">" *     /       \\\n"</span> +</span><br><span class="line">                <span class="string">" *    //       \\\\\n"</span> +</span><br><span class="line">                <span class="string">" *   //|   .   |\\\\\n"</span> +</span><br><span class="line">                <span class="string">" *   \"'\\       /'\"_.-~^`'-.\n"</span> +</span><br><span class="line">                <span class="string">" *      \\  _  /--'         `\n"</span> +</span><br><span class="line">                <span class="string">" *    ___)( )(___\n"</span> +</span><br><span class="line">                <span class="string">" *   (((__) (__)))    é«˜å±±ä»°æ­¢,æ™¯è¡Œè¡Œæ­¢.è™½ä¸èƒ½è‡³,å¿ƒå‘å¾€ä¹‹ã€‚\n"</span> +</span><br><span class="line">                <span class="string">" */"</span>);</span><br></pre></td></tr></table></figure>

<h3 id="äºŒç‹—å­-1"><a href="#äºŒç‹—å­-1" class="headerlink" title="äºŒç‹—å­"></a>äºŒç‹—å­</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">System.out.println(<span class="string">"\n"</span> +</span><br><span class="line">             <span class="string">"/***\n"</span> +</span><br><span class="line">             <span class="string">" * â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–„â–‘â–‘\n"</span> +</span><br><span class="line">             <span class="string">" * â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–â–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–„â–€â–’â–Œâ–‘\n"</span> +</span><br><span class="line">             <span class="string">" * â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–â–€â–’â–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–„â–€â–’â–’â–’â–\n"</span> +</span><br><span class="line">             <span class="string">" * â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–â–„â–€â–’â–’â–€â–€â–€â–€â–„â–„â–„â–€â–’â–’â–’â–’â–’â–\n"</span> +</span><br><span class="line">             <span class="string">" * â–‘â–‘â–‘â–‘â–‘â–„â–„â–€â–’â–‘â–’â–’â–’â–’â–’â–’â–’â–’â–’â–ˆâ–’â–’â–„â–ˆâ–’â–\n"</span> +</span><br><span class="line">             <span class="string">" * â–‘â–‘â–‘â–„â–€â–’â–’â–’â–‘â–‘â–‘â–’â–’â–’â–‘â–‘â–‘â–’â–’â–’â–€â–ˆâ–ˆâ–€â–’â–Œ\n"</span> +</span><br><span class="line">             <span class="string">" * â–‘â–‘â–â–’â–’â–’â–„â–„â–’â–’â–’â–’â–‘â–‘â–‘â–’â–’â–’â–’â–’â–’â–’â–€â–„â–’â–’\n"</span> +</span><br><span class="line">             <span class="string">" * â–‘â–‘â–Œâ–‘â–‘â–Œâ–ˆâ–€â–’â–’â–’â–’â–’â–„â–€â–ˆâ–„â–’â–’â–’â–’â–’â–’â–’â–ˆâ–’â–\n"</span> +</span><br><span class="line">             <span class="string">" * â–‘â–â–‘â–‘â–‘â–’â–’â–’â–’â–’â–’â–’â–’â–Œâ–ˆâ–ˆâ–€â–’â–’â–‘â–‘â–‘â–’â–’â–’â–€â–„\n"</span> +</span><br><span class="line">             <span class="string">" * â–‘â–Œâ–‘â–’â–„â–ˆâ–ˆâ–„â–’â–’â–’â–’â–’â–’â–’â–’â–’â–‘â–‘â–‘â–‘â–‘â–‘â–’â–’â–’â–’\n"</span> +</span><br><span class="line">             <span class="string">" * â–€â–’â–€â–â–„â–ˆâ–„â–ˆâ–Œâ–„â–‘â–€â–’â–’â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–’â–’â–’\n"</span> +</span><br><span class="line">             <span class="string">" * å•èº«ç‹—å°±è¿™æ ·é»˜é»˜åœ°çœ‹ç€ä½ ï¼Œä¸€å¥è¯ä¹Ÿä¸è¯´ã€‚\n"</span> +</span><br><span class="line">             <span class="string">" */\n"</span>);</span><br></pre></td></tr></table></figure>

<h3 id="ç¾å¥³-2"><a href="#ç¾å¥³-2" class="headerlink" title="ç¾å¥³"></a>ç¾å¥³</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">System.out.println(<span class="string">"/***\n"</span> +</span><br><span class="line">               <span class="string">" *                    .::::.\n"</span> +</span><br><span class="line">               <span class="string">" *                  .::::::::.\n"</span> +</span><br><span class="line">               <span class="string">" *                 :::::::::::  \n"</span> +</span><br><span class="line">               <span class="string">" *             ..:::::::::::'\n"</span> +</span><br><span class="line">               <span class="string">" *           '::::::::::::'\n"</span> +</span><br><span class="line">               <span class="string">" *             .::::::::::\n"</span> +</span><br><span class="line">               <span class="string">" *        '::::::::::::::..\n"</span> +</span><br><span class="line">               <span class="string">" *             ..::::::::::::.\n"</span> +</span><br><span class="line">               <span class="string">" *           ``::::::::::::::::\n"</span> +</span><br><span class="line">               <span class="string">" *            ::::``:::::::::'        .:::.\n"</span> +</span><br><span class="line">               <span class="string">" *           ::::'   ':::::'       .::::::::.\n"</span> +</span><br><span class="line">               <span class="string">" *         .::::'      ::::     .:::::::'::::.\n"</span> +</span><br><span class="line">               <span class="string">" *        .:::'       :::::  .:::::::::' ':::::.\n"</span> +</span><br><span class="line">               <span class="string">" *       .::'        :::::.:::::::::'      ':::::.\n"</span> +</span><br><span class="line">               <span class="string">" *      .::'         ::::::::::::::'         ``::::.\n"</span> +</span><br><span class="line">               <span class="string">" *  ...:::           ::::::::::::'              ``::.\n"</span> +</span><br><span class="line">               <span class="string">" * ```` ':.          ':::::::::'                  ::::..\n"</span> +</span><br><span class="line">               <span class="string">" *                    '.:::::'                    ':'````..\n"</span> +</span><br><span class="line">               <span class="string">" */"</span>);</span><br></pre></td></tr></table></figure>

<hr>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>ä½ æ‡‚å¾—ï¼è™½ç„¶ä¸å¤ªæƒ³è‡ªå·±çš„ä»£ç é‡Œå‡ºç°è¿™ç§æ³¨é‡Šï¼Œä½†æ˜¯æ²¡å‡†ä¼šå‡ºç°ï¼Œå› ä¸ºè¦åæ§½ä¸€ä¸‹ï¼</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/***</span></span><br><span class="line"><span class="comment"> *                                         ,s555SB@@&amp;</span></span><br><span class="line"><span class="comment"> *                                      :9H####@@@@<span class="doctag">@Xi</span></span></span><br><span class="line"><span class="comment"> *                                     1@@@@@@@@@@@@@@8</span></span><br><span class="line"><span class="comment"> *                                   ,8@@@@@@@@<span class="doctag">@B</span>@@@@@@8</span></span><br><span class="line"><span class="comment"> *                                  :B@@@<span class="doctag">@X</span>3hi8Bs;B@@@@<span class="doctag">@Ah</span>,</span></span><br><span class="line"><span class="comment"> *             ,8i                  r@@<span class="doctag">@B</span>:     1S ,M@@@@@@#8;</span></span><br><span class="line"><span class="comment"> *            1AB35.i:               X@@8 .   SGhr ,A@@@@@@@<span class="doctag">@S</span></span></span><br><span class="line"><span class="comment"> *            1@h31MX8                18Hhh3i .i3r ,A@@@@@@@@@5</span></span><br><span class="line"><span class="comment"> *            ;@&amp;i,58r5                 rGSS:     :B@@@@@@@@@<span class="doctag">@A</span></span></span><br><span class="line"><span class="comment"> *             1#i  . 9i                 hX.  .: .5@@@@@@@@@@@1</span></span><br><span class="line"><span class="comment"> *              sG1,  ,G53s.              9#Xi;hS5 3B@@@@@@<span class="doctag">@B</span>1</span></span><br><span class="line"><span class="comment"> *               .h8h.,A@@<span class="doctag">@MXSs</span>,           #<span class="doctag">@H</span>1:    3ssSSX@1</span></span><br><span class="line"><span class="comment"> *               s ,@@@@@@@@@@@<span class="doctag">@Xhi</span>,       r#@<span class="doctag">@X</span>1s9M8    .GA981</span></span><br><span class="line"><span class="comment"> *               ,. rS8H#@@@@@@@@@@#HG51;.  .h31i;9@r    .8@@@<span class="doctag">@BS</span>;i;</span></span><br><span class="line"><span class="comment"> *                .19AXXXAB@@@@@@@@@@@@@@#MHXG893hrX#XGGXM@@@@@@@@@<span class="doctag">@MS</span></span></span><br><span class="line"><span class="comment"> *                s@<span class="doctag">@MM</span>@@<span class="doctag">@hsX</span>#@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&amp;,</span></span><br><span class="line"><span class="comment"> *              :GB@#3G@<span class="doctag">@Brs</span> ,1GM@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@<span class="doctag">@B</span>,</span></span><br><span class="line"><span class="comment"> *            .hM@@@#@@#MX 51  r;iSGAM@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@8</span></span><br><span class="line"><span class="comment"> *          :3B@@@@@@@@@@@&amp;9@h :Gs   .;sSXH@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@:</span></span><br><span class="line"><span class="comment"> *      s&amp;HA#@@@@@@@@@@@@@<span class="doctag">@M</span>89A;.8S.       ,r3@@@@@@@@@@@@@@@@@@@@@@@@@@<span class="doctag">@r</span></span></span><br><span class="line"><span class="comment"> *   ,13B@@@@@@@@@@@@@@@@@@@5 5B3 ;.         ;@@@@@@@@@@@@@@@@@@@@@@@@@@<span class="doctag">@i</span></span></span><br><span class="line"><span class="comment"> *  5#@@#&amp;@@@@@@@@@@@@@@@@@@9  .39:          ;@@@@@@@@@@@@@@@@@@@@@@@@@@@;</span></span><br><span class="line"><span class="comment"> *  9@@<span class="doctag">@X</span>:MM@@@@@@@@@@@@@@@#;    ;31.         H@@@@@@@@@@@@@@@@@@@@@@@@@@:</span></span><br><span class="line"><span class="comment"> *   SH#<span class="doctag">@B</span>9.rM@@@@@@@@@@@@<span class="doctag">@B</span>       :.         3@@@@@@@@@@@@@@@@@@@@@@@@@@5</span></span><br><span class="line"><span class="comment"> *     ,:.   9@@@@@@@@@@@#HB5                 .M@@@@@@@@@@@@@@@@@@@@@@@@<span class="doctag">@B</span></span></span><br><span class="line"><span class="comment"> *           ,ssirhSM@&amp;1;i19911i,.             s@@@@@@@@@@@@@@@@@@@@@@@@@<span class="doctag">@S</span></span></span><br><span class="line"><span class="comment"> *              ,,,rHAri1h1rh&amp;@#353Sh:          8@@@@@@@@@@@@@@@@@@@@@@@@@#:</span></span><br><span class="line"><span class="comment"> *            .A3hH@#5S553&amp;@@#h   i:i9S          #@@@@@@@@@@@@@@@@@@@@@@@@<span class="doctag">@A</span>.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> *    åˆçœ‹æºç ï¼Œçœ‹ä½ å¦¹å¦¹å‘€ï¼</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>Code</category>
      </categories>
  </entry>
  <entry>
    <title>æ„è¯†æµç¼–ç¨‹</title>
    <url>/2020/05/07/%E6%84%8F%E8%AF%86%E6%B5%81%E7%BC%96%E7%A8%8B/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>æ›´å¥½åœ°æ„Ÿå—ç”Ÿæ´»ã€ç†è§£ç”Ÿæ´»ã€æ”¹å˜ç”Ÿæ´»ï¼Œè‡ªç„¶ä¹Ÿèƒ½è®©äººæˆä¸ºæ›´ä¼˜ç§€çš„ç¨‹åºå‘˜ï¼è·å¾—ä»»ä½•æ–°æŠ€èƒ½çš„ç¬¬ä¸€æ­¥ï¼Œæ˜¯å…ˆåˆ«æƒ³ç€ç‹¬ç«‹è§£å†³ä»€ä¹ˆï¼Œè€Œæ˜¯é‡å¤ä¸€éå‰äººå·²ç«Ÿä¹‹äº‹ï¼Œè¿™æ˜¯æŒæ¡ä¸€é—¨æŠ€èƒ½æœ€å¿«çš„æ–¹æ³•ã€‚<strong>ç½‘ä¸Šçš„æŸä¸ªç¨‹åºæœ‰åŠ©äºè§£å†³æ‰‹å¤´é—®é¢˜ï¼Œå´æ²¡æ³•ç›´æ¥æ‹¿æ¥ä½¿ç”¨ï¼Œè¿˜å¾—é’ˆå¯¹é—®é¢˜ç¨ä½œè°ƒæ•´æ‰è¡Œï¼Œè¿™ç¨‹åºç”¨ä»€ä¹ˆè¯­è¨€å†™çš„éƒ½æœ‰å¯èƒ½ï¼Œæ‰€ä»¥æ‡‚ç‚¹å„¿Pythonã€Rubyä»€ä¹ˆçš„å°±éå¸¸ç®¡ç”¨ï¼</strong>é€šè¿‡å­¦ä¹ å„ç§ä¸åŒçš„ç¼–ç¨‹è¯­è¨€ï¼Œä¼šæ˜ç™½å“ªé—¨è¯­è¨€æœ€é€‚å®œè§£å†³è‡ªå·±å½“ä¸‹å…³æ³¨çš„é—®é¢˜ï¼ä»…ä»…æŒæ¡ç”šè‡³ç²¾é€šä¸€é—¨ç¼–ç¨‹è¯­è¨€æ˜¯ä¸å¤Ÿçš„ã€‚<strong>æ¨èä¹¦ç±ï¼šã€Šä¸ƒå‘¨ä¸ƒè¯­è¨€ ç†è§£å¤šç§ç¼–ç¨‹èŒƒå‹ã€‹Â· [ç¾] Bruce Aã€‚ Tate è‘— æˆ´ç® ç™½æ˜ å·¨æˆè¯‘</strong></p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="åŸºç¡€çŸ¥è¯†"><a href="#åŸºç¡€çŸ¥è¯†" class="headerlink" title="åŸºç¡€çŸ¥è¯†"></a>åŸºç¡€çŸ¥è¯†</h2><ol>
<li>å†³å¿ƒå¾æœä¸€é—¨å¤–è¯­ï¼Œä¸æ˜¯å› ä¸ºä¸å¾—ä¸è¿™ä¹ˆåšï¼Œè€Œæ˜¯å› ä¸ºå‘è‡ªå†…å¿ƒåœ°æƒ³å­¦ï¼</li>
<li>è¯­è¨€çš„ç±»å‹æ¨¡å‹æ˜¯ä»€ä¹ˆï¼Ÿå¼ºç±»å‹ï¼ˆJavaï¼‰æˆ–å¼±ç±»å‹ï¼ˆCè¯­è¨€ï¼‰ï¼Œé™æ€ç±»å‹ï¼ˆJavaï¼‰æˆ–åŠ¨æ€ç±»å‹ï¼ˆRubyï¼‰</li>
<li>è¯­è¨€çš„ç¼–ç¨‹èŒƒå‹æ˜¯ä»€ä¹ˆï¼Ÿæ˜¯é¢å‘å¯¹è±¡ï¼ˆobject-orientedï¼ŒOOï¼‰ã€å‡½æ•°å¼ã€è¿‡ç¨‹å¼ï¼Œè¿˜æ˜¯å®ƒä»¬çš„ç»¼åˆä½“ï¼Ÿ</li>
<li>æ€æ ·å’Œè¯­è¨€äº¤äº’ï¼Ÿè¯­è¨€å¯ç¼–è¯‘ä¹Ÿå¯è§£é‡Šï¼Œå¯ä»¥æœ‰è™šæ‹Ÿæœºä¹Ÿå¯ä»¥æ²¡æœ‰</li>
<li>è¯­è¨€çš„åˆ¤æ–­ç»“æ„ï¼ˆdecision constructï¼‰å’Œæ ¸å¿ƒæ•°æ®ç»“æ„æ˜¯ä»€ä¹ˆï¼Ÿ</li>
<li>å“ªäº›æ ¸å¿ƒç‰¹æ€§è®©è¿™é—¨è¯­è¨€ä¸ä¼—ä¸åŒï¼Ÿæœ‰äº›è¯­è¨€æ”¯æŒå¹¶å‘ç¼–ç¨‹çš„é«˜çº§ç‰¹æ€§ï¼Œæœ‰äº›è¯­è¨€æä¾›ç‹¬ä¸€æ— äºŒçš„é«˜çº§ç»“æ„</li>
<li>ä»€ä¹ˆæ˜¯æ„è¯†æµç¼–ç¨‹ï¼Ÿä½ å¯èƒ½å¬è¯´è¿‡â€æ„è¯†æµâ€å°è¯´ï¼Œæ„è¯†æµç¼–ç¨‹ä¹Ÿæ˜¯ç±»ä¼¼çš„æ¦‚å¿µï¼</li>
</ol>
<h2 id="Ruby"><a href="#Ruby" class="headerlink" title="Ruby"></a>Ruby</h2><ol>
<li><p>Rubyå‡ºèº«äºæ‰€è°“çš„è„šæœ¬è¯­è¨€å®¶æ—ï¼Œæ˜¯ä¸€ç§è§£é‡Šå‹ã€é¢å‘å¯¹è±¡ã€åŠ¨æ€ç±»å‹çš„è¯­è¨€ï¼›  </p>
</li>
<li><p>åœ¨Rubyä¸­ï¼Œä¸€åˆ‡çš†ä¸ºå¯¹è±¡ï¼Œå°±è¿æ¯ä¸ªå•ç‹¬çš„æ•°å­—ä¹Ÿä¸ä¾‹å¤–ï¼›   </p>
</li>
<li><p>Rubyä¸­çš„trueå’Œfalseæ˜¯ä¸€ç­‰å¯¹è±¡ï¼ˆ first-class objectï¼‰ï¼Œé™¤äº†nilå’Œfalseä¹‹å¤–ï¼Œå…¶ä»–å€¼éƒ½ä»£è¡¨true ï¼›</p>
</li>
<li><p>=ç”¨äºèµ‹å€¼ï¼Œè€Œ==ç”¨äºåˆ¤æ–­æ˜¯å¦ç›¸ç­‰ï¼›</p>
</li>
<li><p>andï¼ˆä¹Ÿå¯å†™ä¸º&amp;&amp;ï¼‰æ˜¯é€»è¾‘ä¸ï¼Œ orï¼ˆä¹Ÿå¯å†™ä¸º||ï¼‰æ˜¯é€»è¾‘æˆ–ï¼›</p>
</li>
<li><p>å¼ºç±»å‹è¯­è¨€ä¼šå¯¹æŸäº›æ“ä½œè¿›è¡Œç±»å‹æ£€æŸ¥ï¼Œå¹¶åœ¨å…¶é€ æˆç ´åå‰åŠ ä»¥é˜»æ­¢ï¼ŒRubyæ˜¯å¼ºç±»å‹è¯­è¨€ï¼›</p>
</li>
<li><p>å…³é”®å­—defå®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼Œä½†ä¸ä¼šæ‰§è¡Œå®ƒï¼›</p>
</li>
<li><p>é¸­å­ç±»å‹å¹¶ä¸åœ¨ä¹å…¶å†…åœ¨ç±»å‹å¯èƒ½æ˜¯ä»€ä¹ˆã€‚åªè¦å®ƒåƒé¸­å­ä¸€æ ·èµ°è·¯ï¼Œåƒé¸­å­ä¸€æ ·å˜å˜å«ï¼Œé‚£å®ƒå°±æ˜¯åªé¸­å­ï¼›</p>
<figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line"><span class="comment"># é¸­å­æ¨¡å‹</span></span><br><span class="line">i=<span class="number">0</span></span><br><span class="line">a=[<span class="string">'100'</span>,<span class="number">100.0</span>]</span><br><span class="line"><span class="keyword">while</span> i &lt; <span class="number">2</span></span><br><span class="line">    puts a[i].to_i</span><br><span class="line">    i = i + <span class="number">1</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>åŸåˆ™ï¼š*<em>å¯¹æ¥å£ç¼–ç ï¼Œä¸å¯¹å®ç°ç¼–ç  *</em>ï¼›</p>
</li>
<li><p>æ¯ä¸ªå‡½æ•°éƒ½ä¼šè¿”å›ç»“æœ,å¦‚æœæ²¡æœ‰æ˜¾å¼æŒ‡å®šæŸä¸ªè¿”å›å€¼ï¼Œå‡½æ•°å°±å°†è¿”å›é€€å‡ºå‡½æ•°å‰æœ€åå¤„ç†çš„è¡¨è¾¾å¼çš„å€¼,åƒæ‰€æœ‰å…¶ä»–äº‹ç‰©ä¸€æ ·ï¼Œå‡½æ•°ä¹Ÿæ˜¯ä¸ªå¯¹è±¡ï¼›</p>
</li>
<li><p>æ•°ç»„æ˜¯Rubyæœ‰åºé›†åˆä¸­çš„ä¸»åŠ›éƒ¨é˜Ÿï¼Œå¦‚æœè®¿é—®ä»»ä½•æœªå®šä¹‰çš„æ•°ç»„å…ƒç´ ï¼ŒRubyä¼šç›´æ¥è¿”å›nilï¼›</p>
</li>
<li><p>æ•£åˆ—è¡¨æ˜¯é”®ï¼å€¼å¯¹ï¼ŒRubyè™½ç„¶ä¸æ”¯æŒå‘½åå‚æ•°ï¼Œä½†å¯ä»¥ç”¨æ•£åˆ—è¡¨æ¥æ¨¡æ‹Ÿå®ƒï¼›</p>
</li>
<li><p>ä»£ç å—æ˜¯æ²¡æœ‰åå­—çš„å‡½æ•°ï¼Œå¯ä»¥ä½œä¸ºå‚æ•°ä¼ é€’ç»™å‡½æ•°æˆ–æ–¹æ³•ï¼Œå¤§æ‹¬å·ä¹‹é—´çš„ä»£ç å°±ç§°ä½œä»£ç å—ï¼›</p>
</li>
<li><p>å¯ä»¥åˆ›å»ºä¸€ä¸ªåä¸ºhello.rbçš„æ–‡ä»¶ï¼Œå…¶ä¸­åŒ…å«ä»»æ„ä½ æƒ³æ‰§è¡Œçš„Rubyä»£ç ï¼Œç„¶åä½¿ç”¨ruby hello.rbæ¥æ‰§è¡Œæ–‡ä»¶ï¼›</p>
</li>
<li><p>Rubyä¸­çš„ç±»åªèƒ½ç»§æ‰¿è‡ªä¸€ä¸ªå«åšè¶…ç±»çš„ç±»</p>
</li>
</ol>
<h2 id="Io"><a href="#Io" class="headerlink" title="Io"></a>Io</h2><ol>
<li><h2 id="Prolog"><a href="#Prolog" class="headerlink" title="Prolog"></a>Prolog</h2></li>
<li></li>
</ol>
<h2 id="Scala"><a href="#Scala" class="headerlink" title="Scala"></a>Scala</h2><ol>
<li><h2 id="Erlang"><a href="#Erlang" class="headerlink" title="Erlang"></a>Erlang</h2></li>
<li></li>
</ol>
<h2 id="Clojure"><a href="#Clojure" class="headerlink" title="Clojure"></a>Clojure</h2><ol>
<li>Clojureæ˜¯JVMä¸Šçš„Lispå®ç°ï¼ŒLispå¤æ‚å¼ºå¤§ï¼Œæ˜¯è®¡ç®—æœºé¢†åŸŸé‡Œæœ€æ—©å’Œæœ€æ–°çš„ç¼–ç¨‹è¯­è¨€ä¹‹ä¸€ï¼›</li>
<li>Clojureå°±æ˜¯ä¸€ç§Lispæ–¹è¨€ï¼Œå—Lispè¯­è¨€é™åˆ¶ï¼Œä½†ä¹Ÿæ‹¥æœ‰Lispå¼ºå¤§çš„åŠ›é‡ï¼Œäº†è§£Clojure è¦ä»äº†è§£Lispå¼€å§‹ï¼›</li>
<li>Lispæ˜¯å‡½æ•°å¼è¯­è¨€ï¼Œä½†ä¸æ˜¯çº¯å‡½æ•°å¼è¯­è¨€ï¼š<ul>
<li>Lispæ˜¯ä¸€ç§åˆ—è¡¨è¯­è¨€ï¼Œå‡½æ•°è°ƒç”¨æ—¶ï¼Œå–åˆ—è¡¨ç¬¬ä¸€ä¸ªå…ƒç´ ä½œå‡½æ•°ï¼Œåˆ—è¡¨å…¶ä½™å…ƒç´ ä½œå‚æ•°</li>
<li>Lispä½¿ç”¨è‡ªæœ‰æ•°æ®ç»“æ„è¡¨ç¤ºä»£ç ï¼Œä¸€äº›Lispè¿½éšè€…ç§°ä¹‹ä¸ºæ•°æ®å³ä»£ç ï¼ˆdata as codeï¼‰</li>
</ul>
</li>
<li>æ¯ä¸€ç§Lispæ–¹è¨€éƒ½æœ‰å…¶è¿åˆçš„ç¾¤ä½“ï¼Œå¯¹Clojureè€Œè¨€ï¼Œæœ€é‡è¦çš„ç‰¹å¾ä¹‹ä¸€å°±æ˜¯JVMï¼›</li>
<li>Clojureå’ŒJavaè°ä¹Ÿç¦»ä¸å¼€è°ï¼ŒLispéœ€è¦Javaè™šæ‹Ÿæœºæ‰€èƒ½æä¾›çš„å¸‚åœºä»½é¢ï¼Œè€ŒJavaç¤¾åŒºä¹Ÿéœ€è¦æ³¨å…¥æ–°çš„æ´»åŠ›ï¼ŒClojureæ˜¯ä¸€é—¨å‡½æ•°å¼è¯­è¨€ï¼Œå¼ºè°ƒå‡½æ•°æ— å‰¯ä½œç”¨ï¼›</li>
<li>Clojureæ”¯æŒå¼ºç±»å‹å’ŒåŠ¨æ€ç±»å‹ï¼ŒåŠ¨æ€ç±»å‹æ„å‘³ç€ç±»å‹åœ¨è¿è¡Œæ—¶æ±‚å€¼ï¼›</li>
<li>å¤šé‡æ–¹æ³•æ”¯æŒå¤šç§ç¼–ç¨‹èŒƒå‹çš„ä»£ç ï¼Œè€Œå®å…è®¸ä½ åŠ¨æ€åœ°é‡å®šä¹‰è¯­è¨€ï¼›</li>
<li>å¦‚æœéœ€è¦ä¸€ç§æç«¯çš„ç¼–ç¨‹æ¨¡å‹å¹¶ä¸”æ„¿æ„ä»˜å‡ºå­¦ä¹ è¯­è¨€çš„ä»£ä»·ï¼ŒClojureéå¸¸åˆé€‚ï¼</li>
</ol>
<h2 id="Haskell"><a href="#Haskell" class="headerlink" title="Haskell"></a>Haskell</h2><ol>
<li></li>
</ol>
<hr>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1>]]></content>
      <categories>
        <category>Code</category>
      </categories>
  </entry>
  <entry>
    <title>å¾®æœåŠ¡æ¶æ„ä¹‹è·¯</title>
    <url>/2020/07/11/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E6%9E%B6%E6%9E%84%E4%B9%8B%E8%B7%AF/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>æ¶æ„ä¹‹è·¯ä»æ¥éƒ½ä¸æ˜¯ä¸€æ¡å¥½èµ°çš„è·¯ï¼Œéœ€è¦é•¿æœŸçš„åšæŒï¼Œæ¯å¤©çš„æŒç»­å­¦ä¹ ï¼å¸Œæœ›è‡ªå·±èƒ½åœ¨è¿™ä¸ªè·¯ä¸Šèµ°ä¸‹å»ï¼Œä¸ä¼šæˆä¸ºPPTæ¶æ„å¸ˆã€‚çœŸæ­£åœ°æŒæ¡æŠ€æœ¯ï¼Œè®¾è®¡é€‚åˆä¸šåŠ¡éœ€æ±‚çš„æ¶æ„ã€‚ç§¯ç´¯ç»éªŒï¼Œæ‹“å®½è§†é‡ï¼Œæ·±åº¦æ€è€ƒï¼ç¨‹åºå‘˜åˆ°æ¶æ„å¸ˆçš„æŠ€æœ¯æˆé•¿ä¹‹è·¯åˆ†ä¸ºå‡ ä¸ªå…¸å‹çš„é˜¶æ®µï¼šå·¥ç¨‹å¸ˆ - é«˜çº§å·¥ç¨‹å¸ˆ - æŠ€æœ¯ä¸“å®¶ -åˆçº§æ¶æ„å¸ˆ - ä¸­çº§æ¶æ„å¸ˆ - é«˜çº§æ¶æ„å¸ˆã€‚</p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="åŸºç¡€ç§¯ç´¯"><a href="#åŸºç¡€ç§¯ç´¯" class="headerlink" title="åŸºç¡€ç§¯ç´¯"></a>åŸºç¡€ç§¯ç´¯</h2><h3 id="åŸºç¡€çŸ¥è¯†"><a href="#åŸºç¡€çŸ¥è¯†" class="headerlink" title="åŸºç¡€çŸ¥è¯†"></a>åŸºç¡€çŸ¥è¯†</h3><ol>
<li>ç³»ç»Ÿæ³›æŒ‡ç”±ä¸€ç¾¤æœ‰å…³è”çš„ä¸ªä½“ç»„æˆï¼Œæ ¹æ®æŸç§è§„åˆ™è¿ä½œï¼Œèƒ½å®Œæˆä¸ªåˆ«å…ƒä»¶ä¸èƒ½å•ç‹¬å®Œæˆçš„å·¥ä½œçš„ç¾¤ä½“ï¼›</li>
<li>å­ç³»ç»Ÿæ˜¯ç”±ä¸€ç¾¤æœ‰å…³è”çš„ä¸ªä½“æ‰€ç»„æˆçš„ç³»ç»Ÿï¼Œå¤šåŠä¼šæ˜¯æ›´å¤§ç³»ç»Ÿä¸­çš„ä¸€éƒ¨åˆ†ã€‚ä¸€ä¸ªç³»ç»Ÿå¯èƒ½æ˜¯å¦å¤–ä¸€ä¸ªæ›´å¤§ç³»ç»Ÿçš„å­ç³»ç»Ÿï¼›</li>
<li>æ¨¡å—å’Œç»„ä»¶éƒ½æ˜¯ç³»ç»Ÿçš„ç»„æˆéƒ¨åˆ†ï¼Œåªæ˜¯ä»ä¸åŒçš„è§’åº¦æ‹†åˆ†ç³»ç»Ÿè€Œå·²ã€‚åˆ’åˆ†æ¨¡å—çš„ä¸»è¦ç›®çš„æ˜¯èŒè´£åˆ†ç¦»ï¼›åˆ’åˆ†ç»„ä»¶çš„ä¸»è¦ç›®çš„æ˜¯å•å…ƒå¤ç”¨ï¼š<ul>
<li>ä»é€»è¾‘çš„è§’åº¦æ¥æ‹†åˆ†ç³»ç»Ÿåï¼Œå¾—åˆ°çš„å•å…ƒå°±æ˜¯â€œæ¨¡å—â€</li>
<li>ä»ç‰©ç†çš„è§’åº¦æ¥æ‹†åˆ†ç³»ç»Ÿåï¼Œå¾—åˆ°çš„å•å…ƒå°±æ˜¯â€œç»„ä»¶â€</li>
</ul>
</li>
<li><strong>è½¯ä»¶æ¡†æ¶ï¼ˆSoftware frameworkï¼‰</strong>é€šå¸¸æŒ‡çš„æ˜¯ä¸ºäº†å®ç°æŸä¸ªä¸šç•Œæ ‡å‡†æˆ–å®Œæˆç‰¹å®šåŸºæœ¬ä»»åŠ¡çš„è½¯ä»¶ç»„ä»¶è§„èŒƒï¼Œä¹ŸæŒ‡ä¸ºäº†å®ç°æŸä¸ªè½¯ä»¶ç»„ä»¶è§„èŒƒæ—¶ï¼Œæä¾›è§„èŒƒæ‰€è¦æ±‚ä¹‹åŸºç¡€åŠŸèƒ½çš„è½¯ä»¶äº§å“ï¼›</li>
<li><strong>è½¯ä»¶æ¶æ„</strong>æŒ‡è½¯ä»¶ç³»ç»Ÿçš„â€œåŸºç¡€ç»“æ„â€ï¼Œåˆ›é€ è¿™äº›åŸºç¡€ç»“æ„çš„å‡†åˆ™ï¼Œä»¥åŠå¯¹è¿™äº›ç»“æ„çš„æè¿°ï¼›</li>
<li><strong>æ¡†æ¶å…³æ³¨çš„æ˜¯â€œè§„èŒƒâ€ï¼Œæ¶æ„å…³æ³¨ çš„æ˜¯â€œç»“æ„â€ï¼</strong></li>
<li>è½¯ä»¶æ¶æ„æŒ‡è½¯ä»¶ç³»ç»Ÿçš„é¡¶å±‚ç»“æ„ï¼›æ¡†æ¶æ˜¯é¢å‘ç¼–ç¨‹æˆ–é…ç½®çš„åŠæˆå“ï¼›ç»„ä»¶æ˜¯ä»æŠ€æœ¯ç»´åº¦ä¸Šçš„å¤ç”¨ï¼›æ¨¡å—æ˜¯ä» ä¸šåŠ¡ç»´åº¦ä¸ŠèŒè´£çš„åˆ’åˆ†ï¼›ç³»ç»Ÿæ˜¯ç›¸äº’ååŒå¯è¿è¡Œçš„å®ä½“!</li>
<li>è§„æ¨¡è¾ƒå¤§çš„è½¯ä»¶ç³»ç»Ÿå¯èƒ½é¢ä¸´è½¯ä»¶æ¶æ„ç›¸å…³çš„é—®é¢˜ï¼š<ul>
<li>ç³»ç»Ÿè§„æ¨¡åºå¤§ï¼Œå†…éƒ¨è€¦åˆä¸¥é‡ï¼Œå¼€å‘æ•ˆç‡ä½</li>
<li>ç³»ç»Ÿè€¦åˆä¸¥é‡ï¼Œç‰µä¸€å‘åŠ¨å…¨èº«ï¼Œåç»­ä¿®æ”¹å’Œæ‰©å±•å›°éš¾</li>
<li>ç³»ç»Ÿé€»è¾‘å¤æ‚ï¼Œå®¹æ˜“å‡ºé—®é¢˜ï¼Œå‡ºé—®é¢˜åå¾ˆéš¾æ’æŸ¥å’Œä¿®å¤</li>
</ul>
</li>
<li>è½¯ä»¶å¼€å‘è¿‡ç¨‹åŒ…æ‹¬äº†åˆ†æã€è®¾è®¡ã€å®ç°ã€æµ‹è¯•ã€éªŒè¯ã€éƒ¨ç½²ã€è¿ç»´ç­‰å¤šä¸ªç¯èŠ‚ã€‚</li>
</ol>
<h3 id="Java-åç«¯å·¥ç¨‹å¸ˆåŸºç¡€æŠ€èƒ½"><a href="#Java-åç«¯å·¥ç¨‹å¸ˆåŸºç¡€æŠ€èƒ½" class="headerlink" title="Java åç«¯å·¥ç¨‹å¸ˆåŸºç¡€æŠ€èƒ½"></a>Java åç«¯å·¥ç¨‹å¸ˆåŸºç¡€æŠ€èƒ½</h3><ol>
<li>Java çš„è¯­æ³•ã€åŸºæœ¬æ•°æ®ç»“æ„çš„ä½¿ç”¨</li>
<li>Eclipseï¼ˆæˆ–è€…IDEAï¼‰ã€Mavenã€Linux å‘½ä»¤è¡Œç­‰å„ç§å·¥å…·</li>
<li>æ•°æ®åº“ CRUD æ“ä½œã€ç¼“å­˜çš„åŸºæœ¬ä½¿ç”¨ç­‰</li>
<li>ä¸šåŠ¡ç³»ç»Ÿçš„åŸºæœ¬æµç¨‹</li>
<li>å…¸å‹ä¹¦ç±ï¼šã€ŠJava ç¼–ç¨‹æ€æƒ³ã€‹ã€ŠJava æ ¸å¿ƒæŠ€æœ¯ã€‹ã€ŠTCP/IP åè®®ã€‹ç­‰</li>
</ol>
<h3 id="é«˜çº§å·¥ç¨‹å¸ˆ"><a href="#é«˜çº§å·¥ç¨‹å¸ˆ" class="headerlink" title="é«˜çº§å·¥ç¨‹å¸ˆ"></a>é«˜çº§å·¥ç¨‹å¸ˆ</h3><ol>
<li>å…¸å‹ç‰¹å¾æ˜¯â€œç‹¬ç«‹å®Œæˆå¼€å‘â€ï¼ŒåŒ…æ‹¬éœ€æ±‚åˆ†æã€æ–¹æ¡ˆè®¾è®¡ã€ç¼–ç å®ç°</li>
<li>MySQL æ•°æ®åº“è¡¨å¦‚ä½•è®¾è®¡ï¼Œæ˜¯è®¾è®¡æˆä¸¤ä¸ªè¡¨è¿˜æ˜¯ä¸‰ä¸ªè¡¨ï¼Ÿ</li>
<li>æ˜¯å¦è¦ç”¨ç¼“å­˜ï¼Œç¼“å­˜çš„ Key å’Œ Value å¦‚ä½•è®¾è®¡ï¼Œç¼“å­˜çš„æ›´æ–°ç­–ç•¥æ˜¯ä»€ä¹ˆï¼Ÿ</li>
<li>äº§å“æå‡ºçš„éœ€æ±‚æ˜¯å¦åˆç†ï¼Ÿæ˜¯å¦æœ‰æ›´å¥½çš„æ–¹å¼æ¥æ»¡è¶³ï¼Ÿ</li>
<li>éœ€è¦â€œç§¯ç´¯æ–¹æ¡ˆè®¾è®¡ç»éªŒâ€ï¼Œç®€å•æ¥è¯´å°±æ˜¯ä¸šåŠ¡å½“å‰ç”¨åˆ°çš„ç›¸å…³æŠ€æœ¯çš„è®¾è®¡ç»éªŒï¼Œæ¯”å¦‚Javaåç«¯éœ€è¦ç§¯ç´¯è¡¨è®¾è®¡ç»éªŒã€ç¼“å­˜è®¾è®¡ç»éªŒã€ä¸š åŠ¡æµç¨‹è®¾è®¡ç»éªŒã€æ¥å£è®¾è®¡ç»éªŒç­‰</li>
<li>æ•°æ®åº“è¡¨è®¾è®¡çš„ 3 ä¸ªèŒƒå¼ã€é¢å‘å¯¹è±¡çš„è®¾è®¡æ¨¡å¼ã€SOLID è®¾è®¡åŸåˆ™ã€ç¼“å­˜è®¾è®¡ç†è®ºï¼ˆç¼“å­˜ç©¿é€ã€ç¼“å­˜é›ªå´©ã€ç¼“å­˜çƒ­ç‚¹ï¼‰ç­‰</li>
<li>å‡è®¾æ¯ä¸ªè®¾è®¡ç¯èŠ‚éƒ½æœ‰è®¾è®¡ç†è®ºï¼Œç„¶åå¸¦ç€è¿™ç§å‡è®¾å»æœç´¢éªŒè¯çœ‹çœ‹æ˜¯å¦çœŸçš„æœ‰å¾ˆç†Ÿçš„è®¾è®¡ç†å¿µ</li>
<li>å…¸å‹ä¹¦ç±ï¼šã€Šæ·±å…¥ç†è§£ Java è™šæ‹Ÿæœºã€‹ã€ŠMySQL æŠ€æœ¯å†…å¹•ï¼šInnoDB å­˜å‚¨å¼•æ“ã€‹ç­‰</li>
</ol>
<h3 id="æŠ€æœ¯ä¸“å®¶"><a href="#æŠ€æœ¯ä¸“å®¶" class="headerlink" title="æŠ€æœ¯ä¸“å®¶"></a>æŠ€æœ¯ä¸“å®¶</h3><ol>
<li>å…¸å‹çš„ç‰¹å¾æ˜¯â€œæŸä¸ªé¢†åŸŸçš„ä¸“å®¶â€ï¼Œåªè¦æ˜¯é¢†åŸŸå†…çš„é—®é¢˜ï¼ŒæŠ€æœ¯ä¸“å®¶éƒ½å¯ä»¥è§£å†³</li>
<li>æŠ€æœ¯ä¸“å®¶ä¼šæ ¹æ®éœ€è¦ä¿®æ”¹ã€æ‰©å±•ã€ä¼˜åŒ–æ¶æ„</li>
<li>è¦æƒ³æˆä¸ºä¸€ä¸ª Java å¼€å‘ä¸“å®¶ï¼Œéœ€è¦æŒæ¡ Java å¤šçº¿ç¨‹ã€JDBCã€Java è™šæ‹Ÿæœºã€é¢å‘å¯¹è±¡ã€è®¾è®¡æ¨¡å¼ã€Nettyã€Elasticsearchã€Memcacheã€Redisã€MySQL ç­‰ä¼—å¤šæŠ€æœ¯</li>
<li>æ‹“å±•æŠ€æœ¯å®½åº¦å¹¶ä¸æ„å‘³ç€ä»…ä»…åªæ˜¯çŸ¥é“ä¸€ä¸ªæŠ€æœ¯åè¯ï¼Œè€Œæ˜¯è¦æ·±å…¥å»ç†è§£æ¯ä¸ªæŠ€æœ¯çš„åŸç†ã€ä¼˜ç¼ºç‚¹ã€åº”ç”¨åœºæ™¯ï¼Œä¹Ÿéœ€è¦äº†è§£æ¯ç§æŠ€æœ¯çš„å·®å¼‚æ€§</li>
</ol>
<h3 id="åˆçº§æ¶æ„å¸ˆ"><a href="#åˆçº§æ¶æ„å¸ˆ" class="headerlink" title="åˆçº§æ¶æ„å¸ˆ"></a>åˆçº§æ¶æ„å¸ˆ</h3><ol>
<li>å…¸å‹ç‰¹å¾å°±æ˜¯èƒ½å¤Ÿâ€œç‹¬ç«‹å®Œæˆä¸€ä¸ªç³»ç»Ÿçš„æ¶æ„è®¾è®¡â€ï¼Œå¯ä»¥æ˜¯ä» 0 åˆ° 1 è®¾è®¡ä¸€ä¸ªæ–°ç³»ç»Ÿï¼Œä¹Ÿå¯ä»¥æ˜¯å°†æ¶æ„ä» 1.0 é‡æ„åˆ° 2.0</li>
<li>æ¶æ„å¸ˆæ˜¯åŸºäºå®Œå–„çš„æ¶æ„è®¾è®¡æ–¹æ³•è®ºçš„æŒ‡å¯¼æ¥è¿›è¡Œæ¶æ„è®¾è®¡ï¼Œèƒ½å¤Ÿæ¸…æ™°åœ°é˜è¿°æ¶æ„è®¾è®¡çš„ç†ç”±å’ŒåŸå› </li>
<li>ä¸»è¦æ˜¯å½¢æˆè‡ªå·±çš„â€œæ¶æ„è®¾è®¡æ–¹æ³•è®ºâ€ï¼Œæ–¹æ³•æœ‰ï¼š<ul>
<li>ç³»ç»Ÿå­¦ä¹ æ¶æ„è®¾è®¡æ–¹æ³•è®ºï¼ŒåŒ…æ‹¬è®¢é˜…ä¸“æ æˆ–è€…é˜…è¯»ä¹¦ç±ç­‰</li>
<li>æ·±å…¥ç ”ç©¶æˆç†Ÿå¼€æºç³»ç»Ÿçš„æ¶æ„è®¾è®¡ï¼Œèšç„¦äºå­¦ä¹ å…¶æ¶æ„è®¾è®¡åŸç†å’Œæ€æƒ³</li>
<li>ç»“åˆæ¶æ„è®¾è®¡æ–¹æ³•è®ºï¼Œåˆ†æå’Œæ€»ç»“è‡ªå·±å›¢é˜Ÿç”šè‡³å…¬å¸çš„å„ç§ç³»ç»Ÿçš„æ¶æ„è®¾è®¡ä¼˜ç¼ºç‚¹ï¼Œå°è¯•æ€è€ƒæ¶æ„é‡æ„æ–¹æ¡ˆ</li>
</ul>
</li>
</ol>
<h3 id="ä¸­çº§æ¶æ„å¸ˆ"><a href="#ä¸­çº§æ¶æ„å¸ˆ" class="headerlink" title="ä¸­çº§æ¶æ„å¸ˆ"></a>ä¸­çº§æ¶æ„å¸ˆ</h3><ol>
<li>å…¸å‹ç‰¹å¾æ˜¯â€œèƒ½å¤Ÿå®Œæˆå¤æ‚ç³»ç»Ÿçš„æ¶æ„è®¾è®¡â€ï¼ŒåŒ…å«é«˜æ€§èƒ½ã€é«˜å¯ç”¨ã€å¯æ‰©å±•ã€æµ·é‡å­˜å‚¨ç­‰å¤æ‚ç³»ç»Ÿ</li>
<li>ä¸­çº§æ¶æ„å¸ˆé¢å¯¹çš„ç³»ç»Ÿå¤æ‚åº¦è¦é«˜äºåˆçº§æ¶æ„å¸ˆ</li>
<li>å…³é”®çš„æ˜¯â€œæŠ€æœ¯æ·±åº¦å’ŒæŠ€æœ¯ç†è®ºçš„ç§¯ç´¯â€ï¼š<ul>
<li>æŠ€æœ¯ç†è®ºâ€”â€”CAPã€BASE æ˜¯å¼‚åœ°å¤šæ´»çš„è®¾è®¡ç†è®ºåŸºç¡€ã€Paxos æ˜¯åˆ†å¸ƒå¼ä¸€è‡´æ€§çš„åŸºç¡€ç®—æ³•ã€2PCã€3PC æ˜¯åˆ†å¸ƒå¼äº‹åŠ¡çš„åŸºç¡€ç®—æ³•ç­‰</li>
<li>æŠ€æœ¯æ·±åº¦â€”â€”Kafka ç”¨ç£ç›˜å­˜å‚¨è¿˜èƒ½åšåˆ°é«˜æ•ˆæ˜¯å› ä¸ºç£ç›˜é¡ºåºå†™ï¼›Disruptor é«˜æ€§èƒ½æ˜¯ç»“åˆCPUé¢„è¯»å–æœºåˆ¶ã€ç¼“å­˜è¡Œã€æ— é”è®¾è®¡ç­‰åŸºç¡€æŠ€æœ¯ï¼›Storm çš„é«˜æ•ˆå¼‚æˆ–ç¡®è®¤æœºåˆ¶ï¼›Flink çš„åˆ†å¸ƒå¼å¿«ç…§ç®—æ³•ç­‰</li>
</ul>
</li>
</ol>
<h3 id="é«˜çº§æ¶æ„å¸ˆ"><a href="#é«˜çº§æ¶æ„å¸ˆ" class="headerlink" title="é«˜çº§æ¶æ„å¸ˆ"></a>é«˜çº§æ¶æ„å¸ˆ</h3><ol>
<li>å…¸å‹ç‰¹å¾æ˜¯â€œåˆ›é€ æ–°çš„æ¶æ„æ¨¡å¼â€</li>
<li>é«˜çº§æ¶æ„å¸ˆä¸ä¸­çº§æ¶æ„å¸ˆç›¸æ¯”ï¼Œå…¸å‹åŒºåˆ«åœ¨äºâ€œåˆ›é€ æ€§â€ï¼Œé«˜çº§æ¶æ„å¸ˆèƒ½å¤Ÿåˆ›é€ æ–°çš„æ¶æ„æ¨¡å¼ï¼Œå¼€åˆ›æ–°çš„æŠ€æœ¯æ½®æµ</li>
<li>å¯èƒ½è¯ç”Ÿåˆ›é€ æ€§æ¶æ„çš„èƒŒæ™¯æ¡ä»¶ï¼š<ul>
<li>è¶³å¤Ÿå¤æ‚çš„ä¸šåŠ¡åœºæ™¯</li>
<li>è¶³å¤Ÿå¼ºå¤§çš„æŠ€æœ¯å›¢é˜Ÿ</li>
<li>ä¸æ»¡è¶³äºç°çŠ¶çš„æ€åº¦</li>
<li>å°Šé‡æŠ€æœ¯ä»·å€¼çš„æ–‡åŒ–</li>
</ul>
</li>
<li>å¦‚æœå®Œå…¨ç»“æœå¯¼å‘ã€KPI å¯¼å‘ï¼Œåˆ›æ–°æŠ€æœ¯å¾ˆå¯èƒ½åœ¨èŒèŠ½é˜¶æ®µå°±è¢«å¦å®š</li>
</ol>
<h3 id="æ¨èä¹¦ç±"><a href="#æ¨èä¹¦ç±" class="headerlink" title="æ¨èä¹¦ç±"></a>æ¨èä¹¦ç±</h3><ol>
<li>æˆé•¿ï¼šã€Šå¼‚ç±»ã€‹ã€Šéšæœºæ¼«æ­¥çš„å‚»ç“œã€‹ã€Šä¸€ä¸‡å°æ—¶å¤©æ‰ç†è®ºã€‹ã€Šæƒ…å•†ã€‹ã€Šä¼˜ç§€åˆ°ä¸èƒ½è¢«å¿½è§†ã€‹ã€Šå½±å“åŠ›å¤§å¸ˆã€‹</li>
<li>æŠ€æœ¯ï¼šã€ŠUNIX ç½‘ç»œç¼–ç¨‹ï¼ˆå· 1ï¼‰ã€‹ã€ŠUNIX ç¯å¢ƒé«˜çº§ç¼–ç¨‹ã€‹ã€ŠLinux ç³»ç»Ÿç¼–ç¨‹ã€‹ã€ŠTCP/IP è¯¦è§£ï¼ˆå· 1ï¼‰ã€‹ã€Šç®—æ³•ä¹‹ç¾ã€‹ã€Šç®—æ³•è®¾è®¡ä¸åº”ç”¨ã€‹ã€ŠJava ç¼–ç¨‹æ€æƒ³ã€‹ã€Šæ·±å…¥ç†è§£ Java è™šæ‹Ÿæœºã€‹ã€ŠC++ Primerã€‹</li>
<li>ä¸šåŠ¡ï¼šã€Šå¢é•¿é»‘å®¢ã€‹ã€Šéœ€æ±‚ã€‹ã€Šæ·˜å®åå¹´äº§å“äº‹ã€‹ã€Šå®šä½ã€‹ã€Šå®æ´åˆ¶èƒœæˆ˜ç•¥ã€‹</li>
</ol>
<h2 id="æ¶æ„åŸºç¡€"><a href="#æ¶æ„åŸºç¡€" class="headerlink" title="æ¶æ„åŸºç¡€"></a>æ¶æ„åŸºç¡€</h2><h3 id="ä¸ºä»€ä¹ˆè¦æ¶æ„è®¾è®¡"><a href="#ä¸ºä»€ä¹ˆè¦æ¶æ„è®¾è®¡" class="headerlink" title="ä¸ºä»€ä¹ˆè¦æ¶æ„è®¾è®¡"></a>ä¸ºä»€ä¹ˆè¦æ¶æ„è®¾è®¡</h3><ol>
<li>æ¶æ„æ˜¯ä¸ºäº†åº”å¯¹è½¯ä»¶ç³»ç»Ÿå¤æ‚åº¦è€Œæå‡ºçš„ä¸€ä¸ªè§£å†³æ–¹æ¡ˆï¼</li>
<li><strong>é€šè¿‡ç†Ÿæ‚‰å’Œç†è§£éœ€æ±‚ï¼Œè¯†åˆ«ç³»ç»Ÿå¤æ‚æ€§æ‰€åœ¨çš„åœ°æ–¹ï¼Œç„¶åé’ˆå¯¹è¿™äº›å¤æ‚ç‚¹è¿›è¡Œæ¶æ„è®¾è®¡ï¼›</strong></li>
<li>æ¶æ„å¸ˆåº”è¯¥æœ‰çš„æ”¾çŸ¢ï¼Œè€Œä¸æ˜¯è´ªå¤§æ±‚å…¨ï¼›</li>
<li>æ¶æ„æ— ä¼˜åŠ£ï¼Œä½†æ˜¯å­˜åœ¨æ°å½“çš„æ¶æ„ç”¨åœ¨åˆé€‚çš„è½¯ä»¶ç³»ç»Ÿä¸­ï¼Œè€Œè¿™äº›å°±æ˜¯å†³ç­–çš„ç»“æœï¼›</li>
<li>æ¶æ„è®¾è®¡è¦è´´åˆä¸šåŠ¡ï¼Œæ‰¾åˆ°é€‚åˆèƒ½è§£å†³ä¸šåŠ¡å¤æ‚åº¦çš„è®¾è®¡ï¼Œæ‰æ˜¯å¥½çš„æ¶æ„è®¾è®¡ï¼›<strong><em>ä¸€åˆ‡è„±ç¦»ä¸šåŠ¡çš„æ¶æ„è®¾è®¡éƒ½æ˜¯è€æµæ°“ï¼</em></strong></li>
</ol>
<h3 id="å¤æ‚åº¦åˆ†æ"><a href="#å¤æ‚åº¦åˆ†æ" class="headerlink" title="å¤æ‚åº¦åˆ†æ"></a>å¤æ‚åº¦åˆ†æ</h3><ol>
<li>é«˜æ€§èƒ½ï¼Œå¯¹æ€§èƒ½å­œå­œä¸å€¦çš„è¿½æ±‚æ˜¯æ•´ä¸ªäººç±»æŠ€æœ¯ä¸æ–­å‘å±•çš„æ ¹æœ¬é©±åŠ¨åŠ›ï¼›</li>
<li>é€šè¿‡ä»»åŠ¡åˆ†è§£çš„æ–¹å¼ï¼Œèƒ½å¤ŸæŠŠåŸæ¥å¤§ä¸€ç»Ÿä½†å¤æ‚çš„ä¸šåŠ¡ç³»ç»Ÿï¼Œæ‹†åˆ†æˆå°è€Œç®€å•ä½†éœ€è¦å¤šä¸ªç³»ç»Ÿé…åˆçš„ä¸šåŠ¡ç³»ç»Ÿï¼š<ul>
<li>ç®€å•çš„ç³»ç»Ÿæ›´åŠ å®¹æ˜“åšåˆ°é«˜æ€§èƒ½</li>
<li>å¯ä»¥é’ˆå¯¹å•ä¸ªä»»åŠ¡è¿›è¡Œæ‰©å±•</li>
</ul>
</li>
<li>é«˜æ€§èƒ½å¸¦æ¥çš„å¤æ‚åº¦ä¸»è¦ä½“ç°çš„ä¸¤æ–¹é¢ï¼š<ul>
<li>å•å°è®¡ç®—æœºå†…éƒ¨ä¸ºäº†é«˜æ€§èƒ½å¸¦æ¥çš„å¤æ‚åº¦</li>
<li>å¤šå°è®¡ç®—æœºé›†ç¾¤ä¸ºäº†é«˜æ€§èƒ½å¸¦æ¥çš„å¤æ‚åº¦</li>
</ul>
</li>
<li>è¡¡é‡è½¯ä»¶æ€§èƒ½åŒ…æ‹¬äº†å“åº”æ—¶é—´ã€TPSã€æœåŠ¡å™¨èµ„æºåˆ©ç”¨ç‡ç­‰å®¢è§‚æŒ‡æ ‡ï¼›</li>
<li>é«˜å¯ç”¨ï¼Œç³»ç»Ÿæ— ä¸­æ–­åœ°æ‰§è¡Œå…¶åŠŸèƒ½çš„èƒ½åŠ›ï¼Œä»£è¡¨ç³»ç»Ÿçš„å¯ç”¨æ€§ç¨‹åº¦ï¼›</li>
<li>é«˜å¯ç”¨å¸¦æ¥çš„å¤æ‚åº¦ä¸»è¦ä½“ç°å¦‚ä¸‹ï¼š<ul>
<li>éœ€è¦å¢åŠ ä¸€ä¸ªä»»åŠ¡åˆ†é…å™¨ï¼Œé€‰æ‹©åˆé€‚çš„ä»»åŠ¡åˆ†é…å™¨ä¹Ÿæ˜¯ä¸€ä»¶å¤æ‚çš„äº‹æƒ…</li>
<li>ä»»åŠ¡åˆ†é…å™¨å’ŒçœŸæ­£çš„ä¸šåŠ¡æœåŠ¡å™¨ä¹‹é—´æœ‰è¿æ¥å’Œäº¤äº’ï¼Œéœ€è¦é€‰æ‹©åˆé€‚çš„è¿æ¥æ–¹å¼ï¼Œå¹¶ä¸”å¯¹è¿æ¥è¿›è¡Œç®¡ç†</li>
<li>ä»»åŠ¡åˆ†é…å™¨éœ€è¦å¢åŠ åˆ†é…ç®—æ³•ã€‚å¸¸è§çš„åŒæœºç®—æ³•æœ‰ä¸»å¤‡ã€ä¸»ä¸»ï¼Œä¸»å¤‡æ–¹æ¡ˆåˆå¯ä»¥ç»†åˆ†ä¸ºå†·å¤‡ã€æ¸©å¤‡ã€çƒ­å¤‡</li>
</ul>
</li>
<li>å¯¹äºéœ€è¦å­˜å‚¨æ•°æ®çš„ç³»ç»Ÿæ¥è¯´ï¼Œæ•´ä¸ªç³»ç»Ÿçš„é«˜å¯ç”¨è®¾è®¡å…³é”®ç‚¹å’Œéš¾ç‚¹å°±åœ¨äºâ€œå­˜å‚¨é«˜å¯ç”¨â€ï¼›</li>
<li>æ— è®ºé‡‡å–ä»€ä¹ˆæ ·çš„æ–¹æ¡ˆï¼ŒçŠ¶æ€å†³ç­–éƒ½ä¸å¯èƒ½åšåˆ°ä»»ä½•åœºæ™¯ä¸‹éƒ½æ²¡æœ‰é—®é¢˜ï¼Œä½†å®Œå…¨ä¸åšé«˜å¯ç”¨æ–¹æ¡ˆåˆä¼šäº§ç”Ÿæ›´å¤§çš„é—®é¢˜ï¼Œå¦‚ä½•é€‰å–é€‚åˆç³»ç»Ÿçš„é«˜å¯ç”¨æ–¹æ¡ˆï¼Œä¹Ÿæ˜¯ä¸€ä¸ªå¤æ‚çš„åˆ†æã€åˆ¤æ–­å’Œé€‰æ‹©çš„è¿‡ç¨‹ï¼›</li>
<li>é«˜å¯ç”¨æ€§å°±æ˜¯æŠ€æœ¯å®åŠ›çš„è±¡å¾ï¼Œé«˜å¯ç”¨æ€§å°±æ˜¯ç«äº‰åŠ›ï¼</li>
<li>å¯æ‰©å±•æ€§ï¼Œä¸ºäº†åº”å¯¹å°†æ¥éœ€æ±‚å˜åŒ–è€Œæä¾›çš„ä¸€ç§æ‰©å±•èƒ½åŠ›ï¼Œå½“æœ‰æ–°çš„éœ€æ±‚å‡ºç°æ—¶ï¼Œç³»ç»Ÿä¸éœ€è¦æˆ–è€…ä»…éœ€è¦å°‘é‡ä¿®æ”¹å°±å¯ä»¥æ”¯æŒï¼Œæ— é¡»æ•´ä¸ªç³»ç»Ÿé‡æ„æˆ–è€…é‡å»ºï¼›</li>
<li>å¯æ‰©å±•æ„å‘³ç€é¢„æµ‹ï¼Œé¢„æµ‹å˜åŒ–çš„å¤æ‚æ€§åœ¨äºï¼š<ul>
<li>ä¸èƒ½æ¯ä¸ªè®¾è®¡ç‚¹éƒ½è€ƒè™‘å¯æ‰©å±•æ€§</li>
<li>ä¸èƒ½å®Œå…¨ä¸è€ƒè™‘å¯æ‰©å±•æ€§</li>
<li>æ‰€æœ‰çš„é¢„æµ‹éƒ½å­˜åœ¨å‡ºé”™çš„å¯èƒ½æ€§</li>
</ul>
</li>
<li>å¯æ‰©å±•å¸¦æ¥ä¸¤ä¸ªä¸»è¦çš„å¤æ‚æ€§ç›¸å…³çš„é—®é¢˜ï¼š<ul>
<li>ç³»ç»Ÿéœ€è¦æ‹†åˆ†å‡ºå˜åŒ–å±‚å’Œç¨³å®šå±‚</li>
<li>éœ€è¦è®¾è®¡å˜åŒ–å±‚å’Œç¨³å®šå±‚ä¹‹é—´çš„æ¥å£</li>
</ul>
</li>
<li>è®¾è®¡å…·å¤‡è‰¯å¥½å¯æ‰©å±•æ€§çš„ç³»ç»Ÿï¼Œæœ‰ä¸¤ä¸ªæ€è€ƒè§’åº¦ï¼š<ul>
<li>ä»ä¸šåŠ¡ç»´åº¦ã€‚å¯¹ä¸šåŠ¡æ·±å…¥ç†è§£ï¼Œå¯¹å¯é¢„è®¡çš„ä¸šåŠ¡å˜åŒ–è¿›è¡Œé¢„æµ‹</li>
<li>ä»æŠ€æœ¯ç»´åº¦ã€‚åˆ©ç”¨æ‰©å±•æ€§å¥½çš„æŠ€æœ¯ï¼Œå®ç°å¯¹å˜åŒ–çš„å°è£…</li>
</ul>
</li>
<li>åœ¨å®é™…è½¯ä»¶ç³»ç»Ÿæ¶æ„è®¾è®¡ä¸­ï¼Œå¸¸é€šè¿‡ä»¥ä¸‹æŠ€æœ¯æ‰‹æ®µå®ç°è‰¯å¥½çš„å¯æ‰©å±•æ€§:<ul>
<li>ä½¿ç”¨åˆ†å¸ƒå¼æœåŠ¡ (æ¡†æ¶)æ„å»ºå¯å¤ç”¨çš„ä¸šåŠ¡å¹³å°</li>
<li>ä½¿ç”¨åˆ†å¸ƒå¼æ¶ˆæ¯é˜Ÿåˆ—é™ä½ä¸šåŠ¡æ¨¡å—é—´çš„è€¦åˆæ€§</li>
</ul>
</li>
<li>ä½æˆæœ¬ï¼Œéœ€è¦å‡å°‘æœåŠ¡å™¨çš„æ•°é‡æ‰èƒ½è¾¾æˆä½æˆæœ¬çš„ç›®æ ‡ï¼Œè€Œä¸”ä½æˆæœ¬æœ¬è´¨ä¸Šæ˜¯ä¸é«˜æ€§èƒ½å’Œé«˜å¯ç”¨å†²çªçš„ï¼›</li>
<li>ä¸€èˆ¬ä¸­å°å…¬å¸åŸºæœ¬éƒ½æ˜¯é å¼•å…¥æ–°æŠ€æœ¯æ¥è¾¾åˆ°ä½æˆæœ¬çš„ç›®æ ‡ï¼›è€Œå¤§å…¬å¸æ›´æœ‰å¯èƒ½è‡ªå·±å»åˆ›é€ æ–°çš„æŠ€æœ¯æ¥è¾¾åˆ°ä½æˆæœ¬çš„ç›®æ ‡ï¼</li>
<li>å®‰å…¨ï¼Œå¯ä»¥åˆ†ä¸ºä¸¤ç±»ï¼šä¸€ç±»æ˜¯åŠŸèƒ½ä¸Šçš„å®‰å…¨ï¼Œä¸€ç±»æ˜¯æ¶æ„ä¸Šçš„å®‰å…¨ï¼›</li>
<li>å¸¸è§çš„ XSS æ”»å‡»ã€CSRF æ”»å‡»ã€SQL æ³¨å…¥ã€Windows æ¼æ´ã€å¯†ç ç ´è§£ç­‰å‡ºç°æ˜¯å› ä¸ºç³»ç»Ÿå®ç°æœ‰æ¼æ´ï¼Œé»‘å®¢æœ‰äº†å¯ä¹˜ä¹‹æœºï¼›</li>
<li>ä¼ ç»Ÿçš„æ¶æ„å®‰å…¨ä¸»è¦ä¾é é˜²ç«å¢™ï¼Œé˜²ç«å¢™æœ€åŸºæœ¬çš„åŠŸèƒ½å°±æ˜¯éš”ç¦»ç½‘ç»œï¼Œé€šè¿‡å°†ç½‘ç»œåˆ’åˆ†æˆä¸åŒçš„åŒºåŸŸï¼Œåˆ¶å®šå‡ºä¸åŒåŒºåŸŸä¹‹é—´çš„è®¿é—®æ§åˆ¶ç­–ç•¥æ¥æ§åˆ¶ä¸åŒä¿¡ä»»ç¨‹åº¦åŒºåŸŸé—´ä¼ é€çš„æ•°æ®æµ!</li>
</ol>
<h3 id="æ¶æ„è®¾è®¡ä¸‰åŸåˆ™"><a href="#æ¶æ„è®¾è®¡ä¸‰åŸåˆ™" class="headerlink" title="æ¶æ„è®¾è®¡ä¸‰åŸåˆ™"></a>æ¶æ„è®¾è®¡ä¸‰åŸåˆ™</h3><ol>
<li>æ¶æ„è®¾è®¡æ²¡æœ‰åƒç¼–ç¨‹è¯­è¨€é‚£æ ·çš„è¯­æ³•æ¥è¿›è¡Œçº¦æŸï¼Œæ›´å¤šçš„æ—¶å€™æ˜¯é¢å¯¹å¤šç§å¯èƒ½æ€§æ—¶è¿›è¡Œé€‰æ‹©ï¼</li>
<li>æ¶æ„è®¾è®¡éµå¾ªå¦‚ä¸‹åŸåˆ™ï¼Œå°†æœ‰åŠ©äºåšå‡ºæœ€å¥½çš„é€‰æ‹©ï¼š<ul>
<li><strong>åˆé€‚åŸåˆ™</strong></li>
<li><strong>ç®€å•åŸåˆ™</strong></li>
<li><strong>æ¼”åŒ–åŸåˆ™</strong></li>
</ul>
</li>
<li>åˆé€‚ä¼˜äºä¸šç•Œé¢†å…ˆï¼ŒçœŸæ­£ä¼˜ç§€çš„æ¶æ„éƒ½æ˜¯åœ¨ä¼ä¸šå½“å‰äººåŠ›ã€æ¡ä»¶ã€ä¸šåŠ¡ç­‰å„ç§çº¦æŸä¸‹è®¾è®¡å‡ºæ¥çš„ï¼Œèƒ½å¤Ÿåˆç†åœ°å°†èµ„æºæ•´åˆåœ¨ä¸€èµ·å¹¶å‘æŒ¥å‡ºæœ€å¤§åŠŸæ•ˆï¼Œå¹¶ä¸”èƒ½å¤Ÿå¿«é€Ÿè½åœ°æ‰æ˜¯çœŸæ­£çš„åˆé€‚ï¼›</li>
<li>æŒ‘æˆ˜å’Œè¸©å‘éƒ½æ˜¯æ¶æ„è®¾è®¡éå¸¸å…³é”®çš„ä¿ƒè¿›å› ç´ ï¼Œå•çº¯é æ‹è„‘è¢‹æˆ–è€…å¤´è„‘é£æš´ï¼Œæ˜¯ä¸å¯èƒ½å’ŒçœŸæ­£å®æˆ˜ç›¸æ¯”çš„ï¼</li>
<li>ç®€å•ä¼˜äºå¤æ‚ï¼Œåœ¨è½¯ä»¶é¢†åŸŸå¤æ‚ä»£è¡¨çš„ä¸æ˜¯ä¼˜ç§€è€Œæ˜¯é—®é¢˜ã€‚æ¯•ç«Ÿå®šä½ä¸€ä¸ªå¤æ‚ç³»ç»Ÿä¸­çš„é—®é¢˜æ€»æ˜¯æ¯”ç®€å•ç³»ç»Ÿæ›´åŠ å›°éš¾ï¼›</li>
<li>æ¼”åŒ–ä¼˜äºä¸€æ­¥åˆ°ä½ï¼Œè½¯ä»¶æ¶æ„éœ€è¦æ ¹æ®ä¸šåŠ¡çš„å‘å±•è€Œä¸æ–­å˜åŒ–ï¼›</li>
<li>è½¯ä»¶æ¶æ„è®¾è®¡æµç¨‹ï¼š<ol>
<li>è®¾è®¡å‡ºæ¥çš„æ¶æ„è¦æ»¡è¶³å½“æ—¶çš„ä¸šåŠ¡éœ€è¦ï¼›</li>
<li>æ¶æ„è¦ä¸æ–­åœ°åœ¨å®é™…åº”ç”¨è¿‡ç¨‹ä¸­è¿­ä»£ï¼Œä¿ç•™ä¼˜ç§€çš„è®¾è®¡ï¼Œä¿®å¤æœ‰ç¼ºé™·çš„è®¾è®¡ï¼Œæ”¹æ­£é”™è¯¯çš„è®¾è®¡ï¼Œå»æ‰æ— ç”¨çš„è®¾è®¡ï¼Œä½¿å¾—æ¶æ„é€æ¸å®Œå–„</li>
<li>å½“ä¸šåŠ¡å‘ç”Ÿå˜åŒ–æ—¶ï¼Œæ¶æ„è¦æ‰©å±•ã€é‡æ„ï¼Œç”šè‡³é‡å†™ã€‚ä»£ç ä¹Ÿè®¸ä¼šé‡å†™ï¼Œä½†æœ‰ä»·å€¼çš„ç»éªŒã€æ•™è®­ã€é€»è¾‘ã€è®¾è®¡ç­‰ï¼ˆç±»ä¼¼ç”Ÿç‰©ä½“å†…çš„åŸºå› ï¼‰å´å¯ä»¥åœ¨æ–°æ¶æ„ä¸­å»¶ç»­</li>
</ol>
</li>
<li>åˆé€‚ä¼˜äºå…ˆè¿›&gt;æ¼”åŒ–ä¼˜äºä¸€æ­¥åˆ°ä½&gt;ç®€å•ä¼˜äºå¤æ‚ï¼</li>
<li>éœ€æ±‚é©±åŠ¨æŠ€æœ¯çš„åˆ›æ–°æ¼”åŒ–ï¼›æŠ€æœ¯åå“ºä¸šåŠ¡çš„å‘å±•å‡çº§ã€‚</li>
</ol>
<h2 id="æ¶æ„è®¾è®¡æµç¨‹"><a href="#æ¶æ„è®¾è®¡æµç¨‹" class="headerlink" title="æ¶æ„è®¾è®¡æµç¨‹"></a>æ¶æ„è®¾è®¡æµç¨‹</h2><h3 id="è¯†åˆ«å¤æ‚åº¦"><a href="#è¯†åˆ«å¤æ‚åº¦" class="headerlink" title="è¯†åˆ«å¤æ‚åº¦"></a>è¯†åˆ«å¤æ‚åº¦</h3><ol>
<li>åªæœ‰æ­£ç¡®åˆ†æå‡ºäº†ç³»ç»Ÿçš„å¤æ‚æ€§ï¼Œåç»­çš„æ¶æ„è®¾è®¡æ–¹æ¡ˆæ‰ä¸ä¼šåç¦»æ–¹å‘ï¼›</li>
<li>æ¶æ„çš„å¤æ‚åº¦ä¸»è¦æ¥æºäºâ€œé«˜æ€§èƒ½â€â€œé«˜å¯ç”¨â€â€œå¯æ‰©å±•â€ç­‰å‡ ä¸ªæ–¹é¢ï¼Œåœ¨å…·ä½“åˆ¤æ–­å¤ æ‚æ€§çš„æ—¶å€™ï¼Œä¸èƒ½ç”Ÿæ¬ç¡¬å¥—ï¼›</li>
<li>æ¶ˆæ¯é˜Ÿåˆ—ç³»ç»Ÿå¯ä»¥å®Œæˆå­ç³»ç»Ÿçš„è§£è€¦ï¼›</li>
<li>æ¶ˆæ¯é˜Ÿåˆ—çš„å¤æ‚æ€§ä¸»è¦ä½“ç°åœ¨ï¼š<ul>
<li>é«˜æ€§èƒ½æ¶ˆæ¯è¯»å–</li>
<li>é«˜å¯ç”¨æ¶ˆæ¯å†™å…¥</li>
<li>é«˜å¯ç”¨æ¶ˆæ¯å­˜å‚¨</li>
<li>é«˜å¯ç”¨æ¶ˆæ¯è¯»å–</li>
</ul>
</li>
<li><strong>nginxè´Ÿè½½å‡è¡¡æ€§èƒ½æ˜¯3ä¸‡å·¦å³ï¼›mcçš„è¯»å–æ€§èƒ½5ä¸‡å·¦å³ï¼›kafkaå·ç§°ç™¾ä¸‡çº§ï¼›zookeeperå†™å…¥è¯»å–2ä¸‡ä»¥ä¸Šï¼›httpè¯·æ±‚è®¿é—®å¤§æ¦‚åœ¨2ä¸‡å·¦å³ï¼›</strong></li>
<li>ç³»ç»Ÿå¤æ‚æ€§çš„åˆ†ææµç¨‹ï¼š<ol>
<li>æ„å»ºå¤æ‚åº¦çš„æ¥æºæ¸…å•â€”â€”é«˜æ€§èƒ½ã€å¯ç”¨æ€§ã€æ‰©å±•æ€§ã€å®‰å…¨ã€ä½æˆæœ¬ã€è§„æ¨¡ç­‰</li>
<li>ç»“åˆéœ€æ±‚ã€æŠ€æœ¯ã€å›¢é˜Ÿã€èµ„æºç­‰å¯¹ä¸Šè¿°å¤æ‚åº¦é€ä¸€åˆ†ææ˜¯å¦éœ€è¦ï¼Ÿæ˜¯å¦å…³é”®ï¼Ÿ</li>
<li>æŒ‰ç…§ä¸Šè¿°çš„åˆ†æç»“è®ºï¼Œå¾—åˆ°å¤æ‚åº¦æŒ‰ç…§ä¼˜å…ˆçº§çš„æ’åºæ¸…å•ï¼Œè¶Šæ˜¯æ’åœ¨å‰é¢çš„å¤æ‚åº¦ï¼Œå°±è¶Šå…³é”®ï¼Œå°±è¶Šä¼˜å…ˆè§£å†³</li>
</ol>
</li>
<li>æ¶æ„å¸ˆéœ€è¦äº”é¡¹èƒ½åŠ›ï¼š<ul>
<li>æŠ€æœ¯</li>
<li>æ²Ÿé€š</li>
<li>æ¨åŠ¨</li>
<li>ç®¡ç†</li>
<li>æ’•é€¼</li>
</ul>
</li>
</ol>
<h3 id="è®¾è®¡å¤‡é€‰æ–¹æ¡ˆ"><a href="#è®¾è®¡å¤‡é€‰æ–¹æ¡ˆ" class="headerlink" title="è®¾è®¡å¤‡é€‰æ–¹æ¡ˆ"></a>è®¾è®¡å¤‡é€‰æ–¹æ¡ˆ</h3><ol>
<li>æˆç†Ÿçš„æ¶æ„å¸ˆéœ€è¦å¯¹å·²ç»å­˜åœ¨çš„æŠ€æœ¯éå¸¸ç†Ÿæ‚‰ï¼Œå¯¹å·²ç»ç»è¿‡éªŒè¯çš„æ¶æ„æ¨¡å¼çƒ‚ç†Ÿäºå¿ƒï¼Œç„¶åæ ¹æ®è‡ªå·±å¯¹ä¸šåŠ¡çš„ç†è§£ï¼ŒæŒ‘é€‰åˆé€‚çš„æ¶æ„æ¨¡å¼è¿›è¡Œç»„åˆï¼Œå†å¯¹ç»„åˆåçš„æ–¹æ¡ˆè¿›è¡Œä¿®æ”¹å’Œè°ƒæ•´ï¼›</li>
<li>æˆç†Ÿçš„æŠ€æœ¯ï¼ˆéƒ¨åˆ†ï¼‰ï¼š<ul>
<li>NoSQLï¼ŒKey-Value çš„å­˜å‚¨å’Œæ•°æ®åº“çš„ç´¢å¼•å…¶å®æ˜¯ç±»ä¼¼çš„ï¼ŒMemcache åªæ˜¯æŠŠæ•°æ®åº“çš„ç´¢å¼•ç‹¬ç«‹å‡ºæ¥åšæˆäº†ä¸€ä¸ªç¼“å­˜ç³»ç»Ÿ</li>
<li>Hadoop ï¼Œå¤§æ–‡ä»¶å­˜å‚¨æ–¹æ¡ˆï¼ŒåŸºç¡€å…¶å®æ˜¯é›†ç¾¤æ–¹æ¡ˆ + æ•°æ®å¤åˆ¶æ–¹æ¡ˆ</li>
<li>Docker è™šæ‹ŸåŒ–ï¼ŒåŸºç¡€æ˜¯ LXCï¼ˆLinux Containersï¼‰</li>
<li>LevelDB ï¼Œæ–‡ä»¶å­˜å‚¨ç»“æ„æ˜¯ Skip List</li>
</ul>
</li>
<li>æ¶æ„å¸ˆéœ€è¦è®¾è®¡å¤šä¸ªå¤‡é€‰æ–¹æ¡ˆï¼Œå¤‡é€‰æ–¹æ¡ˆçš„æ•°é‡ä»¥ 3 ~ 5 ä¸ªä¸ºæœ€ä½³è€Œä¸”å¤‡é€‰æ–¹æ¡ˆçš„å·®å¼‚è¦æ¯”è¾ƒæ˜æ˜¾ï¼›å½“ç„¶å¤‡é€‰æ–¹æ¡ˆçš„æŠ€æœ¯ä¸è¦åªå±€é™äºå·²ç»ç†Ÿæ‚‰çš„æŠ€æœ¯ï¼›</li>
<li>å¤‡é€‰é˜¶æ®µå…³æ³¨çš„æ˜¯æŠ€æœ¯é€‰å‹ï¼Œè€Œä¸æ˜¯æŠ€æœ¯ç»†èŠ‚ï¼ŒæŠ€æœ¯é€‰å‹çš„å·®å¼‚è¦æ¯”è¾ƒæ˜æ˜¾ï¼</li>
<li>æ¶æ„è®¾è®¡å¤‡é€‰æ–¹æ¡ˆçš„ å·¥ä½œæ›´å¤šçš„æ˜¯ä»éœ€æ±‚ã€å›¢é˜Ÿã€æŠ€æœ¯ã€èµ„æºç­‰ç»¼åˆæƒ…å†µå‡ºå‘ï¼Œå¯¹ä¸»æµã€æˆç†Ÿçš„æ¶æ„æ¨¡å¼è¿›è¡Œé€‰æ‹©ã€ç»„åˆã€è°ƒæ•´ã€åˆ›æ–°ã€‚</li>
</ol>
<h3 id="è¯„ä¼°å’Œé€‰æ‹©å¤‡é€‰æ–¹æ¡ˆ"><a href="#è¯„ä¼°å’Œé€‰æ‹©å¤‡é€‰æ–¹æ¡ˆ" class="headerlink" title="è¯„ä¼°å’Œé€‰æ‹©å¤‡é€‰æ–¹æ¡ˆ"></a>è¯„ä¼°å’Œé€‰æ‹©å¤‡é€‰æ–¹æ¡ˆ</h3><ol>
<li>åˆ—å‡ºæˆ‘ä»¬éœ€è¦å…³æ³¨çš„è´¨é‡å±æ€§ç‚¹ï¼Œç„¶ååˆ†åˆ«ä»è¿™äº›è´¨é‡å±æ€§çš„ç»´åº¦å»è¯„ä¼°æ¯ä¸ªæ–¹æ¡ˆï¼Œå†ç»¼åˆæŒ‘é€‰é€‚åˆå½“æ—¶æƒ…å†µçš„æœ€ä¼˜æ–¹æ¡ˆï¼›</li>
<li>å¸¸è§çš„æ–¹æ¡ˆè´¨é‡å±æ€§ç‚¹æœ‰ï¼š<ul>
<li>æ€§èƒ½</li>
<li>å¯ç”¨æ€§</li>
<li>ç¡¬ä»¶æˆæœ¬</li>
<li>é¡¹ç›®æŠ•å…¥</li>
<li>å¤æ‚åº¦</li>
<li>å®‰å…¨æ€§</li>
<li>å¯æ‰©å±•æ€§ç­‰</li>
</ul>
</li>
<li>æ²¡æœ‰å“ªä¸ªæ–¹æ¡ˆæ˜¯å®Œç¾çš„ï¼Œæå°‘å‡ºç°æŸä¸ªæ–¹æ¡ˆåœ¨æ‰€æœ‰å¯¹æ¯”ç»´åº¦ä¸Šéƒ½æ˜¯æœ€ä¼˜çš„ï¼›</li>
<li>æ¶æ„å¸ˆç»¼åˆå½“å‰çš„ä¸šåŠ¡å‘å±•æƒ…å†µã€å›¢é˜Ÿäººå‘˜è§„æ¨¡å’ŒæŠ€èƒ½ã€ä¸šåŠ¡å‘å±•é¢„æµ‹ç­‰å› ç´ ï¼Œå°†è´¨é‡å±æ€§æŒ‰ç…§ä¼˜å…ˆçº§æ’åºï¼Œé¦–å…ˆæŒ‘é€‰æ»¡è¶³ç¬¬ä¸€ä¼˜å…ˆçº§çš„ï¼Œå¦‚æœæ–¹æ¡ˆéƒ½æ»¡è¶³ï¼Œé‚£å°±å†çœ‹ç¬¬äºŒä¼˜å…ˆçº§â€¦â€¦ä»¥æ­¤ç±»æ¨ã€‚</li>
</ol>
<h3 id="è¯¦ç»†æ–¹æ¡ˆè®¾è®¡"><a href="#è¯¦ç»†æ–¹æ¡ˆè®¾è®¡" class="headerlink" title="è¯¦ç»†æ–¹æ¡ˆè®¾è®¡"></a>è¯¦ç»†æ–¹æ¡ˆè®¾è®¡</h3><ol>
<li>è¯¦ç»†æ–¹æ¡ˆè®¾è®¡å°±æ˜¯å°†æ–¹æ¡ˆæ¶‰åŠçš„å…³é”®æŠ€æœ¯ç»†èŠ‚ç»™ç¡®å®šä¸‹æ¥ï¼›</li>
<li>æ¶æ„å¸ˆä¸ä½†è¦è¿›è¡Œå¤‡é€‰æ–¹æ¡ˆè®¾è®¡å’Œé€‰å‹ï¼Œè¿˜éœ€è¦å¯¹å¤‡é€‰æ–¹æ¡ˆçš„å…³é”®ç»†èŠ‚æœ‰è¾ƒæ·±å…¥çš„ç†è§£ï¼›</li>
<li>é€šè¿‡åˆ†æ­¥éª¤ã€åˆ†é˜¶æ®µã€åˆ†ç³»ç»Ÿç­‰æ–¹å¼ï¼Œå°½é‡é™ä½æ–¹æ¡ˆå¤æ‚åº¦ï¼Œæ–¹æ¡ˆæœ¬èº«çš„å¤æ‚åº¦è¶Šé«˜ï¼ŒæŸä¸ªç»†èŠ‚æ¨ç¿»æ•´ä¸ªæ–¹æ¡ˆçš„å¯èƒ½æ€§å°±è¶Šé«˜ï¼Œé€‚å½“é™ä½å¤æ‚æ€§ï¼Œå¯ä»¥å‡å°‘è¿™ç§é£é™©ï¼›</li>
<li>Nginx çš„è´Ÿè½½å‡è¡¡ç­–ç•¥ï¼š<ul>
<li>è½®è¯¢ï¼ˆé»˜è®¤ï¼‰â€”â€”æ¯ä¸ªè¯·æ±‚æŒ‰æ—¶é—´é¡ºåºé€ä¸€åˆ†é…åˆ°ä¸åŒçš„åç«¯æœåŠ¡å™¨ï¼Œåç«¯æœåŠ¡å™¨åˆ†é…çš„è¯·æ±‚æ•°åŸºæœ¬ä¸€è‡´ï¼Œå¦‚æœåç«¯æœåŠ¡å™¨â€œdown æ‰â€ï¼Œèƒ½è‡ªåŠ¨å‰”é™¤</li>
<li>åŠ æƒè½®è¯¢â€”â€”æ ¹æ®æƒé‡æ¥è¿›è¡Œè½®è¯¢ï¼Œæƒé‡é«˜çš„æœåŠ¡å™¨åˆ†é…çš„è¯·æ±‚æ›´å¤šï¼Œä¸»è¦é€‚åº”äºåç«¯æœåŠ¡å™¨æ€§èƒ½ä¸å‡çš„æƒ…å†µï¼Œå¦‚æ–°è€æœåŠ¡å™¨æ··ç”¨</li>
<li>ip_hashâ€”â€”æ¯ä¸ªè¯·æ±‚æŒ‰è®¿é—® IP çš„ hash ç»“æœåˆ†é…ï¼Œè¿™æ ·æ¯ä¸ªè®¿å®¢å›ºå®šè®¿é—®ä¸€ä¸ªåç«¯æœåŠ¡å™¨ï¼Œä¸»è¦ç”¨äºè§£å†³ session çš„é—®é¢˜ï¼Œå¦‚è´­ç‰©è½¦ç±»çš„åº”ç”¨</li>
<li>fairâ€”â€”æŒ‰åç«¯æœåŠ¡å™¨çš„å“åº”æ—¶é—´æ¥åˆ†é…è¯·æ±‚ï¼Œå“åº”æ—¶é—´çŸ­çš„ä¼˜å…ˆåˆ†é…ï¼Œèƒ½å¤Ÿæœ€å¤§åŒ–åœ°å¹³è¡¡å„åç«¯æœåŠ¡å™¨çš„å‹åŠ›ï¼Œå¯ä»¥é€‚ç”¨äºåç«¯æœåŠ¡å™¨æ€§èƒ½ä¸å‡è¡¡çš„æƒ…å†µï¼Œä¹Ÿå¯ä»¥é˜²æ­¢æŸå°åç«¯æœåŠ¡å™¨æ€§èƒ½ä¸è¶³çš„æƒ…å†µä¸‹è¿˜ç»§ç»­æ¥æ”¶åŒæ ·å¤šçš„è¯·æ±‚ä»è€Œé€ æˆé›ªå´©æ•ˆåº”</li>
<li>url_hashâ€”â€”æŒ‰è®¿é—® URL çš„ hash ç»“æœæ¥åˆ†é…è¯·æ±‚ï¼Œæ¯ä¸ª URL å®šå‘åˆ°åŒä¸€ä¸ªåç«¯æœåŠ¡å™¨ï¼Œé€‚ç”¨äºåç«¯æœåŠ¡å™¨èƒ½å¤Ÿå°† URL çš„å“åº”ç»“æœç¼“å­˜çš„æƒ…å†µ</li>
</ul>
</li>
<li>ç»†åŒ–æ›´å¤šçš„è®¾è®¡ç‚¹ï¼š<ul>
<li>æ•°æ®åº“è¡¨å¦‚ä½•è®¾è®¡</li>
<li>æ•°æ®å¦‚ä½•å¤åˆ¶</li>
<li>ä¸»å¤‡æœåŠ¡å™¨å¦‚ä½•å€’æ¢</li>
<li>ä¸šåŠ¡æœåŠ¡å™¨å¦‚ä½•å†™å…¥æ¶ˆæ¯</li>
<li>ä¸šåŠ¡æœåŠ¡å™¨å¦‚ä½•è¯»å–æ¶ˆæ¯</li>
<li>ä¸šåŠ¡æœåŠ¡å™¨å’Œæ¶ˆæ¯é˜Ÿåˆ—æœåŠ¡å™¨ä¹‹é—´çš„é€šä¿¡åè®®å¦‚ä½•è®¾è®¡</li>
</ul>
</li>
<li>æŠ€æœ¯å­˜åœ¨å°±æ˜¯åˆç†çš„ï¼Œåªæ˜¯æ¯ä¸ªæœ‰æ¯ä¸ªæŠ€æœ¯çš„ä½¿ç”¨ç‚¹ï¼Œæ¶æ„å¸ˆåº”è¯¥å¯¹å¸¸è§çš„æŠ€æœ¯æ ˆåŸç†éå¸¸æ¸…æ¥šï¼ŒçŸ¥é“ä»€ä¹ˆæ—¶å€™åº”è¯¥ä½¿ç”¨ä»€ä¹ˆæŠ€æœ¯ï¼›</li>
<li>æ¶æ„å¸ˆä¸ä»…éœ€è¦å¹¿åº¦è¿˜éœ€è¦æ·±åº¦ï¼Œä¸èƒ½ä»…ä»…åœç•™åœ¨PPTä¸Šï¼</li>
</ol>
<h2 id="æˆç†Ÿæ¨¡å¼"><a href="#æˆç†Ÿæ¨¡å¼" class="headerlink" title="æˆç†Ÿæ¨¡å¼"></a>æˆç†Ÿæ¨¡å¼</h2><h3 id="é«˜æ€§èƒ½æ•°æ®åº“-è¯»å†™åˆ†ç¦»"><a href="#é«˜æ€§èƒ½æ•°æ®åº“-è¯»å†™åˆ†ç¦»" class="headerlink" title="é«˜æ€§èƒ½æ•°æ®åº“-è¯»å†™åˆ†ç¦»"></a>é«˜æ€§èƒ½æ•°æ®åº“-è¯»å†™åˆ†ç¦»</h3><ol>
<li>åšæ¶æ„è®¾è®¡ä¸»è¦éƒ½æ˜¯åŸºäºå·²æœ‰çš„æˆç†Ÿæ¨¡å¼ï¼Œç»“åˆä¸šåŠ¡å’Œå›¢é˜Ÿçš„å…·ä½“æƒ…å†µï¼Œè¿›è¡Œä¸€å®šçš„ä¼˜åŒ–æˆ–è€…è°ƒæ•´ï¼›</li>
<li>å…³ç³»æ•°æ®åº“ç”±äºå…¶ ACID çš„ç‰¹æ€§å’ŒåŠŸèƒ½å¼ºå¤§çš„ SQL æŸ¥è¯¢ï¼Œç›®å‰è¿˜æ˜¯å„ç§ä¸šåŠ¡ç³»ç»Ÿä¸­å…³é”®å’Œæ ¸å¿ƒçš„å­˜å‚¨ç³»ç»Ÿï¼Œå¾ˆå¤šåœºæ™¯ä¸‹é«˜æ€§èƒ½çš„è®¾è®¡æœ€æ ¸å¿ƒçš„éƒ¨åˆ†å°±æ˜¯å…³ç³»æ•°æ®åº“çš„è®¾è®¡ï¼›</li>
<li>æµ·é‡ç”¨æˆ·åŠ ä¸Šæµ·é‡æ•°æ®å¯¼è‡´å•ä¸ªæ•°æ®åº“æœåŠ¡å™¨å·²ç»éš¾ä»¥æ»¡è¶³ä¸šåŠ¡éœ€è¦ï¼Œå¿…é¡»è€ƒè™‘æ•°æ®åº“é›†ç¾¤çš„æ–¹å¼æ¥æå‡æ€§èƒ½ï¼›</li>
<li>é«˜æ€§èƒ½æ•°æ®åº“é›†ç¾¤çš„æ¨¡å¼æœ‰ï¼š<ul>
<li>è¯»å†™åˆ†ç¦»â€”â€”å°†è®¿é—®å‹åŠ›åˆ†æ•£åˆ°é›†ç¾¤ä¸­çš„å¤šä¸ªèŠ‚ç‚¹ï¼Œä½†æ˜¯æ²¡æœ‰åˆ†æ•£å­˜å‚¨å‹åŠ›</li>
<li>åˆ†åº“åˆ†è¡¨â€”â€”æ—¢å¯ä»¥åˆ†æ•£è®¿é—®å‹åŠ›ï¼Œåˆå¯ä»¥åˆ†æ•£å­˜å‚¨å‹åŠ›</li>
</ul>
</li>
<li>è¯»å†™åˆ†ç¦»çš„åŸºæœ¬å®ç°ï¼š<ul>
<li>æ•°æ®åº“æœåŠ¡å™¨æ­å»ºä¸»ä»é›†ç¾¤ï¼Œä¸€ä¸»ä¸€ä»ã€ä¸€ä¸»å¤šä»éƒ½å¯ä»¥</li>
<li>æ•°æ®åº“ä¸»æœºè´Ÿè´£è¯»å†™æ“ä½œï¼Œä»æœºåªè´Ÿè´£è¯»æ“ä½œ</li>
<li>æ•°æ®åº“ä¸»æœºé€šè¿‡å¤åˆ¶å°†æ•°æ®åŒæ­¥åˆ°ä»æœºï¼Œæ¯å°æ•°æ®åº“æœåŠ¡å™¨éƒ½å­˜å‚¨äº†æ‰€æœ‰çš„ä¸šåŠ¡æ•°æ®</li>
<li>ä¸šåŠ¡æœåŠ¡å™¨å°†å†™æ“ä½œå‘ç»™æ•°æ®åº“ä¸»æœºï¼Œå°†è¯»æ“ä½œå‘ç»™æ•°æ®åº“ä»æœº</li>
</ul>
</li>
<li>è¯»å†™åˆ†ç¦»å¯¼è‡´çš„é—®é¢˜ä¸»è¦æ˜¯å¤åˆ¶å»¶è¿Ÿï¼Œè§£å†³ä¸»ä»å¤åˆ¶å»¶è¿Ÿçš„å¸¸è§æ–¹æ³•ï¼š<ul>
<li>å†™æ“ä½œåçš„è¯»æ“ä½œæŒ‡å®šå‘ç»™æ•°æ®åº“ä¸»æœåŠ¡å™¨</li>
<li>è¯»ä»æœºå¤±è´¥åå†è¯»ä¸€æ¬¡ä¸»æœº</li>
<li>å…³é”®ä¸šåŠ¡è¯»å†™æ“ä½œå…¨éƒ¨æŒ‡å‘ä¸»æœºï¼Œéå…³é”®ä¸šåŠ¡é‡‡ç”¨è¯»å†™åˆ†ç¦»</li>
</ul>
</li>
<li>ä¸æ˜¯è¯´ä¸€æœ‰æ€§èƒ½é—®é¢˜å°±ä¸Šè¯»å†™åˆ†ç¦»ï¼Œè€Œæ˜¯åº”è¯¥å…ˆä¼˜åŒ–ï¼Œä¾‹å¦‚ä¼˜åŒ–æ…¢æŸ¥è¯¢ï¼Œè°ƒæ•´ä¸åˆç†çš„ä¸šåŠ¡é€»è¾‘ï¼Œå¼•å…¥ç¼“å­˜ç­‰ï¼Œåªæœ‰ç¡®å®šç³»ç»Ÿæ²¡æœ‰ä¼˜åŒ–ç©ºé—´åï¼Œæ‰è€ƒè™‘è¯»å†™åˆ†ç¦»æˆ–è€…é›†ç¾¤ï¼›</li>
</ol>
<h3 id="é«˜æ€§èƒ½æ•°æ®åº“é›†ç¾¤ï¼šåˆ†åº“åˆ†è¡¨"><a href="#é«˜æ€§èƒ½æ•°æ®åº“é›†ç¾¤ï¼šåˆ†åº“åˆ†è¡¨" class="headerlink" title="é«˜æ€§èƒ½æ•°æ®åº“é›†ç¾¤ï¼šåˆ†åº“åˆ†è¡¨"></a>é«˜æ€§èƒ½æ•°æ®åº“é›†ç¾¤ï¼šåˆ†åº“åˆ†è¡¨</h3><ol>
<li>å½“æ•°æ®é‡è¾¾åˆ°åƒä¸‡ç”šè‡³ä¸Šäº¿æ¡çš„æ—¶å€™ï¼Œå•å°æ•°æ®åº“æœåŠ¡å™¨çš„å­˜å‚¨èƒ½åŠ›ä¼šæˆä¸ºç³»ç»Ÿçš„ç“¶é¢ˆï¼Œä¸»è¦ä½“ç°åœ¨è¿™å‡ ä¸ªæ–¹é¢ï¼š<ul>
<li>æ•°æ®é‡å¤ªå¤§ï¼Œè¯»å†™çš„æ€§èƒ½ä¼šä¸‹é™ï¼Œå³ä½¿æœ‰ç´¢å¼•ï¼Œç´¢å¼•ä¹Ÿä¼šå˜å¾—å¾ˆå¤§ï¼Œæ€§èƒ½åŒæ ·ä¼šä¸‹é™</li>
<li>æ•°æ®æ–‡ä»¶ä¼šå˜å¾—å¾ˆå¤§ï¼Œæ•°æ®åº“å¤‡ä»½å’Œæ¢å¤éœ€è¦è€—è´¹å¾ˆé•¿æ—¶é—´</li>
<li>æ•°æ®æ–‡ä»¶è¶Šå¤§ï¼Œæç«¯æƒ…å†µä¸‹ä¸¢å¤±æ•°æ®çš„é£é™©è¶Šé«˜</li>
</ul>
</li>
<li>å•ä¸ªæ•°æ®åº“æœåŠ¡å™¨å­˜å‚¨çš„æ•°æ®é‡ä¸èƒ½å¤ªå¤§ï¼Œéœ€è¦æ§åˆ¶åœ¨ä¸€å®šçš„èŒƒå›´å†…ï¼›</li>
<li>åˆ†æ•£å­˜å‚¨çš„æ–¹æ³•â€œåˆ†åº“åˆ†è¡¨â€åŒ…å«äº†â€œåˆ†åº“â€å’Œâ€œåˆ†è¡¨â€ï¼š<ul>
<li>ä¸šåŠ¡åˆ†åº“â€”â€”æŒ‰ç…§ä¸šåŠ¡æ¨¡å—å°†æ•°æ®åˆ†æ•£åˆ°ä¸åŒçš„æ•°æ®åº“æœåŠ¡å™¨</li>
<li>å‚ç›´åˆ†è¡¨å’Œæ°´å¹³åˆ†è¡¨â€”â€”å‚ç›´åˆ†è¡¨é€‚åˆå°†è¡¨ä¸­æŸäº›ä¸å¸¸ç”¨ä¸”å äº†å¤§é‡ç©ºé—´çš„åˆ—æ‹†åˆ†å‡ºå»ï¼›æ°´å¹³åˆ†è¡¨é€‚åˆè¡¨è¡Œæ•°ç‰¹åˆ«å¤§çš„è¡¨</li>
</ul>
</li>
<li>ä¼˜åŒ–æµç¨‹ï¼š<ol>
<li>åšç¡¬ä»¶ä¼˜åŒ–</li>
<li>å…ˆåšæ•°æ®åº“æœåŠ¡å™¨çš„è°ƒä¼˜æ“ä½œï¼Œä¾‹å¦‚å¢åŠ ç´¢å¼•</li>
<li>å¼•å…¥ç¼“å­˜æŠ€æœ¯ï¼Œå‡å°‘æ•°æ®åº“å‹åŠ›</li>
<li>ç¨‹åºä¸æ•°æ®åº“è¡¨ä¼˜åŒ–ï¼Œé‡æ„</li>
<li>åœ¨è¿™äº›æ“ä½œéƒ½ä¸èƒ½å¤§å¹…åº¦ä¼˜åŒ–æ€§èƒ½çš„æƒ…å†µä¸‹ï¼Œä¸èƒ½æ»¡è¶³å°†æ¥çš„å‘å±•ï¼Œå†è€ƒè™‘åˆ†åº“åˆ†è¡¨</li>
</ol>
</li>
<li>åˆ†åº“åˆ†è¡¨çš„å®æ–½å‰æï¼š<ul>
<li>æ•°æ®åº“å­˜åœ¨æ€§èƒ½é—®é¢˜ï¼Œä¸”ç”¨åŠ ç´¢å¼•ã€æ…¢æŸ¥è¯¢ä¼˜åŒ–ã€ç¼“å­˜å’Œè¯»å†™åˆ†ç¦»éƒ½æ— æ³•å½»åº•è§£å†³é—®é¢˜</li>
<li>å¤æ‚æŸ¥è¯¢å¯¹åº”çš„å•è¡¨æ•°æ®é‡çº§ä¸€èˆ¬è¶…è¿‡åƒä¸‡ä»¥ä¸Šï¼Œæˆ–ç®€å•æŸ¥è¯¢çš„å•è¡¨æ•°æ®é‡çº§ä¸€èˆ¬è¶…è¿‡5000ä¸‡ä»¥ä¸Š</li>
<li>å¯¹ä¸€è‡´æ€§è¦æ±‚ä¸æ˜¯ç‰¹åˆ«é«˜ï¼Œåªè¦æ±‚æœ€ç»ˆä¸€è‡´æ€§</li>
<li>ç”¨hadoopç­‰å¤§æ•°æ®æŠ€æœ¯å› ä¸ºä¸šåŠ¡éœ€æ±‚ã€æŠ€æœ¯æˆæœ¬ã€æ—¶é—´æˆæœ¬æ— æ³•è§£å†³è¯¥é—®é¢˜</li>
<li>ä¸šåŠ¡å¯¹æ•°æ®çš„æ“ä½œä¸»è¦é›†ä¸­åœ¨æŸäº›å­—æ®µä¸Šï¼Œæ¯”è¾ƒé€‚åˆå‚ç›´åˆ†è¡¨</li>
<li>ä¸šåŠ¡å¯¹æ•°æ®çš„æ“ä½œåœ¨æ•´ä¸ªè¡¨å±‚é¢è¾ƒå‡åŒ€åˆ†å¸ƒï¼Œé€‚åˆæ°´å¹³åˆ†è¡¨</li>
</ul>
</li>
<li>éµå¾ªæ¼”åŒ–åŸåˆ™ï¼Œä¸šåŠ¡çœŸæ­£å‘å±•èµ·æ¥å†è€ƒè™‘åˆ†åº“åˆ†è¡¨ï¼Œå¦åˆ™å°±ç–²äºç»´æŠ¤çš„å¤æ‚åº¦ç­‰ç­‰ï¼</li>
</ol>
<h3 id="éå…³ç³»å‹æ•°æ®åº“NoSQL"><a href="#éå…³ç³»å‹æ•°æ®åº“NoSQL" class="headerlink" title="éå…³ç³»å‹æ•°æ®åº“NoSQL"></a>éå…³ç³»å‹æ•°æ®åº“NoSQL</h3><ol>
<li>å¸¸è§çš„ NoSQLæŒ‰ç…§ç±»å‹åˆ†ç±»æœ‰ï¼š<ul>
<li>K-V å­˜å‚¨â€”â€”è§£å†³å…³ç³»æ•°æ®åº“æ— æ³•å­˜å‚¨æ•°æ®ç»“æ„çš„é—®é¢˜ï¼Œä»¥ Redis ä¸ºä»£è¡¨</li>
<li>æ–‡æ¡£æ•°æ®åº“â€”â€”è§£å†³å…³ç³»æ•°æ®åº“å¼º schema çº¦æŸçš„é—®é¢˜ï¼Œä»¥ MongoDB ä¸ºä»£è¡¨</li>
<li>åˆ—å¼æ•°æ®åº“â€”â€”è§£å†³å…³ç³»æ•°æ®åº“å¤§æ•°æ®åœºæ™¯ä¸‹çš„ I/O é—®é¢˜ï¼Œä»¥ HBase ä¸ºä»£è¡¨</li>
<li>å…¨æ–‡æœç´¢å¼•æ“â€”â€”è§£å†³å…³ç³»æ•°æ®åº“çš„å…¨æ–‡æœç´¢æ€§èƒ½é—®é¢˜ï¼Œä»¥ Elasticsearch ä¸ºä»£è¡¨</li>
</ul>
</li>
<li>Redis çš„ç¼ºç‚¹ä¸»è¦ä½“ç°åœ¨å¹¶ä¸æ”¯æŒå®Œæ•´çš„ ACID äº‹åŠ¡ï¼ŒRedis è™½ç„¶æä¾›äº‹åŠ¡åŠŸèƒ½ï¼Œä½† Redis çš„äº‹åŠ¡å’Œå…³ç³»æ•°æ®åº“çš„äº‹åŠ¡ä¸å¯åŒæ—¥è€Œè¯­ï¼ŒRedis çš„äº‹åŠ¡åªèƒ½ä¿è¯éš”ç¦»æ€§å’Œä¸€è‡´æ€§ï¼ˆI å’Œ Cï¼‰ï¼Œæ— æ³•ä¿è¯åŸå­æ€§å’ŒæŒä¹…æ€§ï¼ˆA å’Œ Dï¼‰ï¼›</li>
<li>æ–‡æ¡£æ•°æ®åº“æœ€å¤§çš„ç‰¹ç‚¹å°±æ˜¯ no-schemaï¼Œå¯ä»¥å­˜å‚¨å’Œè¯»å–ä»»æ„çš„æ•°æ®ã€‚ç›®å‰ç»å¤§éƒ¨åˆ†æ–‡æ¡£æ•°æ®åº“å­˜å‚¨çš„æ•°æ®æ ¼å¼æ˜¯ JSONï¼ˆæˆ–è€… BSONï¼‰ï¼›</li>
<li>åˆ—å¼æ•°æ®åº“å°±æ˜¯æŒ‰ç…§åˆ—æ¥å­˜å‚¨æ•°æ®çš„æ•°æ®åº“ï¼š<ul>
<li>ä¸šåŠ¡åŒæ—¶è¯»å–å¤šä¸ªåˆ—æ—¶æ•ˆç‡é«˜</li>
<li>èƒ½å¤Ÿä¸€æ¬¡æ€§å®Œæˆå¯¹ä¸€è¡Œä¸­çš„å¤šä¸ªåˆ—çš„å†™æ“ä½œï¼Œä¿è¯äº†é’ˆå¯¹è¡Œæ•°æ®å†™æ“ä½œçš„åŸå­æ€§å’Œä¸€è‡´æ€§</li>
<li>åˆ—å¼å­˜å‚¨å…·å¤‡æ›´é«˜çš„å­˜å‚¨å‹ç¼©æ¯”ï¼Œèƒ½å¤ŸèŠ‚çœæ›´å¤šçš„å­˜å‚¨ç©ºé—´</li>
<li>åˆ—å¼å­˜å‚¨åº”ç”¨åœ¨ç¦»çº¿çš„å¤§æ•°æ®åˆ†æå’Œç»Ÿè®¡åœºæ™¯ä¸­</li>
</ul>
</li>
<li>å…¨æ–‡æœç´¢çš„æ¡ä»¶å¯ä»¥éšæ„æ’åˆ—ç»„åˆï¼Œå¦‚æœé€šè¿‡ç´¢å¼•æ¥æ»¡è¶³ï¼Œåˆ™ç´¢å¼•çš„æ•°é‡ä¼šéå¸¸å¤šï¼›å…¨æ–‡æœç´¢çš„æ¨¡ç³ŠåŒ¹é…æ–¹å¼ï¼Œç´¢å¼•æ— æ³•æ»¡è¶³ï¼Œåªèƒ½ç”¨ like æŸ¥è¯¢ï¼Œè€Œ like æŸ¥è¯¢æ˜¯æ•´è¡¨æ‰«æï¼Œæ•ˆç‡éå¸¸ä½ï¼›</li>
<li>å…¨æ–‡æœç´¢å¼•æ“çš„æŠ€æœ¯åŸç†è¢«ç§°ä¸ºâ€œå€’æ’ç´¢å¼•â€ï¼ˆInverted indexï¼‰ï¼Œä¹Ÿå¸¸è¢«ç§°ä¸ºåå‘ç´¢å¼•ã€ç½®å…¥æ¡£æ¡ˆæˆ–åå‘æ¡£æ¡ˆï¼Œæ˜¯ä¸€ç§ç´¢å¼•æ–¹æ³•ï¼Œå…¶åŸºæœ¬åŸç†æ˜¯å»ºç«‹å•è¯åˆ°æ–‡æ¡£çš„ç´¢å¼•ï¼›</li>
<li>NoSQLæ•°æ®åº“çš„é€‰å‹æŒ‡æ ‡ï¼šæ•°æ®é‡ã€å¹¶å‘é‡ã€å®æ—¶æ€§ã€ä¸€è‡´æ€§è¦æ±‚ã€è¯»å†™åˆ†å¸ƒå’Œç±»å‹ã€å®‰å…¨æ€§ã€è¿ç»´æ€§ç­‰ï¼›</li>
<li>éœ€æ±‚é©±åŠ¨æ¶æ„ï¼Œæ— è®ºé€‰ç”¨RDB/NoSQL/DRDBï¼Œä¸€å®šæ˜¯ä»¥éœ€æ±‚ä¸ºå¯¼å‘ï¼Œæœ€ç»ˆçš„æ•°æ®å­˜å‚¨æ–¹æ¡ˆä¹Ÿå¿…ç„¶æ˜¯å„ç§æƒè¡¡çš„è®¾è®¡å¦¥åï¼</li>
</ol>
<h3 id="é«˜æ€§èƒ½ç¼“å­˜æ¶æ„"><a href="#é«˜æ€§èƒ½ç¼“å­˜æ¶æ„" class="headerlink" title="é«˜æ€§èƒ½ç¼“å­˜æ¶æ„"></a>é«˜æ€§èƒ½ç¼“å­˜æ¶æ„</h3><ol>
<li>åœ¨æŸäº›å¤æ‚çš„ä¸šåŠ¡åœºæ™¯ä¸‹ï¼Œå•çº¯ä¾é å­˜å‚¨ç³»ç»Ÿçš„æ€§èƒ½æå‡ä¸å¤Ÿçš„ï¼Œå…¸å‹çš„åœºæ™¯æœ‰ï¼š<ul>
<li>éœ€è¦ç»è¿‡å¤æ‚è¿ç®—åå¾—å‡ºçš„æ•°æ®ï¼Œå­˜å‚¨ç³»ç»Ÿæ— èƒ½ä¸ºåŠ›</li>
<li>è¯»å¤šå†™å°‘çš„æ•°æ®ï¼Œå­˜å‚¨ç³»ç»Ÿæœ‰å¿ƒæ— åŠ›</li>
</ul>
</li>
<li>ç¼“å­˜åŸºæœ¬åŸç†æ˜¯å°†å¯èƒ½é‡å¤ä½¿ç”¨çš„æ•°æ®æ”¾åˆ°å†…å­˜ä¸­ï¼Œä¸€æ¬¡ç”Ÿæˆã€å¤šæ¬¡ä½¿ç”¨ï¼Œé¿å…æ¯æ¬¡ä½¿ç”¨éƒ½å»è®¿é—®å­˜å‚¨ç³»ç»Ÿï¼›</li>
<li>ç¼“å­˜ç©¿é€â€”â€”ç¼“å­˜æ²¡æœ‰å‘æŒ¥ä½œç”¨ï¼Œä¸šåŠ¡ç³»ç»Ÿè™½ç„¶å»ç¼“å­˜æŸ¥è¯¢æ•°æ®ï¼Œä½†ç¼“å­˜ä¸­æ²¡æœ‰æ•°æ®ï¼Œä¸šåŠ¡ç³»ç»Ÿéœ€è¦å†æ¬¡å»å­˜å‚¨ç³»ç»ŸæŸ¥è¯¢æ•°æ®ï¼›</li>
<li>ç¼“å­˜é›ªå´©â€”â€”å½“ç¼“å­˜å¤±æ•ˆï¼ˆè¿‡æœŸï¼‰åå¼•èµ·ç³»ç»Ÿæ€§èƒ½æ€¥å‰§ä¸‹é™çš„æƒ…å†µï¼›</li>
<li>ç¼“å­˜é›ªå´©çš„å¸¸è§è§£å†³æ–¹æ³•æœ‰æ›´æ–°é”æœºåˆ¶å’Œåå°æ›´æ–°æœºåˆ¶ï¼š<ul>
<li>å¯¹ç¼“å­˜æ›´æ–°æ“ä½œè¿›è¡ŒåŠ é”ä¿æŠ¤ï¼Œä¿è¯åªæœ‰ä¸€ä¸ªçº¿ç¨‹èƒ½å¤Ÿè¿›è¡Œç¼“å­˜æ›´æ–°ï¼Œæœªèƒ½è·å–æ›´æ–°é”çš„çº¿ç¨‹è¦ä¹ˆç­‰å¾…é”é‡Šæ”¾åé‡æ–°è¯»å–ç¼“å­˜ï¼Œè¦ä¹ˆå°±è¿”å›ç©ºå€¼æˆ–è€…é»˜è®¤å€¼ã€‚åˆ†å¸ƒå¼é›†ç¾¤çš„ä¸šåŠ¡ç³»ç»Ÿè¦å®ç°æ›´æ–°é”æœºåˆ¶ï¼Œéœ€è¦ç”¨åˆ°åˆ†å¸ƒå¼é”ï¼Œå¦‚ ZooKeeper</li>
<li>ç”±åå°çº¿ç¨‹æ¥æ›´æ–°ç¼“å­˜ï¼Œè€Œä¸æ˜¯ç”±ä¸šåŠ¡çº¿ç¨‹æ¥æ›´æ–°ç¼“å­˜ï¼Œç¼“å­˜æœ¬èº«çš„æœ‰æ•ˆæœŸè®¾ç½®ä¸ºæ°¸ä¹…ï¼Œåå°çº¿ç¨‹å®šæ—¶æ›´æ–°ç¼“å­˜</li>
</ul>
</li>
<li>ç¼“å­˜çƒ­ç‚¹çš„è§£å†³æ–¹æ¡ˆå°±æ˜¯å¤åˆ¶å¤šä»½ç¼“å­˜å‰¯æœ¬ï¼Œå°†è¯·æ±‚åˆ†æ•£åˆ°å¤šä¸ªç¼“å­˜æœåŠ¡å™¨ä¸Šï¼Œå‡è½»ç¼“å­˜çƒ­ç‚¹å¯¼è‡´çš„å•å°ç¼“å­˜æœåŠ¡å™¨å‹åŠ›ï¼›</li>
<li>å¯¹äºç¼“å­˜é›ªå´©é—®é¢˜é‡‡å–åŒkeyç­–ç•¥ï¼šè¦ç¼“å­˜çš„keyè¿‡æœŸæ—¶é—´æ˜¯tï¼Œkey1æ²¡æœ‰è¿‡æœŸæ—¶é—´ã€‚æ¯æ¬¡ç¼“å­˜è¯»å–ä¸åˆ°keyæ—¶å°±è¿”å›key1çš„å†…å®¹ï¼Œç„¶åè§¦å‘ä¸€ä¸ªäº‹ä»¶ã€‚è¿™ä¸ªäº‹ä»¶ä¼šåŒæ—¶æ›´æ–°keyå’Œkey1ï¼</li>
</ol>
<h3 id="å•æœåŠ¡å™¨é«˜æ€§èƒ½"><a href="#å•æœåŠ¡å™¨é«˜æ€§èƒ½" class="headerlink" title="å•æœåŠ¡å™¨é«˜æ€§èƒ½"></a>å•æœåŠ¡å™¨é«˜æ€§èƒ½</h3><ol>
<li>é«˜æ€§èƒ½æ¶æ„è®¾è®¡ä¸»è¦é›†ä¸­åœ¨ä¸¤æ–¹é¢ï¼š<ul>
<li>å°½é‡æå‡å•æœåŠ¡å™¨çš„æ€§èƒ½ï¼Œå°†å•æœåŠ¡å™¨çš„æ€§èƒ½å‘æŒ¥åˆ°æè‡´</li>
<li>å¦‚æœå•æœåŠ¡å™¨æ— æ³•æ”¯æ’‘æ€§èƒ½ï¼Œè®¾è®¡æœåŠ¡å™¨é›†ç¾¤æ–¹æ¡ˆ</li>
</ul>
</li>
<li>å•æœåŠ¡å™¨é«˜æ€§èƒ½çš„å…³é”®ä¹‹ä¸€å°±æ˜¯æœåŠ¡å™¨é‡‡å–çš„å¹¶å‘æ¨¡å‹ï¼Œè®¾è®¡è¦ç‚¹ï¼ˆéƒ½å’Œæ“ä½œç³»ç»Ÿçš„ I/O æ¨¡å‹åŠè¿›ç¨‹æ¨¡å‹ç›¸å…³ï¼‰ï¼š<ul>
<li>æœåŠ¡å™¨å¦‚ä½•ç®¡ç†è¿æ¥</li>
<li>æœåŠ¡å™¨å¦‚ä½•å¤„ç†è¯·æ±‚</li>
</ul>
</li>
<li>PPCï¼ˆProcess Per Connectionï¼‰æŒ‡æ¯æ¬¡æœ‰æ–°çš„è¿æ¥å°±æ–°å»ºä¸€ä¸ªè¿›ç¨‹å»ä¸“é—¨å¤„ç†è¿™ä¸ªè¿æ¥çš„è¯·æ±‚ï¼Œè¿™æ˜¯ä¼ ç»Ÿçš„ UNIX ç½‘ç»œæœåŠ¡å™¨æ‰€é‡‡ç”¨çš„æ¨¡å‹ï¼›</li>
<li>TPCï¼ˆThread Per Connectionï¼‰æŒ‡æ¯æ¬¡æœ‰æ–°çš„è¿æ¥å°±æ–°å»ºä¸€ä¸ªçº¿ç¨‹å»ä¸“é—¨å¤„ç†è¿™ä¸ªè¿æ¥çš„è¯·æ±‚ï¼›</li>
</ol>
<h3 id="è´Ÿè½½å‡è¡¡"><a href="#è´Ÿè½½å‡è¡¡" class="headerlink" title="è´Ÿè½½å‡è¡¡"></a>è´Ÿè½½å‡è¡¡</h3><ol>
<li>é›†ç¾¤è®¾è®¡çš„å¤æ‚åº¦ä¸»è¦ä½“ç°åœ¨ä»»åŠ¡åˆ†é…è¿™éƒ¨åˆ†ï¼Œéœ€è¦è®¾è®¡åˆç†çš„ä»»åŠ¡åˆ†é…ç­–ç•¥ï¼Œå°†è®¡ç®—ä»»åŠ¡åˆ†é…åˆ°å¤šå°æœåŠ¡å™¨ä¸Šæ‰§è¡Œï¼›</li>
<li>ä»»åŠ¡åˆ†é…å™¨ä¹Ÿç§°ä¸ºâ€œè´Ÿè½½å‡è¡¡å™¨â€ï¼Œä¸åªæ˜¯ä¸ºäº†è®¡ç®—å•å…ƒçš„è´Ÿè½½è¾¾åˆ°å‡è¡¡çŠ¶æ€ï¼›</li>
<li>è´Ÿè½½å‡è¡¡æœ‰DNS è´Ÿè½½å‡è¡¡ã€ç¡¬ä»¶è´Ÿè½½å‡è¡¡å’Œè½¯ä»¶è´Ÿè½½å‡è¡¡ï¼š<ul>
<li>DNS è´Ÿè½½å‡è¡¡â€”â€”ä¸€èˆ¬ç”¨æ¥å®ç°åœ°ç†çº§åˆ«çš„å‡è¡¡ï¼Œæœ¬è´¨æ˜¯ DNS è§£æåŒä¸€ä¸ªåŸŸåå¯ä»¥è¿”å›ä¸åŒçš„ IP åœ°å€</li>
<li>ç¡¬ä»¶è´Ÿè½½å‡è¡¡â€”â€”é€šè¿‡å•ç‹¬çš„ç¡¬ä»¶è®¾å¤‡æ¥å®ç°è´Ÿè½½å‡è¡¡åŠŸèƒ½ï¼Œç›®å‰ä¸šç•Œå…¸å‹çš„ç¡¬ä»¶è´Ÿè½½å‡è¡¡è®¾å¤‡æœ‰F5 å’ŒA10</li>
<li>è½¯ä»¶è´Ÿè½½å‡è¡¡é€šè¿‡è´Ÿè½½å‡è¡¡è½¯ä»¶æ¥å®ç°è´Ÿè½½å‡è¡¡åŠŸèƒ½ï¼Œå¸¸è§çš„æœ‰ Nginx å’Œ LVSï¼Œå…¶ä¸­ Nginx æ˜¯è½¯ä»¶çš„ 7 å±‚è´Ÿè½½å‡è¡¡ï¼ŒLVS æ˜¯ Linux å†…æ ¸çš„ 4 å±‚è´Ÿè½½å‡è¡¡</li>
</ul>
</li>
<li><strong>DNS è´Ÿè½½å‡è¡¡ç”¨äºå®ç°åœ°ç†çº§åˆ«çš„è´Ÿè½½å‡è¡¡ï¼›ç¡¬ä»¶è´Ÿè½½å‡è¡¡ç”¨äºå®ç°é›†ç¾¤çº§åˆ«çš„è´Ÿè½½å‡è¡¡ï¼›è½¯ä»¶è´Ÿè½½å‡è¡¡ç”¨äºå®ç°æœºå™¨çº§åˆ«çš„è´Ÿè½½å‡è¡¡ï¼</strong></li>
<li>è´Ÿè½½å‡è¡¡ç®—æ³•åˆ†ç±»ï¼š<ul>
<li>ä»»åŠ¡å¹³åˆ†ç±»â€”â€”å°†æ”¶åˆ°çš„ä»»åŠ¡å¹³å‡åˆ†é…ç»™æœåŠ¡å™¨è¿›è¡Œå¤„ç†</li>
<li>è´Ÿè½½å‡è¡¡ç±»â€”â€”æ ¹æ®æœåŠ¡å™¨çš„è´Ÿè½½æ¥è¿›è¡Œåˆ†é…</li>
<li>æ€§èƒ½æœ€ä¼˜ç±»â€”â€”æ ¹æ®æœåŠ¡å™¨çš„å“åº”æ—¶é—´æ¥è¿›è¡Œä»»åŠ¡åˆ†é…ï¼Œä¼˜å…ˆå°†æ–°ä»»åŠ¡åˆ†é…ç»™å“åº”æœ€å¿«çš„æœåŠ¡å™¨</li>
<li>Hash ç±»â€”â€”è´Ÿè½½å‡è¡¡ç³»ç»Ÿæ ¹æ®ä»»åŠ¡ä¸­çš„æŸäº›å…³é”®ä¿¡æ¯è¿›è¡Œ Hash è¿ç®—ï¼Œå°†ç›¸åŒ Hash å€¼çš„è¯·æ±‚åˆ†é…åˆ°åŒä¸€å°æœåŠ¡å™¨ä¸Š</li>
</ul>
</li>
</ol>
<h2 id="æ¶æ„ä¹‹è·¯"><a href="#æ¶æ„ä¹‹è·¯" class="headerlink" title="æ¶æ„ä¹‹è·¯"></a>æ¶æ„ä¹‹è·¯</h2><h3 id="CAP"><a href="#CAP" class="headerlink" title="CAP"></a>CAP</h3><ol>
<li>å¯¹äºä¸€ä¸ªåˆ†å¸ƒå¼è®¡ç®—ç³»ç»Ÿï¼Œä¸å¯èƒ½åŒæ—¶æ»¡è¶³ä¸€è‡´æ€§ï¼ˆConsistenceï¼‰ã€å¯ç”¨æ€§ï¼ˆAvailabilityï¼‰ã€åˆ†åŒºå®¹é”™æ€§ï¼ˆPartition Toleranceï¼‰ä¸‰ä¸ªè®¾è®¡çº¦æŸã€‚åªèƒ½ä¿è¯ä¸€è‡´æ€§ï¼ˆConsistenceï¼‰ã€å¯ç”¨æ€§ï¼ˆAvailabilityï¼‰ã€åˆ†åŒºå®¹é”™æ€§ï¼ˆPartition Toleranceï¼‰ä¸‰è€…ä¸­çš„ä¸¤ä¸ªï¼Œå¦å¤–ä¸€ä¸ªå¿…é¡»è¢«ç‰ºç‰²ï¼›</li>
<li>ä¸€è‡´æ€§ï¼ˆConsistencyï¼‰ï¼šå¯¹æŸä¸ªæŒ‡å®šçš„å®¢æˆ·ç«¯æ¥è¯´ï¼Œè¯»æ“ä½œä¿è¯èƒ½å¤Ÿè¿”å›æœ€æ–°çš„å†™æ“ä½œç»“æœï¼›</li>
<li>å¯ç”¨æ€§ï¼ˆAvailabilityï¼‰ï¼šéæ•…éšœçš„èŠ‚ç‚¹åœ¨åˆç†çš„æ—¶é—´å†…è¿”å›åˆç†çš„å“åº”ï¼ˆä¸æ˜¯é”™è¯¯å’Œè¶…æ—¶çš„å“åº”ï¼‰ï¼›</li>
<li>åˆ†åŒºå®¹å¿æ€§ï¼ˆPartition Toleranceï¼‰ï¼šå½“å‡ºç°ç½‘ç»œåˆ†åŒºåï¼Œç³»ç»Ÿèƒ½å¤Ÿç»§ç»­â€œå±¥è¡ŒèŒè´£â€ï¼›</li>
<li>åˆ†å¸ƒå¼ç³»ç»Ÿç†è®ºä¸Šä¸å¯èƒ½é€‰æ‹© CA æ¶æ„ï¼Œåªèƒ½é€‰æ‹© CP æˆ–è€… AP æ¶æ„ï¼</li>
<li>CAP å…³æ³¨çš„ç²’åº¦æ˜¯æ•°æ®ï¼Œè€Œä¸æ˜¯æ•´ä¸ªç³»ç»Ÿï¼›</li>
<li>CAP æ˜¯å¿½ç•¥ç½‘ç»œå»¶è¿Ÿçš„ï¼›</li>
<li>æ­£å¸¸è¿è¡Œæƒ…å†µä¸‹ï¼Œä¸å­˜åœ¨ CP å’Œ AP çš„é€‰æ‹©ï¼Œå¯ä»¥åŒæ—¶æ»¡è¶³ CAï¼›</li>
<li>æ”¾å¼ƒå¹¶ä¸ç­‰äºä»€ä¹ˆéƒ½ä¸åšï¼Œéœ€è¦ä¸ºåˆ†åŒºæ¢å¤ååšå‡†å¤‡ï¼›</li>
</ol>
<h3 id="FMEAæ–¹æ³•"><a href="#FMEAæ–¹æ³•" class="headerlink" title="FMEAæ–¹æ³•"></a>FMEAæ–¹æ³•</h3><ol>
<li><p>é«˜å¯ç”¨è¾ƒé«˜æ€§èƒ½æ›´å¤æ‚äº›ï¼Œä¸»è¦åœ¨äºå¼‚å¸¸çš„åœºæ™¯å¾ˆå¤šï¼Œåªè¦æœ‰ä¸€ä¸ªåœºæ™¯é—æ¼ï¼Œæ¶æ„è®¾è®¡å°±å­˜åœ¨å¯ç”¨æ€§éšæ‚£ï¼›</p>
</li>
<li><p>å¯èƒ½å‡ºé”™çš„äº‹æƒ…æœ€ç»ˆéƒ½ä¼šå‡ºé”™ï¼Œæ¶æ„éšæ‚£æ€»æœ‰ä¸€å¤©ä¼šå¯¼è‡´ç³»ç»Ÿæ•…éšœï¼›</p>
</li>
<li><p>FMEAï¼ˆFailure mode and effects analysisï¼Œæ•…éšœæ¨¡å¼ä¸å½±å“åˆ†æï¼‰æ˜¯ä¸€ç§åœ¨å„è¡Œå„ä¸šéƒ½æœ‰å¹¿æ³›åº”ç”¨çš„å¯ç”¨æ€§åˆ†ææ–¹æ³•ï¼Œé€šè¿‡å¯¹ç³»ç»ŸèŒƒå›´å†…æ½œåœ¨çš„æ•…éšœæ¨¡å¼åŠ ä»¥åˆ†æï¼Œå¹¶æŒ‰ç…§ä¸¥é‡ç¨‹åº¦è¿›è¡Œåˆ†ç±»ï¼Œä»¥ç¡®å®šå¤±æ•ˆå¯¹äºç³»ç»Ÿçš„æœ€ç»ˆå½±å“ï¼›</p>
</li>
<li><p><strong>FMEA æ˜¯ä¸€å¥—åˆ†æå’Œæ€è€ƒçš„æ–¹æ³•ï¼Œè€Œä¸æ˜¯æŸä¸ªé¢†åŸŸçš„æŠ€èƒ½æˆ–è€…å·¥å…·ï¼</strong></p>
</li>
<li><p>åœ¨æ¶æ„è®¾è®¡é¢†åŸŸï¼ŒFMEA çš„å…·ä½“åˆ†ææ–¹æ³•ï¼š</p>
<ul>
<li>ç»™å‡ºåˆå§‹çš„æ¶æ„è®¾è®¡å›¾</li>
<li>å‡è®¾æ¶æ„ä¸­æŸä¸ªéƒ¨ä»¶å‘ç”Ÿæ•…éšœ</li>
<li>åˆ†ææ­¤æ•…éšœå¯¹ç³»ç»ŸåŠŸèƒ½é€ æˆçš„å½±å“</li>
<li>æ ¹æ®åˆ†æç»“æœï¼Œåˆ¤æ–­æ¶æ„æ˜¯å¦éœ€è¦è¿›è¡Œä¼˜åŒ–</li>
</ul>
</li>
<li><p>FMEAåˆ†ææ–¹æ³•å°±æ˜¯ä½¿ç”¨ä¸€ä¸ªFMEAåˆ†æè¡¨ï¼Œè¯¥è¡¨æ ¼åŒ…å«äº†åŠŸèƒ½ç‚¹ã€æ•…éšœæ¨¡å¼ã€æ•…éšœå½±å“ã€ä¸¥é‡ç¨‹åº¦ã€æ•…éšœåŸå› ã€æ•…éšœæ¦‚ç‡ã€é£é™©ç¨‹åº¦ã€å·²æœ‰æªæ–½ã€è§„é¿æªæ–½ã€è§£å†³æªæ–½ã€åç»­è§„åˆ’ï¼š</p>
<ul>
<li>åŠŸèƒ½ç‚¹æ˜¯ä»ç”¨æˆ·çš„è§’åº¦æ¥æè¿°çš„ï¼Œè€Œä¸æ˜¯ä»ç³»ç»Ÿå„ä¸ªæ¨¡å—åŠŸèƒ½ç‚¹åˆ’åˆ†æ¥æè¿°çš„ã€‚æ¯”å¦‚å¯¹äºä¸€ä¸ªç”¨æˆ·ç®¡ç†ç³»ç»Ÿï¼Œä½¿ç”¨ FMEA åˆ†ææ—¶ â€œç™»å½•â€â€œæ³¨å†Œâ€æ‰æ˜¯åŠŸèƒ½ç‚¹ï¼Œè€Œç”¨æˆ·ç®¡ç†ç³»ç»Ÿä¸­çš„æ•°æ®åº“å­˜å‚¨åŠŸèƒ½ã€Redis ç¼“å­˜åŠŸèƒ½ä¸èƒ½ä½œä¸ºFMEA åˆ†æçš„åŠŸèƒ½ç‚¹</li>
<li>æ•…éšœæ¨¡å¼æ˜¯ç³»ç»Ÿä¼šå‡ºç°ä»€ä¹ˆæ ·çš„æ•…éšœï¼ŒåŒ…æ‹¬æ•…éšœç‚¹å’Œæ•…éšœå½¢å¼ã€‚åªéœ€è¦å‡è®¾å‡ºç°æŸç§æ•…éšœç°è±¡å³å¯ï¼Œæ³¨æ„æè¿°è¦å°½é‡ç²¾ç¡®ï¼Œå¤šä½¿ç”¨é‡åŒ–æè¿°ï¼Œé¿å…ä½¿ç”¨æ³›åŒ–çš„æè¿°</li>
<li>æ•…éšœå½±å“æ˜¯å½“å‘ç”Ÿæ•…éšœæ¨¡å¼ä¸­æè¿°çš„æ•…éšœæ—¶ï¼ŒåŠŸèƒ½ç‚¹å…·ä½“ä¼šå—åˆ°ä»€ä¹ˆå½±å“ã€‚è¦å°½é‡ç²¾ç¡®</li>
<li>ä¸¥é‡ç¨‹åº¦æ˜¯ç«™åœ¨ä¸šåŠ¡çš„è§’åº¦æ•…éšœçš„å½±å“ç¨‹åº¦ï¼Œä¸€èˆ¬åˆ†ä¸ºâ€œè‡´å‘½ / é«˜ / ä¸­ / ä½ / æ— â€äº”ä¸ªæ¡£æ¬¡ï¼ˆå­˜åœ¨äº‰è®®ï¼‰</li>
<li>æ•…éšœåŸå› æ˜¯åœ¨äºä¸ç®¡ä»€ä¹ˆæ•…éšœåŸå› ï¼Œæ•…éšœç°è±¡ç›¸åŒï¼Œå¯¹åŠŸèƒ½ç‚¹çš„å½±å“å°±ç›¸åŒ</li>
<li>æ•…éšœæ¦‚ç‡æ˜¯æŒ‡æŸä¸ªå…·ä½“æ•…éšœåŸå› å‘ç”Ÿçš„æ¦‚ç‡</li>
<li>é£é™©ç¨‹åº¦æ˜¯ç»¼åˆä¸¥é‡ç¨‹åº¦å’Œæ•…éšœæ¦‚ç‡æ¥ä¸€èµ·åˆ¤æ–­æŸä¸ªæ•…éšœçš„æœ€ç»ˆç­‰çº§</li>
<li>å·²æœ‰æªæ–½æ˜¯é’ˆå¯¹å…·ä½“çš„æ•…éšœåŸå› ï¼Œç³»ç»Ÿç°åœ¨æ˜¯å¦æä¾›äº†æŸäº›æªæ–½æ¥åº”å¯¹ï¼ŒåŒ…å«æ£€æµ‹å‘Šè­¦ã€å®¹é”™ã€è‡ªæ¢å¤ç­‰</li>
<li>è§„é¿æªæ–½æ˜¯ä¸ºäº†é™ä½æ•…éšœå‘ç”Ÿæ¦‚ç‡è€Œåšçš„ä¸€äº›äº‹æƒ…ï¼Œå¯ä»¥æ˜¯æŠ€æœ¯æ‰‹æ®µï¼Œä¹Ÿå¯ä»¥æ˜¯ç®¡ç†æ‰‹æ®µ</li>
<li>è§£å†³æªæ–½æ˜¯ä¸ºäº†èƒ½å¤Ÿè§£å†³é—®é¢˜è€Œåšçš„ä¸€äº›äº‹æƒ…ï¼Œä¸€èˆ¬éƒ½æ˜¯æŠ€æœ¯æ‰‹æ®µ</li>
<li>åç»­è§„åˆ’å¯ä»¥æ˜¯æŠ€æœ¯æ‰‹æ®µï¼Œä¹Ÿå¯ä»¥æ˜¯ç®¡ç†æ‰‹æ®µï¼›å¯ä»¥æ˜¯è§„é¿æªæ–½ï¼Œä¹Ÿå¯ä»¥æ˜¯è§£å†³æªæ–½</li>
</ul>
</li>
<li><p>FMEAåˆ†æè¡¨æ ·ä¾‹ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/3a3685cab4febda9cf4dbb45b7b077c2-402733" alt="FMEAåˆ†æè¡¨"></p>
</li>
<li><p>ç»è¿‡å¤šå¹´çš„æ¼”è¿›FMEAä»å®šæ€§å’Œå®šé‡ä¸¤ä¸ªç»´åº¦åˆ†åˆ«å»¶ä¼¸å‡ºäº†FMECAå’ŒFMEDAï¼›</p>
</li>
</ol>
<h3 id="å­˜å‚¨åŒæœºæ¶æ„æ¨¡å¼"><a href="#å­˜å‚¨åŒæœºæ¶æ„æ¨¡å¼" class="headerlink" title="å­˜å‚¨åŒæœºæ¶æ„æ¨¡å¼"></a>å­˜å‚¨åŒæœºæ¶æ„æ¨¡å¼</h3><ol>
<li>å­˜å‚¨é«˜å¯ç”¨æ–¹æ¡ˆçš„æœ¬è´¨éƒ½æ˜¯é€šè¿‡å°†æ•°æ®å¤åˆ¶åˆ°å¤šä¸ªå­˜å‚¨è®¾å¤‡ï¼Œé€šè¿‡æ•°æ®å†—ä½™çš„æ–¹å¼æ¥å®ç°é«˜å¯ç”¨ï¼Œå…¶å¤æ‚æ€§ä¸»è¦ä½“ç°åœ¨å¦‚ä½•åº”å¯¹å¤åˆ¶å»¶è¿Ÿå’Œä¸­æ–­å¯¼è‡´çš„æ•°æ®ä¸ä¸€è‡´é—®é¢˜ï¼›</li>
<li>å¸¸è§çš„é«˜å¯ç”¨å­˜å‚¨æ¶æ„æœ‰ä¸»å¤‡ã€ä¸»ä»ã€ä¸»ä¸»ã€é›†ç¾¤ã€åˆ†åŒºï¼›</li>
<li>ä¸»å¤‡å¤åˆ¶æ˜¯æœ€å¸¸è§ä¹Ÿæ˜¯æœ€ç®€å•çš„ä¸€ç§å­˜å‚¨é«˜å¯ç”¨æ–¹æ¡ˆï¼Œå‡ ä¹æ‰€æœ‰çš„å­˜å‚¨ç³»ç»Ÿéƒ½æä¾›äº†ä¸»å¤‡å¤åˆ¶çš„åŠŸèƒ½ï¼›</li>
<li>ä¸»ä»å¤åˆ¶æ˜¯ä¸»æœºè´Ÿè´£è¯»å†™æ“ä½œï¼Œä»æœºåªè´Ÿè´£è¯»æ“ä½œï¼Œä¸è´Ÿè´£å†™æ“ä½œï¼›</li>
<li>åŒæœºåˆ‡æ¢æ˜¯ç³»ç»Ÿè‡ªåŠ¨å†³å®šä¸»æœºè§’è‰²ï¼Œå¹¶å®Œæˆè§’è‰²åˆ‡æ¢ï¼›</li>
<li>ä¸­ä»‹å¼æŒ‡çš„æ˜¯åœ¨ä¸»å¤‡ä¸¤è€…ä¹‹å¤–å¼•å…¥ç¬¬ä¸‰æ–¹ä¸­ä»‹ï¼Œä¸»å¤‡æœºä¹‹é—´ä¸ç›´æ¥è¿æ¥ï¼Œè€Œéƒ½å»è¿æ¥ä¸­ä»‹ï¼Œå¹¶ä¸”é€šè¿‡ä¸­ä»‹æ¥ä¼ é€’çŠ¶æ€ä¿¡æ¯ï¼›</li>
<li>ä¸»ä¸»å¤åˆ¶æŒ‡çš„æ˜¯ä¸¤å°æœºå™¨éƒ½æ˜¯ä¸»æœºï¼Œäº’ç›¸å°†æ•°æ®å¤åˆ¶ç»™å¯¹æ–¹ï¼Œå®¢æˆ·ç«¯å¯ä»¥ä»»æ„æŒ‘é€‰å…¶ä¸­ä¸€å°æœºå™¨è¿›è¡Œè¯»å†™æ“ä½œï¼</li>
<li>é›†ç¾¤å°±æ˜¯å¤šå°æœºå™¨ç»„åˆåœ¨ä¸€èµ·å½¢æˆä¸€ä¸ªç»Ÿä¸€çš„ç³»ç»Ÿï¼›</li>
<li>ç›®å‰å¼€æºçš„æ•°æ®é›†ä¸­é›†ç¾¤ä»¥ ZooKeeper ä¸ºå…¸å‹ï¼ŒZooKeeper é€šè¿‡ ZAB ç®—æ³•æ¥è§£å†³ä¸Šè¿°æåˆ°çš„å‡ ä¸ªé—®é¢˜ï¼Œä½† ZAB ç®—æ³•çš„å¤æ‚åº¦æ˜¯å¾ˆé«˜çš„ï¼›</li>
<li>å¦‚æœé‡‡ç”¨è¿œè·ç¦»é›†ç¾¤ï¼Œç½‘ç»œæŠ–åŠ¨å’Œå»¶æ—¶å°±ä¼šå¯¹æ•´ä¸ªé›†ç¾¤æ€§èƒ½é€ æˆå½±å“ï¼</li>
</ol>
<h3 id="å¼‚åœ°å¤šæ´»ï¼ˆå¾ˆéš¾ï¼‰"><a href="#å¼‚åœ°å¤šæ´»ï¼ˆå¾ˆéš¾ï¼‰" class="headerlink" title="å¼‚åœ°å¤šæ´»ï¼ˆå¾ˆéš¾ï¼‰"></a>å¼‚åœ°å¤šæ´»ï¼ˆå¾ˆéš¾ï¼‰</h3><ol>
<li>å¦‚æœä¸šåŠ¡æœŸæœ›è¾¾åˆ°å³ä½¿åœ¨æ­¤ç±»ç¾éš¾æ€§æ•…éšœçš„æƒ…å†µä¸‹ï¼Œä¸šåŠ¡ä¹Ÿä¸å—å½±å“ï¼Œæˆ–è€…åœ¨å‡ åˆ†é’Ÿå†…å°±èƒ½å¤Ÿå¾ˆå¿«æ¢å¤ï¼Œé‚£ä¹ˆå°±éœ€è¦è®¾è®¡<strong>å¼‚åœ°å¤šæ´»æ¶æ„</strong>ï¼</li>
<li>å¼‚åœ°å¤šæ´»æ¶æ„ä¸­çš„å¼‚åœ°æ˜¯æŒ‡åœ°ç†ä½ç½®ä¸Šä¸åŒçš„åœ°æ–¹ï¼›å¤šæ´»æŒ‡ä¸åŒåœ°ç†ä½ç½®ä¸Šçš„ç³»ç»Ÿéƒ½èƒ½å¤Ÿæä¾›ä¸šåŠ¡æœåŠ¡ï¼›</li>
<li>å¼‚åœ°å¤šæ´»æ¶æ„æ ‡å‡†ï¼š<ul>
<li>æ­£å¸¸æƒ…å†µä¸‹ï¼Œç”¨æˆ·æ— è®ºè®¿é—®å“ªä¸€ä¸ªåœ°ç‚¹çš„ä¸šåŠ¡ç³»ç»Ÿï¼Œéƒ½èƒ½å¤Ÿå¾—åˆ°æ­£ç¡®çš„ä¸šåŠ¡æœåŠ¡</li>
<li>æŸä¸ªåœ°æ–¹ä¸šåŠ¡å¼‚å¸¸çš„æ—¶å€™ï¼Œç”¨æˆ·è®¿é—®å…¶ä»–åœ°æ–¹æ­£å¸¸çš„ä¸šåŠ¡ç³»ç»Ÿï¼Œèƒ½å¤Ÿå¾—åˆ°æ­£ç¡®çš„ä¸šåŠ¡æœåŠ¡</li>
</ul>
</li>
<li>å¼‚åœ°å¤šæ´»ä»£ä»·å¾ˆé«˜ï¼š<ul>
<li>ç³»ç»Ÿå¤æ‚åº¦ä¼šå‘ç”Ÿè´¨çš„å˜åŒ–ï¼Œéœ€è¦è®¾è®¡å¤æ‚çš„å¼‚åœ°å¤šæ´»æ¶æ„</li>
<li>æˆæœ¬ä¼šä¸Šå‡ï¼Œæ¯•ç«Ÿè¦å¤šåœ¨ä¸€ä¸ªæˆ–è€…å¤šä¸ªæœºæˆ¿æ­å»ºç‹¬ç«‹çš„ä¸€å¥—ä¸šåŠ¡ç³»ç»Ÿ</li>
</ul>
</li>
<li>æŒ‰ç…§åœ°ç†ä½ç½®ä¸Šçš„è·ç¦»åˆ’åˆ†ï¼Œå¼‚åœ°å¤šæ´»æ¶æ„å¯ä»¥åˆ†ä¸ºåŒåŸå¼‚åŒºã€è·¨åŸå¼‚åœ°ã€è·¨å›½å¼‚åœ°ï¼›</li>
<li>å¼‚åœ°å¤šæ´»çš„ä¸»è¦ç›®çš„è¿˜æ˜¯ä¸ºäº†å®¹ç¾ã€‚</li>
<li>å¼‚åœ°å¤šæ´»æŠ€å·§ï¼ˆé‡‡ç”¨å¤šç§æ‰‹æ®µï¼Œä¿è¯ç»å¤§éƒ¨åˆ†ç”¨æˆ·çš„æ ¸å¿ƒä¸šåŠ¡å¼‚åœ°å¤šæ´»ï¼‰ï¼š<ul>
<li>ä¿è¯æ ¸å¿ƒä¸šåŠ¡çš„å¼‚åœ°å¤šæ´»</li>
<li>ä¿è¯æ ¸å¿ƒæ•°æ®æœ€ç»ˆä¸€è‡´æ€§</li>
<li>é‡‡ç”¨å¤šç§æ‰‹æ®µåŒæ­¥æ•°æ®</li>
<li>åªä¿è¯ç»å¤§éƒ¨åˆ†ç”¨æˆ·çš„å¼‚åœ°å¤šæ´»</li>
</ul>
</li>
<li>è·¨åŸå¼‚åœ°å¤šæ´»æ¶æ„è®¾è®¡æ­¥éª¤ï¼š<ol>
<li>ä¸šåŠ¡åˆ†çº§â€”â€”æŒ‰ç…§ä¸€å®šçš„æ ‡å‡†å°†ä¸šåŠ¡è¿›è¡Œåˆ†çº§ï¼ŒæŒ‘é€‰å‡ºæ ¸å¿ƒä¸šåŠ¡</li>
<li>æ•°æ®åˆ†ç±»â€”â€”å¯¹æ ¸å¿ƒä¸šåŠ¡ç›¸å…³çš„æ•°æ®è¿›ä¸€æ­¥åˆ†æï¼Œåœ¨äºè¯†åˆ«æ‰€æœ‰çš„æ•°æ®ä»¥åŠæ•°æ®ç‰¹å¾</li>
<li>æ•°æ®åŒæ­¥â€”â€”æ ¹æ®ä¸åŒçš„æ•°æ®è®¾è®¡ä¸åŒçš„åŒæ­¥æ–¹æ¡ˆ</li>
<li>å¼‚å¸¸å¤„ç†â€”â€”ä¸€æ—¦å‡ºç°æç«¯å¼‚å¸¸çš„æƒ…å†µï¼Œæ€»æ˜¯ä¼šæœ‰éƒ¨åˆ†æ•°æ®å‡ºç°å¼‚å¸¸çš„ï¼Œåœ¨å‡ºç°é—®é¢˜æ—¶é‡‡å–ä»€ä¹ˆæªæ–½æ¥åº”å¯¹</li>
</ol>
</li>
</ol>
<h2 id="å¯æ‰©å±•æ¶æ„ï¼ˆä¼ ç»Ÿï¼‰"><a href="#å¯æ‰©å±•æ¶æ„ï¼ˆä¼ ç»Ÿï¼‰" class="headerlink" title="å¯æ‰©å±•æ¶æ„ï¼ˆä¼ ç»Ÿï¼‰"></a>å¯æ‰©å±•æ¶æ„ï¼ˆä¼ ç»Ÿï¼‰</h2><h3 id="éœ€æ±‚"><a href="#éœ€æ±‚" class="headerlink" title="éœ€æ±‚"></a>éœ€æ±‚</h3><ol>
<li>è½¯ä»¶ç³»ç»Ÿçš„å¯æ‰©å±•æ€§æ˜¯é­…åŠ›æ‰€åœ¨ï¼Œä¹Ÿæ˜¯éš¾ç‚¹æ‰€åœ¨ï¼›</li>
<li>åŸºæœ¬æ€æƒ³æ˜¯å°†åŸæ¥å¤§ä¸€ç»Ÿçš„ç³»ç»Ÿæ‹†åˆ†æˆå¤šä¸ªè§„æ¨¡å°çš„éƒ¨åˆ†ï¼Œæ‰©å±•æ—¶åªä¿®æ”¹å…¶ä¸­ä¸€éƒ¨åˆ†å³å¯ï¼Œæ— é¡»æ•´ä¸ªç³»ç»Ÿåˆ°å¤„éƒ½ä¿®æ”¹ï¼Œé€šè¿‡è¿™ç§æ–¹å¼æ¥å‡å°‘æ”¹åŠ¨èŒƒå›´ï¼Œé™ä½æ”¹åŠ¨é£é™©ï¼›</li>
<li>å¸¸è§çš„æ‹†åˆ†æ€è·¯æœ‰ï¼ˆæµç¨‹&gt;æœåŠ¡&gt;åŠŸèƒ½ï¼‰ï¼š<ul>
<li>é¢å‘æµç¨‹æ‹†åˆ†â€”â€”å°†æ•´ä¸ªä¸šåŠ¡æµç¨‹æ‹†åˆ†ä¸ºå‡ ä¸ªé˜¶æ®µ</li>
<li>é¢å‘æœåŠ¡æ‹†åˆ†â€”â€”å°†ç³»ç»Ÿæä¾›çš„æœåŠ¡æ‹†åˆ†ï¼Œæ¯ä¸ªæœåŠ¡ä½œä¸ºä¸€éƒ¨åˆ†</li>
<li>é¢å‘åŠŸèƒ½æ‹†åˆ†â€”â€”å°†ç³»ç»Ÿæä¾›çš„åŠŸèƒ½æ‹†åˆ†ï¼Œæ¯ä¸ªåŠŸèƒ½ä½œä¸ºä¸€éƒ¨åˆ†</li>
</ul>
</li>
<li>ä¸åŒçš„æ‹†åˆ†æ–¹å¼ï¼Œæœ¬è´¨ä¸Šå†³å®šäº†ç³»ç»Ÿçš„æ‰©å±•æ–¹å¼ã€‚æ ¹æ®æ‹†åˆ†æ–¹å¼ï¼Œå…¸å‹çš„å¯æ‰©å±•ç³»ç»Ÿæ¶æ„æœ‰ï¼š<ul>
<li>æµç¨‹â€”â€”åˆ†å±‚æ¶æ„</li>
<li>æœåŠ¡â€”â€”SOAã€å¾®æœåŠ¡</li>
<li>åŠŸèƒ½â€”â€”å¾®å†…æ ¸æ¶æ„</li>
</ul>
</li>
</ol>
<h3 id="åˆ†å±‚æ¶æ„"><a href="#åˆ†å±‚æ¶æ„" class="headerlink" title="åˆ†å±‚æ¶æ„"></a>åˆ†å±‚æ¶æ„</h3><ol>
<li>åˆ†å±‚æ¶æ„ä¹Ÿç§°ä¸ºNå±‚æ¶æ„ï¼Œæ ¹æ®ä¸åŒçš„åˆ’åˆ†ç»´åº¦å’Œå¯¹è±¡ï¼Œå¯ä»¥å¾—åˆ°å¤šç§ä¸åŒçš„åˆ†å±‚æ¶æ„ï¼›</li>
<li>C/Sæ¶æ„ã€B/Sæ¶æ„åˆ’åˆ†çš„å¯¹è±¡æ˜¯æ•´ä¸ªä¸šåŠ¡ç³»ç»Ÿï¼Œåˆ’åˆ†çš„ç»´åº¦æ˜¯ç”¨æˆ·äº¤äº’ï¼Œå³å°†å’Œç”¨æˆ·äº¤äº’çš„éƒ¨åˆ†ç‹¬ç«‹ä¸ºä¸€å±‚ï¼›</li>
<li>MVCæ¶æ„ã€MVPæ¶æ„åˆ’åˆ†çš„å¯¹è±¡æ˜¯å•ä¸ªä¸šåŠ¡å­ç³»ç»Ÿï¼Œåˆ’åˆ†çš„ç»´åº¦æ˜¯èŒè´£ï¼Œå°†ä¸åŒçš„èŒè´£åˆ’åˆ†åˆ°ç‹¬ç«‹å±‚ï¼Œä½†æ˜¯å„å±‚çš„ä¾èµ–å…³ç³»æ¯”è¾ƒçµæ´»ï¼›</li>
<li>é€»è¾‘åˆ†å±‚æ¶æ„åˆ’åˆ†çš„å¯¹è±¡å¯ä»¥æ˜¯å•ä¸ªä¸šåŠ¡å­ç³»ç»Ÿï¼Œä¹Ÿå¯ä»¥æ˜¯æ•´ä¸ªä¸šåŠ¡ç³»ç»Ÿï¼Œåˆ’åˆ†çš„ç»´åº¦ä¹Ÿæ˜¯èŒè´£ã€‚å…¸å‹çš„æœ‰æ“ä½œç³»ç»Ÿå†…æ ¸æ¶æ„ã€TCP/IPæ¶æ„ã€J2EEç³»ç»Ÿæ¶æ„ï¼›</li>
<li>åˆ†å±‚æ¶æ„è®¾è®¡æœ€æ ¸å¿ƒçš„å°±æ˜¯éœ€è¦<strong>ä¿è¯å„å±‚ä¹‹é—´çš„å·®å¼‚è¶³å¤Ÿæ¸…æ™°ï¼Œè¾¹ç•Œè¶³å¤Ÿæ˜æ˜¾ï¼Œè®©äººçœ‹åˆ°æ¶æ„å›¾ä¹‹åå°±èƒ½çœ‹æ‡‚æ•´ä¸ªæ¶æ„ï¼</strong></li>
<li>åˆ†å±‚æ¶æ„è®¾è®¡çš„æœ¬è´¨æ˜¯éš”ç¦»å…³æ³¨ç‚¹ï¼Œå³æ¯ä¸ªå±‚ä¸­çš„ç»„ä»¶åªä¼šå¤„ç†æœ¬å±‚çš„é€»è¾‘ã€‚æ¯”å¦‚è¯´ï¼Œå±•ç¤ºå±‚åªéœ€è¦å¤„ç†å±•ç¤ºé€»è¾‘ã€ä¸šåŠ¡å±‚åªéœ€è¦å¤„ç†ä¸šåŠ¡é€»è¾‘ï¼›</li>
<li>åˆ†å±‚æ¶æ„çš„ç³»ç»Ÿçš„ç‰¹ç‚¹å°±æ˜¯å±‚å±‚ä¼ é€’ï¼Œä¸€æ—¦å±‚çº§ç¡®å®šï¼Œæ•´ä¸ªä¸šåŠ¡æµç¨‹å°±æŒ‰ç…§å±‚è¿›è¡Œä¾æ¬¡ä¼ é€’ï¼Œä¸èƒ½åœ¨å±‚ä¹‹é—´è¿›è¡Œè·³è·ƒã€‚<strong>å¼ºåˆ¶å°†åˆ†å±‚ä¾èµ–é™å®šä¸ºä¸¤ä¸¤ä¾èµ–</strong>ï¼Œé™ä½äº†æ•´ä½“ç³»ç»Ÿçš„å¤æ‚åº¦ï¼›</li>
<li>åˆ†å±‚æ¶æ„çš„ç¼ºç‚¹å°±æ˜¯æ€§èƒ½ï¼Œå› ä¸ºæ¯ä¸€æ¬¡ä¸šåŠ¡è¯·æ±‚éƒ½éœ€è¦ç©¿é€æ‰€æœ‰çš„æ¶æ„åˆ†å±‚ï¼Œæœ‰äº›æ˜¯å¤šäºçš„ï¼Œå¤šå°‘éƒ½ä¼šæœ‰ç‚¹æ€§èƒ½æµªè´¹ï¼</li>
</ol>
<h3 id="SOA"><a href="#SOA" class="headerlink" title="SOA"></a>SOA</h3><ol>
<li>SOAï¼ˆService Oriented Architectureï¼Œé¢å‘æœåŠ¡çš„æ¶æ„ï¼‰åœ¨å¾ˆå¤šä¼ä¸šæˆåŠŸæ¨å¹¿ï¼Œä½†æ˜¯åœ¨äº’è”ç½‘è¡Œä¸šæ²¡æœ‰å¤§è§„æ¨¡åœ°å®è·µå’Œæ¨å¹¿ï¼›</li>
<li>ESBï¼ˆEnterprise Service Busï¼Œä¼ä¸šæœåŠ¡æ€»çº¿ï¼‰å°†ä¼ä¸šä¸­å„ä¸ªä¸åŒçš„æœåŠ¡è¿æ¥åœ¨ä¸€èµ·ã€‚SOAä½¿ç”¨ESBæ¥å±è”½å¼‚æ„ç³»ç»Ÿå¯¹å¤–æä¾›å„ç§ä¸åŒçš„æ¥å£æ–¹å¼ï¼Œä»¥æ­¤æ¥è¾¾åˆ°æœåŠ¡é—´é«˜æ•ˆçš„äº’è”äº’é€šï¼›</li>
<li>é‡‡ç”¨SOAæ¶æ„ä¹‹åï¼Œå„ä¸ªæœåŠ¡æ˜¯ç›¸äº’ç‹¬ç«‹è¿è¡Œçš„ï¼Œç”šè‡³ä¸æ¸…æ¥šæŸä¸ªæœåŠ¡åˆ°åº•æœ‰å¤šå°‘å¯¹å…¶ä»–æœåŠ¡çš„ä¾èµ–ï¼›</li>
<li>ESBéœ€è¦å®ç°ä¸å„ç§ç³»ç»Ÿä¹‹é—´çš„åè®®è½¬æ¢ã€æ•°æ®è½¬æ¢ã€é€æ˜çš„åŠ¨æ€è·¯ç”±ç­‰åŠŸèƒ½ã€‚ä½†æ˜¯è¦å®Œæˆåè®®å’Œæ•°æ®æ ¼å¼çš„äº’ç›¸è½¬æ¢ï¼Œå·¥ä½œé‡å’Œå¤æ‚åº¦éƒ½å¾ˆå¤§ï¼Œè€Œä¸”è¿™äº›è½¬æ¢æ˜¯éœ€è¦è€—è´¹å¤§é‡è®¡ç®—æ€§èƒ½çš„ï¼Œå¦‚æœæ‰¿è½½çš„æ¶ˆæ¯å¤ªå¤šæ—¶ï¼Œå¯èƒ½ä¼šæ˜¯æ•´ä¸ªç³»ç»Ÿçš„æ€§èƒ½ç“¶é¢ˆï¼›</li>
<li>ESBçš„å­˜åœ¨å®å±æ— å¥ˆï¼Œä½†æ˜¯ä¼ä¸šåœ¨åº”ç”¨SOAæ—¶ï¼Œå„ç§å¼‚æ„çš„ITç³»ç»Ÿéƒ½å·²ç»å­˜åœ¨å¾ˆå¤šå¹´äº†ï¼Œå®Œå…¨é‡å†™æˆ–è€…æŒ‰ç…§ç»Ÿä¸€æ ‡å‡†è¿›è¡Œæ”¹é€ çš„æˆæœ¬æ˜¯éå¸¸å¤§çš„ï¼Œåªèƒ½é€šè¿‡ESBæ–¹å¼å»é€‚é…å·²ç»å­˜åœ¨çš„å„ç§å¼‚æ„ç³»ç»Ÿï¼</li>
</ol>
<h2 id="å¾®æœåŠ¡"><a href="#å¾®æœåŠ¡" class="headerlink" title="å¾®æœåŠ¡"></a>å¾®æœåŠ¡</h2><h3 id="åŸºç¡€çŸ¥è¯†-1"><a href="#åŸºç¡€çŸ¥è¯†-1" class="headerlink" title="åŸºç¡€çŸ¥è¯†"></a>åŸºç¡€çŸ¥è¯†</h3><ol>
<li>å¾®æœåŠ¡å’ŒSOAæ˜¯ä¸¤ç§ä¸åŒçš„æ¶æ„è®¾è®¡ç†å¿µï¼Œåªæ˜¯åœ¨â€œæœåŠ¡â€è¿™ä¸ªç‚¹ä¸Šæœ‰ç‚¹äº¤é›†ï¼›</li>
<li>SOAé€‚åˆäºåºå¤§ã€å¤æ‚ã€å¼‚æ„çš„ä¼ä¸šçº§ç³»ç»Ÿï¼›è€Œå¾®æœåŠ¡é€‚åˆäºå¿«é€Ÿã€è½»é‡çº§ã€åŸºäºWebçš„äº’è”ç½‘ç³»ç»Ÿï¼›</li>
<li>å¾®æœåŠ¡éœ€è¦è€ƒè™‘çš„é—®é¢˜ï¼š<ul>
<li>æœåŠ¡åˆ’åˆ†è¿‡ç»†ï¼ŒæœåŠ¡é—´å…³ç³»å¤æ‚</li>
<li>æœåŠ¡æ•°é‡å¤ªå¤šï¼Œå›¢é˜Ÿæ•ˆç‡æ€¥å‰§ä¸‹é™</li>
<li>è°ƒç”¨é“¾å¤ªé•¿ï¼Œæ€§èƒ½ä¸‹é™</li>
<li>è°ƒç”¨é“¾å¤ªé•¿ï¼Œé—®é¢˜å®šä½å›°éš¾</li>
<li>æ²¡æœ‰è‡ªåŠ¨åŒ–çš„æ”¯æŒï¼Œæ— æ³•å¿«é€Ÿäº¤ä»˜</li>
<li>æ²¡æœ‰æœåŠ¡æ²»ç†ï¼Œå¾®æœåŠ¡æ•°é‡å¤šäº†åç®¡ç†æ··ä¹±</li>
</ul>
</li>
<li>è½¬å‹å¾®æœåŠ¡çš„å»ºè®®ï¼š<ul>
<li>å»ºè®¾å¥½åŸºç¡€è®¾æ–½ï¼ŒRPCã€æœåŠ¡æ²»ç†ã€æ—¥å¿—ã€ç›‘æ§ã€æŒç»­é›†æˆã€æŒç»­éƒ¨ç½²ã€è¿ç»´è‡ªåŠ¨åŒ–æ˜¯åŸºæœ¬çš„ï¼Œè¿˜åŒ…æ‹¬æœåŠ¡ç¼–æ’ã€åˆ†å¸ƒå¼è¿½è¸ªç­‰</li>
<li>é€æ­¥æ¼”è¿›å’Œè¿­ä»£ï¼Œä¸èƒ½è¿‡äºæ¿€è¿›ï¼Œæ›´ä¸èƒ½æ‹†åˆ†è¿‡ç»†ï¼Œæ‹†åˆ†çš„ç²’åº¦è¦ä¸å›¢é˜Ÿçš„æ¶æ„ç›¸äº’åŒ¹é…</li>
<li>å¾®æœåŠ¡ä¸æ•°æ®åº“è¦ä¸€èµ·æ‹†åˆ†</li>
</ul>
</li>
<li>ä½¿ç”¨å¾®æœåŠ¡æš´éœ²å‡ºæ¥çš„é—®é¢˜ï¼š<ul>
<li>ä¸ªåˆ«æœåŠ¡æ²¡æœ‰è¿›è¡Œç†”æ–­ï¼Œå®¹æ˜“å‡ºç°é›ªå´©æ•ˆåº”</li>
<li>æœåŠ¡æ‹†åˆ†è¿‡ç»†ï¼ŒæœåŠ¡è°ƒç”¨é“¾è¿‡é•¿</li>
<li>å¼€å‘äººå‘˜èƒ½åŠ›ä¸ä¸€æ ·ï¼Œä»£ç æ°´å¹³ä¸ä¸€æ ·</li>
<li>æ²¡æœ‰ç›‘æ§æªæ–½</li>
<li>æ¯ä¸ªæœåŠ¡éƒ¨ç½²å¤šå°ï¼Œæ—¥å¿—æŸ¥è¯¢æå…¶æ¶å¿ƒ</li>
<li>å¼€å‘è¿‡ç¨‹ä¸­ç»å¸¸å‡ºç°è®¿é—®ä¸åˆ°éœ€è¦è®¿é—®çš„æ¥å£ï¼Œå› ä¸ºå¼€å‘äººå‘˜ç»å¸¸å¯åŠ¨æœ¬åœ°æœåŠ¡</li>
<li>ä½¿ç”¨äº†ä¸åˆç†çš„æŒä¹…å±‚æ¡†æ¶</li>
</ul>
</li>
<li>é¿å…çš„é™·é˜±ï¼š<ul>
<li>å¾®æœåŠ¡æ‹†åˆ†è¿‡ç»†ï¼Œè¿‡åˆ†å¼ºè°ƒâ€œsmallâ€</li>
<li>å¾®æœåŠ¡åŸºç¡€è®¾æ–½ä¸å¥å…¨ï¼Œå¿½ç•¥äº†â€œautomatedâ€</li>
<li>å¾®æœåŠ¡å¹¶ä¸è½»é‡ï¼Œè§„æ¨¡æ‰©å¤§äº†åï¼Œâ€œlightweightâ€ä¸å†é€‚ç”¨</li>
</ul>
</li>
</ol>
<h3 id="å¾®æœåŠ¡æ–¹æ³•"><a href="#å¾®æœåŠ¡æ–¹æ³•" class="headerlink" title="å¾®æœåŠ¡æ–¹æ³•"></a>å¾®æœåŠ¡æ–¹æ³•</h3><ol>
<li>ä¸€ä¸ªå¾®æœåŠ¡ä¸‰ä¸ªäººè´Ÿè´£å¼€å‘ï¼Œå½“å›¢é˜Ÿæ‰©å¤§æ—¶ï¼Œå†å°†å·²æœ‰çš„å¾®æœåŠ¡è¿›è¡Œæ‹†åˆ†ã€‚ä¸‰ä¸ªäººè´Ÿè´£å¼€å‘ä¸€ä¸ªç³»ç»Ÿï¼Œç³»ç»Ÿçš„å¤æ‚åº¦åˆšå¥½è¾¾åˆ°æ¯ä¸ªäººéƒ½èƒ½å…¨é¢ç†è§£æ•´ä¸ªç³»ç»Ÿï¼Œåˆèƒ½å¤Ÿè¿›è¡Œåˆ†å·¥çš„ç²’åº¦ã€‚ä¸‰ä¸ªäººçš„æŠ€æœ¯å°ç»„èƒ½å¤Ÿå½¢æˆæœ‰æ•ˆçš„è®¨è®ºï¼Œåˆèƒ½å¿«é€Ÿè¾¾æˆä¸€è‡´æ„è§ï¼›</li>
<li>å¸¸è§çš„æ‹†åˆ†æ–¹å¼ï¼š<ul>
<li>åŸºäºä¸šåŠ¡é€»è¾‘æ‹†åˆ†â€”â€”æ¯ä¸ªå•ç‹¬çš„ä¸šåŠ¡æ¨¡å—æ‹†åˆ†ä¸ºä¸€ä¸ªç‹¬ç«‹çš„æœåŠ¡</li>
<li>åŸºäºå¯æ‰©å±•æ‹†åˆ†â€”â€”å°†ç³»ç»Ÿä¸­çš„ä¸šåŠ¡æ¨¡å—æŒ‰ç…§ç¨³å®šæ€§æ’åºï¼Œå°†å·²ç»æˆç†Ÿå’Œæ”¹åŠ¨ä¸å¤§çš„æœåŠ¡æ‹†åˆ†ä¸ºç¨³å®šæœåŠ¡ï¼Œç»ç»å¸¸å˜åŒ–å’Œè¿­ä»£çš„æœåŠ¡æ‹†åˆ†ä¸ºå˜åŠ¨æœåŠ¡</li>
<li>åŸºäºå¯é æ€§æ‹†åˆ†â€”â€”å°†ç³»ç»Ÿä¸­çš„ä¸šåŠ¡æ¨¡å—æŒ‰ç…§ä¼˜å…ˆçº§æ’åºï¼Œå°†å¯é æ€§è¦æ±‚é«˜çš„æ ¸å¿ƒæœåŠ¡å’Œå¯é æ€§è¦æ±‚ä½çš„éæ ¸å¿ƒæœåŠ¡æ‹†åˆ†å¼€æ¥ï¼Œç„¶åé‡ç‚¹ä¿éšœæ ¸å¿ƒæœåŠ¡çš„é«˜å¯ç”¨</li>
<li>åŸºäºæ€§èƒ½æ‹†åˆ†â€”â€”å°†æ€§èƒ½è¦æ±‚é«˜æˆ–è€…æ€§èƒ½å‹åŠ›å¤§çš„æ¨¡å—æ‹†åˆ†å‡ºæ¥ï¼Œé¿å…æ€§èƒ½å‹åŠ›å¤§çš„æœåŠ¡å½±å“å…¶ä»–æœåŠ¡</li>
</ul>
</li>
<li>è¦åšå¥½å¾®æœåŠ¡ï¼ŒåƒæœåŠ¡å‘ç°ã€æœåŠ¡è·¯ç”±ã€æœåŠ¡å®¹é”™ã€æœåŠ¡ç›‘æ§ã€æœåŠ¡è·Ÿè¸ªã€æœåŠ¡å®‰å…¨ã€è‡ªåŠ¨åŒ–æµ‹è¯•ã€è‡ªåŠ¨åŒ–éƒ¨ç½²ã€é…ç½®ä¸­å¿ƒã€æ¥å£æ¡†æ¶ã€APIç½‘å…³ç­‰åŸºç¡€è®¾æ–½éƒ½æ˜¯æ¯”ä¸å¯å°‘çš„ï¼Œå¦åˆ™å¾®æœåŠ¡å°±ä¼šå˜æˆä¸€ä¸ªç„¦æ²¹å‘ï¼Œè®©ä¸šåŠ¡å’Œå›¢é˜Ÿåœ¨é‡Œé¢ä¸æ–­æŒ£æ‰è€Œä¸”æ— æ³•è‡ªæ‹”ã€‚å¾®æœåŠ¡åŸºç¡€è®¾æ–½éƒ¨ç½²ä¼˜å…ˆçº§ï¼š<ul>
<li>æœåŠ¡å‘ç°ã€æœåŠ¡è·¯ç”±ã€æœåŠ¡å®¹é”™ä¸ºç¬¬ä¸€ä¼˜å…ˆçº§</li>
<li>æ¥å£æ¡†æ¶ã€APIç½‘å…³ä¸ºæ¬¡ä¼˜å…ˆçº§</li>
<li>è‡ªåŠ¨åŒ–éƒ¨ç½²ã€è‡ªåŠ¨åŒ–æµ‹è¯•ã€é…ç½®ä¸­å¿ƒå†æ¬¡ä¸€çº§</li>
<li>æœåŠ¡ç›‘æ§ã€æœåŠ¡è·Ÿè¸ªã€æœåŠ¡å®‰å…¨æœ€åè€ƒè™‘</li>
</ul>
</li>
<li>å¼€å‘ç¯å¢ƒä¹Ÿæ˜¯ä¹Ÿå¯ä»¥æ­å»ºå¾®æœåŠ¡ï¼Œä¸€èˆ¬å»ºè®®ä¸‰å¥—ç¯å¢ƒï¼šå¼€å‘ã€æµ‹è¯•ã€çº¿ä¸Šï¼›</li>
<li>æ¥å£æ¡†æ¶å¯ä»¥é€šè¿‡gRPCä¹‹ç±»çš„åˆ¶å®šè‡ªå·±çš„æ•°æ®è§„èŒƒï¼›</li>
<li>å¯¹äºAPPå¤šç‰ˆæœ¬å…±å­˜é—®é¢˜ï¼Œè¦ä¹ˆæ¥å£å‘åå…¼å®¹ï¼Œè¦ä¹ˆæ¥å£åŠ å¤šç‰ˆæœ¬å·ï¼›</li>
<li>æ¯é¡¹å¾®æœåŠ¡åŸºç¡€è®¾æ–½éƒ½æ˜¯ä¸€ä¸ªå¹³å°ã€ä¸€ä¸ªç³»ç»Ÿã€ä¸€ä¸ªè§£å†³æ–¹æ¡ˆï¼Œå¦‚æœéœ€è¦å®ç°ï¼Œå…¶è¿‡ç¨‹å’Œä¸šåŠ¡ç³»ç»Ÿç±»ä¼¼ï¼Œéœ€è¦ç»è¿‡éœ€æ±‚åˆ†æã€æ¶æ„è®¾è®¡ã€å¼€å‘ã€æµ‹è¯•ã€éƒ¨ç½²ä¸Šçº¿ç­‰æ­¥éª¤ï¼›</li>
<li>å¾®æœåŠ¡æå€¡å¿«é€Ÿäº¤ä»˜ã€ç‰ˆæœ¬å‘¨æœŸçŸ­ã€ç‰ˆæœ¬æ›´æ–°é¢‘ç¹ï¼Œéœ€è¦é€šè¿‡è‡ªåŠ¨åŒ–æµ‹è¯•ç³»ç»Ÿæ¥å®Œæˆç»å¤§éƒ¨åˆ†æµ‹è¯•å›å½’çš„å·¥ä½œï¼ŒåŒ…å«äº†ä»£ç çº§åˆ«çš„å•å…ƒæµ‹è¯•ã€å•ä¸ªç³»ç»Ÿçº§çš„é›†æˆæµ‹è¯•ã€ç³»ç»Ÿé—´çš„æ¥å£æµ‹è¯•ï¼Œå¦‚æœæ— æ³•åšåˆ°å…¨é¢è¦†ç›–ï¼Œåˆ™åªè¦è¦åšåˆ°æ¥å£æµ‹è¯•è‡ªåŠ¨åŒ–ï¼›</li>
<li>è‡ªåŠ¨åŒ–éƒ¨ç½²ç³»ç»ŸåŒ…å«ç‰ˆæœ¬ç®¡ç†ã€èµ„æºç®¡ç†ã€éƒ¨ç½²æ“ä½œã€å›é€€æ“ä½œç­‰åŠŸèƒ½ï¼›</li>
<li>å¾®æœåŠ¡éœ€è¦ä¸€ä¸ªç»Ÿä¸€çš„é…ç½®ä¸­å¿ƒæ¥ç®¡ç†æ‰€æœ‰å¾®æœåŠ¡èŠ‚ç‚¹çš„é…ç½®ï¼›</li>
<li>å¸¸è§çš„è·¯ç”±ç®—æ³•æœ‰ï¼šéšæœºè·¯ç”±ã€è½®è¯¢è·¯ç”±ã€æœ€å°å‹åŠ›è·¯ç”±ã€æœ€å°è¿æ¥æ•°è·¯ç”±ç­‰ï¼›</li>
<li>å¸¸è§çš„æœåŠ¡å®¹é”™å¤„ç†æœ‰ï¼šè¯·æ±‚é‡è¯•ã€æµæ§å’ŒæœåŠ¡éš”ç¦»ï¼›</li>
</ol>
<h3 id="å¾®æœåŠ¡ä½¿ç”¨ç»éªŒ"><a href="#å¾®æœåŠ¡ä½¿ç”¨ç»éªŒ" class="headerlink" title="å¾®æœåŠ¡ä½¿ç”¨ç»éªŒ"></a>å¾®æœåŠ¡ä½¿ç”¨ç»éªŒ</h3><ol>
<li><strong>é‚®ä»¶å‘é€</strong>æ˜¯ä¸€ä¸ªè€—æ—¶æ“ä½œï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨å¤šçº¿ç¨‹ï¼Œä½†æ˜¯ä¸æ˜“æ‰©å±•ï¼Œæ— æ³•è§£è€¦ï¼Œç”¨è¿‡å°±çŸ¥é“è¿™æœ‰å¤šä¹ˆä¸æ–¹ä¾¿äº†ã€‚å¼•å…¥ RabbitMQ ä¹‹åï¼Œæœ‰æ•ˆçš„å®ç°äº†ç³»ç»Ÿçš„è§£è€¦ï¼Œåœ¨æœªæ¥å¯èƒ½æœ‰æ›´å¤šçš„åœ°æ–¹éœ€è¦å‘é€é‚®ä»¶ã€çŸ­ä¿¡ç­‰ï¼ŒæŠŠè¿™äº›é‚®ä»¶å‘é€ã€çŸ­ä¿¡å‘é€çš„æœåŠ¡æ‹å‡ºæ¥åšæˆå•ç‹¬çš„æœåŠ¡ï¼Œæ‰©å±•èµ·æ¥æ›´åŠ æ–¹ä¾¿ï¼</li>
<li>RabbitMQ è™½ç„¶ç”¨ç€æ–¹ä¾¿ï¼Œæœ‰å¾ˆå¤šä¼˜åŠ¿ï¼Œä½†æ˜¯ä¹Ÿå¸¦æ¥äº†å¾ˆå¤šé—®é¢˜ï¼Œä¾‹å¦‚ç½‘ç»œæŠ–åŠ¨æ€ä¹ˆåŠï¼Ÿå¦‚ä½•ç¡®ä¿æ¶ˆæ¯çš„å¯é æ€§ï¼Ÿåœ¨ç†æƒ³çš„ç¯å¢ƒä¸‹è¿™äº›é—®é¢˜éƒ½ä¸å­˜åœ¨ï¼Œä½†æ˜¯åœ¨å¤æ‚çš„ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œä»€ä¹ˆéƒ½æ˜¯æœ‰å¯èƒ½çš„ï¼Œå› æ­¤å¦‚ä½•è§£å†³è¿™äº›é—®é¢˜æ˜¯éå¸¸å…³é”®çš„ã€‚</li>
</ol>
<h2 id="å¾®å†…æ ¸æ¶æ„"><a href="#å¾®å†…æ ¸æ¶æ„" class="headerlink" title="å¾®å†…æ ¸æ¶æ„"></a>å¾®å†…æ ¸æ¶æ„</h2><h3 id="åŸºç¡€çŸ¥è¯†-2"><a href="#åŸºç¡€çŸ¥è¯†-2" class="headerlink" title="åŸºç¡€çŸ¥è¯†"></a>åŸºç¡€çŸ¥è¯†</h3><ol>
<li>å¾®å†…æ ¸æ¶æ„ï¼ˆMicrokernel Architectureï¼‰ä¹Ÿè¢«ç§°ä¸ºæ’ä»¶åŒ–æ¶æ„ï¼ˆPlug-in Architectureï¼‰ï¼Œæ˜¯ä¸€ç§é¢å‘åŠŸèƒ½è¿›è¡Œæ‹†åˆ†çš„å¯æ‰©å±•æ¶æ„ï¼Œé€šå¸¸ç”¨äºå®ç°åŸºäºäº§å“çš„åº”ç”¨ï¼›</li>
<li>å¾®å†…æ ¸æ¶æ„åŒ…å«ä¸¤ç±»ç»„ä»¶ï¼šæ ¸å¿ƒç³»ç»Ÿï¼ˆCore Systemï¼‰å’Œæ’ä»¶æ¨¡å—ï¼ˆPlug-in modulesï¼‰ã€‚æ ¸å¿ƒç³»ç»Ÿè´Ÿè´£å’Œå…·ä½“ä¸šåŠ¡åŠŸèƒ½æ— å…³çš„é€šç”¨åŠŸèƒ½ï¼Œä¾‹å¦‚æ¨¡å—åŠ è½½ã€æ¨¡å—é—´é€šä¿¡ç­‰ï¼›æ’ä»¶æ¨¡å—è´Ÿè´£å®ç°å…·ä½“çš„ä¸šåŠ¡é€»è¾‘ï¼›</li>
<li>å¾®å†…æ ¸æ¶æ„çš„æœ¬è´¨å°±æ˜¯å°†å˜åŒ–éƒ¨åˆ†å°è£…åœ¨æ’ä»¶é‡Œï¼Œä»è€Œè¾¾åˆ°å¿«é€Ÿæ‰©å±•çš„ç›®çš„ï¼Œè€Œåˆä¸ä¼šå½±å“ç³»ç»Ÿçš„ç¨³å®šæ€§ï¼›</li>
</ol>
<h3 id="å…³é”®ç‚¹"><a href="#å…³é”®ç‚¹" class="headerlink" title="å…³é”®ç‚¹"></a>å…³é”®ç‚¹</h3><ol>
<li>å…³é”®æŠ€æœ¯æœ‰æ’ä»¶ç®¡ç†ã€æ’ä»¶è¿æ¥ä»¥åŠæ’ä»¶é€šä¿¡ï¼š<ul>
<li>æ’ä»¶ç®¡ç†â€”â€”è´Ÿè´£ç®¡ç†æ’ä»¶ã€å¸¸è§çš„å®ç°æ–¹å¼æ˜¯æ’ä»¶æ³¨å†Œè¡¨æœºåˆ¶ã€‚æ’ä»¶æ³¨å†Œè¡¨åŒ…å«æ¯ä¸ªæ’ä»¶æ¨¡å—çš„ä¿¡æ¯ï¼Œæ¯”å¦‚åå­—ã€ä½ç½®ã€åŠ è½½æ—¶æœºç­‰</li>
<li>æ’ä»¶è¿æ¥â€”â€”æ’ä»¶å¦‚ä½•è¿æ¥åˆ°æ ¸å¿ƒç³»ç»Ÿï¼Œéœ€è¦åˆ¶å®šè¿æ¥è§„èŒƒï¼Œç„¶åæ’ä»¶æŒ‰ç…§è§„èŒƒæ¥å®ç°ï¼Œæ ¸å¿ƒç³»ç»ŸæŒ‰ç…§è§„èŒƒæ¥åŠ è½½å³å¯</li>
<li>æ’ä»¶é€šä¿¡â€”â€”è´Ÿè´£æ’ä»¶é—´çš„é€šä¿¡</li>
</ul>
</li>
<li>OSGiæ˜¯ä¸€ä¸ªä¸ºäº†å»ºç«‹å¼€æ”¾çš„æœåŠ¡è§„èŒƒçš„ç»„ç»‡ï¼Œåˆ¶å®šäº†é€šè¿‡ç½‘ç»œå‘è®¾å¤‡æä¾›æœåŠ¡å»ºç«‹å¼€å‘çš„æ ‡å‡†ï¼Œç§°ä¸ºOSGi specificationï¼›</li>
<li>OSGiæ ‡å‡†æ˜¯ç›®å‰çš„é¦–é€‰æ’ä»¶åŒ–æ ‡å‡†ï¼›</li>
<li>è§„åˆ™å¼•æ“æ¶æ„ä»ç»“æ„ä¸Šæ¥çœ‹ä¹Ÿå±äºå¾®å†…æ ¸æ¶æ„çš„ä¸€ç§å…·ä½“å®ç°ï¼Œå…¶ä¸­æ‰§è¡Œå¼•æ“å¯ä»¥çœ‹ä½œæ˜¯å¾®å†…æ ¸ã€æ‰§è¡Œå¼•æ“è§£æé…ç½®å¥½çš„ä¸šåŠ¡æµï¼Œæ‰§è¡Œå…¶ä¸­çš„æ¡ä»¶å’Œè§„åˆ™ï¼Œé€šè¿‡è¿™ç§æ–¹å¼æ¥æ”¯æŒä¸šåŠ¡çš„çµæ´»å¤šå˜ã€‚è§„åˆ™å¼•æ“åœ¨è®¡è´¹ã€ä¿é™©ã€ä¿ƒé”€ç­‰ä¸šåŠ¡é¢†åŸŸåº”ç”¨è¾ƒå¤šï¼›ä¸»è¦ä¼˜åŠ¿åœ¨äºï¼š<ul>
<li>å¯æ‰©å±•</li>
<li>æ˜“ç†è§£</li>
<li>é«˜æ•ˆç‡</li>
</ul>
</li>
<li>ç›®å‰æœ€ä¸ºå¸¸ç”¨çš„è§„åˆ™å¼•æ“æ˜¯å¼€æºçš„JBoss Droolsï¼Œé‡‡ç”¨çš„Javaè¯­è¨€ç¼–å†™ï¼ŒåŸºäºReteç®—æ³•ã€‚è§„åˆ™å¼•æ“Esperå¯ä»¥ä½¿ç”¨ç±»sqlç¼–å†™è§„åˆ™ï¼Œå…¥é—¨è¾ƒä¸ºç®€å•ï¼›</li>
</ol>
<h2 id="æ¶æ„é‡æ„"><a href="#æ¶æ„é‡æ„" class="headerlink" title="æ¶æ„é‡æ„"></a>æ¶æ„é‡æ„</h2><h3 id="æœ‰çš„æ”¾çŸ¢"><a href="#æœ‰çš„æ”¾çŸ¢" class="headerlink" title="æœ‰çš„æ”¾çŸ¢"></a>æœ‰çš„æ”¾çŸ¢</h3><ol>
<li>ç»å¤§éƒ¨åˆ†çš„æ¶æ„æ¼”åŒ–éƒ½æ˜¯é€šè¿‡æ¶æ„é‡æ„æ¥å®ç°çš„ï¼Œç›¸æ¯”å…¨æ–°çš„æ¶æ„è®¾è®¡æ¥è¯´ï¼Œæ¶æ„é‡æ„å¯¹æ¶æ„å¸ˆçš„è¦æ±‚æ›´é«˜ã€‚ä¸»è¦åŸå› æœ‰ï¼š<ul>
<li>ä¸šåŠ¡å·²ç»ä¸Šçº¿ï¼Œä¸èƒ½åœä¸‹æ¥</li>
<li>å…³è”æ–¹ä¼—å¤šï¼Œç‰µä¸€å‘åŠ¨å…¨èº«</li>
<li>æ—§æ¶æ„çš„çº¦æŸ</li>
</ul>
</li>
<li>æ¶æ„å¸ˆæ­£æ˜¯éœ€è¦åœ¨åŸæ¥ä¸€å›¢ä¹±éº»ä¸­æ‰¾åˆ°çº¿ç´¢ï¼Œç„¶åé‡æ–°ç©¿é’ˆå¼•çº¿ï¼Œå¸®åŠ©ä¸šåŠ¡è¿›ä¸€æ­¥è…¾é£å‘å±•ã€‚ä¸€æ—¦ç¡®å®šéœ€è¦è¿›è¡Œæ¶æ„é‡æ„ï¼Œå°±ä¼šç”±æ¶æ„å¸ˆç‰µå¤´æ¥è¿›è¡Œæ¶æ„é‡æ„çš„åˆ†æï¼›</li>
<li>æ¶æ„å¸ˆé¦–è¦ä»»åŠ¡æ˜¯<strong>ä»ä¸€å¤§å †çº·ç¹å¤æ‚çš„é—®é¢˜ä¸­è¯†åˆ«å‡ºçœŸæ­£è¦é€šè¿‡æ¶æ„é‡æ„æ¥è§£å†³çš„é—®é¢˜ï¼Œé›†ä¸­åŠ›é‡å¿«é€Ÿè§£å†³ï¼Œè€Œä¸æ˜¯æƒ³ç€é€šè¿‡æ¶æ„é‡æ„æ¥è§£å†³æ‰€æœ‰çš„é—®é¢˜ï¼›</strong></li>
<li>æ¶æ„å¸ˆéœ€è¦é€è¿‡é—®é¢˜è¡¨è±¡çœ‹åˆ°é—®é¢˜æœ¬è´¨ï¼Œæ‰¾å‡ºçœŸæ­£éœ€è¦é€šè¿‡æ¶æ„é‡æ„è§£å†³çš„æ ¸å¿ƒé—®é¢˜ï¼Œä»è€Œåšåˆ°æœ‰çš„æ”¾çŸ¢ï¼Œæ—¢ä¸ä¼šè€—è´¹å¤§é‡çš„äººåŠ›å’Œæ—¶é—´æŠ•å…¥ï¼Œåˆèƒ½å¤Ÿè§£å†³æ ¸å¿ƒé—®é¢˜ã€‚</li>
</ol>
<h3 id="åˆçºµè¿æ¨ª"><a href="#åˆçºµè¿æ¨ª" class="headerlink" title="åˆçºµè¿æ¨ª"></a>åˆçºµè¿æ¨ª</h3><ol>
<li>è¦æƒ³çœŸæ­£æ¨åŠ¨ä¸€ä¸ªæ¶æ„é‡æ„é¡¹ç›®å¯åŠ¨ï¼Œéœ€è¦èŠ±è´¹å¤§é‡çš„ç²¾åŠ›è¿›è¡Œæ¸¸è¯´å’Œæ²Ÿé€šï¼›</li>
<li><strong>åœ¨æ²Ÿé€šåè°ƒæ—¶ï¼Œå°†æŠ€æœ¯è¯­è¨€è½¬æ¢ä¸ºé€šä¿—è¯­è¨€ï¼Œä»¥äº‹å®è¯´è¯ï¼Œä»¥æ•°æ®è¯´è¯ï¼Œæ˜¯æ²Ÿé€šçš„å…³é”®ï¼</strong></li>
<li><strong>æ¢ä½æ€è€ƒã€åˆä½œåŒèµ¢ã€å…³æ³¨é•¿æœŸ</strong>ã€‚ç®€å•æ¥è¯´å°±æ˜¯ç«™åœ¨å¯¹æ–¹çš„è§’åº¦æ€è€ƒï¼Œé‡æ„å¯¹ä»–æœ‰ä»€ä¹ˆå¥½å¤„ï¼Œèƒ½å¤Ÿå¸®ä»–è§£å†³ä»€ä¹ˆé—®é¢˜ï¼Œå¸¦æ¥ä»€ä¹ˆæ”¶ç›Šï¼›</li>
<li>æ–¹æ¡ˆä¸Šçµæ´»ä¸€ç‚¹ï¼Œå› ä¸ºå¤§éƒ¨åˆ†éœ€è¦é‡æ„çš„ç³»ç»Ÿï¼Œéœ€è¦åšçš„äº‹æƒ…å¾ˆå¤šï¼Œåˆ†é˜¶æ®µå¤„ç†ï¼Œåœ¨é£é™©è§„é¿ã€è®¡åˆ’å®‰æ’ç­‰æ–¹é¢æ›´åŠ çµæ´»å¯æ§ã€‚</li>
</ol>
<h3 id="è¿ç­¹å¸·å¹„"><a href="#è¿ç­¹å¸·å¹„" class="headerlink" title="è¿ç­¹å¸·å¹„"></a>è¿ç­¹å¸·å¹„</h3><ol>
<li>é€šå¸¸æƒ…å†µä¸‹ï¼Œéœ€è¦æ¶æ„é‡æ„çš„ç³»ç»Ÿï¼ŒåŸºæœ¬ä¸Šéƒ½æ˜¯å› ä¸ºå„ç§å†å²åŸå› å’Œå†å²é—®é¢˜æ²¡æœ‰åŠæ—¶å¤„ç†ï¼Œé—ç•™ä¸‹æ¥é€æ¸ç§¯ç´¯ï¼Œç„¶ååˆ°äº†ä¸€ä¸ªä¸´ç•Œç‚¹ï¼Œå„ç§é—®é¢˜å¼€å§‹äº’ç›¸ä½œç”¨ï¼Œé›†ä¸­çˆ†å‘ï¼</li>
<li>å°†è¦è§£å†³çš„é—®é¢˜æ ¹æ®ä¼˜å…ˆçº§ã€é‡è¦æ€§ã€å®æ–½éš¾åº¦ç­‰åˆ’åˆ†ä¸ºä¸åŒçš„é˜¶æ®µï¼Œæ¯ä¸ªé˜¶æ®µèšç„¦äºä¸€ä¸ªæ•´ä½“çš„ç›®æ ‡ï¼Œé›†ä¸­ç²¾åŠ›å’Œèµ„æºè§£å†³ä¸€ç±»é—®é¢˜ï¼›</li>
<li>åˆ¶å®šâ€œåˆ†æ®µå®æ–½â€çš„ç­–ç•¥ï¼š<ul>
<li>ä¼˜å…ˆçº§æ’åºâ€”â€”å°†æ˜æ˜¾ä¸”åˆæ¯”è¾ƒç´§æ€¥çš„äº‹é¡¹ä¼˜å…ˆè½åœ°ï¼Œè§£å†³ç›®å‰é‡åˆ°çš„ä¸»è¦é—®é¢˜</li>
<li>é—®é¢˜åˆ†ç±»â€”â€”å°†é—®é¢˜æŒ‰ç…§æ€§è´¨åˆ†ç±»ï¼Œæ¯ä¸ªé˜¶æ®µé›†ä¸­è§£å†³ä¸€ç±»é—®é¢˜</li>
<li>å…ˆæ˜“åéš¾â€”â€”ä¸€äº›ç›¸å¯¹ç®€å•çš„é—®é¢˜é€æ¸è§£å†³ï¼Œä¼šå‘ç°åŸæ¥çœ‹èµ·æ¥å¾ˆéš¾çš„é—®é¢˜å·²ç»ä¸é‚£ä¹ˆéš¾</li>
<li>å¾ªåºæ¸è¿›â€”â€”æŒ‰ç…§å›ºå®šçš„æ­¥éª¤å’ŒèŠ‚å¥ï¼Œæ›´æœ‰åˆ©äºé¡¹ç›®æ¨è¿›</li>
</ul>
</li>
</ol>
<h2 id="æ¶æ„è®¾è®¡æ–‡æ¡£æ¨¡æ¿"><a href="#æ¶æ„è®¾è®¡æ–‡æ¡£æ¨¡æ¿" class="headerlink" title="æ¶æ„è®¾è®¡æ–‡æ¡£æ¨¡æ¿"></a>æ¶æ„è®¾è®¡æ–‡æ¡£æ¨¡æ¿</h2><h3 id="å¤‡é€‰æ–¹æ¡ˆæ¨¡æ¿"><a href="#å¤‡é€‰æ–¹æ¡ˆæ¨¡æ¿" class="headerlink" title="å¤‡é€‰æ–¹æ¡ˆæ¨¡æ¿"></a>å¤‡é€‰æ–¹æ¡ˆæ¨¡æ¿</h3><ol>
<li>éœ€æ±‚ä»‹ç»ï¼ˆä¸»è¦æè¿°éœ€æ±‚çš„èƒŒæ™¯ã€ç›®æ ‡ã€èŒƒå›´ç­‰ï¼‰ï¼š<ul>
<li>ç³»ç»Ÿå‡ºç°æ˜æ˜¾é—®é¢˜ï¼Œæ¯”å¦‚æ€§èƒ½é—®é¢˜ã€è€¦åˆé—®é¢˜ã€æ•ˆç‡é—®é¢˜</li>
<li>åŸºäºä¸Šè¿°é—®é¢˜ï¼Œå¼•å…¥æ¶ˆæ¯é˜Ÿåˆ—ï¼ˆä»€ä¹ˆæŠ€æœ¯ï¼‰è¿›è¡Œç³»ç»Ÿè§£è€¦ï¼ˆè§£å†³ä»€ä¹ˆé—®é¢˜ï¼‰ï¼Œå°†ç›®å‰çš„åŒæ­¥è°ƒç”¨æ”¹ä¸ºå¼‚æ­¥é€šçŸ¥ï¼ˆæœ€ç»ˆæ•ˆæœï¼‰</li>
</ul>
</li>
<li>éœ€æ±‚åˆ†æï¼ˆä¸»è¦å…¨æ–¹ä½åœ°æè¿°éœ€æ±‚ç›¸å…³çš„ä¿¡æ¯ï¼‰ï¼ˆæœ‰ç‚¹æ–¹æ³•è®ºçš„æ„æ€ï¼‰ï¼š<ul>
<li>5Wï¼ˆWhoã€Whenã€Whatã€Whyã€Whereï¼‰<ul>
<li>Whoâ€”â€”éœ€æ±‚åˆ©ç›Šå¹²ç³»äººï¼ŒåŒ…æ‹¬å¼€å‘è€…ã€ä½¿ç”¨è€…ã€è´­ä¹°è€…ã€å†³ç­–è€…ç­‰</li>
<li>Whenâ€”â€”éœ€æ±‚ä½¿ç”¨æ—¶é—´ï¼ŒåŒ…æ‹¬å­£èŠ‚ã€æ—¶é—´ã€é‡Œç¨‹ç¢‘ç­‰</li>
<li>Whatâ€”â€”éœ€æ±‚çš„äº§å‡ºæ˜¯ä»€ä¹ˆï¼ŒåŒ…æ‹¬ç³»ç»Ÿã€æ•°æ®ã€æ–‡ä»¶ã€å¼€å‘åº“ã€å¹³å°ç­‰</li>
<li>Whereâ€”â€”éœ€æ±‚çš„åº”ç”¨åœºæ™¯ï¼ŒåŒ…æ‹¬å›½å®¶ã€åœ°ç‚¹ã€ç¯å¢ƒç­‰ï¼Œä¾‹å¦‚æµ‹è¯•å¹³å°åªä¼šåœ¨æµ‹è¯•ç¯å¢ƒä½¿ç”¨</li>
<li>Whyâ€”â€”éœ€æ±‚éœ€è¦è§£å†³çš„é—®é¢˜ï¼Œé€šå¸¸å’Œéœ€æ±‚èƒŒæ™¯ç›¸å…³</li>
</ul>
</li>
<li>1Hï¼ˆHowï¼‰<ul>
<li>Howâ€”â€”ä¸æ˜¯è®¾è®¡æ–¹æ¡ˆä¹Ÿä¸æ˜¯æ¶æ„æ–¹æ¡ˆï¼Œè€Œæ˜¯<strong>å…³é”®ä¸šåŠ¡æµç¨‹</strong></li>
</ul>
</li>
<li>8Cï¼ˆ8ä¸ªçº¦æŸå’Œé™åˆ¶ï¼‰<ul>
<li>Constraintsï¼ŒåŒ…æ‹¬æ€§èƒ½ Performanceã€æˆæœ¬ Costã€æ—¶é—´Timeã€å¯é æ€§ Reliabilityã€å®‰å…¨æ€§ Securityã€åˆè§„æ€§ Complianceã€æŠ€æœ¯æ€§ Technologyã€å…¼å®¹æ€§ Compatibility</li>
<li>éœ€æ±‚ä¸­æ¶‰åŠçš„æ€§èƒ½ã€æˆæœ¬ã€å¯é æ€§ç­‰ä»…ä»…æ˜¯åˆ©ç›Šå…³è”æ–¹æå‡ºçš„è¯‰æ±‚ï¼Œä¸ä¸€å®šå‡†ç¡®ï¼Œçº¦æŸæ˜¯å¯ä»¥è°ƒæ•´çš„</li>
</ul>
</li>
</ul>
</li>
<li>å¤æ‚åº¦åˆ†æï¼ˆåˆ†æéœ€æ±‚çš„å¤æ‚åº¦ï¼Œå¤æ‚åº¦å¸¸è§çš„æœ‰é«˜å¯ç”¨ã€é«˜æ€§èƒ½ã€å¯æ‰©å±•ç­‰ï¼‰</li>
<li>å¤‡é€‰æ–¹æ¡ˆï¼ˆè‡³å°‘ 3 ä¸ªå¤‡é€‰æ–¹æ¡ˆï¼Œæ¯ä¸ªå¤‡é€‰æ–¹æ¡ˆéœ€è¦æè¿°å…³é”®çš„å®ç°ï¼Œæ— é¡»æè¿°å…·ä½“çš„å®ç°ç»†èŠ‚ï¼‰</li>
<li>å¤‡é€‰æ–¹æ¡ˆè¯„ä¼°ï¼ˆå¤‡é€‰æ–¹æ¡ˆ 360 åº¦ç¯è¯„ï¼‰</li>
</ol>
<h3 id="æ¶æ„è®¾è®¡æ¨¡æ¿"><a href="#æ¶æ„è®¾è®¡æ¨¡æ¿" class="headerlink" title="æ¶æ„è®¾è®¡æ¨¡æ¿"></a>æ¶æ„è®¾è®¡æ¨¡æ¿</h3><ol>
<li>æ€»ä½“æ–¹æ¡ˆï¼ˆä»æ•´ä½“ä¸Šæè¿°æ–¹æ¡ˆçš„ç»“æ„ï¼Œå…¶æ ¸å¿ƒå†…å®¹å°±æ˜¯æ¶æ„å›¾ï¼Œä»¥åŠé’ˆå¯¹æ¶æ„å›¾çš„æè¿°ï¼ŒåŒ…æ‹¬æ¨¡å—æˆ–è€…å­ç³»ç»Ÿçš„èŒè´£æè¿°ã€æ ¸å¿ƒæµç¨‹ï¼‰</li>
<li>æ¶æ„æ€»è§ˆï¼ˆç»™å‡ºæ¶æ„å›¾ä»¥åŠæ¶æ„çš„æè¿°ï¼‰</li>
<li>æ ¸å¿ƒæµç¨‹<ul>
<li>æ¶ˆæ¯å‘é€æµç¨‹</li>
<li>æ¶ˆæ¯è¯»å–æµç¨‹</li>
<li>â€¦ â€¦</li>
</ul>
</li>
<li>è¯¦ç»†è®¾è®¡ï¼ˆéœ€è¦æè¿°å…·ä½“çš„å®ç°ç»†èŠ‚ï¼‰<ul>
<li>æ¶ˆæ¯å‘é€å¯é æ€§</li>
<li>æ¶ˆæ¯å­˜å‚¨å¯é æ€§</li>
<li>æ¶ˆæ¯è¯»å–å¯é æ€§</li>
<li>èº«ä»½è¯†åˆ«</li>
<li>é˜Ÿåˆ—æƒé™</li>
<li>â€¦ â€¦</li>
</ul>
</li>
<li>æ¶æ„æ¼”è¿›è§„åˆ’ï¼ˆè§„åˆ’å’Œè®¾è®¡çš„éœ€æ±‚æ¯”è¾ƒå®Œå–„ï¼Œä½†å¦‚æœä¸€æ¬¡æ€§å…¨éƒ¨åšå®Œï¼Œé¡¹ç›®å‘¨æœŸå¯èƒ½ä¼šå¾ˆé•¿ï¼Œå› æ­¤å¯ä»¥é‡‡å–åˆ†é˜¶æ®µå®æ–½ï¼Œå³ï¼šç¬¬ä¸€æœŸåšä»€ä¹ˆã€ç¬¬äºŒæœŸåšä»€ä¹ˆï¼Œä»¥æ­¤ç±»æ¨ï¼‰</li>
</ol>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/c8978475683cedf1d4e7f932cfa9d237-3157057" alt="æ¶æ„å¸ˆæŠ€æœ¯æ ˆ"></p>
<hr>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>æ”¶è·ï¼š</p>
<ul>
<li>å”¯ä¸€ä¸å˜çš„æ˜¯å˜åŒ–ï¼</li>
<li>åšäº‹æƒ…æ°¸è¿œéƒ½è¦æœ‰Bæ–¹æ¡ˆã€‚</li>
<li>å‘è¡¨æ˜¯æœ€å¥½çš„è®°å¿†ï¼Œå®è·µæ˜¯æœ€å¥½çš„æˆé•¿ï¼</li>
<li>å½±å“ä¸€ä¸ªä¼ä¸šä¸šåŠ¡çš„å‘å±•ä¸»è¦æœ‰ä¸‰ä¸ªå› ç´ ï¼šå¸‚åœºã€æŠ€æœ¯ã€ç®¡ç†ã€‚</li>
</ul>
<p>é€‰æ‹©æ¶æ„ï¼Œæ³¨å®šä¸å¹³å‡¡ï¼Œä¹Ÿæ³¨å®šè¦å¾ˆè‰°è¾›ï¼ŒPPTæ¶æ„å¸ˆå¤ªå¤šï¼Œå¸Œæœ›è‡ªå·±ä¸è¦æˆä¸ºè¿™ç±»ï¼</p>
]]></content>
      <categories>
        <category>SpringBoot</category>
      </categories>
  </entry>
  <entry>
    <title>æŠ¥è¡¨åŸºç¡€çŸ¥è¯†</title>
    <url>/2020/07/02/%E6%8A%A5%E8%A1%A8%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>ç»Ÿè®¡æŠ¥è¡¨æ˜¯æŒ‡å„çº§ä¼äº‹ä¸šã€è¡Œæ”¿å•ä½æŒ‰è§„å®šçš„è¡¨æ ¼å½¢å¼ã€å†…å®¹ã€æ—¶é—´è¦æ±‚æŠ¥é€ç¨‹åºï¼Œè‡ªä¸Šè€Œä¸‹ç»Ÿä¸€å¸ƒç½®ï¼Œæä¾›ç»Ÿè®¡èµ„æ–™çš„ä¸€ç§ç»Ÿè®¡è°ƒæŸ¥æ–¹å¼ã€‚å®ƒæ˜¯æˆ‘å›½å–å¾—å›½æ°‘ç»æµå’Œç¤¾ä¼šå‘å±•æƒ…å†µåŸºæœ¬ç»Ÿè®¡èµ„æ–™çš„ä¸€ç§é‡è¦æ‰‹æ®µ!æŠ¥è¡¨æ˜¯éå¸¸é‡è¦çš„ä¸€ç§ç®¡ç†å·¥å…·,éœ€è¦äº†è§£åŸºç¡€çŸ¥è¯†,ä»¥åŠå¦‚ä½•åœ¨åç»­çš„å¼€å‘ä¸­å¼€å‘å‡ºæŠ¥è¡¨ç³»ç»Ÿç­‰ã€‚è¿™éƒ¨åˆ†ä¸»è¦ä»‹ç»æŠ¥è¡¨çš„åŸºç¡€çŸ¥è¯†ï¼</p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="æµè¡Œçš„å¼€æºæŠ¥è¡¨å·¥å…·"><a href="#æµè¡Œçš„å¼€æºæŠ¥è¡¨å·¥å…·" class="headerlink" title="æµè¡Œçš„å¼€æºæŠ¥è¡¨å·¥å…·"></a>æµè¡Œçš„å¼€æºæŠ¥è¡¨å·¥å…·</h2><h3 id="JasperReport"><a href="#JasperReport" class="headerlink" title="JasperReport"></a>JasperReport</h3><ol>
<li>JasperReportæ˜¯æµè¡Œçš„å¼€æºæŠ¥è¡¨å·¥å…·ä¹‹ä¸€ï¼ŒåŸºäºGPLå¼€æºè®¸å¯åè®®, é‡‡ç”¨javaç¼–å†™, æ”¯æŒå¤šç§æ•°æ®æºï¼Œå¯æ‰“å°æˆ–å¯¼å‡ºå¤šç§æ–‡ä»¶æ ¼å¼ï¼Œæ”¯æŒPDFã€HTMLã€XLSã€CSVå’ŒXMLæ–‡ä»¶è¾“å‡ºæ ¼å¼ã€‚</li>
<li>ç»„ä»¶ï¼š<ul>
<li>JasperReports Library å¼€æºæŠ¥è¡¨å¼•æ“åº“</li>
<li>JasperReports Server æ˜¯ä¸€ä¸ªå¯åµŒå…¥çš„æŠ¥è¡¨æœåŠ¡å™¨ï¼Œå¯¹æ•°æ®è¿›è¡Œåˆ†æå’Œæä¾›å®šæ—¶ä»»åŠ¡æœåŠ¡</li>
<li>Jaspersoft Studio æ˜¯åŸºäºEclipseçš„æŠ¥è¡¨è®¾è®¡å™¨ï¼Œå®ƒèƒ½åˆ›å»ºåŒ…å«å›¾è¡¨ã€å›¾åƒã€å­æŠ¥è¡¨ã€äº¤å‰è¡¨ç­‰å¤æ‚çš„æŠ¥è¡¨</li>
<li>JavaBeansï¼ŒXMLï¼ŒCSV Hibernate</li>
<li>Jaspersoft ETL æ˜¯æ˜“äºéƒ¨ç½²å’Œæ‰§è¡Œçš„å¼€æºETLç³»ç»Ÿ, åˆ›å»ºä¸€ä¸ªç»¼åˆçš„æ•°æ®ä»“åº“å’Œæ•°æ®é›†</li>
</ul>
</li>
<li>å®˜ç½‘ï¼š<a href="http://community.jaspersoft.com/" target="_blank" rel="noopener">http://community.jaspersoft.com/</a></li>
<li><img src="https://app.yinxiang.com/FileSharing.action?hash=1/705a49576d403703d3e420e64e5a3a3d-32309" alt="JasperReportå›¾"></li>
</ol>
<h3 id="iReport"><a href="#iReport" class="headerlink" title="iReport"></a>iReport</h3><ol>
<li>iReport æ˜¯å…è´¹çš„ï¼Œå¼€æºçš„æŠ¥è¡¨è®¾è®¡å™¨, æ˜¯ä¸ºJasperReports Libraryå’ŒJasperReports Serverè®¾è®¡çš„æŠ¥è¡¨å¯è§†åŒ–è®¾è®¡å™¨ï¼Œå®ƒèƒ½åˆ›å»ºå›¾è¡¨ã€å›¾åƒã€å­æŠ¥è¡¨ã€äº¤å‰è¡¨ç­‰å¤æ‚çš„æŠ¥è¡¨ï¼Œå®ƒçš„æ•°æ®æºå¯ä»¥æ˜¯JavaBeansï¼ŒXMLï¼ŒCSV Hibernateå’Œè‡ªå®šä¹‰æ•°æ®æºï¼Œå¯ä»¥å‘å¸ƒå’Œè¾“å‡ºPDF,RTF,XML,HTMLç­‰æ–‡ä»¶ã€‚</li>
<li>å®˜ç½‘ï¼š<a href="https://community.jaspersoft.com/project/ireport-designer" target="_blank" rel="noopener">https://community.jaspersoft.com/project/ireport-designer</a></li>
<li><img src="https://app.yinxiang.com/FileSharing.action?hash=1/aa43fa3e65c1c1bd10722f62522aa24a-49498" alt="iReportå›¾"></li>
</ol>
<h3 id="JFreeChart"><a href="#JFreeChart" class="headerlink" title="JFreeChart"></a>JFreeChart</h3><ol>
<li>JFreeChart æ˜¯ä¸€æ¬¾æ˜“äºæ‰©å±•çš„çº¯Javaç¼–å†™ç»˜å›¾å›¾åº“, ä½¿ç”¨å®ƒå¯ä»¥ç”Ÿæˆçº¿å›¾ã€æŸ±çŠ¶å›¾ã€é¥¼å›¾ã€æ›²çº¿å›¾ã€é¢ç§¯å›¾ã€ç”˜ç‰¹å›¾ã€ä»ªè¡¨ç›˜ã€æ··åˆå›¾ç­‰å¤šç§å›¾è¡¨ï¼Œå¹¶å¯å°†å›¾è¡¨è¾“å‡ºä¸ºPNGã€JPEGå›¾ç‰‡ã€‚</li>
<li>ç‰¹æ€§ï¼š<ul>
<li>ç¨³å®šã€è½»é‡çº§,æ”¯æŒå¤šç§å›¾è¡¨ç±»å‹</li>
<li>ä¸€ä¸ªçµæ´»çš„è®¾è®¡,å¾ˆå®¹æ˜“æ‰©å±•,å¹¶åº”ç”¨äºæœåŠ¡å™¨ç«¯å’Œå®¢æˆ·ç«¯çš„åº”ç”¨ç¨‹åº</li>
<li>æ”¯æŒå¤šç§è¾“å‡ºç±»å‹,åŒ…æ‹¬Swingç»„ä»¶å’ŒJavaFXç»„ä»¶ã€å›¾åƒæ–‡ä»¶(åŒ…æ‹¬PNGå’ŒJPEG)å’ŒçŸ¢é‡å›¾å½¢æ–‡ä»¶æ ¼å¼(åŒ…æ‹¬PDFã€EPSå’ŒSVG)</li>
<li>JFreeChartæ˜¯å¼€æºçš„ï¼ŒåŸºäºGNUé€šç”¨å…¬å…±è®¸å¯è¯ (LGPL)å¼€æºè®¸å¯åè®®</li>
</ul>
</li>
<li>å®˜ç½‘ï¼š<a href="http://www.jfree.org/" target="_blank" rel="noopener">http://www.jfree.org/</a></li>
<li><img src="https://app.yinxiang.com/FileSharing.action?hash=1/83e9beda27dfe4a5700e93a1a7ed8a90-38460" alt="JFreeChartå›¾"></li>
</ol>
<h3 id="Pentaho"><a href="#Pentaho" class="headerlink" title="Pentaho"></a>Pentaho</h3><ol>
<li>Pentahoå°†ä½ çš„æ•°æ®è½¬å˜æˆæœ‰æ„ä¹‰çš„ä¿¡æ¯ï¼Œä¸ºæ‚¨è®¾è®¡PentahoæŠ¥è¡¨ï¼Œä¸€å¥—å¼€æºçš„å·¥å…·ï¼Œå…è®¸ä½ åˆ›å»ºæŠ¥è¡¨ï¼Œæ”¯æŒè¾“å‡ºExcelã€PDFã€HTMLã€æ–‡æœ¬ã€å¯Œæ–‡æœ¬æ–‡ä»¶ï¼ŒXMLå’ŒCSVï¼Œç”Ÿæˆçš„æŠ¥è¡¨å¯ä»¥å¾ˆå®¹æ˜“åœ°ä»å„ç§æ¥æºæç‚¼æˆå¯è¯»çš„æ•°æ®ã€‚</li>
<li>PentahoæŠ¥è¡¨çš„å¼€å‘æ˜¯é€šè¿‡åˆ›å»ºä¸€ä¸ªçµæ´»ä¸”ç®€å•æ˜“ç”¨çš„æŠ¥è¡¨å¼•æ“ã€‚è¿™æ˜¯ä¸€å¥—å¼€æºå·¥å…·ï¼ŒåŒ…æ‹¬Report Designerã€Reporting Engineå’ŒReporting SDKã€‚ä½å†…å­˜æ¶ˆè€—çš„é«˜æ€§èƒ½ï¼ŒæŠ¥è¡¨å¤„ç†å¯ä»¥ä»å°è§„æ¨¡çš„åµŒå…¥å¼åœºæ™¯åˆ°å¤§å‹ä¼ä¸šæŠ¥è¡¨æ–¹æ¡ˆã€‚PentahoæŠ¥è¡¨é›†æˆå•†ä¸šæ™ºèƒ½ï¼Œä½ å¯è½»æ˜“ä¸åŒäº‹å…±äº«æŠ¥è¡¨ã€‚</li>
<li>å®˜ç½‘ï¼š<a href="http://community.pentaho.com/projects/reporting" target="_blank" rel="noopener">http://community.pentaho.com/projects/reporting</a></li>
<li><img src="https://app.yinxiang.com/FileSharing.action?hash=1/48f2c5080cf16437ba81477bbd341756-27521" alt="Pentahoå›¾"></li>
</ol>
<h3 id="BIRT"><a href="#BIRT" class="headerlink" title="BIRT"></a>BIRT</h3><ol>
<li>BIRT æ˜¯åŸºäº Eclipse çš„ä¸€æ¬¾å¼€æºæŠ¥è¡¨ï¼Œåˆ›å»ºæ•°æ®çš„å¯è§†åŒ–å’ŒæŠ¥è¡¨ï¼Œå¯ä»¥åµŒå…¥åˆ°å¯Œå®¢æˆ·å’ŒWebåº”ç”¨ç¨‹åºã€‚</li>
<li>BIRTä¸»è¦ç”±ä¸¤éƒ¨åˆ†ç»„æˆï¼šä¸€ä¸ªç”¨äºåˆ›å»ºBIRTè®¾è®¡çš„å¯è§†åŒ–æŠ¥è¡¨è®¾è®¡å™¨ï¼Œä»¥åŠå¯ä»¥éƒ¨ç½²åˆ°javaç¯å¢ƒè¿è¡Œæ—¶ç»„ä»¶ã€‚BIRTé¡¹ç›®è¿˜åŒ…æ‹¬ä¸€ä¸ªå›¾è¡¨å¼•æ“ï¼Œå¯é›†æˆåˆ°BIRTçš„ä¸€ä¸ªåº”ç”¨ç¨‹åºå›¾è¡¨ã€‚BIRTè®¾è®¡æ¨¡æ¿ä¿å­˜ä¸ºXMLï¼Œå¯ä»¥è®¿é—®å¤šä¸ªä¸åŒçš„æ•°æ®æºåŒ…æ‹¬JDOæ•°æ®å­˜å‚¨ï¼Œjfireè„šæœ¬å¯¹è±¡ã€POJOsã€SQLæ•°æ®åº“ã€WebæœåŠ¡å’ŒXMLã€‚</li>
<li>å®˜ç½‘ï¼š<a href="http://www.eclipse.org/birt/" target="_blank" rel="noopener">http://www.eclipse.org/birt/</a></li>
<li><img src="https://app.yinxiang.com/FileSharing.action?hash=1/84151c8ec6859f4eebfa4b3f3c5dbbd4-126200" alt="BIRTå›¾"></li>
</ol>
<h2 id="å›¾è¡¨ç»„ä»¶"><a href="#å›¾è¡¨ç»„ä»¶" class="headerlink" title="å›¾è¡¨ç»„ä»¶"></a>å›¾è¡¨ç»„ä»¶</h2><h3 id="Echarts"><a href="#Echarts" class="headerlink" title="Echarts"></a>Echarts</h3><ol>
<li>EChartsæ˜¯ä¸€æ¬¾å¼€æºæ•°æ®å¯è§†åŒ–å›¾è¡¨äº§å“ï¼Œæ”¯æŒçš„å›¾è¡¨æ¯”è¾ƒå¤š, æä¾›å•†ä¸šäº§å“å¸¸ç”¨å›¾è¡¨ï¼Œåº•å±‚åŸºäºZRenderï¼ˆä¸€ä¸ªè½»é‡çº§canvaså›¾è¡¨ç±»åº“ï¼‰ï¼Œåˆ›å»ºäº†åæ ‡ç³»ï¼Œå›¾ä¾‹ï¼Œæç¤ºï¼Œå·¥å…·ç®±ç­‰åŸºç¡€ç»„ä»¶ï¼Œå¹¶åœ¨æ­¤ä¸Šæ„å»ºå‡ºæŠ˜çº¿å›¾ã€æŸ±çŠ¶å›¾ã€æ•£ç‚¹å›¾ã€Kçº¿å›¾ã€é¥¼å›¾ã€é›·è¾¾å›¾ã€åœ°å›¾ã€å’Œå¼¦å›¾ã€åŠ›å¯¼å‘å¸ƒå±€å›¾ã€ä»ªè¡¨ç›˜ä»¥åŠæ¼æ–—å›¾ï¼ŒåŒæ—¶æ”¯æŒä»»æ„ç»´åº¦çš„å †ç§¯å’Œæ··åˆå›¾è¡¨å±•ç°ã€‚</li>
<li>å®˜æ–¹æ¡ˆä¾‹:<a href="https://echarts.apache.org/zh/index.html" target="_blank" rel="noopener">https://echarts.apache.org/zh/index.html</a></li>
<li><img src="https://app.yinxiang.com/FileSharing.action?hash=1/0f6df46d00bf325e533eb2fd4000008d-47870" alt="Echartså›¾"></li>
</ol>
<h3 id="Highcharts"><a href="#Highcharts" class="headerlink" title="Highcharts"></a>Highcharts</h3><ol>
<li>Highcharts å›¾è¡¨æ˜¯æ”¶è´¹ç»„ä»¶ï¼ŒåŸºäº HTML5 æŠ€æœ¯ï¼Œä¸éœ€è¦å®‰è£…æ’ä»¶ï¼Œä¹Ÿä¸éœ€è¦é…ç½® PHPã€Java ç­‰è¿è¡Œç¯å¢ƒï¼Œåªéœ€è¦ä¸¤ä¸ª JS æ–‡ä»¶å³å¯ä½¿ç”¨ï¼Œ æä¾›ä¸°å¯Œçš„å›¾è¡¨ç±»å‹ï¼Œçº¿å›¾ã€æŸ±å½¢å›¾ã€é¥¼å›¾ã€æ•£ç‚¹å›¾ã€ä»ªè¡¨å›¾ã€é›·è¾¾å›¾ã€çƒ­åŠ›å›¾ã€æ··åˆå›¾ç­‰å¤šï¼ŒHighstock åˆ™æä¾›è‚¡ç¥¨èµ°åŠ¿å›¾ï¼ˆKçº¿ã€åˆ†æ—¶ï¼‰ã€é«˜çº§æ—¶é—´è½´å›¾ï¼ŒHighmaps æä¾›å„ç§ä¸°å¯Œå¤šæ ·çš„åœ°å›¾ã€‚</li>
<li>å®˜æ–¹æ¡ˆä¾‹ï¼š<a href="http://www.hcharts.cn/demo/highcharts" target="_blank" rel="noopener">http://www.hcharts.cn/demo/highcharts</a></li>
<li><img src="https://app.yinxiang.com/FileSharing.action?hash=1/fde5133a4b59ca0122ece5f69068c8a9-52249" alt="Hchartså›¾"></li>
</ol>
<h3 id="ichartjs"><a href="#ichartjs" class="headerlink" title="ichartjs"></a>ichartjs</h3><ol>
<li>ichartjs ichartjs æ˜¯åŸºäºApache License 2.0åè®®çš„å¼€æºé¡¹ç›®, æ˜¯ä¸€æ¬¾åŸºäºHTML5çš„å›¾å½¢åº“ã€‚ä½¿ç”¨çº¯javascriptè¯­è¨€, åˆ©ç”¨HTML5çš„canvasæ ‡ç­¾ç»˜åˆ¶å„å¼å›¾å½¢ã€‚ ichartjsè‡´åŠ›äºä¸ºæ‚¨çš„åº”ç”¨æä¾›ç®€å•ã€ç›´è§‚ã€å¯äº¤äº’çš„ä½“éªŒçº§å›¾è¡¨ç»„ä»¶ã€‚æ˜¯WEB/APPå›¾è¡¨å±•ç¤ºæ–¹é¢çš„è§£å†³æ–¹æ¡ˆ ã€‚å¦‚æœä½ æ­£åœ¨å¼€å‘HTML5çš„åº”ç”¨ï¼Œichartjsæ­£å¥½é€‚åˆæ‚¨ã€‚ ichartjsç›®å‰æ”¯æŒé¥¼å›¾ã€ç¯å½¢å›¾ã€æŠ˜çº¿å›¾ã€é¢ç§¯å›¾ã€æŸ±å½¢å›¾ã€æ¡å½¢å›¾ã€‚</li>
<li><img src="https://app.yinxiang.com/FileSharing.action?hash=1/5e8d38c706934da2007ee510ad045ac2-43219" alt="ichartjså›¾"></li>
</ol>
<h3 id="Fusioncharts"><a href="#Fusioncharts" class="headerlink" title="Fusioncharts"></a>Fusioncharts</h3><ol>
<li>Fusioncharts å›¾è¡¨æ˜¯æ”¶è´¹ç»„ä»¶, æ˜¯ä¸€æ¬¾è·¨å¹³å°ã€è·¨æµè§ˆå™¨çš„JavaScript/HTMLå›¾è¡¨ç»„ä»¶ï¼Œæ”¯æŒæŸ±çŠ¶å›¾ã€æ¡å½¢å›¾ã€æŠ˜çº¿å›¾ã€é¢ç§¯å›¾ã€2Då’Œ3Dé¥¼å›¾ã€ç¼©æ”¾å’Œæ»šåŠ¨å›¾ã€å•Yè½´ç»„åˆå›¾ã€åŒYè½´ç»„åˆå›¾ã€å †ç§¯å›¾ã€æ°”æ³¡å›¾å’ŒXYåæ ‡å›¾è¡¨ã€Paretoå›¾è¡¨ã€Marimekkoå›¾è¡¨ç­‰å›¾è¡¨ã€‚</li>
<li>å®˜ç½‘ï¼š<a href="https://www.fusioncharts.com/" target="_blank" rel="noopener">https://www.fusioncharts.com/</a></li>
<li><img src="https://app.yinxiang.com/FileSharing.action?hash=1/89d12979b9dabb1fc9b21e8645165af4-44550" alt="Fusionchartså›¾"></li>
</ol>
<h3 id="Chart-js"><a href="#Chart-js" class="headerlink" title="Chart.js"></a>Chart.js</h3><ol>
<li>Chart.jsæ˜¯ä¸€æ¬¾å¼€æºå›¾è¡¨ï¼Œå¸®ä½ ç”¨ä¸åŒçš„æ–¹å¼è®©ä½ çš„æ•°æ®å˜å¾—å¯è§†åŒ–ã€‚æ¯ç§ç±»å‹çš„å›¾è¡¨éƒ½æœ‰åŠ¨ç”»æ•ˆæœï¼Œå¹¶ä¸”çœ‹ä¸Šå»æ¯”è¾ƒæ£’ï¼Œå³ä¾¿æ˜¯åœ¨retinaå±å¹•ä¸Šï¼ŒChart.jsä¸ä¾èµ–å¤–éƒ¨å·¥å…·åº“ï¼Œè½»é‡çº§ï¼ˆå‹ç¼©ä¹‹åä»…æœ‰4.5kï¼‰ï¼Œå¹¶ä¸”æä¾›äº†åŠ è½½å¤–éƒ¨å‚æ•°çš„æ–¹æ³•ã€‚</li>
<li>å®˜æ–¹æ¡ˆä¾‹ï¼š<a href="http://www.bootcss.com/p/chart.js/docs/" target="_blank" rel="noopener">http://www.bootcss.com/p/chart.js/docs/</a></li>
<li><img src="https://app.yinxiang.com/FileSharing.action?hash=1/92c948d5b7e9582e242f9f4eeed95309-38989" alt="Chart.jså›¾"></li>
</ol>
<h2 id="å¸¸è§çš„ç›˜ç‚¹è¡¨æ ¼å½¢å¼"><a href="#å¸¸è§çš„ç›˜ç‚¹è¡¨æ ¼å½¢å¼" class="headerlink" title="å¸¸è§çš„ç›˜ç‚¹è¡¨æ ¼å½¢å¼"></a>å¸¸è§çš„ç›˜ç‚¹è¡¨æ ¼å½¢å¼</h2><h3 id="åº“å­˜ç›˜ç‚¹è¡¨æ ¼å¼"><a href="#åº“å­˜ç›˜ç‚¹è¡¨æ ¼å¼" class="headerlink" title="åº“å­˜ç›˜ç‚¹è¡¨æ ¼å¼"></a>åº“å­˜ç›˜ç‚¹è¡¨æ ¼å¼</h3><ol>
<li>åº“å­˜ç›˜ç‚¹è¡¨æ ¼å¼ä¸€èˆ¬åŒ…å«ç›˜ç‚¹éƒ¨é—¨ã€ç¼–åˆ¶äººã€è´Ÿè´£äººã€ç”Ÿäº§éƒ¨ã€ä»“å‚¨éƒ¨ï¼Œè¿™äº›ä¸ºç›˜ç‚¹è¡¨çš„åŸºæœ¬ä¿¡æ¯ï¼Œç›˜ç‚¹è¡¨ä¸€èˆ¬æœ‰ç›˜ç‚¹çš„è´§ç‰©ï¼Œ<br>è¯¦ç»†çš„æƒ…å†µæè¿°å¦‚ï¼šè´¦é¢æƒ…å†µã€å®é™…æƒ…å†µã€ç›˜ç›ˆåˆ©ã€ç›˜äºæŸå¹¶ç”±ç›˜ç‚¹äººç­¾åï¼Œç›˜ç‚¹è¯¦æƒ…é‡Œä¸€èˆ¬å­˜åœ¨å­˜è´§æ•°é‡ã€å­˜è´§å•ä»·åŠå­˜è´§çš„æ€»é‡‘é¢ï¼Œæ€»é‡‘é¢ = æ•°é‡ * å•ä»·ï¼Œæœ€ååœ¨ç›˜ç‚¹è¡¨å°¾éƒ¨æœ‰ä¿ç®¡å‘˜ä¸åˆ¶è¡¨äººç­¾åã€‚</li>
<li><img src="https://app.yinxiang.com/FileSharing.action?hash=1/9e20a32ad520105173cec0275fe302a7-4801" alt="æ ·å¼"></li>
</ol>
<h3 id="å­˜è´§ç›˜ç‚¹è¡¨æ ¼å¼"><a href="#å­˜è´§ç›˜ç‚¹è¡¨æ ¼å¼" class="headerlink" title="å­˜è´§ç›˜ç‚¹è¡¨æ ¼å¼"></a>å­˜è´§ç›˜ç‚¹è¡¨æ ¼å¼</h3><ol>
<li>å­˜è´§ç›˜ç‚¹è¡¨æ ¼å¼ä¸€èˆ¬éœ€è¦æœ‰ç›˜ç‚¹ä»“åº“ã€ç›˜ç‚¹æ—¥æœŸï¼Œç›˜ç‚¹è¯¦æƒ…åˆ—è¡¨ä¸€èˆ¬åŒ…å«å•†å“ç¼–å·ã€å•†å“åç§°ã€æ•°é‡ã€å•ä»·ã€é‡‘é¢ï¼Œé‡‘é¢ = æ•°é‡ * å•ä»·ï¼Œè¾ƒé‡è¦çš„æ˜¯éœ€è¦æœ‰ç›˜ç‚¹å·®å¼‚çš„æ•°é‡ã€é‡‘é¢ï¼Œå¦‚æœå­˜åœ¨å·®å¼‚ï¼Œåˆ™éœ€è¦è¯´æ˜å·®å¼‚åŸå› ï¼Œæœ€ååœ¨ç›˜ç‚¹è¡¨å°¾éƒ¨æœ‰è´Ÿè´£äººä¸ç›˜ç‚¹äººç­¾åã€‚</li>
<li><img src="https://app.yinxiang.com/FileSharing.action?hash=1/2b8b69d089dc4a7e44c98250618c095f-2685" alt="æ ·å¼"></li>
</ol>
<h3 id="ç°é‡‘ç›˜ç‚¹è¡¨æ ¼å¼"><a href="#ç°é‡‘ç›˜ç‚¹è¡¨æ ¼å¼" class="headerlink" title="ç°é‡‘ç›˜ç‚¹è¡¨æ ¼å¼"></a>ç°é‡‘ç›˜ç‚¹è¡¨æ ¼å¼</h3><ol>
<li>ç°é‡‘ç›˜ç‚¹è¡¨æ ¼å¼ä¸€èˆ¬åŒ…å«å•ä½ã€ç›˜ç‚¹æ—¥æœŸï¼Œç›˜ç‚¹è¯¦æƒ…åˆ—è¡¨ä¸€èˆ¬åŒ…å«ç°é‡‘é¢é¢ã€ç°é‡‘å•ä½å¼ æˆ–æ˜¯æšï¼Œé‡‘é¢ï¼Œ é‡‘é¢ = é¢é¢ * å¼ /æšæ•°ï¼Œåœ¨é¢é¢ä¸‹é¢çš„è¡¨æ ¼ä¸€èˆ¬è¯´æ˜åŠ å‡çš„æƒ…å†µï¼ŒåŠ ï¼šæ”¶å…¥å‡­è¯æœªè®°è´¦ã€è·¨æ—¥æ”¶å…¥ï¼Œå‡ï¼šä»˜å‡ºå‡­è¯æœªè®°è´¦ã€è·¨æ—¥å€Ÿæ¡ï¼Œè°ƒæ•´åç°é‡‘ä½™é¢ä¸å®ç‚¹é‡‘é¢ï¼Œå·®é¢æ˜¯å¤šå°‘æœ€åä¸€èˆ¬å¡«å†™ä¸€äº›å·®é¢å¤‡æ³¨ä¿¡æ¯ï¼Œå‡ºçº³ä¸ç›˜ç‚¹äººç­¾åã€‚</li>
<li><img src="https://app.yinxiang.com/FileSharing.action?hash=1/c1b2b7b46f8cac42fd257329cd20c336-4454" alt="æ ·å¼"></li>
</ol>
<h3 id="å›ºå®šèµ„äº§ç›˜ç‚¹è¡¨æ ¼å¼"><a href="#å›ºå®šèµ„äº§ç›˜ç‚¹è¡¨æ ¼å¼" class="headerlink" title="å›ºå®šèµ„äº§ç›˜ç‚¹è¡¨æ ¼å¼"></a>å›ºå®šèµ„äº§ç›˜ç‚¹è¡¨æ ¼å¼</h3><ol>
<li>å›ºå®šèµ„äº§ç›˜ç‚¹è¡¨æ ¼å¼ä¸€èˆ¬åŒ…å«å•ä½ã€ç›˜ç‚¹æ—¥æœŸï¼Œç›˜ç‚¹è¯¦æƒ…åˆ—è¡¨ä¸€èˆ¬åŒ…å«å›ºå®šèµ„äº§ï¼Œå›ºå®šèµ„äº§åŒ…å«ç¼–å·ã€åç§°ã€è§„æ ¼ç­‰ä¿¡æ¯ï¼Œæ¯”è¾ƒé‡è¦çš„æ˜¯ç›˜ç‚¹æƒ…å†µåˆ—è¡¨ï¼Œç›˜ç‚¹æƒ…å†µä¸€èˆ¬åŒ…å«äº§å“çš„çŠ¶æ€ä¿¡æ¯å¦‚ï¼šæ­£å¸¸ä½¿ç”¨ã€åœç”¨ã€å¾…ä¿®ã€å·²ç»æŠ¥åºŸç­‰ä¿¡æ¯ï¼Œæ¯ä¸ªèµ„äº§éƒ½æœ‰å¯¹äºçš„è´Ÿè´£äººï¼Œå¹¶å­˜åœ¨å¯¹è¯¥èµ„äº§çš„ä¸€äº›å¤‡æ³¨ä¿¡æ¯ï¼Œæœ€ååœ¨ç›˜ç‚¹è¡¨å°¾éƒ¨æœ‰è´Ÿè´£äººä¸ç›˜ç‚¹äººç­¾åã€‚</li>
<li><img src="https://app.yinxiang.com/FileSharing.action?hash=1/c27cc63ebce5c6edfc1466d2361e643d-3219" alt="æ ·å¼"></li>
</ol>
<h2 id="åœ¨çº¿è¡¨å•è®¾è®¡å™¨"><a href="#åœ¨çº¿è¡¨å•è®¾è®¡å™¨" class="headerlink" title="åœ¨çº¿è¡¨å•è®¾è®¡å™¨"></a>åœ¨çº¿è¡¨å•è®¾è®¡å™¨</h2><h3 id="JotForm"><a href="#JotForm" class="headerlink" title="JotForm"></a>JotForm</h3><ol>
<li>JotForm æ˜“äºä½¿ç”¨çš„åœ¨çº¿è¡¨å•è®¾è®¡å™¨ï¼Œä¸ºä¼ä¸šä¸šåŠ¡æ•°æ®è®¾è®¡è¡¨å•å’Œæ”¶é›†æ•°æ®ï¼Œä¾‹å¦‚å¯è®¾è®¡ä¸€äº›è®¢å•ä¿¡æ¯è¡¨ã€å®¢æˆ·ä¿¡æ¯è¡¨ç­‰ï¼Œ æ˜¯æ‰€è§æ‰€å¾—çš„åœ¨çº¿å®šä¹‰è¡¨å•ï¼Œç•Œé¢æ“ä½œæ¯”è¾ƒç®€å•ï¼Œæ‹–åŠ¨HTMLå…ƒç´ ç»„ä»¶å³å¯ï¼Œå¹¶é›†æˆå„ç§éªŒè¯ç»„ä»¶ï¼ŒJotFormè‡ªå¸¦å¤šç§æ ·å¼çš„æ¨¡æ¿ï¼Œ æä¾›è®¸å¤šå…è´¹çš„è¡¨å•æ ·å¼ã€‚</li>
<li>ç‰¹ç‚¹ï¼šJotForm å†…å»ºè¶…è¿‡2,500 ç§ä»¥ä¸Šçš„è¡¨å•æ¡ˆä¾‹ï¼Œæ— è®ºæ˜¯è”ç³»è¡¨æ ¼ã€æ³¨å†Œè¡¨å•ã€é—®å·è°ƒæŸ¥ã€æ»¡æ„åº¦è°ƒæŸ¥ã€å·¥ä½œç”³è¯·è¡¨ã€å‡ºå¸­æ„æ„¿è¡¨ç­‰ç­‰ï¼Œå¯ä»¥ç›´æ¥è·å–ä½¿ç”¨ã€‚</li>
</ol>
<h3 id="Ueditor-Formdesign"><a href="#Ueditor-Formdesign" class="headerlink" title="Ueditor Formdesign"></a>Ueditor Formdesign</h3><ol>
<li>Ueditor Formdesign æ˜¯å¼€æºå…è´¹çš„è¡¨å•è®¾è®¡å™¨ï¼Œå¯åº”ç”¨äºå·¥ä½œæµç®¡ç†ç³»ç»Ÿã€OAç­‰ï¼Œæ˜¯ä¸€æ¬¾å¯è§†åŒ–çš„Webè¡¨å•æ„å»ºå™¨ï¼ŒHTMLå…ƒç´ ç»„ä»¶è¾ƒä¸°å¯Œï¼Œä¸»è¦åŒ…å«ï¼šæ–‡æœ¬æ¡†ã€å¤šè¡Œæ–‡æœ¬ã€ä¸‹æ‹‰èœå•ã€å•é€‰æ¡†ã€å¤é€‰æ¡†ã€å®æ§ä»¶ã€è¿›åº¦æ¡ç­‰ï¼Œå¹¶å¯ä»¥ç”ŸæˆäºŒç»´ç ã€‚</li>
</ol>
<h3 id="FCKeditor"><a href="#FCKeditor" class="headerlink" title="FCKeditor"></a>FCKeditor</h3><ol>
<li>FCKeditor æ˜¯ä¸€æ¬¾å¼€æºçš„æ‰€è§æ‰€å¾—ç½‘é¡µæ–‡æœ¬ç¼–è¾‘å™¨ï¼Œå¯é€šè¿‡CKeditorè®¾ç½®è¡¨æ ¼ï¼Œåœ¨è¡¨æ ¼ä¸­å®šä¹‰è¡¨å•å…ƒç´ ï¼Œä¸»è¦æ”¯æŒæ–‡æœ¬æ¡†ã€å¤é€‰æ¡†ã€å•é€‰æ¡†ã€å•è¡Œæ–‡æœ¬ã€å¤šè¡Œæ–‡æœ¬ã€åˆ—è¡¨ã€æŒ‰é’®ã€å›¾ç‰‡ã€éšè—åŸŸã€‚</li>
</ol>
<h3 id="FormBuilder"><a href="#FormBuilder" class="headerlink" title="FormBuilder"></a>FormBuilder</h3><ol>
<li>FormBuilder æ˜¯ä¸€æ¬¾å¼€æºçš„ä½¿ç”¨Jqueryç¼–å†™çš„Webè¡¨å•æ„ä»¶å™¨, æ“ä½œç®€å•ï¼Œä¸€ä¸ªè½»é‡çº§JSç»„ä»¶ï¼Œå¯ä»¥å®¹æ˜“åœ°ä¸å…¶ä»–ç³»ç»Ÿé›†æˆï¼Œ<br>é€šè¿‡æ‹–æ‹‰ç”Ÿæˆè¡¨å•å…ƒç´ ï¼Œæ”¯æŒå¤é€‰æ¡†ã€æ—¥æœŸã€ä¸Šä¼ æ–‡ä»¶ã€éšè—åŸŸã€åˆ—è¡¨ã€ä¸‹æ‹‰æ¡†ã€æ–‡æœ¬åŸŸç­‰ã€‚</li>
</ol>
<h3 id="Bootstrap-è¡¨å•æ„é€ å™¨"><a href="#Bootstrap-è¡¨å•æ„é€ å™¨" class="headerlink" title="Bootstrap è¡¨å•æ„é€ å™¨"></a>Bootstrap è¡¨å•æ„é€ å™¨</h3><ol>
<li>é‡‡ç”¨Bootstrapå¼€å‘çš„è¡¨å•æ„é€ å™¨ï¼Œå¯ä¸å…¶ä»–åº”ç”¨ç³»ç»Ÿé›†æˆï¼Œé€šè¿‡æ‹–æ‹½ç»„ä»¶çš„æ–¹å¼ç”Ÿæˆå®Œæ•´å¯ç”¨çš„è¡¨å•ã€‚</li>
</ol>
]]></content>
      <categories>
        <category>Base</category>
      </categories>
  </entry>
  <entry>
    <title>æ•æ·ç¼–ç¨‹å¿«é€Ÿäº†è§£</title>
    <url>/2020/06/16/%E6%95%8F%E6%8D%B7%E7%BC%96%E7%A8%8B%E5%BF%AB%E9%80%9F%E4%BA%86%E8%A7%A3/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>å¯¹äºé«˜æ•ˆæ•æ·å›¢é˜Ÿçš„æ„å»ºï¼Œæœ€å¤§çš„éšœç¢ä¸åœ¨äºå­¦ä¹ æ•æ·æ–¹å¼ï¼Œè€Œåœ¨äºç†è§£æ•æ·ã€‚è¦é‡Šæ”¾å›¢é˜Ÿæ½œåŠ›ï¼Œè®©æˆå‘˜å…¨åŠ›ä»¥èµ´ï¼Œå¹¶ä¸”åœ¨åˆä½œä¸­å¯»æ±‚åˆ›æ–°ï¼Œå…³é”®åœ¨äºå¸®åŠ©ä»–ä»¬äº†è§£å›¢é˜Ÿä¸ºä»€ä¹ˆè¦æ•æ·ï¼åœ¨è½¯ä»¶å¼€å‘å›¢é˜Ÿä¸­ï¼Œç›¸æ¯”ä¸“ä¸šçŸ¥è¯†å’Œå·¥å…·ï¼Œæ–‡åŒ–æ°›å›´å¯¹äºé¡¹ç›®çš„æˆåŠŸæ›´ä¸ºé‡è¦ã€‚ä¼˜ç§€ä¸æ˜¯ä¸€ç§è¡¨ç°ï¼Œè€Œæ˜¯ä¸€ç§ä¹ æƒ¯ï¼ <strong>æ¨èä¹¦ç±ï¼šã€Šå­¦ä¹ æ•æ· æ„å»ºé«˜æ•ˆå›¢é˜Ÿã€‹Â· [ç¾] AndrewÂ·Stellman JenniferÂ·Greene è‘— æ®µå¿—å²© éƒ‘æ€é¥ è¯‘</strong> </p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="ä»€ä¹ˆæ˜¯æ•æ·"><a href="#ä»€ä¹ˆæ˜¯æ•æ·" class="headerlink" title="ä»€ä¹ˆæ˜¯æ•æ·"></a>ä»€ä¹ˆæ˜¯æ•æ·</h2><ol>
<li>å¾ˆå¤šæ•æ·å›¢é˜Ÿçš„ä¸€ä¸ªå…±åŒå®è·µå°±æ˜¯é€šè¿‡ç”¨æˆ·æ•…äº‹æ¥æè¿°æŸä¸ªç³»ç»Ÿçš„ç”¨æˆ·æƒ³è¦ä»€ä¹ˆï¼›</li>
<li>æ•æ·èƒ½å¸¦æ¥ï¼š<ul>
<li>é¡¹ç›®å¯ä»¥æŒ‰æ—¶å®Œæˆï¼Œä¸ºé‚£äº›è‹¦æ¼äºäº¤ä»˜æœŸé™å’Œé¢„ç®—çš„å›¢é˜Ÿå¸¦å»äº†ç¦éŸ³</li>
<li>é¡¹ç›®äº¤ä»˜é«˜è´¨é‡çš„è½¯ä»¶ï¼Œé‚£äº›å—å›°äºbugå’Œä½æ•ˆè½¯ä»¶çš„å›¢é˜Ÿä¼šè¿æ¥å·¨å¤§çš„å˜é©</li>
<li>å›¢é˜Ÿæ„å»ºçš„ä»£ç ç»“æ„ä¼˜è‰¯ä¸”æ˜“äºç»´æŠ¤</li>
<li>å›¢é˜Ÿä¼šè®©ç”¨æˆ·æ»¡æ„ï¼Œä¸å†äº¤ä»˜æ— æ³•ä¸ºç”¨æˆ·å¸¦æ¥ä»·å€¼çš„è½¯ä»¶</li>
<li><strong>å¼€å‘äººå‘˜ä¸ç”¨åŠ ç­ï¼Œå¯ä»¥ä¸äº²æœ‹å¥½å‹å…±åº¦æ™šé—´æ—¶å…‰å’Œå‘¨æœ«ï¼ˆçœŸæ˜¯ç¾å¥½çš„å¸Œå†€ï¼‰</strong></li>
</ul>
</li>
<li>è½¬å˜äº†æ€ç»´æ¨¡å¼ï¼Œä¸€ä¸ªä»…ä»…æ¥è§¦æ•æ·å®è·µçš®æ¯›çš„å›¢é˜Ÿå°±å¯ä»¥è·å¾—æå‡ï¼Œä»è€ŒçœŸæ­£æ”¹è¿›å…¶è½¯ä»¶æ„å»ºæ–¹å¼ï¼</li>
<li>æ•æ·æ˜¯æŒ‡èƒ½å¤Ÿè®©å›¢é˜Ÿæ€è€ƒæ›´åŠ æœ‰æ•ˆã€å·¥ä½œæ›´ä¸ºé«˜æ•ˆï¼Œå¹¶ä¸”ä½œå‡ºæ›´å¥½å†³ç­–çš„ä¸€ç»„æ–¹æ³•å’Œç›¸å…³ç†å¿µï¼›</li>
<li><strong>æ¯æ—¥ç«™ç«‹ä¼šè®® ï¼ˆdaily standupï¼‰</strong>æ˜¯å¾ˆå¤šå›¢é˜Ÿéƒ½é‡‡ç”¨çš„ä¸€ç§æœ€å¸¸è§çš„æ•æ·å®è·µï¼Œåœ¨ä¼šè®®ä¸Šï¼Œ æ¯ä¸€ä½æˆå‘˜éƒ½ä¼šè®²è¿°è‡ªå·±æ‰‹å¤´çš„å·¥ä½œä»¥åŠé¢ä¸´çš„æŒ‘æˆ˜ï¼›</li>
<li><strong>ä»å¼€å‘äººå‘˜çš„è§’åº¦çœ‹ï¼Œæ¯å¤©çš„å„ç§ä¼šè®®ä¼šé¢‘é¢‘æ‰“æ–­æ‰‹å¤´çš„å·¥ä½œï¼Œå¯¼è‡´ä»»åŠ¡å¾ˆéš¾å®Œæˆï¼ï¼ˆæ·±æœ‰æ„Ÿå—ï¼Œè®¨åŒå¼€ä¼šï¼‰</strong></li>
<li>ä¼˜ç§€çš„å¼€å‘äººå‘˜ä¸ä»…å¯¹è‡ªå·±çš„ä»£ç æœ‰æƒ³æ³•ï¼Œ è€Œä¸”å¸¸å¸¸å¯¹æ•´ä¸ªé¡¹ç›®çš„å‘å±•æ–¹å‘æ€€æœ‰è§è§£ï¼›</li>
<li><strong><em>ä¸è¦æ¨è¡Œä¸å›¢é˜Ÿæ€ç»´æ–¹å¼ç›¸æŠµè§¦çš„å®è·µï¼Œè¿™æ ·åšä¸ä¼šæœ‰å¥½çš„ç»“æœï¼Œåœ¨å°è¯•åŠ¨æ‰‹ä¹‹å‰ï¼Œé¦–å…ˆè¦è€ƒè™‘ä¸€ä¸‹å›¢é˜Ÿä¼šæœ‰ä»€ä¹ˆååº”ã€‚</em></strong></li>
</ol>
<h2 id="æ•æ·ä»·å€¼è§‚"><a href="#æ•æ·ä»·å€¼è§‚" class="headerlink" title="æ•æ·ä»·å€¼è§‚"></a>æ•æ·ä»·å€¼è§‚</h2><ol>
<li><p>â€œæ•æ·è½¯ä»¶å¼€å‘å®£è¨€â€ï¼ˆManifesto for Agile Software Developmentï¼‰ï¼š</p>
<ul>
<li>ä¸ªä½“å’Œäº’åŠ¨é«˜äºæµç¨‹å’Œå·¥å…·</li>
<li>å¯å·¥ä½œçš„è½¯ä»¶é«˜äºè¯¦å°½çš„æ–‡æ¡£</li>
<li>å®¢æˆ·åä½œé«˜äºåˆåŒè°ˆåˆ¤</li>
<li>å“åº”å˜åŒ–é«˜äºéµå¾ªè®¡åˆ’</li>
</ul>
</li>
<li><p>ç€‘å¸ƒå¼æµç¨‹è¦æ±‚å›¢é˜Ÿåœ¨é¡¹ç›®å¼€å§‹çš„æ—¶å€™å®Œæ•´åœ°å†™ä¸‹è½¯ä»¶çš„æè¿°ï¼Œ ç„¶åå®Œå…¨æŒ‰ç…§å†™ä¸‹çš„æ–‡æ¡£æ„å»ºè½¯ä»¶ï¼Œå¾ˆéš¾åº”å¯¹å˜åŒ–ï¼Œå› ä¸ºè¿™ç§æµç¨‹å…³æ³¨çš„æ˜¯æ–‡æ¡£è€Œä¸æ˜¯åä½œï¼›</p>
<p><img src="" alt="ç€‘å¸ƒå¼æ¨¡å¼"></p>
</li>
<li><p>ç‡ƒå°½å›¾æ˜¯ä¸€ç§çº¿å›¾ï¼Œè®°å½•æ¯å¤©é¡¹ç›®ä¸­æœªå®Œæˆçš„å·¥ä½œï¼Œâ€œç‡ƒå°½â€åˆ°é›¶æ„å‘³ç€å·¥ä½œå®Œæˆï¼›</p>
</li>
<li><p>åœ¨æ¯ä¸€è½®è¿­ä»£ç»“æŸæ—¶å¼€å›é¡¾ä¼šè®® ï¼ˆretrospectiveï¼‰ï¼Œæœ‰å¯èƒ½å›¢é˜Ÿæˆå‘˜ä¼šåŠªåŠ›å®ç°å‘è¨€æ—¶æå‡ºçš„æ”¹è¿›ï¼›</p>
</li>
<li><p>å›¢é˜Ÿä¸­æˆå‘˜çš„å…³æ³¨ç‚¹ï¼ˆåœ¨æ“…é•¿çš„é¢†åŸŸé‡‡ç”¨äº†æ›´å¥½çš„å®è·µï¼Œå› è€ŒæŠŠè¿™äº›äº‹æƒ…åšå¾—æ›´å¥½ï¼‰ï¼š</p>
<p><img src="" alt="å›¢é˜Ÿä¸­æˆå‘˜çš„å…³æ³¨ç‚¹"></p>
</li>
<li><p>æ•æ·å®£è¨€å†…å®¹ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">æˆ‘ä»¬ä¸€ç›´åœ¨å®è·µä¸­æ¢å¯»æ›´å¥½çš„è½¯ä»¶å¼€å‘æ–¹æ³•ï¼Œèº«ä½“åŠ›è¡Œçš„åŒæ—¶ä¹Ÿå¸®åŠ©ä»–äººã€‚</span><br><span class="line">	ç”±æ­¤æˆ‘ä»¬å»ºç«‹äº†å¦‚ä¸‹ä»·å€¼è§‚ã€‚</span><br><span class="line"></span><br><span class="line">	ä¸ªä½“å’Œäº’åŠ¨   é«˜äº æµç¨‹å’Œå·¥å…·</span><br><span class="line">	å¯å·¥ä½œçš„è½¯ä»¶ é«˜äº è¯¦å°½çš„æ–‡æ¡£</span><br><span class="line">	å®¢æˆ·åä½œ    é«˜äº åˆåŒè°ˆåˆ¤</span><br><span class="line">	å“åº”å˜åŒ–    é«˜äº éµå¾ªè®¡åˆ’</span><br><span class="line"></span><br><span class="line">ä¹Ÿå°±æ˜¯è¯´ï¼Œè™½ç„¶å³é¡¹æœ‰å…¶ä»·å€¼ï¼Œä½†æ˜¯æˆ‘ä»¬æ›´é‡è§†å·¦é¡¹çš„ä»·å€¼ã€‚</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä¸€åå¼€å‘äººå‘˜å¦‚æœæ€»æ˜¯æƒ³åŠæ³•ä¿æŠ¤è‡ªå·±ï¼Œ é‚£ä¹ˆä»–å°±ä¸å¤ªæ„¿æ„å°è¯•æ–°çš„åˆä½œæ–¹æ³•ï¼Œä¹Ÿä¸æ„¿æ„ä¸ºéœ€è¦ä»–ä»¬å¼€å‘çš„è½¯ä»¶çš„ç”¨æˆ·é‡‡ç”¨åˆ›æ–°çš„æ–¹æ³•ï¼</p>
</li>
<li><p>ä»»åŠ¡æ¿ ï¼ˆtask boardï¼‰æ˜¯ä¸€ç§è‰¯å¥½çš„å®è·µï¼Œ å¯ä»¥å¸®åŠ©å›¢é˜Ÿä½œå‡ºå“åº”å˜åŒ–çš„æ­£ç¡®å†³ç­–ï¼›</p>
<p><img src="" alt="ä»»åŠ¡æ¿"></p>
</li>
</ol>
<h2 id="æ•æ·åŸåˆ™"><a href="#æ•æ·åŸåˆ™" class="headerlink" title="æ•æ·åŸåˆ™"></a>æ•æ·åŸåˆ™</h2><ol>
<li>12æ¡åŸåˆ™ï¼š<ol>
<li>æœ€ä¼˜å…ˆè¦åšçš„æ˜¯å°½æ—©ã€æŒç»­åœ°äº¤ä»˜æœ‰ä»·å€¼çš„è½¯ä»¶ï¼Œè®©å®¢æˆ·æ»¡æ„</li>
<li>æ¬£ç„¶é¢å¯¹éœ€æ±‚å˜åŒ–ï¼Œå³ä½¿æ˜¯åœ¨å¼€å‘åæœŸ</li>
<li>é¢‘ç¹åœ°äº¤ä»˜å¯å·¥ä½œçš„è½¯ä»¶ï¼Œä»æ•°å‘¨åˆ°æ•°æœˆï¼Œäº¤ä»˜å‘¨æœŸè¶ŠçŸ­è¶Šå¥½</li>
<li>åœ¨å›¢é˜Ÿå†…å¤–ï¼Œé¢å¯¹é¢äº¤è°ˆæ˜¯æœ€æœ‰æ•ˆã€ä¹Ÿæ˜¯æœ€é«˜æ•ˆçš„æ²Ÿé€šæ–¹å¼</li>
<li>åœ¨æ•´ä¸ªé¡¹ç›®è¿‡ç¨‹ä¸­ï¼Œä¸šåŠ¡äººå‘˜å’Œå¼€å‘äººå‘˜å¿…é¡»æ¯å¤©éƒ½åœ¨ä¸€èµ·å·¥ä½œ</li>
<li>ä»¥å—æ¿€åŠ±çš„ä¸ªä½“ä¸ºæ ¸å¿ƒæ„å»ºé¡¹ç›®</li>
<li>å¯å·¥ä½œçš„è½¯ä»¶æ˜¯è¡¡é‡è¿›åº¦çš„é¦–è¦æ ‡å‡†</li>
<li>æ•æ·è¿‡ç¨‹å€¡å¯¼å¯æŒç»­å¼€å‘</li>
<li>åšæŒä¸æ‡ˆåœ°è¿½æ±‚æŠ€æœ¯å“è¶Šå’Œè‰¯å¥½çš„è®¾è®¡ï¼Œä»¥æ­¤å¢å¼ºæ•æ·çš„èƒ½åŠ›</li>
<li>ç®€å•æ˜¯å°½æœ€å¤§å¯èƒ½å‡å°‘ä¸å¿…è¦å·¥ä½œçš„è‰ºæœ¯ï¼Œæ˜¯æ•æ·çš„æ ¹æœ¬</li>
<li>æœ€å¥½çš„æ¶æ„ã€éœ€æ±‚å’Œè®¾è®¡æ¥è‡ªè‡ªç»„ç»‡çš„å›¢é˜Ÿ</li>
<li>å›¢é˜Ÿå®šæœŸåæ€å¦‚ä½•æå‡æ•ˆç‡ï¼Œå¹¶ä¾æ­¤è°ƒæ•´è‡ªå·±çš„è¡Œä¸º</li>
</ol>
</li>
<li>å°½æ—©äº¤ä»˜æœ‰ä¸€ä¸ªç¼ºç‚¹ï¼šæœ€åˆäº¤ä»˜ç»™å®¢æˆ·çš„è½¯ä»¶å®Œæˆåº¦éå¸¸ä½!</li>
<li>æ¬£ç„¶é¢å¯¹éœ€æ±‚å˜åŒ–çš„ç¬¬ä¸€æ­¥æ˜¯å°è¯•ä»å®¢æˆ·çš„è§’åº¦çœ‹é—®é¢˜ï¼ˆçœŸçš„æœ‰ç‚¹éš¾ï¼‰ï¼Œå¦‚æœå…¬å¸å…è®¸æˆ‘ä»¬çŠ¯é”™å¹¶ä¸”èƒ½å°½å¿«æ”¹æ­£ï¼Œ è€Œä¸æ˜¯æœŸå¾…æˆ‘ä»¬ä¸€å¼€å§‹å°±æŠŠäº‹æƒ…åšå®Œç¾å°±æ›´å¥½äº†ï¼ˆä¹Ÿå¾ˆéš¾ï¼‰ï¼</li>
<li>å°½æ—©ä¿®å¤é”™è¯¯ï¼Œæ‰èƒ½å¤ŸæŠŠæŸå¤±é™ä½åˆ°æœ€ä½ï¼Œå¼€å‘è¿‡ç¨‹ä¸­çš„å„ç§å†³ç­–è®©æˆ‘ä»¬çœ‹åˆ°ç°åœ¨å¿…é¡»å¦‚ä½•æ”¹å˜ï¼</li>
<li>åœ¨è½¯ä»¶å›¢é˜Ÿä¸­ï¼Œé¢å¯¹é¢æ²Ÿé€šæ–¹å¼å‡ ä¹æ€»æ˜¯ä¼˜äºæ–‡æ¡£æ²Ÿé€šï¼</li>
<li>ä¸€ä¸ªå›¢é˜Ÿè¶Šèƒ½å½¢æˆé›†ä½“æ„è¯†ï¼Œ è¶Šèƒ½å…±äº«åŒæ ·çš„è§†è§’ï¼Œå°±è¶Šå®¹æ˜“å¯¹åŒæ ·çš„é—®é¢˜å½¢æˆä¸€è‡´çš„ç­”æ¡ˆï¼›</li>
<li>äººä»¬åº”è¯¥æ ¹æ®å¯¹æ•´ä¸ªå›¢é˜Ÿç›®æ ‡æ‰€åšå‡ºçš„è´¡çŒ®è¿›è¡Œè€ƒæ ¸ï¼</li>
<li>KISSï¼ˆKeep It Simple, Stupidï¼Œ ä¿æŒç®€å•ï¼‰æ˜¯ä¸€é¡¹ä¸ä»…åº”ç”¨äºè½¯ä»¶å¼€å‘ï¼Œä¹Ÿåº”ç”¨äºå…¶ä»–æ‰€æœ‰å·¥ç¨‹å®è·µä¸­çš„æœ€åŸºæœ¬çš„è®¾è®¡åŸåˆ™ï¼›</li>
</ol>
<h2 id="Scrumå’Œè‡ªç»„ç»‡å›¢é˜Ÿ"><a href="#Scrumå’Œè‡ªç»„ç»‡å›¢é˜Ÿ" class="headerlink" title="Scrumå’Œè‡ªç»„ç»‡å›¢é˜Ÿ"></a>Scrumå’Œè‡ªç»„ç»‡å›¢é˜Ÿ</h2><ol>
<li></li>
</ol>
<hr>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1>]]></content>
      <categories>
        <category>Base</category>
      </categories>
  </entry>
  <entry>
    <title>æ´—è¡£æœºæ•°æ®æŸ¥è¯¢</title>
    <url>/2020/06/13/%E6%B4%97%E8%A1%A3%E6%9C%BA%E6%95%B0%E6%8D%AE%E6%9F%A5%E8%AF%A2/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>å·¥ä½œä¸­ç»å¸¸éœ€è¦æŸ¥è¯¢è®¾å¤‡çš„ä¸€äº›ä¿¡æ¯æ¥å®šä½é—®é¢˜ï¼Œæ¯æ¬¡éƒ½è¦è‡ªå·±å†™SQLæŸ¥è¯¢è¯­å¥ï¼Œç‰¹éº»çƒ¦ï¼Œå­¦ä¹ äº†SpringBootï¼Œç„¶åå…¬å¸éœ€è¦å°±å¼€å‘äº†æ´—è¡£æœºæ•°æ®æŸ¥è¯¢é¡¹ç›®ï¼Œè¿™é‡Œä¸»è¦è®°å½•å¼€å‘ä¸­çš„é‡è¦æ­¥éª¤ï¼</p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="å¼€æ™®å‹’ç³»ç»ŸAPI"><a href="#å¼€æ™®å‹’ç³»ç»ŸAPI" class="headerlink" title="å¼€æ™®å‹’ç³»ç»ŸAPI"></a>å¼€æ™®å‹’ç³»ç»ŸAPI</h2><ol>
<li><p>å†…ç½‘è¿›å…¥<a href="http://k.midea.com/portal/app/choose/index.html" target="_blank" rel="noopener">å¼€æ™®å‹’ç³»ç»Ÿ</a>ï¼›</p>
</li>
<li><p>é€‰æ‹©æ™ºæ…§çœ¼ä¸­çš„æ™ºèƒ½æ•°æ®å…±äº«å¹³å°ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/5b47de9c137774f52545fefbc11af9e5-113471" alt="æ•°æ®å…±äº«å¹³å°"></p>
</li>
<li><p>é€‰æ‹©äº‹ä¸šéƒ¨çš„æ•°æ®æ“ä½œæ¥å£ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/d5eee1d3094258e5755e8c47b2101684-53752" alt="æ•°æ®é›†åˆ›å»ºå…¥å£"></p>
</li>
<li><p>åˆ›å»ºæ•°æ®é›†ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/92e8fc16f1ec3b3390ba12dff1b7082c-165643" alt="åˆ›å»ºæ•°æ®é›†"></p>
</li>
<li><p>æ•°æ®é›†åˆ—è¡¨ï¼ˆæ»šç­’æ ·ä¾‹ï¼‰ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/2e31601452b72f652d8ba53fdf6c275e-189022" alt="æ»šç­’æ•°æ®é›†åˆ—è¡¨"></p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/4bf0d93face6795b2684e5a2c9480a26-26273" alt="æ•°æ®æ˜¾ç¤ºè¯¦æƒ…"></p>
</li>
<li><p>åˆ›å»ºæ•°æ®é›†æ ·ä¾‹ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/6d7a41b0e1e0bd277b0a642a05c630e3-169772" alt="æ•°æ®é›†åˆ›å»ºå†…å®¹æ³¨é‡Š"></p>
</li>
<li><p>åœ¨APIç®¡ç†æ·»åŠ æ¥å£ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/dad4c93931e1988477ca295542683e41-62627" alt="æ¥å£"></p>
</li>
<li><p>åˆ›å»ºæ¥å£ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/8c0641b61a602d48e2f3e3b7da8acce7-82276" alt=""></p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/348a5cd300a1a457f5e1ea0d9bf065f0-91026" alt=""></p>
</li>
<li><p>åˆ›å»ºå®Œæˆåå°±å¯ä»¥å†…ç½‘è®¿é—®æ¥å£è·å–æ•°æ®äº†ï¼Œåœ¨æ£€æµ‹ä¸­ä¼šå‡ºæ•°æ®æ ¼å¼ï¼›</p>
</li>
<li><p>å¤–ç½‘è®¿é—®æ˜¯å•ç‹¬éœ€è¦æƒé™çš„ï¼Œè€Œä¸”é…ç½®åœ°å€ä¹Ÿä¸ä¸€æ ·ï¼Œé…ç½®åœ°å€ä¸º<a href="https://bigdataservice.midea.com/InterfacePlatform/#/" target="_blank" rel="noopener">https://bigdataservice.midea.com/InterfacePlatform/#/</a></p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/823674dd91a938415ad6126d920daf7d-80424" alt=""></p>
</li>
</ol>
<h2 id="é…ç½®æ— éœ€ç™»å½•è®¿é—®æ•°æ®"><a href="#é…ç½®æ— éœ€ç™»å½•è®¿é—®æ•°æ®" class="headerlink" title="é…ç½®æ— éœ€ç™»å½•è®¿é—®æ•°æ®"></a>é…ç½®æ— éœ€ç™»å½•è®¿é—®æ•°æ®</h2><ol>
<li><p>å› ä¸ºå®‰å…¨é—®é¢˜ï¼Œå†…å¤–ç½‘éœ€è¦è®¿é—®æ•°æ®çš„æ—¶å€™éœ€è¦åœ¨headersä¸­æ·»åŠ tokenä»¥åŠIdentifyingCodeï¼Œtokenå€¼ä¸ºå›ºå®šå€¼ï¼Œå…¶å€¼ä¸ºENX91skR59ï¼ŒIdentifyingCodeæ˜¯éœ€è¦å®æ—¶è·å–çš„ï¼Œæœ‰æœ‰æ•ˆæ—¶é—´ï¼Œæ—¶é—´ä¸º10åˆ†é’Ÿï¼Œè·å–åœ°å€ä¸ºï¼š<a href="https://bigdataservice.midea.com/InterfacePlatform/validate/getIdentifyingCode" target="_blank" rel="noopener">https://bigdataservice.midea.com/InterfacePlatform/validate/getIdentifyingCode</a></p>
</li>
<li><p>è·å–IdentifyingCodeï¼Œæ˜¾ç¤ºç»“æœä¸ºï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/f1b06eb2b454d175e8d3ce7e1c43bc69-17692" alt=""></p>
</li>
<li><p>å¯ä»¥é€šè¿‡postmanå°è¯•æ¥å£ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/786d0bbddf0530ffae63345601e6c953-29215" alt="postman"></p>
</li>
<li><p>é¡¹ç›®è®¿é—®ï¼ˆ<a href="http://test2.zhinengxiyifang.cn:12315/ï¼‰ï¼š" target="_blank" rel="noopener">http://test2.zhinengxiyifang.cn:12315/ï¼‰ï¼š</a></p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/6b5a91a3bd28b019b7fd61f7b6bcd7c2-125607" alt="æŸ¥è¯¢"></p>
</li>
<li><p>è·å–æ¥å£åœ°å€ï¼š<a href="http://test2.zhinengxiyifang.cn:12315/swagger-ui.html" target="_blank" rel="noopener">http://test2.zhinengxiyifang.cn:12315/swagger-ui.html</a></p>
</li>
</ol>
<h2 id="ShowMeYourCode"><a href="#ShowMeYourCode" class="headerlink" title="ShowMeYourCode"></a>ShowMeYourCode</h2><ol>
<li><p>è·å–è®¤è¯å€¼ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/***</span></span><br><span class="line"><span class="comment"> * å¼€æ™®å‹’é—¨æˆ·çš„è®¤è¯ç æŸ¥è¯¢ï¼Œ10åˆ†é’Ÿå†…ä¸è¿‡æœŸ</span></span><br><span class="line"><span class="comment"> * æ¯æ¬¡éœ€è¦æ£€æŸ¥æ˜¯å¦è¿‡æœŸï¼Œä¸è¿‡æœŸå°±ç›´æ¥ä½¿ç”¨åŸæ¥çš„tokenå€¼ï¼Œè¿‡æœŸçš„è¯å°±è¦é‡æ–°è·å–</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">GetToken</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String IdentifyingCodeURL =<span class="string">"https://bigdataservice.midea.com/InterfacePlatform/validate/getIdentifyingCode"</span>;</span><br><span class="line">    <span class="keyword">private</span> CloseableHttpClient httpclient;</span><br><span class="line">    <span class="keyword">private</span> HttpGet httpGet;</span><br><span class="line">    <span class="keyword">private</span> CloseableHttpResponse response;</span><br><span class="line">    <span class="keyword">private</span> String identifyingCode;</span><br><span class="line">    <span class="keyword">private</span> IdentifyingCodeData identifyingCodeData;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> tryMaxTimes;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">GetToken</span><span class="params">()</span></span>&#123;</span><br><span class="line">         httpclient=<span class="keyword">null</span>;</span><br><span class="line">         <span class="comment">// åˆ›å»ºHttpGetè¯·æ±‚ï¼Œç›¸å½“äºåœ¨æµè§ˆå™¨è¾“å…¥åœ°å€</span></span><br><span class="line">         httpGet = <span class="keyword">new</span> HttpGet(IdentifyingCodeURL);</span><br><span class="line">         identifyingCode=<span class="keyword">null</span>;</span><br><span class="line">         identifyingCodeData=<span class="keyword">null</span>;</span><br><span class="line">         response=<span class="keyword">null</span>;</span><br><span class="line">         tryMaxTimes=<span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">    * æ‰§è¡Œæµè§ˆå™¨æŸ¥è¯¢</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">Execute</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        tryMaxTimes++;</span><br><span class="line">        <span class="comment">// åˆ›å»ºHttpclientå¯¹è±¡,ç›¸å½“äºæ‰“å¼€äº†æµè§ˆå™¨</span></span><br><span class="line">        httpclient = HttpClients.createDefault();</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">// æ‰§è¡Œè¯·æ±‚ï¼Œç›¸å½“äºæ•²å®Œåœ°å€åæŒ‰ä¸‹å›è½¦ã€‚è·å–å“åº”</span></span><br><span class="line">            response = httpclient.execute(httpGet);</span><br><span class="line">            <span class="comment">// åˆ¤æ–­è¿”å›çŠ¶æ€æ˜¯å¦ä¸º200</span></span><br><span class="line">            <span class="keyword">if</span> (response.getStatusLine().getStatusCode() == <span class="number">200</span>) &#123;</span><br><span class="line">                <span class="comment">// è§£æå“åº”ï¼Œè·å–æ•°æ®</span></span><br><span class="line">                String content = EntityUtils.toString(response.getEntity(), <span class="string">"UTF-8"</span>);</span><br><span class="line">                identifyingCodeData= (IdentifyingCodeData) JsonExchange.jsonToObj(<span class="keyword">new</span> IdentifyingCodeData(),content);</span><br><span class="line">                identifyingCode=identifyingCodeData.getData().getIdentifyingCode();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (response != <span class="keyword">null</span>) &#123;</span><br><span class="line">                <span class="comment">// å…³é—­èµ„æº</span></span><br><span class="line">                response.close();</span><br><span class="line">            &#125;</span><br><span class="line">             httpclient.close();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è·å–è®¤è¯å€¼,æœ‰å¯èƒ½ä¸ºnull</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> IOException</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getIdentifyingCode</span><span class="params">()</span> <span class="keyword">throws</span> IOException, ParseException </span>&#123;</span><br><span class="line">        Date date = <span class="keyword">new</span> Date();</span><br><span class="line">        <span class="keyword">if</span>(identifyingCodeData!=<span class="keyword">null</span>&amp;&amp;identifyingCodeData.getData().getExpiryTime().after(date))</span><br><span class="line">        &#123;</span><br><span class="line"></span><br><span class="line">            tryMaxTimes=<span class="number">0</span>;</span><br><span class="line">            <span class="keyword">return</span> identifyingCode;</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            Execute();</span><br><span class="line">            <span class="keyword">if</span>(identifyingCode==<span class="keyword">null</span>&amp;&amp;tryMaxTimes&lt;<span class="number">5</span>)&#123;</span><br><span class="line">                <span class="keyword">return</span> getIdentifyingCode();</span><br><span class="line">            &#125;<span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                tryMaxTimes=<span class="number">0</span>;</span><br><span class="line">                <span class="keyword">return</span> identifyingCode;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>è·å–æ•°æ®:</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è·å–å¼€æ™®å‹’å¤§æ•°æ®çš„æ¥å£æ•°æ®ï¼Œåªéœ€è¦è®¾ç½®å¥½æ•°æ®åœ°å€</span></span><br><span class="line"><span class="comment"> * ç„¶åæ‰§è¡ŒgetContentData()æ–¹æ³•å°±å¯ä»¥è·å–æ•°æ®ï¼ˆGETæ–¹å¼ï¼‰æˆ–è€…getContentDataPost()æ–¹æ³•è·å–æ•°æ®(POSTæ–¹æ³•)</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">GetData</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String dataURL;</span><br><span class="line">    <span class="keyword">private</span> String dataURLPast;</span><br><span class="line">    <span class="keyword">private</span> CloseableHttpClient httpclient;</span><br><span class="line">    <span class="keyword">private</span> HttpGet httpGet;</span><br><span class="line">    <span class="keyword">private</span> CloseableHttpResponse response;</span><br><span class="line">    <span class="keyword">private</span> String identifyingCode;</span><br><span class="line">    <span class="keyword">private</span> String contentData;</span><br><span class="line">    <span class="keyword">private</span> GetToken getToken;</span><br><span class="line">    <span class="keyword">private</span> HttpPost httpPost;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">GetData</span><span class="params">()</span></span>&#123;</span><br><span class="line">        dataURL=<span class="keyword">null</span>;</span><br><span class="line">        httpclient=<span class="keyword">null</span>;</span><br><span class="line">        httpGet = <span class="keyword">null</span>;</span><br><span class="line">        httpPost=<span class="keyword">null</span>;</span><br><span class="line">        identifyingCode=<span class="keyword">null</span>;</span><br><span class="line">        response=<span class="keyword">null</span>;</span><br><span class="line">        contentData=<span class="keyword">null</span>;</span><br><span class="line">        dataURLPast=<span class="keyword">null</span>;</span><br><span class="line">        getToken=<span class="keyword">new</span> GetToken();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setDataURL</span><span class="params">(String dataURL)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.dataURL = dataURL;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">ExecutePost</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        httpPost=<span class="keyword">new</span> HttpPost(dataURL);</span><br><span class="line">        <span class="comment">// åˆ›å»ºHttpclientå¯¹è±¡,ç›¸å½“äºæ‰“å¼€äº†æµè§ˆå™¨</span></span><br><span class="line">        httpclient = HttpClients.createDefault();</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">// æ‰§è¡Œè¯·æ±‚ï¼Œç›¸å½“äºæ•²å®Œåœ°å€åæŒ‰ä¸‹å›è½¦ã€‚è·å–å“åº”</span></span><br><span class="line">            <span class="comment">/**</span></span><br><span class="line"><span class="comment">             * ä¿®æ”¹tokenå€¼ï¼Œå¤–ç½‘è®¿é—®çš„ä¸ä¸€æ ·</span></span><br><span class="line"><span class="comment">             */</span></span><br><span class="line">            httpPost.addHeader(<span class="string">"token"</span>,<span class="string">"ENX91skR59"</span>);</span><br><span class="line">            httpPost.addHeader(<span class="string">"IdentifyingCode"</span>,getToken.getIdentifyingCode());</span><br><span class="line"></span><br><span class="line">            response = httpclient.execute(httpPost);</span><br><span class="line">            <span class="comment">// åˆ¤æ–­è¿”å›çŠ¶æ€æ˜¯å¦ä¸º200</span></span><br><span class="line">            <span class="keyword">if</span> (response.getStatusLine().getStatusCode() == <span class="number">200</span>) &#123;</span><br><span class="line">                <span class="comment">// è§£æå“åº”ï¼Œè·å–æ•°æ®</span></span><br><span class="line">                contentData = EntityUtils.toString(response.getEntity(), <span class="string">"UTF-8"</span>);</span><br><span class="line">                dataURLPast=dataURL;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (ParseException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (response != <span class="keyword">null</span>) &#123;</span><br><span class="line">                <span class="comment">// å…³é—­èµ„æº</span></span><br><span class="line">                response.close();</span><br><span class="line">            &#125;</span><br><span class="line">            httpclient.close();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">ExecuteGet</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        httpGet=<span class="keyword">new</span> HttpGet(dataURL);</span><br><span class="line">        <span class="comment">// åˆ›å»ºHttpclientå¯¹è±¡,ç›¸å½“äºæ‰“å¼€äº†æµè§ˆå™¨</span></span><br><span class="line">        httpclient = HttpClients.createDefault();</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">// æ‰§è¡Œè¯·æ±‚ï¼Œç›¸å½“äºæ•²å®Œåœ°å€åæŒ‰ä¸‹å›è½¦ã€‚è·å–å“åº”</span></span><br><span class="line">            httpGet.addHeader(<span class="string">"token"</span>,<span class="string">"tM1Fw9huqq"</span>);</span><br><span class="line">            httpGet.addHeader(<span class="string">"IdentifyingCode"</span>,getToken.getIdentifyingCode());</span><br><span class="line">            response = httpclient.execute(httpGet);</span><br><span class="line">            <span class="comment">// åˆ¤æ–­è¿”å›çŠ¶æ€æ˜¯å¦ä¸º200</span></span><br><span class="line">            <span class="keyword">if</span> (response.getStatusLine().getStatusCode() == <span class="number">200</span>) &#123;</span><br><span class="line">                <span class="comment">// è§£æå“åº”ï¼Œè·å–æ•°æ®</span></span><br><span class="line">                contentData = EntityUtils.toString(response.getEntity(), <span class="string">"UTF-8"</span>);</span><br><span class="line">                dataURLPast=dataURL;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (ParseException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (response != <span class="keyword">null</span>) &#123;</span><br><span class="line">                <span class="comment">// å…³é—­èµ„æº</span></span><br><span class="line">                response.close();</span><br><span class="line">            &#125;</span><br><span class="line">            httpclient.close();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getContentData</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(contentData==<span class="keyword">null</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            ExecuteGet();</span><br><span class="line">            <span class="keyword">return</span> contentData;</span><br><span class="line"></span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(contentData!=<span class="keyword">null</span>&amp;&amp;dataURL.equals(dataURLPast))</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> contentData;</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            ExecuteGet();</span><br><span class="line">            <span class="keyword">return</span> contentData;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getContentDataPost</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(contentData==<span class="keyword">null</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            ExecutePost();</span><br><span class="line">            <span class="keyword">return</span> contentData;</span><br><span class="line"></span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(contentData!=<span class="keyword">null</span>&amp;&amp;dataURL.equals(dataURLPast))</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> contentData;</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            ExecutePost();</span><br><span class="line">            <span class="keyword">return</span> contentData;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>fastjsonè§£ææ•°æ®ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ClassesCountDataArr</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> List&lt;ClassesCountData&gt; arr;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ClassesCountDataArr</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å¯¹å¼€æ™®å‹’é—¨æˆ·è¿”å›çš„arræ•°ç»„å†…å®¹è¿›è¡Œè§£æ</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> arr</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> JsonProcessingException</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ClassesCountDataArr</span><span class="params">(String arr)</span> <span class="keyword">throws</span> JsonProcessingException </span>&#123;</span><br><span class="line">        ObjectMapper mapper = <span class="keyword">new</span> ObjectMapper();</span><br><span class="line">        JsonNode rootNode = mapper.readTree(arr);</span><br><span class="line">        <span class="comment">// è·å–jsonæ•°ç»„çš„å€¼----è¿›è¡Œå¾ªç¯éå†</span></span><br><span class="line">        JsonNode dewatering_speedNode = rootNode.get(<span class="string">"arr"</span>);</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">null</span> != dewatering_speedNode &amp;&amp; dewatering_speedNode.size() &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            ArrayList&lt;ClassesCountData&gt; dewatering_speed = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">            <span class="keyword">for</span> (JsonNode node : dewatering_speedNode) &#123;</span><br><span class="line">                ClassesCountData dewaterSpeed=<span class="keyword">new</span> ClassesCountData();</span><br><span class="line">                dewaterSpeed.setClasses(node.get(<span class="string">"classes"</span>).asText());</span><br><span class="line">                dewaterSpeed.setCount(node.get(<span class="string">"count"</span>).asText());</span><br><span class="line">                dewatering_speed.add(dewaterSpeed);</span><br><span class="line">            &#125;</span><br><span class="line">            setArr(dewatering_speed);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;ClassesCountData&gt; <span class="title">getArr</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> arr;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setArr</span><span class="params">(List&lt;ClassesCountData&gt; arr)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.arr = arr;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<hr>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>é‡ç‚¹å†…å®¹éƒ½è®°å½•äº†ï¼Œæš‚æ—¶æ²¡æœ‰æ·»åŠ æ•°æ®åº“çš„éœ€æ±‚ï¼Œä¸»è¦è¿˜æ˜¯å› ä¸ºIoTçš„æ¥å£çœŸçš„æ²¡æ³•åæ§½äº†ï¼Œè¿˜æœ‰æœ€è¿‘éƒ½æ˜¯ç¼ºäººï¼Œå‘¨æ—¥è¿˜æ¥å…¬å¸åŠ ç­ï¼Œéƒ½æ˜¯å°½åŠ›æŠ½æ—¶é—´æ¥å†™å‡ºæ¥ï¼è®°å½•çš„æ‰èƒ½ä¸ä¼šå¿˜è®°å¦‚ä½•é…ç½®ï¼</p>
]]></content>
      <categories>
        <category>Work</category>
      </categories>
  </entry>
  <entry>
    <title>æ·±å…¥Linuxå†…æ ¸æ¶æ„</title>
    <url>/2020/06/22/%E6%B7%B1%E5%85%A5Linux%E5%86%85%E6%A0%B8%E6%9E%B6%E6%9E%84/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>UNIXå’ŒLinuxæ“ä½œç³»ç»Ÿçš„æºä»£ç å¤æ‚ã€æ–‡æ¡£å°‘ã€å¯¹ç¨‹åºå‘˜çš„è¦æ±‚é«˜ï¼Œè¦æƒ³çœ‹æ‡‚è¿™äº›ä»£ç å¹¶ä¸æ˜¯ä¸€ä»¶å®¹æ˜“äº‹ã€‚ <strong>æ¨èä¹¦ç±ï¼šã€Šæ·±å…¥Linuxå†…æ ¸æ¶æ„ã€‹Â· [å¾·] Wolfgang Mauerer è‘— éƒ­æ—­ è¯‘</strong> </p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="åŸºç¡€çŸ¥è¯†"><a href="#åŸºç¡€çŸ¥è¯†" class="headerlink" title="åŸºç¡€çŸ¥è¯†"></a>åŸºç¡€çŸ¥è¯†</h2><ol>
<li><p>Linuxç°åœ¨å·²ç»å®‰è£…åˆ°äº†æ•°ç™¾ä¸‡å°ç”µè„‘ä¸Šï¼Œæ— è®ºæ˜¯å®¶åº­ç”¨æˆ·è¿˜æ˜¯ä¸“ä¸šäººå‘˜ï¼Œéƒ½å¯ä»¥åœ¨Linuxä¸Šæ‰§è¡Œå„ç§ä»»åŠ¡ï¼›</p>
</li>
<li><p>åœ¨çº¯æŠ€æœ¯å±‚é¢ä¸Šï¼Œå†…æ ¸æ˜¯ç¡¬ä»¶ä¸è½¯ä»¶ä¹‹é—´çš„ä¸€ä¸ªä¸­é—´å±‚ï¼›</p>
</li>
<li><p>å¾®å†…æ ¸ï¼šåªæœ‰æœ€åŸºæœ¬çš„åŠŸèƒ½ç›´æ¥ç”±ä¸­å¤®å†…æ ¸ï¼ˆå³å¾®å†…æ ¸ï¼‰å®ç°ï¼›</p>
</li>
<li><p>å®å†…æ ¸ï¼šä¸å¾®å†…æ ¸ç›¸åï¼Œå®å†…æ ¸æ˜¯æ„å»ºç³»ç»Ÿå†…æ ¸çš„ä¼ ç»Ÿæ–¹æ³•ï¼›</p>
</li>
<li><p>UNIXå’ŒLinuxæ“ä½œç³»ç»Ÿçš„æºä»£ç å¤æ‚ã€æ–‡æ¡£å°‘ã€å¯¹ç¨‹åºå‘˜çš„è¦æ±‚é«˜ï¼Œè¦æƒ³çœ‹æ‡‚è¿™äº›ä»£ç å¹¶ä¸æ˜¯ä¸€ ä»¶å®¹æ˜“äº‹ï¼›</p>
</li>
<li><p>ç”±äºLinuxçš„å­˜åœ¨ï¼Œä½¿å¾—æˆ‘ä»¬èƒ½å¤ŸæŸ¥çœ‹ä¸€ä¸ªçœŸæ­£çš„ã€å¯å·¥ä½œçš„ã€äº§å“çº§æ“ä½œç³»ç»Ÿçš„æºä»£ç ã€‚åœ¨ç†è§£Linuxå†…æ ¸çš„ç»“æ„å’Œå®ç°çš„è¿‡ç¨‹ä¸­ï¼Œé˜…è¯»å’Œä½¿ç”¨å®é™…çš„æºä»£ç æ˜¯å¿…ä¸å¯å°‘çš„ä¸€ä¸ªæ­¥éª¤ï¼›</p>
</li>
<li><p>Linuxå†…æ ¸çš„é«˜å±‚æ¬¡æ¦‚è¿°ï¼š</p>
<p><img src="" alt="Linuxå†…æ ¸çš„é«˜å±‚æ¬¡æ¦‚è¿°"></p>
</li>
<li><p>ä¼ ç»Ÿä¸Šï¼ŒUNIXæ“ä½œç³»ç»Ÿä¸‹è¿è¡Œçš„åº”ç”¨ç¨‹åºã€æœåŠ¡å™¨åŠå…¶ä»–ç¨‹åºéƒ½ç§°ä¸ºè¿›ç¨‹ï¼›</p>
</li>
<li><p>ç”±äºLinuxæ˜¯å¤šä»»åŠ¡ç³»ç»Ÿï¼Œå®ƒæ”¯æŒå¹¶å‘æ‰§è¡Œçš„è‹¥å¹²è¿›ç¨‹ï¼Œç³»ç»Ÿä¸­åŒæ—¶çœŸæ­£åœ¨è¿è¡Œçš„è¿›ç¨‹æ•°ç›®æœ€å¤šä¸è¶…è¿‡CPUæ•°ç›®ï¼Œå› æ­¤å†…æ ¸ä¼šæŒ‰ç…§çŸ­çš„æ—¶é—´é—´éš”åœ¨ä¸åŒçš„è¿›ç¨‹ä¹‹é—´åˆ‡æ¢ï¼š</p>
<ul>
<li>è¿›ç¨‹ä¹‹é—´çš„åˆ‡æ¢ç§°ä¹‹ä¸ºè¿›ç¨‹åˆ‡æ¢</li>
<li>ç¡®å®šå“ªä¸ªè¿›ç¨‹è¿è¡Œå¤šé•¿æ—¶é—´çš„è¿‡ç¨‹ç§°ä¸ºè°ƒåº¦</li>
</ul>
</li>
<li><p>UNIXæ“ä½œç³»ç»Ÿä¸­æœ‰ä¸¤ç§åˆ›å»ºæ–°è¿›ç¨‹çš„æœºåˆ¶ï¼Œåˆ†åˆ«æ˜¯forkå’Œexecï¼š</p>
<ul>
<li>forkå¯ä»¥åˆ›å»ºå½“å‰è¿›ç¨‹çš„ä¸€ä¸ªå‰¯æœ¬ï¼Œçˆ¶è¿›ç¨‹å’Œå­è¿›ç¨‹åªæœ‰PIDï¼ˆè¿›ç¨‹IDï¼‰ä¸åŒ</li>
<li>execå°†ä¸€ä¸ªæ–°ç¨‹åºåŠ è½½åˆ°å½“å‰è¿›ç¨‹çš„å†…å­˜ä¸­å¹¶æ‰§è¡Œ</li>
</ul>
</li>
<li><p>Linuxå°†è™šæ‹Ÿåœ°å€ç©ºé—´åˆ’åˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†ï¼Œåˆ†åˆ«ç§°ä¸ºå†…æ ¸ç©ºé—´å’Œç”¨æˆ·ç©ºé—´ï¼š</p>
<p><img src="" alt="è™šæ‹Ÿåœ°å€ç©ºé—´åˆ’åˆ†"></p>
<ul>
<li>ç³»ç»Ÿä¸­æ¯ä¸ªç”¨æˆ·è¿›ç¨‹éƒ½æœ‰è‡ªèº«çš„è™šæ‹Ÿåœ°å€èŒƒå›´ï¼Œ ä» 0åˆ° TASK_SIZE</li>
<li>TASK_SIZEæ˜¯ä¸€ä¸ªç‰¹å®šäºè®¡ç®—æœºä½“ç³»ç»“æ„çš„å¸¸æ•°ï¼ŒæŠŠåœ°å€ç©ºé—´æŒ‰ç»™å®šæ¯”ä¾‹åˆ’åˆ†ä¸ºä¸¤éƒ¨åˆ†</li>
<li>è¿™ç§åˆ’åˆ†ä¸å¯ç”¨çš„å†…å­˜æ•°é‡æ— å…³</li>
</ul>
</li>
<li><p>åœ¨ç”¨æˆ·æ€ç¦æ­¢è®¿é—®å†…æ ¸ç©ºé—´ï¼Œåœ¨å†…æ ¸æ€å¯ä»¥è®¿é—®å†…æ ¸ç©ºé—´ã€‚ç”¨æˆ·è¿›ç¨‹ä¸èƒ½æ“ä½œæˆ–è¯»å–å†…æ ¸ç©ºé—´ä¸­çš„æ•°æ®ï¼Œä¹Ÿæ— æ³•æ‰§è¡Œå†…æ ¸ç©ºé—´ä¸­çš„ä»£ç ã€‚ä»ç”¨æˆ·çŠ¶æ€åˆ°æ ¸å¿ƒæ€çš„åˆ‡æ¢é€šè¿‡ç³»ç»Ÿè°ƒç”¨çš„ç‰¹å®šè½¬æ¢æ‰‹æ®µå®Œæˆï¼Œä¸”ç³»ç»Ÿè°ƒç”¨çš„æ‰§è¡Œå› å…·ä½“ç³»ç»Ÿè€Œä¸åŒï¼›</p>
</li>
<li><p>å†…æ ¸ç©ºé—´å’Œç”¨æˆ·ç©ºé—´çš„åˆ‡æ¢ï¼š</p>
<p><img src="" alt="å†…æ ¸ç©ºé—´å’Œç”¨æˆ·ç©ºé—´çš„åˆ‡æ¢"></p>
</li>
<li><p>ç”¨æ¥å°†è™šæ‹Ÿåœ°å€ç©ºé—´æ˜ å°„åˆ°ç‰©ç†åœ°å€ç©ºé—´çš„æ•°æ®ç»“æ„ç§°ä¸ºé¡µè¡¨ï¼›</p>
<p><img src="" alt="è™šæ‹Ÿåœ°å€åˆ†é…"></p>
<ul>
<li>è™šæ‹Ÿåœ°å€çš„ç¬¬ä¸€éƒ¨åˆ†ç§°ä¸ºå…¨å±€é¡µç›®å½•ï¼ˆPage Global Directoryï¼ŒPGDï¼‰ã€‚PGDç”¨äºç´¢å¼•è¿›ç¨‹ä¸­çš„ä¸€ä¸ªæ•°ç»„ï¼ˆæ¯ä¸ªè¿›ç¨‹æœ‰ä¸”ä»…æœ‰ä¸€ä¸ªï¼‰ï¼Œè¯¥æ•°ç»„æ˜¯æ‰€è°“çš„å…¨å±€é¡µç›®å½•æˆ–PGDã€‚PGDçš„æ•°ç»„é¡¹æŒ‡å‘å¦ä¸€äº›æ•°ç»„çš„èµ·å§‹åœ°å€ï¼Œè¿™äº›æ•°ç»„ç§°ä¸ºä¸­é—´é¡µç›®å½•ï¼ˆPage Middle Directoryï¼ŒPMDï¼‰</li>
<li>è™šæ‹Ÿåœ°å€æœ€åçš„ä¸€éƒ¨åˆ†ç§°ä¸ºåç§»é‡</li>
<li>åœ°å€è½¬æ¢ä¸­å‡ºç°æœ€é¢‘ç¹çš„é‚£äº›åœ°å€ï¼Œä¿å­˜åˆ°ç§°ä¸ºåœ°å€è½¬æ¢åå¤‡ç¼“å†²å™¨ï¼ˆTranslation Lookaside Bufferï¼ŒTLBï¼‰çš„CPUé«˜é€Ÿç¼“å­˜ä¸­</li>
</ul>
</li>
<li><p>é¡µé¢äº¤æ¢é€šè¿‡åˆ©ç”¨ç£ç›˜ç©ºé—´ä½œä¸ºæ‰©å±•å†…å­˜ï¼Œä»è€Œå¢å¤§äº†å¯ç”¨çš„å†…å­˜ã€‚åœ¨å†…æ ¸éœ€è¦æ›´å¤šå†…å­˜æ—¶ï¼Œä¸ç»å¸¸ä½¿ç”¨çš„é¡µå¯ä»¥å†™å…¥ç¡¬ç›˜ã€‚å¦‚æœå†éœ€è¦è®¿é—®ç›¸å…³æ•°æ®ï¼Œé€šè¿‡ç¼ºé¡µå¼‚å¸¸æœºåˆ¶å†…æ ¸ä¼šå°†ç›¸åº”çš„é¡µåˆ‡æ¢å›å†…å­˜ã€‚é¡µé¢å›æ”¶ç”¨äºå°†å†…å­˜æ˜ å°„è¢«ä¿®æ”¹çš„å†…å®¹ä¸åº•å±‚çš„å—è®¾å¤‡åŒæ­¥ï¼Œä¸ºæ­¤æœ‰æ—¶ä¹Ÿç®€ç§°ä¸ºæ•°æ®å›å†™ï¼›</p>
</li>
<li><p>POSIXè¯­ä¹‰ï¼š</p>
<ul>
<li>è¿›ç¨‹ç®¡ç†ï¼šåˆ›å»ºæ–°è¿›ç¨‹ï¼ŒæŸ¥è¯¢ä¿¡æ¯ï¼Œè°ƒè¯•</li>
<li>ä¿¡å·ï¼šå‘é€ä¿¡å·ï¼Œå®šæ—¶å™¨ä»¥åŠç›¸å…³å¤„ç†æœºåˆ¶</li>
<li>æ–‡ä»¶ï¼šåˆ›å»ºã€æ‰“å¼€å’Œå…³é—­æ–‡ä»¶ï¼Œä»æ–‡ä»¶è¯»å–å’Œå‘æ–‡ä»¶å†™å…¥ï¼ŒæŸ¥è¯¢ä¿¡æ¯å’ŒçŠ¶æ€</li>
<li>ç›®å½•å’Œæ–‡ä»¶ç³»ç»Ÿï¼šåˆ›å»ºã€åˆ é™¤å’Œé‡å‘½åç›®å½•ï¼ŒæŸ¥è¯¢ä¿¡æ¯ï¼Œé“¾æ¥ï¼Œå˜æ›´ç›®å½•</li>
<li>ä¿æŠ¤æœºåˆ¶ï¼šè¯»å–å’Œå˜æ›´UID/GIDï¼Œå‘½åç©ºé—´çš„å¤„ç†</li>
<li>å®šæ—¶å™¨å‡½æ•°ï¼šå®šæ—¶å™¨å‡½æ•°å’Œç»Ÿè®¡ä¿¡æ¯</li>
</ul>
</li>
<li><p>è®¾å¤‡é©±åŠ¨ç¨‹åºç”¨äºä¸ç³»ç»Ÿè¿æ¥çš„è¾“å…¥/è¾“å‡ºè£…ç½®é€šä¿¡ï¼Œå¦‚ç¡¬ç›˜ã€è½¯é©±ã€å„ç§æ¥å£ã€å£°å¡ç­‰:</p>
<ul>
<li>å­—ç¬¦è®¾å¤‡â€”â€”æä¾›è¿ç»­çš„æ•°æ®æµï¼Œåº”ç”¨ç¨‹åºå¯ä»¥é¡ºåºè¯»å–ï¼Œé€šå¸¸ä¸æ”¯æŒéšæœºå­˜å–</li>
<li>å—è®¾å¤‡â€”â€”åº”ç”¨ç¨‹åºå¯ä»¥éšæœºè®¿é—®è®¾å¤‡æ•°æ®ï¼Œç¨‹åºå¯è‡ªè¡Œç¡®å®šè¯»å–æ•°æ®çš„ä½ç½®</li>
</ul>
</li>
<li><p>Linuxæ”¯æŒè®¸å¤šä¸åŒçš„æ–‡ä»¶ç³»ç»Ÿï¼šæ ‡å‡†çš„Ext2å’ŒExt3ã€Ext4æ–‡ä»¶ç³»ç»Ÿã€ReiserFSã€XFSã€VFATï¼ˆä¸ºå…¼å®¹DOSï¼‰ï¼Œè¿˜æœ‰å¾ˆå¤šå…¶ä»–æ–‡ä»¶ç³»ç»Ÿã€‚VFSï¼ˆVirtual Filesystemæˆ–Virtual Filesystem Switchï¼Œè™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿæˆ–è™šæ‹Ÿæ–‡ä»¶ç³» ç»Ÿäº¤æ¢å™¨ï¼‰æ—¢æ˜¯å‘ä¸‹çš„æ¥å£ï¼ˆæ‰€æœ‰æ–‡ä»¶ç³»ç»Ÿéƒ½å¿…é¡»å®ç°è¯¥æ¥å£ï¼‰ï¼ŒåŒæ—¶ä¹Ÿæ˜¯å‘ä¸Šçš„æ¥å£ï¼ˆç”¨æˆ·è¿›ç¨‹é€šè¿‡ç³»ç»Ÿè°ƒç”¨æœ€ç»ˆèƒ½å¤Ÿè®¿é—®æ–‡ä»¶ç³»ç»ŸåŠŸèƒ½ï¼‰ï¼›</p>
<p><img src="" alt="è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿ"></p>
</li>
<li><p>æ¨¡å—ç”¨äºåœ¨è¿è¡Œæ—¶åŠ¨æ€åœ°å‘å†…æ ¸æ·»åŠ åŠŸèƒ½ï¼Œå¦‚è®¾å¤‡é©±åŠ¨ç¨‹åºã€æ–‡ä»¶ç³»ç»Ÿã€ç½‘ç»œåè®®ç­‰ï¼Œå®é™…ä¸Šå†…æ ¸çš„ä»»ä½•å­ç³»ç»Ÿå‡ ä¹éƒ½å¯ä»¥æ¨¡å—åŒ–ï¼›</p>
</li>
<li><p>å†…æ ¸æ˜¯ç”±ä¸–ç•Œä¸Šæœ€å¥½çš„ç¨‹åºå‘˜ç¼–å†™çš„ï¼Œæºä»£ç å¯ä»¥è¯å®è¿™ä¸€ç‚¹ã€‚å…¶ç»“æ„è‰¯å¥½ï¼Œç»†èŠ‚ä¸€ä¸ä¸è‹Ÿï¼Œå·§å¦™çš„è§£å†³æ–¹æ¡ˆåœ¨ä»£ç ä¸­å¤„å¤„å¯è§ï¼›</p>
</li>
</ol>
<h2 id="è¿›ç¨‹ç®¡ç†å’Œè°ƒåº¦"><a href="#è¿›ç¨‹ç®¡ç†å’Œè°ƒåº¦" class="headerlink" title="è¿›ç¨‹ç®¡ç†å’Œè°ƒåº¦"></a>è¿›ç¨‹ç®¡ç†å’Œè°ƒåº¦</h2><ol>
<li><p>å†…æ ¸å’Œå¤„ç†å™¨å»ºç«‹äº†å¤šä»»åŠ¡çš„é”™è§‰ï¼Œå³å¯ä»¥å¹¶è¡Œåšå‡ ç§æ“ä½œï¼Œè¿™æ˜¯é€šè¿‡ä»¥å¾ˆçŸ­çš„é—´éš”åœ¨ç³»ç»Ÿè¿è¡Œçš„åº”ç”¨ç¨‹åºä¹‹é—´ä¸åœåˆ‡æ¢è€Œåšåˆ°çš„ï¼›</p>
</li>
<li><p>è¿›ç¨‹çš„åˆ†ç±»ï¼š</p>
<ul>
<li>ç¡¬å®æ—¶è¿›ç¨‹æœ‰ä¸¥æ ¼çš„æ—¶é—´é™åˆ¶ï¼ŒæŸäº›ä»»åŠ¡å¿…é¡»åœ¨æŒ‡å®šçš„æ—¶é™å†…å®Œæˆ</li>
<li>è½¯å®æ—¶è¿›ç¨‹æ˜¯ç¡¬å®æ—¶è¿›ç¨‹çš„ä¸€ç§å¼±åŒ–å½¢å¼</li>
<li>å¤§å¤šæ•°è¿›ç¨‹æ˜¯æ²¡æœ‰ç‰¹å®šæ—¶é—´çº¦æŸçš„æ™®é€šè¿›ç¨‹ï¼Œä½†ä»ç„¶å¯ä»¥æ ¹æ®é‡è¦æ€§æ¥åˆ†é…ä¼˜å…ˆçº§</li>
</ul>
</li>
<li><p>å½“è°ƒåº¦å™¨åœ¨è¿›ç¨‹ä¹‹é—´åˆ‡æ¢æ—¶ï¼Œå¿…é¡»çŸ¥é“ç³»ç»Ÿä¸­æ¯ä¸ªè¿›ç¨‹çš„çŠ¶æ€ï¼Œè¿›ç¨‹å¯èƒ½æœ‰ä»¥ä¸‹å‡ ç§çŠ¶æ€ï¼š</p>
<ul>
<li>è¿è¡Œï¼šè¯¥è¿›ç¨‹æ­¤åˆ»æ­£åœ¨æ‰§è¡Œ</li>
<li>ç­‰å¾…ï¼šè¿›ç¨‹èƒ½å¤Ÿè¿è¡Œï¼Œä½†æ²¡æœ‰å¾—åˆ°è®¸å¯ï¼Œå› ä¸ºCPUåˆ†é…ç»™å¦ä¸€ä¸ªè¿›ç¨‹ï¼Œè°ƒåº¦å™¨å¯ä»¥åœ¨ä¸‹ä¸€æ¬¡ ä»»åŠ¡åˆ‡æ¢æ—¶é€‰æ‹©è¯¥è¿›ç¨‹</li>
<li>ç¡çœ ï¼šè¿›ç¨‹æ­£åœ¨ç¡çœ æ— æ³•è¿è¡Œï¼Œå› ä¸ºå®ƒåœ¨ç­‰å¾…ä¸€ä¸ªå¤–éƒ¨äº‹ä»¶ï¼Œè°ƒåº¦å™¨æ— æ³•åœ¨ä¸‹ä¸€æ¬¡ä»»åŠ¡åˆ‡æ¢ æ—¶é€‰æ‹©è¯¥è¿›ç¨‹</li>
</ul>
<p><img src="" alt="è¿›ç¨‹çŠ¶æ€åˆ‡æ¢"></p>
</li>
<li><p>å†…æ ¸çš„æŠ¢å è°ƒåº¦æ¨¡å‹å»ºç«‹äº†ä¸€ä¸ªå±‚æ¬¡ç»“æ„ï¼Œç”¨äºåˆ¤æ–­å“ªäº›è¿›ç¨‹çŠ¶æ€å¯ä»¥ç”±å…¶ä»–çŠ¶æ€æŠ¢å ï¼š</p>
<ul>
<li>æ™®é€šè¿›ç¨‹æ€»æ˜¯å¯èƒ½è¢«æŠ¢å ï¼Œç”šè‡³æ˜¯ç”±å…¶ä»–è¿›ç¨‹æŠ¢å </li>
<li>å¦‚æœç³»ç»Ÿå¤„äºæ ¸å¿ƒæ€å¹¶æ­£åœ¨å¤„ç†ç³»ç»Ÿè°ƒç”¨ï¼Œé‚£ä¹ˆç³»ç»Ÿä¸­çš„å…¶ä»–è¿›ç¨‹æ˜¯æ— æ³•å¤ºå–å…¶CPUæ—¶é—´çš„</li>
<li>ä¸­æ–­å¯ä»¥æš‚åœå¤„äºç”¨æˆ·çŠ¶æ€å’Œæ ¸å¿ƒæ€çš„è¿›ç¨‹</li>
</ul>
</li>
<li><p>Linuxå†…æ ¸æ¶‰åŠè¿›ç¨‹å’Œç¨‹åºçš„æ‰€æœ‰ç®—æ³•éƒ½å›´ç»•ä¸€ä¸ªåä¸ºtask_structçš„æ•°æ®ç»“æ„å»ºç«‹ï¼Œè¯¥ç»“æ„å®š ä¹‰åœ¨include/sched.hä¸­ï¼›</p>
</li>
<li><p>å‘½åç©ºé—´æä¾›äº†è™šæ‹ŸåŒ–çš„ä¸€ç§è½»é‡çº§å½¢å¼ï¼Œä½¿å¾—æˆ‘ä»¬å¯ä»¥ä»ä¸åŒçš„æ–¹é¢æ¥æŸ¥çœ‹è¿è¡Œç³»ç»Ÿçš„å…¨å±€å±æ€§ï¼›</p>
<p><img src="" alt="å‘½åç©ºé—´"></p>
</li>
<li><p>UNIXè¿›ç¨‹æ€»æ˜¯ä¼šåˆ†é…ä¸€ä¸ªå·ç ç”¨äºåœ¨å…¶å‘½åç©ºé—´ä¸­å”¯ä¸€åœ°æ ‡è¯†å®ƒä»¬ï¼Œè¯¥å·ç è¢«ç§°ä½œè¿›ç¨‹IDå·ï¼Œ ç®€ç§°PIDï¼›</p>
<p><img src="" alt="è¿›ç¨‹å…³ç³»"></p>
</li>
<li><p>forkã€vforkå’Œcloneç³»ç»Ÿè°ƒç”¨çš„å…¥å£ç‚¹åˆ†åˆ«æ˜¯sys_forkã€sys_vforkå’Œsys_cloneå‡½æ•°ï¼›</p>
</li>
<li><p>å†…æ ¸çº¿ç¨‹æ˜¯ç›´æ¥ç”±å†…æ ¸æœ¬èº«å¯åŠ¨çš„è¿›ç¨‹ã€‚å†…æ ¸çº¿ç¨‹å®é™…ä¸Šæ˜¯å°†å†…æ ¸å‡½æ•°å§”æ‰˜ç»™ç‹¬ç«‹çš„è¿›ç¨‹ï¼Œä¸ç³»ç»Ÿä¸­å…¶ä»–è¿›ç¨‹â€œå¹¶è¡Œâ€æ‰§è¡Œï¼›</p>
</li>
</ol>
<hr>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1>]]></content>
      <categories>
        <category>Linux</category>
      </categories>
  </entry>
  <entry>
    <title>ç¤¾ä¼šå·¥ç¨‹â€”åŸºç¡€å…¥é—¨</title>
    <url>/2020/06/21/%E7%A4%BE%E4%BC%9A%E5%B7%A5%E7%A8%8B%E2%80%94%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p> åªæœ‰äº†è§£å„ç§é’“é±¼æ¬ºè¯ˆï¼Œæ‰èƒ½æ›´å¥½åœ°é˜²èŒƒè¿™äº›è¯ˆéª—ã€‚äº†è§£é’“é±¼æ¬ºè¯ˆä¸­æ‰€ä½¿ç”¨çš„å¿ƒç†å­¦åŸåˆ™å’ŒæŠ€æœ¯å·¥å…·ï¼Œ å¯ä»¥è¾¨è¯†å’Œé˜²èŒƒå„ç§ç±»å‹å’Œéš¾åº¦çº§åˆ«çš„é’“é±¼æ¬ºè¯ˆï¼å‡ ä¹æ¯ä¸€èµ·æˆåŠŸçš„ç½‘ç»œæ”»å‡»çš„æ ¸å¿ƒéƒ½æ˜¯äººçš„å› ç´ ï¼<strong>æ¨èä¹¦ç±ï¼šã€Šç¤¾ä¼šå·¥ç¨‹Â·é˜²èŒƒé’“é±¼æ¬ºè¯ˆï¼ˆå·3ï¼‰ã€‹Â· [ç¾] ChristopherÂ·Hadnagy   MicheleÂ·Fincher è‘— è‚–è¯—å°§ è¯‘</strong>  </p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="åŸºç¡€çŸ¥è¯†"><a href="#åŸºç¡€çŸ¥è¯†" class="headerlink" title="åŸºç¡€çŸ¥è¯†"></a>åŸºç¡€çŸ¥è¯†</h2><ol>
<li>å‡ ä¹æ‰€æœ‰çš„å¤§å‹æ”»å‡»äº‹ä»¶çš„åˆ†æç»“æœè¡¨æ˜ï¼Œç»å¤§å¤šæ•°æ”»å‡»éƒ½ä¸ç¤¾ä¼šå·¥ç¨‹æœ‰å…³ï¼Œæ¶‰åŠç½‘ç»œé’“é±¼é‚®ä»¶ï¼ˆ phishing e-mailï¼‰ã€é±¼å‰å¼ç½‘ç»œé’“é±¼ï¼ˆ spear phishï¼‰æˆ–æ¶æ„æ¥ç”µï¼ˆ malicious phone callï¼Œ vishingï¼‰ï¼›</li>
<li>å„ç§å½¢å¼çš„ç½‘ç»œé’“é±¼å·²ç»æˆä¸ºä¸€ç§å¤‡å—å…³æ³¨çš„æ”»å‡»æ‰‹æ®µï¼Œå› ä¸ºè¿™æ˜¯è®©äººä»¬ä¸å‡æ€ç´¢è¡Œäº‹çš„ç®€å•æ–¹æ³•ï¼›    </li>
<li>é±¼å‰å¼ç½‘ç»œé’“é±¼æ˜¯ä¸€ç§éå¸¸æœ‰é’ˆå¯¹æ€§çš„æ”»å‡»æ–¹å¼ã€‚æ”»å‡»è€…èŠ±æ—¶é—´å¯¹ç›®æ ‡è¿›è¡Œç ”ç©¶ï¼Œç„¶ååˆ›å»ºä¸ç›®æ ‡ä¸ªäººä¿¡æ¯ç›¸å…³çš„æˆ–è€…ç§äººåŒ–çš„ç”µå­é‚®ä»¶ï¼›</li>
<li>éª—å­ä¼šç»™åˆšæ”¶åˆ°é’“é±¼é‚®ä»¶çš„äººæ‰“ç”µè¯ã€‚è¿™ä¹Ÿè¢«ç§°ä¸ºè¯­éŸ³é’“é±¼ï¼ˆ vishingï¼‰æˆ–ç”µè¯é’“é±¼ï¼› </li>
<li>é’“é±¼æˆåŠŸçš„åŸå› ï¼š<ul>
<li>è´ªå©ª</li>
<li>ç¼ºä¹æ•™è‚²    </li>
<li>è¿‡äºè½»ä¿¡  </li>
</ul>
</li>
<li>ç½‘ç»œé’“é±¼å¹¶ä¸åªæ˜¯å…³äºä½ ç‚¹å‡»äº†ä»€ä¹ˆï¼Œè€Œæ˜¯å…³äºä½ ä¸ºä»€ä¹ˆä¼šç‚¹å‡»å®ƒï¼</li>
</ol>
<h2 id="å¿ƒç†å­¦åŸåˆ™"><a href="#å¿ƒç†å­¦åŸåˆ™" class="headerlink" title="å¿ƒç†å­¦åŸåˆ™"></a>å¿ƒç†å­¦åŸåˆ™</h2><ol>
<li><p>å†³ç­–çš„å¥½åå¹¶ä¸æ€»æ˜¯ä¸æˆ‘ä»¬å¯¹è¿™ä¸ªå†³ç­–æœ¬èº«æ˜¯å¦æ„Ÿåˆ°æ»¡æ„æœ‰å…³ï¼›</p>
</li>
<li><p>å†³ç­–åŒ…å«äº†ä¸€ç³»åˆ—å› ç´ ï¼Œå¦‚æˆ‘ä»¬çš„çœ‹æ³•å’Œæƒ…ç»ªï¼›</p>
</li>
<li><p>æˆ‘ä»¬æ¯å¤©éƒ½åœ¨åšå‡ºæˆ–å¤§æˆ–å°çš„å†³ç­–ï¼Œå³ä½¿åœ¨å¹¶ä¸å…·å¤‡æ‰€éœ€çš„å…¨éƒ¨ç›¸å…³ä¿¡æ¯çš„æƒ…å†µä¸‹ï¼›</p>
</li>
<li><p>æˆ‘ä»¬ä¸å‡æ€ç´¢åœ°ã€é¢‘ç¹åœ°åšå‡ºè¿™äº›æˆ–å¤§æˆ–å°çš„å†³ç­–ï¼›</p>
</li>
<li><p>è®¤çŸ¥åå·®æ˜¯ä¸€ç§æ€ç»´å®šåŠ¿ï¼Œé€šå¸¸æºäºè¿‡å»çš„ç»éªŒï¼</p>
</li>
<li><p>æ¡†æ¶æ•ˆåº”ï¼ˆ framing effectï¼‰å°±æ˜¯ä¸€ç§è®¤çŸ¥åå·®ï¼Œå®ƒæŒ‡çš„æ˜¯ä½ çš„ååº”å–å†³äºå½“æ—¶çš„æƒ…å½¢ï¼Œæˆ–è€…è¯´ä½ çš„ååº”ä¾èµ–äºè¯­å¢ƒï¼›</p>
</li>
<li><p>ç¡®è®¤åè¯¯ï¼ˆ confirmation biasï¼‰ï¼Œä½ å€¾å‘äºå¯»æ‰¾æ”¯æŒä½ çš„è§‚ç‚¹çš„ä¿¡æ¯ï¼Œæˆ–è€…æŒ‰ç…§æ”¯æŒä½ çš„è§‚ç‚¹çš„æ–¹å¼æ¥è§£è¯»ä¿¡æ¯ï¼›</p>
</li>
<li><p>ç ”ç©¶äººå‘˜å‘ç°ï¼Œä¸€å¤œæœªçœ ä¼šå¯¼è‡´åšå‡ºæ›´å†’é™©çš„å†³ç­–ï¼›</p>
</li>
<li><p><strong>äººç±»æœ‰ä¸€ç§æœä»åˆ«äººçš„å€¾å‘ï¼Œå°¤å…¶æ˜¯åœ¨ç‰¹å®šçš„æƒ…å†µä¸‹ï¼</strong></p>
</li>
<li><p>é’“é±¼æ”»å‡»è€…äº†è§£æˆ‘ä»¬æ˜¯å¦‚ä½•å†³ç­–çš„ï¼Œå¹¶ä¸”è¯•å›¾æ“çºµæˆ‘ä»¬æ‰€é¢ä¸´çš„æƒ…å†µä»¥å¼•å¯¼æˆ‘ä»¬åšå‡ºé”™è¯¯å†³å®šï¼›</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/267c21684e3a513413e78966f5de813b-32506" alt="æƒ…ç»ªåŒ–å†³ç­–"></p>
</li>
<li><p>æƒ…ç»ªååº”æ˜¯æ­£å¸¸çš„ï¼Œä½ è¦åšçš„åªæ˜¯è°ƒæ•´ä¸€ä¸‹ï¼Œè¿™æ ·ä½ å°±å¯ä»¥é¿å…ä¸€äº›æ—¥åä¼šè®©ä½ åæ‚”çš„è¡Œä¸ºï¼›</p>
</li>
<li><p>åæ€è‡ªå·±çš„å†³ç­–ï¼š</p>
<ul>
<li>ç¡®ä¿æ­£ç¡®åœ°ç†è§£é—®é¢˜   </li>
<li>å°½å¯èƒ½å®Œæ•´åœ°æ”¶é›†ä¿¡</li>
<li>è€ƒè™‘åˆ‡å®å¯è¡Œçš„é€‰é¡¹</li>
<li>åšå‡ºå†³ç­–</li>
<li>è¯„ä¼°æ•ˆæœ  </li>
</ul>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/9cc31a660074178a43e4545cebbc8630-24580" alt="åŸºç¡€å†³ç­–"></p>
</li>
</ol>
<h2 id="å½±å“ä¸æ“æ§"><a href="#å½±å“ä¸æ“æ§" class="headerlink" title="å½±å“ä¸æ“æ§"></a>å½±å“ä¸æ“æ§</h2><ol>
<li><p>å½±å“ï¼ˆ influenceï¼‰å’Œæ“æ§ï¼ˆ manipulationï¼‰ éƒ½æ˜¯æŒ‡ä¸€ä¸ªäººé‡‡å–äº†å¯¹å¦ä¸€ä¸ªäººç”Ÿæ•ˆçš„è¡Œä¸ºï¼›</p>
</li>
<li><p>å½±å“æ˜¾ç„¶æ˜¯ç§¯æçš„ï¼Œæ“æ§åˆ™æ˜¯æ¶ˆæçš„ï¼›</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/f81cdc25065e2aa9f55b9c7c86bf7899-48845" alt="å½±å“ä¸æ“æ§"></p>
</li>
<li><p>å»ºç«‹èæ´½çš„å…³ç³»æ˜¯æˆåŠŸçš„ç¤¾ä¼šå·¥ç¨‹äººå‘˜ä¸ºäº†æé«˜æ•ˆç‡è€Œå¿…é¡»å¿«é€ŸåŸ¹å…»çš„æŠ€èƒ½ï¼›</p>
</li>
<li><p><strong>äººç±»å’Œå…¶ä»–ç‰©ç§ä¼¼ä¹æœ‰ç€å¤©ç”Ÿçš„æ¬ºéª—çš„å€¾å‘ï¼</strong></p>
</li>
<li><p>æ¬ºéª—æ˜¯ä¸€ç§ç¤¾äº¤è¡Œä¸ºçš„é€‚åº”æ€§å½¢å¼ï¼Œæ²¡æœ‰å¿…è¦æ€»æ˜¯æŠŠå®ƒæƒ³å¾—é‚£ä¹ˆè´Ÿé¢ï¼›</p>
</li>
<li><p>é€šè¿‡æƒ©ç½šæ¥æ”¹å˜æŸä¸ªæˆå¹´äººçš„è¡Œä¸ºæ˜¯å®Œå…¨å¯èƒ½çš„ï¼Œä½†è¿™å¹¶ä¸æ˜¯é«˜æ˜çš„æš—ä¸­æ“çºµï¼Œå®ƒåªæ˜¯ç®€å•çš„èƒ½äº§ç”ŸæŸä¸ªåæœçš„è¡Œä¸ºï¼›</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/952cbd06ade34a9a5702f59d1352727a-66751" alt="æƒ©ç½šä¸æ“æ§"></p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/1b204797b7e55909549bca7e56672501-99918" alt="æ“æ§çš„æ–¹æ³•"></p>
</li>
<li><p>å½±å“çš„åŸåˆ™ï¼š</p>
<img src="https://app.yinxiang.com/FileSharing.action?hash=1/9a3329d460a580e6cc4aec7e78f5931a-23373" alt="å½±å“çš„åŸåˆ™" style="zoom:80%;" /> 

</li>
</ol>
<h2 id="è‡ªæˆ‘ä¿æŠ¤"><a href="#è‡ªæˆ‘ä¿æŠ¤" class="headerlink" title="è‡ªæˆ‘ä¿æŠ¤"></a>è‡ªæˆ‘ä¿æŠ¤</h2><ol>
<li>é»‘å®¢ä¼šæ”»å‡»å…¨çƒèŒƒå›´å†…çš„çœŸå®çš„æœåŠ¡å™¨ï¼Œå¹¶ç”¨åˆæ³•æœåŠ¡å™¨æ¥å‘é€é’“é±¼é‚®ä»¶ï¼›</li>
<li>æ¶æ„é’“é±¼æ”»å‡»è€…è¿˜æœ‰å¾ˆå¤šå¼•è¯±å—å®³è€…ç‚¹å‡»é“¾æ¥çš„æ‰‹æ®µï¼›</li>
<li>ç—…æ¯’çš„æŒ‡çº¹å¯ä»¥ç”¨æ¥è¯†åˆ«ç—…æ¯’ï¼Œç—…æ¯’çš„æŒ‡çº¹è¢«æ”¾è¿›äº†åç—…æ¯’è½¯ä»¶çš„æ•°æ®åº“ä¸­ï¼Œç„¶ååç—…æ¯’è½¯ä»¶å¯¹ä½ çš„ç”µè„‘è¿›è¡Œæ‰«æï¼›</li>
<li>åäººæ›´é«˜æ˜ã€åšå®šå’ŒåŠªåŠ›ã€‚ä»–ä»¬ä¼¼ä¹é¢†å…ˆäºä½ ï¼Œå¹¶ä¾é ä½ çš„å¼±ç‚¹å–èƒœï¼›</li>
<li>ä»…ä»…ä¾é æŠ€æœ¯æ˜¯æ•‘ä¸äº†ä½ çš„ï¼ŒæŠ€æœ¯ä¹Ÿä¸åº”è¯¥è¢«è§†ä½œç¤¾ä¼šå·¥ç¨‹å­¦çš„è§£å†³æ–¹æ¡ˆï¼›</li>
</ol>
<h2 id="é’“é±¼æ”»å‡»å·¥å…·åŒ…"><a href="#é’“é±¼æ”»å‡»å·¥å…·åŒ…" class="headerlink" title="é’“é±¼æ”»å‡»å·¥å…·åŒ…"></a>é’“é±¼æ”»å‡»å·¥å…·åŒ…</h2><ol>
<li>Rapid7 Metasploit Proå¯ä»¥é€šè¿‡é—­ç¯æ¼æ´éªŒè¯æ¥æ˜¾ç¤ºé£é™©ç¨‹åº¦å¹¶è¿›è¡Œé£é™©ä¼˜å…ˆçº§åˆ’åˆ†ï¼Œè¿˜èƒ½é€šè¿‡æ¨¡æ‹Ÿé’“é±¼é‚®ä»¶æ”»å‡»æ¥å¯¹å®‰å…¨æ„è¯†è¿›è¡Œè¡¡é‡ï¼›</li>
<li>ThreatSimå…è®¸ç»„ç»‡æœºæ„æ ¹æ®ç»ˆç«¯ç”¨æˆ·çš„è¡Œä¸ºè¯„ä¼°å’Œé™ä½é£é™©ï¼›</li>
<li>PhishMeæ˜¯ä¸€ç§ SaaS è§£å†³æ–¹æ¡ˆï¼Œåˆ©ç”¨æµ¸å…¥å¼æ•™å­¦æ³•æ¥å¯¹å‘˜å·¥è¿›è¡Œè¯†åˆ«å’Œè§„é¿é’“é±¼æ”»å‡»çš„åŸ¹è®­ï¼›</li>
<li>Wombat PhishGuruæ¨¡æ‹Ÿé’“é±¼æ”»å‡»æœåŠ¡ï¼Œä½ å¯ä»¥é€šè¿‡å‘é€æ¨¡æ‹Ÿé’“é±¼é‚®ä»¶æ¥è¯„ä¼°ä½ çš„å‘˜å·¥æ˜“å—æ”»å‡»çš„ç¨‹åº¦å¹¶é¼“åŠ±ä»–ä»¬åŠ å¼ºè®­ç»ƒï¼›</li>
<li>PhishLineæ˜¯ä¸€ç§ä¼ä¸šçº§çš„ SaaS è§£å†³æ–¹æ¡ˆï¼Œå¯æ¨¡æ‹ŸçœŸå®ä¸–ç•Œçš„ç¤¾ä¼šå·¥ç¨‹å­¦å’Œé’“é±¼æ”»å‡»ï¼Œæä¾›åœ¨çº¿å®‰å…¨æ„è¯†è®­ç»ƒã€åŸºäºé£é™©çš„è°ƒæŸ¥ä»¥åŠè¯¦ç»†çš„æŠ¥å‘Šå’ŒæŒ‡æ ‡ï¼›</li>
<li>SETä¸ºè¯„ä¼°è€…æä¾›äº†ä¸€ç§æµ‹è¯•å…¶åŸ¹è®­å’Œå®‰å…¨æ„è¯†é¡¹ç›®æœ‰æ•ˆæ€§çš„æœºåˆ¶ï¼›</li>
<li>Phishing Frenzyæ˜¯ä¸€æ¬¾ç”± Ruby on Rails æ„å»ºçš„åŸºäº Linuxçš„å¼€æºåº”ç”¨ï¼Œä¹Ÿæ˜¯æ¸—é€æµ‹è¯•è€…ç”¨äºç®¡ç†é’“é±¼é‚®ä»¶æ”»å‡»çš„å·¥å…·ï¼›                  </li>
</ol>
<hr>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>è¿™ä¸–ä¸Šæ²¡æœ‰å…¬å¹³ç«äº‰è¿™ä¸€å›äº‹ï¼Œè¦åˆ©ç”¨ä¸€åˆ‡å¼±ç‚¹ï¼å­¦æ ¡å…ˆæ•™ä½ çŸ¥è¯†ç„¶åè€ƒè¯•ï¼Œç”Ÿæ´»åˆ™é€šè¿‡è€ƒè¯•æ¥æ•™ä½ çŸ¥è¯†ã€‚å®‰å…¨æ°¸è¿œæœ€è–„å¼±çš„ç¯å¢ƒå½“å±äººå‚ä¸çš„ç¯èŠ‚ï¼ç¤¾ä¼šå·¥ç¨‹å°±æ˜¯åˆ©ç”¨äººçš„å¼±ç‚¹æ¥è¿›è¡Œæ”»å‡»ï¼  </p>
]]></content>
      <categories>
        <category>ç¤¾ä¼šå·¥ç¨‹</category>
      </categories>
  </entry>
  <entry>
    <title>ç¤¾ä¼šæ‹›è˜</title>
    <url>/2020/04/22/%E7%A4%BE%E4%BC%9A%E6%8B%9B%E8%81%98/</url>
    <content><![CDATA[<h1 id="ç¡¬æ€§è¦æ±‚"><a href="#ç¡¬æ€§è¦æ±‚" class="headerlink" title="ç¡¬æ€§è¦æ±‚"></a>ç¡¬æ€§è¦æ±‚</h1><ol>
<li>å…¨æ—¥åˆ¶ç»Ÿæ‹›æœ¬ç§‘ç”Ÿä»¥ä¸Šï¼Œä¸åŒ…å«ä¸‰æœ¬ï¼›</li>
<li>å·¥ä½œç»éªŒ5å¹´ä»¥ä¸Šï¼›</li>
<li>ä»¥å‰åœ¨é›†å›¢å·¥ä½œè¿‡çš„ä¸äºˆè€ƒè™‘ã€‚</li>
</ol>
<h1 id="é€šç”¨è¦æ±‚"><a href="#é€šç”¨è¦æ±‚" class="headerlink" title="é€šç”¨è¦æ±‚"></a>é€šç”¨è¦æ±‚</h1><ol>
<li>å…·å¤‡è‰¯å¥½çš„å­¦ä¹ èƒ½åŠ›ã€é€»è¾‘æ€ç»´èƒ½åŠ›ã€æ²Ÿé€šèƒ½åŠ›ã€å›¢é˜Ÿåä½œèƒ½åŠ›å’Œæ‰§è¡ŒåŠ›ï¼›</li>
<li>å…·æœ‰è‰¯å¥½è§„èŒƒçš„æ–‡æ¡£å’Œç¼–ç¨‹ä¹ æƒ¯ï¼Œå…·å¤‡è‰¯å¥½çš„æ²Ÿé€šèƒ½åŠ›ã€‚</li>
</ol>
<hr>
<h1 id="ç®—æ³•å·¥ç¨‹å¸ˆ"><a href="#ç®—æ³•å·¥ç¨‹å¸ˆ" class="headerlink" title="ç®—æ³•å·¥ç¨‹å¸ˆ"></a>ç®—æ³•å·¥ç¨‹å¸ˆ</h1><h2 id="èµ„æ ¼"><a href="#èµ„æ ¼" class="headerlink" title="èµ„æ ¼"></a>èµ„æ ¼</h2><ol>
<li><strong>ç¡•å£«ä»¥ä¸Šï¼›</strong></li>
<li><strong>æ‰å®çš„æ•°æ®ç»“æ„å’Œç®—æ³•è®¾è®¡åŸºç¡€</strong>ï¼ŒæŒæ¡C/C++/Python/Perlç­‰ä¸€é—¨ä»¥ä¸Šè„šæœ¬è¯­è¨€ï¼›</li>
<li>å¯¹åŸºç¡€æ•°æ®è¿›è¡Œæ•´ç†æ¸…æ´—å’Œæ•°æ®æŒ–æ˜ï¼Œåˆ©ç”¨ç»Ÿè®¡åˆ†æã€å›å½’ã€å†³ç­–æ ‘ã€ç¥ç»ç½‘ç»œç­‰æŠ€æœ¯å»ºç«‹æ¨¡å‹ï¼Œå‚ä¸å„ç±»æ¨¡å‹çš„è®¾è®¡ã€å¼€å‘ã€å®æ–½ä¸è·Ÿè¸ªï¼Œç»“åˆå®é™…æ•ˆæœä¸æ–­è¿›è¡Œæ¨¡å‹çš„è®­ç»ƒå’Œè¿­ä»£ï¼Œç®¡ç†æ¨¡å‹ç”Ÿå‘½å‘¨æœŸçš„å…¨æµç¨‹ï¼ŒæŒ–æ˜ç”¨æˆ·ç”»åƒå’Œè®¾å¤‡ç”»åƒï¼›</li>
<li>ç†Ÿæ‚‰ä¸»æµæœºå™¨å­¦ä¹ æˆ–æ·±åº¦å­¦ä¹ ï¼Œå¦‚<strong>Sklearnã€Spark MLlibã€Tensorflow</strong>ç­‰ï¼Œç†Ÿç»ƒä½¿ç”¨SQLï¼Œç†Ÿæ‚‰ä¸»æµæ•°æ®åº“ç¯å¢ƒï¼›</li>
<li>ç†Ÿæ‚‰<strong>å›¾åƒå¤„ç†ã€æ¨¡å¼è¯†åˆ«ã€å›¾åƒæ»¤æ³¢ã€è½®å»“æå–ã€è¾¹ç¼˜æ£€æµ‹ã€å›¾åƒåˆ†å‰²ã€å›¾åƒæ‹¼æ¥ã€å›¾åƒèåˆ</strong>ç­‰å„ç±»å›¾åƒå¤„ç†ç†è®ºè€…ä¼˜å…ˆï¼›</li>
<li>ç†Ÿæ‚‰<strong>è¯­éŸ³ä¿¡å·å¤„ç†ã€è¯­è¨€æ¨¡å‹ã€å£°çº¹è¯†åˆ«ã€æ¨¡å¼è¯†åˆ«ã€ASRã€NLUã€TTS</strong>ç­‰è¯­éŸ³è¯†åˆ«æŠ€æœ¯è€…ä¼˜å…ˆï¼›</li>
<li>åœ°ç‚¹ï¼š<strong>ä¸Šæµ·</strong></li>
</ol>
<h2 id="èŒè´£"><a href="#èŒè´£" class="headerlink" title="èŒè´£"></a>èŒè´£</h2><ol>
<li>ä»äº‹åˆ©ç”¨æ·±åº¦å­¦ä¹ æŠ€æœ¯ç ”å‘å®ç°å›¾åƒè¯†åˆ«å’Œæœºå™¨è§†è§‰çš„åŠŸèƒ½åº”ç”¨ç›¸å…³ç ”ç©¶å·¥ä½œï¼›</li>
<li>è´Ÿè´£å›¾åƒå¤„ç†ã€å›¾åƒç‰¹å¾æå–ã€æ¨¡å‹è®­ç»ƒï¼Œè¯†åˆ«è¡£æœæè´¨ã€ä»¶æ•°ã€ç§ç±»ã€é¢œè‰²ç­‰ï¼›</li>
<li>è´Ÿè´£ASRã€NLUã€TTSç­‰è¯­éŸ³è¯†åˆ«æŠ€æœ¯å®ç°ã€‚</li>
</ol>
<hr>
<h1 id="åç«¯å¼€å‘å·¥ç¨‹å¸ˆ"><a href="#åç«¯å¼€å‘å·¥ç¨‹å¸ˆ" class="headerlink" title="åç«¯å¼€å‘å·¥ç¨‹å¸ˆ"></a>åç«¯å¼€å‘å·¥ç¨‹å¸ˆ</h1><h2 id="èµ„æ ¼-1"><a href="#èµ„æ ¼-1" class="headerlink" title="èµ„æ ¼"></a>èµ„æ ¼</h2><ol>
<li>æ‰å®çš„Javaè¯­è¨€åŠŸåº•ï¼Œç†Ÿæ‚‰JVMï¼Œç†Ÿç»ƒä½¿ç”¨<strong>Jenkinsã€Mavenã€Git</strong>ç­‰å¸¸ç”¨å·¥å…·ï¼›</li>
<li>ç†Ÿæ‚‰<strong>springMvcã€mybatisã€hibernateã€Dockerã€Kubernetes</strong>ç­‰å¼€å‘æ¡†æ¶ï¼›</li>
<li>ç†Ÿæ‚‰å¸¸ç”¨çš„<strong>å¾®æœåŠ¡æ¡†æ¶ï¼ˆDubbo/SpringCloudï¼‰</strong>ä»¥åŠå…¶å®ƒå¸¸è§çš„å¼€æºæ¡†æ¶ï¼›</li>
<li>ç†Ÿæ‚‰<strong>åˆ†å¸ƒå¼ç¼“å­˜ã€æ¶ˆæ¯ä¸­é—´ä»¶ã€RPCæ¡†æ¶ã€è´Ÿè½½å‡è¡¡</strong>ç­‰æŠ€æœ¯ï¼ŒæŒæ¡å„ç±»ä¸­é—´ä»¶ä½¿ç”¨ï¼ŒåŒ…æ‹¬<strong>Nginxã€Tomcatã€Redisã€kafka</strong>ç­‰ï¼›</li>
<li>ç†Ÿæ‚‰Linuxæ“ä½œç³»ç»Ÿï¼ŒæŒæ¡å¸¸ç”¨çš„Linuxå‘½ä»¤ï¼›</li>
<li>æœ‰å®¶ç”µäº’è”ç½‘ç»éªŒçš„ä¼˜å…ˆï¼›</li>
<li>åœ°ç‚¹ï¼š<strong>ä¸Šæµ·</strong></li>
</ol>
<h2 id="èŒè´£-1"><a href="#èŒè´£-1" class="headerlink" title="èŒè´£"></a>èŒè´£</h2><ol>
<li>è´Ÿè´£äº‘ç«¯æ¡†æ¶è®¾è®¡å’Œæ­å»ºï¼›</li>
<li>è´Ÿè´£åº”ç”¨çš„å¾®æœåŠ¡å¼€å‘ï¼Œæ»¡è¶³äº§å“åŠŸèƒ½éœ€æ±‚ï¼›</li>
<li>è´Ÿè´£è·ŸIoTã€å‰ç«¯ã€ç¬¬ä¸‰æ–¹ä¾›åº”å•†æ¥å£å¯¹æ¥ï¼›</li>
<li>è´Ÿè´£äº‘ç«¯å¹¶å‘æ€§ã€å¯é æ€§ã€å®¹é”™æ€§ã€ç¨³å®šæ€§ã€è´Ÿè½½å‡è¡¡ç­‰è®¾è®¡ã€‚   </li>
</ol>
<hr>
<h1 id="å¤§æ•°æ®å·¥ç¨‹å¸ˆ"><a href="#å¤§æ•°æ®å·¥ç¨‹å¸ˆ" class="headerlink" title="å¤§æ•°æ®å·¥ç¨‹å¸ˆ"></a>å¤§æ•°æ®å·¥ç¨‹å¸ˆ</h1><h2 id="èµ„æ ¼-2"><a href="#èµ„æ ¼-2" class="headerlink" title="èµ„æ ¼"></a>èµ„æ ¼</h2><ol>
<li>ç¡•å£«ä»¥ä¸Šï¼›</li>
<li>ç†Ÿæ‚‰<strong>å¸¸ç”¨è®¾è®¡æ¨¡å¼ï¼ŒæŒæ¡åˆ†å¸ƒå¼æœåŠ¡ã€é«˜æ‰©å±•ï¼Œé«˜å¯ç”¨ï¼Œé«˜æ€§èƒ½ç³»ç»Ÿçš„è®¾è®¡ä¸ç¼–ç ï¼Œå¤§è§„æ¨¡å­˜å‚¨ç³»ç»Ÿã€å®æ—¶åŠç¦»çº¿è®¡ç®—ã€æ•°æ®ä»“åº“</strong>æ–¹é¢æœ‰ç»éªŒè€…ä¼˜å…ˆï¼›</li>
<li>ç†Ÿæ‚‰å¤§æ•°æ®ç”Ÿæ€åŒ…æ‹¬ä¸é™äº <strong>Hadoop/Spark/Hive/Hbase/Yarn/ClickHouse/ElasticSearch</strong>,å¹¶æœ‰ç›¸å…³é¡¹ç›®å¼€å‘ç»éªŒï¼›</li>
<li>ç†Ÿæ‚‰æµè®¡ç®—ç¼–ç¨‹ï¼Œç†Ÿç»ƒæŒæ¡<strong>Flinkã€Kafkaã€Flume</strong>ç­‰å¼€æºå·¥å…·æˆ–æ¡†æ¶ï¼›</li>
<li>ç†Ÿæ‚‰<strong>æ•°æ®ETL</strong>çš„æµç¨‹å’Œæ¯ä¸ªè¿‡ç¨‹çš„å…³é”®æ•°æ®å¤„ç†æ–¹æ³•å’ŒæŠ€å·§ï¼Œå¯¹<strong>OLAPã€æŠ¥è¡¨åŠå¯è§†åŒ–</strong>æœ‰ä¸€å®šçš„äº†è§£ï¼›</li>
<li>ç†Ÿç»ƒä½¿ç”¨Java/Python/SQLç­‰ç¼–ç¨‹è¯­è¨€ï¼Œå…·å¤‡è‰¯å¥½è½¯ä»¶æ•æ·å¼€å‘ä¹ æƒ¯ï¼›</li>
<li>åœ°ç‚¹ï¼š<strong>ä¸Šæµ·</strong></li>
</ol>
<h2 id="èŒè´£-2"><a href="#èŒè´£-2" class="headerlink" title="èŒè´£"></a>èŒè´£</h2><ol>
<li>è´Ÿè´£å¤§æ•°æ®å¹³å°è®¾è®¡å’Œæ­å»ºï¼›</li>
<li>è´Ÿè´£ä»æµ·é‡æ—¥å¿—<strong>æå–æ•°æ®å’Œæ•°æ®åˆ†æ</strong>ï¼Œæ”¯æŒå¸‚åœºä»¥åŠè¥é”€æ´»åŠ¨çš„æ•°æ®éœ€æ±‚ï¼›</li>
<li>è´Ÿè´£ç”¨æˆ·ç”»åƒåˆ†æï¼› </li>
<li>è´Ÿè´£è®¾å¤‡ç”»åƒåˆ†æï¼›</li>
<li>æ ¹æ®ä¸šåŠ¡ç›®æ ‡è¿›è¡Œ<strong>æ•°æ®å»ºæ¨¡ã€æ•°æ®æŒ–æ˜ï¼Œå­¦ä¹ ã€ç ”ç©¶Hadoop</strong>åŠç›¸å…³æŠ€æœ¯å†…æ ¸ï¼Œå¹¶å°†å…¶è¿ç”¨ä¸å®è·µï¼›</li>
</ol>
<hr>
<h1 id="æµ‹è¯•å·¥ç¨‹å¸ˆ"><a href="#æµ‹è¯•å·¥ç¨‹å¸ˆ" class="headerlink" title="æµ‹è¯•å·¥ç¨‹å¸ˆ"></a>æµ‹è¯•å·¥ç¨‹å¸ˆ</h1><h2 id="èµ„æ ¼-3"><a href="#èµ„æ ¼-3" class="headerlink" title="èµ„æ ¼"></a>èµ„æ ¼</h2><ol>
<li>5å¹´ä»¥ä¸Šäº’è”ç½‘äº§å“åŠŸèƒ½æµ‹è¯•å·¥ä½œç»éªŒï¼›</li>
<li>ç†Ÿæ‚‰è½¯ä»¶æµ‹è¯•åŸºæœ¬ç†è®ºï¼ŒæŒæ¡å¸¸ç”¨æµ‹è¯•å·¥å…·ã€è½¯ä»¶æµ‹è¯•æµç¨‹åŠå…¶å„é¡¹è§„èŒƒï¼Œèƒ½ç‹¬ç«‹æ‰¿æ‹…æµ‹è¯•å·¥ä½œï¼ˆMONKEYRUNNERã€DDMSã€LRã€SOAPç­‰å·¥å…·ï¼‰ï¼›</li>
<li>æœ‰<strong>è‡ªåŠ¨åŒ–æµ‹è¯•</strong>ç»éªŒï¼Œèƒ½ç‹¬ç«‹è®¾è®¡ç”¨ä¾‹å¹¶ç¼–å†™ä»£ç å®ç°è‡ªåŠ¨åŒ–æµ‹è¯•ï¼Œæœ‰äº§å“æ€§èƒ½ã€å®‰å…¨ç­‰æµ‹è¯•ç»éªŒï¼›</li>
<li>å¾ˆå¼ºçš„å­¦ä¹ èƒ½åŠ›ã€åˆ†æèƒ½åŠ›å’Œè§£å†³é—®é¢˜çš„èƒ½åŠ›ï¼Œç†Ÿæ‚‰æŒç»­é›†æˆç†è®ºå¹¶æœ‰è¿‡ç›¸å…³å®æ–½ç»éªŒï¼Œèƒ½å¤Ÿç†Ÿç»ƒä½¿ç”¨<strong>æŒç»­é›†æˆå¹³å°</strong>åŠå·¥å…·ï¼›</li>
<li>æœ‰å®¶ç”µäº’è”ç½‘æµ‹è¯•å·¥ä½œç»éªŒä¼˜å…ˆ;</li>
<li>åœ°ç‚¹ï¼š<strong>ä¸Šæµ·</strong></li>
</ol>
<h2 id="èŒè´£-3"><a href="#èŒè´£-3" class="headerlink" title="èŒè´£"></a>èŒè´£</h2><ol>
<li>è´Ÿè´£æ™ºèƒ½äº§å“ç³»ç»Ÿæµ‹è¯•ã€å¦‚<strong>æ¨¡å—ã€appã€äº‘å¹³å°</strong>ç­‰çš„åŠŸèƒ½ï¼Œæ€§èƒ½æµ‹è¯•ï¼›</li>
<li>å‚ä¸è‡ªåŠ¨åŒ–å¼€å‘åŠæµ‹è¯•ï¼›</li>
<li>å‚ä¸æµ‹è¯•æŠ€æœ¯è§„èŒƒå’Œå“è´¨æ ‡å‡†çš„åˆ¶å®šã€‚</li>
</ol>
<hr>
<h1 id="ç»ˆç«¯è½¯ä»¶å·¥ç¨‹å¸ˆ"><a href="#ç»ˆç«¯è½¯ä»¶å·¥ç¨‹å¸ˆ" class="headerlink" title="ç»ˆç«¯è½¯ä»¶å·¥ç¨‹å¸ˆ"></a>ç»ˆç«¯è½¯ä»¶å·¥ç¨‹å¸ˆ</h1><h2 id="èµ„æ ¼-4"><a href="#èµ„æ ¼-4" class="headerlink" title="èµ„æ ¼"></a>èµ„æ ¼</h2><ol>
<li>å…·æœ‰<strong>C/C++ç¨‹åºå¼€å‘ç»éªŒï¼Œç†Ÿæ‚‰Socketç½‘ç»œç¼–ç¨‹ã€æ–‡ä»¶I/Oæ“ä½œã€éŸ³è§†é¢‘ã€å¤šè¿›ç¨‹ã€å¤šçº¿ç¨‹å¼€å‘</strong>ï¼›</li>
<li>ä¸»è¦æ˜¯<strong>ç•Œé¢å’ŒåŠŸèƒ½å¼€å‘</strong>ï¼Œä½¿ç”¨å·¥å…·Qtå’ŒminiGUIï¼›</li>
<li>ç†Ÿæ‚‰linuxå†…æ ¸è£å‰ªå’Œå®šåˆ¶ã€é©±åŠ¨å¼€å‘ã€åº”ç”¨ç¨‹åºç§»æ¤è€…ä¼˜å…ˆï¼›</li>
<li>ç†Ÿæ‚‰shellè„šæœ¬è€…ä¼˜å…ˆï¼›</li>
<li>æ·±åˆ»ç†è§£å¤„ç†å™¨æ¶æ„ï¼Œçƒ­çˆ±å¤„ç†å™¨ç›¸å…³æŠ€æœ¯ã€‚æ·±åˆ»ç†è§£å†…å­˜ã€DMAã€ä¸­æ–­ç­‰æ¦‚å¿µï¼›</li>
<li>åœ°ç‚¹ï¼š<strong>æ— é”¡</strong></li>
</ol>
<h2 id="èŒè´£-4"><a href="#èŒè´£-4" class="headerlink" title="èŒè´£"></a>èŒè´£</h2><ol>
<li>åµŒå…¥å¼è½¯ä»¶å¹³å°æ¶æ„è®¾è®¡å’ŒæŠ€æœ¯è§£å†³æ–¹æ¡ˆæä¾›ï¼›</li>
<li>å¸¦å±åµŒå…¥å¼ç³»ç»ŸUIå¼€å‘å’Œé©±åŠ¨å¼€å‘ï¼›</li>
<li>ç»„ç»‡è½¯ä»¶æ²Ÿé€šï¼Œè¯„å®¡ï¼Œæ£€è®¨ï¼›</li>
<li>ä»äº‹æ™ºèƒ½äº§å“å¼€å‘å·¥ä½œï¼Œæé«˜è½¯ä»¶ç¨³å®šæ€§å’Œå®‰å…¨æ€§ã€‚</li>
</ol>
<hr>
<h1 id="ç»ˆç«¯ç¡¬ä»¶å·¥ç¨‹å¸ˆ"><a href="#ç»ˆç«¯ç¡¬ä»¶å·¥ç¨‹å¸ˆ" class="headerlink" title="ç»ˆç«¯ç¡¬ä»¶å·¥ç¨‹å¸ˆ"></a>ç»ˆç«¯ç¡¬ä»¶å·¥ç¨‹å¸ˆ</h1><h2 id="èµ„æ ¼-5"><a href="#èµ„æ ¼-5" class="headerlink" title="èµ„æ ¼"></a>èµ„æ ¼</h2><ol>
<li>æœ‰è¾ƒå¼ºçš„æ¨¡æ‹Ÿ/æ•°å­—ç”µè·¯çš„ç¡¬ä»¶è®¾è®¡å’Œè°ƒè¯•èƒ½åŠ›ï¼Œç»å†è¿‡ä»å•å…ƒæ¿ç ”å‘åˆ°æ•´æœºäº§å“ç ”å‘åˆ°æ­£å¼äº¤ä»˜å®Œæ•´çš„ç ”å‘å‘¨æœŸï¼›</li>
<li>è´Ÿè´£äº§å“ç¡¬ä»¶è®¾è®¡ã€å™¨ä»¶é€‰å‹ã€åŸç†å›¾è®¾è®¡å’ŒPCB Layoutã€ç¡¬ä»¶è°ƒè¯•ä¸è®¾è®¡è¿­ä»£ï¼Œæœ‰å¤šå±‚æ¿è®¾è®¡ç»éªŒè€…ä¼˜å…ˆï¼›</li>
<li>ç†Ÿæ‚‰æ˜¾ç¤ºå±ã€æ‰¬å£°å™¨ã€éº¦å…‹é£ã€æ‘„åƒå¤´ã€åº•ç›˜é©¬è¾¾ã€çº¢å¤–å’ŒLEDç­‰å¤–è®¾æˆ–ä¼ æ„Ÿå™¨ç¡¬ä»¶ï¼›</li>
<li>æ’°å†™ç›¸å…³çš„æ ‡å‡†, æµç¨‹ï¼Œèƒ½å¤Ÿç‹¬ç«‹æ­å»ºæµ‹è¯•ç¯å¢ƒä¸æµ‹è¯•ç³»ç»Ÿï¼Œèƒ½ç†Ÿç»ƒè¿ç”¨ç¤ºæ³¢å™¨ã€é€»è¾‘åˆ†æä»ªã€ä¿¡å·å‘ç”Ÿå™¨ç­‰ï¼›</li>
<li>åœ°ç‚¹ï¼š<strong>æ— é”¡</strong></li>
</ol>
<h2 id="èŒè´£-5"><a href="#èŒè´£-5" class="headerlink" title="èŒè´£"></a>èŒè´£</h2><ol>
<li>è´Ÿè´£ç¡¬ä»¶è®¾è®¡ã€å™¨ä»¶é€‰å‹ã€PCB layoutã€è°ƒè¯•ç­‰ï¼›</li>
<li>è´Ÿè´£æ ‡å‡†åŒ–ã€ç¡¬ä»¶é™æœ¬ã€wifiæ¨¡ç»„é™æœ¬ï¼›</li>
<li>è´Ÿè´£ä¸ºå„ä¸ªæ¨¡å—é€‰æ‹©åˆé€‚çš„å¤„ç†å™¨å¹³å°åŠä¼ æ„Ÿå™¨ï¼› </li>
<li>å¯¹å„ç±»å¤„ç†å™¨å¹³å°å’Œä¼ æ„Ÿå™¨è¿›è¡Œæ¯”è¾ƒåˆ†æï¼ˆæˆæœ¬ã€æ€§èƒ½ã€èƒ½è€—ã€ç¨³å®šæ€§ã€å…¼å®¹æ€§ï¼‰ï¼Œæäº¤å¯è¡Œæ€§æŠ¥å‘Šã€‚   </li>
</ol>
<hr>
<h1 id="å…¶ä»–è¦æ±‚"><a href="#å…¶ä»–è¦æ±‚" class="headerlink" title="å…¶ä»–è¦æ±‚"></a>å…¶ä»–è¦æ±‚</h1><ol>
<li>ç®€å†åç§°æ ¼å¼ï¼šè‘›å…ˆç”Ÿ-34å²-6å¹´ç»éªŒ-æœºå™¨è§†è§‰å·¥ç¨‹å¸ˆ-çŒè˜ç®€å†</li>
<li>ä¸€ä¸ªå²—ä½ä¸€å‘¨å®‰æ’é¢è¯•æ•°è¦è¾¾åˆ°5ä¸ªå·¦å³ï¼Œä½†æ˜¯ä¸èƒ½è¶…è¿‡5ä¸ªäººï¼›</li>
</ol>
<p></p>
<hr>
<h1 id="è®°å½•"><a href="#è®°å½•" class="headerlink" title="è®°å½•"></a>è®°å½•</h1><h2 id="çŒè˜"><a href="#çŒè˜" class="headerlink" title="çŒè˜"></a>çŒè˜</h2><ol>
<li>ç½‘å€ï¼š<a href="http://www.lietou.com/" target="_blank" rel="noopener">http://www.lietou.com/</a></li>
<li>è´¦æˆ·ï¼šç¾çš„é›†å›¢æ´—è¡£æœºäº‹ä¸šéƒ¨</li>
<li>å¯†ç ï¼šmidea2019</li>
</ol>
<h2 id="å‰ç¨‹æ— å¿§"><a href="#å‰ç¨‹æ— å¿§" class="headerlink" title="å‰ç¨‹æ— å¿§"></a>å‰ç¨‹æ— å¿§</h2><ol>
<li>ç½‘å€ï¼š<a href="http://www.51job.com/" target="_blank" rel="noopener">http://www.51job.com/</a></li>
<li><del>ä¼šå‘˜åï¼šwxå°å¤©é¹…1</del></li>
<li><del>ç”¨æˆ·åï¼šmideaxyj-03</del></li>
<li><del>å¯†ç ï¼šxyj2019.</del></li>
<li>ä¼šå‘˜åï¼šç¾çš„ä¼ä¸šé›†å›¢</li>
<li>ç”¨æˆ·åï¼šmideaxyj</li>
<li>å¯†ç ï¼šxyj2019.</li>
</ol>
<h2 id="é¢è¯•å®˜"><a href="#é¢è¯•å®˜" class="headerlink" title="é¢è¯•å®˜"></a>é¢è¯•å®˜</h2><h3 id="ç¡¬ä»¶"><a href="#ç¡¬ä»¶" class="headerlink" title="ç¡¬ä»¶"></a>ç¡¬ä»¶</h3><p>é¢è¯•äººï¼šå€ªå¿—ä¼Ÿ</p>
<h3 id="è½¯ä»¶"><a href="#è½¯ä»¶" class="headerlink" title="è½¯ä»¶"></a>è½¯ä»¶</h3><p>é¢è¯•äººï¼šå†¯è‰º èƒ¡å†›è¾‰</p>
<h3 id="ç®—æ³•"><a href="#ç®—æ³•" class="headerlink" title="ç®—æ³•"></a>ç®—æ³•</h3><p>é¢è¯•äººï¼šæç¥¥æ˜ èƒ¡å†›è¾‰</p>
<h3 id="åç«¯"><a href="#åç«¯" class="headerlink" title="åç«¯"></a>åç«¯</h3><p>é¢è¯•äººï¼šèƒ¡å†›è¾‰</p>
<h3 id="å¤§æ•°æ®"><a href="#å¤§æ•°æ®" class="headerlink" title="å¤§æ•°æ®"></a>å¤§æ•°æ®</h3><p>é¢è¯•äººï¼šèƒ¡å†›è¾‰</p>
<h3 id="æµ‹è¯•"><a href="#æµ‹è¯•" class="headerlink" title="æµ‹è¯•"></a>æµ‹è¯•</h3><p>é¢è¯•äººï¼šè‹å¿ åŸ èƒ¡å†›è¾‰</p>
]]></content>
      <categories>
        <category>Work</category>
      </categories>
  </entry>
  <entry>
    <title>ç¨‹åºå‘˜è¦æœ‰æ•°å­¦åŸºç¡€â€”â€”ç»Ÿè®¡æ€ç»´</title>
    <url>/2020/06/05/%E7%A8%8B%E5%BA%8F%E5%91%98%E8%A6%81%E6%9C%89%E6%95%B0%E5%AD%A6%E5%9F%BA%E7%A1%80%E2%80%94%E2%80%94%E7%BB%9F%E8%AE%A1%E6%80%9D%E7%BB%B4/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>ç”¨ç¼–ç¨‹ç†è§£ç»Ÿè®¡å­¦å¦‚æ¦‚ç‡ã€ åˆ†å¸ƒã€å‡è®¾æ£€éªŒã€è´å¶æ–¯ä¼°è®¡ã€ç›¸å…³æ€§ç­‰å¯èƒ½å°±ä¸ä¼šè§‰å¾—ç»Ÿè®¡æ¦‚ç‡å¾ˆæ¯ç‡¥äº†å§ï¼ç¦»å¼€äº†è®¡ç®—æœºï¼Œ ç»Ÿè®¡åœ¨ç°ä»£ç§‘å­¦å’Œå·¥ç¨‹é¢†åŸŸå¯¸æ­¥éš¾è¡Œï¼å¦‚ä½•ç”¨ç»Ÿè®¡å­¦æ–¹æ³•åˆ†æå¤§å‹æ•°æ®é›†åœ¨è¿™é‡Œä¼šæœ‰æ‰€ä½“ç°ï¼<strong>æ¨èä¹¦ç±ï¼šã€Šç»Ÿè®¡æ€ç»´ï¼šç¨‹åºå‘˜æ•°å­¦ä¹‹æ¦‚ç‡ç»Ÿè®¡ã€‹Â· [ç¾] Allen B. Downey è‘— å¼ å»ºé”‹ é™ˆé’¢ è¯‘</strong>   </p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="æ•°æ®æ¥æº"><a href="#æ•°æ®æ¥æº" class="headerlink" title="æ•°æ®æ¥æº"></a>æ•°æ®æ¥æº</h2><ol>
<li>ç¾å›½ç–¾ç—…æ§åˆ¶ä¸é¢„é˜²ä¸­å¿ƒï¼ˆCenters for Disease Control and Preventionï¼ŒCDCï¼‰ä¸»æŒçš„å…¨å›½å®¶åº­æˆé•¿è°ƒæŸ¥ï¼ˆNational Survey of Family Growthï¼ŒNSFGï¼‰é¡¹ç›®ï¼Œæ”¶é›†äº†ç¾å›½äººçš„é¿å­•å’Œç”·å¥³å¥åº·ç­‰ä¿¡æ¯â€ï¼Œ<a href="https://www.cdc.gov/nchs/nsfg.htm" target="_blank" rel="noopener">è¯¦ç»†å†…å®¹</a>ï¼›</li>
<li>å›½æ…¢æ€§ç—…é¢„é˜²å’Œå¥åº·ä¿ƒè¿›ä¸­å¿ƒä¸»å¯¼çš„è¡Œä¸ºé£é™©å› ç´ ç›‘æµ‹ç³»ç»Ÿï¼ˆthe Behavioral Risk Factor Surveillance Systemï¼ŒBRFSSï¼‰ ï¼Œ è¯¥ç³»ç»Ÿæ—¨åœ¨è·Ÿè¸ªâ€œç¾å›½äººçš„å¥åº·çŠ¶å†µå’Œå±é™©è¡Œä¸ºâ€ï¼Œ<a href="http://cdc.gov/BRFSS/" target="_blank" rel="noopener">è¯¦ç»†å†…å®¹</a>ï¼›</li>
</ol>
<h2 id="åŸºç¡€çŸ¥è¯†"><a href="#åŸºç¡€çŸ¥è¯†" class="headerlink" title="åŸºç¡€çŸ¥è¯†"></a>åŸºç¡€çŸ¥è¯†</h2><h3 id="ç»Ÿè®¡æ–¹æ³•"><a href="#ç»Ÿè®¡æ–¹æ³•" class="headerlink" title="ç»Ÿè®¡æ–¹æ³•"></a>ç»Ÿè®¡æ–¹æ³•</h3><ol>
<li>ä¸ºäº†è§£å†³ç»éªŒä¹‹è°ˆçš„ç§ç§ä¸è¶³ï¼Œä¼šé‡‡ç”¨ç»Ÿè®¡å­¦æ‰‹æ®µï¼š<ul>
<li>æ”¶é›†æ•°æ®</li>
<li>æè¿°æ€§ç»Ÿè®¡</li>
<li>æ¢ç´¢æ€§æ•°æ®åˆ†æ</li>
<li>å‡è®¾æ£€éªŒ</li>
<li>ä¼°è®¡</li>
</ul>
</li>
<li>ä¸‹è½½æ•°æ®ï¼ŒåŒæ„åè®®ï¼Œç„¶å<a href="http://greenteapress.com/thinkstats/nsfg.html" target="_blank" rel="noopener">ä¸‹è½½</a> 2002FemResp.dat.gz å’Œ 2002FemPreg.dat.gz ä¸¤ä¸ªæ–‡ä»¶ï¼š<ul>
<li>2002FemResp.dat.gzæ˜¯è¢«è°ƒæŸ¥è€…æ–‡ä»¶ï¼Œ æ¯ä¸€è¡Œä»£è¡¨ä¸€ä¸ªè¢«è°ƒæŸ¥è€…ï¼Œ æ€»å…± 7643 ä¸ªå¥³æ€§è¢«è°ƒæŸ¥è€…</li>
<li>2002FemPreg.dat.gzæ˜¯å„ä¸ªè¢«è°ƒæŸ¥è€…çš„æ€€å­•æƒ…å†µæ–‡ä»¶</li>
</ul>
</li>
<li>é‡ç¼–ç é€šå¸¸éµå¾ªæ•°æ®ä¸€è‡´æ€§å’Œå‡†ç¡®æ€§åŸåˆ™ã€‚ é™¤éæœ‰ç‰¹åˆ«åŸå› ä¸€å®šè¦ä½¿ç”¨åŸå§‹æ•°æ®ï¼Œå¦åˆ™å°±åº”è¯¥ç›´æ¥ä½¿ç”¨é‡ç¼–ç åçš„æ•°æ®ï¼</li>
</ol>
<h2 id="ç»Ÿè®¡å­¦çŸ¥è¯†"><a href="#ç»Ÿè®¡å­¦çŸ¥è¯†" class="headerlink" title="ç»Ÿè®¡å­¦çŸ¥è¯†"></a>ç»Ÿè®¡å­¦çŸ¥è¯†</h2><ol>
<li><p>å‡å€¼ï¼ˆmeanï¼‰å’Œå¹³å‡å€¼ï¼ˆaverageï¼‰ åœ¨å¾ˆå¤šæƒ…å†µä¸‹å¯ä»¥ä¸åŠ åŒºåˆ†åœ°ä½¿ç”¨ï¼Œä½†è¿˜æ˜¯æœ‰åŒºåˆ«çš„ï¼š</p>
<ul>
<li>æ ·æœ¬çš„â€œå‡å€¼â€ æ˜¯è®¡ç®—å‡ºæ¥çš„ä¸€ä¸ªæ±‡æ€»ç»Ÿè®¡é‡</li>
<li>â€œ å¹³å‡å€¼â€ æ˜¯è‹¥å¹²ç§å¯ä»¥ç”¨äºæè¿°æ ·æœ¬çš„å…¸å‹å€¼æˆ–é›†ä¸­è¶‹åŠ¿ï¼ˆcentral tendencyï¼‰ çš„æ±‡æ€»ç»Ÿè®¡é‡ä¹‹ä¸€  </li>
<li>æœ‰æ—¶å€™å‡å€¼å¯ä»¥å¾ˆå¥½åœ°æè¿°ä¸€ç»„å€¼  </li>
</ul>
<p><img src="" alt="å‡å€¼æ¦‚å¿µ"></p>
</li>
<li><p>æ–¹å·®æ˜¯æè¿°åˆ†æ•£æƒ…å†µçš„ç»Ÿè®¡æ•°æ®ï¼Œä¸€ç»„å€¼çš„æ–¹å·®ç­‰äºï¼š</p>
<p><img src="" alt="æ–¹å·®å…¬å¼">  </p>
<ul>
<li>æ–¹å·®çš„å¹³æ–¹æ ¹å«åšæ ‡å‡†å·®</li>
</ul>
</li>
<li><p>æ•°æ®çš„åˆ†å¸ƒï¼ˆdistributionï¼‰æè¿°äº†å„ä¸ªå€¼å‡ºç°çš„é¢‘ç¹ç¨‹åº¦ï¼š </p>
<ol>
<li>è¡¨ç¤ºåˆ†å¸ƒæœ€å¸¸ç”¨çš„æ–¹æ³•æ˜¯ç›´æ–¹å›¾ï¼ˆhistogramï¼‰ï¼Œ è¿™ç§å›¾ç”¨äºå±•ç¤ºå„ä¸ªå€¼å‡ºç°çš„é¢‘æ•°æˆ–æ¦‚ç‡ </li>
<li>é¢‘æ•°æŒ‡çš„æ˜¯æ•°æ®é›†ä¸­ä¸€ä¸ªå€¼å‡ºç°çš„æ¬¡æ•°  </li>
<li>æ¦‚ç‡å°±æ˜¯é¢‘æ•°é™¤ä»¥æ ·æœ¬æ•°é‡ n</li>
<li>åœ¨ Python ä¸­ï¼Œ è®¡ç®—é¢‘æ•°æœ€ç®€å•çš„æ–¹æ³•å°±æ˜¯ç”¨å­—å…¸</li>
<li>æŠŠé¢‘æ•°è½¬æ¢æˆæ¦‚ç‡ï¼Œ ç§°ä¸ºå½’ä¸€åŒ–ï¼ˆnormalizationï¼‰ï¼Œå½’ä¸€åŒ–ä¹‹åçš„ç›´æ–¹å›¾ç§°ä¸º PMFï¼ˆProbability Mass Functionï¼Œ æ¦‚ç‡è´¨é‡å‡½æ•°ï¼‰    </li>
<li>ç›´æ–¹å›¾å’Œæ¦‚ç‡è´¨é‡å‡½æ•°é€šå¸¸ç”»æˆæ¡çŠ¶å›¾  </li>
</ol>
</li>
<li><p>åˆ†å¸ƒä¸­å‡ºç°æ¬¡æ•°æœ€å¤šçš„å€¼å«åšä¼—æ•°ï¼›è¿œç¦»ä¼—æ•°çš„å€¼å«åšå¼‚å¸¸å€¼ï¼ˆoutlierï¼‰ï¼›</p>
</li>
<li><p>å¼‚å¸¸å€¼æœ‰å¯èƒ½æ˜¯é‡‡é›†å’Œå¤„ç†æ•°æ®è¿‡ç¨‹ä¸­çš„é”™è¯¯å¯¼è‡´çš„ï¼Œ ä¹Ÿæœ‰å¯èƒ½æ˜¯ç½•è§çš„æ­£ç¡®ç»“æœï¼›      </p>
</li>
<li><p>æ¡ä»¶æ¦‚ç‡ï¼ˆconditional probabilityï¼‰ å°±æ˜¯ä¾èµ–äºæŸä¸ªæ¡ä»¶çš„æ¦‚ç‡ï¼›</p>
</li>
<li><p>åŒºé—´ï¼ˆbinï¼‰ï¼šå°†ç›¸è¿‘æ•°å€¼è¿›è¡Œåˆ†ç»„çš„èŒƒå›´   </p>
</li>
<li><p>é›†ä¸­è¶‹åŠ¿ï¼ˆcentral tendencyï¼‰ï¼šæ ·æœ¬æˆ–æ€»ä½“çš„ä¸€ç§ç‰¹å¾ï¼Œ ç›´è§‚æ¥è¯´å°±æ˜¯æœ€èƒ½ä»£è¡¨å¹³å‡æ°´å¹³çš„å€¼  </p>
</li>
<li><p>ç´¯ç§¯åˆ†å¸ƒå‡½æ•°ï¼ˆCumulative Distribution Functionï¼Œ CDFï¼‰æ˜¯å€¼åˆ°å…¶åœ¨åˆ†å¸ƒä¸­ç™¾åˆ†ç­‰çº§çš„æ˜ å°„ï¼›</p>
</li>
<li><p>æ¡ä»¶åˆ†å¸ƒæ˜¯æ ¹æ®æŸä¸ªæ¡ä»¶é€‰æ‹©çš„æ•°æ®å­é›†çš„åˆ†å¸ƒï¼›</p>
</li>
<li><p>è‹¥äº‹ä»¶åœ¨æ¯ä¸ªæ—¶é—´ç‚¹å‘ç”Ÿçš„æ¦‚ç‡ç›¸åŒï¼Œ é‚£ä¹ˆé—´éš”æ—¶é—´çš„åˆ†å¸ƒå°±è¿‘ä¼¼äºæŒ‡æ•°åˆ†å¸ƒï¼Œå…¶CDFæ˜¯ï¼š</p>
<p><img src="" alt="æŒ‡æ•°åˆ†å¸ƒ"></p>
<ul>
<li>å–å¯¹æ•°åçš„äº’è¡¥ç´¯ç§¯åˆ†å¸ƒå‡½æ•°ï¼ˆComplementary CDFï¼ŒCCDFï¼‰ï¼š1-CDF(x)</li>
</ul>
</li>
<li><p>å¸•ç´¯æ‰˜åˆ†å¸ƒå¹¿æ³›ç”¨äºæè¿°è‡ªç„¶ç•Œå’Œç¤¾ä¼šç§‘å­¦ä¸­çš„å„ç§ç°è±¡ï¼Œ åŒ…æ‹¬åŸé•‡å¤§å°ã€ ç ‚ç²’å’Œé™¨çŸ³ã€ æ£®æ—ç«ç¾å’Œåœ°éœ‡ç­‰ï¼Œå…¶CDFæ˜¯ï¼š</p>
<p><img src="" alt="å¸•ç´¯æ‰˜åˆ†å¸ƒ">    </p>
</li>
<li><p>æ­£æ€åˆ†å¸ƒä¹Ÿç§°ä¸ºé«˜æ–¯åˆ†å¸ƒï¼Œ å› å…¶å¯ä»¥è¿‘ä¼¼æè¿°å¾ˆå¤šç°è±¡è€Œæˆä¸ºæœ€å¸¸ç”¨çš„åˆ†å¸ƒï¼Œå¯¹äºæ­£æ€åˆ†å¸ƒçš„ CDF è¿˜æ²¡æœ‰ä¸€ç§å‡†ç¡®çš„è¡¨è¾¾ã€‚ æœ€å¸¸ç”¨çš„ä¸€ç§å½¢å¼æ˜¯ä»¥è¯¯å·®å‡½æ•°ï¼ˆerror functionï¼‰ è¡¨ç¤º ï¼š</p>
<p><img src="" alt="æ­£æ€åˆ†å¸ƒ"></p>
</li>
<li><p>å¯¹äºæŒ‡æ•°åˆ†å¸ƒã€ å¸•ç´¯æ‰˜åˆ†å¸ƒå’Œå¨å¸ƒå°”åˆ†å¸ƒï¼Œ éƒ½å¯ä»¥é€šè¿‡ç®€å•çš„è½¬æ¢æ¥åˆ¤æ–­ä¸€ä¸ªè¿ç»­åˆ†å¸ƒæ˜¯å¦èƒ½ç”¨äºæŸä»½æ•°æ®é›†çš„å»ºæ¨¡ï¼Œå¯¹äºæ­£æ€åˆ†å¸ƒå°±ä¸å­˜åœ¨è¿™æ ·çš„å˜æ¢ï¼›</p>
</li>
<li><p>å¦‚æœä¸€ç»„æ•°å€¼åšå¯¹æ•°å˜æ¢åæœä»æ­£æ€åˆ†å¸ƒï¼Œ æˆ‘ä»¬å°±ç§°å…¶æœä»å¯¹æ•°æ­£æ€åˆ†å¸ƒï¼ˆlognormal distributionï¼‰ï¼ŒCDFä¸ºï¼š</p>
<p><img src="" alt="å¯¹æ•°æ­£æ€åˆ†å¸ƒ"></p>
</li>
<li><p><strong>çœŸå®ä¸–ç•Œçš„å¾ˆå¤šç°è±¡éƒ½å¯ä»¥ç”¨è¿ç»­åˆ†å¸ƒæ¥å»ºæ¨¡ï¼</strong></p>
</li>
<li><p>å¦‚æœå¯ä»¥é«˜æ•ˆåœ°è®¡ç®—å‡ºICDF(p)ï¼ˆinverse CDFï¼Œ é€† CDFï¼‰ ï¼Œ æˆ‘ä»¬å°±å¯ä»¥æ–¹ä¾¿åœ°ç”Ÿæˆæœä»å„ç§åˆ†å¸ƒçš„éšæœºå€¼ï¼›</p>
</li>
</ol>
<h2 id="æ¦‚ç‡"><a href="#æ¦‚ç‡" class="headerlink" title="æ¦‚ç‡"></a>æ¦‚ç‡</h2><ol>
<li><p>æ¦‚ç‡çš„å«ä¹‰ä¸€ç›´å°±æ˜¯ä¸€ä¸ªæœ‰äº‰è®®çš„è¯é¢˜ï¼Œæ™®éè®¤åŒæ¦‚ç‡æ˜¯ä¸€ä¸ª 0åˆ°1ä¹‹é—´çš„å€¼ï¼Œ æ˜¯ä¸€ç§å®šé‡åº¦é‡ï¼Œ å¯¹åº”äºå®šæ€§åœ°æè¿°æŸä¸€ä»¶äº‹å‘ç”Ÿçš„å¯èƒ½æ€§çš„å¤§å°ï¼›</p>
</li>
<li><p>è¢«èµ‹äºˆæ¦‚ç‡çš„â€œäº‹æƒ…â€ ç§°ä¸ºäº‹ä»¶ï¼ˆeventï¼‰ï¼Œå¦‚æœ E è¡¨ç¤ºä¸€ä¸ªäº‹ä»¶ï¼Œ é‚£ä¹ˆ P(E) å°±è¡¨ç¤ºè¯¥äº‹ä»¶å‘ç”Ÿçš„æ¦‚ç‡ã€‚ æ£€æµ‹ E å‘ç”Ÿæƒ…å†µçš„è¿‡ç¨‹å°±å«åšè¯•éªŒï¼ˆtrialï¼‰ï¼›</p>
</li>
<li><p>å¤§éƒ¨åˆ†äººéƒ½å¯ä»¥æ¥å—ç”¨ä¸€ç³»åˆ—å‡æƒ³çš„é‡å¤è¯•éªŒæ¥è¡¨ç¤ºæ¦‚ç‡ï¼›</p>
</li>
<li><p>é¢‘ç‡è®ºï¼ˆfrequentismï¼‰ï¼Œ å°±æ˜¯ç”¨é¢‘ç‡æ¥å®šä¹‰æ¦‚ç‡ï¼›</p>
</li>
<li><p>è´å¶æ–¯è®¤è¯†è®ºï¼ˆbayesianismï¼‰å°†æ¦‚ç‡å®šä¹‰ä¸ºäº‹ä»¶å‘ç”Ÿçš„å¯ä¿¡åº¦ï¼›</p>
</li>
<li><p>è’™æéœå°”é—®é¢˜ï¼ˆThe Monty Hall problemï¼‰ æœ‰å¯èƒ½æ˜¯å†å²ä¸Šæœ€å¯Œäº‰è®®çš„æ¦‚ç‡é—®é¢˜ï¼</p>
</li>
<li><p>äºŒé¡¹åˆ†å¸ƒï¼ˆbinomial distributionï¼‰ï¼Œ å…¶ PMF æ˜¯ ï¼š</p>
<p><img src="" alt="äºŒé¡¹åˆ†å¸ƒ"></p>
</li>
<li><p>èšç±»é”™è§‰ï¼ˆclustering illusionï¼‰ï¼Œ æŒ‡çœ‹ä¸Šå»å¥½åƒæœ‰æŸç§ç‰¹ç‚¹çš„èšç±»å®é™…ä¸Šæ˜¯éšæœºçš„ ï¼›</p>
</li>
<li><p>è´å¶æ–¯å®šç†ï¼ˆBayesâ€™s theoremï¼‰ æè¿°çš„æ˜¯ä¸¤ä¸ªäº‹ä»¶çš„æ¡ä»¶æ¦‚ç‡ä¹‹é—´çš„å…³ç³»ï¼Œå…¬å¼å¦‚ä¸‹ï¼š</p>
<p><img src="" alt="è´å¶æ–¯å…¬å¼">  </p>
</li>
<li></li>
</ol>
<hr>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1>]]></content>
      <categories>
        <category>Python</category>
      </categories>
  </entry>
  <entry>
    <title>ç½‘è·¯åŸºç¡€çŸ¥è¯†</title>
    <url>/2020/06/15/%E7%BD%91%E8%B7%AF%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>æˆ·æ ¹å‹¤æ˜¯ä¸ªå…¨æ ˆå·¥ç¨‹å¸ˆï¼Œä»è½¯ä»¶åˆ°ç¡¬ä»¶ï¼Œä»æœåŠ¡å™¨åˆ°äº¤æ¢æœºï¼Œä¼¼ä¹æ¯ä¸€æ–¹é¢éƒ½åœ¨è¡Œï¼ŒçœŸçš„æ˜¯ä¸€ä¸ªç‰›äººã€‚<strong>ä¸ç†è§£ç½‘ç»œçš„å…¨è²Œï¼Œä¹Ÿå°±æ— æ³•ç†è§£æ¯ä¸€ç§ç½‘ç»œæŠ€æœ¯èƒŒåçš„æœ¬è´¨æ„ä¹‰ï¼</strong>å¦‚æœæ— æ³•ç†è§£å…¶æœ¬è´¨æ„ä¹‰ï¼Œå°±åªèƒ½åœç•™åœ¨æ­»è®°ç¡¬èƒŒçš„ç¨‹åº¦ï¼Œæ— æ³•åšåˆ°å®é™…åº”ç”¨ã€‚ <strong>æ¨èä¹¦ç±ï¼šã€Šç½‘ç»œæ˜¯æ€æ ·è¿æ¥çš„ã€‹Â· [æ—¥] æˆ·æ ¹å‹¤ è‘— å‘¨è‡ªæ’ è¯‘</strong>            </p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="åŸºç¡€çŸ¥è¯†"><a href="#åŸºç¡€çŸ¥è¯†" class="headerlink" title="åŸºç¡€çŸ¥è¯†"></a>åŸºç¡€çŸ¥è¯†</h2><ol>
<li>æµè§ˆå™¨å¹¶ä¸ä¼šäº²è‡ªè´Ÿè´£æ•°æ®çš„ä¼ é€ï¼Œä¼šå§”æ‰˜æ“ä½œç³»ç»Ÿä¸­çš„ç½‘ç»œæ§åˆ¶è½¯ä»¶å°†æ¶ˆæ¯å‘é€ç»™æœåŠ¡å™¨ï¼›</li>
<li>åè®®æ ˆï¼ˆç½‘ç»œ æ§åˆ¶è½¯ä»¶å«ä½œåè®®æ ˆï¼‰ä¼šå°†ä»æµè§ˆå™¨æ¥æ”¶åˆ°çš„æ¶ˆæ¯æ‰“åŒ…ï¼Œç„¶ååŠ ä¸Šç›®çš„åœ°å€ç­‰æ§åˆ¶ä¿¡æ¯ï¼Œç„¶åå°†åŒ…äº¤ç»™ç½‘å¡ï¼Œç½‘å¡ä¼šå°†åŒ…è½¬æ¢ä¸ºç”µä¿¡å·å¹¶é€šè¿‡ä¼ è¾“ä»‹è´¨å‘é€å‡ºå»ï¼›</li>
<li>äº’è”ç½‘çš„å…¥å£çº¿è·¯ç§°ä¸ºæ¥å…¥ç½‘ï¼Œå¯ä»¥ç”¨ç”µè¯çº¿ã€ISDNã€ADSLã€æœ‰çº¿ç”µè§†ã€å…‰çº¿ã€ä¸“çº¿ç­‰å¤šç§é€šä¿¡çº¿è·¯æ¥æ¥å…¥äº’è”ç½‘ï¼Œè¿™äº›é€šä¿¡ çº¿è·¯ç»Ÿç§°ä¸ºæ¥å…¥ç½‘ï¼›</li>
<li>æ¥å…¥ç‚¹ï¼ˆPoint of Presenceï¼ŒPoPï¼‰çš„å®ä½“æ˜¯ä¸€å°ä¸“ä¸ºè¿è¥å•†è®¾è®¡çš„è·¯ç”±å™¨ï¼ˆé«˜é€Ÿå¤§å‹è·¯ç”±å™¨ï¼‰ï¼›</li>
</ol>
<h2 id="æµè§ˆå™¨"><a href="#æµè§ˆå™¨" class="headerlink" title="æµè§ˆå™¨"></a>æµè§ˆå™¨</h2><ol>
<li><p>æµè§ˆå™¨ä¼šæ ¹æ®ç½‘å€çš„å«ä¹‰æ¥ç”Ÿæˆè¯·æ±‚æ¶ˆæ¯ï¼Œå°†ç”¨æˆ·éœ€è¦å“ªäº›æ•°æ®å‘ŠçŸ¥æœåŠ¡å™¨ï¼›</p>
</li>
<li><p>æµè§ˆå™¨éœ€è¦å‘ DNS æœåŠ¡å™¨æŸ¥è¯¢åŸŸåå¯¹åº”çš„ IP åœ°å€ï¼ŒDNSå­˜åœ¨çš„åŸå› æ˜¯å› ä¸ºäººä»¬é€šå¸¸å¾ˆéš¾è®°ä½IPåœ°å€ï¼Œå› æ­¤è®©äººæ¥ä½¿ç”¨åç§°ï¼Œè®©è·¯ç”±å™¨æ¥ä½¿ç”¨ IP åœ°å€ã€‚ç”±äºä¸Šçº§ DNS æœåŠ¡å™¨ä¿ç®¡ç€æ‰€æœ‰ä¸‹çº§DNSæœåŠ¡å™¨çš„ä¿¡æ¯ï¼Œæ‰€ä»¥å¯ä»¥ä»æ ¹åŸŸå¼€å§‹ä¸€è·¯å¾€ä¸‹é¡ºè—¤æ‘¸ç“œæ‰¾åˆ°ä»»æ„ä¸€ä¸ªåŸŸçš„ DNS æœåŠ¡å™¨ï¼›</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/7cbade67c4201a8edc4ceb71cecd9e81-398193" alt="DNSå·¥ä½œåŸç†"></p>
</li>
<li><p>æµè§ˆå™¨æ˜¯ä¸€ä¸ªå…·å¤‡å¤šç§å®¢æˆ·ç«¯åŠŸèƒ½çš„ç»¼åˆæ€§å®¢æˆ·ç«¯è½¯ä»¶ï¼Œå¯ä»¥è¿›è¡Œæµè§ˆç½‘é¡µï¼Œä¸‹è½½æ–‡ä»¶ç­‰ç­‰ï¼</p>
</li>
<li><p>URLæ ¼å¼ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/449b8c93d9ce63db83fc7ee550ba00bc-252899" alt="å„ç§URL"></p>
</li>
<li><p>Webè§£æURLçš„è¿‡ç¨‹ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/a72b1aca6b6ef3658cf481f3a6ef2408-178535" alt="Webè§£æURL"></p>
</li>
<li><p>HTTPä¸»è¦æ–¹æ³•ï¼ˆæ–¹æ³•è¡¨ç¤ºéœ€è¦è®© Web æœåŠ¡å™¨å®Œæˆæ€æ ·çš„å·¥ä½œï¼‰ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/a4cf7159321d9b9f0a4e70a10b11f264-456265" alt="HTTPä¸»è¦æ–¹æ³•"></p>
</li>
<li><p>HTTPæ¶ˆæ¯çš„æ ¼å¼ï¼ˆæ¶ˆæ¯å¤´çš„è§„æ ¼ä¸­å®šä¹‰äº†å¾ˆå¤šé¡¹ç›®ï¼Œå¦‚æ—¥æœŸã€å®¢æˆ·ç«¯æ”¯æŒçš„æ•°æ®ç±»å‹ã€è¯­è¨€ã€å‹ç¼©æ ¼å¼ã€å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨çš„è½¯ä»¶åç§°å’Œç‰ˆæœ¬ã€æ•°æ®æœ‰ æ•ˆæœŸå’Œæœ€åæ›´æ–°æ—¶é—´ç­‰ï¼‰ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/059bf998216650e3cafec1eefd21259a-316780" alt="HTTPæ¶ˆæ¯æ ¼å¼"></p>
</li>
<li><p>HTTPçŠ¶æ€ç ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/a7d3e07287df6f307e67fff62b99d75c-127813" alt="HTTPçŠ¶æ€ç "></p>
</li>
<li><p>HTTPæ–¹æ³•ç¤ºä¾‹ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/fba5e7b88c252aad987520027356c359-268438" alt="è¯·æ±‚"></p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/8b4f2f018ecc4d1177c4a192be7a19a5-399989" alt="æœåŠ¡å™¨è¿”å›"></p>
</li>
</ol>
<h2 id="TCP-IP"><a href="#TCP-IP" class="headerlink" title="TCP/IP"></a>TCP/IP</h2><ol>
<li><p>åˆ†å±‚ç»“æ„ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/b137bbaef7a5b5ce3f0cc2c12e8e7065-228594" alt="TCP/IPåˆ†å±‚"></p>
</li>
<li><p>æµè§ˆå™¨ã€é‚®ä»¶ç­‰ä¸€èˆ¬åº”ç”¨ç¨‹åºæ”¶å‘æ•°æ®æ—¶ç”¨ TCPï¼ŒDNS æŸ¥è¯¢ç­‰æ”¶å‘è¾ƒçŸ­çš„æ§åˆ¶æ•°æ®æ—¶ç”¨ UDPï¼›</p>
</li>
<li><p>åè®®æ ˆæ˜¯æ ¹æ®å¥—æ¥å­—ä¸­è®°å½•çš„æ§åˆ¶ä¿¡æ¯æ¥å·¥ä½œçš„ï¼›</p>
</li>
<li><p>TCPå¤´éƒ¨æ ¼å¼ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/c855bd27a1439b79b720d7ee3da958e4-633082" alt="TCPå¤´éƒ¨æ ¼å¼"></p>
</li>
<li><p>åè®®æ ˆå¹¶ä¸æ˜¯ä¸€æ”¶åˆ°æ•°æ®å°±é©¬ä¸Šå‘é€å‡ºå»ï¼Œè€Œæ˜¯ä¼šå°†æ•°æ®å­˜æ”¾åœ¨å†…éƒ¨çš„å‘é€ç¼“å†²åŒºä¸­ï¼Œå¹¶ç­‰å¾…åº”ç”¨ç¨‹åºçš„ä¸‹ä¸€æ®µæ•°æ®ï¼Œè‡³äºè¦ç§¯ç´¯å¤šå°‘æ•°æ®æ‰èƒ½å‘é€ï¼Œä¸åŒç§ç±»å’Œç‰ˆæœ¬çš„æ“ä½œç³»ç»Ÿä¼šæœ‰æ‰€ä¸åŒï¼›</p>
</li>
<li><p>æ•°æ®æ‹†åˆ†å‘é€ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/5be6bd87c2c20712b6ea9f145b683282-144096" alt="æ•°æ®æ‹†åˆ†"></p>
</li>
<li><p>åºå·å’ŒACK:</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/10a4782e25e17aee00699c715f0f49e2-270570" alt="åºå·å’ŒACK"></p>
</li>
<li><p>åè®®æ ˆä¼šå°†æ¥æ”¶åˆ°çš„æ•°æ®å¤åˆ¶åˆ°åº”ç”¨ç¨‹åºæŒ‡å®šçš„å†…å­˜åœ°å€ä¸­ï¼Œ ç„¶åå°†æ§åˆ¶æµç¨‹äº¤å›åº”ç”¨ç¨‹åºï¼Œå°†æ•°æ®äº¤ç»™åº”ç”¨ç¨‹åºä¹‹åï¼Œåè®®æ ˆè¿˜éœ€è¦æ‰¾åˆ°åˆé€‚çš„æ—¶æœºå‘å‘é€æ–¹å‘é€çª—å£æ›´æ–°ï¼›</p>
</li>
<li><p>åè®®æ ˆåœ¨è®¾è®¡ä¸Šå…è®¸ä»»ä½•ä¸€æ–¹å…ˆå‘èµ·æ–­å¼€è¿‡ç¨‹ï¼</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/2fcebb525fb3886f4c468a77f5f60abb-251993" alt="TCPåè®®æµç¨‹"></p>
</li>
<li><p>TCP æ¨¡å—åœ¨æ‰§è¡Œè¿æ¥ã€æ”¶å‘ã€æ–­å¼€ç­‰å„é˜¶æ®µæ“ä½œæ—¶ï¼Œéƒ½éœ€è¦å§”æ‰˜ IP æ¨¡å—å°†æ•°æ®å°è£…æˆåŒ…å‘é€ç»™é€šä¿¡å¯¹è±¡ï¼›</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/bb6069b8a93dc9aeb1bbeb5760d3c725-610262" alt="IPå¤´éƒ¨æ ¼å¼"></p>
</li>
</ol>
<h2 id="ç½‘ç»œè®¾å¤‡"><a href="#ç½‘ç»œè®¾å¤‡" class="headerlink" title="ç½‘ç»œè®¾å¤‡"></a>ç½‘ç»œè®¾å¤‡</h2><ol>
<li><p>ä¿¡å·ä»è®¡ç®—æœºä¸­æµå‡ºä¹‹åï¼Œä¼šåœ¨ç½‘çº¿ä¸­ç»è¿‡é›†çº¿å™¨ç­‰è®¾å¤‡å‰è¿›ï¼›</p>
</li>
<li><p>åŒç»çº¿åˆ†ç±»ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/1ef52ba5f3c690dcd7d2b6d2b9cf89e7-301717" alt="åŒç»çº¿åˆ†ç±»"></p>
</li>
<li><p>é›†çº¿å™¨å°†ä¿¡å·å‘é€ç»™æ‰€æœ‰è¿æ¥åœ¨å®ƒä¸Šé¢çš„çº¿è·¯ï¼Œå…¶ä¼šåŸå°ä¸åŠ¨åœ°å°†ä¿¡å·å¹¿æ’­å‡ºå»ï¼Œæ‰€ä»¥å³ä¾¿ä¿¡å·å—åˆ°å™ªå£°çš„å¹²æ‰°å‘ç”Ÿäº†å¤±çœŸï¼Œä¹Ÿä¼šåŸæ ·å‘é€åˆ°ç›®çš„åœ°ï¼›</p>
</li>
<li><p>äº¤æ¢æœºå¯ä»¥å°†è¾“å…¥ç«¯å’Œè¾“å‡ºç«¯è¿æ¥èµ·æ¥ï¼Œä¿¡å·çº¿æ’åˆ—æˆç½‘æ ¼çŠ¶ï¼Œæ¯ä¸€ä¸ªäº¤å‰ç‚¹éƒ½æœ‰ä¸€ä¸ªäº¤æ¢å¼€å…³ï¼Œäº¤æ¢å¼€å…³æ˜¯ç”µå­æ§åˆ¶çš„ï¼Œé€šè¿‡åˆ‡æ¢å¼€å…³çš„çŠ¶æ€å°±å¯ä»¥æ”¹å˜ä¿¡å·çš„æµå‘ã€‚äº¤æ¢ç”µè·¯çš„è¾“å…¥ç«¯å’Œè¾“å‡ºç«¯åˆ†åˆ«è¿æ¥å„ä¸ªæ¥æ”¶ç«¯å£å’Œå‘é€ç«¯å£ï¼Œç½‘ç»œåŒ…é€šè¿‡è¿™ä¸ªç½‘æ ¼çŠ¶çš„ç”µè·¯åœ¨ç«¯å£ä¹‹é—´æµåŠ¨ï¼›</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/12e7c2f9f3261ac578bb426c6e83d593-452948" alt="äº¤æ¢æœºç»“æ„"></p>
<ul>
<li>äº¤æ¢æœºç«¯å£çš„ MAC æ¨¡å—ä¸å…·æœ‰ MAC åœ°å€</li>
<li>äº¤æ¢æœºæ ¹æ® MAC åœ°å€è¡¨æŸ¥æ‰¾ MAC åœ°å€ï¼Œ ç„¶åå°†ä¿¡å·å‘é€åˆ°ç›¸åº”çš„ç«¯å£</li>
<li>äº¤æ¢æœºéœ€è¦å¯¹ MAC åœ°å€è¡¨çš„å†…å®¹è¿›è¡Œç»´æŠ¤</li>
<li>äº¤æ¢æœºçš„å…¨åŒå·¥æ¨¡å¼å¯ä»¥åŒæ—¶å‘é€å’Œæ¥æ”¶ä¿¡å·</li>
</ul>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/4cc0bb36f257ed92f7f37b0064cbc9fd-140150" alt="ä¸åŒæºç«¯å£è½¬å‘ç½‘ç»œåŒ…"></p>
</li>
<li><p>äº¤æ¢æœºåªå°†åŒ…è½¬å‘åˆ°å…·æœ‰ç‰¹å®š MAC åœ°å€çš„è®¾å¤‡è¿æ¥çš„ç«¯å£ï¼Œå…¶ä»–ç«¯å£éƒ½æ˜¯ç©ºé—²çš„ï¼</p>
</li>
<li><p>è·¯ç”±å™¨æ˜¯åŸºäº IP è®¾è®¡çš„ï¼Œè€Œäº¤æ¢æœºæ˜¯åŸºäºä»¥å¤ªç½‘è®¾è®¡çš„ã€‚å¦‚æœè·¯ç”±å™¨çš„ç«¯å£æ¨¡å—å®‰è£…äº†æ”¯æŒæ— çº¿å±€åŸŸç½‘çš„ç¡¬ä»¶ï¼Œå°±å¯ä»¥æ”¯æŒæ— çº¿å±€åŸŸç½‘äº†ï¼›</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/982c30f3fba8ffeb4ca78f93787ee1c8-265101" alt="è·¯ç”±å™¨ç»“æ„"></p>
<ul>
<li><p>è·¯ç”±å™¨çš„å„ä¸ªç«¯å£éƒ½å…·æœ‰ MAC åœ°å€å’Œ IP åœ°å€</p>
</li>
<li><p>è·¯ç”±å™¨åˆ™æ˜¯æ ¹æ® IP å¤´éƒ¨ä¸­çš„ IP åœ°å€æ¥åˆ¤æ–­è½¬å‘ç›®æ ‡</p>
</li>
<li><p>è·¯ç”±èšåˆä¼šå°†å‡ ä¸ªå­ç½‘åˆå¹¶æˆä¸€ä¸ªå­ç½‘ï¼Œ å¹¶åœ¨è·¯ç”±è¡¨ä¸­åªäº§ç”Ÿä¸€æ¡è®°å½•</p>
</li>
<li><p>è·¯ç”±è¡¨ä¸­å­ç½‘æ©ç ä¸º 0.0.0.0 çš„è®°å½•è¡¨ç¤ºâ€œé»˜è®¤è·¯ç”±â€</p>
</li>
<li><p>è·¯ç”±åè®®æœ‰å¾ˆå¤šç§ï¼Œä¾‹å¦‚ RIPã€OSPCã€BGP ç­‰éƒ½å±äºè·¯ç”±åè®®</p>
</li>
<li><p>è·¯ç”±è¡¨çš„å­ç½‘æ©ç åˆ—åªè¡¨ç¤ºåœ¨åŒ¹é…ç½‘ç»œåŒ…ç›®æ ‡åœ°å€æ—¶éœ€è¦å¯¹æ¯”çš„æ¯”ç‰¹æ•°é‡</p>
</li>
<li><p>è·¯ç”±å™¨ä¸­çš„è¡¨å«ä½œè·¯ç”±è¡¨</p>
</li>
</ul>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/0fba230f3628111570945657f82da41b-251710" alt="è·¯ç”±è¡¨"></p>
</li>
<li><p>è·¯ç”±å™¨åˆ¤æ–­ä¸‹ä¸€ä¸ªè½¬å‘ç›®æ ‡çš„æ–¹æ³•ï¼š</p>
<ul>
<li>å¦‚æœè·¯ç”±è¡¨çš„ç½‘å…³åˆ—å†…å®¹ä¸º IP åœ°å€ï¼Œ åˆ™è¯¥åœ°å€å°±æ˜¯ä¸‹ä¸€ä¸ªè½¬å‘ç›®æ ‡</li>
<li>å¦‚æœè·¯ç”±è¡¨çš„ç½‘å…³åˆ—å†…å®¹ä¸ºç©ºï¼Œåˆ™ IP å¤´éƒ¨ä¸­çš„æ¥æ”¶æ–¹ IP åœ°å€å°±æ˜¯ä¸‹ä¸€ä¸ªè½¬å‘ç›®æ ‡</li>
</ul>
</li>
<li><p>è·¯ç”±å™¨ä¹Ÿä¼šä½¿ç”¨ ARP æ¥æŸ¥è¯¢ä¸‹ä¸€ä¸ªè½¬å‘ç›®æ ‡çš„ MAC åœ°å€ï¼›</p>
</li>
<li><p>è·¯ç”±å™¨å°†åŒ…çš„ä¼ è¾“å·¥ä½œå§”æ‰˜ç»™äº¤æ¢æœºæ¥è¿›è¡Œï¼›</p>
</li>
<li><p>è·¯ç”±å™¨ç«¯å£è½¬å‘ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/daaebf6d2f999b4c9d96c50ce5d0d04e-359420" alt="è·¯ç”±å™¨ç«¯å£è½¬å‘"></p>
</li>
</ol>
<h2 id="ç½‘ç»œè¿è¥å•†"><a href="#ç½‘ç»œè¿è¥å•†" class="headerlink" title="ç½‘ç»œè¿è¥å•†"></a>ç½‘ç»œè¿è¥å•†</h2><ol>
<li><p>å®¶åº­å’Œå…¬å¸çš„å†…ç½‘æ˜¯é€šè¿‡æ¥å…¥ç½‘è¿æ¥åˆ°ç½‘ç»œè¿è¥å•†çš„ï¼Œæ¥å…¥ç½‘éœ€è¦é€šè¿‡ç”¨æˆ·åå’Œå¯†ç éªŒè¯ç”¨æˆ·çš„èº«ä»½ï¼Œç„¶åç”±ç½‘ç»œè¿è¥å•†å‘ç”¨æˆ·åˆ†é…å…¬æœ‰åœ°å€ï¼›</p>
</li>
<li><p>äº’è”ç½‘æ•´ä½“æ¶æ„ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/0969ba6f3fd3a8218863dba13906364a-83664" alt="äº’è”ç½‘æ•´ä½“æ¶æ„"></p>
</li>
<li><p>äº’è”ç½‘æ¥å…¥è·¯ç”±å™¨æ˜¯æŒ‰ç…§æ¥å…¥ç½‘è§„åˆ™æ¥å‘é€åŒ…çš„ï¼›</p>
</li>
<li><p>äº’è”ç½‘æ¥å…¥è·¯ç”±å™¨ä¼šåœ¨ç½‘ç»œåŒ…å‰é¢åŠ ä¸Š MAC å¤´éƒ¨ã€PPPoE å¤´éƒ¨ã€PPP å¤´ éƒ¨ æ€» å…± 3 ç§ å¤´ éƒ¨ï¼Œ ç„¶ å å‘ é€ ç»™ ADSL Modemï¼ˆPPPoE æ–¹å¼ä¸‹ï¼‰ï¼›</p>
</li>
<li><p>PPPæ‹¨å·æ“ä½œï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/90c9571487602a6e2df49c8823d6147a-64814" alt="PPPæ‹¨å·æ“ä½œ"></p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/75dbc8ffa9ba44e20b0ff418081bdbef-57604" alt="PPPoEåè®®åŒ…"></p>
<ul>
<li>PPPoE æ˜¯å°† PPP æ¶ˆæ¯è£…å…¥ä»¥å¤ªç½‘åŒ…è¿›è¡Œä¼ è¾“çš„æ–¹å¼</li>
</ul>
</li>
<li><p>éš§é“æŠ€æœ¯ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/b7c217591e299eb724133762377927b0-65005" alt="éš§é“æŠ€æœ¯"></p>
<ul>
<li>äº’è”ç½‘æ¥å…¥è·¯ç”±å™¨é€šè¿‡ PPPoE çš„å‘ç°æœºåˆ¶æŸ¥è¯¢ BAS çš„ MAC åœ°å€</li>
<li>BAS ä¸‹å‘çš„ TCP/IP å‚æ•°ä¼šè¢«é…ç½®åˆ°äº’è”ç½‘æ¥å…¥è·¯ç”±å™¨çš„ BASç«¯çš„ç«¯å£ä¸Šï¼Œè¿™æ ·è·¯ç”±å™¨å°±å®Œæˆæ¥å…¥äº’è”ç½‘çš„å‡†å¤‡äº†</li>
<li>BAS åœ¨æ”¶åˆ°ç”¨æˆ·è·¯ç”±å™¨å‘é€çš„ç½‘ç»œåŒ…ä¹‹åï¼Œä¼šå»æ‰ MAC å¤´éƒ¨å’ŒPPPoE å¤´éƒ¨ï¼Œç„¶åç”¨éš§é“æœºåˆ¶å°†åŒ…å‘é€ç»™ç½‘ç»œè¿è¥å•†çš„è·¯ç”±å™¨ã€‚ç„¶åç”¨éš§é“æœºåˆ¶å°†åŒ…å‘é€ç»™ç½‘ç»œè¿è¥å•†çš„è·¯ç”±</li>
</ul>
</li>
<li><p>PPPoA æ–¹å¼ä¸æ·»åŠ  MAC å¤´éƒ¨å’Œ PPPoE å¤´éƒ¨ï¼Œè€Œæ˜¯ç›´æ¥å°†åŒ…è£…å…¥ä¿¡å…ƒä¸­ï¼›</p>
</li>
<li><p>DHCPæœåŠ¡ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/99edb9d23ff7147bfb7ac6d42562bea2-30649" alt="DHCPæœåŠ¡"></p>
</li>
<li><p>ç½‘ç»œåŒ…é€šè¿‡æ¥å…¥ç½‘ä¹‹åï¼Œåˆ°è¾¾è¿è¥å•† POP çš„è·¯ç”±å™¨ï¼›</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/d1e0d8d4d1c640dd0018a500c901c4c5-103265" alt="POPæ¦‚è§ˆ"></p>
</li>
<li><p>è¿è¥å•†ä¿¡æ¯äº¤æ¢ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/eb66aa3f586ff71e9e06170206b1ae6c-69374" alt="è¿è¥å•†ä¿¡æ¯äº¤æ¢"></p>
</li>
<li><p>äº’è”ç½‘å†…éƒ¨ä½¿ç”¨ BGP æœºåˆ¶åœ¨è¿è¥å•†ä¹‹é—´äº¤æ¢è·¯ç”±ä¿¡æ¯ï¼</p>
</li>
<li><p>å¯ä»¥é€šè¿‡ DNS æœåŠ¡å™¨æ¥è¿›è¡Œè´Ÿè½½å‡è¡¡ï¼›</p>
</li>
<li><p>ä½¿ç”¨è´Ÿè½½å‡è¡¡å™¨æ—¶ï¼Œ é¦–å…ˆè¦ç”¨è´Ÿè½½å‡è¡¡å™¨çš„ IP åœ°å€ä»£æ›¿ Web æœåŠ¡å™¨çš„å®é™… åœ°å€æ³¨å†Œåˆ° DNS æœåŠ¡å™¨ä¸Šï¼›</p>
</li>
<li><p>ç¼“å­˜æœåŠ¡å™¨æ˜¯ä¸€å°é€šè¿‡ä»£ç†æœºåˆ¶å¯¹æ•°æ®è¿›è¡Œç¼“å­˜çš„æœåŠ¡å™¨ï¼›</p>
</li>
<li><p>ç¼“å­˜æœåŠ¡å™¨ä½¿ç”¨çš„ä»£ç†æœºåˆ¶æœ€æ—©å°±æ˜¯æ”¾åœ¨å®¢æˆ·ç«¯ä¸€ä¾§çš„ï¼Œè¿™æ‰æ˜¯ä»£ç†çš„åŸå‹ï¼Œç§°ä¸ºæ­£å‘ä»£ç†ï¼›</p>
</li>
<li><p>åå‘ä»£ç†é‡‡ç”¨çš„æ˜¯é€šè¿‡ DNS æœåŠ¡å™¨è§£æå¼•å¯¼çš„æ–¹æ³•ï¼›</p>
</li>
<li><p>ä½¿ç”¨é€æ˜ä»£ç†æ—¶ï¼Œç”¨æˆ·ä¸ä¼šå¯Ÿè§‰åˆ°ä»£ç†çš„å­˜åœ¨ï¼Œä¹Ÿä¸ä¼šæ³¨æ„åˆ° HTTP æ¶ˆæ¯æ˜¯å¦‚ä½•è¢«è½¬å‘çš„ï¼Œå› æ­¤å¤§å®¶æ›´å€¾å‘äºå°†é€æ˜ä»£ç†è¯´æˆæ˜¯ç¼“å­˜ï¼›</p>
</li>
<li><p>ç¼“å­˜æœåŠ¡å™¨éƒ¨ç½²æ–¹å¼ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/5832dcffbd7d163af86fc98cd7a5e0ee-93153" alt="ç¼“å­˜æœåŠ¡å™¨éƒ¨ç½²æ–¹å¼"></p>
</li>
<li><p>ContentTypeç±»å‹ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/965e98c697bb16d0baee0a0bca98f7b7-106348" alt="ContentTypeç±»å‹"></p>
</li>
</ol>
<hr>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>ä»è¾“å…¥ç½‘å€åˆ°æ˜¾ç¤ºå‡ºç½‘é¡µå†…å®¹ï¼Œè¿™ä¸ªè¿‡ç¨‹åªæœ‰çŸ­çŸ­å‡ ç§’çš„æ—¶é—´ï¼Œåœ¨è¿™çŸ­çŸ­å‡ ç§’çš„èƒŒåï¼Œç¦»ä¸å¼€å„ç§è®¾å¤‡å’Œè½¯ä»¶çš„ç›¸äº’é…åˆï¼ç½‘ç»œç›¸å…³çš„çŸ¥è¯†è¿˜éœ€è¦ç»§ç»­å­¦ä¹ ï¼Œæ¯”å¦‚ä¸€ä¸ªmqttåè®®éƒ½å¯ä»¥å»å­¦ä¹ å¥½ä¹…ï¼æ¯ç§åè®®éƒ½æ˜¯ä¸ºäº†è§£å†³æŸä¸€ç±»é—®é¢˜è€Œç ”ç©¶çš„ï¼Œéƒ½æœ‰å­˜åœ¨çš„ä»·å€¼ï¼</p>
]]></content>
      <categories>
        <category>Base</category>
      </categories>
  </entry>
  <entry>
    <title>è„šæœ¬è¯­è¨€åŸºç¡€åŸç†å¿«é€Ÿå…¥é—¨</title>
    <url>/2020/07/05/%E8%84%9A%E6%9C%AC%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80%E5%8E%9F%E7%90%86%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>è®¾è®¡ç¨‹åºæ—¶ä½¿ç”¨çš„è¯­è¨€ç§°ä¸ºç¨‹åºè®¾è®¡è¯­è¨€ã€‚å¦‚ Java è¯­è¨€ã€C è¯­è¨€ã€Ruby è¯­è¨€ã€C++ è¯­è¨€ã€ Python è¯­è¨€ç­‰ï¼Œéƒ½æ˜¯ç¨‹åºè®¾è®¡è¯­è¨€ï¼Œç¨‹åºå‘˜å¿…é¡»ä½¿ç”¨ä¸å„ç¨‹åºè®¾è®¡è¯­è¨€ç›¸åŒ¹é…çš„è½¯ä»¶æ¥æ‰§è¡Œç”±è¯¥è¯­è¨€å†™æˆçš„ç¨‹åºï¼Œè¿™ç§è½¯ä»¶é€šå¸¸ç§°ä¸ºè¯­è¨€å¤„ç†å™¨ã€‚è€Œæœ‰äº›ç¨‹åºè®¾è®¡è¯­è¨€æ— éœ€å€ŸåŠ©è½¯ä»¶æ‰§è¡Œï¼Œå³ä¸éœ€è¦è¯­è¨€å¤„ç†å™¨ï¼Œè¿™äº›è¯­è¨€ç§°ä¸ºæœºå™¨è¯­è¨€ã€‚æœºå™¨è¯­è¨€å¯ä»¥ç”±ç¡¬ä»¶ç›´æ¥è§£é‡Šæ‰§è¡Œï¼Œç†è®ºä¸Šä¸å¿…ä½¿ç”¨è½¯ä»¶ã€‚æœ¬æ–‡ä¸»è¦å­¦ä¹ çš„æ˜¯è„šæœ¬è¯­è¨€çš„åŸç†ï¼</p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="åŸºç¡€çŸ¥è¯†"><a href="#åŸºç¡€çŸ¥è¯†" class="headerlink" title="åŸºç¡€çŸ¥è¯†"></a>åŸºç¡€çŸ¥è¯†</h2><ol>
<li><p>åˆ›é€ ä¸€é—¨ç¼–ç¨‹è¯­è¨€,åªéœ€è¦ä¸€äº› C è¯­è¨€åŸºç¡€æˆ–è€…Javaè¯­è¨€åŸºç¡€ã€ä¸€äº›æ­£åˆ™è¡¨è¾¾å¼çŸ¥è¯†ã€åŠ ä¸Šä¸æ–­æ€ç´¢çš„å¤§è„‘å°±å¯ä»¥åšåˆ°ï¼›</p>
</li>
<li><p>crowbar æ˜¯è¿è¡Œåˆ†ææ ‘çš„æ— ç±»å‹è¯­è¨€,Diksam æ˜¯è¿è¡Œå­—èŠ‚ç çš„é™æ€ç±»å‹è¯­è¨€ï¼›</p>
</li>
<li><p>æ±‡ç¼–ç¨‹åºå¯ä»¥è¯´æ˜¯ä¸€ç§æœ€åŸºæœ¬çš„è¯­è¨€å¤„ç†å™¨ï¼›</p>
</li>
<li><p>è¯­è¨€å¤„ç†å™¨å¯å¤§è‡´åˆ†ä¸ºè§£é‡Šå™¨ä¸ç¼–è¯‘å™¨ä¸¤ç§ï¼š</p>
<ul>
<li>è§£é‡Šå™¨â€”â€”è§£é‡Šå™¨æ ¹æ®ç¨‹åºä¸­çš„ç®—æ³•æ‰§è¡Œè¿ç®—</li>
<li>ç¼–è¯‘å™¨â€”â€”ç¼–è¯‘å™¨èƒ½å°†æŸç§è¯­è¨€å†™æˆçš„ç¨‹åºè½¬æ¢ä¸ºå¦ä¸€ç§è¯­è¨€</li>
</ul>
</li>
<li><p>Java è¯­è¨€é¦–å…ˆä¼šé€šè¿‡ç¼–è¯‘å™¨æŠŠæºä»£ç è½¬æ¢ä¸º Java äºŒè¿›åˆ¶ä»£ç ï¼Œå¹¶å°†è¿™ç§è™šæ‹Ÿçš„æœºå™¨è¯­è¨€ä¿å­˜åœ¨æ–‡ä»¶ä¸­ï¼›</p>
</li>
<li><p>é€‰æ‹© Java è¯­è¨€è®¾è®¡è¯­è¨€å¤„ç†å™¨æ˜¯ä¸ºäº†ä»¥é¢å‘å¯¹è±¡çš„æ–¹å¼è®¾è®¡è¯­è¨€å¤„ç†å™¨ã€‚è¯­è¨€å¤„ç†å™¨çš„å¤æ‚åº¦é€‚ä¸­ï¼Œå¸¸ç”¨äºå®éªŒæˆ–è®ºè¯å„ç§è¯­è¨€èŒƒå‹çš„æ€§èƒ½ï¼›</p>
</li>
<li><p>æ— è®ºæ˜¯è§£é‡Šå™¨è¿˜æ˜¯ç¼–è¯‘å™¨ï¼Œè¯­è¨€å¤„ç†å™¨å‰åŠéƒ¨åˆ†çš„ç¨‹åºç»“æ„éƒ½å¤§åŒå°å¼‚ã€‚æºä»£ç é¦–å…ˆå°†è¿›è¡Œè¯æ³•åˆ†æï¼Œç”±ä¸€é•¿ä¸²å­—ç¬¦ä¸²ç»†åˆ†ä¸ºå¤šä¸ªæ›´å°çš„å­—ç¬¦ä¸²å•å…ƒã€‚åˆ†å‰²åçš„å­—ç¬¦ä¸²ç§°ä¸ºå•è¯ã€‚ä¹‹åå¤„ç†å™¨å°†æ‰§è¡Œè¯­æ³•åˆ†æå¤„ç†ï¼ŒæŠŠå•è¯çš„æ’åˆ—è½¬æ¢ä¸ºæŠ½è±¡è¯­æ³•æ ‘ã€‚è‡³æ­¤ä¸ºæ­¢ï¼Œè§£é‡Šå™¨ä¸ç¼–è¯‘å™¨çš„å¤„ç†æ–¹å¼ç›¸åŒã€‚ä¹‹åï¼Œç¼–è¯‘å™¨å°†ä¼šæŠŠæŠ½è±¡è¯­æ³•æ ‘è½¬æ¢ä¸ºå…¶ä»–è¯­è¨€ï¼Œè€Œè§£é‡Šå™¨å°†ä¼šä¸€è¾¹åˆ†ææŠ½è±¡è¯­æ³•æ ‘ä¸€è¾¹æ‰§è¡Œè¿ç®—ï¼›</p>
<p><img src="" alt="è¯­è¨€å¤„ç†å™¨å†…éƒ¨çš„å¤„ç†æµç¨‹"></p>
</li>
<li><p>é¦–å…ˆè®¾è®¡ä¸€ç§æä¸ºç®€å•çš„è¯­è¨€ï¼Œå¹¶å¼€å‘ç›¸åº”çš„è¯­è¨€å¤„ç†å™¨ï¼Œç¡®ä¿ç¨‹åºèƒ½ å¤Ÿæ­£ç¡®è¿è¡Œã€‚ä¹‹åï¼Œå†æ…¢æ…¢å‘å…¶ä¸­æ·»åŠ è¯¸å¦‚é¢å‘å¯¹è±¡ç­‰ä¸€äº›å¤æ‚çš„è¯­è¨€åŠŸèƒ½ï¼›</p>
</li>
<li><p>åœ¨è®¾è®¡ä¸€ç§è¯­è¨€æ—¶ï¼Œè®¾è®¡è€…å¿…é¡»å¤šåŠ æ³¨æ„ï¼Œ ç¡®ä¿è¯­è¨€ä¸­ä¸å‡ºç°æ¨¡æ£±ä¸¤å¯çš„æ­§ä¹‰è¯­æ³•ï¼›</p>
</li>
<li><p>è¯­è¨€å¤„ç†å™¨çš„ç¬¬ä¸€ä¸ªç»„æˆéƒ¨åˆ†æ˜¯è¯æ³•åˆ†æå™¨ï¼ˆlexical analyzerã€lexer æˆ– scannerï¼‰ã€‚è¯æ³•åˆ†æå°†ç­›é€‰å‡ºç¨‹åºçš„è§£é‡Šä¸æ‰§è¡Œå¿…éœ€çš„æˆåˆ†ï¼Œå•è¯ä¹‹é—´çš„ç©ºç™½æˆ–æ³¨é‡Šéƒ½ä¼šåœ¨è¿™ä¸€é˜¶æ®µè¢«å»é™¤ã€‚åœ¨ç»è¿‡è¯æ³•åˆ†æä¹‹åï¼Œç¨‹åºå‘˜ä¾¿æ— éœ€å†å¤„ç†ä»£ç çš„æ³¨é‡Šï¼Œä¹Ÿä¸ç”¨è€ƒè™‘å•è¯ä¹‹é—´æ˜¯å¦å«æœ‰ç©ºç™½ç¬¦ï¼›</p>
</li>
<li><p>åªè¦èƒ½å¤Ÿé€šè¿‡æ­£åˆ™è¡¨è¾¾å¼æ¥è¡¨ç¤ºå•è¯çš„å®šä¹‰ï¼Œè¯æ³•åˆ†æå™¨çš„è®¾è®¡å°±æ²¡æœ‰å¤ªå¤§çš„å›°éš¾ã€‚</p>
</li>
</ol>
<h2 id="ä¸ºä»€ä¹ˆè¦åˆ¶ä½œç¼–ç¨‹è¯­è¨€"><a href="#ä¸ºä»€ä¹ˆè¦åˆ¶ä½œç¼–ç¨‹è¯­è¨€" class="headerlink" title="ä¸ºä»€ä¹ˆè¦åˆ¶ä½œç¼–ç¨‹è¯­è¨€"></a>ä¸ºä»€ä¹ˆè¦åˆ¶ä½œç¼–ç¨‹è¯­è¨€</h2><ol>
<li>å¯ä»¥å¸®åŠ©ç†è§£ç¼–ç¨‹è¯­è¨€çš„å†…éƒ¨è¿è¡Œæœºåˆ¶ï¼›</li>
<li>èƒ½åˆ¶ä½œé¢†åŸŸä¸“ç”¨è¯­è¨€(DSL,Domain-Specific.Language)ï¼›</li>
<li>å¯ä»¥ç”¨ç¼–ç¨‹è¯­è¨€æ‰©å±•åº”ç”¨ç¨‹åºï¼›</li>
<li>è¯´ä¸å®šè¿˜ä¼šå˜æˆåäººï¼›</li>
<li>è‡ªåˆ¶ç¼–ç¨‹è¯­è¨€éå¸¸æœ‰è¶£ï¼</li>
</ol>
<h2 id="ç¼–ç¨‹è¯­è¨€æ ¸å¿ƒ"><a href="#ç¼–ç¨‹è¯­è¨€æ ¸å¿ƒ" class="headerlink" title="ç¼–ç¨‹è¯­è¨€æ ¸å¿ƒ"></a>ç¼–ç¨‹è¯­è¨€æ ¸å¿ƒ</h2><ol>
<li><p>ç°åœ¨å¤§å¤šæ•°ç¼–ç¨‹è¯­è¨€ï¼Œéƒ½ä¼šå°†ä»£ç è½¬æ¢æˆä¸€ç§å«åšåˆ†ææ ‘ï¼ˆparse treeï¼Œè¯­æ³•åˆ†ææ ‘æˆ–è¯­æ³•æ ‘ï¼ŒæŠ½è±¡è¯­æ³•æ ‘ï¼‰çš„ä¸œè¥¿ã€‚æœ‰äº›è¯­è¨€å¦‚Perlã€Rubyç­‰ï¼Œä¸€æ—¦å°†ä»£ç è½¬æ¢æˆåˆ†ææ ‘ä¹‹åï¼Œåˆ†ææ ‘å°†æ— æ³•å†è¿˜åŸå›æºä»£ç ã€‚åˆ†ææ ‘ç»“æ„å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<p><img src="" alt="è¯­æ³•æ ‘"></p>
</li>
<li><p>Javaç­‰ç¼–ç¨‹è¯­è¨€å–ä»£åˆ†ææ ‘çš„åˆ™æ˜¯æ›´ä¸ºåº•å±‚çš„å­—èŠ‚ç ï¼Œé€šè¿‡è§£é‡Šå™¨è¿è¡Œå­—èŠ‚ç ã€‚è€ŒJavaè¯­è¨€ï¼Œç¼–è¯‘ç”Ÿæˆçš„å­—èŠ‚ç è¢«ä¿å­˜åœ¨classæ–‡ä»¶ä¸­ï¼›</p>
</li>
<li><p>Javaå…·å¤‡åœ¨è¿è¡Œçš„åŒæ—¶å°†å­—èŠ‚ç è½¬æ¢æˆæœºå™¨ç çš„åŠŸèƒ½ï¼Œè¯¥åŠŸèƒ½ç§°ä¸ºâ€œJIT(Just-In-Time)ç¼–è¯‘æŠ€æœ¯â€œï¼Œè€Œè¿™éƒ¨åˆ†æŠ€æœ¯ä¸å±äºè§£é‡Šå™¨ï¼›</p>
</li>
<li><p>å®‰è£…bisonä»¥åŠflexï¼ˆç”¨äºæ›¿æ¢yaccä»¥åŠlexï¼‰ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo apt install bison</span><br><span class="line">sudo apt install flex</span><br></pre></td></tr></table></figure>

<ul>
<li>bison çš„ä½œç”¨æ˜¯å°†ç”¨æˆ·ç¼–å†™çš„é…ç½®æ–‡ä»¶è¾“å‡ºä¸º C è¯­è¨€æ ¼å¼çš„ä»£ç ã€‚æ ¹æ®è¯­æ³•è§„åˆ™è‡ªåŠ¨ç”Ÿæˆè§£æå™¨</li>
<li>flex ä¼šåƒ bison ä¸€æ ·è¾“å‡º C ä»£ç ,è¿™é‡Œçš„ C ä»£ç ä¹Ÿåƒ bison ä¸€æ ·,ä¼šåŒ…å«ä¸€äº›å±äºflex çš„ä»£ç ã€‚æ ¹æ®è¯æ³•è§„åˆ™è‡ªåŠ¨ç”Ÿæˆè¯æ³•åˆ†æå™¨</li>
</ul>
</li>
<li><p>ä¸€èˆ¬ç¼–ç¨‹è¯­è¨€çš„è¯­æ³•å¤„ç†æµç¨‹ï¼š</p>
<ol>
<li>è¯æ³•åˆ†æï¼šå°†æºä»£ç åˆ†å‰²ä¸ºè‹¥å¹²ä¸ª è®°å·(token)çš„å¤„ç†ï¼›</li>
<li>è¯­æ³•åˆ†æï¼šä»è®°å·æ„å»º åˆ†ææ ‘(parse.tree)çš„å¤„ç†ï¼›</li>
<li>è¯­ä¹‰åˆ†æï¼šæ£€æŸ¥ç¨‹åºä¸­æ˜¯å¦å«æœ‰è¯­æ³•æ­£ç¡®ä½†æ˜¯å­˜åœ¨é€»è¾‘é—®é¢˜çš„é”™è¯¯ï¼›</li>
<li>ç”Ÿæˆä»£ç ï¼šå¦‚æœæ˜¯ C è¯­è¨€ç­‰ç”Ÿæˆæœºå™¨ç çš„ç¼–è¯‘å™¨æˆ– Java è¿™æ ·ç”Ÿæˆå­—èŠ‚ç çš„ç¼–è¯‘å™¨,åœ¨åˆ†ææ ‘æ„å»ºå®Œæ¯•åä¼šè¿›å…¥ä»£ç ç”Ÿæˆé˜¶æ®µã€‚</li>
</ol>
</li>
<li></li>
</ol>
<hr>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1>]]></content>
      <categories>
        <category>Code</category>
      </categories>
  </entry>
  <entry>
    <title>è‡ªå®šä¹‰é€šè®¯åè®®TLV</title>
    <url>/2020/05/14/%E8%87%AA%E5%AE%9A%E4%B9%89%E9%80%9A%E8%AE%AF%E5%8D%8F%E8%AE%AETLV/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p><strong>é€šè®¯åè®®</strong>æ˜¯æŒ‡é€šä¿¡åŒæ–¹å¯¹æ•°æ®ä¼ é€æ§åˆ¶çš„ä¸€ç§çº¦å®šï¼Œçº¦å®šä¸­åŒ…æ‹¬å¯¹æ•°æ®æ ¼å¼ï¼ŒåŒæ­¥æ–¹å¼ï¼Œä¼ é€é€Ÿåº¦ï¼Œä¼ é€æ­¥éª¤ï¼Œçº é”™æ–¹å¼ä»¥åŠæ§åˆ¶å­—ç¬¦å®šä¹‰ç­‰é—®é¢˜åšå‡ºç»Ÿä¸€è§„å®šï¼Œé€šä¿¡åŒæ–¹å¿…é¡»å…±åŒéµå®ˆï¼Œå€˜è‹¥ä¸€æ–¹ä¸éµå®ˆï¼Œä¾¿ä¼šç›´æ¥å¯¼è‡´æ•°æ®ä¸èƒ½è¢«è§£æï¼å¯ä»¥ç†è§£ä¸¤ä¸ªä»¥ä¸ŠèŠ‚ç‚¹ä¹‹é—´ä¸ºäº†ååŒå·¥ä½œå®ç°ä¿¡æ¯äº¤æ¢ï¼Œåå•†ä¸€å®šçš„è§„åˆ™å’Œçº¦å®šï¼Œä¾‹å¦‚è§„å®šå­—èŠ‚åºï¼Œå„ä¸ªå­—æ®µç±»å‹ç­‰ã€‚ç”¨æˆ·è‡ªå®šä¹‰çš„é€šè®¯åè®®å®ç°éœ€è¦ç”¨æˆ·è‡ªå·±è®¾å®šæ•°æ®å‘é€çš„æ ¼å¼ä»¥åŠæ•°æ®çš„å°è£…å½¢å¼ï¼Œç„¶åé€šè¿‡ä¸Šé¢çš„è§„èŒƒä¼ è¾“åè®®å¦‚TCPåè®®å‘é€ç»™å¯¹ç«¯ï¼Œå¯¹ç«¯å†æ ¹æ®è‡ªå·±å®šä¹‰å¥½çš„åè®®å¯¹æ•°æ®è¿›è¡Œè§£æï¼Œä»è€Œå¾—åˆ°æƒ³è¦çš„æ•°æ®ï¼ŒTLVï¼ˆTag-Length-Valueï¼‰å±äºè‡ªå®šä¹‰åè®®çš„ä¸€ç§ã€‚åœ¨å­¦æ ¡é‡Œå­¦ä¹ çš„æ—¶å€™æ²¡æœ‰æ¥è§¦è¿‡è¿™ç§è‡ªå®šä¹‰åè®®ç±»å‹ï¼Œåˆ°äº†å…¬å¸ä¹‹åï¼Œé˜…è¯»äº†åç«¯ä»£ç æ‰çŸ¥é“è¿™ç§æ•°æ®ç±»å‹ï¼æŒºæƒ­æ„§çš„<del>~</del></p>
<p><img src="https://img-blog.csdnimg.cn/20191229140519775.gif#pic_center" alt=""></p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="åŸºç¡€çŸ¥è¯†"><a href="#åŸºç¡€çŸ¥è¯†" class="headerlink" title="åŸºç¡€çŸ¥è¯†"></a>åŸºç¡€çŸ¥è¯†</h2><ol>
<li><p>TLVæ˜¯åŸºäºASN.1æ ‡å‡†çš„ä¸€ç§BERç¼–ç æ–¹å¼ï¼Œæ•°æ®çš„ç±»å‹Tagï¼ˆTï¼‰ï¼Œæ•°æ®çš„é•¿åº¦Lengthï¼ˆLï¼‰ï¼Œæ•°æ®çš„å€¼Valueï¼ˆVï¼‰æ„æˆçš„ä¸€ç»„æ•°æ®æŠ¥æ–‡ï¼›</p>
</li>
<li><p>TLVæ˜¯åŸºäºäºŒè¿›åˆ¶ç¼–ç çš„ï¼Œå°†æ•°æ®ä»¥ï¼ˆT -L- Vï¼‰çš„å½¢å¼ç¼–ç ä¸ºå­—èŠ‚æ•°ç»„ï¼Œå±äºå­—èŠ‚æµçš„æ•°æ®ä¼ è¾“åè®®ï¼Œè§„å®šäº†ä¸€å¸§æ•°æ®çš„é¦–ä¸ªå­—èŠ‚æˆ–å‡ ä¸ªå­—èŠ‚æ¥è¡¨ç¤ºæ•°æ®ç±»å‹ï¼Œç´§æ¥ç€ä¸€ä¸ªæˆ–å‡ ä¸ªå­—èŠ‚è¡¨ç¤ºæ•°æ®é•¿åº¦ï¼Œæœ€åæ˜¯æ•°æ®çš„å†…å®¹ï¼›</p>
<p><img src="https://img-blog.csdnimg.cn/20190328104702944.png" alt=""></p>
</li>
<li><p>TLVåªæ˜¯å¤§è‡´è§„å®šäº†å°è£…æ ¼å¼ï¼Œå¹¶æ²¡æœ‰å›ºå®šçš„å½¢å¼ï¼Œéœ€è¦ç”¨æˆ·è‡ªå·±è®¾å®šï¼Œå› ä¸ºæ¯ä¸ªç”¨æˆ·æ‰€è¦å‘é€çš„æ•°æ®ç±»å‹ã€é•¿åº¦æˆ–è€…å†…å®¹å¤§éƒ½æ˜¯ä¸åŒçš„ï¼›</p>
</li>
<li><p>ä¸ºäº†å®Œå–„TLVåè®®ï¼Œéœ€è¦åœ¨æˆ‘ä»¬çš„TLVåè®®æ•°æ®å°è£…æ ¼å¼ä¹‹å‰åŠ ä¸Šä¸€ä¸ªå¸§å¤´ï¼Œä½œä¸ºæ¯ä¸€å¸§æ•°æ®è§£æçš„èµ·å§‹éƒ¨åˆ†ï¼›</p>
</li>
<li><p>å¯¹åè®®è¿›ä¸€æ­¥å®Œå–„ï¼Œåœ¨æ¯å¸§æ•°æ®çš„æœ€ååŠ ä¸Šä¸€ä¸ªCRCæ ¡éªŒå’Œï¼Œé‚£ä¹ˆä¸€æ—¦æ¯å¸§æ•°æ®å‡ºé”™äº†ï¼Œé‚£ä¹ˆCRCæ ¡éªŒæ—¶å°±ä¸€å®šä¼šå‡ºé”™ï¼Œè¿™æ ·å°±ä¼šå»è§£æä¸‹ä¸€å¸§æ•°æ®ï¼›</p>
</li>
<li><p>è¾ƒä¸ºå®Œå¤‡çš„é€šè®¯åè®®æ ¼å¼</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">ã€å¸§å¤´(nå­—èŠ‚)ã€‘ ã€Tagã€‘ã€Lengthã€‘ ã€nBytes Valueã€‘ ã€CRCæ ¡éªŒå’Œã€‘</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h2 id="æ·±å…¥TLV"><a href="#æ·±å…¥TLV" class="headerlink" title="æ·±å…¥TLV"></a>æ·±å…¥TLV</h2><ol>
<li><p>TLVå‡ ä¹å¯ä»¥æä»»æ„æ•°æ®ç±»å‹ï¼ŒTLVçš„Valueä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªTLVç»“æ„ï¼Œæ­£å› ä¸ºè¿™ç§åµŒå¥—çš„ç‰¹æ€§ï¼Œå¯ä»¥è®©æˆ‘ä»¬ç”¨æ¥å®ç°å¤æ‚çš„åè®®ï¼›</p>
</li>
<li><p>TLVè¿™ç§ç¼–ç æ–¹å¼ä¸å…·å¤‡ç»“æ„åŒ–ï¼ˆç»“æ„æœªçŸ¥ï¼‰ç‰¹ç‚¹ï¼Œä½†æ˜¯TLVå…·å¤‡å¾ˆå¥½çš„æ‰©å±•æ€§ï¼›</p>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9haHEwMmcuZG0yMzAzLmxpdmVmaWxlc3RvcmUuY29tL3kycEU4bWFhSk9WaTJoVGxadjEzTzdTNkx4cUxzYlR6RmY3SENHLUotUm54aGcyVVd2bUtITVRUMnR2Rk1zM3pqSkdFYjdXSWRnUUUzZDhXdTZIcm9LeW5WSkcybjFqX3lGcjRja0hsYWQxLTd3L1RMVl9ESVNDLnBuZw?x-oss-process=image/format,png" alt=""></p>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9haHEwMmcuZG0xLmxpdmVmaWxlc3RvcmUuY29tL3kycDB0R3B6dmMyNF9FcGRkZkJFWnNkRXFVQkhhUklNRlNvbTRpenlKTjRyeXJmMmJvRDdnNEZmcXlWdGlTcW1kNVVPYzlUdU54SHdtc0Nta20ySkZEOGhMLUhsT1lJY2l4YTZCTWdjOV9SYmdZL1RBR19OQi5wbmc?x-oss-process=image/format,png" alt=""></p>
</li>
<li><p>å¯¹åŸºæœ¬æ•°æ®ç±»å‹(Primitive Data)è¿›è¡Œçº¦å®šï¼Œä»¥ä¾¿é€šä¿¡åŒæ–¹ä»¥ä¸€è‡´çš„æ–¹å¼è¿›è¡Œæ•°æ®è½¬æ¢ï¼Œè¿™ä¹Ÿæ˜¯åè®®åˆ¶å®šçš„ä¸€éƒ¨åˆ†ï¼›</p>
</li>
<li><p>åµŒå¥—ç±»å‹çš„TLVï¼š</p>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9zdGF0aWMub3NjaGluYS5uZXQvdXBsb2Fkcy9pbWcvMjAxNTExLzEyMDkwNjQ2X0tZN0UucG5n?x-oss-process=image/format,png" alt=""></p>
</li>
</ol>
<h2 id="TLVä¼˜ç¼ºç‚¹"><a href="#TLVä¼˜ç¼ºç‚¹" class="headerlink" title="TLVä¼˜ç¼ºç‚¹"></a>TLVä¼˜ç¼ºç‚¹</h2><h3 id="ä¼˜ç‚¹"><a href="#ä¼˜ç‚¹" class="headerlink" title="ä¼˜ç‚¹"></a>ä¼˜ç‚¹</h3><ul>
<li>å¯æ‰©å±•æ€§ã€ç®€å•æ˜“å­¦ã€ è·¨è¯­è¨€ç‰¹æ€§</li>
</ul>
<h3 id="ç¼ºç‚¹"><a href="#ç¼ºç‚¹" class="headerlink" title="ç¼ºç‚¹"></a>ç¼ºç‚¹</h3><ul>
<li>å¢åŠ äº†2ä¸ªé¢å¤–çš„å†—ä½™ä¿¡æ¯ï¼Œä¼šæµªè´¹å‡ å€å­˜å‚¨ç©ºé—´ï¼›</li>
<li>éœ€è¦é€šä¿¡åŒæ–¹äº‹å…ˆå¾—åˆ°æè¿°æ–‡æ¡£ï¼Œå³TLVä¸å…·å¤‡ç»“æ„åŒ–å’Œè‡ªè§£é‡Šç‰¹æ€§</li>
</ul>
<hr>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>å› ä¸ºå…¬å¸çš„å·¥ä½œé‡Œå¤§é‡ä½¿ç”¨TLVè¿›è¡Œæ•°æ®ä¼ è¾“ï¼Œè¿™éƒ¨åˆ†çš„å­¦ä¹ ä¹Ÿç®—æ˜¯å¯¹è‡ªå·±çŸ¥è¯†çš„æ‰©å……å§ï¼</p>
]]></content>
      <categories>
        <category>Base</category>
      </categories>
  </entry>
  <entry>
    <title>è®¡ç®—æœºåŸºç¡€çŸ¥è¯†å¼ºåŒ–</title>
    <url>/2020/06/22/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86%E5%BC%BA%E5%8C%96/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>è®¡ç®—æœºç§‘å­¦æ˜¯ä¸ªæ–°é¢†åŸŸï¼Œä¸è¿‡å®ƒå‡ ä¹å·²ç»è§¦åŠäººç±»å·¥ä½œçš„æ¯ä¸ªæ–¹é¢ï¼è®¡ç®—æœºç§‘å­¦æ˜¯ä¸€é—¨æŠ½è±¡çš„ç§‘å­¦ï¼Œå®ƒä¸ºäººä»¬æ€è€ƒé—®é¢˜ä»¥ åŠæ‰¾åˆ°é€‚å½“çš„æœºæ¢°åŒ–æŠ€æœ¯è§£å†³é—®é¢˜è€Œå»ºç«‹æ¨¡å‹ã€‚ <strong>æ¨èä¹¦ç±ï¼šã€Šè®¡ç®—æœºç§‘å­¦çš„åŸºç¡€ã€‹Â· [ç¾] AlfredÂ·V.Aho JeffreyÂ·D.Â·Ullman è‘— å‚…å°”ä¹Ÿ è¯‘   ã€Šè®¡ç®—æœºæ˜¯æ€æ ·è·‘èµ·æ¥çš„ã€‹Â· [æ—¥] çŸ¢æ³½ä¹…é›„ è‘— èƒ¡å±¹ è¯‘</strong> </p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="åŸºç¡€çŸ¥è¯†"><a href="#åŸºç¡€çŸ¥è¯†" class="headerlink" title="åŸºç¡€çŸ¥è¯†"></a>åŸºç¡€çŸ¥è¯†</h2><ol>
<li>æŠ½è±¡æ„å‘³ç€ç®€åŒ–ï¼Œæ˜¯å°†ç°å®ä¸­å¤æ‚è€Œè¯¦ç»†çš„æƒ…æ™¯æ›¿æ¢ä¸ºè§£å†³é—®é¢˜æ‰€ä½¿ç”¨çš„ å¯ç†è§£æ¨¡å‹ï¼›</li>
<li>æ•°æ®æ¨¡å‹ï¼šæ•°æ®ç‰¹å¾çš„æŠ½è±¡ï¼Œç”¨æ¥æè¿°é—®é¢˜ï¼›</li>
<li>æ•°æ®ç»“æ„ï¼šç”¨æ¥è¡¨ç¤ºæ•°æ®æ¨¡å‹çš„ç¼–ç¨‹è¯­è¨€ç»“æ„ï¼›</li>
<li>ç®—æ³•ï¼šæ“ä½œç”¨æ•°æ®æ¨¡å‹æŠ½è±¡ã€æ•°æ®ç»“æ„ç­‰å½¢å¼è¡¨ç¤ºçš„æ•°æ®ï¼Œä»è€Œè·å–è§£å†³æ–¹æ¡ˆçš„æŠ€æœ¯ï¼›</li>
<li>ä»»ä½•æ•°å­¦æ¦‚å¿µéƒ½å¯ç§°ä¸ºæ•°æ®æ¨¡å‹ï¼›</li>
<li>è®¡ç®—æœºä¸‰å¤§åŸåˆ™ï¼š<ul>
<li>è®¡ç®—æœºæ˜¯æ‰§è¡Œè¾“å…¥ã€è¿ç®—ã€è¾“å‡ºçš„æœºå™¨</li>
<li>ç¨‹åºæ˜¯æŒ‡ä»¤å’Œæ•°æ®çš„é›†åˆ</li>
<li>è®¡ç®—æœºçš„å¤„ç†æ–¹å¼æœ‰æ—¶ä¸äººä»¬çš„æ€ç»´ä¹ æƒ¯ä¸åŒ</li>
</ul>
</li>
<li>CPU æ˜¯è®¡ç®—æœºçš„å¤§è„‘ï¼Œ è´Ÿè´£è§£é‡Šã€æ‰§è¡Œç¨‹åºã€‚ å†…å­˜è´Ÿè´£å­˜å‚¨ç¨‹åºå’Œæ•°æ®ã€‚I/O æ˜¯ Input/Outputï¼ˆè¾“å…¥ï¼è¾“å‡ºï¼‰çš„ç¼©å†™ï¼Œè´Ÿè´£å°†è®¡ç®—æœºå’Œå¤–éƒ¨è®¾å¤‡ï¼ˆå‘¨è¾¹è®¾å¤‡ï¼‰è¿æ¥åœ¨ä¸€èµ·;</li>
<li>CPUã€å†…å­˜ã€I/O ä¸­ä¸ä½†æœ‰åœ°å€æ€»çº¿å¼•è„šã€æ•°æ®æ€»çº¿å¼•è„šï¼Œè¿˜æœ‰å…¶ä»–å¼•è„šï¼Œé€šå¸¸æŠŠè¿™äº›å¼•è„šç»Ÿç§°ä¸ºâ€œæ§åˆ¶å¼•è„šâ€ï¼›</li>
<li></li>
</ol>
<hr>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1>]]></content>
      <categories>
        <category>Base</category>
      </categories>
  </entry>
  <entry>
    <title>é¡¹ç›®è½¯ä»¶ç­‰çš„ç‰ˆæœ¬</title>
    <url>/2020/05/13/%E9%A1%B9%E7%9B%AE%E8%BD%AF%E4%BB%B6%E7%AD%89%E7%9A%84%E7%89%88%E6%9C%AC/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>ä¸€äº›é»˜è®¤çš„æ¯”è¾ƒå‡ºåçš„ä»£ç ç‰ˆæœ¬å·ï¼Œé¡¹ç›®ä¸­å¯èƒ½ç”¨çš„ä¸Šï¼</p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="å¸¸ç”¨ç‰ˆæœ¬å·"><a href="#å¸¸ç”¨ç‰ˆæœ¬å·" class="headerlink" title="å¸¸ç”¨ç‰ˆæœ¬å·"></a>å¸¸ç”¨ç‰ˆæœ¬å·</h2><ol>
<li>Alphaï¼šè½¯ä»¶æˆ–ç³»ç»Ÿçš„å†…éƒ¨æµ‹è¯•ç‰ˆæœ¬ï¼Œä¼šæœ‰å¾ˆå¤šBugï¼Œä»…å†…éƒ¨äººå‘˜ä½¿ç”¨</li>
<li>Betaï¼šè½¯ä»¶æˆ–ç³»ç»Ÿçš„æµ‹è¯•ç‰ˆæœ¬ï¼Œè¿™ä¸€ç‰ˆæœ¬é€šå¸¸æ˜¯åœ¨Alphaç‰ˆæœ¬åï¼Œä¼šæœ‰å¾ˆå¤šæ–°åŠŸèƒ½ï¼ŒåŒæ—¶ä¹Ÿæœ‰ä¸å°‘Bug</li>
<li>Gammaï¼šè½¯ä»¶æˆ–ç³»ç»Ÿæ¥è¿‘äºæˆç†Ÿçš„ç‰ˆæœ¬ï¼Œåªéœ€è¦åšä¸€äº›å°çš„æ”¹è¿›å°±èƒ½å‘è¡Œ</li>
</ol>
<h2 id="å¾®è½¯çš„ç‰ˆæœ¬å·"><a href="#å¾®è½¯çš„ç‰ˆæœ¬å·" class="headerlink" title="å¾®è½¯çš„ç‰ˆæœ¬å·"></a>å¾®è½¯çš„ç‰ˆæœ¬å·</h2><ol>
<li>RCï¼ˆRelease Candidateï¼‰ï¼šå€™é€‰ç‰ˆæœ¬ï¼Œè¿™ä¸€ç‰ˆæœ¬ä¸ä¼šå¢åŠ æ–°åŠŸèƒ½ï¼Œå¤šè¦è¿›è¡ŒDebug</li>
<li>GAï¼ˆGeneral Availableï¼‰ï¼šæ­£å¼å‘å¸ƒç‰ˆæœ¬ï¼Œè¿™ä¸ªç‰ˆæœ¬å°±æ˜¯æ­£å¼çš„ç‰ˆæœ¬</li>
<li>RTMï¼ˆRelease to Manufactureï¼‰ï¼šç»™å·¥å‚å¤§é‡ç”Ÿäº§çš„å‹ç‰‡ç‰ˆæœ¬ï¼Œä¸æ­£å¼ç‰ˆå†…å®¹ä¸€æ ·</li>
<li>OEMï¼ˆOriginal Entrusted Manufactureï¼‰ï¼šç»™è®¡ç®—æœºå‚å•†çš„å‡ºåœºé”€å”®ç‰ˆæœ¬ï¼Œä¸é›¶å”®åªé¢„è£…</li>
<li>RVLï¼šå·ç§°æ˜¯æ­£å¼ç‰ˆï¼Œå…¶å®RVLæ ¹æœ¬ä¸æ˜¯ç‰ˆæœ¬çš„åç§°ã€‚å®ƒæ˜¯ä¸­æ–‡ç‰ˆ/è‹±æ–‡ç‰ˆæ–‡æ¡£ç ´è§£å‡ºæ¥çš„</li>
<li>EVALï¼šè€Œæµé€šåœ¨ç½‘ç»œä¸Šçš„EVALç‰ˆï¼Œä¸â€œè¯„ä¼°ç‰ˆâ€ç±»ä¼¼ï¼ŒåŠŸèƒ½ä¸Šå’Œé›¶å”®ç‰ˆæ²¡æœ‰åŒºåˆ«</li>
<li>RTLï¼ˆRetailï¼‰ï¼šé›¶å”®ç‰ˆæ˜¯çœŸæ­£çš„æ­£å¼ç‰ˆï¼Œæ­£å¼ä¸Šæ¶é›¶å”®ç‰ˆ</li>
</ol>
<h2 id="è‹¹æœç‰ˆæœ¬å·"><a href="#è‹¹æœç‰ˆæœ¬å·" class="headerlink" title="è‹¹æœç‰ˆæœ¬å·"></a>è‹¹æœç‰ˆæœ¬å·</h2><p>GMï¼ˆGold Masterï¼‰ï¼šæ­£å¼ç‰ˆå‰æœ€åä¸€ä¸ªæµ‹è¯•ç‰ˆï¼Œå…¶å®ä¹Ÿå°±æ˜¯æ­£å¼ç‰ˆ</p>
<h2 id="è°·æ­Œç‰ˆæœ¬å·"><a href="#è°·æ­Œç‰ˆæœ¬å·" class="headerlink" title="è°·æ­Œç‰ˆæœ¬å·"></a>è°·æ­Œç‰ˆæœ¬å·</h2><ol>
<li>Canaryï¼šè¿­ä»£é€Ÿåº¦ç›¸å¯¹äºChromiumç‰ˆç¨æ…¢ä¸€äº›ï¼ŒåŠŸèƒ½éå¸¸æ–°ä½†æœªç»è¿‡éªŒè¯ï¼ŒåŒæ—¶å´©æºƒçš„æ¦‚ç‡éå¸¸é«˜</li>
<li>Chromiumï¼šå¼€æºç‰ˆæœ¬ï¼Œè¿­ä»£é€Ÿåº¦æå¿«ï¼Œæ•°å°æ—¶å°±ä¼šæœ‰æ–°ç‰ˆæœ¬ï¼Œæœ‰å¾ˆå¤šæ–°åŠŸèƒ½ï¼Œç­‰å¾…éªŒè¯åä¼šç§»æ¤åˆ°Chrome</li>
<li>Devï¼šåŸºäºChromiumå¼€å‘ï¼Œæ¯å‘¨å‡ºæ–°åŠŸèƒ½ï¼Œå¹¶ä¸”è¿™äº›åŠŸèƒ½è¿˜æœ‰ä¸€å®šçš„ç­›é€‰ï¼Œå¦å¤–è¿˜ä¿®å¤äº†ä¸€äº›Bugå’Œä¸ç¨³å®šå› ç´ </li>
<li>Betaï¼šåŸºäºDevç‰ˆï¼ŒChromeä¼šåŸºäºè¿™ä¸€ç‰ˆæœ¬è¿›è¡Œæ”¹è¿›ï¼Œä¸€èˆ¬æŒ‰æœˆæ›´æ–°ï¼ŒåŠŸèƒ½æ›´åŠ å®Œå–„</li>
<li>Stableï¼šç¨³å®šç‰ˆæœ¬ï¼Œä¹Ÿå°±æ˜¯Chromeçš„æ­£å¼ç‰ˆæœ¬ï¼Œè¿™ä¸€ç‰ˆæœ¬åŸºäºBetaç‰ˆï¼Œå·²çŸ¥Bugéƒ½è¢«ä¿®å¤ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæ›´æ–°æ¯”è¾ƒæ…¢</li>
</ol>
<h2 id="Ubuntuç‰ˆæœ¬å·"><a href="#Ubuntuç‰ˆæœ¬å·" class="headerlink" title="Ubuntuç‰ˆæœ¬å·"></a>Ubuntuç‰ˆæœ¬å·</h2><p>LTSï¼ˆLong Term Supportï¼‰ï¼šé•¿æœŸæ¼”è¿›ç‰ˆï¼ŒUbuntuä¼šå¯¹è¿™ä¸€ç‰ˆæœ¬çš„æ”¯æŒæ—¶é—´æ›´é•¿</p>
<hr>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>ç‰ˆæœ¬å·å¯¹äºè½¯ä»¶çš„å‘å¸ƒçœŸçš„éå¸¸é‡è¦ï¼Œä¸€å®šè¦æ³¨æ„ä¸è¦ä½¿ç”¨é‚£ç§1_10ä»€ä¹ˆçš„ï¼Œæˆ–è€…è¯´ä¸è¦è¶…è¿‡10ä»¥ä¸Šçš„æ•°å­—ï¼Œå¦åˆ™å¯èƒ½å‡ºç°ä¸€äº›æ„æƒ³ä¸åˆ°çš„ç»´æŠ¤é—®é¢˜ï¼</p>
]]></content>
      <categories>
        <category>Base</category>
      </categories>
  </entry>
  <entry>
    <title>è¯­éŸ³é¡¹ç›®è®°å½•</title>
    <url>/2020/06/03/%E8%AF%AD%E9%9F%B3%E9%A1%B9%E7%9B%AE%E8%AE%B0%E5%BD%95/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>è¯­éŸ³åŠŸèƒ½äº‹ä¸šéƒ¨ä¸»è¦å¤„ç†çš„æ˜¯å“ç±»çš„luaè„šæœ¬è½¬æ¢ï¼ˆç¾å±…APPç»ˆç«¯è¯­éŸ³æ“æ§æ™ºèƒ½å®¶ç”µæ—¶çš„åè®®è½¬æ¢è„šæœ¬ï¼‰ã€‚è™½ç„¶æœ‰ä¸€äº›æ–‡æ¡£è¾…åŠ©ç†è§£ï¼Œä½†æ˜¯è¿˜æ˜¯éœ€è¦æ ¹æ®è¾…åŠ©æ–‡æ¡£ç»“åˆäº‹ä¸šéƒ¨æƒ…å†µè¿›è¡Œç›¸åº”çš„å¤„ç†ã€‚</p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="è„šæœ¬åŠŸèƒ½"><a href="#è„šæœ¬åŠŸèƒ½" class="headerlink" title="è„šæœ¬åŠŸèƒ½"></a>è„šæœ¬åŠŸèƒ½</h2><ol>
<li>NLUæ„å›¾åˆ°lua Jsonçš„è½¬æ¢ï¼Œæ¯”å¦‚å¼€æœºè½¬åŒ–æˆ{â€œpowerâ€:â€onâ€}ï¼›</li>
<li>çŠ¶æ€çš„äº’æ–¥ï¼Œè¿˜æœ‰äº›ç‰¹æ®Šçš„æƒ…å†µæ¯”å¦‚è®¾å¤‡å¯èƒ½ä¸æ”¯æŒï¼Œéœ€è¦åŒºåˆ†æœºå‹ï¼Œè¿™ä¸ªæ—¶å€™ï¼Œå¯èƒ½è¦ç”¨åˆ°deviceSubTypeæˆ–deviceSNå­—æ®µï¼›</li>
<li>å‡ºé”™æ—¶ï¼Œä½¿ç”¨error_msgæ¥å›å¤ç»™ç”¨æˆ·é”™è¯¯å†…å®¹ï¼›</li>
</ol>
<h2 id="è„šæœ¬å…³é”®å†…å®¹"><a href="#è„šæœ¬å…³é”®å†…å®¹" class="headerlink" title="è„šæœ¬å…³é”®å†…å®¹"></a>è„šæœ¬å…³é”®å†…å®¹</h2><ol>
<li><p>intentToJsonï¼šé€šè¿‡NLUå‡ºæ¥çš„ç»“æœJSONï¼Œ è½¬æ¢æˆå¯¹åº”IOTçš„æ§åˆ¶æŒ‡ä»¤</p>
</li>
<li><p>utils.luaï¼šå…¬å…±æ–¹æ³•çš„è„šæœ¬æ–‡ä»¶</p>
</li>
<li><p>jsonæ ¼å¼ï¼ˆæ ·ä¾‹ï¼‰:</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line"><span class="attr">"checkSkillResult"</span>: <span class="literal">true</span>,</span><br><span class="line"><span class="attr">"baseScriptName"</span>: <span class="string">""</span>,</span><br><span class="line"><span class="attr">"deviceMode"</span>: [</span><br><span class="line"><span class="string">"green_wool"</span></span><br><span class="line">],</span><br><span class="line"><span class="attr">"localNluScriptName"</span>: <span class="string">""</span>,</span><br><span class="line"><span class="attr">"remoteNluScriptName"</span>: <span class="string">"T_0000_DB_NLU_V2_GENERIC"</span>,</span><br><span class="line"><span class="attr">"devicestatus"</span>: &#123;</span><br><span class="line"><span class="attr">"stains"</span>: <span class="string">"255"</span>,</span><br><span class="line"><span class="attr">"memory"</span>: <span class="string">"on"</span>,</span><br><span class="line"><span class="attr">"speedy"</span>: <span class="string">"on"</span>,</span><br><span class="line"><span class="attr">"strong_wash"</span>: <span class="string">"on"</span>,</span><br><span class="line"><span class="attr">"appointment"</span>: <span class="string">"on"</span>,</span><br><span class="line"><span class="attr">"program"</span>: <span class="string">"cotton"</span>,</span><br><span class="line"><span class="attr">"down_light"</span>: <span class="string">"on"</span>,</span><br><span class="line"><span class="attr">"dehydration_time"</span>: <span class="number">255</span>,</span><br><span class="line"><span class="attr">"mode"</span>: <span class="string">"factory_test"</span>,</span><br><span class="line"><span class="attr">"detergent"</span>: <span class="string">"255"</span>,</span><br><span class="line"><span class="attr">"nightly"</span>: <span class="string">"on"</span>,</span><br><span class="line"><span class="attr">"temperature"</span>: <span class="string">"invalid"</span>,</span><br><span class="line"><span class="attr">"lock"</span>: <span class="string">"on"</span>,</span><br><span class="line"><span class="attr">"expert_step"</span>: <span class="number">255</span>,</span><br><span class="line"><span class="attr">"eye_wash"</span>: <span class="string">"1"</span>,</span><br><span class="line"><span class="attr">"old_speedy"</span>: <span class="string">"on"</span>,</span><br><span class="line"><span class="attr">"wash_time"</span>: <span class="number">255</span>,</span><br><span class="line"><span class="attr">"remain_time"</span>: <span class="number">9</span>,</span><br><span class="line"><span class="attr">"wash_time_value"</span>: <span class="number">255</span>,</span><br><span class="line"><span class="attr">"super_clean_wash"</span>: <span class="string">"on"</span>,</span><br><span class="line"><span class="attr">"softener"</span>: <span class="string">"255"</span>,</span><br><span class="line"><span class="attr">"power"</span>: <span class="string">"on"</span>,</span><br><span class="line"><span class="attr">"water_level"</span>: <span class="string">"255"</span>,</span><br><span class="line"><span class="attr">"ultraviolet_lamp"</span>: <span class="string">"1"</span>,</span><br><span class="line"><span class="attr">"appointment_time"</span>: <span class="number">65535</span>,</span><br><span class="line"><span class="attr">"dehydration_time_value"</span>: <span class="number">255</span>,</span><br><span class="line"><span class="attr">"steam_wash"</span>: <span class="string">"on"</span>,</span><br><span class="line"><span class="attr">"spray_wash"</span>: <span class="string">"on"</span>,</span><br><span class="line"><span class="attr">"soak_count"</span>: <span class="string">"invalid"</span>,</span><br><span class="line"><span class="attr">"add_rinse"</span>: <span class="string">"1"</span>,</span><br><span class="line"><span class="attr">"version"</span>: <span class="number">31</span>,</span><br><span class="line"><span class="attr">"intelligent_wash"</span>: <span class="string">"on"</span>,</span><br><span class="line"><span class="attr">"running_status"</span>: <span class="string">"standby"</span>,</span><br><span class="line"><span class="attr">"dirty_degree"</span>: <span class="string">"255"</span>,</span><br><span class="line"><span class="attr">"project_no"</span>: <span class="number">12336</span>,</span><br><span class="line"><span class="attr">"soak"</span>: <span class="string">"on"</span>,</span><br><span class="line"><span class="attr">"fast_clean_wash"</span>: <span class="string">"on"</span>,</span><br><span class="line"><span class="attr">"easy_ironing"</span>: <span class="string">"on"</span>,</span><br><span class="line"><span class="attr">"ai_flag"</span>: <span class="string">"off"</span>,</span><br><span class="line"><span class="attr">"data_type"</span>: <span class="string">"0303"</span>,</span><br><span class="line"><span class="attr">"progress"</span>: <span class="number">255</span>,</span><br><span class="line"><span class="attr">"microbubble"</span>: <span class="string">"1"</span>,</span><br><span class="line"><span class="attr">"error_code"</span>: <span class="number">0</span>,</span><br><span class="line"><span class="attr">"wind_dispel"</span>: <span class="string">"1"</span>,</span><br><span class="line"><span class="attr">"beforehand_wash"</span>: <span class="string">"on"</span></span><br><span class="line">&#125;,</span><br><span class="line"><span class="attr">"deviceinfo"</span>: &#123;</span><br><span class="line"><span class="attr">"deviceSubType"</span>: <span class="string">"12336"</span>,</span><br><span class="line"><span class="attr">"skillAttribute"</span>: &#123;</span><br><span class="line"><span class="attr">"wash_drying_60"</span>: <span class="number">1</span>,</span><br><span class="line"><span class="attr">"fast_wash_15"</span>: <span class="number">1</span>,</span><br><span class="line"><span class="attr">"single_drying"</span>: <span class="number">1</span></span><br><span class="line">&#125;,</span><br><span class="line"><span class="attr">"deviceSN"</span>: <span class="string">"38109503"</span></span><br><span class="line">&#125;,</span><br><span class="line"><span class="attr">"intent"</span>: &#123;</span><br><span class="line"><span class="attr">"intentType"</span>: <span class="string">"deviceSetFunction"</span>,</span><br><span class="line"><span class="attr">"negative"</span>: <span class="literal">false</span>,</span><br><span class="line"><span class="attr">"allVerb"</span>: <span class="string">"false"</span>,</span><br><span class="line"><span class="attr">"fallBack"</span>: <span class="string">"æ´—è¡£æœºé€‰æ‹©ç»¿æ ‡ç¾Šæ¯›æ¨¡å¼"</span>,</span><br><span class="line"><span class="attr">"slotMap"</span>: &#123;</span><br><span class="line"><span class="attr">"deviceMode"</span>: <span class="string">"green_wool"</span>,</span><br><span class="line"><span class="attr">"classifier"</span>: <span class="string">"mideaDomain"</span>,</span><br><span class="line"><span class="attr">"nextRoundNeeded"</span>: <span class="literal">false</span>,</span><br><span class="line"><span class="attr">"nextRoundNeededCount"</span>: <span class="number">0</span>,</span><br><span class="line"><span class="attr">"possibleDeviceNames"</span>: [</span><br><span class="line"><span class="string">"æ´—è¡£æœº"</span></span><br><span class="line">]</span><br><span class="line">&#125;,</span><br><span class="line"><span class="attr">"deviceVerb"</span>: <span class="string">"set"</span>,</span><br><span class="line"><span class="attr">"domain"</span>: <span class="string">"DeviceControl"</span>,</span><br><span class="line"><span class="attr">"location"</span>: <span class="string">""</span>,</span><br><span class="line"><span class="attr">"slot"</span>: [</span><br><span class="line">&#123;</span><br><span class="line"><span class="attr">"parameter"</span>: <span class="string">"deviceMode"</span>,</span><br><span class="line"><span class="attr">"value"</span>: <span class="string">"green_wool"</span></span><br><span class="line">&#125;,</span><br><span class="line">&#123;</span><br><span class="line"><span class="attr">"parameter"</span>: <span class="string">"possibleDeviceNames"</span>,</span><br><span class="line"><span class="attr">"value"</span>: [</span><br><span class="line"><span class="string">"æ´—è¡£æœº"</span></span><br><span class="line">]</span><br><span class="line">&#125;,</span><br><span class="line">&#123;</span><br><span class="line"><span class="attr">"parameter"</span>: <span class="string">"classifier"</span>,</span><br><span class="line"><span class="attr">"value"</span>: <span class="string">"mideaDomain"</span></span><br><span class="line">&#125;,</span><br><span class="line">&#123;</span><br><span class="line"><span class="attr">"parameter"</span>: <span class="string">"nextRoundNeeded"</span>,</span><br><span class="line"><span class="attr">"value"</span>: <span class="literal">false</span></span><br><span class="line">&#125;,</span><br><span class="line">&#123;</span><br><span class="line"><span class="attr">"parameter"</span>: <span class="string">"nextRoundNeededCount"</span>,</span><br><span class="line"><span class="attr">"value"</span>: <span class="number">0</span></span><br><span class="line">&#125;</span><br><span class="line">],</span><br><span class="line"><span class="attr">"deviceName"</span>: <span class="string">"æ´—è¡£æœº"</span>,</span><br><span class="line"><span class="attr">"utterance"</span>: <span class="string">"æ´—è¡£æœºé€‰æ‹©ç»¿æ ‡ç¾Šæ¯›æ¨¡å¼"</span></span><br><span class="line">&#125;,</span><br><span class="line"><span class="attr">"roomName"</span>: <span class="string">"é˜³å°"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä¸»è¦å…³æ³¨çš„æ˜¯devicestatusã€intentã€slotï¼›</p>
</li>
<li><p>DAæµ‹è¯•è„šæœ¬ï¼š</p>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="built_in">require</span> <span class="string">"T_0000_DA_NLU_GENERIC"</span></span><br><span class="line"><span class="comment">--[[</span></span><br><span class="line"><span class="comment">        &#123;</span></span><br><span class="line"><span class="comment">            "checkSkillResult": true,</span></span><br><span class="line"><span class="comment">            "baseScriptName": "",</span></span><br><span class="line"><span class="comment">            "deviceMode": "auto_dispense",</span></span><br><span class="line"><span class="comment">            "localNluScriptName": "",</span></span><br><span class="line"><span class="comment">            "remoteNluScriptName": "T_0000_DB_NLU_V2_COLMO",</span></span><br><span class="line"><span class="comment">            "devicestatus": &#123;</span></span><br><span class="line"><span class="comment">                "dehydration_speed": "1000",</span></span><br><span class="line"><span class="comment">                "stains": "0",</span></span><br><span class="line"><span class="comment">                "memory": "off",</span></span><br><span class="line"><span class="comment">                "strong_wash": "off",</span></span><br><span class="line"><span class="comment">                "appointment": "off",</span></span><br><span class="line"><span class="comment">                "program": "insight_wash",</span></span><br><span class="line"><span class="comment">                "down_light": "on",</span></span><br><span class="line"><span class="comment">                "dehydration_time": 0,</span></span><br><span class="line"><span class="comment">                "mode": "normal",</span></span><br><span class="line"><span class="comment">                "detergent": "0",</span></span><br><span class="line"><span class="comment">                "nightly": "off",</span></span><br><span class="line"><span class="comment">                "temperature": "invalid",</span></span><br><span class="line"><span class="comment">                "lock": "off",</span></span><br><span class="line"><span class="comment">                "expert_step": 255,</span></span><br><span class="line"><span class="comment">                "eye_wash": "1",</span></span><br><span class="line"><span class="comment">                "wash_time": 0,</span></span><br><span class="line"><span class="comment">                "remain_time": 65535,</span></span><br><span class="line"><span class="comment">                "wash_time_value": 0,</span></span><br><span class="line"><span class="comment">                "super_clean_wash": "off",</span></span><br><span class="line"><span class="comment">                "softener": "0",</span></span><br><span class="line"><span class="comment">                "power": "on",</span></span><br><span class="line"><span class="comment">                "water_level": "low",</span></span><br><span class="line"><span class="comment">                "ultraviolet_lamp": "1",</span></span><br><span class="line"><span class="comment">                "appointment_time": 0,</span></span><br><span class="line"><span class="comment">                "dehydration_time_value": 10,</span></span><br><span class="line"><span class="comment">                "steam_wash": "off",</span></span><br><span class="line"><span class="comment">                "soak_count": "0",</span></span><br><span class="line"><span class="comment">                "spray_wash": "off",</span></span><br><span class="line"><span class="comment">                "add_rinse": "1",</span></span><br><span class="line"><span class="comment">                "intelligent_wash": "off",</span></span><br><span class="line"><span class="comment">                "version": 24,</span></span><br><span class="line"><span class="comment">                "dryer": "0",</span></span><br><span class="line"><span class="comment">                "running_status": "standby",</span></span><br><span class="line"><span class="comment">                "dirty_degree": "255",</span></span><br><span class="line"><span class="comment">                "fast_clean_wash": "off",</span></span><br><span class="line"><span class="comment">                "easy_ironing": "off",</span></span><br><span class="line"><span class="comment">                "microbubble": "1",</span></span><br><span class="line"><span class="comment">                "progress": 16,</span></span><br><span class="line"><span class="comment">                "error_code": 0,</span></span><br><span class="line"><span class="comment">                "wind_dispel": "1",</span></span><br><span class="line"><span class="comment">                "beforehand_wash": "off"</span></span><br><span class="line"><span class="comment">            &#125;,</span></span><br><span class="line"><span class="comment">            "deviceinfo": &#123;</span></span><br><span class="line"><span class="comment">                "deviceSubType": "14392",</span></span><br><span class="line"><span class="comment">                "skillAttribute": &#123;</span></span><br><span class="line"><span class="comment">                    "": 1,</span></span><br><span class="line"><span class="comment">                    "big": 1,</span></span><br><span class="line"><span class="comment">                    "wool": 1,</span></span><br><span class="line"><span class="comment">                    "auto_dispense": 1,</span></span><br><span class="line"><span class="comment">                    "color": 1,</span></span><br><span class="line"><span class="comment">                    "cotton": 1,</span></span><br><span class="line"><span class="comment">                    "appointment": 1,</span></span><br><span class="line"><span class="comment">                    "baby_clothes": 1,</span></span><br><span class="line"><span class="comment">                    "bucket_self_clean": 1,</span></span><br><span class="line"><span class="comment">                    "air_wash": 1,</span></span><br><span class="line"><span class="comment">                    "smart_drive": 1,</span></span><br><span class="line"><span class="comment">                    "rinse_dehydration": 1,</span></span><br><span class="line"><span class="comment">                    "wash_drying_60": 1,</span></span><br><span class="line"><span class="comment">                    "fast_wash_15": 1,</span></span><br><span class="line"><span class="comment">                    "appointmentComplete": 1,</span></span><br><span class="line"><span class="comment">                    "shirt": 1,</span></span><br><span class="line"><span class="comment">                    "mixed_wash": 1,</span></span><br><span class="line"><span class="comment">                    "eco_wash": 1,</span></span><br><span class="line"><span class="comment">                    "childLock": 1,</span></span><br><span class="line"><span class="comment">                    "sport_clothes": 1,</span></span><br><span class="line"><span class="comment">                    "dehydration": 1,</span></span><br><span class="line"><span class="comment">                    "single_drying": 1,</span></span><br><span class="line"><span class="comment">                    "down_jacket": 1</span></span><br><span class="line"><span class="comment">                &#125;,</span></span><br><span class="line"><span class="comment">                "deviceSN": "38118103"</span></span><br><span class="line"><span class="comment">            &#125;,</span></span><br><span class="line"><span class="comment">            "intent": &#123;</span></span><br><span class="line"><span class="comment">                "duration": null,</span></span><br><span class="line"><span class="comment">                "intentType": "deviceSetFunction",</span></span><br><span class="line"><span class="comment">                "negative": false,</span></span><br><span class="line"><span class="comment">                "allVerb": "false",</span></span><br><span class="line"><span class="comment">                "fallBack": "æ´—è¡£æœºé€‰æ‹©èŠ‚èƒ½æ´—ç¨‹åº",</span></span><br><span class="line"><span class="comment">                "deviceVerb": "set",</span></span><br><span class="line"><span class="comment">                "domain": "DeviceControl",</span></span><br><span class="line"><span class="comment">                "location": "",</span></span><br><span class="line"><span class="comment">                "slot": [&#123;</span></span><br><span class="line"><span class="comment">                    "parameter": "deviceMode",</span></span><br><span class="line"><span class="comment">                    "value": "insight_wash"</span></span><br><span class="line"><span class="comment">                &#125;, &#123;</span></span><br><span class="line"><span class="comment">                    "parameter": "possibleDeviceNames",</span></span><br><span class="line"><span class="comment">                    "value": ["æ´—è¡£æœº"]</span></span><br><span class="line"><span class="comment">                &#125;, &#123;</span></span><br><span class="line"><span class="comment">                    "parameter": "classifier",</span></span><br><span class="line"><span class="comment">                    "value": "mideaDomain"</span></span><br><span class="line"><span class="comment">                &#125;, &#123;</span></span><br><span class="line"><span class="comment">                    "parameter": "nextRoundNeeded",</span></span><br><span class="line"><span class="comment">                    "value": false</span></span><br><span class="line"><span class="comment">                &#125;, &#123;</span></span><br><span class="line"><span class="comment">                    "parameter": "nextRoundNeededCount",</span></span><br><span class="line"><span class="comment">                    "value": 0</span></span><br><span class="line"><span class="comment">                &#125;],</span></span><br><span class="line"><span class="comment">        "deviceName": "æ´—è¡£æœº",</span></span><br><span class="line"><span class="comment">        "utterance": "æ´—è¡£æœºé€‰æ‹©èŠ‚èƒ½æ´—ç¨‹åº"</span></span><br><span class="line"><span class="comment">        &#125;,</span></span><br><span class="line"><span class="comment">        "isLocal": false</span></span><br><span class="line"><span class="comment">        &#125;</span></span><br><span class="line"><span class="comment">]]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--æ‰“å¼€æ´—è¡£æœº</span></span><br><span class="line">str = <span class="string">'&#123;"checkSkillResult":true,"baseScriptName":"","deviceMode":"auto_dispense","localNluScriptName":"","remoteNluScriptName":"T_0000_DB_NLU_V2_COLMO","devicestatus":&#123;"dehydration_speed":"1000","stains":"0","memory":"off","strong_wash":"off","appointment":"off","program":"insight_wash","down_light":"on","dehydration_time":0,"mode":"normal","detergent":"0","nightly":"off","temperature":"invalid","lock":"off","expert_step":255,"eye_wash":"1","wash_time":0,"remain_time":65535,"wash_time_value":0,"super_clean_wash":"off","softener":"0","power":"off","water_level":"low","ultraviolet_lamp":"1","appointment_time":0,"dehydration_time_value":10,"steam_wash":"off","soak_count":"0","spray_wash":"off","add_rinse":"1","intelligent_wash":"off","version":24,"dryer":"0","running_status":"pause","dirty_degree":"255","fast_clean_wash":"off","easy_ironing":"off","microbubble":"1","progress":16,"error_code":0,"wind_dispel":"1","beforehand_wash":"off"&#125;,"deviceinfo":&#123;"deviceSubType":"14392","skillAttribute":&#123;"":1,"big":1,"wool":1,"auto_dispense":1,"color":1,"cotton":1,"appointment":1,"baby_clothes":1,"bucket_self_clean":1,"air_wash":1,"smart_drive":1,"rinse_dehydration":1,"wash_drying_60":1,"fast_wash_15":1,"appointmentComplete":1,"shirt":1,"mixed_wash":1,"eco_wash":1,"childLock":1,"sport_clothes":1,"dehydration":1,"single_drying":1,"down_jacket":1&#125;,"deviceSN":"38118103"&#125;,"intent":&#123;"duration":null,"intentType":"devicePowerOn","negative":false,"allVerb":"false","fallBack":"æ‰“å¼€æ´—è¡£æœº","deviceVerb":"start","domain":"DeviceControl","location":"","slot":[&#123;"parameter":"classifier","value":"mideaDomain"&#125;,&#123;"parameter":"nextRoundNeeded","value":false&#125;,&#123;"parameter":"nextRoundNeededCount","value":0&#125;],"deviceName":"æ´—è¡£æœº","utterance":"æ‰“å¼€æ´—è¡£æœº"&#125;&#125;'</span></span><br><span class="line"><span class="built_in">print</span>(intentToJson(str))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--å…³é—­æ´—è¡£æœº</span></span><br><span class="line">str = <span class="string">'&#123;"checkSkillResult":true,"baseScriptName":"","deviceMode":"auto_dispense","localNluScriptName":"","remoteNluScriptName":"T_0000_DB_NLU_V2_COLMO","devicestatus":&#123;"dehydration_speed":"1000","stains":"0","memory":"off","strong_wash":"off","appointment":"off","program":"insight_wash","down_light":"on","dehydration_time":0,"mode":"normal","detergent":"0","nightly":"off","temperature":"invalid","lock":"off","expert_step":255,"eye_wash":"1","wash_time":0,"remain_time":65535,"wash_time_value":0,"super_clean_wash":"off","softener":"0","power":"on","water_level":"low","ultraviolet_lamp":"1","appointment_time":0,"dehydration_time_value":10,"steam_wash":"off","soak_count":"0","spray_wash":"off","add_rinse":"1","intelligent_wash":"off","version":24,"dryer":"0","running_status":"pause","dirty_degree":"255","fast_clean_wash":"off","easy_ironing":"off","microbubble":"1","progress":16,"error_code":0,"wind_dispel":"1","beforehand_wash":"off"&#125;,"deviceinfo":&#123;"deviceSubType":"14392","skillAttribute":&#123;"":1,"big":1,"wool":1,"auto_dispense":1,"color":1,"cotton":1,"appointment":1,"baby_clothes":1,"bucket_self_clean":1,"air_wash":1,"smart_drive":1,"rinse_dehydration":1,"wash_drying_60":1,"fast_wash_15":1,"appointmentComplete":1,"shirt":1,"mixed_wash":1,"eco_wash":1,"childLock":1,"sport_clothes":1,"dehydration":1,"single_drying":1,"down_jacket":1&#125;,"deviceSN":"38118103"&#125;,"intent":&#123;"duration":null,"intentType":"devicePowerOff","negative":false,"allVerb":"false","fallBack":"å…³é—­æ´—è¡£æœº","deviceVerb":"stop","domain":"DeviceControl","location":"","slot":[&#123;"parameter":"classifier","value":"mideaDomain"&#125;,&#123;"parameter":"nextRoundNeeded","value":false&#125;,&#123;"parameter":"nextRoundNeededCount","value":0&#125;],"deviceName":"æ´—è¡£æœº","utterance":"å…³é—­æ´—è¡£æœº"&#125;&#125;'</span></span><br><span class="line"><span class="built_in">print</span>(intentToJson(str))</span><br><span class="line"></span><br><span class="line"><span class="comment">--å¯åŠ¨æ´—è¡£æœº</span></span><br><span class="line">str = <span class="string">'&#123;"checkSkillResult":true,"baseScriptName":"","deviceMode":"auto_dispense","localNluScriptName":"","remoteNluScriptName":"T_0000_DB_NLU_V2_COLMO","devicestatus":&#123;"dehydration_speed":"1000","stains":"0","memory":"off","strong_wash":"off","appointment":"off","program":"insight_wash","down_light":"on","dehydration_time":0,"mode":"normal","detergent":"0","nightly":"off","temperature":"invalid","lock":"off","expert_step":255,"eye_wash":"1","wash_time":0,"remain_time":65535,"wash_time_value":0,"super_clean_wash":"off","softener":"0","power":"on","water_level":"low","ultraviolet_lamp":"1","appointment_time":0,"dehydration_time_value":10,"steam_wash":"off","soak_count":"0","spray_wash":"off","add_rinse":"1","intelligent_wash":"off","version":24,"dryer":"0","running_status":"standby","dirty_degree":"255","fast_clean_wash":"off","easy_ironing":"off","microbubble":"1","progress":16,"error_code":0,"wind_dispel":"1","beforehand_wash":"off"&#125;,"deviceinfo":&#123;"deviceSubType":"14392","skillAttribute":&#123;"":1,"big":1,"wool":1,"auto_dispense":1,"color":1,"cotton":1,"appointment":1,"baby_clothes":1,"bucket_self_clean":1,"air_wash":1,"smart_drive":1,"rinse_dehydration":1,"wash_drying_60":1,"fast_wash_15":1,"appointmentComplete":1,"shirt":1,"mixed_wash":1,"eco_wash":1,"childLock":1,"sport_clothes":1,"dehydration":1,"single_drying":1,"down_jacket":1&#125;,"deviceSN":"38118103"&#125;,"intent":&#123;"duration":null,"intentType":"deviceStart","negative":false,"allVerb":"false","fallBack":"å¯åŠ¨æ´—è¡£æœº","deviceVerb":"start","domain":"DeviceControl","location":"","slot":[&#123;"parameter":"classifier","value":"mideaDomain"&#125;,&#123;"parameter":"nextRoundNeeded","value":false&#125;,&#123;"parameter":"nextRoundNeededCount","value":0&#125;],"deviceName":"æ´—è¡£æœº","utterance":"å¯åŠ¨æ´—è¡£æœº"&#125;&#125;'</span></span><br><span class="line"><span class="built_in">print</span>(intentToJson(str))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--æš‚åœæ´—è¡£æœº</span></span><br><span class="line">str = <span class="string">'&#123;"checkSkillResult":true,"baseScriptName":"","deviceMode":"auto_dispense","localNluScriptName":"","remoteNluScriptName":"T_0000_DB_NLU_V2_COLMO","devicestatus":&#123;"dehydration_speed":"1000","stains":"0","memory":"off","strong_wash":"off","appointment":"off","program":"insight_wash","down_light":"on","dehydration_time":0,"mode":"normal","detergent":"0","nightly":"off","temperature":"invalid","lock":"off","expert_step":255,"eye_wash":"1","wash_time":0,"remain_time":65535,"wash_time_value":0,"super_clean_wash":"off","softener":"0","power":"on","water_level":"low","ultraviolet_lamp":"1","appointment_time":0,"dehydration_time_value":10,"steam_wash":"off","soak_count":"0","spray_wash":"off","add_rinse":"1","intelligent_wash":"off","version":24,"dryer":"0","running_status":"standby","dirty_degree":"255","fast_clean_wash":"off","easy_ironing":"off","microbubble":"1","progress":16,"error_code":0,"wind_dispel":"1","beforehand_wash":"off"&#125;,"deviceinfo":&#123;"deviceSubType":"14392","skillAttribute":&#123;"":1,"big":1,"wool":1,"auto_dispense":1,"color":1,"cotton":1,"appointment":1,"baby_clothes":1,"bucket_self_clean":1,"air_wash":1,"smart_drive":1,"rinse_dehydration":1,"wash_drying_60":1,"fast_wash_15":1,"appointmentComplete":1,"shirt":1,"mixed_wash":1,"eco_wash":1,"childLock":1,"sport_clothes":1,"dehydration":1,"single_drying":1,"down_jacket":1&#125;,"deviceSN":"38118103"&#125;,"intent":&#123;"duration":null,"intentType":"devicePause","negative":false,"allVerb":"false","fallBack":"æš‚åœæ´—è¡£æœº","deviceVerb":"pause","domain":"DeviceControl","location":"","slot":[&#123;"parameter":"classifier","value":"mideaDomain"&#125;,&#123;"parameter":"nextRoundNeeded","value":false&#125;,&#123;"parameter":"nextRoundNeededCount","value":0&#125;],"deviceName":"æ´—è¡£æœº","utterance":"æš‚åœæ´—è¡£æœº"&#125;&#125;'</span></span><br><span class="line"><span class="built_in">print</span>(intentToJson(str))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--é€‰æ‹©ç¨‹åº</span></span><br><span class="line">str = <span class="string">'&#123;"checkSkillResult":true,"baseScriptName":"","deviceMode":"auto_dispense","localNluScriptName":"","remoteNluScriptName":"T_0000_DB_NLU_V2_COLMO","devicestatus":&#123;"dehydration_speed":"1000","stains":"0","memory":"off","strong_wash":"off","appointment":"off","program":"insight_wash","down_light":"on","dehydration_time":0,"mode":"normal","detergent":"0","nightly":"off","temperature":"invalid","lock":"off","expert_step":255,"eye_wash":"1","wash_time":0,"remain_time":65535,"wash_time_value":0,"super_clean_wash":"off","softener":"0","power":"on","water_level":"low","ultraviolet_lamp":"1","appointment_time":0,"dehydration_time_value":10,"steam_wash":"off","soak_count":"0","spray_wash":"off","add_rinse":"1","intelligent_wash":"off","version":24,"dryer":"0","running_status":"standby","dirty_degree":"255","fast_clean_wash":"off","easy_ironing":"off","microbubble":"1","progress":16,"error_code":0,"wind_dispel":"1","beforehand_wash":"off"&#125;,"deviceinfo":&#123;"deviceSubType":"14392","skillAttribute":&#123;"":1,"big":1,"wool":1,"auto_dispense":1,"color":1,"cotton":1,"appointment":1,"baby_clothes":1,"bucket_self_clean":1,"air_wash":1,"smart_drive":1,"rinse_dehydration":1,"wash_drying_60":1,"fast_wash_15":1,"appointmentComplete":1,"shirt":1,"mixed_wash":1,"eco_wash":1,"childLock":1,"sport_clothes":1,"dehydration":1,"single_drying":1,"down_jacket":1&#125;,"deviceSN":"38118103"&#125;,"intent":&#123;"duration":null,"intentType":"deviceSetFunction","negative":false,"allVerb":"false","fallBack":"æ´—è¡£æœºé€‰æ‹©èŠ‚èƒ½æ´—ç¨‹åº","deviceVerb":"set","domain":"DeviceControl","location":"","slot":[&#123;"parameter":"deviceMode","value":"standard_wash"&#125;,&#123;"parameter":"possibleDeviceNames","value":["æ´—è¡£æœº"]&#125;,&#123;"parameter":"classifier","value":"mideaDomain"&#125;,&#123;"parameter":"nextRoundNeeded","value":false&#125;,&#123;"parameter":"nextRoundNeededCount","value":0&#125;],"deviceName":"æ´—è¡£æœº","utterance":"æ´—è¡£æœºé€‰æ‹©èŠ‚èƒ½æ´—ç¨‹åº"&#125;,"isLocal":false&#125;'</span></span><br><span class="line"><span class="built_in">print</span>(intentToJson(str))</span><br></pre></td></tr></table></figure>
</li>
<li><p>DBæµ‹è¯•è„šæœ¬ï¼š</p>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="comment">--require "T_0000_DB_NLU_LATEST"</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--str = '&#123;"deviceinfo":&#123;"deviceSubType":"5","deviceSN":"00000021122250939813008921430000"&#125;,"intent":&#123;"duration":null,"intentType":"deviceSetFunction","negative":false,"allVerb":"false","fallBack":"æ´—è¡£æœºé€‰é¢„çº¦æ™šä¸Šåç‚¹é’Ÿæ´—å®Œ","deviceVerb":"appointmentComplete","nickName":"æ´—è¡£æœº","domain":"DeviceControl","location":"","slot":[&#123;"parameter":"time","value":"at|10: 00: 00|pm"&#125;,&#123;"parameter":"classifier","value":"mideaDomain"&#125;,&#123;"parameter":"nextRoundNeeded","value":false&#125;,&#123;"parameter":"nextRoundNeededCount","value":0&#125;],"deviceName":"æ´—è¡£æœº","utterance":"æ´—è¡£æœºé€‰é¢„çº¦æ™šä¸Šåç‚¹é’Ÿæ´—å®Œ"&#125;,"devicestatus":&#123;&#125;&#125;'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--print(intentToJson(str))</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--require "T_0000_DB_NLU_V2_COLMO"</span></span><br><span class="line"><span class="built_in">require</span> <span class="string">"T_0000_DB_NLU_V2_GENERIC"</span></span><br><span class="line"><span class="comment">--è¶…è¿‡24å°æ—¶é¢„çº¦</span></span><br><span class="line">str = <span class="string">'&#123;"checkSkillResult":true,"baseScriptName":"","deviceMode":"auto_dispense","localNluScriptName":"","remoteNluScriptName":"T_0000_DB_NLU_V2_COLMO","devicestatus":&#123;"dehydration_speed":"1000","stains":"0","memory":"off","strong_wash":"off","appointment":"off","program":"single_dehytration","down_light":"on","dehydration_time":0,"mode":"normal","detergent":"0","nightly":"off","temperature":"invalid","lock":"off","expert_step":255,"eye_wash":"1","wash_time":0,"remain_time":65535,"wash_time_value":0,"super_clean_wash":"off","softener":"0","power":"on","water_level":"low","ultraviolet_lamp":"1","appointment_time":0,"dehydration_time_value":10,"steam_wash":"off","soak_count":"0","spray_wash":"off","add_rinse":"1","intelligent_wash":"off","version":24,"dryer":"0","running_status":"standby","dirty_degree":"255","fast_clean_wash":"off","easy_ironing":"off","microbubble":"1","progress":255,"error_code":0,"wind_dispel":"1","beforehand_wash":"off"&#125;,"deviceinfo":&#123;"deviceSubType":"14392","skillAttribute":&#123;"":1,"big":1,"wool":1,"auto_dispense":1,"color":1,"cotton":1,"appointment":1,"baby_clothes":1,"bucket_self_clean":1,"air_wash":1,"smart_drive":1,"rinse_dehydration":1,"wash_drying_60":1,"fast_wash_15":1,"appointmentComplete":1,"shirt":1,"mixed_wash":1,"eco_wash":1,"childLock":1,"sport_clothes":1,"dehydration":1,"single_drying":1,"down_jacket":1&#125;,"deviceSN":"38118103"&#125;,"intent":&#123;"duration":null,"intentType":"devicePowerOff","negative":false,"allVerb":"false","fallBack":"æ»šç­’æ´—è¡£æœºé¢„çº¦æ˜å¤©14ç‚¹32æ´—è¡£å®Œæˆ","deviceVerb":"appointmentComplete","domain":"DeviceControl","location":"","slot":[&#123;"parameter":"time","value":"at|14: 32: 00|"&#125;,&#123;"parameter":"date","value":"2019-12-19"&#125;,&#123;"parameter":"possibleDeviceNames","value":["æ´—è¡£æœº"]&#125;,&#123;"parameter":"classifier","value":"mideaDomain"&#125;,&#123;"parameter":"nextRoundNeeded","value":false&#125;,&#123;"parameter":"nextRoundNeededCount","value":0&#125;],"deviceName":"æ»šç­’æ´—è¡£æœº","utterance":"æ»šç­’æ´—è¡£æœºé¢„çº¦æ˜å¤©14ç‚¹32æ´—è¡£å®Œæˆ"&#125;,"isLocal":false&#125;'</span></span><br><span class="line"><span class="built_in">print</span>(intentToJson(str))</span><br><span class="line"></span><br><span class="line"><span class="comment">--æ…§çœ¼æ´—æ£€æµ‹ä¸­æ‰“å¼€ç«¥é”</span></span><br><span class="line">str = <span class="string">'&#123;"checkSkillResult":true,"baseScriptName":"","deviceMode":"auto_dispense","localNluScriptName":"","remoteNluScriptName":"T_0000_DB_NLU_V2_COLMO","devicestatus":&#123;"dehydration_speed":"1000","stains":"0","memory":"off","strong_wash":"off","appointment":"off","program":"insight_wash","down_light":"on","dehydration_time":0,"mode":"normal","detergent":"0","nightly":"off","temperature":"invalid","lock":"off","expert_step":255,"eye_wash":"1","wash_time":0,"remain_time":65535,"wash_time_value":0,"super_clean_wash":"off","softener":"0","power":"on","water_level":"low","ultraviolet_lamp":"1","appointment_time":0,"dehydration_time_value":10,"steam_wash":"off","soak_count":"0","spray_wash":"off","add_rinse":"1","intelligent_wash":"off","version":24,"dryer":"0","running_status":"start","dirty_degree":"255","fast_clean_wash":"off","easy_ironing":"off","microbubble":"1","progress":255,"error_code":0,"wind_dispel":"1","beforehand_wash":"off"&#125;,"deviceinfo":&#123;"deviceSubType":"14392","skillAttribute":&#123;"":1,"big":1,"wool":1,"auto_dispense":1,"color":1,"cotton":1,"appointment":1,"baby_clothes":1,"bucket_self_clean":1,"air_wash":1,"smart_drive":1,"rinse_dehydration":1,"wash_drying_60":1,"fast_wash_15":1,"appointmentComplete":1,"shirt":1,"mixed_wash":1,"eco_wash":1,"childLock":1,"sport_clothes":1,"dehydration":1,"single_drying":1,"down_jacket":1&#125;,"deviceSN":"38118103"&#125;,"intent":&#123;"duration":null,"intentType":"deviceStart","negative":false,"allVerb":"false","fallBack":"æ»šç­’æ´—è¡£æœºå¼€å¯ç«¥é”","deviceVerb":"start","domain":"DeviceControl","location":"","slot":[&#123;"parameter":"classifier","value":"mideaDomain"&#125;,&#123;"parameter":"nextRoundNeeded","value":false&#125;,&#123;"parameter":"nextRoundNeededCount","value":0&#125;,&#123;"parameter":"deviceAspect","value":"childLock"&#125;],"deviceName":"æ»šç­’æ´—è¡£æœº","utterance":"æ»šç­’æ´—è¡£æœºå¼€å¯ç«¥é”"&#125;,"isLocal":false&#125;'</span></span><br><span class="line"><span class="built_in">print</span>(intentToJson(str))</span><br><span class="line"></span><br><span class="line"><span class="comment">--çƒ˜å¹²é˜¶æ®µæš‚åœ</span></span><br><span class="line">str = <span class="string">'&#123;"checkSkillResult":true,"baseScriptName":"","deviceMode":"auto_dispense","localNluScriptName":"","remoteNluScriptName":"T_0000_DB_NLU_V2_COLMO","devicestatus":&#123;"dehydration_speed":"1000","stains":"0","memory":"off","strong_wash":"off","appointment":"off","program":"insight_wash","down_light":"on","dehydration_time":0,"mode":"normal","detergent":"0","nightly":"off","temperature":"invalid","lock":"off","expert_step":255,"eye_wash":"1","wash_time":0,"remain_time":65535,"wash_time_value":0,"super_clean_wash":"off","softener":"0","power":"on","water_level":"low","ultraviolet_lamp":"1","appointment_time":0,"dehydration_time_value":10,"steam_wash":"off","soak_count":"0","spray_wash":"off","add_rinse":"1","intelligent_wash":"off","version":24,"dryer":"0","running_status":"start","dirty_degree":"255","fast_clean_wash":"off","easy_ironing":"off","microbubble":"1","progress":16,"error_code":0,"wind_dispel":"1","beforehand_wash":"off"&#125;,"deviceinfo":&#123;"deviceSubType":"14392","skillAttribute":&#123;"":1,"big":1,"wool":1,"auto_dispense":1,"color":1,"cotton":1,"appointment":1,"baby_clothes":1,"bucket_self_clean":1,"air_wash":1,"smart_drive":1,"rinse_dehydration":1,"wash_drying_60":1,"fast_wash_15":1,"appointmentComplete":1,"shirt":1,"mixed_wash":1,"eco_wash":1,"childLock":1,"sport_clothes":1,"dehydration":1,"single_drying":1,"down_jacket":1&#125;,"deviceSN":"38118103"&#125;,"intent":&#123;"duration":null,"intentType":"devicePause","negative":false,"allVerb":"false","fallBack":"æ»šç­’æ´—è¡£æœºæš‚åœ","deviceVerb":"pause","domain":"DeviceControl","location":"","slot":[&#123;"parameter":"classifier","value":"mideaDomain"&#125;,&#123;"parameter":"nextRoundNeeded","value":false&#125;,&#123;"parameter":"nextRoundNeededCount","value":0&#125;],"deviceName":"æ»šç­’æ´—è¡£æœº","utterance":"æ»šç­’æ´—è¡£æœºæš‚åœ"&#125;,"isLocal":false&#125;'</span></span><br><span class="line"><span class="built_in">print</span>(intentToJson(str))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--è‡ªåŠ¨æŠ•æ”¾</span></span><br><span class="line">str = <span class="string">'&#123;"checkSkillResult":true,"baseScriptName":"","deviceMode":"auto_dispense","localNluScriptName":"","remoteNluScriptName":"T_0000_DB_NLU_V2_COLMO","devicestatus":&#123;"dehydration_speed":"1000","stains":"0","memory":"off","strong_wash":"off","appointment":"off","program":"single_dehytration","down_light":"on","dehydration_time":0,"mode":"normal","detergent":"0","nightly":"off","temperature":"invalid","lock":"off","expert_step":255,"eye_wash":"1","wash_time":0,"remain_time":65535,"wash_time_value":0,"super_clean_wash":"off","softener":"0","power":"on","water_level":"low","ultraviolet_lamp":"1","appointment_time":0,"dehydration_time_value":10,"steam_wash":"off","soak_count":"0","spray_wash":"off","add_rinse":"1","intelligent_wash":"off","version":24,"dryer":"0","running_status":"standby","dirty_degree":"255","fast_clean_wash":"off","easy_ironing":"off","microbubble":"1","progress":16,"error_code":0,"wind_dispel":"1","beforehand_wash":"off"&#125;,"deviceinfo":&#123;"deviceSubType":"14392","skillAttribute":&#123;"":1,"big":1,"wool":1,"auto_dispense":1,"color":1,"cotton":1,"appointment":1,"baby_clothes":1,"bucket_self_clean":1,"air_wash":1,"smart_drive":1,"rinse_dehydration":1,"wash_drying_60":1,"fast_wash_15":1,"appointmentComplete":1,"shirt":1,"mixed_wash":1,"eco_wash":1,"childLock":1,"sport_clothes":1,"dehydration":1,"single_drying":1,"down_jacket":1&#125;,"deviceSN":"38118103"&#125;,"intent":&#123;"duration":null,"intentType":"deviceStart","negative":false,"allVerb":"false","fallBack":"æ»šç­’æ´—è¡£æœºæ‰“å¼€è‡ªåŠ¨æŠ•æ”¾","deviceVerb":"start","domain":"DeviceControl","location":"","slot":[&#123;"parameter":"possibleDeviceNames","value":["æ´—è¡£æœº"]&#125;,&#123;"parameter":"classifier","value":"mideaDomain"&#125;,&#123;"parameter":"nextRoundNeeded","value":false&#125;,&#123;"parameter":"nextRoundNeededCount","value":0&#125;,&#123;"parameter":"deviceAspect","value":"auto_dispense"&#125;],"deviceName":"æ»šç­’æ´—è¡£æœº","utterance":"æ»šç­’æ´—è¡£æœºæ‰“å¼€è‡ªåŠ¨æŠ•æ”¾"&#125;,"isLocal":false&#125;'</span></span><br><span class="line"><span class="built_in">print</span>(intentToJson(str))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--é€‰æ‹©å½“å‰ç¨‹åº</span></span><br><span class="line">str = <span class="string">'&#123;"checkSkillResult":true,"baseScriptName":"","deviceMode":"auto_dispense","localNluScriptName":"","remoteNluScriptName":"T_0000_DB_NLU_V2_COLMO","devicestatus":&#123;"dehydration_speed":"1000","stains":"0","memory":"off","strong_wash":"off","appointment":"off","program":"insight_wash","down_light":"on","dehydration_time":0,"mode":"normal","detergent":"0","nightly":"off","temperature":"invalid","lock":"off","expert_step":255,"eye_wash":"1","wash_time":0,"remain_time":65535,"wash_time_value":0,"super_clean_wash":"off","softener":"0","power":"on","water_level":"low","ultraviolet_lamp":"1","appointment_time":0,"dehydration_time_value":10,"steam_wash":"off","soak_count":"0","spray_wash":"off","add_rinse":"1","intelligent_wash":"off","version":24,"dryer":"0","running_status":"standby","dirty_degree":"255","fast_clean_wash":"off","easy_ironing":"off","microbubble":"1","progress":16,"error_code":0,"wind_dispel":"1","beforehand_wash":"off"&#125;,"deviceinfo":&#123;"deviceSubType":"14392","skillAttribute":&#123;"":1,"big":1,"wool":1,"auto_dispense":1,"color":1,"cotton":1,"appointment":1,"baby_clothes":1,"bucket_self_clean":1,"air_wash":1,"smart_drive":1,"rinse_dehydration":1,"wash_drying_60":1,"fast_wash_15":1,"appointmentComplete":1,"shirt":1,"mixed_wash":1,"eco_wash":1,"childLock":1,"sport_clothes":1,"dehydration":1,"single_drying":1,"down_jacket":1&#125;,"deviceSN":"38118103"&#125;,"intent":&#123;"duration":null,"intentType":"deviceSetFunction","negative":false,"allVerb":"false","fallBack":"æ´—è¡£æœºé€‰æ‹©èŠ‚èƒ½æ´—ç¨‹åº","deviceVerb":"set","domain":"DeviceControl","location":"","slot":[&#123;"parameter":"deviceMode","value":"insight_wash"&#125;,&#123;"parameter":"possibleDeviceNames","value":["æ´—è¡£æœº"]&#125;,&#123;"parameter":"classifier","value":"mideaDomain"&#125;,&#123;"parameter":"nextRoundNeeded","value":false&#125;,&#123;"parameter":"nextRoundNeededCount","value":0&#125;],"deviceName":"æ´—è¡£æœº","utterance":"æ´—è¡£æœºé€‰æ‹©èŠ‚èƒ½æ´—ç¨‹åº"&#125;,"isLocal":false&#125;'</span></span><br><span class="line"><span class="built_in">print</span>(intentToJson(str))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--é¢„çº¦å®Œæˆ</span></span><br><span class="line"></span><br><span class="line">str = <span class="string">'&#123;"checkSkillResult":true,"baseScriptName":"","deviceMode":"auto_dispense","localNluScriptName":"","remoteNluScriptName":"T_0000_DB_NLU_V2_COLMO","devicestatus":&#123;"dehydration_speed":"1000","stains":"0","memory":"off","strong_wash":"off","appointment":"off","program":"mixed_wash","down_light":"on","dehydration_time":0,"mode":"normal","detergent":"0","nightly":"off","temperature":"invalid","lock":"off","expert_step":255,"eye_wash":"1","wash_time":0,"remain_time":48,"wash_time_value":0,"super_clean_wash":"off","softener":"0","power":"on","water_level":"low","ultraviolet_lamp":"1","appointment_time":0,"dehydration_time_value":10,"steam_wash":"off","soak_count":"0","spray_wash":"off","add_rinse":"1","intelligent_wash":"off","version":24,"dryer":"0","running_status":"standby","dirty_degree":"255","fast_clean_wash":"off","easy_ironing":"off","microbubble":"1","progress":16,"error_code":0,"wind_dispel":"1","beforehand_wash":"off"&#125;,"deviceinfo":&#123;"deviceSubType":"14392","skillAttribute":&#123;"":1,"big":1,"wool":1,"auto_dispense":1,"color":1,"cotton":1,"appointment":1,"baby_clothes":1,"bucket_self_clean":1,"air_wash":1,"smart_drive":1,"rinse_dehydration":1,"wash_drying_60":1,"fast_wash_15":1,"appointmentComplete":1,"shirt":1,"mixed_wash":1,"eco_wash":1,"childLock":1,"sport_clothes":1,"dehydration":1,"single_drying":1,"down_jacket":1&#125;,"deviceSN":"38118103"&#125;,"intent":&#123;"duration":null,"intentType":"deviceSetFunction","negative":false,"allVerb":"false","fallBack":"æ´—è¡£æœºé¢„çº¦ä»Šå¤©æ™šä¸Šåä¸€ç‚¹å®Œæˆæ´—è¡£","deviceVerb":"appointmentComplete","domain":"DeviceControl","location":"","slot":[&#123;"parameter":"time","value":"at|11: 00: 00|pm"&#125;,&#123;"parameter":"date","value":"2020-01-11"&#125;,&#123;"parameter":"timePeriod","value":"pm"&#125;,&#123;"parameter":"classifier","value":"mideaDomain"&#125;,&#123;"parameter":"nextRoundNeeded","value":false&#125;,&#123;"parameter":"nextRoundNeededCount","value":0&#125;],"deviceName":"æ´—è¡£æœº","utterance":"æ´—è¡£æœºé¢„çº¦ä»Šå¤©æ™šä¸Šåä¸€ç‚¹å®Œæˆæ´—è¡£"&#125;,"isLocal":false&#125;'</span></span><br><span class="line"><span class="built_in">print</span>(intentToJson(str))</span><br><span class="line"></span><br><span class="line"><span class="comment">--æ´—è¡£æœºé€‰æ‹©å¼ºçƒ˜å¹²</span></span><br><span class="line">str = <span class="string">'&#123;"checkSkillResult":true,"baseScriptName":"","deviceMode":["single_drying"],"localNluScriptName":"","remoteNluScriptName":"T_0000_DB_NLU_V2_COLMO","devicestatus":&#123;"dehydration_speed":"800","stains":"0","memory":"off","speedy":"off","strong_wash":"off","appointment":"off","program":"new_water_cotton","dehydration_time":0,"down_light":"off","mode":"normal","detergent":"4","nightly":"off","temperature":"30","lock":"off","expert_step":255,"eye_wash":"1","old_speedy":"off","wash_time":0,"remain_time":198,"wash_time_value":17,"super_clean_wash":"off","softener":"1","power":"on","water_level":"auto","ultraviolet_lamp":"1","appointment_time":0,"dehydration_time_value":7,"steam_wash":"off","spray_wash":"off","soak_count":"2","add_rinse":"1","version":30,"intelligent_wash":"off","dryer":"2","running_status":"pause","dirty_degree":"255","project_no":25137,"soak":"off","fast_clean_wash":"off","easy_ironing":"off","ai_flag":"off","data_type":"0303","progress":255,"microbubble":"1","error_code":0,"wind_dispel":"1","beforehand_wash":"off"&#125;,"deviceinfo":&#123;"deviceSubType":"25137","skillAttribute":&#123;"big":1,"auto_dispense":1,"wool":1,"color":1,"cotton":1,"baby_clothes":1,"appointment":1,"bucket_self_clean":1,"air_wash":1,"smart_drive":1,"rinse_dehydration":1,"wash_drying_60":1,"fast_wash_15":1,"mixed_wash":1,"shirt":1,"eco_wash":1,"sport_clothes":1,"childLock":1,"dehydration":1,"auto_detergent":1,"single_drying":1,"down_jacket":1,"auto_softener":1&#125;,"deviceSN":"38116708"&#125;,"intent":&#123;"intentType":"deviceSetFunction","negative":false,"allVerb":"false","fallBack":"å«ç”Ÿé—´çš„æ´—è¡£æœºé€‰æ‹©å¼±çƒ˜å¹²","slotMap":&#123;"deviceMode":"single_drying","classifier":"mideaDomain","levelNumber":"å¼±","nextRoundNeeded":false,"nextRoundNeededCount":0,"possibleDeviceNames":["æ´—è¡£æœº","å¹²è¡£æœº"]&#125;,"deviceVerb":"set","domain":"DeviceControl","location":"bathroom","slot":[&#123;"parameter":"deviceMode","value":"single_drying"&#125;,&#123;"parameter":"possibleDeviceNames","value":["æ´—è¡£æœº","å¹²è¡£æœº"]&#125;,&#123;"parameter":"classifier","value":"mideaDomain"&#125;,&#123;"parameter":"nextRoundNeeded","value":false&#125;,&#123;"parameter":"nextRoundNeededCount","value":0&#125;,&#123;"parameter":"levelNumber","value":"å¼±"&#125;],"deviceName":"æ´—è¡£æœº","utterance":"å«ç”Ÿé—´çš„æ´—è¡£æœºé€‰æ‹©å¼±çƒ˜å¹²"&#125;,"roomName":"å«ç”Ÿé—´","isLocal":false&#125;'</span></span><br><span class="line"><span class="built_in">print</span>(intentToJson(str))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">str =<span class="string">'&#123;"checkSkillResult":true,"baseScriptName":"","deviceMode":["green_wool"],"localNluScriptName":"","remoteNluScriptName":"T_0000_DB_NLU_V2_GENERIC","devicestatus":&#123;"stains":"255","memory":"on","speedy":"on","strong_wash":"on","appointment":"on","program":"cotton","down_light":"on","dehydration_time":255,"mode":"factory_test","detergent":"255","nightly":"on","temperature":"invalid","lock":"on","expert_step":255,"eye_wash":"1","old_speedy":"on","wash_time":255,"remain_time":9,"wash_time_value":255,"super_clean_wash":"on","softener":"255","power":"on","water_level":"255","ultraviolet_lamp":"1","appointment_time":65535,"dehydration_time_value":255,"steam_wash":"on","spray_wash":"on","soak_count":"invalid","add_rinse":"1","version":31,"intelligent_wash":"on","running_status":"standby","dirty_degree":"255","project_no":12336,"soak":"on","fast_clean_wash":"on","easy_ironing":"on","ai_flag":"off","data_type":"0303","progress":255,"microbubble":"1","error_code":0,"wind_dispel":"1","beforehand_wash":"on"&#125;,"deviceinfo":&#123;"deviceSubType":"12336","skillAttribute":&#123;"wash_drying_60":1,"fast_wash_15":1,"single_drying":1&#125;,"deviceSN":"38109503"&#125;,"intent":&#123;"intentType":"deviceSetFunction","negative":false,"allVerb":"false","fallBack":"æ´—è¡£æœºé€‰æ‹©ç»¿æ ‡ç¾Šæ¯›æ¨¡å¼","slotMap":&#123;"deviceMode":"green_wool","classifier":"mideaDomain","nextRoundNeeded":false,"nextRoundNeededCount":0,"possibleDeviceNames":["æ´—è¡£æœº"]&#125;,"deviceVerb":"set","domain":"DeviceControl","location":"","slot":[&#123;"parameter":"deviceMode","value":"green_wool"&#125;,&#123;"parameter":"possibleDeviceNames","value":["æ´—è¡£æœº"]&#125;,&#123;"parameter":"classifier","value":"mideaDomain"&#125;,&#123;"parameter":"nextRoundNeeded","value":false&#125;,&#123;"parameter":"nextRoundNeededCount","value":0&#125;],"deviceName":"æ´—è¡£æœº","utterance":"æ´—è¡£æœºé€‰æ‹©ç»¿æ ‡ç¾Šæ¯›æ¨¡å¼"&#125;,"roomName":"é˜³å°"&#125;'</span></span><br><span class="line"><span class="built_in">print</span>(intentToJson(str))</span><br><span class="line"></span><br><span class="line">str = <span class="string">'&#123;"checkSkillResult":true,"baseScriptName":"","deviceMode":["appointment"],"localNluScriptName":"","remoteNluScriptName":"T_0000_DB_NLU_V2_GENERIC","devicestatus":&#123;"dehydration_speed":"800","stains":"0","memory":"off","speedy":"off","strong_wash":"off","appointment":"off","program":"mixed_wash","dehydration_time":0,"down_light":"off","mode":"normal","detergent":"1","nightly":"off","temperature":"40","lock":"off","expert_step":0,"eye_wash":"0","old_speedy":"off","wash_time":0,"remain_time":56,"wash_time_value":0,"super_clean_wash":"off","softener":"1","power":"off","water_level":"auto","ultraviolet_lamp":"0","appointment_time":0,"dehydration_time_value":0,"steam_wash":"off","spray_wash":"off","soak_count":"2","add_rinse":"0","version":31,"intelligent_wash":"off","dryer":"0","running_status":"idle","dirty_degree":"0","project_no":12594,"soak":"off","fast_clean_wash":"off","easy_ironing":"off","ai_flag":"off","data_type":"0303","progress":0,"microbubble":"0","error_code":0,"wind_dispel":"0","beforehand_wash":"off"&#125;,"deviceinfo":&#123;"deviceSubType":"12594","skillAttribute":&#123;"big":1,"wool":1,"fast_dry":1,"water_fast_wash_30":1,"cotton":1,"silk_wash":1,"appointment":1,"baby_clothes":1,"fast_wash_30":1,"water_steep":1,"active_enzyme":1,"water_cold_wash":1,"soft_wash":1,"care_wash":1,"dehydration":1,"gentle":1,"auto_detergent":1,"down_jacket":1,"water_baby":1,"auto_softener":1,"green_wool":1,"water_eco":1,"auto_wash":1,"water_ssp":1,"jacket":1,"remove_odor":1,"water_outdoor":1,"mixed_wash":1,"fitness_clothes":1,"eco_wash":1,"childLock":1,"under_wear":1,"smell_good":1,"water_prevent_allergy":1,"fresh_remove_wrinkle":1,"auto_dispense":1,"new_water_cotton":1,"prevent_allergy":1,"color":1,"steep":1,"fast_wash":1,"water_intelligent":1,"cold_wash":1,"water_underwear":1,"bucket_self_clean":1,"steam_sterilize_wash":1,"summer":1,"smart_drive":1,"air_wash":1,"insight_wash":1,"sterilize_wash":1,"smart_specialist":1,"water_remove_mite_wash":1,"sport_clothes":1,"silk":1,"enzyme":1,"water_mixed_wash":1,"water_shirt":1,"devicePause":1,"rinse_dehydration":1,"outdoor":1,"wash_drying_60":1,"fast_wash_15":1,"shirt":1,"bath_towel":1,"single_drying":1,"night_fresh_wash":1&#125;,"deviceSN":"38111448"&#125;,"intent":&#123;"duration":"after|3600|sec","intentType":"devicePowerOn","negative":false,"allVerb":"false","fallBack":"å«ç”Ÿé—´æ´—è¡£æœº","slotMap":&#123;"duration":"after|3600|sec","classifier":"mideaDomain","nextRoundNeeded":false,"nextRoundNeededCount":0,"possibleDeviceNames":["æ´—è¡£æœº"]&#125;,"deviceVerb":"appointment","domain":"DeviceControl","location":"bathroom","slot":[&#123;"parameter":"duration","value":"after|3600|sec"&#125;,&#123;"parameter":"possibleDeviceNames","value":["æ´—è¡£æœº"]&#125;,&#123;"parameter":"classifier","value":"mideaDomain"&#125;,&#123;"parameter":"nextRoundNeeded","value":false&#125;,&#123;"parameter":"nextRoundNeededCount","value":0&#125;],"deviceName":"æ´—è¡£æœº","utterance":"å«ç”Ÿé—´æ´—è¡£æœº,æ´—è¡£æœºä¸€ä¸ªå°æ—¶åå¸®æˆ‘æ´—è¡£æœ"&#125;,"roomName":"å«ç”Ÿé—´"&#125;'</span></span><br><span class="line"><span class="built_in">print</span>(intentToJson(str))</span><br></pre></td></tr></table></figure>
</li>
<li><p>DCæµ‹è¯•è„šæœ¬ï¼š</p>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="comment">--require "T_0000_DC_NLU_LATEST"</span></span><br><span class="line"><span class="built_in">require</span> <span class="string">"T_0000_DC_NLU_GENERIC"</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">"------------------------------æ­£å¸¸æƒ…å†µ------------------------------"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">--å¼€æœº:</span></span><br><span class="line">str = <span class="string">'&#123;"deviceinfo":&#123;"deviceSubType":"5","deviceSN":"00000021122250939813008921430000"&#125;,"intent":&#123;"duration":null,"intentType":"devicePowerOn","negative":false,"fallBack":"æ‰“å¼€å¹²è¡£æœº","deviceVerb":"start","domain":"DeviceControl","location":"","slot":[&#123;"parameter":"nextRoundNeeded","value":false&#125;,&#123;"parameter":"nextRoundNeededCount","value":0&#125;],"deviceName":"å¹²è¡£æœº","utterance":"æ‰“å¼€å¹²è¡£æœº"&#125;,"devicestatus":&#123;&#125;&#125;'</span></span><br><span class="line"><span class="comment">--ç»“æœ: &#123;"error":&#123;&#125;,"control":&#123;"power":"on"&#125;&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(intentToJson(str))</span><br><span class="line"></span><br><span class="line"><span class="comment">--å…³æœº:</span></span><br><span class="line">str = <span class="string">'&#123;"deviceinfo":&#123;"deviceSubType":"5","deviceSN":"00000021122250939813008921430000"&#125;,"intent":&#123;"duration":null,"intentType":"devicePowerOff","negative":false,"fallBack":"å…³é—­å¹²è¡£æœº","deviceVerb":"stop","domain":"DeviceControl","location":"","slot":[&#123;"parameter":"nextRoundNeeded","value":false&#125;,&#123;"parameter":"nextRoundNeededCount","value":0&#125;],"deviceName":"å¹²è¡£æœº","utterance":"å…³é—­å¹²è¡£æœº"&#125;,"devicestatus":&#123;&#125;&#125;'</span></span><br><span class="line"><span class="comment">--ç»“æœ: &#123;"error":&#123;&#125;,"control":&#123;"power":"off"&#125;&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(intentToJson(str))</span><br><span class="line"></span><br><span class="line"><span class="comment">--å¯åŠ¨:</span></span><br><span class="line">str = <span class="string">'&#123;"deviceinfo":&#123;"deviceSubType":"5","deviceSN":"00000021122250939813008921430000"&#125;,"intent":&#123;"duration":null,"intentType":"deviceStart","negative":false,"fallBack":"å¯åŠ¨å¹²è¡£æœº","deviceVerb":"start","domain":"DeviceControl","location":"","slot":[&#123;"parameter":"nextRoundNeeded","value":false&#125;,&#123;"parameter":"nextRoundNeededCount","value":0&#125;],"deviceName":"å¹²è¡£æœº","utterance":"å¯åŠ¨å¹²è¡£æœº"&#125;,"devicestatus":&#123;&#125;&#125;'</span></span><br><span class="line"><span class="comment">--ç»“æœ: &#123;"error":&#123;&#125;,"control":&#123;"control_status":"start"&#125;&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(intentToJson(str))</span><br><span class="line"></span><br><span class="line"><span class="comment">--ç»§ç»­</span></span><br><span class="line">str = <span class="string">'&#123;"deviceinfo":&#123;"deviceSubType":"5","deviceSN":"00000021122250939813008921430000"&#125;,"intent":&#123;"duration":null,"intentType":"deviceResume","negative":false,"fallBack":"ç»§ç»­å¹²è¡£æœº","deviceVerb":"resume","domain":"DeviceControl","location":"","slot":[&#123;"parameter":"nextRoundNeeded","value":false&#125;,&#123;"parameter":"nextRoundNeededCount","value":0&#125;],"deviceName":"å¹²è¡£æœº","utterance":"ç»§ç»­å¹²è¡£æœº"&#125;,"devicestatus":&#123;&#125;&#125;'</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(intentToJson(str))</span><br><span class="line"></span><br><span class="line"><span class="comment">--æš‚åœ</span></span><br><span class="line">str = <span class="string">'&#123;"deviceinfo":&#123;"deviceSubType":"5","deviceSN":"00000021122250939813008921430000"&#125;,"intent":&#123;"duration":null,"intentType":"devicePause","negative":false,"fallBack":"æš‚åœå¹²è¡£æœº","deviceVerb":"pause","domain":"DeviceControl","location":"","slot":[&#123;"parameter":"nextRoundNeeded","value":false&#125;,&#123;"parameter":"nextRoundNeededCount","value":0&#125;],"deviceName":"å¹²è¡£æœº","utterance":"æš‚åœå¹²è¡£æœº"&#125;,"devicestatus":&#123;"running_status":"start"&#125;&#125;'</span></span><br><span class="line"><span class="comment">--ç»“æœ: &#123;"error":&#123;&#125;,"control":&#123;"control_status":"pause"&#125;&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(intentToJson(str))</span><br><span class="line"></span><br><span class="line"><span class="comment">--é€‰ç¨‹åº</span></span><br><span class="line">str = <span class="string">'&#123;"deviceinfo":&#123;"deviceSubType":"5","deviceSN":"00000021122250939813008921430000"&#125;,"intent":&#123;"duration":null,"intentType":"deviceSetFunction","negative":false,"allVerb":"false","fallBack":"å¹²è¡£æœºé€‰æ‹©æ£‰éº»ç¨‹åº","deviceVerb":"set","domain":"DeviceControl","location":"","slot":[&#123;"parameter":"deviceMode","value":"cotton"&#125;,&#123;"parameter":"possibleDeviceNames","value":["æ´—è¡£æœº"]&#125;,&#123;"parameter":"classifier","value":"mideaDomain"&#125;,&#123;"parameter":"nextRoundNeeded","value":false&#125;,&#123;"parameter":"nextRoundNeededCount","value":0&#125;],"deviceName":"å¹²è¡£æœº","utterance":"å¹²è¡£æœºé€‰æ‹©æ£‰éº»ç¨‹åº"&#125;,"devicestatus":&#123;"running_status":"standby"&#125;&#125;'</span></span><br><span class="line"><span class="comment">--ç»“æœ:</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(intentToJson(str))</span><br><span class="line"></span><br><span class="line"><span class="comment">--æŸ¥è¯¢å¹²è¡£æœºå‰©ä½™æ—¶é—´:</span></span><br><span class="line">str = <span class="string">'&#123;"deviceinfo":&#123;"deviceSubType":"5","deviceSN":"00000021122250939813008921430000"&#125;,"intent":&#123;"duration":null,"intentType":"deviceState","negative":false,"fallBack":"å¹²è¡£æœºå‰©ä½™æ—¶é—´","deviceVerb":null,"domain":"DeviceControl","location":"","slot":[&#123;"parameter":"deviceParameter","value":"duration"&#125;,&#123;"parameter":"nextRoundNeeded","value":false&#125;,&#123;"parameter":"nextRoundNeededCount","value":0&#125;],"deviceName":"å¹²è¡£æœº","utterance":"å¹²è¡£æœºå‰©ä½™æ—¶é—´"&#125;,"devicestatus":&#123;&#125;&#125;'</span></span><br><span class="line"><span class="comment">--ç»“æœ: &#123;"error":&#123;&#125;,"query":&#123;&#125;&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(intentToJson(str))</span><br><span class="line"></span><br><span class="line"><span class="comment">--æŸ¥è¯¢å¹²è¡£æœºå¤šä¹…çƒ˜å¥½è¡£æœ</span></span><br><span class="line">str = <span class="string">'&#123;"deviceinfo":&#123;"deviceSubType":"5","deviceSN":"00000021122250939813008921430000"&#125;,"intent":&#123;"duration":null,"intentType":"deviceState","negative":false,"allVerb":"false","fallBack":"å¹²è¡£æœºå¤šä¹…çƒ˜å¥½è¡£æœ","deviceVerb":null,"domain":"DeviceControl","location":"","slot":[&#123;"parameter":"deviceParameter","value":"duration"&#125;,&#123;"parameter":"deviceMode","value":"single_drying"&#125;,&#123;"parameter":"possibleDeviceNames","value":["å¹²è¡£æœº","æ´—è¡£æœº"]&#125;,&#123;"parameter":"classifier","value":"mideaDomain"&#125;,&#123;"parameter":"nextRoundNeeded","value":false&#125;,&#123;"parameter":"nextRoundNeededCount","value":0&#125;],"deviceName":"å¹²è¡£æœº","utterance":"å¹²è¡£æœºå¤šä¹…çƒ˜å¥½è¡£æœ"&#125;,"devicestatus":&#123;&#125;&#125;'</span></span><br><span class="line"><span class="built_in">print</span>(intentToJson(str))</span><br><span class="line"><span class="comment">--ç»“æœ: &#123;"error":&#123;&#125;,"query":&#123;&#125;&#125;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">"------------------------------äº’æ–¥æƒ…å†µ------------------------------"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">--å¼€æœºæƒ…å†µä¸‹å¼€æœº:</span></span><br><span class="line">str = <span class="string">'&#123;"deviceinfo":&#123;"deviceSubType":"5","deviceSN":"00000021122250939813008921430000"&#125;,"intent":&#123;"duration":null,"intentType":"devicePowerOn","negative":false,"fallBack":"æ‰“å¼€å¹²è¡£æœº","deviceVerb":"start","domain":"DeviceControl","location":"","slot":[&#123;"parameter":"nextRoundNeeded","value":false&#125;,&#123;"parameter":"nextRoundNeededCount","value":0&#125;],"deviceName":"å¹²è¡£æœº","utterance":"æ‰“å¼€å¹²è¡£æœº"&#125;,"devicestatus":&#123;"power":"on"&#125;&#125;'</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(intentToJson(str))</span><br><span class="line"></span><br><span class="line"><span class="comment">--å…³æœºæƒ…å†µä¸‹å…³æœº:</span></span><br><span class="line">str = <span class="string">'&#123;"deviceinfo":&#123;"deviceSubType":"5","deviceSN":"00000021122250939813008921430000"&#125;,"intent":&#123;"duration":null,"intentType":"devicePowerOff","negative":false,"fallBack":"å…³é—­å¹²è¡£æœº","deviceVerb":"stop","domain":"DeviceControl","location":"","slot":[&#123;"parameter":"nextRoundNeeded","value":false&#125;,&#123;"parameter":"nextRoundNeededCount","value":0&#125;],"deviceName":"å¹²è¡£æœº","utterance":"å…³é—­å¹²è¡£æœº"&#125;,"devicestatus":&#123;"power":"off"&#125;&#125;'</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(intentToJson(str))</span><br><span class="line"></span><br><span class="line"><span class="comment">--å¯åŠ¨æƒ…å†µä¸‹å¯åŠ¨:</span></span><br><span class="line">str = <span class="string">'&#123;"deviceinfo":&#123;"deviceSubType":"5","deviceSN":"00000021122250939813008921430000"&#125;,"intent":&#123;"duration":null,"intentType":"deviceStart","negative":false,"fallBack":"å¯åŠ¨å¹²è¡£æœº","deviceVerb":"start","domain":"DeviceControl","location":"","slot":[&#123;"parameter":"nextRoundNeeded","value":false&#125;,&#123;"parameter":"nextRoundNeededCount","value":0&#125;],"deviceName":"å¹²è¡£æœº","utterance":"å¯åŠ¨å¹²è¡£æœº"&#125;,"devicestatus":&#123;"running_status":"start"&#125;&#125;'</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(intentToJson(str))</span><br><span class="line"></span><br><span class="line"><span class="comment">--å¯åŠ¨æƒ…å†µä¸‹ç»§ç»­</span></span><br><span class="line">str = <span class="string">'&#123;"deviceinfo":&#123;"deviceSubType":"5","deviceSN":"00000021122250939813008921430000"&#125;,"intent":&#123;"duration":null,"intentType":"deviceResume","negative":false,"fallBack":"ç»§ç»­å¹²è¡£æœº","deviceVerb":"resume","domain":"DeviceControl","location":"","slot":[&#123;"parameter":"nextRoundNeeded","value":false&#125;,&#123;"parameter":"nextRoundNeededCount","value":0&#125;],"deviceName":"å¹²è¡£æœº","utterance":"ç»§ç»­å¹²è¡£æœº"&#125;,"devicestatus":&#123;"running_status":"start"&#125;&#125;'</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(intentToJson(str))</span><br><span class="line"></span><br><span class="line"><span class="comment">--æš‚åœæƒ…å†µä¸‹æš‚åœ</span></span><br><span class="line">str = <span class="string">'&#123;"deviceinfo":&#123;"deviceSubType":"5","deviceSN":"00000021122250939813008921430000"&#125;,"intent":&#123;"duration":null,"intentType":"devicePause","negative":false,"fallBack":"æš‚åœå¹²è¡£æœº","deviceVerb":"pause","domain":"DeviceControl","location":"","slot":[&#123;"parameter":"nextRoundNeeded","value":false&#125;,&#123;"parameter":"nextRoundNeededCount","value":0&#125;],"deviceName":"å¹²è¡£æœº","utterance":"æš‚åœå¹²è¡£æœº"&#125;,"devicestatus":&#123;"running_status":"pause"&#125;&#125;'</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(intentToJson(str))</span><br><span class="line"></span><br><span class="line"><span class="comment">--è¿è¡Œæƒ…å†µä¸‹(ç«¥é”æ‰“å¼€/å…³é—­)é€‰ç¨‹åº</span></span><br><span class="line">str = <span class="string">'&#123;"deviceinfo":&#123;"deviceSubType":"5","deviceSN":"00000021122250939813008921430000"&#125;,"intent":&#123;"duration":null,"intentType":"deviceSetFunction","negative":false,"allVerb":"false","fallBack":"å¹²è¡£æœºé€‰æ‹©æ£‰éº»ç¨‹åº","deviceVerb":"set","domain":"DeviceControl","location":"","slot":[&#123;"parameter":"deviceMode","value":"cotton"&#125;,&#123;"parameter":"possibleDeviceNames","value":["æ´—è¡£æœº"]&#125;,&#123;"parameter":"classifier","value":"mideaDomain"&#125;,&#123;"parameter":"nextRoundNeeded","value":false&#125;,&#123;"parameter":"nextRoundNeededCount","value":0&#125;],"deviceName":"å¹²è¡£æœº","utterance":"å¹²è¡£æœºé€‰æ‹©æ£‰éº»ç¨‹åº"&#125;,"devicestatus":&#123;"running_status":"start","baby_lock":1&#125;&#125;'</span></span><br><span class="line"><span class="built_in">print</span>(intentToJson(str))</span><br><span class="line"></span><br><span class="line">str = <span class="string">'&#123;"checkSkillResult":true,"baseScriptName":"","deviceMode":["big_dry"],"localNluScriptName":"","remoteNluScriptName":"T_0000_DB_NLU_V2_GENERIC","devicestatus":&#123;"dryness_level":0,"dry_time":0,"prevent_wrinkle":0,"appointment":0,"program":"mixed_wash","prevent_wrinkle_switch":0,"dry_temp":0,"remind_sound":0,"steam":2,"remain_time":90,"door_warn":0,"power":"on","sterilize":0,"ai_switch":0,"bucket_clean_switch":0,"eco_dry_switch":0,"steam_switch":0,"water_box":0,"appointment_time":0,"damp_dry_signal":0,"version":4,"running_status":"standby","intensity":1,"project_no":12597,"material":0,"light":0,"progress":1,"error_code":0,"baby_lock":0&#125;,"deviceinfo":&#123;"deviceSubType":"12597","skillAttribute":&#123;&#125;,"deviceSN":"66665555"&#125;,"intent":&#123;"intentType":"deviceSetFunction","negative":false,"allVerb":"false","fallBack":"å¹²è¡£æœºé€‰æ‹©å¤§ä»¶çƒ˜","slotMap":&#123;"deviceMode":"big_dry","classifier":"mideaDomain","nextRoundNeeded":false,"nextRoundNeededCount":0,"possibleDeviceNames":["å¹²è¡£æœº"]&#125;,"deviceVerb":"set","domain":"DeviceControl","location":"","slot":[&#123;"parameter":"deviceMode","value":"big_dry"&#125;,&#123;"parameter":"possibleDeviceNames","value":["å¹²è¡£æœº"]&#125;,&#123;"parameter":"classifier","value":"mideaDomain"&#125;,&#123;"parameter":"nextRoundNeeded","value":false&#125;,&#123;"parameter":"nextRoundNeededCount","value":0&#125;],"deviceName":"å¹²è¡£æœº","utterance":"å¹²è¡£æœºé€‰æ‹©å¤§ä»¶çƒ˜"&#125;,"roomName":"é˜³å°","isLocal":false&#125;'</span></span><br><span class="line"><span class="built_in">print</span>(intentToJson(str))</span><br></pre></td></tr></table></figure>
</li>
<li><p>D9æµ‹è¯•è„šæœ¬ï¼š</p>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="built_in">require</span> <span class="string">"T_0000_D9_NLU_LATEST"</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">"------------------------------æ­£å¸¸æƒ…å†µ------------------------------"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">--å¼€æœº</span></span><br><span class="line">str = <span class="string">'&#123;"deviceinfo":&#123;"deviceSubType":"5","deviceSN":"00000021122250939813008921430000"&#125;,"intent":&#123;"duration":null,"intentType":"devicePowerOn","negative":false,"fallBack":"æ‰“å¼€å¤å¼æœº","deviceVerb":"start","domain":"DeviceControl","location":"","slot":[&#123;"parameter":"nextRoundNeeded","value":false&#125;,&#123;"parameter":"nextRoundNeededCount","value":0&#125;],"deviceName":"å¤å¼æœº","utterance":"æ‰“å¼€å¤å¼æœº"&#125;,"devicestatus":&#123;"power":"off"&#125;&#125;'</span></span><br><span class="line"><span class="comment">--ç»“æœ: &#123;"error":&#123;&#125;,"control":&#123;"bucket":"db","db_power":"on"&#125;&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(intentToJson(str))</span><br><span class="line"></span><br><span class="line"><span class="comment">--å…³æœº:</span></span><br><span class="line">str = <span class="string">'&#123;"deviceinfo":&#123;"deviceSubType":"5","deviceSN":"00000021122250939813008921430000"&#125;,"intent":&#123;"duration":null,"intentType":"devicePowerOff","negative":false,"fallBack":"å…³é—­å¤å¼æœº","deviceVerb":"stop","domain":"DeviceControl","location":"","slot":[&#123;"parameter":"nextRoundNeeded","value":false&#125;,&#123;"parameter":"nextRoundNeededCount","value":0&#125;],"deviceName":"å¤å¼æœº","utterance":"å…³é—­å¤å¼æœº"&#125;,"devicestatus":&#123;"power":"on"&#125;&#125;'</span></span><br><span class="line"><span class="comment">--ç»“æœ: &#123;"error":&#123;&#125;,"control":&#123;"bucket":"db","db_power":"off"&#125;&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(intentToJson(str))</span><br><span class="line"></span><br><span class="line"><span class="comment">--å¯åŠ¨ä¸Šæ¡¶</span></span><br><span class="line">str = <span class="string">'&#123;"deviceinfo":&#123;"deviceSubType":"5","deviceSN":"00000021122250939813008921430000"&#125;,"intent":&#123;"duration":null,"intentType":"deviceStart","negative":false,"fallBack":"å¯åŠ¨å¤å¼æœºä¸Šæ¡¶","deviceVerb":"start","domain":"DeviceControl","location":"","slot":[&#123;"parameter":"deviceComponent","value":"ä¸Šæ¡¶"&#125;,&#123;"parameter":"nextRoundNeeded","value":false&#125;,&#123;"parameter":"nextRoundNeededCount","value":0&#125;],"deviceName":"å¤å¼æœº","utterance":"å¯åŠ¨å¤å¼æœºä¸Šæ¡¶"&#125;,"devicestatus":&#123;&#125;&#125;'</span></span><br><span class="line"><span class="comment">--ç»“æœ: &#123;"error":&#123;&#125;,"control":&#123;"bucket":"da","da_control_status":"start"&#125;&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(intentToJson(str))</span><br><span class="line"></span><br><span class="line"><span class="comment">--å¯åŠ¨ä¸‹æ¡¶</span></span><br><span class="line">str = <span class="string">'&#123;"deviceinfo":&#123;"deviceSubType":"5","deviceSN":"00000021122250939813008921430000"&#125;,"intent":&#123;"duration":null,"intentType":"deviceStart","negative":false,"fallBack":"å¯åŠ¨å¤å¼æœºä¸‹æ¡¶","deviceVerb":"start","domain":"DeviceControl","location":"","slot":[&#123;"parameter":"deviceComponent","value":"ä¸‹æ¡¶"&#125;,&#123;"parameter":"nextRoundNeeded","value":false&#125;,&#123;"parameter":"nextRoundNeededCount","value":0&#125;],"deviceName":"å¤å¼æœº","utterance":"å¯åŠ¨å¤å¼æœºä¸‹æ¡¶"&#125;,"devicestatus":&#123;&#125;&#125;'</span></span><br><span class="line"><span class="comment">--ç»“æœ: &#123;"error":&#123;&#125;,"control":&#123;"bucket":"db","db_control_status":"start"&#125;&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(intentToJson(str))</span><br><span class="line"></span><br><span class="line"><span class="comment">--ä¸Šæ¡¶ç»§ç»­</span></span><br><span class="line">str = <span class="string">'&#123;"deviceinfo":&#123;"deviceSubType":"5","deviceSN":"00000021122250939813008921430000"&#125;,"intent":&#123;"duration":null,"intentType":"deviceResume","negative":false,"fallBack":"ç»§ç»­å¤å¼æœºä¸Šæ¡¶","deviceVerb":"resume","domain":"DeviceControl","location":"","slot":[&#123;"parameter":"deviceComponent","value":"ä¸Šæ¡¶"&#125;,&#123;"parameter":"nextRoundNeeded","value":false&#125;,&#123;"parameter":"nextRoundNeededCount","value":0&#125;],"deviceName":"å¤å¼æœº","utterance":"ç»§ç»­å¤å¼æœºä¸Šæ¡¶"&#125;,"devicestatus":&#123;&#125;&#125;'</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(intentToJson(str))</span><br><span class="line"></span><br><span class="line"><span class="comment">--ä¸‹æ¡¶ç»§ç»­</span></span><br><span class="line">str = <span class="string">'&#123;"deviceinfo":&#123;"deviceSubType":"5","deviceSN":"00000021122250939813008921430000"&#125;,"intent":&#123;"duration":null,"intentType":"deviceResume","negative":false,"fallBack":"ç»§ç»­å¤å¼æœºä¸‹æ¡¶","deviceVerb":"resume","domain":"DeviceControl","location":"","slot":[&#123;"parameter":"deviceComponent","value":"ä¸‹æ¡¶"&#125;,&#123;"parameter":"nextRoundNeeded","value":false&#125;,&#123;"parameter":"nextRoundNeededCount","value":0&#125;],"deviceName":"å¤å¼æœº","utterance":"ç»§ç»­å¤å¼æœºä¸‹æ¡¶"&#125;,"devicestatus":&#123;&#125;&#125;'</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(intentToJson(str))</span><br><span class="line"></span><br><span class="line"><span class="comment">--æš‚åœä¸Šæ¡¶</span></span><br><span class="line">str = <span class="string">'&#123;"deviceinfo":&#123;"deviceSubType":"5","deviceSN":"00000021122250939813008921430000"&#125;,"intent":&#123;"duration":null,"intentType":"devicePause","negative":false,"fallBack":"æš‚åœå¤å¼æœºä¸Šæ¡¶","deviceVerb":"pause","domain":"DeviceControl","location":"","slot":[&#123;"parameter":"deviceComponent","value":"ä¸Šæ¡¶"&#125;,&#123;"parameter":"nextRoundNeeded","value":false&#125;,&#123;"parameter":"nextRoundNeededCount","value":0&#125;],"deviceName":"å¤å¼æœº","utterance":"æš‚åœå¤å¼æœºä¸Šæ¡¶"&#125;,"devicestatus":&#123;"da_running_status":"start"&#125;&#125;'</span></span><br><span class="line"><span class="comment">--ç»“æœ: &#123;"error":&#123;&#125;,"control":&#123;"bucket":"da","da_control_status":"pause"&#125;&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(intentToJson(str))</span><br><span class="line"></span><br><span class="line"><span class="comment">--æš‚åœä¸‹æ¡¶</span></span><br><span class="line">str = <span class="string">'&#123;"deviceinfo":&#123;"deviceSubType":"5","deviceSN":"00000021122250939813008921430000"&#125;,"intent":&#123;"duration":null,"intentType":"devicePause","negative":false,"fallBack":"æš‚åœå¤å¼æœºä¸‹æ¡¶","deviceVerb":"pause","domain":"DeviceControl","location":"","slot":[&#123;"parameter":"deviceComponent","value":"ä¸‹æ¡¶"&#125;,&#123;"parameter":"nextRoundNeeded","value":false&#125;,&#123;"parameter":"nextRoundNeededCount","value":0&#125;],"deviceName":"å¤å¼æœº","utterance":"æš‚åœå¤å¼æœºä¸‹æ¡¶"&#125;,"devicestatus":&#123;"db_running_status":"start"&#125;&#125;'</span></span><br><span class="line"><span class="comment">--ç»“æœ: &#123;"error":&#123;&#125;,"control":&#123;"bucket":"db","db_control_status":"pause"&#125;&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(intentToJson(str))</span><br><span class="line"></span><br><span class="line"><span class="comment">--æŸ¥è¯¢ä¸Šæ¡¶å‰©ä½™æ—¶é—´:</span></span><br><span class="line">str = <span class="string">'&#123;"deviceinfo":&#123;"deviceSubType":"5","deviceSN":"00000021122250939813008921430000"&#125;,"intent":&#123;"duration":null,"intentType":"deviceState","negative":false,"fallBack":"å¤å¼æœºä¸Šæ¡¶å‰©ä½™æ—¶é—´","deviceVerb":null,"domain":"DeviceControl","location":"","slot":[&#123;"parameter":"deviceParameter","value":"duration"&#125;,&#123;"parameter":"deviceComponent","value":"ä¸Šæ¡¶"&#125;,&#123;"parameter":"nextRoundNeeded","value":false&#125;,&#123;"parameter":"nextRoundNeededCount","value":0&#125;],"deviceName":"å¤å¼æœº","utterance":"å¤å¼æœºä¸Šæ¡¶å‰©ä½™æ—¶é—´"&#125;,"devicestatus":&#123;&#125;&#125;'</span></span><br><span class="line"><span class="comment">--ç»“æœ: &#123;"error":&#123;&#125;,"query":&#123;"query_type":"da"&#125;&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(intentToJson(str))</span><br><span class="line"></span><br><span class="line"><span class="comment">--æŸ¥è¯¢ä¸‹æ¡¶å‰©ä½™æ—¶é—´:</span></span><br><span class="line">str = <span class="string">'&#123;"deviceinfo":&#123;"deviceSubType":"5","deviceSN":"00000021122250939813008921430000"&#125;,"intent":&#123;"duration":null,"intentType":"deviceState","negative":false,"fallBack":"å¤å¼æœºä¸‹æ¡¶å‰©ä½™æ—¶é—´","deviceVerb":null,"domain":"DeviceControl","location":"","slot":[&#123;"parameter":"deviceParameter","value":"duration"&#125;,&#123;"parameter":"deviceComponent","value":"ä¸‹æ¡¶"&#125;,&#123;"parameter":"nextRoundNeeded","value":false&#125;,&#123;"parameter":"nextRoundNeededCount","value":0&#125;],"deviceName":"å¤å¼æœº","utterance":"å¤å¼æœºä¸‹æ¡¶å‰©ä½™æ—¶é—´"&#125;,"devicestatus":&#123;&#125;&#125;'</span></span><br><span class="line"><span class="comment">--ç»“æœ: &#123;"error":&#123;&#125;,"query":&#123;"query_type":"db"&#125;&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(intentToJson(str))</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">"------------------------------äº’æ–¥æƒ…å†µ------------------------------"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">--å¼€æœºæƒ…å†µä¸‹å¼€æœº</span></span><br><span class="line">str = <span class="string">'&#123;"deviceinfo":&#123;"deviceSubType":"5","deviceSN":"00000021122250939813008921430000"&#125;,"intent":&#123;"duration":null,"intentType":"devicePowerOn","negative":false,"fallBack":"æ‰“å¼€å¤å¼æœº","deviceVerb":"start","domain":"DeviceControl","location":"","slot":[&#123;"parameter":"nextRoundNeeded","value":false&#125;,&#123;"parameter":"nextRoundNeededCount","value":0&#125;],"deviceName":"å¤å¼æœº","utterance":"æ‰“å¼€å¤å¼æœº"&#125;,"devicestatus":&#123;"db_power":"on"&#125;&#125;'</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(intentToJson(str))</span><br><span class="line"></span><br><span class="line"><span class="comment">--å…³æœºæƒ…å†µä¸‹å…³æœº:</span></span><br><span class="line">str = <span class="string">'&#123;"deviceinfo":&#123;"deviceSubType":"5","deviceSN":"00000021122250939813008921430000"&#125;,"intent":&#123;"duration":null,"intentType":"devicePowerOff","negative":false,"fallBack":"å…³é—­å¤å¼æœº","deviceVerb":"stop","domain":"DeviceControl","location":"","slot":[&#123;"parameter":"nextRoundNeeded","value":false&#125;,&#123;"parameter":"nextRoundNeededCount","value":0&#125;],"deviceName":"å¤å¼æœº","utterance":"å…³é—­å¤å¼æœº"&#125;,"devicestatus":&#123;"db_power":"off"&#125;&#125;'</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(intentToJson(str))</span><br><span class="line"></span><br><span class="line"><span class="comment">--ä¸Šæ¡¶è¿è¡Œæƒ…å†µä¸‹å¯åŠ¨ä¸Šæ¡¶</span></span><br><span class="line">str = <span class="string">'&#123;"deviceinfo":&#123;"deviceSubType":"5","deviceSN":"00000021122250939813008921430000"&#125;,"intent":&#123;"duration":null,"intentType":"deviceStart","negative":false,"fallBack":"å¯åŠ¨å¤å¼æœºä¸Šæ¡¶","deviceVerb":"start","domain":"DeviceControl","location":"","slot":[&#123;"parameter":"deviceComponent","value":"ä¸Šæ¡¶"&#125;,&#123;"parameter":"nextRoundNeeded","value":false&#125;,&#123;"parameter":"nextRoundNeededCount","value":0&#125;],"deviceName":"å¤å¼æœº","utterance":"å¯åŠ¨å¤å¼æœºä¸Šæ¡¶"&#125;,"devicestatus":&#123;"da_running_status":"start"&#125;&#125;'</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(intentToJson(str))</span><br><span class="line"></span><br><span class="line"><span class="comment">--ä¸‹æ¡¶è¿è¡Œæƒ…å†µä¸‹å¯åŠ¨ä¸‹æ¡¶</span></span><br><span class="line">str = <span class="string">'&#123;"deviceinfo":&#123;"deviceSubType":"5","deviceSN":"00000021122250939813008921430000"&#125;,"intent":&#123;"duration":null,"intentType":"deviceStart","negative":false,"fallBack":"å¯åŠ¨å¤å¼æœºä¸‹æ¡¶","deviceVerb":"start","domain":"DeviceControl","location":"","slot":[&#123;"parameter":"deviceComponent","value":"ä¸‹æ¡¶"&#125;,&#123;"parameter":"nextRoundNeeded","value":false&#125;,&#123;"parameter":"nextRoundNeededCount","value":0&#125;],"deviceName":"å¤å¼æœº","utterance":"å¯åŠ¨å¤å¼æœºä¸‹æ¡¶"&#125;,"devicestatus":&#123;"db_running_status":"start"&#125;&#125;'</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(intentToJson(str))</span><br><span class="line"></span><br><span class="line"><span class="comment">--ä¸Šæ¡¶è¿è¡Œæƒ…å†µä¸‹ç»§ç»­</span></span><br><span class="line">str = <span class="string">'&#123;"deviceinfo":&#123;"deviceSubType":"5","deviceSN":"00000021122250939813008921430000"&#125;,"intent":&#123;"duration":null,"intentType":"deviceResume","negative":false,"fallBack":"ç»§ç»­å¤å¼æœºä¸Šæ¡¶","deviceVerb":"resume","domain":"DeviceControl","location":"","slot":[&#123;"parameter":"deviceComponent","value":"ä¸Šæ¡¶"&#125;,&#123;"parameter":"nextRoundNeeded","value":false&#125;,&#123;"parameter":"nextRoundNeededCount","value":0&#125;],"deviceName":"å¤å¼æœº","utterance":"ç»§ç»­å¤å¼æœºä¸Šæ¡¶"&#125;,"devicestatus":&#123;"da_running_status":"start"&#125;&#125;'</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(intentToJson(str))</span><br><span class="line"></span><br><span class="line"><span class="comment">--ä¸‹æ¡¶è¿è¡Œæƒ…å†µä¸‹ç»§ç»­</span></span><br><span class="line">str = <span class="string">'&#123;"deviceinfo":&#123;"deviceSubType":"5","deviceSN":"00000021122250939813008921430000"&#125;,"intent":&#123;"duration":null,"intentType":"deviceResume","negative":false,"fallBack":"ç»§ç»­å¤å¼æœºä¸‹æ¡¶","deviceVerb":"resume","domain":"DeviceControl","location":"","slot":[&#123;"parameter":"deviceComponent","value":"ä¸‹æ¡¶"&#125;,&#123;"parameter":"nextRoundNeeded","value":false&#125;,&#123;"parameter":"nextRoundNeededCount","value":0&#125;],"deviceName":"å¤å¼æœº","utterance":"ç»§ç»­å¤å¼æœºä¸‹æ¡¶"&#125;,"devicestatus":&#123;"db_running_status":"start"&#125;&#125;'</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(intentToJson(str))</span><br><span class="line"></span><br><span class="line"><span class="comment">--ä¸Šæ¡¶æš‚åœæƒ…å†µä¸‹æš‚åœä¸Šæ¡¶</span></span><br><span class="line">str = <span class="string">'&#123;"deviceinfo":&#123;"deviceSubType":"5","deviceSN":"00000021122250939813008921430000"&#125;,"intent":&#123;"duration":null,"intentType":"devicePause","negative":false,"fallBack":"æš‚åœå¤å¼æœºä¸Šæ¡¶","deviceVerb":"pause","domain":"DeviceControl","location":"","slot":[&#123;"parameter":"deviceComponent","value":"ä¸Šæ¡¶"&#125;,&#123;"parameter":"nextRoundNeeded","value":false&#125;,&#123;"parameter":"nextRoundNeededCount","value":0&#125;],"deviceName":"å¤å¼æœº","utterance":"æš‚åœå¤å¼æœºä¸Šæ¡¶"&#125;,"devicestatus":&#123;"da_running_status":"pause"&#125;&#125;'</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(intentToJson(str))</span><br><span class="line"></span><br><span class="line"><span class="comment">--ä¸‹æ¡¶æš‚åœæƒ…å†µä¸‹æš‚åœä¸‹æ¡¶</span></span><br><span class="line">str = <span class="string">'&#123;"deviceinfo":&#123;"deviceSubType":"5","deviceSN":"00000021122250939813008921430000"&#125;,"intent":&#123;"duration":null,"intentType":"devicePause","negative":false,"fallBack":"æš‚åœå¤å¼æœºä¸‹æ¡¶","deviceVerb":"pause","domain":"DeviceControl","location":"","slot":[&#123;"parameter":"deviceComponent","value":"ä¸‹æ¡¶"&#125;,&#123;"parameter":"nextRoundNeeded","value":false&#125;,&#123;"parameter":"nextRoundNeededCount","value":0&#125;],"deviceName":"å¤å¼æœº","utterance":"æš‚åœå¤å¼æœºä¸‹æ¡¶"&#125;,"devicestatus":&#123;"db_running_status":"pause"&#125;&#125;'</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(intentToJson(str))</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h2 id="å·¥å…·ä½¿ç”¨"><a href="#å·¥å…·ä½¿ç”¨" class="headerlink" title="å·¥å…·ä½¿ç”¨"></a>å·¥å…·ä½¿ç”¨</h2><ol>
<li><p>è¯­æ–™å¯¹åº”æ„å›¾è¾“å‡ºï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/b8f05b8f04a933c806e87504390cc1e8-317446" alt="è¯­æ–™å¯¹åº”æ„å›¾è¾“å‡º"></p>
</li>
<li><p>è¯­éŸ³æ—¥å¿—æŸ¥è¯¢ï¼ˆæ³¨æ„ç¯å¢ƒï¼‰ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/c10055657838043635885d369a763281-525774" alt="æ—¥å¿—æŸ¥è¯¢"></p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/821d580496cc59dd052f63e7e7bb85b5-1077847" alt="å…³æ³¨ç‚¹"></p>
</li>
<li><p>å¤„ç†å…³æ³¨ç‚¹å†…å®¹ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/8979e8471624f07581494ab804ac7694-551903" alt="ç¼–ç è½¬æ¢"></p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/22ebcccd9e8e6b171b901c87c8a7d7fb-629118" alt="ç¼–ç å…³æ³¨ç‚¹"></p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/035cdafd7313563041cea79c2da151e5-892719" alt="ç¾åŒ–json"></p>
<ul>
<li>ç¾åŒ–åçš„jsonå¯ä»¥è¾…åŠ©é˜…è¯»ä»£ç ï¼Œæ’é™¤é—®é¢˜ï¼</li>
</ul>
</li>
</ol>
<h2 id="å¸¸ç”¨ç½‘å€ï¼š"><a href="#å¸¸ç”¨ç½‘å€ï¼š" class="headerlink" title="å¸¸ç”¨ç½‘å€ï¼š"></a>å¸¸ç”¨ç½‘å€ï¼š</h2><ul>
<li><p><a href="https://nlu.sit.aimidea.cn:22012/test-nlu.html" target="_blank" rel="noopener">è¯­æ–™å¯¹åº”çš„æ„å›¾è¾“å‡º</a></p>
</li>
<li><p><a href="http://logs-sit.aimidea.cn/app/kibana#/discover" target="_blank" rel="noopener">SITç¯å¢ƒè¯­éŸ³æ—¥å¿—</a> </p>
</li>
<li><p><del><a href="http://logs-uat.aimidea.cn/app/kibana#/discover" target="_blank" rel="noopener">UATç¯å¢ƒè¯­éŸ³æ—¥å¿—</a> ï¼ˆè´¦å·ï¼šbu_test_engineer-uatï¼Œå¯†ç ï¼š!@#qweï¼‰</del></p>
</li>
<li><p><a href="http://logs-prod.aimidea.cn/app/kibana#/discover" target="_blank" rel="noopener">PROç¯å¢ƒè¯­éŸ³æ—¥å¿—</a> ï¼ˆè´¦å·ï¼šbu_test_engineerï¼Œå¯†ç ï¼š!@#qweï¼‰</p>
<ul>
<li><p>æœç´¢ï¼ˆæ´—è¡£æœºäº‹ä¸šéƒ¨ï¼‰ï¼š</p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">DAï¼š</span><br><span class="line">("control" AND "applianceCode=3298544978875") OR ("jsonOrder" AND "typeNo=DA")</span><br><span class="line"></span><br><span class="line">DBï¼š</span><br><span class="line">("control" AND "applianceCode=160528697745464") OR ("jsonOrder" AND "typeNo=DB")</span><br><span class="line"></span><br><span class="line">DCï¼š</span><br><span class="line">("control" AND "applianceCode=162727720993914") OR ("jsonOrder" AND "typeNo=DC")</span><br><span class="line"></span><br><span class="line">D9ï¼š</span><br><span class="line">("control" AND "applianceCode=3298544980422") OR ("jsonOrder" AND "typeNo=D9")</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p><a href="https://admin.aimidea.cn/#/login" target="_blank" rel="noopener">çº¿ä¸Šç¯å¢ƒæœºå‹è¯­éŸ³ç®¡ç†</a> è´¦æˆ·å¯†ç 123456 <strong>çº¿ä¸Šç¯å¢ƒéœ€è¦å·¥ç¨‹å¸ˆåˆ·æ–°ç¼“å­˜</strong></p>
</li>
<li><p><a href="http://admin-sit.aimidea.cn/#/login" target="_blank" rel="noopener">SITç¯å¢ƒæœºå‹è¯­éŸ³ç®¡ç†</a> è´¦æˆ·å¯†ç 123456</p>
</li>
<li><p><a href="http://sit.aimidea.cn:11003/v1/skill/refreshSkillConfig?topic=refreshSkillCache&categoryNo=DB" target="_blank" rel="noopener">SITç¯å¢ƒåˆ·æ–°ç¼“å­˜</a> ä¿®æ”¹å¯¹åº”çš„ç‰ˆæœ¬ï¼Œæ¯”å¦‚DA</p>
</li>
<li><p><a href="http://wmspecs.oss-cn-hangzhou.aliyuncs.com/midea_json_new/DB/0000.db.29233.json" target="_blank" rel="noopener">è¯­éŸ³æ´—è¡£æœºå‹å·åŠŸèƒ½æœç´¢</a></p>
</li>
</ul>
<h2 id="æ¨èå°å·¥å…·"><a href="#æ¨èå°å·¥å…·" class="headerlink" title="æ¨èå°å·¥å…·"></a>æ¨èå°å·¥å…·</h2><h3 id="FeHelperï¼ˆè°·æ­Œæµè§ˆå™¨æ’ä»¶ï¼‰"><a href="#FeHelperï¼ˆè°·æ­Œæµè§ˆå™¨æ’ä»¶ï¼‰" class="headerlink" title="FeHelperï¼ˆè°·æ­Œæµè§ˆå™¨æ’ä»¶ï¼‰"></a>FeHelperï¼ˆè°·æ­Œæµè§ˆå™¨æ’ä»¶ï¼‰</h3><p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/0d534f45d897efc3db9505dba640cdbb-746530" alt="ç›®å‰æ”¯æŒåŠŸèƒ½"></p>
<h1 id="æ³¨æ„äº‹é¡¹"><a href="#æ³¨æ„äº‹é¡¹" class="headerlink" title="æ³¨æ„äº‹é¡¹"></a>æ³¨æ„äº‹é¡¹</h1>]]></content>
      <categories>
        <category>Work</category>
      </categories>
  </entry>
  <entry>
    <title>Java æ ¸å¿ƒæŠ€æœ¯-åŸºç¡€çŸ¥è¯†</title>
    <url>/2020/06/01/Java-%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF-%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>Javaçš„æˆåŠŸæ—¢æœ‰æŠ€æœ¯ä¸Šçš„åŸå› ï¼Œä¹Ÿæœ‰éæŠ€æœ¯ä¸Šçš„åŸå› ã€‚Javaç‰¹åˆ«æ³¨é‡æ¶æ„çš„åˆç†æ€§ï¼Œå¹³å°ã€æ¶æ„ã€æ¡†æ¶ç­‰å­˜åœ¨å¤§é‡çš„é€‰æ‹©ã€å¼€å‘èµ„æºä¸°å¯Œï¼å­¦ä¹ ä»»ä½•ä¸€ç§è¯­è¨€ï¼šå»é™¤æµ®èºã€è®¤çœŸå­¦ä¹ ã€ä¸æ–­ç§¯ç´¯ã€å¯»æ‰¾æœºé‡ï¼Javaæœ€æˆåŠŸçš„åœ°æ–¹æ˜¯æœåŠ¡å™¨åç«¯ï¼<strong>æ¨èä¹¦ç±ï¼šã€ŠJava æ ¸å¿ƒæŠ€æœ¯ å·ä¸€ï¼šåŸºç¡€çŸ¥è¯†ï¼ˆç¬¬8ç‰ˆï¼‰ï¼ˆè¯„æ³¨ç‰ˆï¼‰ã€‹Â· [ç¾] Cay S. Horstmann, Gary Cornell è‘—</strong></p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="Javaç®€å²"><a href="#Javaç®€å²" class="headerlink" title="Javaç®€å²"></a>Javaç®€å²</h2><ol>
<li>1991å¹´ï¼ŒGreené¡¹ç›®ï¼Œå¼€å‘è¯­è¨€æœ€åˆå‘½åä¸ºOak (æ©¡æ ‘)</li>
<li>1994å¹´ï¼Œå¼€å‘ç»„æ„è¯†åˆ°Oak éå¸¸é€‚åˆäºäº’è”ç½‘</li>
<li>1996å¹´ï¼Œå‘å¸ƒJDK 1.0ï¼Œçº¦8.3ä¸‡ä¸ªç½‘é¡µåº”ç”¨JavaæŠ€æœ¯æ¥åˆ¶ä½œ</li>
<li>1997å¹´ï¼Œå‘å¸ƒJDK 1.1ï¼ŒJavaOneä¼šè®®å¬å¼€ï¼Œåˆ›å½“æ—¶å…¨çƒåŒç±»ä¼šè®®è§„æ¨¡ä¹‹æœ€</li>
<li>1998å¹´ï¼Œå‘å¸ƒJDK 1.2ï¼ŒåŒå¹´å‘å¸ƒä¼ä¸šå¹³å°J2EE</li>
<li>1999å¹´ï¼ŒJavaåˆ†æˆJ2SEã€J2EEå’ŒJ2MEï¼ŒJSP/ServletæŠ€æœ¯è¯ç”Ÿã€‚</li>
<li>2004å¹´ï¼Œå‘å¸ƒé‡Œç¨‹ç¢‘å¼ç‰ˆæœ¬ï¼šJDK 1.5ï¼Œä¸ºçªå‡ºæ­¤ç‰ˆæœ¬çš„é‡è¦æ€§ï¼Œæ›´åä¸ºJDK 5.0</li>
<li>2005å¹´ï¼ŒJ2SE -&gt; JavaSEï¼ŒJ2EE -&gt; JavaEEï¼ŒJ2ME -&gt; JavaME</li>
<li>2009å¹´ï¼ŒOracleå…¬å¸æ”¶è´­SUNï¼Œäº¤æ˜“ä»·æ ¼74äº¿ç¾å…ƒã€‚</li>
<li>2011å¹´ï¼Œå‘å¸ƒJDK 7.0</li>
<li>2014å¹´ï¼Œå‘å¸ƒJDK 8.0ï¼Œæ˜¯ç»§JDK 5.0ä»¥æ¥å˜åŒ–æœ€å¤§çš„ç‰ˆæœ¬ã€‚</li>
<li>2017å¹´ï¼Œå‘å¸ƒJDK 9.0ï¼Œæœ€å¤§é™åº¦å®ç°æ¨¡å—åŒ–</li>
<li>2018å¹´3æœˆï¼Œå‘å¸ƒJDK 10.0ï¼Œç‰ˆæœ¬å·ä¹Ÿç§°ä¸º18.3</li>
<li>2018å¹´9æœˆï¼Œå‘å¸ƒJDK 11.0ï¼Œç‰ˆæœ¬å·ä¹Ÿç§°ä¸º18.9</li>
</ol>
<h2 id="åŸºç¡€çŸ¥è¯†"><a href="#åŸºç¡€çŸ¥è¯†" class="headerlink" title="åŸºç¡€çŸ¥è¯†"></a>åŸºç¡€çŸ¥è¯†</h2><ol>
<li><p>Javaçš„è¯­æ³•å‚ç…§äº†C++çš„è¯­æ³•ï¼Œå› æ­¤ï¼Œå­¦è¿‡C++çš„å¼€å‘äººå‘˜å¾ˆå®¹æ˜“å…¥æ‰‹Javaï¼›</p>
</li>
<li><p>Javaæºä»£ç ç¼–è¯‘åç”Ÿæˆçš„Bytecodeå½¢å¼çš„æ–‡ä»¶ä¸èƒ½ç›´æ¥åœ¨æ“ä½œç³»ç»Ÿä¸Šæ‰§è¡Œï¼Œå¿…é¡»ç”±Javaè™šæ‹Ÿæœºï¼ˆJVMï¼‰æ¥è§£é‡Šæ‰§è¡Œï¼›</p>
</li>
<li><p>è™šæ‹Ÿæœºæ–¹å¼çš„ä¼˜ç¼ºç‚¹ï¼š</p>
<ul>
<li>ç¨‹åºè¿è¡Œæ•ˆç‡æœ‰æ‰€é™ä½ï¼›</li>
<li>å¿…é¡»å®‰è£…Javaè¿è¡Œç¯å¢ƒï¼ˆJava Runtime Environmentï¼ŒJREï¼‰ï¼Œä»¥ä¾¿ç”±JVMæ¥è§£é‡Šæ‰§è¡ŒJavaç¨‹åº</li>
<li>ä¸€æ¬¡ç¼–è¯‘ï¼Œåˆ°å¤„è¿è¡Œï¼Œå³å…·å¤‡äº†å¾ˆå¥½çš„è·¨å¹³å°å¯ç§»æ¤æ€§ï¼Œè™šæ‹Ÿæœºæœºåˆ¶å±è”½äº†åº•å±‚è¿è¡Œå¹³å°çš„å·®åˆ«</li>
</ul>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/2d3c5ad2c5ca0f4f486c7db058c883b0-51715" alt="Javaè·¨å¹³å°"></p>
</li>
<li><p>Javaè¯­è¨€çš„è®¾è®¡ä½“ç°äº†åˆ†å±‚çš„æ€æƒ³ï¼Œåˆ†å±‚æ˜¯æ¶æ„è®¾è®¡ä¸­çš„ä¸€ä¸ªé‡è¦æ€æƒ³ï¼Œå¾ˆå¤šæ—¶å€™å¢åŠ ä¸€å±‚å°±å¯ä»¥è§£å†³ä¸€äº›æ£˜æ‰‹çš„é—®é¢˜ï¼›ç†è§£æ¶æ„è®¾è®¡çš„å¹³è¡¡è‰ºæœ¯ï¼</p>
</li>
<li><p>Javaå’ŒJavaScriptæ²¡æœ‰ä»»ä½•ç›´æ¥çš„å…³ç³»ï¼Œä½†æ˜¯æŒæ¡JavaScriptè¿˜æ˜¯éå¸¸æœ‰ç”¨çš„ï¼</p>
</li>
</ol>
<h2 id="Javaç¯å¢ƒä»‹ç»"><a href="#Javaç¯å¢ƒä»‹ç»" class="headerlink" title="Javaç¯å¢ƒä»‹ç»"></a>Javaç¯å¢ƒä»‹ç»</h2><ol>
<li><p>JREï¼ˆJava Runtime Environmentï¼ŒJavaè¿è¡Œæ—¶ç¯å¢ƒï¼‰æ˜¯Javaç¨‹åºè¿è¡Œçš„åŸºæœ¬ç¯å¢ƒï¼Œä¸»è¦æ˜¯æä¾›Javaè™šæ‹Ÿæœºï¼ˆJava Virtual Machineï¼ŒJVMï¼‰ï¼›</p>
</li>
<li><p>JDKï¼ˆJava Development Kitï¼ŒJavaå¼€å‘å·¥å…·åŒ…ï¼‰ï¼ŒJavaçš„å„ç§IDEéƒ½æ˜¯åœ¨JDKçš„åŸºç¡€ä¸Šæ·»åŠ äº†å›¾å½¢ç•Œé¢å’Œè‡ªåŠ¨åŒ–å·¥å…·ï¼ŒJDKä¸­åŒ…å«äº†JREï¼Œå®‰è£…JDKä¼šè‡ªåŠ¨å®‰è£…JREï¼›</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/940b6196f277150abd538570b7c998cf-74647" alt="JDKå’ŒJREçš„å…³ç³»"></p>
</li>
<li><p>J2SEï¼ˆJava 2 Standard Editionï¼ŒJava 2æ ‡å‡†ç‰ˆï¼‰ï¼ŒJ2EE(Java 2 Enterprise Editionï¼ŒJava 2ä¼ä¸šç‰ˆ)ï¼ŒJ2MEï¼ˆJava 2 Micro Editionï¼ŒJava 2å¾®å‹ç‰ˆï¼‰ï¼›</p>
</li>
</ol>
<h2 id="Javaç¼–ç¨‹åŸºç¡€"><a href="#Javaç¼–ç¨‹åŸºç¡€" class="headerlink" title="Javaç¼–ç¨‹åŸºç¡€"></a>Javaç¼–ç¨‹åŸºç¡€</h2><ol>
<li><p>ç±»å’Œæ¥å£æ˜¯Javaç¨‹åºç¼–å†™çš„åŸºæœ¬å•å…ƒï¼ŒJavaæ‰€æœ‰çš„ä»£ç éƒ½åœ¨ç±»æˆ–è€…æ¥å£ä¸­ï¼›</p>
</li>
<li><p>å‘½åè§„èŒƒJavaè‡ªèº«æ²¡æœ‰è¦æ±‚ï¼Œä½†æ˜¯å¼€å‘è§„èŒƒå¯ä»¥ä¿è¯é¡¹ç›®çš„ä»£ç é£æ ¼çš„ä¸€è‡´æ€§ï¼Œå¯ä»¥æ–¹ä¾¿å›¢é˜Ÿåä½œï¼Œæœ‰åŠ©äºæé«˜ä»£ç çš„å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§ï¼›</p>
</li>
<li><p>ç±»çš„.javaæºä»£ç æ–‡ä»¶åä»¥åŠç¼–è¯‘åç”Ÿæˆçš„.classæ–‡ä»¶åä¸ç±»åä¸€è‡´ï¼Œè€Œä¸”ä¸€ä¸ªjavaæ–‡ä»¶åªèƒ½æœ‰ä¸€ä¸ªpublicç±»ï¼›</p>
</li>
<li><p>å½“ä½¿ç”¨javaå‘½ä»¤æ‰§è¡Œä¸€ä¸ªç±»æ—¶ï¼Œè™šæ‹Ÿæœºä¼šæ‰§è¡Œè¿™ä¸ªç±»çš„mainæ–¹æ³•ï¼Œæƒ³ä½¿ç”¨javaå‘½ä»¤æ¥æ‰§è¡Œç±»çš„è¯ï¼Œå°±å¿…é¡»å®šä¹‰å®ƒçš„mainæ–¹æ³•ï¼›</p>
</li>
<li><p>JVMä¼šè‡ªåŠ¨ç›‘æµ‹å†…å­˜ä¸­ä¸ç”¨çš„å­—ç¬¦ä¸²å¹¶è‡ªåŠ¨é‡Šæ”¾ï¼Œä½†æ˜¯è¿™ç§åƒåœ¾å›æ”¶æœºåˆ¶éœ€è¦ä¸€ä¸ªå‘¨æœŸï¼Œåœ¨å‘¨æœŸå†…ï¼Œä¼šå› ä¸ºæ¥ä¸åŠé‡Šæ”¾è€Œå¢åŠ å¯¹èµ„æºçš„å ç”¨ï¼›</p>
</li>
<li><p>Stringçš„æ¯”è¾ƒå­—ç¬¦ä¸²ç›¸ç­‰ä½¿ç”¨equalsæ–¹æ³•ï¼Œä¸èƒ½ä½¿ç”¨==ï¼›</p>
</li>
<li><p><strong>å…³é”®å­—</strong>ï¼šè¢«javaè¯­è¨€èµ‹äºˆäº†ç‰¹æ®Šå«ä¹‰ï¼Œç”¨åšä¸“é—¨ç”¨é€”çš„å­—ç¬¦ä¸²ï¼ˆå•è¯ï¼‰</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/190399473ef0cc4b1adc14fec04c590c-74445" alt="å…³é”®å­—è¯´æ˜1"></p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/679cbc44732d451d2ab21b76ddb64114-113948" alt="å…³é”®å­—è¯´æ˜2"></p>
</li>
<li><p><strong>ä¿ç•™å­—</strong>ï¼šç°æœ‰Javaç‰ˆæœ¬å°šæœªä½¿ç”¨ï¼Œä½†ä»¥åç‰ˆæœ¬å¯èƒ½ä¼šä½œä¸ºå…³é”®å­—ä½¿ç”¨ï¼›</p>
</li>
<li><p><strong>æ ‡è¯†ç¬¦</strong>ï¼šjavaå¯¹å„ç§å˜é‡ã€æ–¹æ³•å’Œç±»ç­‰è¦ç´ å‘½åçš„æ—¶å€™ä½¿ç”¨çš„å­—ç¬¦åºåˆ—ï¼›</p>
</li>
<li><p><strong>å˜é‡</strong>ï¼šç¨‹åºä¸­æœ€åŸºæœ¬çš„å­˜å‚¨å•å…ƒï¼ŒåŒ…å«å˜é‡ç±»å‹ã€å˜é‡åå’Œå­˜å‚¨çš„å€¼ï¼›</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/b5f35d03c598a794ea782ee0de5fd2a7-69659" alt="å˜é‡çš„åˆ†ç±»æ–¹æ³•1"></p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/7c02fe7e7aae6ac8e68db0c9d760f14c-67541" alt="å˜é‡çš„åˆ†ç±»æ–¹æ³•2"></p>
</li>
<li><p>è‡ªåŠ¨ç±»å‹è½¬æ¢ï¼šå®¹é‡å°çš„æ•°æ®ç±»å‹è‡ªåŠ¨è½¬æ¢ä¸ºå®¹é‡å¤§çš„æ•°æ®ç±»å‹ï¼›</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/ae3079949173fdaec60da0e2ede96ef3-37778" alt="è‡ªåŠ¨ç±»å‹è½¬æ¢"></p>
</li>
<li><p>è¿ç®—ç¬¦æ˜¯ä¸€ç§ç‰¹æ®Šçš„ç¬¦å·ï¼Œç”¨ä»¥è¡¨ç¤ºæ•°æ®çš„è¿ç®—ã€èµ‹å€¼å’Œæ¯”è¾ƒç­‰ï¼›</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/0fd5cd845e821c238a618625064ae175-92090" alt="ç®—æœ¯è¿ç®—ç¬¦"></p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/edfd61a2094d7ffaa08184fc9f1ea6c1-62855" alt="æ¯”è¾ƒè¿ç®—ç¬¦"></p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/7cb30ce86b7f195b29ee636b930d1dde-78120" alt="é€»è¾‘è¿ç®—ç¬¦"></p>
</li>
<li><p>æ•°ç»„é»˜è®¤åˆå§‹åŒ–å€¼ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/864ca776527eed233c7c8f94fc75f512-53042" alt="æ•°ç»„é»˜è®¤åˆå§‹åŒ–å€¼"></p>
</li>
</ol>
<h2 id="å¯¹è±¡å’Œç±»"><a href="#å¯¹è±¡å’Œç±»" class="headerlink" title="å¯¹è±¡å’Œç±»"></a>å¯¹è±¡å’Œç±»</h2><ol>
<li><p>é¢å‘å¯¹è±¡ä¸ä»…æ˜¯é—¨æŠ€æœ¯ï¼Œæ›´æ˜¯ä¸€ç§æ€æƒ³ï¼›</p>
<ol>
<li>é¢å‘è¿‡ç¨‹ï¼Œå¼ºè°ƒçš„æ˜¯åŠŸèƒ½è¡Œä¸ºï¼Œä»¥å‡½æ•°ä¸ºæœ€å°å•ä½ï¼Œè€ƒè™‘æ€ä¹ˆåš</li>
<li>é¢å‘å¯¹è±¡ï¼Œå°†åŠŸèƒ½å°è£…è¿›å¯¹è±¡ï¼Œå¼ºè°ƒå…·å¤‡äº†åŠŸèƒ½çš„å¯¹è±¡ï¼Œä»¥ç±»/å¯¹è±¡ä¸ºæœ€å°å•ä½ï¼Œè€ƒè™‘è°æ¥åš</li>
</ol>
</li>
<li><p>é¢å‘å¯¹è±¡ç¼–ç¨‹æä¾›äº†æ›´å¥½çš„å°è£…å½¢å¼ï¼Œå¯ä»¥åšåˆ°åœ¨å¼€å‘è¿‡ç¨‹ä¸­åªå…³å¿ƒå¯¹è±¡å¯¹å¤–æä¾›çš„æ•°æ®å’ŒåŠŸèƒ½ï¼Œè€Œæ— é¡»å…³å¿ƒå…¶å®ç°ã€‚æ›´åŠ å¼ºè°ƒè¿ç”¨äººç±»åœ¨æ—¥å¸¸çš„æ€ç»´é€»è¾‘ä¸­é‡‡ç”¨çš„æ€æƒ³æ–¹æ³•å’ŒåŸåˆ™ï¼Œå¦‚æŠ½è±¡ã€åˆ†ç±»ã€ç»§æ‰¿ã€èšåˆã€å¤šæ€ç­‰ï¼›</p>
</li>
<li><p>é¢å‘å¯¹è±¡çš„ä¸‰å¤§ç‰¹å¾ï¼š</p>
<ul>
<li>å°è£…</li>
<li>ç»§æ‰¿</li>
<li>å¤šæ€</li>
</ul>
</li>
<li><p>é¢å‘å¯¹è±¡ç¨‹åºè®¾è®¡çš„é‡ç‚¹æ˜¯ç±»çš„è®¾è®¡ã€‚ç±»çš„è®¾è®¡ï¼Œå…¶å®å°±æ˜¯ç±»çš„æˆå‘˜çš„è®¾è®¡ï¼›</p>
</li>
<li><p>å°½é‡é¿å…åœ¨ç±»çš„å¤–éƒ¨ç›´æ¥è®¿é—®ç±»çš„å­—æ®µï¼Œè€Œé‡‡å–ç±»çš„æ–¹æ³•æ¥é—´æ¥è®¿é—®ç±»çš„å­—æ®µï¼›</p>
</li>
<li><p>ç±»çš„åˆ›å»ºï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è®¿é—®ä¿®é¥°ç¬¦ <span class="class"><span class="keyword">class</span> ç±»å</span>&#123;</span><br><span class="line">  å±æ€§å£°æ˜;</span><br><span class="line">  æ–¹æ³•å£°æ˜;  </span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ä¿®é¥°ç¬¦publicè¡¨ç¤ºç±»å¯ä»¥è¢«ä»»æ„è®¿é—®</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>JDK5ä¹‹åï¼šé‡‡ç”¨å¯å˜ä¸ªæ•°å½¢å‚æ¥å®šä¹‰æ–¹æ³•ï¼Œä¼ å…¥å¤šä¸ªåŒä¸€ç±»å‹å˜é‡ï¼›</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function">pubilc <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">(<span class="keyword">int</span> a,String... books)</span></span>;</span><br></pre></td></tr></table></figure>

<ul>
<li>å¯å˜å‚æ•°ï¼šæ–¹æ³•å‚æ•°éƒ¨åˆ†æŒ‡å®šç±»å‹çš„å‚æ•°æ ¼å¼æ˜¯å¯å˜å¤šä¸ªï¼š0ä¸ªã€1ä¸ªæˆ–å¤šä¸ª</li>
<li>å¯å˜ä¸ªæ•°å½¢å‚çš„æ–¹æ³•å’ŒåŒåçš„æ–¹æ³•ä¹‹é—´ï¼Œå½¢æˆæ–¹æ³•é‡è½½</li>
<li>å¯å˜å‚æ•°æ–¹æ³•çš„ä½¿ç”¨å’Œæ–¹æ³•å‚æ•°éƒ¨åˆ†ä½¿ç”¨æ•°ç»„æ˜¯ä¸€è‡´çš„</li>
<li>æ–¹æ³•çš„å‚æ•°éƒ¨åˆ†æœ‰å¯å˜å‚æ•°ï¼Œéœ€è¦æ”¾åœ¨å½¢å‚å£°æ˜çš„æœ€å</li>
<li>åœ¨ä¸€ä¸ªæ–¹æ³•çš„å½¢å‚ä½ç½®ï¼Œæœ€å¤šåªèƒ½å£°æ˜ä¸€ä¸ªå¯å˜ä¸ªæ•°å½¢å‚</li>
</ul>
</li>
<li><p><strong>UMLå·²ç»æ˜¯é¢å‘å¯¹è±¡è½¯ä»¶å»ºæ¨¡çš„æ ‡å‡†è¯­è¨€ï¼Œå¯¹äºJavaå¼€å‘è€…ï¼ŒæŒæ¡UMLæ˜¯éå¸¸æœ‰å¿…è¦çš„ï¼›</strong></p>
</li>
<li><p>å»ºè®®ä¸€ä¸ªç±»ä¸€ä¸ªjavaæºæ–‡ä»¶ï¼Œå¦‚æœçœŸçš„è¦å¤šä¸ªç±»ï¼Œé‚£å»ºè®®åªæŠŠå¯†åˆ‡ç›¸å…³çš„ç±»æ”¾åˆ°åŒä¸€ä¸ªæºæ–‡ä»¶ä¸­ï¼›</p>
</li>
<li><p>ä¸€ä¸ªå­—æ®µå‰ä½¿ç”¨finalçš„æ„ä¹‰æ˜¯ä½œä¸ºå­—æ®µçš„è¿™ä¸ªå˜é‡åœ¨è·å¾—åˆå§‹å€¼åï¼Œå…¶å€¼ä¸èƒ½å†æ”¹å˜ï¼›</p>
</li>
<li><p>ç±»çš„staticæ–¹æ³•ä¸­åªèƒ½è®¿é—®æ‰€åœ¨ç±»çš„staticç±»å‹å­—æ®µï¼Œä¸èƒ½è®¿é—®æ‰€åœ¨ç±»çš„éstaticå­—æ®µï¼Œå› ä¸ºstaticæ–¹æ³•åªå’Œç±»å…³è”ï¼Œè€Œä¸å’Œç±»çš„å…·ä½“å­—æ®µå…³è”ï¼›</p>
</li>
<li><p><strong>Javaå•å…ƒæµ‹è¯•å·¥å…·æ¯”è¾ƒæœ‰åçš„JUnitå¯ä»¥è¿›ä¸€æ­¥å­¦ä¹ ï¼</strong></p>
</li>
<li><p>å¦‚æœå˜é‡æ˜¯åŸºæœ¬ç±»å‹å˜é‡ï¼Œåˆ™å…¶ä¸­ä¿å­˜çš„å€¼ä¸ºå®é™…çš„æ•°æ®ï¼›å¦‚æœæ˜¯å¯¹è±¡ç±»å‹å˜é‡ï¼Œå…¶ä¸­ä¿å­˜çš„å€¼æ˜¯æ‰€æŒ‡å¯¹è±¡çš„åœ°å€ï¼›</p>
</li>
<li><p>Javaæä¾›äº†å¾ˆå¤šå­—æ®µåˆå§‹åŒ–æ–¹å¼ï¼Œåœ¨å®é™…å¼€å‘ä¸­å°½é‡é‡‡å–ç®€å•æ˜“æ‡‚çš„æ–¹å¼ï¼Œæ—¢å¯ä»¥å‡å°‘å‡ºé”™çš„æ¦‚ç‡ï¼ŒåŒæ—¶è¿˜èƒ½æé«˜ä»£ç çš„å¯è¯»æ€§ä¸å¯ç»´æŠ¤æ€§ï¼›</p>
</li>
<li><p>Javaçš„åƒåœ¾æ”¶é›†æœºåˆ¶åªèƒ½åœ¨ä¸€å®šç¨‹åº¦ä¸Šæœ‰æ•ˆï¼Œå¯¹äºå¯¹è±¡ï¼Œèƒ½å¤Ÿæ‰‹åŠ¨é‡Šæ”¾å°±å°½é‡æ‰‹åŠ¨é‡Šæ”¾ï¼›</p>
</li>
<li><p>æ³¨æ„ï¼šå…ˆè¿›è¡Œè®¾è®¡ï¼Œç„¶åè¿›è¡Œç¼–ç ï¼Œå…¶æ¬¡è®¾è®¡çš„æ—¶å€™åº”è¯¥è€ƒè™‘å……åˆ†ï¼Œå¯¹ä¸€äº›è®¾è®¡çš„è¦ç‚¹è¦ç†Ÿç»ƒæŒæ¡ï¼</p>
</li>
</ol>
<h2 id="æ¥å£"><a href="#æ¥å£" class="headerlink" title="æ¥å£"></a>æ¥å£</h2><ol>
<li>å­ç±»æ˜¯çˆ¶ç±»çš„ä¸€ç§å…·ä½“ç±»å‹ï¼Œä»»ä½•å­ç±»çš„å¯¹è±¡éƒ½å±äºçˆ¶ç±»çš„ç±»å‹ï¼›</li>
<li>å­ç±»å…·æœ‰çˆ¶ç±»çš„å…¨éƒ¨ç‰¹å¾ï¼Œå¹¶ä¸”åœ¨æ­¤åŸºç¡€ä¸Šå…·æœ‰æ›´å¤šçš„ç‰¹å¾ï¼Œå°†é€šç”¨çš„æ–¹æ³•æ”¾åˆ°çˆ¶ç±»ä¸­ï¼Œè€Œå°†ç‰¹æœ‰çš„æ–¹æ³•æ”¾åˆ°å­ç±»ä¸­ï¼Œçˆ¶ç±»å’Œå­ç±»ä¹‹é—´åˆç†çš„åŠŸèƒ½åˆ’åˆ†æ˜¯ä¼˜ç§€è®¾è®¡çš„å…³é”®ï¼Œéœ€è¦é•¿æœŸçš„ç§¯ç´¯ï¼›</li>
<li>å¤šæ€ä½¿å¾—æˆ‘ä»¬å¯ä»¥ä»¥ä¸€è‡´çš„æ–¹å¼è°ƒç”¨ä¸€ä¸ªå¤§çš„ç±»åˆ«ä¸‹å…·ä½“ç±»å‹çš„å¯¹è±¡ï¼Œç”šè‡³è¿™ç§å…·ä½“çš„ç±»å‹å¯ä»¥æ˜¯æœªçŸ¥çš„å°†æ¥å¼€å‘å®ç°çš„ï¼›</li>
<li>abstractç±»æœ€å¤§çš„ä¸¤ä¸ªæ„ä¹‰ï¼š<ol>
<li>å¼ºåˆ¶è¦æ±‚å­ç±»ä¸­å¿…é¡»å®ç°æ‰€è¦æ±‚çš„abstractæ–¹æ³•ï¼Œå¦åˆ™ä¸èƒ½å®ä¾‹åŒ–</li>
<li>é™åˆ¶å¯¹abstractç±»å®ä¾‹åŒ–</li>
</ol>
</li>
<li>æ™®é€šæ•°ç»„æ¯”ArrayListæ›´ç®€å•ï¼Œæ‹¥æœ‰æ›´å¥½çš„æ€§èƒ½ï¼Œå¦‚æœæ•°ç»„çš„å¤§å°å¯ä»¥ä¼°è®¡ï¼Œè€Œä¸”å˜åŒ–ä¸å¤§çš„æƒ…å†µä¸‹ä¼˜å…ˆè€ƒè™‘ä½¿ç”¨æ™®é€šæ•°ç»„ï¼›</li>
<li>Javaä¸­åŸºæœ¬æ•°æ®ç±»å‹intã€doubleç­‰ä¸é€‚å¯¹è±¡æ•°æ®ç±»å‹ï¼Œä¸ç»§æ‰¿è‡ªObjectï¼›</li>
<li>å¦‚æœéœ€è¦ä½¿ç”¨Objectç±»å‹çš„æ•°å­—ï¼Œåˆ™éœ€è¦ä½¿ç”¨åŒ…è£…ç±»Integerã€Longã€Floatã€Doubleç­‰ï¼Œä½†æ˜¯å®ƒä»¬çš„å€¼ä¸€æ—¦åˆ›å»ºå°±ä¸å¯æ”¹å˜ï¼Œå¹¶ä¸”è¿™äº›åŒ…è£…ç±»æ˜¯ä¸èƒ½æ´¾ç”Ÿå­ç±»çš„ï¼›</li>
<li>åå°„æœºåˆ¶å¯ä»¥è·å¾—ä¸€äº›åŠ¨æ€ç‰¹æ€§ã€çµæ´»æ€§ä»¥åŠå¯æ‰©å±•æ€§ï¼Œå¸¸ç”¨äºå¼€å‘å·¥å…·ä»¥åŠä¸€äº›æ¡†æ¶ä¸­ï¼›</li>
</ol>
<h2 id="å¤šçº¿ç¨‹"><a href="#å¤šçº¿ç¨‹" class="headerlink" title="å¤šçº¿ç¨‹"></a>å¤šçº¿ç¨‹</h2><ol>
<li><p>è¿›ç¨‹å¯ä»¥è¿›ä¸€æ­¥ç»†åŒ–ä¸ºçº¿ç¨‹ï¼Œæ˜¯ä¸€ä¸ªç¨‹åºå†…éƒ¨çš„ä¸€æ¡æ‰§è¡Œè·¯å¾„ã€‚å¦‚æœä¸€ä¸ªè¿›ç¨‹åŒä¸€æ—¶é—´å¹¶è¡Œæ‰§è¡Œå¤šä¸ªçº¿ç¨‹ï¼Œå°±æ˜¯æ”¯æŒå¤šçº¿ç¨‹çš„ï¼›</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/c2db0ecb2a1aa738bbbd493c9342f477-48637" alt="è¿›ç¨‹å’Œçº¿ç¨‹"></p>
</li>
<li><p>ä¸€ä¸ªè¿›ç¨‹ä¸­çš„å¤šä¸ªçº¿ç¨‹å…±äº«ç›¸åŒçš„å†…å­˜å•ä½/å†…å­˜åœ°å€ç©ºé—´ï¼ˆå®ƒä»¬ä»åŒä¸€å †ä¸­åˆ†é…å¯¹è±¡ï¼Œå¯ä»¥è®¿é—®ç›¸åŒçš„å˜é‡å’Œå¯¹è±¡ï¼‰ã€‚è¿™å°±ä½¿å¾—çº¿ç¨‹é—´çš„é€šä¿¡æ›´ç®€ä¾¿ã€é«˜æ•ˆã€‚ä½†å¤šä¸ªçº¿ç¨‹æ“ä½œå…±äº«çš„ç³»ç»Ÿèµ„æºå¯èƒ½ä¼šå¸¦æ¥å®‰å…¨çš„éšæ‚£ï¼›</p>
</li>
<li><p>ä¸€ä¸ªJavaåº”ç”¨ç¨‹åºï¼Œå…¶å®è‡³å°‘æœ‰ä¸‰ä¸ªçº¿ç¨‹ï¼šmain()æ–¹æ³•ä¸»çº¿ç¨‹ï¼Œgcåƒåœ¾å›æ”¶çº¿ç¨‹ï¼Œå¼‚å¸¸å¤„ç†çº¿ç¨‹ã€‚å¦‚æœä¸å¤„ç†å¼‚å¸¸çš„æƒ…å†µä¸‹ï¼Œå‘ç”Ÿå¼‚å¸¸ä¼šå½±å“åˆ°ä¸»çº¿ç¨‹ï¼›</p>
</li>
<li><p>å¤šçº¿ç¨‹çš„ä¼˜ç‚¹ï¼š</p>
<ul>
<li>æé«˜äº†åº”ç”¨ç¨‹åºçš„å“åº”ã€‚å¯¹å›¾å½¢åŒ–ç•Œé¢æ›´æœ‰æ„ä¹‰ï¼Œå¢åŠ äº†ç”¨æˆ·çš„ä½“éªŒ</li>
<li>æé«˜è®¡ç®—æœºç³»ç»ŸCPUçš„åˆ©ç”¨ç‡</li>
<li>æ”¹å–„ç¨‹åºç»“æ„ã€‚å°†æ—¢é•¿åˆå¤æ‚çš„è¿›ç¨‹åˆ†ä¸ºå¤šä¸ªçº¿ç¨‹ï¼Œç‹¬ç«‹è¿è¡Œï¼Œåˆ©äºç†è§£å’Œä¿®æ”¹</li>
</ul>
</li>
<li><p>Javaçº¿ç¨‹çš„ä½¿ç”¨æµç¨‹ï¼š</p>
<ol>
<li>å®šä¹‰å­ç±»ç»§æ‰¿Threadç±»</li>
<li>å­ç±»å»é‡å†™Threadç±»ä¸­çš„run()æ–¹æ³•</li>
<li>åˆ›å»ºThreadå­ç±»å¯¹è±¡ï¼Œå³åˆ›å»ºäº†çº¿ç¨‹å¯¹è±¡</li>
<li>è°ƒç”¨çº¿ç¨‹å¯¹è±¡çš„start()æ–¹æ³•ï¼šå¯åŠ¨çº¿ç¨‹ï¼Œè°ƒç”¨run()æ–¹æ³•</li>
</ol>
</li>
<li><p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">EvenThread</span> <span class="keyword">extends</span> <span class="title">Thread</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">100</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (i % <span class="number">2</span> == <span class="number">0</span>) &#123;</span><br><span class="line">                System.out.println(Thread.currentThread().getName() + <span class="string">"å¶æ•°æ˜¯ï¼š"</span> + i);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ThreadTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        EvenThread thread1 = <span class="keyword">new</span> EvenThread();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//start()æ–¹æ³•  â‘ å¯åŠ¨å½“å‰çº¿ç¨‹ â‘¡è°ƒç”¨å½“å‰çº¿ç¨‹ä¸­çš„run()æ–¹æ³•</span></span><br><span class="line">        thread1.start();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//å¦‚ä¸‹çš„æ“ä½œæ˜¯åœ¨ä¸»çº¿ç¨‹(main()æ–¹æ³•)ä¸­æ‰§è¡Œçš„</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">100</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (i % <span class="number">2</span> != <span class="number">0</span>) &#123;</span><br><span class="line">                System.out.println(<span class="string">"ä¸»çº¿ç¨‹æ‰§è¡Œç»“æŸ:"</span> + i);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>çº¿ç¨‹çš„å¸¸ç”¨æ–¹æ³•ï¼š</p>
<ul>
<li><p>å¯åŠ¨çº¿ç¨‹</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title">start</span><span class="params">()</span></span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p>çº¿ç¨‹è¢«è°ƒç”¨æ—¶æ‰§è¡Œçš„æ“ä½œ</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span></span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p>è¿”å›çº¿ç¨‹çš„åç§°</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">final</span> String <span class="title">getName</span><span class="params">()</span></span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p>è®¾ç½®çº¿ç¨‹çš„åç§°</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span></span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p>è¿”å›å½“å‰çš„çº¿ç¨‹ã€‚åœ¨Threadå­ç±»ä¸­å°±æ˜¯thisï¼Œé€šå¸¸ç”¨äºä¸»çº¿ç¨‹å’ŒRunnableå®ç°ç±»</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">native</span> Thread <span class="title">currentThread</span><span class="params">()</span></span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p>çº¿ç¨‹è®©æ­¥ã€‚æš‚åœå½“å‰æ‰§è¡Œçš„çº¿ç¨‹ï¼ŒæŠŠæ‰§è¡Œæœºä¼šè®©ç»™ä¼˜å…ˆçº§ç›¸åŒæˆ–æ›´é«˜çš„çº¿ç¨‹</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">native</span> <span class="keyword">void</span> <span class="title">yield</span><span class="params">()</span></span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p>join()ï¼šå½“æŸä¸ªç¨‹åºæ‰§è¡Œä¸­è°ƒç”¨å…¶ä»–çº¿ç¨‹çš„join()æ–¹æ³•çš„æ—¶å€™ï¼Œè°ƒç”¨çº¿ç¨‹å°†è¢«é˜»å¡ï¼ŒçŸ¥é“join()æ–¹æ³•åŠ å…¥çš„joinçº¿ç¨‹æ‰§è¡Œå®Œæ¯•ä¸ºæ­¢</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">void</span> <span class="title">join</span><span class="params">()</span> <span class="keyword">throws</span> <span class="title">InterruptedException</span><span class="params">()</span></span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p>çº¿ç¨‹ç¡çœ ï¼šè®©å½“å‰æ´»åŠ¨çš„çº¿ç¨‹åœ¨æŒ‡å®šçš„æ—¶é—´æ®µå†…æ”¾å¼ƒå¯¹CPUçš„æ‰§è¡Œæƒï¼Œä½¿å¾—å…¶ä»–çº¿ç¨‹æœ‰æœºä¼šè¢«æ‰§è¡Œï¼Œæ—¶é—´åˆ°äº†é‡æ–°æ’é˜Ÿ</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">native</span> <span class="keyword">void</span> <span class="title">sleep</span><span class="params">(<span class="keyword">long</span> millis)</span> <span class="keyword">throws</span> InterruptedException</span>;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>åˆ›å»ºçº¿ç¨‹çš„ç¬¬äºŒç§æ–¹å¼ï¼š</p>
<ol>
<li>å®šä¹‰å­ç±»ï¼Œå®ç°Runnableæ¥å£</li>
<li>å­ç±»ä¸­é‡å†™Runnableæ¥å£ä¸­çš„run()æ–¹æ³•</li>
<li>é€šè¿‡Threadç±»çš„æœ‰å‚æ„é€ å™¨åˆ›å»ºçº¿ç¨‹å¯¹è±¡</li>
<li>å°†Runnableæ¥å£çš„å­ç±»å¯¹è±¡ä½œä¸ºå®é™…å‚æ•°ä¼ é€’ç»™Threadç±»çš„æ„é€ å™¨ä¸­</li>
<li>è°ƒç”¨Threadç±»çš„startæ–¹æ³•ï¼Œå¼€å¯çº¿ç¨‹</li>
</ol>
</li>
<li><p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TicketThread</span> <span class="keyword">implements</span> <span class="title">Runnable</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> tickets = <span class="number">100</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (;;)&#123;</span><br><span class="line">            <span class="keyword">if</span> (tickets &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    Thread.sleep(<span class="number">100</span>);</span><br><span class="line">                &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">                System.out.println(<span class="string">"ç¥¨æ•°:"</span> + tickets--);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ThreadTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        TicketThread t = <span class="keyword">new</span> TicketThread();</span><br><span class="line"></span><br><span class="line">        Thread t1 = <span class="keyword">new</span> Thread(t);</span><br><span class="line">        Thread t2 = <span class="keyword">new</span> Thread(t);</span><br><span class="line"></span><br><span class="line">        t1.start();</span><br><span class="line">        t2.start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>çº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/33d7165085791a4a61a82c62f98f6a17-92628" alt="çº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸ"></p>
</li>
<li><p>Javaå¯¹äºå¤šçº¿ç¨‹çš„å®‰å…¨é—®é¢˜ä½“ç”¨äº†ä¸“ä¸šçš„è§£å†³æ–¹å¼ï¼šåŒæ­¥æœºåˆ¶</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// åŒæ­¥ä»£ç å—</span></span><br><span class="line"><span class="keyword">synchronized</span>(å¯¹è±¡)&#123;</span><br><span class="line">   <span class="comment">//éœ€è¦è¢«åŒæ­¥çš„ä»£ç </span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// åŒæ­¥æ–¹æ³•</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title">show</span><span class="params">()</span></span>&#123;</span><br><span class="line">   <span class="comment">//éœ€è¦è¢«åŒæ­¥çš„ä»£ç </span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SellTicket</span> <span class="keyword">implements</span> <span class="title">Runnable</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> num = <span class="number">100</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (; ; ) &#123;</span><br><span class="line">            <span class="keyword">synchronized</span> (<span class="keyword">this</span>) &#123;</span><br><span class="line">                <span class="keyword">if</span> (num &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                    <span class="keyword">try</span> &#123;</span><br><span class="line">                        Thread.sleep(<span class="number">100</span>);</span><br><span class="line">                    &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                        e.printStackTrace();</span><br><span class="line">                    &#125;</span><br><span class="line">                    System.out.println(Thread.currentThread().getName() + <span class="string">"å½“å‰çš„ç¥¨æ•°æ˜¯:"</span> + num--);</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="keyword">return</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ThreadTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        SellTicket sellTicket = <span class="keyword">new</span> SellTicket();</span><br><span class="line"></span><br><span class="line">        Thread t1 = <span class="keyword">new</span> Thread(sellTicket);</span><br><span class="line"></span><br><span class="line">        Thread t2 = <span class="keyword">new</span> Thread(sellTicket);</span><br><span class="line"></span><br><span class="line">        t1.start();</span><br><span class="line">        t2.start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>çº¿ç¨‹é€šä¿¡çš„æ–¹æ³•:</p>
<ul>
<li>wait()æ–¹æ³•ï¼šä»¤å½“å‰çº¿ç¨‹æŒ‚èµ·å¹¶æ”¾å¼ƒCPUçš„æ‰§è¡Œæƒä»¥åŠåŒæ­¥èµ„æºç­‰ç­‰ï¼Œä½¿å¾—åˆ«çš„çº¿ç¨‹å¯ä»¥è®¿é—®å¹¶ä¿®æ”¹å…±äº«èµ„æºï¼Œè€Œå½“å‰çº¿ç¨‹æ’é˜Ÿç­‰å€™å…¶ä»–çº¿ç¨‹è°ƒç”¨notify()æˆ–notifyall()æ–¹æ³•å”¤é†’åï¼Œå”¤é†’åç­‰å¾…é‡æ–°è·å¾—å¯¹CPUçš„æ‰§è¡Œæƒæ‰èƒ½ç»§ç»­æ‰§è¡Œ</li>
<li>notify()æ–¹æ³•ï¼šå”¤é†’æ­£åœ¨æ’é˜Ÿç­‰å¾…åŒæ­¥èµ„æºçš„çº¿ç¨‹ä¸­ä¼˜å…ˆçº§æœ€é«˜è€…ç»“æŸç­‰å¾…</li>
<li>notifyall()æ–¹æ³•ï¼šå”¤é†’æ­£åœ¨æ’é˜Ÿç­‰å¾…èµ„æºçš„æ‰€æœ‰çº¿ç¨‹ç»“æŸç­‰å¾…</li>
<li>åªæœ‰åœ¨synchronizedæ–¹æ³•æˆ–synchronizedä»£ç å—ä¸­æ‰èƒ½ä½¿ç”¨ï¼Œå¦åˆ™ä¼šæŠ›å‡ºjava.lang.IllegalMonitorStateExceptionå¼‚å¸¸ã€‚å› ä¸ºè¿™ä¸‰ä¸ªæ–¹æ³•å¿…é¡»æœ‰é”å¯¹è±¡è°ƒç”¨ï¼Œè€Œä»»æ„å¯¹è±¡éƒ½å¯ä»¥ä½œä¸ºsynchronizedçš„åŒæ­¥é”ï¼Œå› æ­¤è¿™ä¸‰ä¸ªæ–¹æ³•å®šä¹‰åœ¨Objectç±»ä¸­</li>
</ul>
</li>
<li><p>åˆ›å»ºçº¿ç¨‹çš„æ–¹å¼ä¸‰:</p>
<ol>
<li>å®ç°Callableæ¥å£</li>
<li>å®ç°Futureæ¥å£</li>
</ol>
</li>
<li><p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.concurrent.Callable;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Number</span> <span class="keyword">implements</span> <span class="title">Callable</span>&lt;<span class="title">Integer</span>&gt; </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Integer <span class="title">call</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">100</span>; i++) &#123;</span><br><span class="line">            sum += i;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> sum;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.concurrent.ExecutionException;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.FutureTask;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ThreadTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        Number number = <span class="keyword">new</span> Number();</span><br><span class="line"></span><br><span class="line">        FutureTask&lt;Integer&gt; futureTask = <span class="keyword">new</span> FutureTask&lt;&gt;(number);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">new</span> Thread(futureTask).start();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Integer sum = futureTask.get();</span><br><span class="line">            System.out.println(<span class="string">"sum:"</span> + sum);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (ExecutionException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä½¿ç”¨çº¿ç¨‹æ± :</p>
<ul>
<li>æå‰åˆ›å»ºå¥½å¤šä¸ªçº¿ç¨‹ï¼Œæ”¾å…¥çº¿ç¨‹æ± ä¸­ï¼Œä½¿ç”¨çš„æ—¶å€™ç›´æ¥è·å–ï¼Œä½¿ç”¨å®Œæ”¾å›æ± ä¸­ã€‚å¯ä»¥é¿å…é¢‘ç¹çš„åˆ›å»ºé”€æ¯ï¼Œå®ç°é‡å¤åˆ©ç”¨ï¼›</li>
<li>JDK5.0æä¾›äº†çº¿ç¨‹æ± çš„ç›¸å…³APIï¼šExecutorServiceå’ŒExecutorsï¼›</li>
<li>ExecutorServiceï¼šçœŸæ­£çš„çº¿ç¨‹æ± æ¥å£ã€‚å¸¸è§çš„å­ç±»ThreadPoolExecutorï¼›</li>
<li>Executors:å·¥å…·ç±»ã€çº¿ç¨‹æ± çš„å·¥å‚ç±»ï¼Œç”¨æ¥åˆ›å»ºå¹¶è¿”å›ä¸åŒç±»å‹çš„çº¿ç¨‹æ± ã€‚</li>
</ul>
</li>
<li><p>çº¿ç¨‹æ± ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.concurrent.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ThreadTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> ExecutionException, InterruptedException </span>&#123;</span><br><span class="line">        ExecutorService executorService = Executors.newFixedThreadPool(<span class="number">50</span>);</span><br><span class="line"></span><br><span class="line">        Future&lt;Integer&gt; future = executorService.submit(<span class="keyword">new</span> Callable&lt;Integer&gt;() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> Integer <span class="title">call</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">                <span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">100</span>; i++) &#123;</span><br><span class="line">                    sum += i;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">return</span> sum;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">new</span> Thread((FutureTask)future).start();</span><br><span class="line"></span><br><span class="line">        Integer sum = future.get();</span><br><span class="line">        System.out.println(<span class="string">"sum:"</span> + sum);</span><br><span class="line"></span><br><span class="line">        executorService.shutdown();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h2 id="é›†åˆ"><a href="#é›†åˆ" class="headerlink" title="é›†åˆ"></a>é›†åˆ</h2><ol>
<li><p>Javaé›†åˆå°±åƒå®¹å™¨ä¸€æ ·ï¼Œå¯ä»¥åŠ¨æ€çš„æŠŠå¤šä¸ªå¯¹è±¡çš„å¼•ç”¨æ”¾å…¥åˆ°å®¹å™¨ä¸­ã€‚Javaé›†åˆå¯ä»¥ç”¨äºå­˜å‚¨æ•°é‡ä¸ç­‰çš„å¤šä¸ªå¯¹è±¡ï¼Œè¿˜å¯ç”¨äºä¿å­˜å…·æœ‰æ˜ å°„å…³ç³»çš„å…³è”æ•°ç»„ï¼›</p>
</li>
<li><p>Javaé›†åˆå¯ä»¥åˆ†ä¸ºCollectionå’ŒMapä½“ç³»ï¼š</p>
<ul>
<li>Collectionæ¥å£â€”â€”å•åˆ—æ•°æ®ï¼Œå®šä¹‰äº†å­˜å–ä¸€ç»„å¯¹è±¡çš„æ–¹æ³•çš„é›†åˆã€‚å…¶ä¸­ï¼ŒListæ˜¯å…ƒç´ æœ‰åºã€å¯ä»¥é‡å¤çš„é›†åˆã€‚Setæ˜¯å…ƒç´ æ— åºã€ä¸å¯é‡å¤çš„é›†åˆ</li>
<li>Mapæ¥å£â€”â€”åŒåˆ—æ•°ç»„ï¼Œä¿å­˜å…·æœ‰æ˜ å°„å…³ç³»çš„â€œkey-valueâ€é”®å€¼å¯¹</li>
</ul>
</li>
<li><p>é›†åˆæ¡†æ¶çš„ç»§æ‰¿æ ‘ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/9880d75c8d57964e3e91fb7d216bc7cd-24758" alt="é›†åˆæ¡†æ¶çš„ç»§æ‰¿æ ‘"></p>
</li>
<li><p>Collectionæ¥å£ä¸­çš„å¸¸ç”¨æ–¹æ³•ï¼š</p>
<ul>
<li><p>å¢åŠ ä¸€ä¸ªå…ƒç´ åˆ°é›†åˆä¸­â€”â€”boolean add(E e);</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Collection;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CollectionTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Collection&lt;String&gt; collection = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        collection.add(<span class="string">"å¼ ä¸‰"</span>);</span><br><span class="line">        System.out.println(collection);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>å¢åŠ ä¸€ç»„å…ƒç´ ï¼ˆé›†åˆå…ƒç´ ï¼‰åˆ°é›†åˆä¸­â€”â€”boolean addAll(Collection&lt;? extends E&gt; c);</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Collection;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CollectionTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Collection&lt;String&gt; collection = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line"></span><br><span class="line">        Collection&lt;String&gt; collection1 = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        collection1.add(<span class="string">"å¼ ä¸‰"</span>);</span><br><span class="line">        collection1.add(<span class="string">"æå››"</span>);</span><br><span class="line">        collection.addAll(collection1);</span><br><span class="line">        System.out.println(collection);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>è·å–é›†åˆä¸­æœ‰æ•ˆå…ƒç´ çš„ä¸ªæ•°â€”â€”int size();</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Collection;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CollectionTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Collection&lt;String&gt; collection = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        collection.add(<span class="string">"å¼ ä¸‰"</span>);</span><br><span class="line">        collection.add(<span class="string">"æå››"</span>);</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">"é›†åˆä¸­å…ƒç´ çš„ä¸ªæ•°:"</span> + collection.size());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>åˆ¤æ–­å…ƒç´ æ˜¯å¦æ˜¯ç©ºé›†åˆï¼ˆå…ƒç´ çš„ä¸ªæ•°ä¸º0ï¼‰â€”â€”boolean isEmpty();</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Collection;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CollectionTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Collection&lt;String&gt; collection = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line"></span><br><span class="line">        collection.add(<span class="keyword">null</span>);</span><br><span class="line"></span><br><span class="line">        System.out.println(collection.isEmpty());<span class="comment">//false</span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>åˆ¤æ–­é›†åˆæ˜¯å¦åŒ…å«æŸä¸ªæŒ‡å®šå…ƒç´ ï¼šè°ƒç”¨å…ƒç´ çš„equals()å’ŒhashCode()æ–¹æ³•åˆ¤æ–­çš„â€”â€”boolean contains(Object o);</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Collection;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CollectionTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Collection&lt;String&gt; collection = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        collection.add(<span class="string">"å¼ ä¸‰"</span>);</span><br><span class="line">        collection.add(<span class="string">"æå››"</span>);</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">"åˆ¤æ–­æ˜¯å¦åŒ…å«æŸä¸ªå…ƒç´ :"</span> + collection.contains(<span class="string">"å¼ ä¸‰"</span>));<span class="comment">//true</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>åˆ¤æ–­é›†åˆä¸­æ˜¯å¦åŒ…å«å¦ä¸€ä¸ªé›†åˆä¸­çš„æ‰€æœ‰å…ƒâ€”â€”boolean containsAll(Collection&lt;?&gt; c);</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Collection;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CollectionTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Collection&lt;String&gt; collection = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        collection.add(<span class="string">"å¼ ä¸‰"</span>);</span><br><span class="line">        collection.add(<span class="string">"æå››"</span>);</span><br><span class="line"></span><br><span class="line">        Collection&lt;String&gt; collection1 = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        collection1.add(<span class="string">"å¼ ä¸‰"</span>);</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">"åˆ¤æ–­ä¸€ä¸ªé›†åˆä¸­æ˜¯å¦åŒ…å«å¦ä¸€ä¸ªé›†åˆä¸­çš„æ‰€æœ‰å…ƒç´ "</span> + collection.containsAll(collection1));<span class="comment">//true</span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ¸…ç©ºé›†åˆä¸­çš„æ‰€æœ‰å…ƒç´ â€”â€”void clear();</p>
</li>
<li><p>ä»é›†åˆä¸­åˆ é™¤æŸä¸ªå…ƒç´ â€”â€”boolean remove(Object o);</p>
</li>
<li><p>ä»å½“å‰é›†åˆä¸­åˆ é™¤æŒ‡å®šé›†åˆåœ¨æ­¤é›†ä¸­ä¸­çš„æ‰€æœ‰å…ƒç´ ï¼šå³æ±‚å·®é›†â€”â€”boolean removeAll(Collection&lt;?&gt; c);</p>
</li>
<li><p>æŠŠäº¤é›†çš„ç»“æœå­˜åœ¨å½“å‰é›†åˆä¹‹ä¸­â€”â€”boolean retainAll(Collection&lt;?&gt; c);</p>
</li>
<li><p>é›†åˆæ˜¯å¦ç›¸ç­‰â€”â€”boolean equals(Object o);</p>
</li>
<li><p>å°†é›†åˆè½¬æ¢ä¸ºå¯¹è±¡æ•°ç»„â€”â€”Object[] toArray();</p>
</li>
<li><p>è·å–é›†åˆå¯¹è±¡çš„å“ˆå¸Œå€¼â€”â€”int hashCode();</p>
</li>
<li><p>é›†åˆå¯¹è±¡çš„éå†ï¼šä½¿ç”¨è¿­ä»£å™¨â€”â€”Iterator&lt;E&gt; iterator();</p>
</li>
<li><p>è¿­ä»£</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span>(æ•°æ®ç±»å‹ å…ƒç´ åç§°: é›†åˆåç§°æˆ–æ•°ç»„å)&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>Mapä¸­çš„keyå’Œvalueéƒ½å¯ä»¥æ˜¯ä»»ä½•å¼•ç”¨ç±»å‹çš„æ•°æ®ï¼ŒMapæ¥å£çš„å¸¸ç”¨å®ç°ç±»ï¼šHashMapã€TreeMapã€LinkedHashMapå’ŒPropertiesï¼›</p>
</li>
<li><p>Mapæ¥å£ä¸­å¸¸ç”¨çš„æ–¹æ³•ï¼š</p>
<ul>
<li><p>æ·»åŠ å…ƒç´ â€”â€”V put(K key, V value);</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CollectionTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Map&lt;String,String&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line"></span><br><span class="line">        map.put(<span class="string">"abc"</span>,<span class="string">"123"</span>);</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">"é›†åˆä¸­çš„å…ƒç´ :"</span> + map);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>å°†æŒ‡å®šMapé›†åˆä¸­çš„å…ƒç´ æ·»åŠ åˆ°æ­¤Mapé›†åˆä¹‹ä¸­â€”â€”void putAll(Map&lt;? extends K, ? extends V&gt; m);</p>
</li>
<li><p>æ ¹æ®æŒ‡å®šçš„keyç§»é™¤å…ƒç´ ï¼Œå¹¶è¿”å›keyå¯¹åº”çš„valueâ€”â€”V remove(Object key);</p>
</li>
<li><p>æ¸…ç©ºmapé›†åˆä¸­çš„æ‰€æœ‰å…ƒç´ â€”â€”void clear();</p>
</li>
<li><p>æ ¹æ®æŒ‡å®šçš„keyè·å–valueâ€”â€”V get(Object key);</p>
</li>
<li><p>åˆ¤æ–­é›†åˆä¸­æ˜¯å¦åŒ…å«æŒ‡å®šçš„valueâ€”â€”boolean containsValue(Object value);</p>
</li>
<li><p>è¿”å›mapä¸­key-valueçš„ä¸ªæ•°â€”â€”int size();</p>
</li>
<li><p>åˆ¤æ–­é›†åˆä¸­æ˜¯å¦åŒ…å«å…ƒç´ ï¼ˆåˆ¤æ–­é›†åˆæ˜¯å¦ä¸ºç©ºé›†åˆâ€”â€”boolean isEmpty();</p>
</li>
<li><p>åˆ¤æ–­å½“å‰mapé›†åˆæ˜¯å¦å’ŒæŒ‡å®šçš„mapé›†åˆç›¸ç­‰â€”â€”boolean equals(Object o);</p>
</li>
<li><p>è¿”å›mapé›†åˆæ‰€æœ‰keyæ„æˆçš„Seté›†åˆâ€”â€”Set&lt;K&gt; keySet();</p>
</li>
<li><p>è¿”å›æ‰€æœ‰valueç»„æˆçš„Collectioné›†åˆâ€”â€”Collection&lt;V&gt; values();</p>
</li>
<li><p>è¿”å›æ‰€æœ‰key-valueç»„æˆçš„Seté›†åˆâ€”â€”Set&lt;Map.Entry&lt;K, V&gt;&gt; entrySet();</p>
</li>
</ul>
</li>
<li><p>Collectionså·¥å…·ç±»ï¼šæä¾›äº†ä¸€ç³»åˆ—é™æ€çš„æ–¹æ³•å¯¹é›†åˆå…ƒç´ è¿›è¡Œæ’åºã€æŸ¥è¯¢å’Œä¿®æ”¹ç­‰æ“ä½œï¼Œè¿˜æä¾›äº†å¯¹é›†åˆå¯¹è±¡è®¾ç½®ä¸å¯å˜ã€å¯¹é›†åˆå¯¹è±¡å®ç°åŒæ­¥æ§åˆ¶ç­‰æ–¹æ³•</p>
</li>
<li><p>Collectionså·¥å…·ç±»å¸¸ç”¨æ–¹æ³•ï¼š</p>
<ul>
<li>å¯¹Listé›†åˆä¸­çš„å…ƒç´ è¿›è¡Œåè½¬â€”â€”public static void reverse(List&lt;?&gt; list) { }</li>
<li>å¯¹Listé›†åˆä¸­çš„å…ƒç´ è¿›è¡Œéšæœºæ’åºâ€”â€”public static void shuffle(List&lt;?&gt; list){}</li>
<li>å¯¹Listé›†åˆä¸­çš„å…ƒç´ æŒ‰ç…§è‡ªç„¶é¡ºåºè¿›è¡Œæ’åºâ€”â€”public static &lt;T extends Comparable&lt;? super T&gt;&gt; void sort(List&lt;T&gt; list){}</li>
<li>å¯¹Listé›†åˆçš„å…ƒç´ è¿›è¡Œè‡ªå®šä¹‰æ’åºâ€”â€”public static &lt;T&gt; void sort(List&lt;T&gt; list, Comparator&lt;? super T&gt; c) {}</li>
<li>å°†æŒ‡å®šListé›†åˆä¸­çš„iå¤„å…ƒç´ å’Œjå¤„å…ƒç´ è¿›è¡Œäº¤æ¢â€”â€”public static void swap(List&lt;?&gt; list, int i, int j){}</li>
<li>æ ¹æ®å…ƒç´ çš„è‡ªç„¶é¡ºåºï¼Œè¿”å›ç»™å®šé›†åˆä¸­çš„æœ€å¤§å…ƒç´ â€”â€”public static &lt;T extends Object &amp; Comparable&lt;? super T&gt;&gt; T max(Collection&lt;? extends T&gt; coll){}</li>
<li>æ ¹æ®ComparatoræŒ‡å®šçš„é¡ºåºï¼Œè¿”å›ç»™å®šé›†åˆä¸­çš„æœ€å¤§å…ƒç´ â€”â€”public static &lt;T&gt; T max(Collection&lt;? extends T&gt; coll, Comparator&lt;? super T&gt; comp){}</li>
<li>è¿”å›æŒ‡å®šé›†åˆä¸­æŒ‡å®šå…ƒç´ å‡ºç°çš„ä¸ªæ•°â€”â€”public static int frequency(Collection&lt;?&gt; c, Object o){}</li>
<li>å°†Listé›†åˆä¸­çš„æŒ‡å®šå…ƒç´ æ›¿æ¢æˆæŒ‡å®šçš„æ–°å…ƒç´ â€”â€”public static &lt;T&gt; boolean replaceAll(List&lt;T&gt; list, T oldVal, T newVal)</li>
</ul>
</li>
</ol>
<h2 id="æ³›å‹"><a href="#æ³›å‹" class="headerlink" title="æ³›å‹"></a>æ³›å‹</h2><ol>
<li><p>æ³›å‹å…è®¸åœ¨å®šä¹‰ç±»ã€æ¥å£æ—¶é€šè¿‡ä¸€ä¸ªæ ‡è¯†æ¥æ ‡è¯†ç±»ä¸­çš„æŸä¸ªå±æ€§çš„ç±»å‹æˆ–è€…æŸä¸ªæ–¹æ³•çš„è¿”å›å€¼ä»¥åŠå‚æ•°ç±»å‹ã€‚è¿™ä¸ªç±»å‹å‚æ•°å°†åœ¨ä½¿ç”¨çš„æ—¶å€™ï¼ˆå¦‚ç»§æ‰¿æˆ–å®ç°è¿™ä¸ªæ¥å£ï¼Œç”¨è¿™ä¸ªç±»å‹å£°æ˜å˜é‡ã€åˆ›å»ºå¯¹è±¡ï¼‰ç¡®å®šï¼ˆå³ä¼ å…¥å®é™…çš„ç±»å‹å‚æ•°ï¼Œä¹Ÿç§°ä¸ºç±»å‹å®å‚ï¼‰ï¼›</p>
</li>
<li><p>æ³›å‹çš„ä¼˜åŠ¿ï¼š</p>
<ul>
<li>è§£å†³å…ƒç´ å­˜å‚¨çš„å®‰å…¨æ€§é—®é¢˜</li>
<li>è§£å†³è·å–æ•°æ®çš„æ—¶å€™ï¼Œéœ€è¦å¼ºåˆ¶ç±»å‹è½¬æ¢çš„é—®é¢˜</li>
</ul>
</li>
<li><p>ä½¿ç”¨æ³›å‹å’Œä½¿ç”¨æ³›å‹ä¹‹å‰ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/71c7cbbb238b00b7f2ef1a7271e4887d-48818" alt="ä¸ä½¿ç”¨æ³›å‹"></p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/4998c6ee4bd2bac6f333e1dd0fbc7688-40346" alt="ä½¿ç”¨æ³›å‹"></p>
</li>
<li><p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CollectionTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">       List&lt;String&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">       list.add(<span class="string">"å¼ ä¸‰"</span>);</span><br><span class="line">       list.add(<span class="string">"æå››"</span>);</span><br><span class="line">       list.add(<span class="string">"ç‹äº”"</span>);</span><br><span class="line">       list.add(<span class="string">"èµµå…­"</span>);</span><br><span class="line">       list.add(<span class="string">"ç”°ä¸ƒ"</span>);</span><br><span class="line">       list.add(<span class="string">"ç‹å…«"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (String s : list) &#123;</span><br><span class="line">            System.out.println(<span class="string">"é›†åˆä¸­çš„å…ƒç´ æ˜¯ï¼š"</span> + s);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>è‡ªå®šä¹‰æ³›å‹ï¼š</p>
<ul>
<li><p>æ³›å‹ç±»å£°æ˜ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> ç±»å&lt;<span class="title">T</span>&gt;()</span>&#123;&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ³›å‹æ¥å£ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">interface</span> æ¥å£å&lt;<span class="title">T1</span>,<span class="title">T2</span>&gt;()</span>&#123;&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä¸€å®šè¦åœ¨ç±»ååé¢æŒ‡å®šç±»å‹å‚æ•°çš„å€¼ï¼ˆç±»å‹ï¼‰:</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">List&lt;String&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ³›å‹å‚æ•°åªèƒ½æ˜¯ç±»ï¼Œä¸å¯ä»¥æ˜¯åŸºæœ¬æ•°æ®ç±»å‹ï¼Œä½†å¯ä»¥ä½¿ç”¨åŒ…è£…ç±»å¡«å……</p>
</li>
<li><p>æ³›å‹ç±»å¯èƒ½æœ‰å¤šä¸ªå‚æ•°ï¼Œæ­¤æ—¶åº”è¯¥å°†å¤šä¸ªå‚æ•°ä¸€èµ·æ”¾åœ¨&lt;&gt;ä¸­ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span>&lt;<span class="title">T1</span>,<span class="title">T2</span>,<span class="title">T3</span>&gt;</span>&#123;&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ³›å‹ç±»çš„æ„é€ å™¨æ˜¯æ²¡æœ‰æ³›å‹ç¬¦å·çš„ï¼›</p>
</li>
<li><p>å¼‚å¸¸ç±»ä¸èƒ½æ˜¯æ³›å‹çš„ï¼›</p>
</li>
<li><p>ä½¿ç”¨é€šé…ç¬¦&lt;?&gt;ï¼Œä¾‹å¦‚List&lt;?&gt;ï¼ŒMap&lt;?,?&gt;ã€‚æ³¨æ„ï¼šList&lt;?&gt;æ˜¯List&lt;String&gt;å’ŒList&lt;Integer&gt;çš„çˆ¶ç±»ï¼›</p>
</li>
<li><p>é€šé…ç¬¦æŒ‡å®šä¸Šé™ï¼š&lt;? extends ç±»æˆ–æ¥å£&gt;ï¼Œä½¿ç”¨æŒ‡å®šçš„ç±»å‹å¿…é¡»æ˜¯ç»§æ‰¿æŸä¸ªç±»æˆ–è€…å®ç°æŸä¸ªæ¥å£ï¼Œå³&lt;=ï¼›</p>
</li>
<li><p>é€šé…ç¬¦æŒ‡å®šä¸‹é™ï¼š&lt;? super ç±»&gt;ï¼ŒæŒ‡å®šçš„ç±»å‹ä¸èƒ½å°äºæ“ä½œçš„ç±»ï¼›</p>
</li>
</ul>
</li>
<li><p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> T t ;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">(T t)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.t = t;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> T <span class="title">getT</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> t;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setT</span><span class="params">(T t)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.t = t;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * é™æ€æ–¹æ³•ä¸­ä¸èƒ½ä½¿ç”¨ç±»çš„æ³›å‹ï¼Œå› ä¸ºé™æ€æ–¹æ³•æ˜¯ä¼˜å…ˆäºç±»æ‰§è¡Œçš„</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line"><span class="comment">//    public static T getStaticT()&#123;</span></span><br><span class="line"><span class="comment">//        return t;</span></span><br><span class="line"><span class="comment">//    &#125;</span></span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">testT</span><span class="params">()</span></span>&#123;</span><br><span class="line">    List&lt;?&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    List&lt;Object&gt; objectList =  <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    List&lt;String&gt; stringList = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    List&lt;Integer&gt; integerList = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">   </span><br><span class="line">    list = objectList;</span><br><span class="line">    list = stringList;</span><br><span class="line">    list = integerList;</span><br><span class="line">    integerList.add(<span class="number">1</span>);</span><br><span class="line">    integerList.add(<span class="number">2</span>);</span><br><span class="line">    System.out.println(list.toString());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h2 id="Fileç±»"><a href="#Fileç±»" class="headerlink" title="Fileç±»"></a>Fileç±»</h2><ol>
<li><p>java.io.Fileç±»æ˜¯æ–‡ä»¶æˆ–æ–‡ä»¶ç›®å½•è·¯å¾„çš„æŠ½è±¡è¡¨ç¤ºå½¢å¼ï¼Œå’Œå¹³å°æ— å…³ã€‚Fileç±»èƒ½åˆ›å»ºã€åˆ é™¤ã€é‡å‘½åæ–‡ä»¶å’Œç›®å½•ï¼Œä½†Fileç±»ä¸èƒ½è®¿é—®æ–‡ä»¶å†…å®¹æœ¬èº«ã€‚å¦‚æœéœ€è¦è®¿é—®æ–‡ä»¶å†…å®¹æœ¬èº«ï¼Œåˆ™éœ€è¦ä½¿ç”¨è¾“å…¥/è¾“å‡ºæµï¼›</p>
</li>
<li><p>Fileç±»æ„é€ å™¨ï¼š</p>
<ul>
<li>æ ¹æ®è·¯å¾„ï¼ˆç›¸å¯¹è·¯å¾„å’Œç»å¯¹è·¯å¾„ï¼‰åˆ›å»ºFileå¯¹è±¡â€”â€”public File(String pathname){}</li>
<li>ä»¥parentä¸ºçˆ¶è·¯å¾„ï¼Œchildä¸ºå­è·¯å¾„åˆ›å»ºFileå¯¹è±¡â€”â€”public File(String parent, String child){}</li>
<li>æ ¹æ®ä¸€ä¸ªçˆ¶Fileå¯¹è±¡å’Œå­æ–‡ä»¶è·¯å¾„åˆ›å»ºFileå¯¹è±¡â€”â€”public File(File parent, String child){}</li>
<li>ä¸ºäº†è§£å†³ä¸åŒå¹³å°çš„è·¯å¾„åˆ†éš”ç¬¦ä¸åŒï¼ŒFileæä¾›äº†ä¸€ä¸ªå¸¸é‡ï¼Œæ¥è¡¨ç¤ºè·¯å¾„åˆ†éš”ç¬¦â€”â€”File.separator</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line">   </span><br><span class="line">File file = <span class="keyword">new</span> File(<span class="string">"/temp/a.txt"</span>);</span><br><span class="line">File file1 = <span class="keyword">new</span> File(<span class="string">"/temp/"</span>,<span class="string">"a.txt"</span>);</span><br><span class="line">File file2 = <span class="keyword">new</span> File(<span class="keyword">new</span> File(<span class="string">"/temp/"</span>),<span class="string">"a.txt"</span>);</span><br></pre></td></tr></table></figure>
</li>
<li><p>Fileç±»çš„å¸¸ç”¨æ–¹æ³•ï¼š</p>
<ul>
<li><p>è·å–ç»å¯¹è·¯å¾„â€”â€”public String getAbsolutePath(){}</p>
</li>
<li><p>è·å–è·¯å¾„â€”â€”public String getPath(){}</p>
</li>
<li><p>è·å–åç§°â€”â€”public String getName(){}</p>
</li>
<li><p>è·å–æ–‡ä»¶æˆ–ç›®å½•çš„ä¸Šå±‚è·¯å¾„ï¼ˆå¦‚æœæ²¡æœ‰ï¼Œè¿”å›nullï¼‰â€”â€”public String getParent(){}</p>
</li>
<li><p>è·å–æ–‡ä»¶çš„é•¿åº¦ï¼ˆå³å­—èŠ‚æ•°ï¼Œå¦‚æœæ–‡ä»¶ä¸å­˜åœ¨ï¼Œè¿”å›0ï¼Œä¸èƒ½è·å–ç›®å½•çš„é•¿åº¦ï¼‰â€”â€”public long length(){}</p>
</li>
<li><p>è·å–æœ€åä¸€æ¬¡çš„ä¿®æ”¹æ—¶é—´ï¼Œæ¯«ç§’å€¼ï¼ˆå¦‚æœæ–‡ä»¶ä¸å­˜åœ¨ï¼Œè¿”å›0ï¼‰â€”â€”public long lastModified(){}</p>
</li>
<li><p>è·å–æŒ‡å®šç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶æˆ–æ–‡ä»¶ç›®å½•çš„åç§°æ•°ç»„â€”â€”public String[] list(){}</p>
</li>
<li><p>è·å–æŒ‡å®šç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶æˆ–ç›®å½•çš„Fileæ•°ç»„â€”â€”public File[] listFiles(){}</p>
</li>
<li><p>æ–‡ä»¶é‡å‘½åï¼ˆéœ€è¦æ³¨æ„çš„æ˜¯é‡å‘½ååçš„æ–‡ä»¶çš„çˆ¶è·¯å¾„è¦å’Œé‡å‘½åå‰çš„çˆ¶è·¯å¾„ç›¸åŒï¼‰â€”â€”public boolean renameTo(File dest){}</p>
</li>
<li><p>åˆ¤æ–­æ–‡ä»¶æˆ–ç›®å½•æ˜¯å¦å­˜åœ¨â€”â€”public boolean exists(){}</p>
</li>
<li><p>åˆ¤æ–­æ˜¯å¦ä¸ºç›®å½•â€”â€”public boolean isDirectory(){}</p>
</li>
<li><p>åˆ¤æ–­æ˜¯å¦ä¸ºæ–‡ä»¶â€”â€”public boolean isFile(){}</p>
</li>
<li><p>åˆ¤æ–­æ–‡ä»¶æˆ–ç›®å½•æ˜¯å¦å¯è¯»ã€å¯å†™ã€éšè—ã€å¯æ‰§è¡Œ</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">canRead</span><span class="params">()</span></span>&#123;&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">canWrite</span><span class="params">()</span></span>&#123;&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isHidden</span><span class="params">()</span></span>&#123;&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">canExecute</span><span class="params">()</span></span>&#123;&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>åˆ›å»ºæ–‡ä»¶ï¼ˆå¦‚æœæ–‡ä»¶å­˜åœ¨ï¼Œå°±ä¸åˆ›å»ºï¼Œè¿”å›falseï¼‰â€”â€”public boolean createNewFile() throws IOException{}</p>
</li>
<li><p>åˆ›å»ºç›®å½•â€”â€”public boolean mkdirs(){}</p>
</li>
<li><p>æ–‡ä»¶æˆ–ç›®å½•åˆ é™¤åŠŸèƒ½ï¼ˆæ³¨æ„ä¸èµ°å›æ”¶ç«™ï¼Œå¦‚æœæ˜¯å¤šçº§ç›®å½•åªèƒ½åˆ é™¤æœ€é‡Œé¢çš„ç›®å½•ï¼Œè€Œä¸”å¿…é¡»æ˜¯ç©ºç›®å½•ï¼‰â€”â€”public boolean delete(){}</p>
</li>
</ul>
</li>
<li><p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">testReadFile</span><span class="params">()</span></span>&#123;</span><br><span class="line">    File file = <span class="keyword">new</span> File(<span class="string">"/Volumes/Data/hexoBlog"</span> + File.separator + <span class="string">"package.json"</span>);</span><br><span class="line">    FileReader fileReader = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        fileReader = <span class="keyword">new</span> FileReader(file);</span><br><span class="line">        <span class="keyword">int</span> ch;</span><br><span class="line">        <span class="keyword">while</span> (-<span class="number">1</span> != (ch = fileReader.read())) &#123;</span><br><span class="line">            System.out.print((<span class="keyword">char</span>) ch);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">null</span> != fileReader) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                fileReader.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h2 id="IOæµ"><a href="#IOæµ" class="headerlink" title="IOæµ"></a>IOæµ</h2><ol>
<li><p>I/Oæ˜¯input/outputçš„ç¼©å†™ï¼ŒIOæŠ€æœ¯æ˜¯éå¸¸å®ç”¨çš„æŠ€æœ¯ï¼Œç”¨äºå¤„ç†è®¾å¤‡ä¹‹é—´çš„æ•°æ®ä¼ è¾“ï¼Œå¦‚è¯»å†™æ–‡ä»¶ï¼Œç½‘ç»œé€šè®¯ç­‰ã€‚Javaç¨‹åºä¸­ï¼Œå¯¹äºæ•°æ®çš„è¾“å…¥è¾“å‡ºæ“ä½œä»¥â€œæµStreamâ€çš„æ–¹å¼è¿›è¡Œï¼›</p>
</li>
<li><p>java.ioåŒ…ä¸‹æä¾›äº†å„ç§â€œæµâ€ç±»å’Œæ¥å£ï¼Œç”¨æ¥è·å–ä¸åŒç§ç±»çš„æ•°æ®ï¼Œå¹¶é€šè¿‡æ ‡å‡†çš„æ–¹æ³•è¾“å…¥æˆ–è¾“å‡ºæ•°æ®ï¼š</p>
<ul>
<li>è¾“å…¥â€”â€”è¯»å–å¤–éƒ¨æ•°æ®ï¼ˆç£ç›˜ã€å…‰ç›˜ç­‰å­˜å‚¨è®¾å¤‡çš„æ•°æ®ï¼‰åˆ°ç¨‹åºï¼ˆå†…å­˜ï¼‰ä¸­</li>
<li>è¾“å‡ºâ€”â€”å°†ç¨‹åºï¼ˆå†…å­˜ï¼‰æ•°æ®è¾“å‡ºåˆ°ç£ç›˜ã€å…‰ç›˜ç­‰å­˜å‚¨è®¾å¤‡ä¸­</li>
</ul>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/0a14d395e1cac29b6992286ab5f9fb28-12411" alt="æ–‡ä»¶è¾“å…¥è¾“å‡º"></p>
</li>
<li><p>æµçš„åˆ†ç±»ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/3bafce7cf91f18cd5fa774eb4264d386-18962" alt="æµçš„åˆ†ç±»"></p>
</li>
<li><p>FileReaderï¼š</p>
<ul>
<li><p>å°†æ–‡ä»¶çš„å†…å®¹è¯»å–ï¼Œä¸€æ¬¡åªèƒ½è¯»å–ä¸€ä¸ªå­—ç¬¦ï¼Œè¯»å–åˆ°æ–‡ä»¶æœ«å°¾çš„æ—¶å€™è¿”å›-1</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">read</span><span class="params">()</span> <span class="keyword">throws</span> IOException</span>&#123;&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>è¯»å–æ–‡ä»¶çš„å†…å®¹ï¼Œä¸€æ¬¡å¯ä»¥è¯»å–æŒ‡å®šé•¿åº¦çš„å­—ç¬¦</p>
</li>
</ul>
</li>
<li><p>FileWriter</p>
</li>
<li><p>ä¸ºäº†æé«˜æ•°æ®è¯»å†™çš„é€Ÿåº¦ï¼ŒJava APIæä¾›äº†å¸¦ç¼“å†²åŠŸèƒ½çš„æµç±»ï¼Œåœ¨ä½¿ç”¨è¿™äº›æµç±»çš„æ—¶å€™ï¼Œä¼šåˆ›å»ºä¸€ä¸ªå†…éƒ¨ç¼“å†²åŒºæ•°ç»„ï¼Œç¼ºçœä½¿ç”¨8192ä¸ªå­—èŠ‚çš„ç¼“å†²åŒºï¼›</p>
</li>
<li><p>ç¼“å†²æµè¦â€œå¥—æ¥â€åœ¨ç›¸åº”çš„èŠ‚ç‚¹æµä¹‹ä¸Šï¼Œæ ¹æ®æ•°æ®æ“ä½œå•ä½çš„ä¸åŒå¯ä»¥å°†å…¶åˆ†ä¸º:</p>
<ul>
<li>BufferedInputStreamå’ŒBufferedInputStream</li>
<li>BufferedReaderå’ŒBufferedWriter</li>
</ul>
</li>
<li><p>è½¬æ¢æµæä¾›äº†åœ¨å­—èŠ‚æµå’Œå­—ç¬¦æµä¹‹é—´çš„è½¬æ¢,Java APIæä¾›äº†ä¸¤ä¸ªè½¬æ¢æµ:</p>
<ul>
<li>InputStreamReaderâ€”â€”å°†InputStreamè½¬æ¢ä¸ºReader</li>
<li>OutputStreamWriterâ€”â€”å°†Writerè½¬æ¢ä¸ºOutputStream</li>
</ul>
</li>
<li><p>System.inå’ŒSystem.outåˆ†åˆ«ä»£è¡¨äº†ç³»ç»Ÿæ ‡å‡†çš„è¾“å…¥å’Œè¾“å‡ºè®¾å¤‡ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œè¾“å…¥è®¾å¤‡æ˜¯é”®ç›˜ï¼Œè¾“å‡ºè®¾å¤‡æ˜¯æ˜¾ç¤ºå™¨ã€‚é€šè¿‡Systemç±»çš„setIn()å’ŒsetOut()æ–¹æ³•å¯¹é»˜è®¤è®¾å¤‡è¿›è¡Œæ”¹å˜ï¼›</p>
</li>
<li><p>æ‰“å°æµå°†åŸºæœ¬æ•°æ®ç±»å‹çš„æ•°æ®è½¬æ¢ä¸ºå­—ç¬¦ä¸²è¾“å‡ºï¼ŒPrintStreamå’ŒPrintWriteræä¾›äº†ä¸€ç³»åˆ—é‡è½½çš„print()å’Œprintln()æ–¹æ³•ï¼Œç”¨äºå¤šç§æ•°æ®ç±»å‹çš„è¾“å‡ºï¼›</p>
</li>
<li><p>ObjectInputStreamå’ŒObjectOutputStreamæ˜¯ç”¨äºå­˜å‚¨å’Œè¯»å–åŸºæœ¬æ•°æ®ç±»å‹æ•°æ®æˆ–å¯¹åº”çš„å¤„ç†æµã€‚å…¶å¼ºå¤§ä¹‹å¤„åœ¨äºå¯ä»¥æŠŠjavaå¯¹è±¡å†™å…¥åˆ°æ•°æ®æºä¸­ï¼Œä¹Ÿèƒ½æŠŠå¯¹è±¡ä»æ•°æ®æºä¸­è¿˜åŸå›æ¥ï¼š</p>
<ul>
<li>åºåˆ—åŒ–â€”â€”ç”¨ObjectOutputStreamç±»ä¿å­˜åŸºæœ¬æ•°æ®ç±»å‹æ•°æ®æˆ–å¯¹è±¡çš„æœºåˆ¶</li>
<li>ååºåˆ—åŒ–â€”â€”ç”¨ObjectInputStreamç±»è¯»å–åŸºæœ¬æ•°æ®ç±»å‹æ•°æ®æˆ–å¯¹è±¡çš„æœºåˆ¶</li>
</ul>
</li>
<li><p>å¯¹è±¡åºåˆ—åŒ–æœºåˆ¶å…è®¸æŠŠå†…å­˜ä¸­çš„javaå¯¹è±¡è½¬æ¢æˆå¹³å°æ— å…³çš„äºŒè¿›åˆ¶æµï¼Œä»è€Œå…è®¸æŠŠè¿™ç§äºŒè¿›åˆ¶æµæŒä¹…åŒ–çš„ä¿å­˜åœ¨ç£ç›˜ä¸Šï¼Œæˆ–é€šè¿‡ç½‘ç»œå°†è¿™ç§äºŒè¿›åˆ¶æµä¼ è¾“åˆ°å¦ä¸€ä¸ªç½‘ç»œèŠ‚ç‚¹ã€‚å½“å…¶ä»–ç¨‹åºè·å–äº†è¿™ç§äºŒè¿›åˆ¶æµï¼Œå°±å¯ä»¥æ¢å¤æˆåŸæ¥çš„javaå¯¹è±¡ï¼›</p>
</li>
<li><p>åºåˆ—åŒ–çš„å¥½å¤„åœ¨äºå¯å°†ä»»ä½•å®ç°äº†Serializableæ¥å£çš„å¯¹è±¡è½¬æ¢æˆå­—èŠ‚æ•°æ®ï¼Œä½¿å…¶åœ¨ä¿å­˜å’Œä¼ è¾“çš„æ—¶å€™å¯ä»¥è¢«è¿˜åŸï¼›</p>
</li>
<li><p>å¦‚æœéœ€è¦è®©æŸä¸ªå¯¹è±¡æ”¯æŒåºåˆ—åŒ–æœºåˆ¶ï¼Œåˆ™å¿…é¡»è®©å¯¹è±¡æ‰€å±çš„ç±»åŠå…¶å±æ€§æ˜¯å¯åºåˆ—åŒ–çš„ï¼Œä¸ºäº†è®©æŸä¸ªç±»æ˜¯å¯åºåˆ—åŒ–çš„ï¼Œè¯¥ç±»å¿…é¡»å®ç°Serializableï¼Œå¦åˆ™ï¼Œä¼šæŠ›å‡ºNotSerializableExceptionå¼‚å¸¸ï¼</p>
</li>
<li><p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">testWriteFile</span><span class="params">()</span></span>&#123;</span><br><span class="line">    File file = <span class="keyword">new</span> File(<span class="string">"b.txt"</span>);</span><br><span class="line">    FileWriter fileWriter = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        fileWriter = <span class="keyword">new</span> FileWriter(file);</span><br><span class="line">        fileWriter.write(<span class="string">"abcedf"</span>);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="keyword">null</span> != fileWriter)&#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                fileWriter.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h2 id="ç½‘ç»œç¼–ç¨‹"><a href="#ç½‘ç»œç¼–ç¨‹" class="headerlink" title="ç½‘ç»œç¼–ç¨‹"></a>ç½‘ç»œç¼–ç¨‹</h2><ol>
<li><p>InetAddressç±»ä¸»è¦è¡¨ç¤ºIPåœ°å€ï¼Œä¸¤ä¸ªå­ç±»ï¼šInet4Addressã€Inet6Addressï¼›</p>
</li>
<li><p>InetAddressç±»çš„å¸¸ç”¨æ–¹æ³•ï¼š</p>
<ul>
<li>è·å–æœ¬åœ°ä¸»æœºçš„InetAddressç±»â€”â€”public static InetAddress getLocalHost(){}</li>
<li>æ ¹æ®ä¸»æœºåç§°è·å–InetAddressç±»â€”â€”public static InetAddress getByName(String host){}</li>
<li>è¿”å›IPåœ°å€â€”â€”public String getHostAddress() {}</li>
<li>è·å–ä¸»æœºåâ€”â€”public String getHostName() {}</li>
<li>æµ‹è¯•æŒ‡å®šæ—¶é—´å†…æ˜¯å¦å¯ä»¥è¾¾åˆ°è¯¥åœ°å€â€”â€”public boolean isReachable(int timeout) throws IOException{}</li>
</ul>
</li>
<li><p>ç¤ºä¾‹ä»£ç ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">testNetWork</span><span class="params">()</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">    InetAddress inetAddress = InetAddress.getLocalHost();</span><br><span class="line">    System.out.println(<span class="string">"è·å–æœ¬åœ°åœ°å€ï¼š"</span> + inetAddress);</span><br><span class="line">   </span><br><span class="line">    InetAddress address = InetAddress.getByName(<span class="string">"www.baidu.com"</span>);</span><br><span class="line">    System.out.println(address);</span><br><span class="line">    System.out.println(<span class="string">"è·å–IPåœ°å€ï¼š"</span> + address.getHostAddress());</span><br><span class="line">    String hostName = address.getHostName();</span><br><span class="line">    System.out.println(<span class="string">"è·å–ä¸»æœºåï¼š"</span> + hostName);</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="keyword">boolean</span> flag = address.isReachable(<span class="number">5</span>);</span><br><span class="line">        System.out.println(<span class="string">"æµ‹è¯•5æ¯«ç§’æ˜¯å¦å¯ä»¥åˆ°è¾¾è¯¥åœ°å€ï¼š"</span> + flag);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h2 id="å¸¸ç”¨ç±»"><a href="#å¸¸ç”¨ç±»" class="headerlink" title="å¸¸ç”¨ç±»"></a>å¸¸ç”¨ç±»</h2><ol>
<li><p>Stringç±»ï¼šæ˜¯ä¸€ä¸ªfinalç±»ï¼Œä»£è¡¨ä¸å¯å˜çš„å­—ç¬¦åºåˆ—ã€‚Stringå¯¹è±¡çš„å­—ç¬¦å†…å®¹æ˜¯å­˜å‚¨åœ¨ä¸€ä¸ªå­—ç¬¦æ•°ç»„value[]ä¸­çš„ï¼›</p>
</li>
<li><p>Stringå¸¸ç”¨æ–¹æ³•ï¼š</p>
<ul>
<li><p>è¿”å›å­—ç¬¦ä¸²çš„é•¿åº¦</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">int</span> <span class="title">length</span><span class="params">()</span></span>&#123;&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>è¿”å›æŸç´¢å¼•å¤„çš„å­—ç¬¦</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">char</span> <span class="title">charAt</span><span class="params">(<span class="keyword">int</span> index)</span></span>&#123;&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦ä¸ºç©ºå­—ç¬¦ä¸²</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isEmpty</span><span class="params">()</span> </span>&#123;&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä½¿ç”¨é»˜è®¤è¯­è¨€ç¯å¢ƒï¼Œå°†Stringä¸­çš„æ‰€æœ‰å­—ç¬¦è½¬æ¢ä¸ºå°å†™</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">toLowerCase</span><span class="params">()</span></span>&#123;&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>é€šè¿‡æŒ‡å®šè¯­è¨€ç¯å¢ƒï¼Œå°†Stringä¸­çš„æ‰€æœ‰å­—ç¬¦è½¬æ¢ä¸ºå°å†™</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">toUpperCase</span><span class="params">(Locale locale)</span></span>&#123;&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä½¿ç”¨é»˜è®¤è¯­è¨€ç¯å¢ƒï¼Œå°†Stringä¸­çš„æ‰€æœ‰å­—ç¬¦è½¬æ¢ä¸ºå¤§å†™</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">toUpperCase</span><span class="params">()</span></span>&#123;&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>é€šè¿‡æŒ‡å®šè¯­è¨€ç¯å¢ƒï¼Œå°†Stringä¸­çš„æ‰€æœ‰å­—ç¬¦è½¬æ¢ä¸ºå¤§å†™</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">toUpperCase</span><span class="params">(Locale locale)</span></span>&#123;&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>å°†å­—ç¬¦ä¸²çš„é¦–å°¾ç©ºç™½å»æ‰</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">trim</span><span class="params">()</span></span>&#123;&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ¯”è¾ƒå­—ç¬¦ä¸²å†…å®¹æ˜¯å¦ç›¸åŒ</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">equals</span><span class="params">(Object anObject)</span></span>&#123;&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>åœ¨å¿½ç•¥å¤§å°å†™çš„æƒ…å†µä¸‹ï¼Œæ¯”è¾ƒå­—ç¬¦ä¸²å†…å®¹æ˜¯å¦ç›¸åŒ</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">equalsIgnoreCase</span><span class="params">(String anotherString)</span></span>&#123;&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>å°†å­—ç¬¦ä¸²æ‹¼æ¥</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">concat</span><span class="params">(String str)</span></span>&#123;&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ¯”è¾ƒå­—ç¬¦ä¸²å¤§å°ï¼ˆå¦‚æœå°äº0ï¼Œè¯´æ˜å½“å‰çš„å­—ç¬¦ä¸²æ¯”ä¼ å…¥çš„å­—ç¬¦ä¸²å°ï¼›å¦‚æœç­‰äº0ï¼Œé‚£ä¹ˆå­—ç¬¦ä¸²ç›¸ç­‰ï¼›å¦‚æœå¤§äº0ï¼Œå½“å‰çš„å­—ç¬¦ä¸²æ¯”æ’å…¥çš„å­—ç¬¦ä¸²å¤§ï¼‰</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compareTo</span><span class="params">(String anotherString)</span></span>&#123;&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä»æŒ‡å®šç´¢å¼•ä½ç½®å¼€å§‹æˆªå–å­—ç¬¦ä¸²</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">substring</span><span class="params">(<span class="keyword">int</span> beginIndex)</span> </span>&#123;&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>å°†å­—ç¬¦ä¸²ä»æŒ‡å®šä½ç½®æˆªå–åˆ°ç»“æŸä½ç½®</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">substring</span><span class="params">(<span class="keyword">int</span> beginIndex, <span class="keyword">int</span> endIndex)</span></span>&#123;&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>åˆ¤æ–­å½“å‰å­—ç¬¦ä¸²æ˜¯å¦ä»¥æŒ‡å®šçš„åç¼€ç»“å°¾</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">endsWith</span><span class="params">(String suffix)</span></span>&#123;&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>åˆ¤æ–­å½“å‰å­—ç¬¦ä¸²æ˜¯å¦ä»¥æŒ‡å®šçš„å‰ç¼€å¼€å¤´</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">startsWith</span><span class="params">(String prefix)</span></span>&#123;&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä»æŒ‡å®šç´¢å¼•å¼€å§‹ï¼Œåˆ¤æ–­å½“å‰å­—ç¬¦ä¸²æ˜¯å¦ä»¥æŒ‡å®šçš„å‰ç¼€å¼€å¤´</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">startsWith</span><span class="params">(String prefix, <span class="keyword">int</span> toffset)</span></span>&#123;&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>åˆ¤æ–­å½“å‰å­—ç¬¦ä¸²æ˜¯å¦åŒ…å«æŒ‡å®šçš„charå€¼åºåˆ—</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">contains</span><span class="params">(CharSequence s)</span></span>&#123;&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>è¿”å›æŒ‡å®šå­å­—ç¬¦ä¸²å‡ºç°åœ¨å½“å‰å­—ç¬¦ä¸²çš„ç¬¬ä¸€ä¸ªç´¢å¼•ä½ç½®</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">indexOf</span><span class="params">(String str)</span></span>&#123;&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>è¿”å›æŒ‡å®šå­å­—ç¬¦ä¸²åœ¨å½“å‰å­—ç¬¦ä¸²ä¸­æœ€å³è¾¹å‡ºç°çš„ç´¢å¼•ä½ç½®</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">lastIndexOf</span><span class="params">(String str)</span></span>&#123;&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä»æŒ‡å®šç´¢å¼•ä½ç½®å¼€å§‹åå‘æœç´¢ï¼Œè¿”å›æŒ‡å®šå­—ç¬¦ä¸²åœ¨å½“å‰å­—ç¬¦ä¸²ä¸­æœ€å³è¾¹å‡ºç°çš„ç´¢å¼•ä½ç½®</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">lastIndexOf</span><span class="params">(String str, <span class="keyword">int</span> fromIndex)</span> </span>&#123;&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>å°†å­—ç¬¦ä¸²ä¸­æŒ‡å®šçš„å­—ç¬¦æ›¿æ¢ä¸ºæ–°çš„å­—ç¬¦</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">replace</span><span class="params">(<span class="keyword">char</span> oldChar, <span class="keyword">char</span> newChar)</span></span>&#123;&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä½¿ç”¨æŒ‡å®šçš„å­—ç¬¦åºåˆ—æ›¿æ¢æ‰€æœ‰åŒ¹é…åˆ°çš„å­—ç¬¦åºåˆ—</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">replace</span><span class="params">(CharSequence target, CharSequence replacement)</span> </span>&#123;&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä½¿ç”¨ç»™å®šçš„å­—ç¬¦ä¸²æ›¿æ¢æ‰€æœ‰åŒ¹é…ç»™å®šçš„æ­£åˆ™è¡¨è¾¾å¼çš„å­å­—ç¬¦ä¸²</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">replaceAll</span><span class="params">(String regex, String replacement)</span> </span>&#123;&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä½¿ç”¨ç»™å®šçš„å­—ç¬¦ä¸²æ›¿æ¢åŒ¹é…ç»™å®šçš„æ­£åˆ™è¡¨è¾¾å¼çš„ç¬¬ä¸€ä¸ªå­å­—ç¬¦ä¸²</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">replaceFirst</span><span class="params">(String regex, String replacement)</span></span>&#123;&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>åˆ¤æ–­å½“å‰å­—ç¬¦ä¸²æ˜¯å¦åŒ¹é…ç»™å®šçš„æ­£åˆ™è¡¨è¾¾å¼</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">matches</span><span class="params">(String regex)</span></span>&#123;&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ ¹æ®ç»™å®šçš„æ­£åˆ™è¡¨è¾¾å¼æ‹†åˆ†å½“å‰å­—ç¬¦ä¸²ï¼Œå¹¶è¿”å›å­—ç¬¦ä¸²æ•°ç»„</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> String[] split(String regex)&#123;&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>Stringè½¬æ¢:</p>
<ul>
<li><p>åŸºæœ¬æ•°æ®ç±»å‹è½¬æ¢ä¸ºString</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">valueOf</span><span class="params">(Object obj)</span></span>&#123;&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>Stringè½¬æ¢ä¸ºåŸºæœ¬æ•°æ®ç±»å‹</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">parseXxx</span><span class="params">(String s)</span> <span class="keyword">throws</span> NumberFormatException</span>&#123;&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>å­—ç¬¦æ•°ç»„è½¬æ¢ä¸ºStringç±»å‹</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">String</span><span class="params">(<span class="keyword">char</span> value[])</span></span>&#123;&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>éƒ¨åˆ†å­—ç¬¦æ•°ç»„è½¬æ¢ä¸ºStringç±»å‹</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">String</span><span class="params">(<span class="keyword">char</span> value[], <span class="keyword">int</span> offset, <span class="keyword">int</span> count)</span></span>&#123;&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>Stringç±»å‹è½¬æ¢ä¸ºå­—ç¬¦æ•°ç»„</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">char</span>[] toCharArray() &#123;&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>å­—èŠ‚æ•°ç»„è½¬æ¢å­—ç¬¦ä¸²</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">String</span><span class="params">(<span class="keyword">byte</span> bytes[])</span></span>&#123;&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>å­—ç¬¦ä¸²è½¬æ¢ä¸ºå­—èŠ‚æ•°ç»„</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//ä½¿ç”¨å¹³å°é»˜è®¤çš„è¯­è¨€ç¯å¢ƒ</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">byte</span>[] getBytes() &#123;&#125;</span><br><span class="line"><span class="comment">//ä½¿ç”¨æŒ‡å®šçš„è¯­è¨€ç¯å¢ƒ</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">byte</span>[] getBytes(String charsetName)&#123;&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>StringBufferç±»ï¼šè¡¨ç¤ºå¯å˜çš„å­—ç¬¦åºåˆ—ï¼ŒJDK1.0ä¸­å£°æ˜ï¼Œå¯ä»¥å¯¹å­—ç¬¦ä¸²çš„å†…å®¹è¿›è¡Œå¢åˆ ï¼Œæ­¤æ—¶ä¸ä¼šäº§ç”Ÿæ–°çš„å¯¹è±¡ï¼›</p>
</li>
<li><p>StringBufferå¸¸ç”¨æ–¹æ³•ï¼š</p>
<ul>
<li><p>æ„é€ å™¨</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// æ— å‚æ„é€ å™¨</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">StringBuffer</span><span class="params">()</span> </span>&#123;&#125;</span><br><span class="line"><span class="comment">// è®¾ç½®åº•å±‚æ•°æ®çš„å®¹é‡çš„æ„é€ å™¨</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">StringBuffer</span><span class="params">(<span class="keyword">int</span> capacity)</span> </span>&#123;&#125;</span><br><span class="line"><span class="comment">// è®¾ç½®Stringç±»å‹çš„æ„é€ å™¨</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">StringBuffer</span><span class="params">(String str)</span></span>&#123;&#125;</span><br><span class="line"><span class="comment">// è®¾ç½®CharSequenceç±»å‹çš„æ„é€ å™¨</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">StringBuffer</span><span class="params">(CharSequence seq)</span></span>&#123;&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>å­—ç¬¦ä¸²æ‹¼æ¥</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> StringBuffer <span class="title">append</span><span class="params">(Object obj)</span> </span>&#123;&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> StringBuffer <span class="title">append</span><span class="params">(String str)</span> </span>&#123;&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>åˆ é™¤æŒ‡å®šä½ç½®ä¸Šçš„å†…å®¹</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> StringBuffer <span class="title">delete</span><span class="params">(<span class="keyword">int</span> start, <span class="keyword">int</span> end)</span></span>&#123;&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>æŠŠæŒ‡å®š[start,end]ä½ç½®æ›¿æ¢ä¸ºstr</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> StringBuffer <span class="title">replace</span><span class="params">(<span class="keyword">int</span> start, <span class="keyword">int</span> end, String str)</span></span>&#123;&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>åœ¨æŒ‡å®šçš„ä½ç½®æ’å…¥xxx</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> StringBuffer <span class="title">insert</span><span class="params">(<span class="keyword">int</span> offset, Object obj)</span></span>&#123;&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> StringBuffer <span class="title">insert</span><span class="params">(<span class="keyword">int</span> offset, String str)</span></span>&#123;&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>æŠŠå½“å‰çš„å­—ç¬¦åºåˆ—é€†è½¬</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> StringBuffer <span class="title">reverse</span><span class="params">()</span></span>&#123;&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>è¿”å›å­ä¸²åœ¨StringBufferå¯¹è±¡ä¸­çš„ä½ç½®</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">indexOf</span><span class="params">(String str)</span></span>&#123;&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä»æŒ‡å®šä½ç½®æˆªå–å­ä¸²</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> String <span class="title">substring</span><span class="params">(<span class="keyword">int</span> start)</span></span>&#123;&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> String <span class="title">substring</span><span class="params">(<span class="keyword">int</span> start, <span class="keyword">int</span> end)</span> </span>&#123;&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>è¿”å›StringBufferå¯¹è±¡ä¸­å†…å®¹çš„å¤§å°ï¼ˆä¸æ˜¯å®¹é‡ï¼‰</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">int</span> <span class="title">length</span><span class="params">()</span> </span>&#123;&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>è¿”å›æŒ‡å®šç´¢å¼•ä½ç½®ä¸Šçš„charå­—ç¬¦</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">char</span> <span class="title">charAt</span><span class="params">(<span class="keyword">int</span> index)</span></span>&#123;&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>åœ¨æŒ‡å®šä½ç½®è®¾ç½®charå­—ç¬¦</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title">setCharAt</span><span class="params">(<span class="keyword">int</span> index, <span class="keyword">char</span> ch)</span></span>&#123;&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>StringBuilderç±»ï¼šä»£è¡¨å¯å˜çš„å­—ç¬¦åºåˆ—ï¼Œå’ŒStringBufferç±»ä¼¼ï¼›</p>
</li>
<li><p>æ—¥æœŸAPIï¼š</p>
<ul>
<li>Systemç±»æä¾›çš„currentTimeMillis()æ–¹æ³•ç”¨æ¥è¿”å›å½“å‰æ—¶é—´å’Œ1970å¹´1æœˆ1æ—¥0æ—¶0ç§’ä¹‹é—´ä»¥æ¯«ç§’ä¸ºå•ä½çš„æ—¶é—´å·®</li>
<li>java.util.Dateè¡¨ç¤ºç‰¹å®šçš„ç¬é—´ï¼Œç²¾ç¡®åˆ°æ¯«ç§’</li>
<li>java.text.SimpleDateFormatç±»æ˜¯ä¸€ä¸ªä¸ä¸è¯­è¨€ç¯å¢ƒæœ‰å…³çš„æ–¹å¼æ¥æ ¼å¼åŒ–å’Œè§£ææ—¥æœŸçš„å…·ä½“ç±»</li>
<li>java.util.Calendarç±»ä¸»è¦ç”¨äºå®Œæˆæ—¥æœŸå­—æ®µä¹‹é—´çš„ç›¸äº’æ“ä½œçš„åŠŸèƒ½</li>
</ul>
</li>
<li><p>Systemç±»ä»£è¡¨ç³»ç»Ÿï¼Œç³»ç»Ÿçº§çš„å¾ˆå¤šå±æ€§å’Œæ§åˆ¶æ–¹æ³•éƒ½æ”¾ç½®åœ¨è¯¥ç±»çš„å†…éƒ¨ï¼›</p>
</li>
<li><p>Systemç±»å¸¸ç”¨æ–¹æ³•ï¼š</p>
<ul>
<li><p>è¿”å›å½“å‰æ—¶é—´çš„æ¯«ç§’å€¼</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">native</span> <span class="keyword">long</span> <span class="title">currentTimeMillis</span><span class="params">()</span></span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p>é€€å‡ºç¨‹åºï¼ˆå…¶ä¸­statusçš„å€¼ä¸º0è¡¨ç¤ºæ­£å¸¸é€€å‡ºï¼Œé0è¡¨ç¤ºå¼‚å¸¸é€€å‡ºï¼‰</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">exit</span><span class="params">(<span class="keyword">int</span> status)</span></span>&#123;&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>è¯·æ±‚ç³»ç»Ÿè¿›è¡Œåƒåœ¾å›æ”¶ï¼ˆè‡³äºç³»ç»Ÿæ˜¯å¦ç«‹åˆ»å›æ”¶ï¼Œåˆ™å–å†³äºç³»ç»Ÿä¸­åƒåœ¾å›æ”¶ç®—æ³•çš„å®ç°ä»¥åŠç³»ç»Ÿæ‰§è¡Œæ—¶çš„æƒ…å†µï¼‰</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">gc</span><span class="params">()</span> </span>&#123;&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>è·å–ç³»ç»Ÿä¸­å±æ€§åä¸ºkeyå¯¹åº”çš„å€¼</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">getProperty</span><span class="params">(String key)</span> </span>&#123;&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>java.lang.Mathæä¾›äº†ä¸€ç³»åˆ—é™æ€æ–¹æ³•ç”¨äºç§‘å­¦è®¡ç®—ã€‚å…¶æ–¹æ³•çš„å‚æ•°å’Œè¿”å›å€¼ä¸€èˆ¬ä¸ºdoubleç±»å‹ï¼›</p>
</li>
<li><p>java.mathåŒ…çš„BigIntegerå¯ä»¥è¡¨ç¤ºä¸å¯å˜çš„ä»»æ„ç²¾åº¦çš„æ•´æ•°ã€‚BigIntegeræä¾›æ‰€æœ‰javaçš„åŸºæœ¬æ•´æ•°æ“ä½œç¬¦çš„å¯¹åº”ç‰©ï¼Œå¹¶æä¾›java.lang.Mathçš„æ‰€æœ‰ç›¸å…³æ–¹æ³•ã€‚å¦å¤–ï¼ŒBigIntegerè¿˜æä¾›æ¨¡è¿ç®—ã€GCDè®¡ç®—ã€è´¨æ•°æµ‹è¯•ã€è´¨æ•°ç”Ÿæˆã€ä½æ“ä½œä»¥åŠä¸€äº›å…¶ä»–æ“ä½œï¼›</p>
</li>
<li><p>BigDecimalç±»æ”¯æŒä¸å¯å˜çš„ã€ä»»æ„ç²¾åº¦çš„æœ‰ç¬¦å·çš„åè¿›åˆ¶å®šç‚¹æ•°ï¼</p>
</li>
</ol>
<h2 id="åå°„-amp-åŠ¨æ€ä»£ç†"><a href="#åå°„-amp-åŠ¨æ€ä»£ç†" class="headerlink" title="åå°„&amp;åŠ¨æ€ä»£ç†"></a>åå°„&amp;åŠ¨æ€ä»£ç†</h2><ol>
<li><p>åå°„æœºåˆ¶å…è®¸ç¨‹åºåœ¨æ‰§è¡ŒæœŸé—´å€ŸåŠ©Reflection APIå–å¾—ä»»ä½•ç±»çš„å†…éƒ¨ä¿¡æ¯ï¼Œå¹¶èƒ½ç›´æ¥æ“ä½œä»»æ„å¯¹è±¡çš„å†…éƒ¨å±æ€§å’Œæ–¹æ³•ï¼›</p>
</li>
<li><p>Javaæœ‰ä¸€å®šçš„åŠ¨æ€æ€§ï¼Œå¯ä»¥åˆ©ç”¨åå°„æœºåˆ¶ã€å­—èŠ‚ç æ“ä½œè·å–ç±»ä¼¼åŠ¨æ€è¯­è¨€çš„ç‰¹æ€§ï¼›</p>
</li>
<li><p>Javaåå°„æœºåˆ¶çš„åº”ç”¨ï¼š</p>
<ul>
<li>åœ¨è¿è¡Œçš„æ—¶å€™åˆ¤æ–­ä»»æ„ä¸€ä¸ªå¯¹è±¡æ‰€å±çš„ç±»</li>
<li>åœ¨è¿è¡Œçš„æ—¶å€™æ„é€ ä»»æ„ä¸€ä¸ªç±»çš„å¯¹è±¡</li>
<li>åœ¨è¿è¡Œçš„æ—¶å€™åˆ¤æ–­ä»»æ„ä¸€ä¸ªç±»æ‰€å…·æœ‰çš„æˆå‘˜å˜é‡å’Œæ–¹æ³•</li>
<li>åœ¨è¿è¡Œçš„æ—¶å€™è·å–æ³›å‹ä¿¡æ¯</li>
<li>åœ¨è¿è¡Œçš„æ—¶å€™è°ƒç”¨ä»»æ„ä¸€ä¸ªå¯¹è±¡çš„æˆå‘˜å˜é‡å’Œæ–¹æ³•</li>
<li>åœ¨è¿è¡Œçš„æ—¶å€™å¤„ç†æ³¨è§£</li>
<li>ç”ŸæˆåŠ¨æ€ä»£ç†</li>
</ul>
</li>
<li><p>åå°„ç›¸å…³çš„API:</p>
<ul>
<li>java.lang.Classâ€”â€”ä»£è¡¨ä¸€ä¸ªç±»</li>
<li>java.lang.reflect.Methodâ€”â€”ä»£è¡¨ç±»çš„æ–¹æ³•</li>
<li>java.lang.reflect.Fieldâ€”â€”ä»£è¡¨ç±»çš„æˆå‘˜å˜é‡</li>
<li>java.lang.reflect.Constructorâ€”â€”ä»£è¡¨ç±»çš„æ„é€ å™¨</li>
<li>â€¦ â€¦</li>
</ul>
</li>
<li><p>Classç±»ï¼š</p>
<ol>
<li><p>åœ¨Objectç±»ä¸­å®šä¹‰äº†ä»¥ä¸‹çš„æ–¹æ³•ï¼Œæ­¤æ–¹æ³•å°†è¢«æ‰€æœ‰å­ç±»ç»§æ‰¿ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">native</span> Class&lt;?&gt; getClass();</span><br><span class="line"><span class="comment">// è¿”å›å€¼çš„ç±»å‹æ˜¯ä¸€ä¸ªClassç±»ï¼Œæ­¤ç±»æ˜¯Javaåå°„çš„æºå¤´,å¯ä»¥é€šè¿‡å¯¹è±¡åå°„æ±‚å‡ºç±»çš„åç§°</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>å¯¹è±¡é€šè¿‡åå°„åå¯ä»¥å¾—åˆ°çš„ä¿¡æ¯ï¼šæŸä¸ªç±»çš„å±æ€§ã€æ–¹æ³•å’Œæ„é€ å™¨ã€æŸä¸ªç±»åˆ°åº•å®ç°äº†å“ªäº›æ¥å£ï¼›</p>
</li>
<li><p>ä¸€ä¸ªåŠ è½½çš„ç±»åœ¨JVMä¸­åªä¼šæœ‰ä¸€ä¸ªClasså®ä¾‹ï¼Œä¸€ä¸ªClasså¯¹è±¡å¯¹åº”çš„æ˜¯ä¸€ä¸ªåŠ è½½åˆ°JVMä¸­çš„ä¸€ä¸ª.classæ–‡ä»¶ã€‚æ¯ä¸ªç±»çš„å®ä¾‹éƒ½ä¼šè®°å¾—æ˜¯ç”±å“ªä¸ªClasså®ä¾‹æ‰€ç”Ÿæˆï¼›é€šè¿‡Classå¯ä»¥å®Œæ•´çš„å¾—åˆ°ä¸€ä¸ªç±»ä¸­çš„æ‰€æœ‰è¢«åŠ è½½çš„ç»“æ„ï¼ŒClassç±»æ˜¯åå°„çš„æ ¹æºï¼Œé’ˆå¯¹ä»»ä½•ä½ æƒ³åŠ¨æ€åŠ è½½ã€è¿è¡Œçš„ç±»ï¼Œå”¯æœ‰å…ˆè·å¾—ç›¸åº”çš„Classå¯¹è±¡ï¼›</p>
</li>
<li><p>è·å–Classçš„ç¤ºä¾‹ä»£ç ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// æ–¹æ³•ä¸€ï¼šå¦‚æœå·²çŸ¥å…·ä½“çš„ç±»ï¼Œé‚£ä¹ˆå¯ä»¥é€šè¿‡ç±»çš„classå±æ€§è·å–ï¼Œè¯¥æ–¹æ³•æœ€ä¸ºå®‰å…¨å¯é ï¼Œç¨‹åºæ€§èƒ½æœ€é«˜</span></span><br><span class="line"><span class="comment">// æ–¹æ³•äºŒï¼šå·²ç»çŸ¥é“æŸä¸ªç±»çš„å®ä¾‹ï¼Œè°ƒç”¨è¯¥å®ä¾‹çš„getClass()æ–¹æ³•è·å–Classå¯¹è±¡</span></span><br><span class="line"><span class="comment">// å¦‚æœçŸ¥é“ä¸€ä¸ªç±»çš„å…¨ç±»åï¼ˆå®Œæ•´çš„åŒ…å.ç±»åï¼‰ï¼Œå¹¶ä¸”è¯¥ç±»åœ¨ç±»è·¯å¾„ä¸‹ï¼Œå¯ä»¥é€šè¿‡Classç±»çš„é™æ€æ–¹æ³•forName()è·å¾—ï¼Œæ²¡æœ‰å¾—åˆ°åˆ™æŠ›å‡ºClassNotFoundException</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">testClass</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="comment">// æ–¹æ³•ä¸€</span></span><br><span class="line">        Class&lt;?&gt; test1=String<span class="class">.<span class="keyword">class</span></span>;</span><br><span class="line">        <span class="comment">// æ–¹æ³•äºŒ</span></span><br><span class="line">        Class&lt;?&gt; test2=<span class="string">"hello"</span>.getClass();</span><br><span class="line">        <span class="keyword">try</span>&#123;</span><br><span class="line">            <span class="comment">// æ–¹æ³•ä¸‰</span></span><br><span class="line">            Class&lt;?&gt; test3=Class.forName(<span class="string">"java.lang.String"</span>);</span><br><span class="line">        &#125;<span class="keyword">catch</span> (ClassNotFoundException e)&#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        log.info(test1.toGenericString());</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">// è¾“å‡ºï¼š</span></span><br><span class="line"><span class="comment">// public final class java.lang.String</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>æ‹¥æœ‰Classç±»çš„ç±»å‹ï¼š</p>
<ul>
<li>ç±»ï¼šå¤–éƒ¨ç±»ã€å†…éƒ¨ç±»ï¼ˆæˆå‘˜å†…éƒ¨ç±»ã€é™æ€å†…éƒ¨ç±»ï¼‰ã€å±€éƒ¨å†…éƒ¨ç±»ã€åŒ¿åå†…éƒ¨ç±»</li>
<li>æ¥å£</li>
<li>æ•°ç»„</li>
<li>æšä¸¾</li>
<li>æ³¨è§£</li>
<li>åŸºæœ¬æ•°æ®ç±»å‹</li>
<li>void</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">testClasses</span><span class="params">()</span></span>&#123;</span><br><span class="line">    Class&lt;Object&gt; c1 = Object<span class="class">.<span class="keyword">class</span></span>;</span><br><span class="line">    Class&lt;Comparable&gt; c2 = Comparable<span class="class">.<span class="keyword">class</span></span>;</span><br><span class="line">    Class&lt;String[]&gt; c3 = String[]<span class="class">.<span class="keyword">class</span></span>;</span><br><span class="line">    Class&lt;<span class="keyword">int</span>[][]&gt; c4 = <span class="keyword">int</span>[][]<span class="class">.<span class="keyword">class</span></span>;</span><br><span class="line">    Class&lt;ElementType&gt; c5 = ElementType<span class="class">.<span class="keyword">class</span></span>;</span><br><span class="line">    Class&lt;Override&gt; c6 = Override<span class="class">.<span class="keyword">class</span></span>;</span><br><span class="line">    Class&lt;Integer&gt; c7 = <span class="keyword">int</span><span class="class">.<span class="keyword">class</span></span>;</span><br><span class="line">    Class&lt;Void&gt; c8 = <span class="keyword">void</span><span class="class">.<span class="keyword">class</span></span>;</span><br><span class="line">    Class&lt;Class&gt; c9 = Class<span class="class">.<span class="keyword">class</span></span>;</span><br><span class="line">      </span><br><span class="line">    <span class="keyword">int</span>[] a = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">10</span>];</span><br><span class="line">    <span class="keyword">int</span>[] b = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">100</span>];</span><br><span class="line">      </span><br><span class="line">    Class&lt;? extends <span class="keyword">int</span>[]&gt; c10 = a.getClass();</span><br><span class="line">    Class&lt;? extends <span class="keyword">int</span>[]&gt; c11 = b.getClass();</span><br><span class="line">      </span><br><span class="line">    System.out.println(c10 == c11);<span class="comment">//åªè¦å…ƒç´ ç±»å‹å’Œç»´åº¦ä¸€æ ·ï¼Œå°±æ˜¯åŒä¸€ä¸ªClass true</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
<li><p>ç±»çš„åŠ è½½è¿‡ç¨‹ï¼š</p>
<ol>
<li><p>å½“ç¨‹åºä¸»åŠ¨ä½¿ç”¨æŸä¸ªç±»çš„æ—¶å€™ï¼Œå¦‚æœè¯¥ç±»è¿˜æ²¡è¢«åŠ è½½åˆ°å†…å­˜ä¸­ï¼Œåˆ™ç³»ç»Ÿä¼šé€šè¿‡å¦‚ä¸‹çš„æ­¥éª¤æ¥å¯¹è¯¥ç±»è¿›è¡Œåˆå§‹åŒ–</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/12e1dca8ccdc93f98c6e9db933d5b6f8-41419" alt="ç±»çš„åŠ è½½æœºåˆ¶"></p>
</li>
<li><p><strong>åŠ è½½</strong>â€”â€”å°†classå­—èŠ‚ç æ–‡ä»¶å†…å®¹åŠ è½½åˆ°å†…å­˜ä¸­ï¼Œå¹¶å°†è¿™äº›é™æ€æ•°æ®è½¬æ¢æˆæ–¹æ³•åŒºçš„è¿è¡Œæ—¶æ•°æ®ç»“æ„ï¼Œç„¶åç”Ÿæˆä¸€ä¸ªä»£è¡¨è¿™ä¸ªç±»çš„java.lang.Classå¯¹è±¡ä½œä¸ºæ–¹æ³•åŒºä¸­ç±»æ•°æ®çš„è®¿é—®å…¥å£ï¼ˆå³å¼•ç”¨åœ°å€ï¼‰ã€‚æ‰€æœ‰éœ€è¦è®¿é—®å’Œä½¿ç”¨ç±»æ•°æ®åªèƒ½é€šè¿‡è¿™ä¸ªClasså¯¹è±¡ã€‚è¿™ä¸ªåŠ è½½è¿‡ç¨‹éœ€è¦ç±»åŠ è½½å™¨çš„å‚ä¸ï¼›</p>
</li>
<li><p><strong>é“¾æ¥</strong>â€”â€”å°†Javaç±»çš„äºŒè¿›åˆ¶ä»£ç åˆå¹¶åˆ°JCMçš„è¿è¡ŒçŠ¶æ€çš„è¿‡ç¨‹ï¼›</p>
</li>
<li><p><strong>åˆå§‹åŒ–</strong>â€”â€”æ‰§è¡Œç±»æ„é€ å™¨&lt;clinit&gt;()æ–¹æ³•ï¼</p>
</li>
</ol>
</li>
<li><p>ç±»åŠ è½½å™¨ï¼šå°†classå­—èŠ‚ç æ–‡ä»¶åŠ è½½åˆ°å†…å­˜ä¸­ï¼Œå¹¶å°†è¿™äº›é™æ€æ•°æ®è½¬æ¢æˆæ–¹æ³•åŒºçš„è¿è¡Œæ—¶çš„æ•°æ®ç»“æ„ï¼Œç„¶ååœ¨å †ä¸­ç”Ÿæˆä¸€ä¸ªä»£è¡¨è¿™ä¸ªç±»çš„java.lang.Classå¯¹è±¡ï¼Œä½œä¸ºæ–¹æ³•åŒºä¸­ç±»æ•°æ®çš„è®¿é—®å…¥å£ï¼›</p>
<ul>
<li><p>ç±»çš„åŠ è½½å™¨æ‰§è¡Œè¿‡ç¨‹ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/6f7f648c205b69fc441f8b3b8da52854-18404" alt="åŠ è½½å™¨æ‰§è¡Œè¿‡ç¨‹"></p>
</li>
<li><p>JVMè§„èŒƒä¸­å®šä¹‰çš„ç±»åŠ è½½å™¨:</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/9ea0a3b875d6534cf22364590052ca77-177678" alt="JVMå®šä¹‰çš„ç±»åŠ è½½å™¨"></p>
</li>
<li><p>å¼•å¯¼ç±»åŠ è½½å™¨ï¼šç”¨C++ç¼–å†™çš„ï¼Œæ˜¯Javaè‡ªå¸¦çš„ç±»åŠ è½½å™¨ï¼Œè´Ÿè´£javaå¹³å°æ ¸å¿ƒåº“ï¼Œç”¨æ¥è£…è½½æ ¸å¿ƒç±»åº“ï¼Œè¯¥åŠ è½½å™¨æ— æ³•ç›´æ¥è·å–</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">testSystemClassloader</span><span class="params">()</span></span>&#123;</span><br><span class="line">    ClassLoader classLoader=String<span class="class">.<span class="keyword">class</span>.<span class="title">getClassLoader</span>()</span>;</span><br><span class="line">    System.out.println(classLoader);</span><br><span class="line">    <span class="comment">// è¾“å‡º null</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ‰©å±•ç±»åŠ è½½å™¨ï¼šè´Ÿè´£jre/lib/extç›®å½•ä¸‹çš„jaråŒ…æˆ–-D java.ext.dirsæŒ‡å®šç›®å½•ä¸‹çš„jaråŒ…è£…å…¥å·¥ä½œåº“ï¼Œè¯¥åŠ è½½å™¨å¯ä»¥è¢«è¯»å–</p>
</li>
<li><p>ç³»ç»Ÿç±»åŠ è½½å™¨ï¼šè´Ÿè´£javaçš„classpathæˆ–java.class.pathæ‰€æŒ‡çš„ç›®å½•ä¸‹çš„ç±»å’ŒjaråŒ…è£…å…¥å·¥ä½œï¼Œæ˜¯æœ€å¸¸ç”¨çš„åŠ è½½å™¨</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">testClassloader</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="comment">//ç³»ç»Ÿç±»è®°è½½å™¨</span></span><br><span class="line">        ClassLoader systemClassLoader = ClassLoader.getSystemClassLoader();</span><br><span class="line">        System.out.println(<span class="string">"ç³»ç»Ÿç±»åŠ è½½å™¨:"</span> + systemClassLoader);</span><br><span class="line">        <span class="comment">//æ‰©å±•ç±»åŠ è½½å™¨</span></span><br><span class="line">        ClassLoader parent = systemClassLoader.getParent();</span><br><span class="line">        System.out.println(<span class="string">"æ‰©å±•ç±»åŠ è½½å™¨:"</span> + parent);</span><br><span class="line">        <span class="comment">//å¼•å¯¼ç±»åŠ è½½å™¨</span></span><br><span class="line">        ClassLoader parent1 = parent.getParent();</span><br><span class="line">        System.out.println(<span class="string">"å¼•å¯¼ç±»åŠ è½½å™¨:"</span> + parent1);<span class="comment">//null</span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">ç³»ç»Ÿç±»åŠ è½½å™¨:jdk.internal.loader.ClassLoaders$AppClassLoader@77556fd</span></span><br><span class="line"><span class="comment">æ‰©å±•ç±»åŠ è½½å™¨:jdk.internal.loader.ClassLoaders$PlatformClassLoader@abad89c</span></span><br><span class="line"><span class="comment">å¼•å¯¼ç±»åŠ è½½å™¨:null</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>åˆ›å»ºè¿è¡Œæ—¶ç±»çš„å¯¹è±¡ï¼š</p>
<ol>
<li><p>é€šè¿‡è°ƒç”¨æ— å‚æ„é€ çš„æ–¹å¼åˆ›å»ºç±»çš„å¯¹è±¡ï¼š</p>
<ul>
<li>é€šè¿‡è°ƒç”¨Classå¯¹è±¡çš„newInstance()æ–¹æ³•æ¥åˆ›å»ºç±»çš„å¯¹è±¡<ul>
<li>ç±»å¿…é¡»æä¾›ä¸€ä¸ªæ— å‚çš„æ„é€ å™¨</li>
<li>ç±»çš„æ„é€ å™¨çš„è®¿é—®æƒé™éœ€è¦è¶³å¤Ÿ</li>
</ul>
</li>
<li>é€šè¿‡Constructorå¯¹è±¡çš„getDeclaredConstructor()æ–¹æ³•</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">testCreateInstance</span><span class="params">()</span></span>&#123;</span><br><span class="line">    Class&lt;Person&gt; personClass = Person<span class="class">.<span class="keyword">class</span></span>;</span><br><span class="line">      </span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        Person person = personClass.newInstance();</span><br><span class="line">        System.out.println(person);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (InstantiationException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IllegalAccessException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line">    Class&lt;?&gt; clazz = Person<span class="class">.<span class="keyword">class</span></span>;</span><br><span class="line">    <span class="keyword">try</span>&#123;</span><br><span class="line">        Constructor&lt;?&gt; constructor = clazz.getDeclaredConstructor();</span><br><span class="line">        <span class="comment">//å–æ¶ˆç±»çš„è®¿é—®æ§åˆ¶</span></span><br><span class="line">        constructor.setAccessible(<span class="keyword">true</span>);</span><br><span class="line">        Object o = constructor.newInstance();</span><br><span class="line">        System.out.println(o);</span><br><span class="line">    &#125;<span class="keyword">catch</span> (NoSuchMethodException e)&#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125;<span class="keyword">catch</span> (InstantiationException e)&#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125;<span class="keyword">catch</span> (IllegalAccessException e)&#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125;<span class="keyword">catch</span> (InvocationTargetException e)&#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line">      </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>é€šè¿‡è°ƒç”¨æœ‰å‚çš„æ„é€ å™¨åˆ›å»ºç±»çš„å¯¹è±¡ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">testCreateInstance2</span><span class="params">()</span></span>&#123;</span><br><span class="line">        Class&lt;?&gt; clazz = Person<span class="class">.<span class="keyword">class</span></span>;</span><br><span class="line">        <span class="keyword">try</span>&#123;</span><br><span class="line">            Constructor&lt;?&gt; constructor = clazz.getDeclaredConstructor(String<span class="class">.<span class="keyword">class</span>, <span class="title">Integer</span>.<span class="title">class</span>)</span>;</span><br><span class="line">            <span class="comment">//å–æ¶ˆjavaè¯­è¨€çš„è®¿é—®æ£€æŸ¥</span></span><br><span class="line">            constructor.setAccessible(<span class="keyword">true</span>);</span><br><span class="line">            Object o = constructor.newInstance(<span class="string">"å¼ ä¸‰"</span>, <span class="number">20</span>);</span><br><span class="line">            System.out.println(o);</span><br><span class="line">        &#125;<span class="keyword">catch</span> (NoSuchMethodException e)&#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;<span class="keyword">catch</span> (InstantiationException e)&#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;<span class="keyword">catch</span> (IllegalAccessException e)&#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;<span class="keyword">catch</span> (InvocationTargetException e)&#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">java.lang.NoSuchMethodException: com.wander.java.learnjava.Person.&lt;init&gt;(java.lang.String, java.lang.Integer)</span></span><br><span class="line"><span class="comment">	at java.base/java.lang.Class.getConstructor0(Class.java:3349)</span></span><br><span class="line"><span class="comment">	at java.base/java.lang.Class.getDeclaredConstructor(Class.java:2553)</span></span><br><span class="line"><span class="comment">	at com.wander.java.learnjava.LearnjavaApplicationTests.testCreateInstance2(LearnjavaApplicationTests.java:109)</span></span><br><span class="line"><span class="comment">	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</span></span><br><span class="line"><span class="comment">	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)</span></span><br><span class="line"><span class="comment">	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)</span></span><br><span class="line"><span class="comment">	at java.base/java.lang.reflect.Method.invoke(Method.java:566)</span></span><br><span class="line"><span class="comment">	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:686)</span></span><br><span class="line"><span class="comment">	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)</span></span><br><span class="line"><span class="comment">	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)</span></span><br><span class="line"><span class="comment">	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)</span></span><br><span class="line"><span class="comment">	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)</span></span><br><span class="line"><span class="comment">	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)</span></span><br><span class="line"><span class="comment">	at org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)</span></span><br><span class="line"><span class="comment">	at org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)</span></span><br><span class="line"><span class="comment">	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)</span></span><br><span class="line"><span class="comment">	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)</span></span><br><span class="line"><span class="comment">	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)</span></span><br><span class="line"><span class="comment">	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)</span></span><br><span class="line"><span class="comment">	at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)</span></span><br><span class="line"><span class="comment">	at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)</span></span><br><span class="line"><span class="comment">	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$6(TestMethodTestDescriptor.java:212)</span></span><br><span class="line"><span class="comment">	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)</span></span><br><span class="line"><span class="comment">	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:208)</span></span><br><span class="line"><span class="comment">	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:137)</span></span><br><span class="line"><span class="comment">	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:71)</span></span><br><span class="line"><span class="comment">	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:135)</span></span><br><span class="line"><span class="comment">	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)</span></span><br><span class="line"><span class="comment">	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)</span></span><br><span class="line"><span class="comment">	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)</span></span><br><span class="line"><span class="comment">	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)</span></span><br><span class="line"><span class="comment">	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)</span></span><br><span class="line"><span class="comment">	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)</span></span><br><span class="line"><span class="comment">	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)</span></span><br><span class="line"><span class="comment">	at java.base/java.util.ArrayList.forEach(ArrayList.java:1540)</span></span><br><span class="line"><span class="comment">	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)</span></span><br><span class="line"><span class="comment">	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)</span></span><br><span class="line"><span class="comment">	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)</span></span><br><span class="line"><span class="comment">	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)</span></span><br><span class="line"><span class="comment">	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)</span></span><br><span class="line"><span class="comment">	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)</span></span><br><span class="line"><span class="comment">	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)</span></span><br><span class="line"><span class="comment">	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)</span></span><br><span class="line"><span class="comment">	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)</span></span><br><span class="line"><span class="comment">	at java.base/java.util.ArrayList.forEach(ArrayList.java:1540)</span></span><br><span class="line"><span class="comment">	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)</span></span><br><span class="line"><span class="comment">	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)</span></span><br><span class="line"><span class="comment">	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)</span></span><br><span class="line"><span class="comment">	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)</span></span><br><span class="line"><span class="comment">	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)</span></span><br><span class="line"><span class="comment">	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)</span></span><br><span class="line"><span class="comment">	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)</span></span><br><span class="line"><span class="comment">	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)</span></span><br><span class="line"><span class="comment">	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)</span></span><br><span class="line"><span class="comment">	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)</span></span><br><span class="line"><span class="comment">	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)</span></span><br><span class="line"><span class="comment">	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)</span></span><br><span class="line"><span class="comment">	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:248)</span></span><br><span class="line"><span class="comment">	at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$5(DefaultLauncher.java:211)</span></span><br><span class="line"><span class="comment">	at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:226)</span></span><br><span class="line"><span class="comment">	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:199)</span></span><br><span class="line"><span class="comment">	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:132)</span></span><br><span class="line"><span class="comment">	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69)</span></span><br><span class="line"><span class="comment">	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)</span></span><br><span class="line"><span class="comment">	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)</span></span><br><span class="line"><span class="comment">	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<ul>
<li><p>éœ€è¦æ·»åŠ æœ‰å‚æ„é€ å™¨ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">(String name, Integer age)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">    <span class="keyword">this</span>.age = age;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ol>
</li>
<li><p>Classç±»ä¸­å¸¸ç”¨çš„æ–¹æ³•ï¼š</p>
<ul>
<li><p>è·å–å®ç°çš„å…¨éƒ¨æ¥å£</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> Class&lt;?&gt;[] getInterfaces()&#123;&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>è·å–æ‰€ç»§æ‰¿çš„çˆ¶ç±»</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">native</span> Class&lt;? <span class="keyword">super</span> T&gt; getSuperclass();</span><br></pre></td></tr></table></figure>
</li>
<li><p>è·å–æ­¤Classå¯¹è±¡æ‰€è¡¨ç¤ºçš„ç±»çš„æ‰€æœ‰publicæ„é€ å™¨</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> Constructor&lt;?&gt;[] getConstructors() <span class="keyword">throws</span> SecurityException&#123;&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>è·å–æ­¤Classå¯¹è±¡æ‰€è¡¨ç¤ºçš„ç±»çš„æ‰€æœ‰æ„é€ å™¨</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> Constructor&lt;?&gt;[] getDeclaredConstructors() <span class="keyword">throws</span> SecurityException&#123;&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>è·å–æ­¤Classå¯¹è±¡æ‰€è¡¨ç¤ºçš„ç±»çš„æŒ‡å®šå‚æ•°çš„æ„é€ å™¨</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> Constructor&lt;T&gt; <span class="title">getDeclaredConstructor</span><span class="params">(Class&lt;?&gt;... parameterTypes)</span> <span class="keyword">throws</span> NoSuchMethodException, SecurityException</span>&#123;&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>è·å–æ­¤Classå¯¹è±¡æ‰€è¡¨ç¤ºçš„ç±»çš„æŒ‡å®šå‚æ•°çš„publicæ„é€ å™¨</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> Constructor&lt;T&gt; <span class="title">getConstructor</span><span class="params">(Class&lt;?&gt;... parameterTypes)</span></span></span><br><span class="line"><span class="function">        <span class="keyword">throws</span> NoSuchMethodException, SecurityException </span>&#123;&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>è·å–Classå¯¹è±¡æ‰€è¡¨ç¤ºç±»æˆ–æ¥å£çš„å…¨éƒ¨æ–¹æ³•</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> Method[] getDeclaredMethods() <span class="keyword">throws</span> SecurityException&#123;&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>è·å–Classå¯¹è±¡æ‰€è¡¨ç¤ºç±»æˆ–æ¥å£çš„publicçš„æ–¹æ³•</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> Method[] getMethods() <span class="keyword">throws</span> SecurityException&#123;&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>è·å–Classå¯¹è±¡æ‰€è¡¨ç¤ºç±»æˆ–æ¥å£çš„æŒ‡å®šåç§°çš„æ–¹æ³•</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> Method <span class="title">getDeclaredMethod</span><span class="params">(String name, Class&lt;?&gt;... parameterTypes)</span></span></span><br><span class="line"><span class="function">        <span class="keyword">throws</span> NoSuchMethodException, SecurityException</span>&#123;&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>è·å–Classå¯¹è±¡æ‰€è¡¨ç¤ºç±»æˆ–æ¥å£çš„æŒ‡å®šçš„publicçš„æŒ‡å®šåç§°çš„æ–¹æ³•</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> Method <span class="title">getMethod</span><span class="params">(String name, Class&lt;?&gt;... parameterTypes)</span></span></span><br><span class="line"><span class="function">        <span class="keyword">throws</span> NoSuchMethodException, SecurityException</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>è·å–Classå¯¹è±¡æ‰€è¡¨ç¤ºçš„ç±»æˆ–æ¥å£çš„æ‰€æœ‰Field</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> Field[] getDeclaredFields() <span class="keyword">throws</span> SecurityException&#123;&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>è·å–Classå¯¹è±¡æ‰€è¡¨ç¤ºçš„ç±»æˆ–æ¥å£çš„æ‰€æœ‰publicçš„Field</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> Field[] getFields() <span class="keyword">throws</span> SecurityException&#123;&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>è·å–Classå¯¹è±¡æ‰€è¡¨ç¤ºçš„ç±»æˆ–æ¥å£çš„æŒ‡å®šåç§°çš„Field</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> Field <span class="title">getDeclaredField</span><span class="params">(String name)</span></span></span><br><span class="line"><span class="function">        <span class="keyword">throws</span> NoSuchFieldException, SecurityException</span>&#123;&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>è·å–Classå¯¹è±¡æ‰€è¡¨ç¤ºçš„ç±»æˆ–æ¥å£çš„æŒ‡å®šåç§°çš„publicçš„Field</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> Field <span class="title">getField</span><span class="params">(String name)</span></span></span><br><span class="line"><span class="function">        <span class="keyword">throws</span> NoSuchFieldException, SecurityException </span>&#123;&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>è·å–Classå¯¹è±¡æ‰€è¡¨ç¤ºçš„ç±»æˆ–æ¥å£çš„æ‰€æœ‰æ³¨è§£</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> Annotation[] getDeclaredAnnotations()&#123;&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>è·å–Classå¯¹è±¡æ‰€è¡¨ç¤ºçš„ç±»æˆ–æ¥å£çš„æŒ‡å®šæ³¨è§£</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> &lt;A extends Annotation&gt; <span class="function">A <span class="title">getDeclaredAnnotation</span><span class="params">(Class&lt;A&gt; annotationClass)</span></span>&#123;&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>è·å–Classå¯¹è±¡æ‰€è¡¨ç¤ºçš„ç±»æˆ–æ¥å£çš„æ‰€æœ‰publicçš„æ³¨è§£</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> Annotation[] getAnnotations()&#123;&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>è·å–Classå¯¹è±¡æ‰€è¡¨ç¤ºçš„ç±»æˆ–æ¥å£çš„æŒ‡å®šçš„publicçš„æ³¨è§£</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> &lt;A extends Annotation&gt; <span class="function">A <span class="title">getAnnotation</span><span class="params">(Class&lt;A&gt; annotationClass)</span></span>&#123;&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>è·å–åŒ…å</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> Package <span class="title">getPackage</span><span class="params">()</span></span>&#123;&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>Constructorç±»çš„å¸¸ç”¨æ–¹æ³•ï¼š</p>
<ul>
<li><p>è·å–è®¿é—®ä¿®é¥°ç¬¦</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getModifiers</span><span class="params">()</span></span>&#123;&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>è·å–æ–¹æ³•åç§°</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span></span>&#123;&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>è·å–å‚æ•°ç±»å‹</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> Class&lt;?&gt;[] getParameterTypes()&#123;&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>Methodç±»ä¸­å¸¸ç”¨çš„æ–¹æ³•ï¼š</p>
<ul>
<li><p>è·å–å…¨éƒ¨çš„è¿”å›å€¼</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> Class&lt;?&gt; getReturnType()&#123;&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>è·å–å…¨éƒ¨çš„å‚æ•°</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> Class&lt;?&gt;[] getParameterTypes()&#123;&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>è·å–è®¿é—®ä¿®é¥°ç¬¦</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getModifiers</span><span class="params">()</span></span>&#123;&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>è·å–å¼‚å¸¸ä¿¡æ¯:</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> Class&lt;?&gt;[] getExceptionTypes()&#123;&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>Fileç±»ä¸­çš„å¸¸ç”¨æ–¹æ³•:</p>
<ul>
<li><p>è·å–è®¿é—®ä¿®é¥°ç¬¦</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getModifiers</span><span class="params">()</span></span>&#123;&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>è·å–Fieldçš„å±æ€§ç±»å‹</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> Class&lt;?&gt; getType()&#123;&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>è¿”å›Fieldçš„åç§°</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span></span>&#123;&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>åå°„ä¸­æ³›å‹ç›¸å…³çš„å¸¸ç”¨æ–¹æ³•:</p>
<ul>
<li><p>è·å–çˆ¶ç±»çš„æ³›å‹ç±»å‹</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> Type <span class="title">getGenericSuperclass</span><span class="params">()</span></span>&#123;&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ³›å‹ç±»å‹æ˜¯ParameterizedType</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">ParameterizedType</span> <span class="keyword">extends</span> <span class="title">Type</span></span>&#123;</span><br><span class="line">    <span class="comment">//è·å–å®é™…çš„æ³›å‹ç±»å‹å‚æ•°æ•°ç»„</span></span><br><span class="line">    Type[] getActualTypeArguments();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>è°ƒç”¨æŒ‡å®šæ–¹æ³•ï¼š</p>
<ul>
<li>é€šè¿‡Classç±»çš„getMethod(String name,Classâ€¦ parameterTypes)æ–¹æ³•æˆ–å…¶ä»–ç±»ä¼¼çš„æ–¹æ³•è·å–ä¸€ä¸ªMethodå¯¹è±¡ï¼Œå¹¶è®¾ç½®æ­¤æ–¹æ³•æ“ä½œæ—¶æ‰€éœ€è¦çš„å‚æ•°ç±»å‹</li>
<li>ç„¶åä½¿ç”¨è°ƒç”¨Methodç±»çš„Object invoke(Object obj,Object[] args)è¿›è¡Œè°ƒç”¨ï¼Œå¹¶å‘æ–¹æ³•ä¸­ä¼ é€’è¦è®¾ç½®çš„objå¯¹è±¡çš„å‚æ•°ä¿¡æ¯</li>
<li>ç¤ºä¾‹</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">testMethod</span><span class="params">()</span></span>&#123;</span><br><span class="line">    Class&lt;?&gt; clazz = Person<span class="class">.<span class="keyword">class</span></span>;</span><br><span class="line">    <span class="keyword">try</span>&#123;</span><br><span class="line">        Object instance = clazz.newInstance();</span><br><span class="line">        Method setName = clazz.getDeclaredMethod(<span class="string">"setName"</span>, String<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">        <span class="comment">//å–æ¶ˆjavaè¯­è¨€çš„å®‰å…¨æ£€æŸ¥</span></span><br><span class="line">        setName.setAccessible(<span class="keyword">true</span>);</span><br><span class="line">        setName.invoke(instance, <span class="string">"å¼ ä¸‰"</span>);</span><br><span class="line">        Method getName = clazz.getDeclaredMethod(<span class="string">"getName"</span>);</span><br><span class="line">        <span class="comment">//å–æ¶ˆjavaè¯­è¨€çš„å®‰å…¨æ£€æŸ¥</span></span><br><span class="line">        getName.setAccessible(<span class="keyword">true</span>);</span><br><span class="line">        Object obj = getName.invoke(instance);</span><br><span class="line">        System.out.println(obj);</span><br><span class="line">    &#125;<span class="keyword">catch</span> (InstantiationException e)&#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125;<span class="keyword">catch</span> (IllegalAccessException e)&#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125;<span class="keyword">catch</span> (NoSuchMethodException e)&#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125;<span class="keyword">catch</span> (InvocationTargetException e)&#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>è°ƒç”¨æŒ‡å®šå±æ€§ï¼š</p>
<ul>
<li>å¯ä»¥ç›´æ¥é€šè¿‡Fieldç±»æ“ä½œç±»ä¸­çš„å±æ€§ï¼Œé€šè¿‡Fieldç±»æä¾›çš„set()å’Œget()æ–¹æ³•å°±å¯ä»¥å®Œæˆè®¾ç½®å’Œå–å¾—å±æ€§å†…å®¹çš„æ“ä½œ</li>
<li>ç¤ºä¾‹</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">testFiled</span><span class="params">()</span> <span class="keyword">throws</span>  Exception</span>&#123;</span><br><span class="line">    Class&lt;?&gt; clazz = Person<span class="class">.<span class="keyword">class</span></span>;</span><br><span class="line">    Object instance = clazz.newInstance();</span><br><span class="line">    Field name = clazz.getDeclaredField(<span class="string">"name"</span>);</span><br><span class="line">    name.setAccessible(<span class="keyword">true</span>);</span><br><span class="line">    name.set(instance,<span class="string">"å¼ ä¸‰"</span>);</span><br><span class="line">    Object o = name.get(instance);</span><br><span class="line">    System.out.println(o);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>åŠ¨æ€ä»£ç†:</p>
<ul>
<li>åŠ¨æ€ä»£ç†æ˜¯æŒ‡å®¢æˆ·é€šè¿‡ä»£ç†ç±»æ¥è°ƒç”¨å…¶ä»–å¯¹è±¡çš„æ–¹æ³•ï¼Œå¹¶ä¸”åœ¨ç¨‹åºè¿è¡Œæ—¶æ ¹æ®éœ€è¦åŠ¨æ€åˆ›å»ºç›®æ ‡ç±»çš„ä»£ç†å¯¹è±¡</li>
<li>æŠ½è±¡è§’è‰²ä¸­ï¼ˆæ¥å£ï¼‰å£°æ˜çš„æ˜¯æ‰€æœ‰æ–¹æ³•éƒ½è¢«è½¬ç§»åˆ°è°ƒç”¨å¤„ç†å™¨ä¸€ä¸ªé›†ä¸­çš„æ–¹æ³•ä¸­å¤„ç†ï¼Œå¯ä»¥æ›´åŠ çµæ´»å’ŒåŒä¸€çš„å¤„ç†ä¼—å¤šçš„æ–¹æ³•</li>
<li>ç¤ºä¾‹</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Human</span> </span>&#123;</span><br><span class="line">    <span class="function">String <span class="title">getBeilef</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">eat</span><span class="params">(String food)</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SuperMan</span> <span class="keyword">implements</span> <span class="title">Human</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getBeilef</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"Nothing to Believe!"</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">eat</span><span class="params">(String food)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"SuperMan eat "</span>+ food);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.InvocationHandler;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Method;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Proxy;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ProxyFactory</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Object <span class="title">getProxyInstance</span><span class="params">(Object obj)</span></span>&#123;</span><br><span class="line">        Object o = Proxy.newProxyInstance(obj.getClass().getClassLoader(), obj.getClass().getInterfaces(), <span class="keyword">new</span> InvocationHandler() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> Object <span class="title">invoke</span><span class="params">(Object proxy, Method method, Object[] args)</span> <span class="keyword">throws</span> Throwable </span>&#123;</span><br><span class="line">                <span class="keyword">return</span> method.invoke(obj, args);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        <span class="keyword">return</span> o;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">testProxy</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="comment">// åŠ¨æ€ä»£ç†</span></span><br><span class="line">    Human human = (Human) ProxyFactory.getProxyInstance(<span class="keyword">new</span> SuperMan());</span><br><span class="line">    String belief = human.getBeilef();</span><br><span class="line">    System.out.println(<span class="string">"ä¿¡ä»°æ˜¯ï¼š"</span> + belief);</span><br><span class="line">    human.eat(<span class="string">"è‹¹æœ"</span>);</span><br><span class="line">    <span class="comment">// æ¥å£</span></span><br><span class="line">    Human human1=<span class="keyword">new</span> SuperMan();</span><br><span class="line">    String belief1 =human1.getBeilef();</span><br><span class="line">    System.out.println(<span class="string">"ä¿¡ä»°æ˜¯ï¼š"</span> + belief1);</span><br><span class="line">    human1.eat(<span class="string">"è‹¹æœ"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ol>
]]></content>
      <categories>
        <category>Java</category>
      </categories>
  </entry>
  <entry>
    <title>SpringBoot ELK Quick Start</title>
    <url>/2020/10/02/SpringBoot-ELK-Quick-Start/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>éšç€äº’è”ç½‘çš„å¿«é€Ÿå‘å±•ï¼Œç³»ç»Ÿè¶Šæ¥è¶Šåºå¤§ï¼Œä¾èµ–è‚‰çœ¼åˆ†ææ—¥å¿—æ–‡ä»¶æ¥æ’æŸ¥é—®é¢˜çš„æ–¹å¼æ¸æ¸å‡¸æ˜¾å‡ºä¸€äº›é—®é¢˜ï¼š</p>
<ul>
<li>åˆ†å¸ƒå¼é›†ç¾¤ç¯å¢ƒä¸‹ï¼ŒæœåŠ¡å™¨æ•°é‡å¯èƒ½è¾¾åˆ°æˆç™¾ä¸Šåƒï¼Œå¦‚ä½•å‡†ç¡®å®šä½ï¼Ÿ</li>
<li>å¾®æœåŠ¡æ¶æ„ä¸­ï¼Œå¦‚ä½•æ ¹æ®å¼‚å¸¸ä¿¡æ¯ï¼Œå®šä½å…¶ä»–å„æœåŠ¡çš„ä¸Šä¸‹æ–‡ä¿¡æ¯ï¼Ÿ</li>
<li>éšç€æ—¥å¿—æ–‡ä»¶çš„ä¸æ–­å¢å¤§ï¼Œå¯èƒ½é¢ä¸´åœ¨æœåŠ¡å™¨ä¸Šä¸èƒ½ç›´æ¥æ‰“å¼€çš„å°´å°¬ã€‚</li>
<li>æ–‡æœ¬æœç´¢å¤ªæ…¢ã€æ— æ³•å¤šç»´åº¦æŸ¥è¯¢ç­‰â€¦ â€¦</li>
</ul>
<p>é¢ä¸´è¿™äº›é—®é¢˜ï¼Œå°±éœ€è¦é›†ä¸­åŒ–çš„æ—¥å¿—ç®¡ç†ï¼Œå°†æ‰€æœ‰æœåŠ¡å™¨èŠ‚ç‚¹ä¸Šçš„æ—¥å¿—ç»Ÿä¸€æ”¶é›†ï¼Œç®¡ç†ï¼Œè®¿é—®ã€‚ELKï¼ˆElasticsearch Logstash Kibanaï¼‰çš„å¼ºå¤§åœ¨ä¹‹å‰çš„æ–‡ç« ä¸­æœ‰ä»‹ç»è¿‡ï¼Œè¿™é‡Œä¸»è¦è®°å½•å¦‚ä½•åœ¨SpringBootä¸­ä½¿ç”¨ELKè®°å½•æ—¥å¿—ã€‚åç»­å¯èƒ½è¿˜ä¼šå°†ELKå¼•å…¥é¡¹ç›®ä¸­ä½œä¸ºæœç´¢å¼•æ“æä¾›æœç´¢åŠŸèƒ½ï¼Œè¿™é‡Œå…ˆè®°å½•ä¸‹æ—¥å¿—è®°å½•åŠŸèƒ½ã€‚</p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="åŸºç¡€çŸ¥è¯†"><a href="#åŸºç¡€çŸ¥è¯†" class="headerlink" title="åŸºç¡€çŸ¥è¯†"></a>åŸºç¡€çŸ¥è¯†</h2><ol>
<li><p><code>Elasticsearch</code>åŸºäº Lucene å¼€å‘ï¼Œç›®å‰ä½¿ç”¨æœ€å¹¿çš„å¼€æºæœç´¢å¼•æ“ä¹‹ä¸€ï¼Œæ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼çš„æœç´¢å’Œåˆ†æå¼•æ“ï¼Œå¯ä»¥ç”¨äºå…¨æ–‡æ£€ç´¢ã€ç»“æ„åŒ–æ£€ç´¢å’Œåˆ†æï¼Œå¹¶èƒ½å°†è¿™ä¸‰è€…ç»“åˆèµ·æ¥ã€‚</p>
</li>
<li><p><code>Logstash</code>ç®€å•æ¥è¯´å°±æ˜¯ä¸€æ ¹å…·å¤‡å®æ—¶æ•°æ®ä¼ è¾“èƒ½åŠ›çš„ç®¡é“ï¼Œè´Ÿè´£å°†æ•°æ®ä¿¡æ¯ä»ç®¡é“çš„è¾“å…¥ç«¯ä¼ è¾“åˆ°ç®¡é“çš„è¾“å‡ºç«¯ï¼Œä¸æ­¤åŒæ—¶è¿™æ ¹ç®¡é“è¿˜å¯ä»¥æ ¹æ®éœ€æ±‚åœ¨ä¸­é—´åŠ ä¸Šæ»¤ç½‘ï¼Œæä¾›äº†å¾ˆå¤šåŠŸèƒ½å¼ºå¤§çš„æ»¤ç½‘ä»¥æ»¡è¶³å„ç§åº”ç”¨åœºæ™¯ã€‚</p>
</li>
<li><p><code>Kibana</code>æ˜¯ä¸€ä¸ªå¼€æºçš„åˆ†æä¸å¯è§†åŒ–å¹³å°ï¼Œå¯ä»¥ç”¨<code>Kibana</code>æœç´¢ã€æŸ¥çœ‹ã€äº¤äº’å­˜æ”¾åœ¨<code>Elasticsearch</code>ç´¢å¼•é‡Œçš„æ•°æ®ï¼Œä½¿ç”¨å„ç§ä¸åŒçš„å›¾æ ‡ã€è¡¨æ ¼ã€åœ°å›¾ç­‰ï¼Œ<code>Kibana</code>èƒ½å¤Ÿå¾ˆè½»æ˜“çš„å±•ç¤ºé«˜çº§æ•°æ®åˆ†æä¸å¯è§†åŒ–ã€‚</p>
</li>
<li><p><code>Logstash</code>å¯ä»¥ä»æœ¬åœ°ç£ç›˜ï¼Œç½‘ç»œæœåŠ¡ï¼ˆè‡ªå·±ç›‘å¬ç«¯å£ï¼Œæ¥å—ç”¨æˆ·æ—¥å¿—ï¼‰ï¼Œæ¶ˆæ¯é˜Ÿåˆ—ä¸­æ”¶é›†å„ç§å„æ ·çš„æ—¥å¿—ï¼Œç„¶åè¿›è¡Œè¿‡æ»¤åˆ†æï¼Œå¹¶å°†æ—¥å¿—è¾“å‡ºåˆ°<code>Elasticsearch</code>ä¸­ã€‚</p>
</li>
<li><p>è½»é‡çº§æ•°æ®é‡‡é›†å™¨Beatså®˜ç½‘ï¼š<a href="https://www.elastic.co/cn/beats/" target="_blank" rel="noopener">https://www.elastic.co/cn/beats/</a></p>
</li>
<li><p>ELKBæ¶æ„å›¾ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/4c796fcaa7eea35a4d48bb6a1efee623-206417" alt="ELKæ¶æ„å›¾"></p>
</li>
<li><p>ELKRæ¶æ„å›¾ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/57d725d8092bef5760dac89f00892ced-246693" alt="ELKRæ¶æ„å›¾"></p>
</li>
<li><p>ç¨‹åºå†™å…¥æ—¥å¿—æ—¶åºå›¾ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/f852ca8e0dd5fbbcdd2377edddc11d0d-70104" alt="ç¨‹åºå†™å…¥æ—¥å¿—æ—¶åºå›¾"></p>
</li>
<li><p>ELKæ”¶é›†æ—¥å¿—åŠKibinaæŸ¥è¯¢æ—¥å¿—æ—¶åºå›¾ï¼š</p>
<p><img src="https://app.yinxiang.com/FileSharing.action?hash=1/56d44272ab155a82b18aacf1a22f5a7f-123940" alt="ELKæ”¶é›†æ—¥å¿—åŠKibinaæŸ¥è¯¢æ—¥å¿—æ—¶åºå›¾"></p>
</li>
</ol>
<h2 id="ELKç¯å¢ƒæ„å»ºï¼ˆDockerå•æœºï¼‰"><a href="#ELKç¯å¢ƒæ„å»ºï¼ˆDockerå•æœºï¼‰" class="headerlink" title="ELKç¯å¢ƒæ„å»ºï¼ˆDockerå•æœºï¼‰"></a>ELKç¯å¢ƒæ„å»ºï¼ˆDockerå•æœºï¼‰</h2><ol>
<li><p><strong>æ³¨æ„ç‰ˆæœ¬ä¿æŒä¸€è‡´ï¼Œè¿™é‡Œéƒ½ä½¿ç”¨7.6.2ç‰ˆæœ¬ï¼</strong></p>
</li>
<li><p>Dockeré•œåƒæ‹‰å–ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker pull logstash:7.6.2</span><br><span class="line">docker pull elasticsearch:7.6.2</span><br><span class="line">docker pull kibana:7.6.2</span><br></pre></td></tr></table></figure>
</li>
<li><p>åœ¨è¦å¯åŠ¨çš„é•œåƒçš„å‘½ä»¤å¤„åˆ›å»ºä¸€ä¸ª<code>elk</code>ç›®å½•ï¼Œä¸»è¦ç”¨äºæ”¾ç½®ELKçš„æ•°æ®å’Œé…ç½®ï¼Œåœ¨<code>elk</code>ç›®å½•ä¸­æ·»åŠ <code>esdata</code>ç›®å½•ï¼Œç»™äºˆ777æƒé™ï¼Œç„¶åè¿è¡Œä¸‹é¢çš„dockerå‘½ä»¤ï¼Œç”¨äºå¯åŠ¨<code>elasticsearch</code>ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker run --name elasticsearch \</span><br><span class="line">-v "$PWD/esdata":/usr/share/elasticsearch/data \</span><br><span class="line">-e "discovery.type=single-node" \</span><br><span class="line">-p 9200:9200 -p 9300:9300 \</span><br><span class="line">-d elasticsearch:7.6.2</span><br></pre></td></tr></table></figure>
</li>
<li><p>ç„¶åè®¿é—®å¯åŠ¨<code>elasticsearch</code>æœåŠ¡çš„ä¸»æœºçš„9200ç«¯å£ï¼Œçœ‹åˆ°å¦‚ä¸‹ç±»ä¼¼å†…å®¹å°±è¡¨ç¤ºå¯åŠ¨æˆåŠŸï¼š</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line"><span class="attr">"name"</span>: <span class="string">"46f533f30381"</span>,</span><br><span class="line"><span class="attr">"cluster_name"</span>: <span class="string">"docker-cluster"</span>,</span><br><span class="line"><span class="attr">"cluster_uuid"</span>: <span class="string">"4HvY1D4PSqWzRNANscHFEw"</span>,</span><br><span class="line"><span class="attr">"version"</span>: &#123;</span><br><span class="line"><span class="attr">"number"</span>: <span class="string">"7.6.2"</span>,</span><br><span class="line"><span class="attr">"build_flavor"</span>: <span class="string">"default"</span>,</span><br><span class="line"><span class="attr">"build_type"</span>: <span class="string">"docker"</span>,</span><br><span class="line"><span class="attr">"build_hash"</span>: <span class="string">"ef48eb35cf30adf4db14086e8aabd07ef6fb113f"</span>,</span><br><span class="line"><span class="attr">"build_date"</span>: <span class="string">"2020-03-26T06:34:37.794943Z"</span>,</span><br><span class="line"><span class="attr">"build_snapshot"</span>: <span class="literal">false</span>,</span><br><span class="line"><span class="attr">"lucene_version"</span>: <span class="string">"8.4.0"</span>,</span><br><span class="line"><span class="attr">"minimum_wire_compatibility_version"</span>: <span class="string">"6.8.0"</span>,</span><br><span class="line"><span class="attr">"minimum_index_compatibility_version"</span>: <span class="string">"6.0.0-beta1"</span></span><br><span class="line">&#125;,</span><br><span class="line"><span class="attr">"tagline"</span>: <span class="string">"You Know, for Search"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤å¯åŠ¨<code>Kibana</code>æœåŠ¡ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker run --name kibana \</span><br><span class="line">--link elasticsearch:elasticsearch \</span><br><span class="line">-p 5601:5601 \</span><br><span class="line">-d kibana:7.6.2</span><br></pre></td></tr></table></figure>
</li>
<li><p>ç­‰å¾…å¯åŠ¨æˆåŠŸä¹‹åå°±å¯ä»¥è®¿é—®å¯åŠ¨<code>Kibana</code>æœåŠ¡çš„ä¸»æœºçš„5601ç«¯å£ï¼Œå¯ä»¥çœ‹åˆ°<code>Kibana</code>çš„ä¸»é¡µã€‚</p>
</li>
<li><p>åœ¨<code>elk</code>ç›®å½•ä¸‹åˆ›å»º<code>logstash</code>ã€<code>logstash/conf</code>ã€<code>logstash/pipeline</code>ã€<code>logstash/data</code>ç›®å½•ï¼Œåœ¨<code>logstash/conf</code>ç›®å½•ä¸‹åˆ›å»º<code>jvm.options</code>ã€<code>log4j2.properties</code>ã€<code>logstash.yml</code>ã€<code>pipelines.yml</code>ã€<code>startup.options</code>æ–‡ä»¶ï¼Œæ–‡ä»¶å†…å®¹åˆ†åˆ«å¦‚ä¸‹ï¼š</p>
<ul>
<li><p><code>jvm.options</code>ï¼š</p>
<figure class="highlight properties"><table><tr><td class="code"><pre><span class="line"><span class="comment">## JVM configuration</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Xms represents the initial size of total heap space</span></span><br><span class="line"><span class="comment"># Xmx represents the maximum size of total heap space</span></span><br><span class="line"></span><br><span class="line"><span class="attr">-Xms1g</span></span><br><span class="line"><span class="attr">-Xmx1g</span></span><br><span class="line"></span><br><span class="line"><span class="comment">################################################################</span></span><br><span class="line"><span class="comment">## Expert settings</span></span><br><span class="line"><span class="comment">################################################################</span></span><br><span class="line"><span class="comment">##</span></span><br><span class="line"><span class="comment">## All settings below this section are considered</span></span><br><span class="line"><span class="comment">## expert settings. Don't tamper with them unless</span></span><br><span class="line"><span class="comment">## you understand what you are doing</span></span><br><span class="line"><span class="comment">##</span></span><br><span class="line"><span class="comment">################################################################</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## GC configuration</span></span><br><span class="line"><span class="meta">-XX</span>:<span class="string">+UseConcMarkSweepGC</span></span><br><span class="line"><span class="meta">-XX</span>:<span class="string">CMSInitiatingOccupancyFraction=75</span></span><br><span class="line"><span class="meta">-XX</span>:<span class="string">+UseCMSInitiatingOccupancyOnly</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## Locale</span></span><br><span class="line"><span class="comment"># Set the locale language</span></span><br><span class="line"><span class="comment">#-Duser.language=en</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Set the locale country</span></span><br><span class="line"><span class="comment">#-Duser.country=US</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Set the locale variant, if any</span></span><br><span class="line"><span class="comment">#-Duser.variant=</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## basic</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># set the I/O temp directory</span></span><br><span class="line"><span class="comment">#-Djava.io.tmpdir=$HOME</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># set to headless, just in case</span></span><br><span class="line"><span class="meta">-Djava.awt.headless</span>=<span class="string">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ensure UTF-8 encoding by default (e.g. filenames)</span></span><br><span class="line"><span class="meta">-Dfile.encoding</span>=<span class="string">UTF-8</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># use our provided JNA always versus the system one</span></span><br><span class="line"><span class="comment">#-Djna.nosys=true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Turn on JRuby invokedynamic</span></span><br><span class="line"><span class="meta">-Djruby.compile.invokedynamic</span>=<span class="string">true</span></span><br><span class="line"><span class="comment"># Force Compilation</span></span><br><span class="line"><span class="meta">-Djruby.jit.threshold</span>=<span class="string">0</span></span><br><span class="line"><span class="comment"># Make sure joni regexp interruptability is enabled</span></span><br><span class="line"><span class="meta">-Djruby.regexp.interruptible</span>=<span class="string">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## heap dumps</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># generate a heap dump when an allocation from the Java heap fails</span></span><br><span class="line"><span class="comment"># heap dumps are created in the working directory of the JVM</span></span><br><span class="line"><span class="meta">-XX</span>:<span class="string">+HeapDumpOnOutOfMemoryError</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># specify an alternative path for heap dumps</span></span><br><span class="line"><span class="comment"># ensure the directory exists and has sufficient space</span></span><br><span class="line"><span class="comment">#-XX:HeapDumpPath=$&#123;LOGSTASH_HOME&#125;/heapdump.hprof</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## GC logging</span></span><br><span class="line"><span class="comment">#-XX:+PrintGCDetails</span></span><br><span class="line"><span class="comment">#-XX:+PrintGCTimeStamps</span></span><br><span class="line"><span class="comment">#-XX:+PrintGCDateStamps</span></span><br><span class="line"><span class="comment">#-XX:+PrintClassHistogram</span></span><br><span class="line"><span class="comment">#-XX:+PrintTenuringDistribution</span></span><br><span class="line"><span class="comment">#-XX:+PrintGCApplicationStoppedTime</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># log GC status to a file with time stamps</span></span><br><span class="line"><span class="comment"># ensure the directory exists</span></span><br><span class="line"><span class="comment">#-Xloggc:$&#123;LS_GC_LOG_FILE&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Entropy source for randomness</span></span><br><span class="line"><span class="meta">-Djava.security.egd</span>=<span class="string">file:/dev/urandom</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Copy the logging context from parent threads to children</span></span><br><span class="line"><span class="meta">-Dlog4j2.isThreadContextMapInheritable</span>=<span class="string">true</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>log4j2.properties</code>:</p>
<figure class="highlight properties"><table><tr><td class="code"><pre><span class="line"><span class="attr">status</span> = <span class="string">error</span></span><br><span class="line"><span class="attr">name</span> = <span class="string">LogstashPropertiesConfig</span></span><br><span class="line"></span><br><span class="line"><span class="meta">appender.console.type</span> = <span class="string">Console</span></span><br><span class="line"><span class="meta">appender.console.name</span> = <span class="string">plain_console</span></span><br><span class="line"><span class="meta">appender.console.layout.type</span> = <span class="string">PatternLayout</span></span><br><span class="line"><span class="meta">appender.console.layout.pattern</span> = <span class="string">[%d&#123;ISO8601&#125;][%-5p][%-25c]%notEmpty&#123;[%X&#123;pipeline.id&#125;]&#125; %m%n</span></span><br><span class="line"></span><br><span class="line"><span class="meta">appender.json_console.type</span> = <span class="string">Console</span></span><br><span class="line"><span class="meta">appender.json_console.name</span> = <span class="string">json_console</span></span><br><span class="line"><span class="meta">appender.json_console.layout.type</span> = <span class="string">JSONLayout</span></span><br><span class="line"><span class="meta">appender.json_console.layout.compact</span> = <span class="string">true</span></span><br><span class="line"><span class="meta">appender.json_console.layout.eventEol</span> = <span class="string">true</span></span><br><span class="line"></span><br><span class="line"><span class="meta">rootLogger.level</span> = <span class="string">$&#123;sys:ls.log.level&#125;</span></span><br><span class="line"><span class="meta">rootLogger.appenderRef.console.ref</span> = <span class="string">$&#123;sys:ls.log.format&#125;_console</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>logstash.yml</code>:</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">node.name:</span> <span class="string">logstash-203</span></span><br><span class="line"><span class="comment"># æ—¥å¿—æ–‡ä»¶ç›®å½•é…ç½®</span></span><br><span class="line"><span class="attr">path.logs:</span> <span class="string">/usr/share/logstash/logs</span></span><br><span class="line"><span class="comment"># # éªŒè¯é…ç½®æ–‡ä»¶åŠå­˜åœ¨æ€§</span></span><br><span class="line"><span class="attr">config.test_and_exit:</span> <span class="literal">false</span></span><br><span class="line"><span class="comment"># # é…ç½®æ–‡ä»¶æ”¹å˜æ—¶æ˜¯å¦è‡ªåŠ¨åŠ è½½</span></span><br><span class="line"><span class="attr">config.reload.automatic:</span> <span class="literal">false</span></span><br><span class="line"><span class="comment"># # é‡æ–°åŠ è½½é…ç½®æ–‡ä»¶é—´éš”</span></span><br><span class="line"><span class="attr">config.reload.interval:</span> <span class="string">60s</span></span><br><span class="line"><span class="comment"># # debugæ¨¡å¼ å¼€å¯åä¼šæ‰“å°è§£æåçš„é…ç½®æ–‡ä»¶ åŒ…æ‹¬å¯†ç ç­‰ä¿¡æ¯ æ…ç”¨</span></span><br><span class="line"><span class="comment"># # éœ€è¦åŒæ—¶é…ç½®æ—¥å¿—ç­‰çº§ä¸ºdebug</span></span><br><span class="line"><span class="attr">config.debug:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">log.level:</span> <span class="string">debug</span></span><br><span class="line"><span class="comment"># # The bind address for the metrics REST endpoint.</span></span><br><span class="line"><span class="attr">http.host:</span> <span class="number">0.0</span><span class="number">.0</span><span class="number">.0</span></span><br><span class="line"><span class="comment"># # æ—¥å¿—æ ¼å¼ json/plain</span></span><br><span class="line"><span class="attr">log.format:</span> <span class="string">json</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>pipelines.yml</code>:</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># This file is where you define your pipelines. You can define multiple.</span></span><br><span class="line"><span class="comment"># For more information on multiple pipelines, see the documentation:</span></span><br><span class="line"><span class="comment">#   https://www.elastic.co/guide/en/logstash/current/multiple-pipelines.html</span></span><br><span class="line"></span><br><span class="line"><span class="bullet">-</span> <span class="attr">pipeline.id:</span> <span class="string">es</span></span><br><span class="line">  <span class="attr">path.config:</span> <span class="string">/usr/share/logstash/pipeline/logstash.conf</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>startup.options</code>:</p>
<figure class="highlight properties"><table><tr><td class="code"><pre><span class="line"><span class="comment">################################################################################</span></span><br><span class="line"><span class="comment"># These settings are ONLY used by $LS_HOME/bin/system-install to create a custom</span></span><br><span class="line"><span class="comment"># startup script for Logstash and is not used by Logstash itself. It should</span></span><br><span class="line"><span class="comment"># automagically use the init system (systemd, upstart, sysv, etc.) that your</span></span><br><span class="line"><span class="comment"># Linux distribution uses.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># After changing anything here, you need to re-run $LS_HOME/bin/system-install</span></span><br><span class="line"><span class="comment"># as root to push the changes to the init script.</span></span><br><span class="line"><span class="comment">################################################################################</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Override Java location</span></span><br><span class="line"><span class="comment">#JAVACMD=/usr/bin/java</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Set a home directory</span></span><br><span class="line"><span class="attr">LS_HOME</span>=<span class="string">/usr/share/logstash</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># logstash settings directory, the path which contains logstash.yml</span></span><br><span class="line"><span class="attr">LS_SETTINGS_DIR</span>=<span class="string">/etc/logstash</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Arguments to pass to logstash</span></span><br><span class="line"><span class="attr">LS_OPTS</span>=<span class="string">"--path.settings $&#123;LS_SETTINGS_DIR&#125;"</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Arguments to pass to java</span></span><br><span class="line"><span class="attr">LS_JAVA_OPTS</span>=<span class="string">""</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># pidfiles aren't used the same way for upstart and systemd; this is for sysv users.</span></span><br><span class="line"><span class="attr">LS_PIDFILE</span>=<span class="string">/var/run/logstash.pid</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># user and group id to be invoked as</span></span><br><span class="line"><span class="attr">LS_USER</span>=<span class="string">logstash</span></span><br><span class="line"><span class="attr">LS_GROUP</span>=<span class="string">logstash</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Enable GC logging by uncommenting the appropriate lines in the GC logging</span></span><br><span class="line"><span class="comment"># section in jvm.options</span></span><br><span class="line"><span class="attr">LS_GC_LOG_FILE</span>=<span class="string">/var/log/logstash/gc.log</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Open file limit</span></span><br><span class="line"><span class="attr">LS_OPEN_FILES</span>=<span class="string">16384</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Nice level</span></span><br><span class="line"><span class="attr">LS_NICE</span>=<span class="string">19</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Change these to have the init script named and described differently</span></span><br><span class="line"><span class="comment"># This is useful when running multiple instances of Logstash on the same</span></span><br><span class="line"><span class="comment"># physical box or vm</span></span><br><span class="line"><span class="attr">SERVICE_NAME</span>=<span class="string">"logstash"</span></span><br><span class="line"><span class="attr">SERVICE_DESCRIPTION</span>=<span class="string">"logstash"</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># If you need to run a command or script before launching Logstash, put it</span></span><br><span class="line"><span class="comment"># between the lines beginning with `read` and `EOM`, and uncomment those lines.</span></span><br><span class="line"><span class="comment">###</span></span><br><span class="line"><span class="comment">## read -r -d '' PRESTART &lt;&lt; EOM</span></span><br><span class="line"><span class="comment">## EOM</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>åœ¨<code>logstash/pipeline</code>ç›®å½•ä¸‹åˆ›å»º<code>logstash.conf</code>æ–‡ä»¶ï¼Œæ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š</p>
<figure class="highlight properties"><table><tr><td class="code"><pre><span class="line"><span class="attr">input</span> <span class="string">&#123;</span></span><br><span class="line">  <span class="attr">tcp&#123;</span></span><br><span class="line">     <span class="attr">host</span> =<span class="string">&gt; "0.0.0.0"</span></span><br><span class="line">     <span class="attr">port</span> =<span class="string">&gt; 5600</span></span><br><span class="line">     <span class="attr">mode</span> =<span class="string">&gt; "server"</span></span><br><span class="line">     <span class="attr">type</span> =<span class="string">&gt; "tcplog"</span></span><br><span class="line">     <span class="attr">codec</span> =<span class="string">&gt; json_lines</span></span><br><span class="line">   <span class="attr">&#125;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="attr">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="attr">output&#123;</span></span><br><span class="line"> <span class="attr">stdout&#123;</span></span><br><span class="line">   <span class="attr">codec</span> =<span class="string">&gt; rubydebug</span></span><br><span class="line">  <span class="attr">&#125;</span></span><br><span class="line">  <span class="attr">elasticsearch</span> <span class="string">&#123;</span></span><br><span class="line">    <span class="attr">hosts</span> =<span class="string">&gt; "192.168.37.128:9200"</span></span><br><span class="line">    <span class="attr">index</span> =<span class="string">&gt; "logstash-file-test-%&#123;+YYYY.MM.dd&#125;"</span></span><br><span class="line">    <span class="attr">action</span> =<span class="string">&gt; "index"</span></span><br><span class="line">    <span class="attr">codec</span> =<span class="string">&gt; "json"</span></span><br><span class="line">  <span class="attr">&#125;</span></span><br><span class="line"><span class="attr">&#125;</span></span><br></pre></td></tr></table></figure>

<ul>
<li><p>å¯¹äºå¤šä¸ªè¾“å‡ºï¼ˆå¤šç«¯å£ï¼‰ï¼š</p>
<figure class="highlight properties"><table><tr><td class="code"><pre><span class="line"><span class="attr">input</span> <span class="string">&#123;</span></span><br><span class="line"><span class="comment"> # æˆ‘ä»¬åˆ›å»ºäº†ä¸¤ä¸ªå¾®æœåŠ¡demo æ‰€ä»¥å»ºç«‹ä¸¤ä¸ªä¸åŒçš„è¾“å…¥ï¼Œå°†ä¸¤ä¸ªæœåŠ¡çš„æ—¥å¿—åˆ†åˆ«è¾“å…¥åˆ°ä¸åŒçš„ç´¢å¼•ä¸­</span></span><br><span class="line">  <span class="attr">tcp</span> <span class="string">&#123;</span></span><br><span class="line">    <span class="attr">mode</span> =<span class="string">&gt; "server"</span></span><br><span class="line">    <span class="attr">host</span> =<span class="string">&gt; "0.0.0.0"  # å…è®¸ä»»æ„ä¸»æœºå‘é€æ—¥å¿—</span></span><br><span class="line">    <span class="attr">type</span> =<span class="string">&gt; "elk1"      # è®¾å®štypeä»¥åŒºåˆ†æ¯ä¸ªè¾“å…¥æº</span></span><br><span class="line">    <span class="attr">port</span> =<span class="string">&gt; 4567      </span></span><br><span class="line">    <span class="attr">codec</span> =<span class="string">&gt; json_lines    # æ•°æ®æ ¼å¼</span></span><br><span class="line">  <span class="attr">&#125;</span></span><br><span class="line">  <span class="attr">tcp</span> <span class="string">&#123;</span></span><br><span class="line">    <span class="attr">mode</span> =<span class="string">&gt; "server"</span></span><br><span class="line">    <span class="attr">host</span> =<span class="string">&gt; "0.0.0.0"</span></span><br><span class="line">    <span class="attr">type</span> =<span class="string">&gt; "elk2"</span></span><br><span class="line">    <span class="attr">port</span> =<span class="string">&gt; 4667</span></span><br><span class="line">    <span class="attr">codec</span> =<span class="string">&gt; json_lines</span></span><br><span class="line">  <span class="attr">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="attr">&#125;</span></span><br><span class="line"><span class="attr">filter</span> <span class="string">&#123;</span></span><br><span class="line"><span class="comment">  #Only matched data are send to output.</span></span><br><span class="line"><span class="attr">&#125;</span></span><br><span class="line"><span class="attr">output</span> <span class="string">&#123;</span></span><br><span class="line"><span class="comment">  # For detail config for elasticsearch as output,</span></span><br><span class="line"><span class="comment">  # See: https://www.elastic.co/guide/en/logstash/current/plugins-outputs-elasticsearch.html</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">if</span> <span class="string">[type] == "elk1" &#123;</span></span><br><span class="line">    <span class="attr">elasticsearch</span> <span class="string">&#123;</span></span><br><span class="line">      <span class="attr">action</span> =<span class="string">&gt; "index"          # è¾“å‡ºæ—¶åˆ›å»ºæ˜ å°„</span></span><br><span class="line">      <span class="attr">hosts</span>  =<span class="string">&gt; "192.168.87.136:9200"   # ElasticSearch çš„åœ°å€å’Œç«¯å£</span></span><br><span class="line">      <span class="attr">index</span>  =<span class="string">&gt; "elk1"         # æŒ‡å®šç´¢å¼•å</span></span><br><span class="line">      <span class="attr">codec</span>  =<span class="string">&gt; "json"</span></span><br><span class="line">     <span class="attr">&#125;</span></span><br><span class="line">  <span class="attr">&#125;</span></span><br><span class="line">  <span class="attr">if</span> <span class="string">[type] == "elk2" &#123;</span></span><br><span class="line">    <span class="attr">elasticsearch</span> <span class="string">&#123;</span></span><br><span class="line">      <span class="attr">action</span> =<span class="string">&gt; "index"          #The operation on ES</span></span><br><span class="line">      <span class="attr">hosts</span>  =<span class="string">&gt; "192.168.87.136:9200"   #ElasticSearch host, can be array.</span></span><br><span class="line">      <span class="attr">index</span>  =<span class="string">&gt; "elk2"         #The index to write data to.</span></span><br><span class="line">      <span class="attr">codec</span>  =<span class="string">&gt; "json"</span></span><br><span class="line">     <span class="attr">&#125;</span></span><br><span class="line">  <span class="attr">&#125;</span></span><br><span class="line"><span class="attr">&#125;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>å¯¹äºåŒä¸€ä¸ªç«¯å£åŒºåˆ†åº”ç”¨æ—¥å¿—ï¼š</p>
<ul>
<li><code>logstash.conf</code>ï¼š</li>
</ul>
<figure class="highlight properties"><table><tr><td class="code"><pre><span class="line"><span class="attr">input</span> <span class="string">&#123;</span></span><br><span class="line">  <span class="attr">tcp&#123;</span></span><br><span class="line">     <span class="attr">host</span> =<span class="string">&gt; "0.0.0.0"</span></span><br><span class="line">     <span class="attr">port</span> =<span class="string">&gt; 5600</span></span><br><span class="line">     <span class="attr">mode</span> =<span class="string">&gt; "server"</span></span><br><span class="line">     <span class="attr">type</span> =<span class="string">&gt; "tcplog"</span></span><br><span class="line">     <span class="attr">codec</span> =<span class="string">&gt; json_lines</span></span><br><span class="line">   <span class="attr">&#125;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="attr">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="attr">output&#123;</span></span><br><span class="line"> <span class="attr">stdout&#123;</span></span><br><span class="line">   <span class="attr">codec</span> =<span class="string">&gt; rubydebug</span></span><br><span class="line">  <span class="attr">&#125;</span></span><br><span class="line">  <span class="attr">elasticsearch</span> <span class="string">&#123;</span></span><br><span class="line">    <span class="attr">hosts</span> =<span class="string">&gt; "192.168.37.128:9200"</span></span><br><span class="line">    <span class="attr">index</span> =<span class="string">&gt; "logstash-file-%&#123;[appname]&#125;-%&#123;+YYYY.MM.dd&#125;"</span></span><br><span class="line">    <span class="attr">action</span> =<span class="string">&gt; "index"</span></span><br><span class="line">    <span class="attr">codec</span> =<span class="string">&gt; "json"</span></span><br><span class="line">  <span class="attr">&#125;</span></span><br><span class="line"><span class="attr">&#125;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>SpringBooté¡¹ç›®æ—¥å¿—é…ç½®æ–‡ä»¶<code>logback-spring.xml</code>ï¼š</li>
</ul>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">include</span> <span class="attr">resource</span>=<span class="string">"org/springframework/boot/logging/logback/base.xml"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"LOGSTASH_HOST"</span> <span class="attr">value</span>=<span class="string">"$&#123;LOGSTASH_HOST:-$&#123;DOCKER_HOST:-192.168.37.128&#125;&#125;"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"LOGSTASH_PORT"</span> <span class="attr">value</span>=<span class="string">"$&#123;LOGSTASH_PORT:-5600&#125;"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">appender</span> <span class="attr">name</span>=<span class="string">"LOGSTASH"</span> <span class="attr">class</span>=<span class="string">"net.logstash.logback.appender.LogstashTcpSocketAppender"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">destination</span>&gt;</span>$&#123;LOGSTASH_HOST&#125;:$&#123;LOGSTASH_PORT&#125;<span class="tag">&lt;/<span class="name">destination</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">encoder</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span> <span class="attr">class</span>=<span class="string">"net.logstash.logback.encoder.LogstashEncoder"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">customFields</span>&gt;</span>&#123;"appname":"hello"&#125;<span class="tag">&lt;/<span class="name">customFields</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">encoder</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">appender</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">root</span> <span class="attr">level</span>=<span class="string">"INFO"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">appender-ref</span> <span class="attr">ref</span>=<span class="string">"LOGSTASH"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">appender-ref</span> <span class="attr">ref</span>=<span class="string">"CONSOLE"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">root</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure>



</li>
</ul>
</li>
</ol>
<ol start="9">
<li><p>åœ¨<code>elk</code>ç›®å½•ä¸‹è¿è¡Œä¸‹é¢çš„dockerå‘½ä»¤ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker run -it --name logstash -p 5600:5600 \</span><br><span class="line">-v "$PWD/logstash/conf":/usr/share/logstash/config \</span><br><span class="line">-v "$PWD/logstash/data":/usr/share/logstash/data \</span><br><span class="line">-v "$PWD/logstash/logs":/usr/share/logstash/logs \</span><br><span class="line">-v "$PWD/logstash/pipeline":/usr/share/logstash/pipeline \</span><br><span class="line">--link elasticsearch:elasticsearch -d logstash:7.6.2</span><br></pre></td></tr></table></figure>
</li>
<li><p>è‡³æ­¤<code>ELK</code>çš„ç¯å¢ƒå·²ç»æ­å»ºå®Œæˆï¼Œåªè¦åœ¨é¡¹ç›®ä¸­è®¿é—®æä¾›<code>ELK</code>æœåŠ¡ä¸»æœºçš„5600ç«¯å£å³å¯ï¼Œå¦‚æœæ²¡ä»€ä¹ˆé—®é¢˜ï¼Œåº”è¯¥åœ¨<code>ELK</code>ä¸»æœºä¸Šä½¿ç”¨<code>docker ps</code>å‘½ä»¤å³å¯çœ‹åˆ°ä¸‰ä¸ªdockerå®¹å™¨å·²ç»å¯åŠ¨äº†ï¼š</p>
<figure class="highlight properties"><table><tr><td class="code"><pre><span class="line"><span class="meta">[root@localhost</span> <span class="string">~]# docker ps </span></span><br><span class="line"><span class="attr">CONTAINER</span> <span class="string">ID        IMAGE                 COMMAND                  CREATED             STATUS              PORTS                                            NAMES</span></span><br><span class="line"><span class="attr">0b955f2b892a</span>        <span class="string">logstash:7.6.2        "/usr/local/bin/do..."   52 minutes ago      Up 40 minutes       5044/tcp, 9600/tcp, 0.0.0.0:5600-&gt;5600/tcp       logstash</span></span><br><span class="line"><span class="attr">c13e9a66500a</span>        <span class="string">kibana:7.6.2          "/usr/local/bin/du..."   About an hour ago   Up About an hour    0.0.0.0:5601-&gt;5601/tcp                           kibana</span></span><br><span class="line"><span class="attr">46f533f30381</span>        <span class="string">elasticsearch:7.6.2   "/usr/local/bin/do..."   About an hour ago   Up About an hour    0.0.0.0:9200-&gt;9200/tcp, 0.0.0.0:9300-&gt;9300/tcp   elasticsearch</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>docker-composer.yml</code>ï¼ˆå¾…éªŒè¯ï¼‰ï¼š</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">version:</span> <span class="string">'3'</span></span><br><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">elasticsearch:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">elasticsearch:7.6.2</span></span><br><span class="line">    <span class="attr">container_name:</span> <span class="string">elasticsearch</span></span><br><span class="line">    <span class="attr">environment:</span></span><br><span class="line">        <span class="comment"># è®¾ç½®é›†ç¾¤åç§°ä¸ºelasticsearch</span></span><br><span class="line">        <span class="attr">cluster:</span></span><br><span class="line">            <span class="string">name=elasticsearch</span></span><br><span class="line">        <span class="comment"># # ä»¥å•ä¸€èŠ‚ç‚¹æ¨¡å¼å¯åŠ¨</span></span><br><span class="line">        <span class="attr">discovery:</span></span><br><span class="line">            <span class="string">type=single-node</span></span><br><span class="line">        <span class="comment"># è®¾ç½®ä½¿ç”¨jvmå†…å­˜å¤§å°</span></span><br><span class="line">        <span class="attr">ES_JAVA_OPTS:</span> <span class="string">-Xms512m</span> <span class="string">-Xmx512m</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">        <span class="comment"># æ’ä»¶æ–‡ä»¶æŒ‚è½½</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">/d/usr/local/opt/elasticsearch/plugins:/usr/share/elasticsearch/plugins</span></span><br><span class="line">        <span class="comment"># æ•°æ®æ–‡ä»¶æŒ‚è½½</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">/d/usr/local/var/elasticsearch/data:/usr/share/elasticsearch/data</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">/d/usr/local/etc/elasticsearch/elasticsearch.yml:/usr/share/elasticsearch/config/elasticsearch.yml</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="number">9200</span><span class="string">:9200</span></span><br><span class="line">      <span class="bullet">-</span> <span class="number">9300</span><span class="string">:9300</span></span><br><span class="line">  <span class="attr">logstash:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">logstash:7.6.2</span></span><br><span class="line">    <span class="attr">container_name:</span> <span class="string">logstash</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">      <span class="comment"># æŒ‚è½½logstashçš„é…ç½®æ–‡ä»¶</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">/d/usr/local/etc/logstash/config/logstash.yml:/usr/share/logstash/config/logstash.yml</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">/d/usr/local/etc/logstash/pipeline/logstash.conf:/usr/share/logstash/pipeline/logstash.conf</span></span><br><span class="line">    <span class="attr">depends_on:</span></span><br><span class="line">        <span class="comment"># logstashåœ¨elasticsearchå¯åŠ¨ä¹‹åå†å¯åŠ¨</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">elasticsearch</span></span><br><span class="line">    <span class="attr">links:</span></span><br><span class="line">        <span class="comment"># å¯ä»¥ç”¨esè¿™ä¸ªåŸŸåè®¿é—®elasticsearchæœåŠ¡</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">elasticsearch:es</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="number">9600</span><span class="string">:9600</span></span><br><span class="line">        <span class="bullet">-</span> <span class="number">5044</span><span class="string">:5044</span></span><br><span class="line">  <span class="attr">kibana:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">kibana:7.6.2</span></span><br><span class="line">    <span class="attr">container_name:</span> <span class="string">kibana</span></span><br><span class="line">    <span class="attr">links:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">elasticsearch:es</span></span><br><span class="line">    <span class="attr">depends_on:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">elasticsearch</span></span><br><span class="line">    <span class="attr">environment:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">"elasticsearch.hosts=http://es:9200"</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="number">5601</span><span class="string">:5601</span></span><br></pre></td></tr></table></figure>

<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># elasticsearch.yml</span></span><br><span class="line"><span class="comment"># ä½¿å¤–ç½‘å¯è¿æ¥</span></span><br><span class="line"><span class="attr">network.host:</span> <span class="number">0.0</span><span class="number">.0</span><span class="number">.0</span></span><br><span class="line"><span class="comment"># èŠ‚ç‚¹åç§°</span></span><br><span class="line"><span class="attr">node.name:</span> <span class="string">"ZSX"</span></span><br><span class="line"><span class="attr">cluster.initial_master_nodes:</span> <span class="string">["ZSX"]</span></span><br></pre></td></tr></table></figure>



</li>
</ol>
<h2 id="SpringBootæ—¥å¿—é¡¹ç›®"><a href="#SpringBootæ—¥å¿—é¡¹ç›®" class="headerlink" title="SpringBootæ—¥å¿—é¡¹ç›®"></a>SpringBootæ—¥å¿—é¡¹ç›®</h2><ol>
<li><p>åˆ›å»ºä¸€ä¸ªSpringBooté¡¹ç›®ï¼Œç„¶ååœ¨ä¾èµ–ä¸­æ·»åŠ <code>logstash</code>ä¾èµ–ï¼ˆpom.xmlï¼‰ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>net.logstash.logback<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>logstash-logback-encoder<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>åœ¨<code>resources</code>ç›®å½•ä¸‹æ·»åŠ <code>logback-spring.xml</code>æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">include</span> <span class="attr">resource</span>=<span class="string">"org/springframework/boot/logging/logback/base.xml"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"LOGSTASH_HOST"</span> <span class="attr">value</span>=<span class="string">"$&#123;LOGSTASH_HOST:-$&#123;DOCKER_HOST:-192.168.37.128&#125;&#125;"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"LOGSTASH_PORT"</span> <span class="attr">value</span>=<span class="string">"$&#123;LOGSTASH_PORT:-5600&#125;"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">appender</span> <span class="attr">name</span>=<span class="string">"LOGSTASH"</span> <span class="attr">class</span>=<span class="string">"net.logstash.logback.appender.LogstashTcpSocketAppender"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">destination</span>&gt;</span>$&#123;LOGSTASH_HOST&#125;:$&#123;LOGSTASH_PORT&#125;<span class="tag">&lt;/<span class="name">destination</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">encoder</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span> <span class="attr">class</span>=<span class="string">"net.logstash.logback.encoder.LogstashEncoder"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">appender</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">root</span> <span class="attr">level</span>=<span class="string">"INFO"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">appender-ref</span> <span class="attr">ref</span>=<span class="string">"LOGSTASH"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">appender-ref</span> <span class="attr">ref</span>=<span class="string">"CONSOLE"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">root</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>æ³¨æ„<code>LOGSTASH_HOST</code>ã€<code>LOGSTASH_PORT</code>è¦å’Œæä¾›ELKçš„IPå’Œç«¯å£ä¸€è‡´</li>
</ul>
</li>
<li><p>é…ç½®æ–‡ä»¶ä¸­æ·»åŠ ï¼š</p>
<figure class="highlight properties"><table><tr><td class="code"><pre><span class="line"><span class="meta">logging.config</span>=<span class="string">classpath:logback-spring.xml</span></span><br></pre></td></tr></table></figure>



</li>
</ol>
<ol start="4">
<li><p>åˆ›å»ºä¸€ä¸ªæ§åˆ¶å™¨ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@Slf</span>4j</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">controller</span> </span>&#123;</span><br><span class="line">    <span class="meta">@GetMapping</span>(<span class="string">"/"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Map&lt;String,Object&gt; <span class="title">hello</span><span class="params">()</span></span>&#123;</span><br><span class="line">        Map&lt;String,Object&gt; res=<span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        res.put(<span class="string">"hello"</span>,<span class="string">"world"</span>);</span><br><span class="line">        log.info(<span class="string">"hello"</span>);</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>å¯åŠ¨é¡¹ç›®ï¼Œç„¶ååœ¨<code>Kibana</code>ä¸­å°±ä¼šæœ‰ç›¸åº”çš„<code>index</code>ï¼Œç„¶åæ·»åŠ <code>index</code>çš„æ£€ç´¢å°±å¯ä»¥äº†ï¼Œè‡³æ­¤SpringBootæ—¥å¿—ä½¿ç”¨ELKæ£€ç´¢ä»¥å®Œæˆï¼<code>Kibana</code>ä¸­ä¸€æ¡æ—¥å¿—çš„<code>JSON</code>æ ¼å¼å¦‚ä¸‹ï¼š</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"_index"</span>: <span class="string">"logstash-file-test-2020.10.02"</span>,</span><br><span class="line">  <span class="attr">"_type"</span>: <span class="string">"_doc"</span>,</span><br><span class="line">  <span class="attr">"_id"</span>: <span class="string">"JfAF63QBTKzFrbF7CZbO"</span>,</span><br><span class="line">  <span class="attr">"_version"</span>: <span class="number">1</span>,</span><br><span class="line">  <span class="attr">"_score"</span>: <span class="literal">null</span>,</span><br><span class="line">  <span class="attr">"_source"</span>: &#123;</span><br><span class="line">    <span class="attr">"level"</span>: <span class="string">"INFO"</span>,</span><br><span class="line">    <span class="attr">"level_value"</span>: <span class="number">20000</span>,</span><br><span class="line">    <span class="attr">"message"</span>: <span class="string">"hello"</span>,</span><br><span class="line">    <span class="attr">"logger_name"</span>: <span class="string">"com.example.demo.controller"</span>,</span><br><span class="line">    <span class="attr">"thread_name"</span>: <span class="string">"http-nio-8080-exec-5"</span>,</span><br><span class="line">    <span class="attr">"@version"</span>: <span class="string">"1"</span>,</span><br><span class="line">    <span class="attr">"type"</span>: <span class="string">"tcplog"</span>,</span><br><span class="line">    <span class="attr">"host"</span>: <span class="string">"192.168.37.1"</span>,</span><br><span class="line">    <span class="attr">"@timestamp"</span>: <span class="string">"2020-10-02T12:35:17.081Z"</span>,</span><br><span class="line">    <span class="attr">"port"</span>: <span class="number">1618</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"fields"</span>: &#123;</span><br><span class="line">    <span class="attr">"@timestamp"</span>: [</span><br><span class="line">      <span class="string">"2020-10-02T12:35:17.081Z"</span></span><br><span class="line">    ]</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"sort"</span>: [</span><br><span class="line">    <span class="number">1601642117081</span></span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



</li>
</ol>
<hr>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>ELKçš„åŠŸèƒ½è¿œä¸æ­¢äºæ­¤ï¼Œè¿™é‡Œå…ˆå­¦ä¹ åœ¨SpringBooté¡¹ç›®ä¸­å¼•ç”¨ELKè¿›è¡Œæ—¥å¿—è®°å½•ï¼Œåœ¨ç”Ÿäº§ç¯å¢ƒå‡ºç°é—®é¢˜çš„è¯å°±å¯ä»¥å¿«é€Ÿå®šä½é—®é¢˜æ‰€åœ¨ï¼Œåœ¨å·¥ä½œä¸­å¯ä»¥ä½œä¸ºå¿«é€Ÿæ¥å…¥æŒ‡å—è¿›è¡Œä½¿ç”¨ã€‚åç»­è¿˜å¯ä»¥ä½¿ç”¨ELKè¿›è¡Œæœç´¢å¼•æ“ä¸ºé¡¹ç›®æä¾›æœç´¢æœåŠ¡ï¼</p>
]]></content>
      <categories>
        <category>SpringBoot</category>
      </categories>
  </entry>
  <entry>
    <title>SpringBoot Serializer&amp;Deserializer Quick Start</title>
    <url>/2020/10/06/SpringBoot-Serializer-Deserializer-Quick-Start/</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>åºåˆ—åŒ–å’Œååºåˆ—åŒ–æ˜¯ç¼–ç¨‹è¯­è¨€ä¸­çš„ä¸€ä¸ªæ¦‚å¿µï¼Œåœ¨Javaé‡Œæ˜¯ä¸€ä¸ªè¾ƒä¸ºåŸºç¡€çš„çŸ¥è¯†ç‚¹ï¼Œä½†æ˜¯ä»€ä¹ˆæ˜¯åºåˆ—åŒ–å’Œååºåˆ—åŒ–ï¼Œæœ‰ä»€ä¹ˆä½œç”¨ï¼Œåº•å±‚å®ç°åŸç†æ˜¯ä»€ä¹ˆï¼Œä¸€è¿é—®ä¹‹åå¯èƒ½æ•´ä¸ªäººä¼šè’™ã€‚è¿™é‡Œä¸»è¦è®°å½•Javaåºåˆ—åŒ–ã€ååºåˆ—åŒ–çš„æ¦‚å¿µä»¥åŠå¦‚ä½•è¿›è¡Œåºåˆ—åŒ–å’Œååºåˆ—åŒ–ï¼ŒåŒ…æ‹¬åœ¨è¿™å½“ä¸­ç”¨åˆ°çš„å·¥å…·åŒ…ç­‰ã€‚</p>
<hr>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="åŸºç¡€çŸ¥è¯†"><a href="#åŸºç¡€çŸ¥è¯†" class="headerlink" title="åŸºç¡€çŸ¥è¯†"></a>åŸºç¡€çŸ¥è¯†</h2><ol>
<li><code>Java (Serializer)åºåˆ—åŒ–</code>æ˜¯æŒ‡æŠŠJavaå¯¹è±¡è½¬æ¢ä¸ºå­—èŠ‚åºåˆ—çš„è¿‡ç¨‹ï¼Œè€Œ<code>Java (Deserializer )ååºåˆ—åŒ–</code>æ˜¯æŒ‡æŠŠå­—èŠ‚åºåˆ—æ¢å¤ä¸ºJavaå¯¹è±¡çš„è¿‡ç¨‹ã€‚</li>
<li>ä¸»è¦åŠŸèƒ½ï¼šå¯¹è±¡åºåˆ—åŒ–æœ€ä¸»è¦çš„ç”¨å¤„å°±æ˜¯åœ¨ä¼ é€’å’Œä¿å­˜å¯¹è±¡çš„æ—¶å€™ï¼Œä¿è¯å¯¹è±¡çš„å®Œæ•´æ€§å’Œå¯ä¼ é€’æ€§ï¼›å¯¹è±¡ååºåˆ—åŒ–åˆ™ç”¨äºé‡å»ºå¯¹è±¡ã€‚</li>
<li>æœ¬è´¨ï¼šåºåˆ—åŒ–å°±æ˜¯æŠŠå®ä½“å¯¹è±¡çŠ¶æ€æŒ‰ç…§ä¸€å®šçš„æ ¼å¼å†™å…¥åˆ°æœ‰åºå­—èŠ‚æµï¼Œååºåˆ—åŒ–å°±æ˜¯ä»æœ‰åºå­—èŠ‚æµé‡å»ºå¯¹è±¡ï¼Œæ¢å¤å¯¹è±¡çŠ¶æ€ã€‚</li>
<li>ç”¨å¤„ï¼š<ul>
<li>å®ç°äº†æ•°æ®æŒä¹…åŒ–</li>
<li>åˆ©ç”¨åºåˆ—åŒ–å®ç°è¿œç¨‹é€šä¿¡</li>
<li>åˆ©ç”¨åºåˆ—åŒ–åœ¨è¿›ç¨‹é—´ä¼ é€’å¯¹è±¡</li>
</ul>
</li>
<li>åºåˆ—åŒ–ä»¥åŠååºåˆ—åŒ–å¿…é¡»ä¿è¯å­—èŠ‚æµä¸­æ‰€ä¿å­˜çš„å¯¹è±¡çŠ¶æ€åŠæè¿°ä¿¡æ¯å®Œæ•´ï¼</li>
<li>Javaä¸­æä¾›äº†å¯¹è±¡çš„åºåˆ—åŒ–ä¸ååºåˆ—åŒ–ï¼Œä½†æ˜¯ç›®å‰å¸¸ç”¨çš„æ•°æ®ä¼ è¾“æ ¼å¼ä¸»è¦æœ‰<code>xml</code>ã€<code>json</code>ï¼Œåœ¨åç«¯å¼€å‘ä¸­ä¸€èˆ¬ä½¿ç”¨<code>json</code>è¿›è¡Œæ¥å£æ•°æ®ä¼ è¾“ï¼Œå› æ­¤åœ¨æœ¬æ–‡ä¸­ä¸»è¦æ¶‰åŠåˆ°åºåˆ—åŒ–ä¹‹åçš„å†…å®¹å‘ˆç°ä¸º<code>json</code>æ ¼å¼ã€‚</li>
<li>å¯¹äºé‡‡ç”¨å®ç°åŸç”ŸJava APIçš„åºåˆ—åŒ–æ¥å£<code>Serializable</code>çš„æ–¹å¼ï¼š<strong>ä¸ºäº†æé«˜serialVersionUIDçš„ç‹¬ç«‹æ€§å’Œç¡®å®šæ€§ï¼Œå¼ºçƒˆå»ºè®®åœ¨ä¸€ä¸ªå¯åºåˆ—åŒ–ç±»ä¸­æ˜¾ç¤ºçš„å®šä¹‰serialVersionUIDï¼Œä¸ºå®ƒèµ‹äºˆæ˜ç¡®çš„å€¼ã€‚</strong></li>
<li><code>json</code>æ ¼å¼è§„èŒƒï¼š<ul>
<li>è‹±æ–‡ç‰ˆï¼š<a href="https://google.github.io/styleguide/jsoncstyleguide.xml" target="_blank" rel="noopener">https://google.github.io/styleguide/jsoncstyleguide.xml</a></li>
<li>ä¸­æ–‡ç‰ˆï¼š<a href="https://github.com/darcyliu/google-styleguide/blob/master/JSONStyleGuide.md" target="_blank" rel="noopener">https://github.com/darcyliu/google-styleguide/blob/master/JSONStyleGuide.md</a></li>
<li><code>json API</code>æ ¼å¼è§„èŒƒï¼š<a href="http://jsonapi.org.cn/format/" target="_blank" rel="noopener">http://jsonapi.org.cn/format/</a></li>
</ul>
</li>
<li>å‡ ä¸ªå¸¸ç”¨çš„jsonç±»åº“ï¼š<ul>
<li>Gson: è°·æ­Œå¼€å‘çš„<code>json</code>åº“ï¼ŒåŠŸèƒ½ååˆ†å…¨é¢</li>
<li>FastJson: é˜¿é‡Œå·´å·´å¼€å‘çš„ <code>json</code>åº“ï¼Œæ€§èƒ½ååˆ†ä¼˜ç§€</li>
<li>Jackson: ç¤¾åŒºååˆ†æ´»è·ƒä¸”æ›´æ–°é€Ÿåº¦å¾ˆå¿«</li>
</ul>
</li>
<li><code>Gson</code>ã€<code>FastJson</code>ã€<code>Jackson</code>è¦æ±‚åºåˆ—åŒ–/ååºåˆ—åŒ–çš„æ˜¯æ ‡å‡†çš„ç±»ï¼Œå¦åˆ™æ— æ³•è§£æï¼Œå› ä¸ºéƒ½ç”¨åˆ°äº†åå°„ï¼</li>
</ol>
<h2 id="JSONçš„ä¸€äº›ç»éªŒ"><a href="#JSONçš„ä¸€äº›ç»éªŒ" class="headerlink" title="JSONçš„ä¸€äº›ç»éªŒ"></a>JSONçš„ä¸€äº›ç»éªŒ</h2><ol>
<li>éµå¾ªJava Beansè§„èŒƒä¸JSONè§„èŒƒï¼Œèƒ½å‡å°‘å¤§éƒ¨åˆ†çš„é—®é¢˜ã€‚</li>
<li>ä½¿ç”¨æ­£å¸¸çš„keyï¼Œå°½é‡ä¸è¦ä½¿ç”¨æ•°å­—ç­‰å­—ç¬¦å¼€å¤´çš„keyï¼Œå°½é‡ä½¿ç”¨ç¬¦åˆJavaçš„classæˆ–propertyå‘½åè§„èŒƒçš„keyï¼Œè¿™æ ·ä¼šå‡å°‘ä¸å¿…è¦çš„å†²çªã€‚</li>
<li>å…³äºæ—¥æœŸå¤„ç†å°½é‡ä½¿ç”¨æ ‡å‡†çš„æ—¥æœŸæ ¼å¼ï¼Œæˆ–è€…åºåˆ—åŒ–å’Œååºåˆ—åŒ–é‡Œéƒ½æ˜¯ç”¨åŒæ ·çš„datePatternæ ¼å¼ã€‚</li>
<li>å¦‚æœJSONObjectä¸æ­£å¸¸çš„POJOæ··ç”¨ï¼Œå‡ºç°é—®é¢˜çš„æ¦‚ç‡è¾ƒé«˜ã€‚</li>
<li>å°½é‡ä¸è¦åœ¨ä½¿ç”¨è¿‡å¤šçš„å±‚æ¬¡åµŒå¥—çš„åŒæ—¶ä½¿ç”¨æ³›å‹ï¼ˆListã€Mapç­‰ï¼‰ï¼Œå¯èƒ½å¯¼è‡´ç±»å‹ä¸¢å¤±ï¼Œè€Œä¸”é—®é¢˜æ¯”è¾ƒéš¾æŸ¥ã€‚</li>
<li>å°½é‡ä¸è¦åœ¨åŒä¸€ä¸ªBeançš„å±‚æ¬¡ç»“æ„é‡Œä½¿ç”¨å¤šä¸ªå­ç±»å‹å¯¹è±¡ï¼Œå¯èƒ½å¯¼è‡´ç±»å‹ä¸¢å¤±ï¼Œè€Œä¸”é—®é¢˜æ¯”è¾ƒéš¾æŸ¥ã€‚</li>
<li>å°½é‡é¿å…å¾ªç¯å¼•ç”¨ï¼Œè¿™ä¸ªè™½ç„¶å¯ä»¥é€šè¿‡åºåˆ—åŒ–ç‰¹æ€§ç¦æ‰ï¼Œä½†æ˜¯å¦‚æœèƒ½é¿å…åˆ™é¿å…ã€‚</li>
<li>æ³¨æ„ç¼–ç å’Œä¸å¯è§å­—ç¬¦ï¼</li>
</ol>
<h2 id="FastjsonåŸºç¡€"><a href="#FastjsonåŸºç¡€" class="headerlink" title="FastjsonåŸºç¡€"></a>FastjsonåŸºç¡€</h2><ol>
<li><p><code>fastjson</code>æ˜¯ä¸€ä¸ªé˜¿é‡Œå¼€æºçš„åŸºäº<code>Java</code>è¯­è¨€ç¼–å†™çš„é«˜æ€§èƒ½åŠŸèƒ½å®Œå–„çš„jsonåº“ï¼Œéå¸¸é€‚åˆç”¨äº<code>Java</code>çš„åºåˆ—åŒ–ä»¥åŠååºåˆ—åŒ–ã€‚å¦‚æœé¡¹ç›®ä¸­ä½¿ç”¨mavenç®¡ç†ä¾èµ–çš„è¯ï¼Œåªéœ€åœ¨<code>pom</code>ä¸­æ·»åŠ å¦‚ä¸‹å†…å®¹ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.alibaba<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>fastjson<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2.73<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>fastjson</code>æºç åœ°å€ï¼š<a href="https://github.com/alibaba/fastjson" target="_blank" rel="noopener">https://github.com/alibaba/fastjson</a></p>
</li>
<li><p><code>fastjson</code>å¿«é€Ÿä½¿ç”¨ä»¥åŠ<a href="https://github.com/alibaba/fastjson/wiki/FastJson-æ–‡æ¡£é“¾æ¥" target="_blank" rel="noopener">æ–‡æ¡£é“¾æ¥</a></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">String text = JSON.toJSONString(obj); <span class="comment">//åºåˆ—åŒ–</span></span><br><span class="line">VO vo = JSON.parseObject(<span class="string">"&#123;...&#125;"</span>, VO<span class="class">.<span class="keyword">class</span>)</span>; <span class="comment">//ååºåˆ—åŒ–</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>fastjson</code>åºåˆ—åŒ–APIï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.alibaba.fastjson;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">JSON</span> </span>&#123;</span><br><span class="line">    <span class="comment">// å°†Javaå¯¹è±¡åºåˆ—åŒ–ä¸ºJSONå­—ç¬¦ä¸²ï¼Œæ”¯æŒå„ç§å„ç§JavaåŸºæœ¬ç±»å‹å’ŒJavaBean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">toJSONString</span><span class="params">(Object object, SerializerFeature... features)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å°†Javaå¯¹è±¡åºåˆ—åŒ–ä¸ºJSONå­—ç¬¦ä¸²ï¼Œè¿”å›JSONå­—ç¬¦ä¸²çš„utf-8 bytes</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">byte</span>[] toJSONBytes(Object object, SerializerFeature... features);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å°†Javaå¯¹è±¡åºåˆ—åŒ–ä¸ºJSONå­—ç¬¦ä¸²ï¼Œå†™å…¥åˆ°Writerä¸­</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">writeJSONString</span><span class="params">(Writer writer, </span></span></span><br><span class="line"><span class="function"><span class="params">                                       Object object, </span></span></span><br><span class="line"><span class="function"><span class="params">                                       SerializerFeature... features)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å°†Javaå¯¹è±¡åºåˆ—åŒ–ä¸ºJSONå­—ç¬¦ä¸²ï¼ŒæŒ‰UTF-8ç¼–ç å†™å…¥åˆ°OutputStreamä¸­</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> <span class="title">writeJSONString</span><span class="params">(OutputStream os, // </span></span></span><br><span class="line"><span class="function"><span class="params">                                            Object object, // </span></span></span><br><span class="line"><span class="function"><span class="params">                                            SerializerFeature... features)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>fastjson</code>ååºåˆ—åŒ–APIï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.alibaba.fastjson;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">JSON</span> </span>&#123;</span><br><span class="line">    <span class="comment">// å°†JSONå­—ç¬¦ä¸²ååºåˆ—åŒ–ä¸ºJavaBean</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; <span class="function">T <span class="title">parseObject</span><span class="params">(String jsonStr, </span></span></span><br><span class="line"><span class="function"><span class="params">                                    Class&lt;T&gt; clazz, </span></span></span><br><span class="line"><span class="function"><span class="params">                                    Feature... features)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å°†JSONå­—ç¬¦ä¸²ååºåˆ—åŒ–ä¸ºJavaBean</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; <span class="function">T <span class="title">parseObject</span><span class="params">(<span class="keyword">byte</span>[] jsonBytes,  // UTF<span class="number">-8</span>æ ¼å¼çš„JSONå­—ç¬¦ä¸²</span></span></span><br><span class="line"><span class="function"><span class="params">                                    Class&lt;T&gt; clazz, </span></span></span><br><span class="line"><span class="function"><span class="params">                                    Feature... features)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å°†JSONå­—ç¬¦ä¸²ååºåˆ—åŒ–ä¸ºæ³›å‹ç±»å‹çš„JavaBean</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; <span class="function">T <span class="title">parseObject</span><span class="params">(String text, </span></span></span><br><span class="line"><span class="function"><span class="params">                                    TypeReference&lt;T&gt; type, </span></span></span><br><span class="line"><span class="function"><span class="params">                                    Feature... features)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å°†JSONå­—ç¬¦ä¸²ååºåˆ—ä¸ºJSONObject</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> JSONObject <span class="title">parseObject</span><span class="params">(String text)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>fastjson</code>æ”¯æŒçš„æ—¶é—´æ ¼å¼ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">static</span> String            defaultPatttern    = <span class="string">"yyyy-MM-dd HH:mm:ss"</span>;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">static</span> DateTimeFormatter defaultFormatter   = DateTimeFormatter.ofPattern(defaultPatttern);</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">static</span> DateTimeFormatter formatter_dt19_tw  = DateTimeFormatter.ofPattern(<span class="string">"yyyy/MM/dd HH:mm:ss"</span>);</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">static</span> DateTimeFormatter formatter_dt19_cn  = DateTimeFormatter.ofPattern(<span class="string">"yyyyå¹´Mæœˆdæ—¥ HH:mm:ss"</span>);</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">static</span> DateTimeFormatter formatter_dt19_cn_1  = DateTimeFormatter.ofPattern(<span class="string">"yyyyå¹´Mæœˆdæ—¥ Hæ—¶måˆ†sç§’"</span>);</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">static</span> DateTimeFormatter formatter_dt19_kr  = DateTimeFormatter.ofPattern(<span class="string">"yyyyë…„Mì›”dì¼ HH:mm:ss"</span>);</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">static</span> DateTimeFormatter formatter_dt19_us  = DateTimeFormatter.ofPattern(<span class="string">"MM/dd/yyyy HH:mm:ss"</span>);</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">static</span> DateTimeFormatter formatter_dt19_eur = DateTimeFormatter.ofPattern(<span class="string">"dd/MM/yyyy HH:mm:ss"</span>);</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">static</span> DateTimeFormatter formatter_dt19_de  = DateTimeFormatter.ofPattern(<span class="string">"dd.MM.yyyy HH:mm:ss"</span>);</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">static</span> DateTimeFormatter formatter_dt19_in  = DateTimeFormatter.ofPattern(<span class="string">"dd-MM-yyyy HH:mm:ss"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">static</span> DateTimeFormatter formatter_d8       = DateTimeFormatter.ofPattern(<span class="string">"yyyyMMdd"</span>);</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">static</span> DateTimeFormatter formatter_d10_tw   = DateTimeFormatter.ofPattern(<span class="string">"yyyy/MM/dd"</span>);</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">static</span> DateTimeFormatter formatter_d10_cn   = DateTimeFormatter.ofPattern(<span class="string">"yyyyå¹´Mæœˆdæ—¥"</span>);</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">static</span> DateTimeFormatter formatter_d10_kr   = DateTimeFormatter.ofPattern(<span class="string">"yyyyë…„Mì›”dì¼"</span>);</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">static</span> DateTimeFormatter formatter_d10_us   = DateTimeFormatter.ofPattern(<span class="string">"MM/dd/yyyy"</span>);</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">static</span> DateTimeFormatter formatter_d10_eur  = DateTimeFormatter.ofPattern(<span class="string">"dd/MM/yyyy"</span>);</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">static</span> DateTimeFormatter formatter_d10_de   = DateTimeFormatter.ofPattern(<span class="string">"dd.MM.yyyy"</span>);</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">static</span> DateTimeFormatter formatter_d10_in   = DateTimeFormatter.ofPattern(<span class="string">"dd-MM-yyyy"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">static</span> DateTimeFormatter ISO_FIXED_FORMAT =</span><br><span class="line">        DateTimeFormatter.ofPattern(<span class="string">"yyyy-MM-dd HH:mm:ss"</span>).withZone(ZoneId.systemDefault());</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">static</span> String formatter_iso8601_pattern     = <span class="string">"yyyy-MM-dd'T'HH:mm:ss"</span>;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">static</span> DateTimeFormatter formatter_iso8601  = DateTimeFormatter.ofPattern(formatter_iso8601_pattern);</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>fastjson</code>ç›®å‰æ²¡æœ‰åºŸå¼ƒçš„SerializerFeatureä»‹ç»ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">QuoteFieldNames <span class="comment">// keyä½¿ç”¨å¼•å·</span></span><br><span class="line">UseSingleQuotes <span class="comment">// ä½¿ç”¨å•å¼•å·</span></span><br><span class="line">WriteMapNullValue <span class="comment">// è¾“å‡ºMapçš„nullå€¼</span></span><br><span class="line">WriteEnumUsingToString <span class="comment">// æšä¸¾å±æ€§è¾“å‡ºtoStringçš„ç»“æœ</span></span><br><span class="line">WriteEnumUsingName <span class="comment">// æšä¸¾æ•°æ®è¾“å‡ºname</span></span><br><span class="line">UseISO8601DateFormat <span class="comment">// ä½¿ç”¨æ—¥æœŸæ ¼å¼</span></span><br><span class="line">WriteNullListAsEmpty <span class="comment">// Listä¸ºç©ºåˆ™è¾“å‡º[]</span></span><br><span class="line">WriteNullStringAsEmpty <span class="comment">// Stringä¸ºç©ºåˆ™è¾“å‡º""</span></span><br><span class="line">WriteNullNumberAsZero <span class="comment">// Numberç±»å‹ä¸ºç©ºåˆ™è¾“å‡º0</span></span><br><span class="line">WriteNullBooleanAsFalse <span class="comment">// Booleanç±»å‹ä¸ºç©ºåˆ™è¾“å‡ºfalse</span></span><br><span class="line">SkipTransientField <span class="comment">// å¿½ç•¥ä½¿ç”¨äº†transientå…³é”®å­—çš„å†…å®¹</span></span><br><span class="line">SortField <span class="comment">// æ’åºå­—æ®µ</span></span><br></pre></td></tr></table></figure>

<ul>
<li>æ”¯æŒå¤šä¸ªSerializerFeatureåŒæ—¶ä½œç”¨</li>
</ul>
</li>
</ol>
<h2 id="GsonåŸºç¡€"><a href="#GsonåŸºç¡€" class="headerlink" title="GsonåŸºç¡€"></a>GsonåŸºç¡€</h2><ol>
<li><p>æºç åœ°å€ï¼š<a href="https://github.com/google/gson" target="_blank" rel="noopener">https://github.com/google/gson</a></p>
</li>
<li><p>å¦‚æœé¡¹ç›®ä¸­ä½¿ç”¨mavenç®¡ç†ä¾èµ–çš„è¯ï¼Œåªéœ€åœ¨<code>pom</code>ä¸­æ·»åŠ å¦‚ä¸‹å†…å®¹ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.google.code.gson<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>gson<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.8.6<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>Gson</code>åºåˆ—åŒ–ã€ååºåˆ—åŒ–ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Gson gson = <span class="keyword">new</span> Gson();</span><br><span class="line">String jsonStr = gson.toJson(beanObject); <span class="comment">// åºåˆ—åŒ–</span></span><br><span class="line">BeanType bean = gson.fromJson(jsonData, BeanType<span class="class">.<span class="keyword">class</span>)</span>; <span class="comment">// ååºåˆ—åŒ–</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>Gson</code>ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">GSONTest</span> </span>&#123;</span><br><span class="line">    <span class="comment">//è§£æ</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test1</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">// å¯¹è±¡åµŒå¥—æ•°ç»„åµŒå¥—å¯¹è±¡</span></span><br><span class="line">        String json1 = <span class="string">"&#123;'id':1,'name':'JAVAEE-1703','stus':[&#123;'id':101,'name':'åˆ˜ä¸€','age':16&#125;]&#125;"</span>;</span><br><span class="line">        <span class="comment">// æ•°ç»„</span></span><br><span class="line">        String json2 = <span class="string">"['åŒ—äº¬','å¤©æ´¥','æ­å·']"</span>;</span><br><span class="line"></span><br><span class="line">        Gson gson=<span class="keyword">new</span> Gson();</span><br><span class="line">        <span class="comment">//1ã€</span></span><br><span class="line">        <span class="comment">//è§£æå¯¹è±¡ï¼šç¬¬ä¸€ä¸ªå‚æ•°ï¼šå¾…è§£æçš„å­—ç¬¦ä¸² ç¬¬äºŒä¸ªå‚æ•°ç»“æœæ•°æ®ç±»å‹çš„Classå¯¹è±¡</span></span><br><span class="line">        Grade grade=gson.fromJson(json1, Grade<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">        System.out.println(grade);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//2ã€</span></span><br><span class="line">        <span class="comment">//è§£ææ•°ç»„è¦æ±‚ä½¿ç”¨Type</span></span><br><span class="line">        ArrayList&lt;String&gt; list=gson.fromJson(json2, </span><br><span class="line">                <span class="keyword">new</span> TypeToken&lt;ArrayList&lt;String&gt;&gt;()&#123;&#125;.getType());</span><br><span class="line">        System.out.println(list);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//ç”Ÿæˆ</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test2</span><span class="params">()</span></span>&#123;</span><br><span class="line">        ArrayList&lt;Student&gt; list=<span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;<span class="number">3</span>;i++)&#123;</span><br><span class="line">            list.add(<span class="keyword">new</span> Student(<span class="number">101</span>+i, <span class="string">"ç å­"</span>, <span class="number">20</span>+i));</span><br><span class="line">        &#125;</span><br><span class="line">        Grade grade=<span class="keyword">new</span> Grade(<span class="number">100001</span>,<span class="string">"å¼ ä¸‰"</span>, list);</span><br><span class="line">        Gson gson=<span class="keyword">new</span> Gson();</span><br><span class="line">        <span class="comment">//å°†å¯¹è±¡è½¬æ¢ä¸ºè¯¶JSONæ ¼å¼å­—ç¬¦ä¸²</span></span><br><span class="line">        String json=gson.toJson(grade);</span><br><span class="line">        System.out.println(json);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h2 id="JacksonåŸºç¡€"><a href="#JacksonåŸºç¡€" class="headerlink" title="JacksonåŸºç¡€"></a>JacksonåŸºç¡€</h2><ol>
<li><p>æºç åœ°å€ï¼š<a href="https://github.com/FasterXML/jackson-databind" target="_blank" rel="noopener">https://github.com/FasterXML/jackson-databind</a></p>
</li>
<li><p>å¦‚æœé¡¹ç›®ä¸­ä½¿ç”¨mavenç®¡ç†ä¾èµ–çš„è¯ï¼Œåªéœ€åœ¨<code>pom</code>ä¸­æ·»åŠ å¦‚ä¸‹å†…å®¹ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.fasterxml.jackson.core<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jackson-databind<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.10.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>Jackson</code>ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">JackSonTest</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//è§£æ</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test1</span><span class="params">()</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">        <span class="comment">// å¯¹è±¡åµŒå¥—æ•°ç»„åµŒå¥—å¯¹è±¡</span></span><br><span class="line">        String json1 = <span class="string">"&#123;\"id\":1,\"name\":\"JAVAEE-1703\",\"stus\":[&#123;\"id\":101,\"name\":\"åˆ˜ä¸€\",\"age\":16&#125;]&#125;"</span>;</span><br><span class="line">        <span class="comment">// æ•°ç»„</span></span><br><span class="line">        String json2 = <span class="string">"[\"åŒ—äº¬\",\"å¤©æ´¥\",\"æ­å·\"]"</span>;</span><br><span class="line">        <span class="comment">//1ã€</span></span><br><span class="line">        ObjectMapper mapper=<span class="keyword">new</span> ObjectMapper();</span><br><span class="line">        Grade grade=mapper.readValue(json1, Grade<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">        System.out.println(grade);</span><br><span class="line">        <span class="comment">//2ã€</span></span><br><span class="line">        ArrayList&lt;String&gt; list=mapper.readValue(json2, </span><br><span class="line">                <span class="keyword">new</span> TypeReference&lt;ArrayList&lt;String&gt;&gt;() &#123;</span><br><span class="line">        &#125;);</span><br><span class="line">        System.out.println(list);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//ç”Ÿæˆ</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test2</span><span class="params">()</span> <span class="keyword">throws</span> JsonProcessingException</span>&#123;</span><br><span class="line">        ArrayList&lt;Student&gt; list=<span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;<span class="number">3</span>;i++)&#123;</span><br><span class="line">            list.add(<span class="keyword">new</span> Student(<span class="number">101</span>+i, <span class="string">"ç å­"</span>, <span class="number">20</span>+i));</span><br><span class="line">        &#125;</span><br><span class="line">        Grade grade=<span class="keyword">new</span> Grade(<span class="number">100001</span>,<span class="string">"å¼ ä¸‰"</span>, list);</span><br><span class="line">        ObjectMapper mapper=<span class="keyword">new</span> ObjectMapper();</span><br><span class="line">        <span class="comment">//å°†å¯¹è±¡è½¬æ¢ä¸ºJSONæ ¼å¼å­—ç¬¦ä¸²</span></span><br><span class="line">        String json=mapper.writeValueAsString(grade);</span><br><span class="line">        System.out.println(json);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<hr>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>åºåˆ—åŒ–è¿™éƒ¨åˆ†ä¸»è¦æ˜¯çœ‹å®˜æ–¹æ–‡æ¡£ä»¥åŠä¸€äº›æ¯”è¾ƒæœ‰ä»·å€¼çš„åšå®¢ï¼Œç¤ºä¾‹ä»£ç éƒ½ä¸å¤ªæƒ³å†™äº†ï¼Œå†™è§„èŒƒçš„<code>json</code>æ˜¯è¦éµå®ˆè§„åˆ™çš„ï¼Œå¦åˆ™ä¼šå‡ºç°é—®é¢˜ï¼</p>
]]></content>
      <categories>
        <category>SpringBoot</category>
      </categories>
  </entry>
</search>
